function dA(U,K){for(var ge=0;ge<K.length;ge++){const Re=K[ge];if(typeof Re!="string"&&!Array.isArray(Re)){for(const Ze in Re)if(Ze!=="default"&&!(Ze in U)){const st=Object.getOwnPropertyDescriptor(Re,Ze);st&&Object.defineProperty(U,Ze,st.get?st:{enumerable:!0,get:()=>Re[Ze]})}}}return Object.freeze(Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}))}(function(){const K=document.createElement("link").relList;if(K&&K.supports&&K.supports("modulepreload"))return;for(const Ze of document.querySelectorAll('link[rel="modulepreload"]'))Re(Ze);new MutationObserver(Ze=>{for(const st of Ze)if(st.type==="childList")for(const G of st.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&Re(G)}).observe(document,{childList:!0,subtree:!0});function ge(Ze){const st={};return Ze.integrity&&(st.integrity=Ze.integrity),Ze.referrerPolicy&&(st.referrerPolicy=Ze.referrerPolicy),Ze.crossOrigin==="use-credentials"?st.credentials="include":Ze.crossOrigin==="anonymous"?st.credentials="omit":st.credentials="same-origin",st}function Re(Ze){if(Ze.ep)return;Ze.ep=!0;const st=ge(Ze);fetch(Ze.href,st)}})();function N2(U){return U&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U}var U2={exports:{}},Y0={},H2={exports:{}},di={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=Symbol.for("react.element"),pA=Symbol.for("react.portal"),gA=Symbol.for("react.fragment"),yA=Symbol.for("react.strict_mode"),mA=Symbol.for("react.profiler"),xA=Symbol.for("react.provider"),bA=Symbol.for("react.context"),wA=Symbol.for("react.forward_ref"),TA=Symbol.for("react.suspense"),AA=Symbol.for("react.memo"),MA=Symbol.for("react.lazy"),bx=Symbol.iterator;function SA(U){return U===null||typeof U!="object"?null:(U=bx&&U[bx]||U["@@iterator"],typeof U=="function"?U:null)}var V2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G2=Object.assign,W2={};function Vv(U,K,ge){this.props=U,this.context=K,this.refs=W2,this.updater=ge||V2}Vv.prototype.isReactComponent={};Vv.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")};Vv.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Y2(){}Y2.prototype=Vv.prototype;function h1(U,K,ge){this.props=U,this.context=K,this.refs=W2,this.updater=ge||V2}var v1=h1.prototype=new Y2;v1.constructor=h1;G2(v1,Vv.prototype);v1.isPureReactComponent=!0;var wx=Array.isArray,Z2=Object.prototype.hasOwnProperty,d1={current:null},j2={key:!0,ref:!0,__self:!0,__source:!0};function X2(U,K,ge){var Re,Ze={},st=null,G=null;if(K!=null)for(Re in K.ref!==void 0&&(G=K.ref),K.key!==void 0&&(st=""+K.key),K)Z2.call(K,Re)&&!j2.hasOwnProperty(Re)&&(Ze[Re]=K[Re]);var V=arguments.length-2;if(V===1)Ze.children=ge;else if(1<V){for(var e=Array(V),y=0;y<V;y++)e[y]=arguments[y+2];Ze.children=e}if(U&&U.defaultProps)for(Re in V=U.defaultProps,V)Ze[Re]===void 0&&(Ze[Re]=V[Re]);return{$$typeof:ap,type:U,key:st,ref:G,props:Ze,_owner:d1.current}}function EA(U,K){return{$$typeof:ap,type:U.type,key:K,ref:U.ref,props:U.props,_owner:U._owner}}function p1(U){return typeof U=="object"&&U!==null&&U.$$typeof===ap}function CA(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return K[ge]})}var Tx=/\/+/g;function Ug(U,K){return typeof U=="object"&&U!==null&&U.key!=null?CA(""+U.key):K.toString(36)}function a0(U,K,ge,Re,Ze){var st=typeof U;(st==="undefined"||st==="boolean")&&(U=null);var G=!1;if(U===null)G=!0;else switch(st){case"string":case"number":G=!0;break;case"object":switch(U.$$typeof){case ap:case pA:G=!0}}if(G)return G=U,Ze=Ze(G),U=Re===""?"."+Ug(G,0):Re,wx(Ze)?(ge="",U!=null&&(ge=U.replace(Tx,"$&/")+"/"),a0(Ze,K,ge,"",function(y){return y})):Ze!=null&&(p1(Ze)&&(Ze=EA(Ze,ge+(!Ze.key||G&&G.key===Ze.key?"":(""+Ze.key).replace(Tx,"$&/")+"/")+U)),K.push(Ze)),1;if(G=0,Re=Re===""?".":Re+":",wx(U))for(var V=0;V<U.length;V++){st=U[V];var e=Re+Ug(st,V);G+=a0(st,K,ge,e,Ze)}else if(e=SA(U),typeof e=="function")for(U=e.call(U),V=0;!(st=U.next()).done;)st=st.value,e=Re+Ug(st,V++),G+=a0(st,K,ge,e,Ze);else if(st==="object")throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return G}function Bp(U,K,ge){if(U==null)return U;var Re=[],Ze=0;return a0(U,Re,"","",function(st){return K.call(ge,st,Ze++)}),Re}function LA(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var Os={current:null},i0={transition:null},PA={ReactCurrentDispatcher:Os,ReactCurrentBatchConfig:i0,ReactCurrentOwner:d1};di.Children={map:Bp,forEach:function(U,K,ge){Bp(U,function(){K.apply(this,arguments)},ge)},count:function(U){var K=0;return Bp(U,function(){K++}),K},toArray:function(U){return Bp(U,function(K){return K})||[]},only:function(U){if(!p1(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};di.Component=Vv;di.Fragment=gA;di.Profiler=mA;di.PureComponent=h1;di.StrictMode=yA;di.Suspense=TA;di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PA;di.cloneElement=function(U,K,ge){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Re=G2({},U.props),Ze=U.key,st=U.ref,G=U._owner;if(K!=null){if(K.ref!==void 0&&(st=K.ref,G=d1.current),K.key!==void 0&&(Ze=""+K.key),U.type&&U.type.defaultProps)var V=U.type.defaultProps;for(e in K)Z2.call(K,e)&&!j2.hasOwnProperty(e)&&(Re[e]=K[e]===void 0&&V!==void 0?V[e]:K[e])}var e=arguments.length-2;if(e===1)Re.children=ge;else if(1<e){V=Array(e);for(var y=0;y<e;y++)V[y]=arguments[y+2];Re.children=V}return{$$typeof:ap,type:U.type,key:Ze,ref:st,props:Re,_owner:G}};di.createContext=function(U){return U={$$typeof:bA,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:xA,_context:U},U.Consumer=U};di.createElement=X2;di.createFactory=function(U){var K=X2.bind(null,U);return K.type=U,K};di.createRef=function(){return{current:null}};di.forwardRef=function(U){return{$$typeof:wA,render:U}};di.isValidElement=p1;di.lazy=function(U){return{$$typeof:MA,_payload:{_status:-1,_result:U},_init:LA}};di.memo=function(U,K){return{$$typeof:AA,type:U,compare:K===void 0?null:K}};di.startTransition=function(U){var K=i0.transition;i0.transition={};try{U()}finally{i0.transition=K}};di.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};di.useCallback=function(U,K){return Os.current.useCallback(U,K)};di.useContext=function(U){return Os.current.useContext(U)};di.useDebugValue=function(){};di.useDeferredValue=function(U){return Os.current.useDeferredValue(U)};di.useEffect=function(U,K){return Os.current.useEffect(U,K)};di.useId=function(){return Os.current.useId()};di.useImperativeHandle=function(U,K,ge){return Os.current.useImperativeHandle(U,K,ge)};di.useInsertionEffect=function(U,K){return Os.current.useInsertionEffect(U,K)};di.useLayoutEffect=function(U,K){return Os.current.useLayoutEffect(U,K)};di.useMemo=function(U,K){return Os.current.useMemo(U,K)};di.useReducer=function(U,K,ge){return Os.current.useReducer(U,K,ge)};di.useRef=function(U){return Os.current.useRef(U)};di.useState=function(U){return Os.current.useState(U)};di.useSyncExternalStore=function(U,K,ge){return Os.current.useSyncExternalStore(U,K,ge)};di.useTransition=function(){return Os.current.useTransition()};di.version="18.2.0";H2.exports=di;var jn=H2.exports;const Oi=N2(jn),RA=dA({__proto__:null,default:Oi},[jn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA=jn,IA=Symbol.for("react.element"),kA=Symbol.for("react.fragment"),FA=Object.prototype.hasOwnProperty,_A=DA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zA={key:!0,ref:!0,__self:!0,__source:!0};function K2(U,K,ge){var Re,Ze={},st=null,G=null;ge!==void 0&&(st=""+ge),K.key!==void 0&&(st=""+K.key),K.ref!==void 0&&(G=K.ref);for(Re in K)FA.call(K,Re)&&!zA.hasOwnProperty(Re)&&(Ze[Re]=K[Re]);if(U&&U.defaultProps)for(Re in K=U.defaultProps,K)Ze[Re]===void 0&&(Ze[Re]=K[Re]);return{$$typeof:IA,type:U,key:st,ref:G,props:Ze,_owner:_A.current}}Y0.Fragment=kA;Y0.jsx=K2;Y0.jsxs=K2;U2.exports=Y0;var un=U2.exports,gy={},J2={exports:{}},Al={},Q2={exports:{}},$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(U){function K(m,a){var E=m.length;m.push(a);e:for(;0<E;){var x=E-1>>>1,k=m[x];if(0<Ze(k,a))m[x]=a,m[E]=k,E=x;else break e}}function ge(m){return m.length===0?null:m[0]}function Re(m){if(m.length===0)return null;var a=m[0],E=m.pop();if(E!==a){m[0]=E;e:for(var x=0,k=m.length,I=k>>>1;x<I;){var N=2*(x+1)-1,F=m[N],z=N+1,O=m[z];if(0>Ze(F,E))z<k&&0>Ze(O,F)?(m[x]=O,m[z]=E,x=z):(m[x]=F,m[N]=E,x=N);else if(z<k&&0>Ze(O,E))m[x]=O,m[z]=E,x=z;else break e}}return a}function Ze(m,a){var E=m.sortIndex-a.sortIndex;return E!==0?E:m.id-a.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;U.unstable_now=function(){return st.now()}}else{var G=Date,V=G.now();U.unstable_now=function(){return G.now()-V}}var e=[],y=[],P=1,o=null,L=3,M=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,i=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(m){for(var a=ge(y);a!==null;){if(a.callback===null)Re(y);else if(a.startTime<=m)Re(y),a.sortIndex=a.expirationTime,K(e,a);else break;a=ge(y)}}function c(m){if(p=!1,n(m),!v)if(ge(e)!==null)v=!0,b(u);else{var a=ge(y);a!==null&&S(c,a.startTime-m)}}function u(m,a){v=!1,p&&(p=!1,t(f),f=-1),M=!0;var E=L;try{for(n(a),o=ge(e);o!==null&&(!(o.expirationTime>a)||m&&!s());){var x=o.callback;if(typeof x=="function"){o.callback=null,L=o.priorityLevel;var k=x(o.expirationTime<=a);a=U.unstable_now(),typeof k=="function"?o.callback=k:o===ge(e)&&Re(e),n(a)}else Re(e);o=ge(e)}if(o!==null)var I=!0;else{var N=ge(y);N!==null&&S(c,N.startTime-a),I=!1}return I}finally{o=null,L=E,M=!1}}var l=!1,g=null,f=-1,T=5,h=-1;function s(){return!(U.unstable_now()-h<T)}function d(){if(g!==null){var m=U.unstable_now();h=m;var a=!0;try{a=g(!0,m)}finally{a?A():(l=!1,g=null)}}else l=!1}var A;if(typeof i=="function")A=function(){i(d)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,C=w.port2;w.port1.onmessage=d,A=function(){C.postMessage(null)}}else A=function(){r(d,0)};function b(m){g=m,l||(l=!0,A())}function S(m,a){f=r(function(){m(U.unstable_now())},a)}U.unstable_IdlePriority=5,U.unstable_ImmediatePriority=1,U.unstable_LowPriority=4,U.unstable_NormalPriority=3,U.unstable_Profiling=null,U.unstable_UserBlockingPriority=2,U.unstable_cancelCallback=function(m){m.callback=null},U.unstable_continueExecution=function(){v||M||(v=!0,b(u))},U.unstable_forceFrameRate=function(m){0>m||125<m?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<m?Math.floor(1e3/m):5},U.unstable_getCurrentPriorityLevel=function(){return L},U.unstable_getFirstCallbackNode=function(){return ge(e)},U.unstable_next=function(m){switch(L){case 1:case 2:case 3:var a=3;break;default:a=L}var E=L;L=a;try{return m()}finally{L=E}},U.unstable_pauseExecution=function(){},U.unstable_requestPaint=function(){},U.unstable_runWithPriority=function(m,a){switch(m){case 1:case 2:case 3:case 4:case 5:break;default:m=3}var E=L;L=m;try{return a()}finally{L=E}},U.unstable_scheduleCallback=function(m,a,E){var x=U.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?x+E:x):E=x,m){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=E+k,m={id:P++,callback:a,priorityLevel:m,startTime:E,expirationTime:k,sortIndex:-1},E>x?(m.sortIndex=E,K(y,m),ge(e)===null&&m===ge(y)&&(p?(t(f),f=-1):p=!0,S(c,E-x))):(m.sortIndex=k,K(e,m),v||M||(v=!0,b(u))),m},U.unstable_shouldYield=s,U.unstable_wrapCallback=function(m){var a=L;return function(){var E=L;L=a;try{return m.apply(this,arguments)}finally{L=E}}}})($2);Q2.exports=$2;var OA=Q2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q2=jn,Tl=OA;function ma(U){for(var K="https://reactjs.org/docs/error-decoder.html?invariant="+U,ge=1;ge<arguments.length;ge++)K+="&args[]="+encodeURIComponent(arguments[ge]);return"Minified React error #"+U+"; visit "+K+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eb=new Set,Ud={};function Vh(U,K){_v(U,K),_v(U+"Capture",K)}function _v(U,K){for(Ud[U]=K,U=0;U<K.length;U++)eb.add(K[U])}var Hf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yy=Object.prototype.hasOwnProperty,BA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ax={},Mx={};function NA(U){return yy.call(Mx,U)?!0:yy.call(Ax,U)?!1:BA.test(U)?Mx[U]=!0:(Ax[U]=!0,!1)}function UA(U,K,ge,Re){if(ge!==null&&ge.type===0)return!1;switch(typeof K){case"function":case"symbol":return!0;case"boolean":return Re?!1:ge!==null?!ge.acceptsBooleans:(U=U.toLowerCase().slice(0,5),U!=="data-"&&U!=="aria-");default:return!1}}function HA(U,K,ge,Re){if(K===null||typeof K>"u"||UA(U,K,ge,Re))return!0;if(Re)return!1;if(ge!==null)switch(ge.type){case 3:return!K;case 4:return K===!1;case 5:return isNaN(K);case 6:return isNaN(K)||1>K}return!1}function Bs(U,K,ge,Re,Ze,st,G){this.acceptsBooleans=K===2||K===3||K===4,this.attributeName=Re,this.attributeNamespace=Ze,this.mustUseProperty=ge,this.propertyName=U,this.type=K,this.sanitizeURL=st,this.removeEmptyString=G}var fs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(U){fs[U]=new Bs(U,0,!1,U,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(U){var K=U[0];fs[K]=new Bs(K,1,!1,U[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(U){fs[U]=new Bs(U,2,!1,U.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(U){fs[U]=new Bs(U,2,!1,U,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(U){fs[U]=new Bs(U,3,!1,U.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(U){fs[U]=new Bs(U,3,!0,U,null,!1,!1)});["capture","download"].forEach(function(U){fs[U]=new Bs(U,4,!1,U,null,!1,!1)});["cols","rows","size","span"].forEach(function(U){fs[U]=new Bs(U,6,!1,U,null,!1,!1)});["rowSpan","start"].forEach(function(U){fs[U]=new Bs(U,5,!1,U.toLowerCase(),null,!1,!1)});var g1=/[\-:]([a-z])/g;function y1(U){return U[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(U){var K=U.replace(g1,y1);fs[K]=new Bs(K,1,!1,U,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(U){var K=U.replace(g1,y1);fs[K]=new Bs(K,1,!1,U,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(U){var K=U.replace(g1,y1);fs[K]=new Bs(K,1,!1,U,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(U){fs[U]=new Bs(U,1,!1,U.toLowerCase(),null,!1,!1)});fs.xlinkHref=new Bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(U){fs[U]=new Bs(U,1,!1,U.toLowerCase(),null,!0,!0)});function m1(U,K,ge,Re){var Ze=fs.hasOwnProperty(K)?fs[K]:null;(Ze!==null?Ze.type!==0:Re||!(2<K.length)||K[0]!=="o"&&K[0]!=="O"||K[1]!=="n"&&K[1]!=="N")&&(HA(K,ge,Ze,Re)&&(ge=null),Re||Ze===null?NA(K)&&(ge===null?U.removeAttribute(K):U.setAttribute(K,""+ge)):Ze.mustUseProperty?U[Ze.propertyName]=ge===null?Ze.type===3?!1:"":ge:(K=Ze.attributeName,Re=Ze.attributeNamespace,ge===null?U.removeAttribute(K):(Ze=Ze.type,ge=Ze===3||Ze===4&&ge===!0?"":""+ge,Re?U.setAttributeNS(Re,K,ge):U.setAttribute(K,ge))))}var Yf=q2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Np=Symbol.for("react.element"),yv=Symbol.for("react.portal"),mv=Symbol.for("react.fragment"),x1=Symbol.for("react.strict_mode"),my=Symbol.for("react.profiler"),tb=Symbol.for("react.provider"),rb=Symbol.for("react.context"),b1=Symbol.for("react.forward_ref"),xy=Symbol.for("react.suspense"),by=Symbol.for("react.suspense_list"),w1=Symbol.for("react.memo"),Dc=Symbol.for("react.lazy"),nb=Symbol.for("react.offscreen"),Sx=Symbol.iterator;function gd(U){return U===null||typeof U!="object"?null:(U=Sx&&U[Sx]||U["@@iterator"],typeof U=="function"?U:null)}var vo=Object.assign,Hg;function Md(U){if(Hg===void 0)try{throw Error()}catch(ge){var K=ge.stack.trim().match(/\n( *(at )?)/);Hg=K&&K[1]||""}return`
`+Hg+U}var Vg=!1;function Gg(U,K){if(!U||Vg)return"";Vg=!0;var ge=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(K)if(K=function(){throw Error()},Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(y){var Re=y}Reflect.construct(U,[],K)}else{try{K.call()}catch(y){Re=y}U.call(K.prototype)}else{try{throw Error()}catch(y){Re=y}U()}}catch(y){if(y&&Re&&typeof y.stack=="string"){for(var Ze=y.stack.split(`
`),st=Re.stack.split(`
`),G=Ze.length-1,V=st.length-1;1<=G&&0<=V&&Ze[G]!==st[V];)V--;for(;1<=G&&0<=V;G--,V--)if(Ze[G]!==st[V]){if(G!==1||V!==1)do if(G--,V--,0>V||Ze[G]!==st[V]){var e=`
`+Ze[G].replace(" at new "," at ");return U.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",U.displayName)),e}while(1<=G&&0<=V);break}}}finally{Vg=!1,Error.prepareStackTrace=ge}return(U=U?U.displayName||U.name:"")?Md(U):""}function VA(U){switch(U.tag){case 5:return Md(U.type);case 16:return Md("Lazy");case 13:return Md("Suspense");case 19:return Md("SuspenseList");case 0:case 2:case 15:return U=Gg(U.type,!1),U;case 11:return U=Gg(U.type.render,!1),U;case 1:return U=Gg(U.type,!0),U;default:return""}}function wy(U){if(U==null)return null;if(typeof U=="function")return U.displayName||U.name||null;if(typeof U=="string")return U;switch(U){case mv:return"Fragment";case yv:return"Portal";case my:return"Profiler";case x1:return"StrictMode";case xy:return"Suspense";case by:return"SuspenseList"}if(typeof U=="object")switch(U.$$typeof){case rb:return(U.displayName||"Context")+".Consumer";case tb:return(U._context.displayName||"Context")+".Provider";case b1:var K=U.render;return U=U.displayName,U||(U=K.displayName||K.name||"",U=U!==""?"ForwardRef("+U+")":"ForwardRef"),U;case w1:return K=U.displayName||null,K!==null?K:wy(U.type)||"Memo";case Dc:K=U._payload,U=U._init;try{return wy(U(K))}catch{}}return null}function GA(U){var K=U.type;switch(U.tag){case 24:return"Cache";case 9:return(K.displayName||"Context")+".Consumer";case 10:return(K._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return U=K.render,U=U.displayName||U.name||"",K.displayName||(U!==""?"ForwardRef("+U+")":"ForwardRef");case 7:return"Fragment";case 5:return K;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wy(K);case 8:return K===x1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof K=="function")return K.displayName||K.name||null;if(typeof K=="string")return K}return null}function Xc(U){switch(typeof U){case"boolean":case"number":case"string":case"undefined":return U;case"object":return U;default:return""}}function ab(U){var K=U.type;return(U=U.nodeName)&&U.toLowerCase()==="input"&&(K==="checkbox"||K==="radio")}function WA(U){var K=ab(U)?"checked":"value",ge=Object.getOwnPropertyDescriptor(U.constructor.prototype,K),Re=""+U[K];if(!U.hasOwnProperty(K)&&typeof ge<"u"&&typeof ge.get=="function"&&typeof ge.set=="function"){var Ze=ge.get,st=ge.set;return Object.defineProperty(U,K,{configurable:!0,get:function(){return Ze.call(this)},set:function(G){Re=""+G,st.call(this,G)}}),Object.defineProperty(U,K,{enumerable:ge.enumerable}),{getValue:function(){return Re},setValue:function(G){Re=""+G},stopTracking:function(){U._valueTracker=null,delete U[K]}}}}function Up(U){U._valueTracker||(U._valueTracker=WA(U))}function ib(U){if(!U)return!1;var K=U._valueTracker;if(!K)return!0;var ge=K.getValue(),Re="";return U&&(Re=ab(U)?U.checked?"true":"false":U.value),U=Re,U!==ge?(K.setValue(U),!0):!1}function y0(U){if(U=U||(typeof document<"u"?document:void 0),typeof U>"u")return null;try{return U.activeElement||U.body}catch{return U.body}}function Ty(U,K){var ge=K.checked;return vo({},K,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ge??U._wrapperState.initialChecked})}function Ex(U,K){var ge=K.defaultValue==null?"":K.defaultValue,Re=K.checked!=null?K.checked:K.defaultChecked;ge=Xc(K.value!=null?K.value:ge),U._wrapperState={initialChecked:Re,initialValue:ge,controlled:K.type==="checkbox"||K.type==="radio"?K.checked!=null:K.value!=null}}function ob(U,K){K=K.checked,K!=null&&m1(U,"checked",K,!1)}function Ay(U,K){ob(U,K);var ge=Xc(K.value),Re=K.type;if(ge!=null)Re==="number"?(ge===0&&U.value===""||U.value!=ge)&&(U.value=""+ge):U.value!==""+ge&&(U.value=""+ge);else if(Re==="submit"||Re==="reset"){U.removeAttribute("value");return}K.hasOwnProperty("value")?My(U,K.type,ge):K.hasOwnProperty("defaultValue")&&My(U,K.type,Xc(K.defaultValue)),K.checked==null&&K.defaultChecked!=null&&(U.defaultChecked=!!K.defaultChecked)}function Cx(U,K,ge){if(K.hasOwnProperty("value")||K.hasOwnProperty("defaultValue")){var Re=K.type;if(!(Re!=="submit"&&Re!=="reset"||K.value!==void 0&&K.value!==null))return;K=""+U._wrapperState.initialValue,ge||K===U.value||(U.value=K),U.defaultValue=K}ge=U.name,ge!==""&&(U.name=""),U.defaultChecked=!!U._wrapperState.initialChecked,ge!==""&&(U.name=ge)}function My(U,K,ge){(K!=="number"||y0(U.ownerDocument)!==U)&&(ge==null?U.defaultValue=""+U._wrapperState.initialValue:U.defaultValue!==""+ge&&(U.defaultValue=""+ge))}var Sd=Array.isArray;function Pv(U,K,ge,Re){if(U=U.options,K){K={};for(var Ze=0;Ze<ge.length;Ze++)K["$"+ge[Ze]]=!0;for(ge=0;ge<U.length;ge++)Ze=K.hasOwnProperty("$"+U[ge].value),U[ge].selected!==Ze&&(U[ge].selected=Ze),Ze&&Re&&(U[ge].defaultSelected=!0)}else{for(ge=""+Xc(ge),K=null,Ze=0;Ze<U.length;Ze++){if(U[Ze].value===ge){U[Ze].selected=!0,Re&&(U[Ze].defaultSelected=!0);return}K!==null||U[Ze].disabled||(K=U[Ze])}K!==null&&(K.selected=!0)}}function Sy(U,K){if(K.dangerouslySetInnerHTML!=null)throw Error(ma(91));return vo({},K,{value:void 0,defaultValue:void 0,children:""+U._wrapperState.initialValue})}function Lx(U,K){var ge=K.value;if(ge==null){if(ge=K.children,K=K.defaultValue,ge!=null){if(K!=null)throw Error(ma(92));if(Sd(ge)){if(1<ge.length)throw Error(ma(93));ge=ge[0]}K=ge}K==null&&(K=""),ge=K}U._wrapperState={initialValue:Xc(ge)}}function sb(U,K){var ge=Xc(K.value),Re=Xc(K.defaultValue);ge!=null&&(ge=""+ge,ge!==U.value&&(U.value=ge),K.defaultValue==null&&U.defaultValue!==ge&&(U.defaultValue=ge)),Re!=null&&(U.defaultValue=""+Re)}function Px(U){var K=U.textContent;K===U._wrapperState.initialValue&&K!==""&&K!==null&&(U.value=K)}function lb(U){switch(U){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ey(U,K){return U==null||U==="http://www.w3.org/1999/xhtml"?lb(K):U==="http://www.w3.org/2000/svg"&&K==="foreignObject"?"http://www.w3.org/1999/xhtml":U}var Hp,ub=function(U){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(K,ge,Re,Ze){MSApp.execUnsafeLocalFunction(function(){return U(K,ge,Re,Ze)})}:U}(function(U,K){if(U.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in U)U.innerHTML=K;else{for(Hp=Hp||document.createElement("div"),Hp.innerHTML="<svg>"+K.valueOf().toString()+"</svg>",K=Hp.firstChild;U.firstChild;)U.removeChild(U.firstChild);for(;K.firstChild;)U.appendChild(K.firstChild)}});function Hd(U,K){if(K){var ge=U.firstChild;if(ge&&ge===U.lastChild&&ge.nodeType===3){ge.nodeValue=K;return}}U.textContent=K}var Pd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YA=["Webkit","ms","Moz","O"];Object.keys(Pd).forEach(function(U){YA.forEach(function(K){K=K+U.charAt(0).toUpperCase()+U.substring(1),Pd[K]=Pd[U]})});function fb(U,K,ge){return K==null||typeof K=="boolean"||K===""?"":ge||typeof K!="number"||K===0||Pd.hasOwnProperty(U)&&Pd[U]?(""+K).trim():K+"px"}function cb(U,K){U=U.style;for(var ge in K)if(K.hasOwnProperty(ge)){var Re=ge.indexOf("--")===0,Ze=fb(ge,K[ge],Re);ge==="float"&&(ge="cssFloat"),Re?U.setProperty(ge,Ze):U[ge]=Ze}}var ZA=vo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cy(U,K){if(K){if(ZA[U]&&(K.children!=null||K.dangerouslySetInnerHTML!=null))throw Error(ma(137,U));if(K.dangerouslySetInnerHTML!=null){if(K.children!=null)throw Error(ma(60));if(typeof K.dangerouslySetInnerHTML!="object"||!("__html"in K.dangerouslySetInnerHTML))throw Error(ma(61))}if(K.style!=null&&typeof K.style!="object")throw Error(ma(62))}}function Ly(U,K){if(U.indexOf("-")===-1)return typeof K.is=="string";switch(U){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function T1(U){return U=U.target||U.srcElement||window,U.correspondingUseElement&&(U=U.correspondingUseElement),U.nodeType===3?U.parentNode:U}var Ry=null,Rv=null,Dv=null;function Rx(U){if(U=sp(U)){if(typeof Ry!="function")throw Error(ma(280));var K=U.stateNode;K&&(K=J0(K),Ry(U.stateNode,U.type,K))}}function hb(U){Rv?Dv?Dv.push(U):Dv=[U]:Rv=U}function vb(){if(Rv){var U=Rv,K=Dv;if(Dv=Rv=null,Rx(U),K)for(U=0;U<K.length;U++)Rx(K[U])}}function db(U,K){return U(K)}function pb(){}var Wg=!1;function gb(U,K,ge){if(Wg)return U(K,ge);Wg=!0;try{return db(U,K,ge)}finally{Wg=!1,(Rv!==null||Dv!==null)&&(pb(),vb())}}function Vd(U,K){var ge=U.stateNode;if(ge===null)return null;var Re=J0(ge);if(Re===null)return null;ge=Re[K];e:switch(K){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Re=!Re.disabled)||(U=U.type,Re=!(U==="button"||U==="input"||U==="select"||U==="textarea")),U=!Re;break e;default:U=!1}if(U)return null;if(ge&&typeof ge!="function")throw Error(ma(231,K,typeof ge));return ge}var Dy=!1;if(Hf)try{var yd={};Object.defineProperty(yd,"passive",{get:function(){Dy=!0}}),window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{Dy=!1}function jA(U,K,ge,Re,Ze,st,G,V,e){var y=Array.prototype.slice.call(arguments,3);try{K.apply(ge,y)}catch(P){this.onError(P)}}var Rd=!1,m0=null,x0=!1,Iy=null,XA={onError:function(U){Rd=!0,m0=U}};function KA(U,K,ge,Re,Ze,st,G,V,e){Rd=!1,m0=null,jA.apply(XA,arguments)}function JA(U,K,ge,Re,Ze,st,G,V,e){if(KA.apply(this,arguments),Rd){if(Rd){var y=m0;Rd=!1,m0=null}else throw Error(ma(198));x0||(x0=!0,Iy=y)}}function Gh(U){var K=U,ge=U;if(U.alternate)for(;K.return;)K=K.return;else{U=K;do K=U,K.flags&4098&&(ge=K.return),U=K.return;while(U)}return K.tag===3?ge:null}function yb(U){if(U.tag===13){var K=U.memoizedState;if(K===null&&(U=U.alternate,U!==null&&(K=U.memoizedState)),K!==null)return K.dehydrated}return null}function Dx(U){if(Gh(U)!==U)throw Error(ma(188))}function QA(U){var K=U.alternate;if(!K){if(K=Gh(U),K===null)throw Error(ma(188));return K!==U?null:U}for(var ge=U,Re=K;;){var Ze=ge.return;if(Ze===null)break;var st=Ze.alternate;if(st===null){if(Re=Ze.return,Re!==null){ge=Re;continue}break}if(Ze.child===st.child){for(st=Ze.child;st;){if(st===ge)return Dx(Ze),U;if(st===Re)return Dx(Ze),K;st=st.sibling}throw Error(ma(188))}if(ge.return!==Re.return)ge=Ze,Re=st;else{for(var G=!1,V=Ze.child;V;){if(V===ge){G=!0,ge=Ze,Re=st;break}if(V===Re){G=!0,Re=Ze,ge=st;break}V=V.sibling}if(!G){for(V=st.child;V;){if(V===ge){G=!0,ge=st,Re=Ze;break}if(V===Re){G=!0,Re=st,ge=Ze;break}V=V.sibling}if(!G)throw Error(ma(189))}}if(ge.alternate!==Re)throw Error(ma(190))}if(ge.tag!==3)throw Error(ma(188));return ge.stateNode.current===ge?U:K}function mb(U){return U=QA(U),U!==null?xb(U):null}function xb(U){if(U.tag===5||U.tag===6)return U;for(U=U.child;U!==null;){var K=xb(U);if(K!==null)return K;U=U.sibling}return null}var bb=Tl.unstable_scheduleCallback,Ix=Tl.unstable_cancelCallback,$A=Tl.unstable_shouldYield,qA=Tl.unstable_requestPaint,Eo=Tl.unstable_now,e4=Tl.unstable_getCurrentPriorityLevel,A1=Tl.unstable_ImmediatePriority,wb=Tl.unstable_UserBlockingPriority,b0=Tl.unstable_NormalPriority,t4=Tl.unstable_LowPriority,Tb=Tl.unstable_IdlePriority,Z0=null,sf=null;function r4(U){if(sf&&typeof sf.onCommitFiberRoot=="function")try{sf.onCommitFiberRoot(Z0,U,void 0,(U.current.flags&128)===128)}catch{}}var ku=Math.clz32?Math.clz32:i4,n4=Math.log,a4=Math.LN2;function i4(U){return U>>>=0,U===0?32:31-(n4(U)/a4|0)|0}var Vp=64,Gp=4194304;function Ed(U){switch(U&-U){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return U&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return U&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return U}}function w0(U,K){var ge=U.pendingLanes;if(ge===0)return 0;var Re=0,Ze=U.suspendedLanes,st=U.pingedLanes,G=ge&268435455;if(G!==0){var V=G&~Ze;V!==0?Re=Ed(V):(st&=G,st!==0&&(Re=Ed(st)))}else G=ge&~Ze,G!==0?Re=Ed(G):st!==0&&(Re=Ed(st));if(Re===0)return 0;if(K!==0&&K!==Re&&!(K&Ze)&&(Ze=Re&-Re,st=K&-K,Ze>=st||Ze===16&&(st&4194240)!==0))return K;if(Re&4&&(Re|=ge&16),K=U.entangledLanes,K!==0)for(U=U.entanglements,K&=Re;0<K;)ge=31-ku(K),Ze=1<<ge,Re|=U[ge],K&=~Ze;return Re}function o4(U,K){switch(U){case 1:case 2:case 4:return K+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return K+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s4(U,K){for(var ge=U.suspendedLanes,Re=U.pingedLanes,Ze=U.expirationTimes,st=U.pendingLanes;0<st;){var G=31-ku(st),V=1<<G,e=Ze[G];e===-1?(!(V&ge)||V&Re)&&(Ze[G]=o4(V,K)):e<=K&&(U.expiredLanes|=V),st&=~V}}function ky(U){return U=U.pendingLanes&-1073741825,U!==0?U:U&1073741824?1073741824:0}function Ab(){var U=Vp;return Vp<<=1,!(Vp&4194240)&&(Vp=64),U}function Yg(U){for(var K=[],ge=0;31>ge;ge++)K.push(U);return K}function ip(U,K,ge){U.pendingLanes|=K,K!==536870912&&(U.suspendedLanes=0,U.pingedLanes=0),U=U.eventTimes,K=31-ku(K),U[K]=ge}function l4(U,K){var ge=U.pendingLanes&~K;U.pendingLanes=K,U.suspendedLanes=0,U.pingedLanes=0,U.expiredLanes&=K,U.mutableReadLanes&=K,U.entangledLanes&=K,K=U.entanglements;var Re=U.eventTimes;for(U=U.expirationTimes;0<ge;){var Ze=31-ku(ge),st=1<<Ze;K[Ze]=0,Re[Ze]=-1,U[Ze]=-1,ge&=~st}}function M1(U,K){var ge=U.entangledLanes|=K;for(U=U.entanglements;ge;){var Re=31-ku(ge),Ze=1<<Re;Ze&K|U[Re]&K&&(U[Re]|=K),ge&=~Ze}}var Di=0;function Mb(U){return U&=-U,1<U?4<U?U&268435455?16:536870912:4:1}var Sb,S1,Eb,Cb,Lb,Fy=!1,Wp=[],Nc=null,Uc=null,Hc=null,Gd=new Map,Wd=new Map,kc=[],u4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kx(U,K){switch(U){case"focusin":case"focusout":Nc=null;break;case"dragenter":case"dragleave":Uc=null;break;case"mouseover":case"mouseout":Hc=null;break;case"pointerover":case"pointerout":Gd.delete(K.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wd.delete(K.pointerId)}}function md(U,K,ge,Re,Ze,st){return U===null||U.nativeEvent!==st?(U={blockedOn:K,domEventName:ge,eventSystemFlags:Re,nativeEvent:st,targetContainers:[Ze]},K!==null&&(K=sp(K),K!==null&&S1(K)),U):(U.eventSystemFlags|=Re,K=U.targetContainers,Ze!==null&&K.indexOf(Ze)===-1&&K.push(Ze),U)}function f4(U,K,ge,Re,Ze){switch(K){case"focusin":return Nc=md(Nc,U,K,ge,Re,Ze),!0;case"dragenter":return Uc=md(Uc,U,K,ge,Re,Ze),!0;case"mouseover":return Hc=md(Hc,U,K,ge,Re,Ze),!0;case"pointerover":var st=Ze.pointerId;return Gd.set(st,md(Gd.get(st)||null,U,K,ge,Re,Ze)),!0;case"gotpointercapture":return st=Ze.pointerId,Wd.set(st,md(Wd.get(st)||null,U,K,ge,Re,Ze)),!0}return!1}function Pb(U){var K=Rh(U.target);if(K!==null){var ge=Gh(K);if(ge!==null){if(K=ge.tag,K===13){if(K=yb(ge),K!==null){U.blockedOn=K,Lb(U.priority,function(){Eb(ge)});return}}else if(K===3&&ge.stateNode.current.memoizedState.isDehydrated){U.blockedOn=ge.tag===3?ge.stateNode.containerInfo:null;return}}}U.blockedOn=null}function o0(U){if(U.blockedOn!==null)return!1;for(var K=U.targetContainers;0<K.length;){var ge=_y(U.domEventName,U.eventSystemFlags,K[0],U.nativeEvent);if(ge===null){ge=U.nativeEvent;var Re=new ge.constructor(ge.type,ge);Py=Re,ge.target.dispatchEvent(Re),Py=null}else return K=sp(ge),K!==null&&S1(K),U.blockedOn=ge,!1;K.shift()}return!0}function Fx(U,K,ge){o0(U)&&ge.delete(K)}function c4(){Fy=!1,Nc!==null&&o0(Nc)&&(Nc=null),Uc!==null&&o0(Uc)&&(Uc=null),Hc!==null&&o0(Hc)&&(Hc=null),Gd.forEach(Fx),Wd.forEach(Fx)}function xd(U,K){U.blockedOn===K&&(U.blockedOn=null,Fy||(Fy=!0,Tl.unstable_scheduleCallback(Tl.unstable_NormalPriority,c4)))}function Yd(U){function K(Ze){return xd(Ze,U)}if(0<Wp.length){xd(Wp[0],U);for(var ge=1;ge<Wp.length;ge++){var Re=Wp[ge];Re.blockedOn===U&&(Re.blockedOn=null)}}for(Nc!==null&&xd(Nc,U),Uc!==null&&xd(Uc,U),Hc!==null&&xd(Hc,U),Gd.forEach(K),Wd.forEach(K),ge=0;ge<kc.length;ge++)Re=kc[ge],Re.blockedOn===U&&(Re.blockedOn=null);for(;0<kc.length&&(ge=kc[0],ge.blockedOn===null);)Pb(ge),ge.blockedOn===null&&kc.shift()}var Iv=Yf.ReactCurrentBatchConfig,T0=!0;function h4(U,K,ge,Re){var Ze=Di,st=Iv.transition;Iv.transition=null;try{Di=1,E1(U,K,ge,Re)}finally{Di=Ze,Iv.transition=st}}function v4(U,K,ge,Re){var Ze=Di,st=Iv.transition;Iv.transition=null;try{Di=4,E1(U,K,ge,Re)}finally{Di=Ze,Iv.transition=st}}function E1(U,K,ge,Re){if(T0){var Ze=_y(U,K,ge,Re);if(Ze===null)ty(U,K,Re,A0,ge),kx(U,Re);else if(f4(Ze,U,K,ge,Re))Re.stopPropagation();else if(kx(U,Re),K&4&&-1<u4.indexOf(U)){for(;Ze!==null;){var st=sp(Ze);if(st!==null&&Sb(st),st=_y(U,K,ge,Re),st===null&&ty(U,K,Re,A0,ge),st===Ze)break;Ze=st}Ze!==null&&Re.stopPropagation()}else ty(U,K,Re,null,ge)}}var A0=null;function _y(U,K,ge,Re){if(A0=null,U=T1(Re),U=Rh(U),U!==null)if(K=Gh(U),K===null)U=null;else if(ge=K.tag,ge===13){if(U=yb(K),U!==null)return U;U=null}else if(ge===3){if(K.stateNode.current.memoizedState.isDehydrated)return K.tag===3?K.stateNode.containerInfo:null;U=null}else K!==U&&(U=null);return A0=U,null}function Rb(U){switch(U){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e4()){case A1:return 1;case wb:return 4;case b0:case t4:return 16;case Tb:return 536870912;default:return 16}default:return 16}}var _c=null,C1=null,s0=null;function Db(){if(s0)return s0;var U,K=C1,ge=K.length,Re,Ze="value"in _c?_c.value:_c.textContent,st=Ze.length;for(U=0;U<ge&&K[U]===Ze[U];U++);var G=ge-U;for(Re=1;Re<=G&&K[ge-Re]===Ze[st-Re];Re++);return s0=Ze.slice(U,1<Re?1-Re:void 0)}function l0(U){var K=U.keyCode;return"charCode"in U?(U=U.charCode,U===0&&K===13&&(U=13)):U=K,U===10&&(U=13),32<=U||U===13?U:0}function Yp(){return!0}function _x(){return!1}function Ml(U){function K(ge,Re,Ze,st,G){this._reactName=ge,this._targetInst=Ze,this.type=Re,this.nativeEvent=st,this.target=G,this.currentTarget=null;for(var V in U)U.hasOwnProperty(V)&&(ge=U[V],this[V]=ge?ge(st):st[V]);return this.isDefaultPrevented=(st.defaultPrevented!=null?st.defaultPrevented:st.returnValue===!1)?Yp:_x,this.isPropagationStopped=_x,this}return vo(K.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ge=this.nativeEvent;ge&&(ge.preventDefault?ge.preventDefault():typeof ge.returnValue!="unknown"&&(ge.returnValue=!1),this.isDefaultPrevented=Yp)},stopPropagation:function(){var ge=this.nativeEvent;ge&&(ge.stopPropagation?ge.stopPropagation():typeof ge.cancelBubble!="unknown"&&(ge.cancelBubble=!0),this.isPropagationStopped=Yp)},persist:function(){},isPersistent:Yp}),K}var Gv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(U){return U.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L1=Ml(Gv),op=vo({},Gv,{view:0,detail:0}),d4=Ml(op),Zg,jg,bd,j0=vo({},op,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P1,button:0,buttons:0,relatedTarget:function(U){return U.relatedTarget===void 0?U.fromElement===U.srcElement?U.toElement:U.fromElement:U.relatedTarget},movementX:function(U){return"movementX"in U?U.movementX:(U!==bd&&(bd&&U.type==="mousemove"?(Zg=U.screenX-bd.screenX,jg=U.screenY-bd.screenY):jg=Zg=0,bd=U),Zg)},movementY:function(U){return"movementY"in U?U.movementY:jg}}),zx=Ml(j0),p4=vo({},j0,{dataTransfer:0}),g4=Ml(p4),y4=vo({},op,{relatedTarget:0}),Xg=Ml(y4),m4=vo({},Gv,{animationName:0,elapsedTime:0,pseudoElement:0}),x4=Ml(m4),b4=vo({},Gv,{clipboardData:function(U){return"clipboardData"in U?U.clipboardData:window.clipboardData}}),w4=Ml(b4),T4=vo({},Gv,{data:0}),Ox=Ml(T4),A4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E4(U){var K=this.nativeEvent;return K.getModifierState?K.getModifierState(U):(U=S4[U])?!!K[U]:!1}function P1(){return E4}var C4=vo({},op,{key:function(U){if(U.key){var K=A4[U.key]||U.key;if(K!=="Unidentified")return K}return U.type==="keypress"?(U=l0(U),U===13?"Enter":String.fromCharCode(U)):U.type==="keydown"||U.type==="keyup"?M4[U.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P1,charCode:function(U){return U.type==="keypress"?l0(U):0},keyCode:function(U){return U.type==="keydown"||U.type==="keyup"?U.keyCode:0},which:function(U){return U.type==="keypress"?l0(U):U.type==="keydown"||U.type==="keyup"?U.keyCode:0}}),L4=Ml(C4),P4=vo({},j0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bx=Ml(P4),R4=vo({},op,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P1}),D4=Ml(R4),I4=vo({},Gv,{propertyName:0,elapsedTime:0,pseudoElement:0}),k4=Ml(I4),F4=vo({},j0,{deltaX:function(U){return"deltaX"in U?U.deltaX:"wheelDeltaX"in U?-U.wheelDeltaX:0},deltaY:function(U){return"deltaY"in U?U.deltaY:"wheelDeltaY"in U?-U.wheelDeltaY:"wheelDelta"in U?-U.wheelDelta:0},deltaZ:0,deltaMode:0}),_4=Ml(F4),z4=[9,13,27,32],R1=Hf&&"CompositionEvent"in window,Dd=null;Hf&&"documentMode"in document&&(Dd=document.documentMode);var O4=Hf&&"TextEvent"in window&&!Dd,Ib=Hf&&(!R1||Dd&&8<Dd&&11>=Dd),Nx=String.fromCharCode(32),Ux=!1;function kb(U,K){switch(U){case"keyup":return z4.indexOf(K.keyCode)!==-1;case"keydown":return K.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fb(U){return U=U.detail,typeof U=="object"&&"data"in U?U.data:null}var xv=!1;function B4(U,K){switch(U){case"compositionend":return Fb(K);case"keypress":return K.which!==32?null:(Ux=!0,Nx);case"textInput":return U=K.data,U===Nx&&Ux?null:U;default:return null}}function N4(U,K){if(xv)return U==="compositionend"||!R1&&kb(U,K)?(U=Db(),s0=C1=_c=null,xv=!1,U):null;switch(U){case"paste":return null;case"keypress":if(!(K.ctrlKey||K.altKey||K.metaKey)||K.ctrlKey&&K.altKey){if(K.char&&1<K.char.length)return K.char;if(K.which)return String.fromCharCode(K.which)}return null;case"compositionend":return Ib&&K.locale!=="ko"?null:K.data;default:return null}}var U4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hx(U){var K=U&&U.nodeName&&U.nodeName.toLowerCase();return K==="input"?!!U4[U.type]:K==="textarea"}function _b(U,K,ge,Re){hb(Re),K=M0(K,"onChange"),0<K.length&&(ge=new L1("onChange","change",null,ge,Re),U.push({event:ge,listeners:K}))}var Id=null,Zd=null;function H4(U){Zb(U,0)}function X0(U){var K=Tv(U);if(ib(K))return U}function V4(U,K){if(U==="change")return K}var zb=!1;if(Hf){var Kg;if(Hf){var Jg="oninput"in document;if(!Jg){var Vx=document.createElement("div");Vx.setAttribute("oninput","return;"),Jg=typeof Vx.oninput=="function"}Kg=Jg}else Kg=!1;zb=Kg&&(!document.documentMode||9<document.documentMode)}function Gx(){Id&&(Id.detachEvent("onpropertychange",Ob),Zd=Id=null)}function Ob(U){if(U.propertyName==="value"&&X0(Zd)){var K=[];_b(K,Zd,U,T1(U)),gb(H4,K)}}function G4(U,K,ge){U==="focusin"?(Gx(),Id=K,Zd=ge,Id.attachEvent("onpropertychange",Ob)):U==="focusout"&&Gx()}function W4(U){if(U==="selectionchange"||U==="keyup"||U==="keydown")return X0(Zd)}function Y4(U,K){if(U==="click")return X0(K)}function Z4(U,K){if(U==="input"||U==="change")return X0(K)}function j4(U,K){return U===K&&(U!==0||1/U===1/K)||U!==U&&K!==K}var _u=typeof Object.is=="function"?Object.is:j4;function jd(U,K){if(_u(U,K))return!0;if(typeof U!="object"||U===null||typeof K!="object"||K===null)return!1;var ge=Object.keys(U),Re=Object.keys(K);if(ge.length!==Re.length)return!1;for(Re=0;Re<ge.length;Re++){var Ze=ge[Re];if(!yy.call(K,Ze)||!_u(U[Ze],K[Ze]))return!1}return!0}function Wx(U){for(;U&&U.firstChild;)U=U.firstChild;return U}function Yx(U,K){var ge=Wx(U);U=0;for(var Re;ge;){if(ge.nodeType===3){if(Re=U+ge.textContent.length,U<=K&&Re>=K)return{node:ge,offset:K-U};U=Re}e:{for(;ge;){if(ge.nextSibling){ge=ge.nextSibling;break e}ge=ge.parentNode}ge=void 0}ge=Wx(ge)}}function Bb(U,K){return U&&K?U===K?!0:U&&U.nodeType===3?!1:K&&K.nodeType===3?Bb(U,K.parentNode):"contains"in U?U.contains(K):U.compareDocumentPosition?!!(U.compareDocumentPosition(K)&16):!1:!1}function Nb(){for(var U=window,K=y0();K instanceof U.HTMLIFrameElement;){try{var ge=typeof K.contentWindow.location.href=="string"}catch{ge=!1}if(ge)U=K.contentWindow;else break;K=y0(U.document)}return K}function D1(U){var K=U&&U.nodeName&&U.nodeName.toLowerCase();return K&&(K==="input"&&(U.type==="text"||U.type==="search"||U.type==="tel"||U.type==="url"||U.type==="password")||K==="textarea"||U.contentEditable==="true")}function X4(U){var K=Nb(),ge=U.focusedElem,Re=U.selectionRange;if(K!==ge&&ge&&ge.ownerDocument&&Bb(ge.ownerDocument.documentElement,ge)){if(Re!==null&&D1(ge)){if(K=Re.start,U=Re.end,U===void 0&&(U=K),"selectionStart"in ge)ge.selectionStart=K,ge.selectionEnd=Math.min(U,ge.value.length);else if(U=(K=ge.ownerDocument||document)&&K.defaultView||window,U.getSelection){U=U.getSelection();var Ze=ge.textContent.length,st=Math.min(Re.start,Ze);Re=Re.end===void 0?st:Math.min(Re.end,Ze),!U.extend&&st>Re&&(Ze=Re,Re=st,st=Ze),Ze=Yx(ge,st);var G=Yx(ge,Re);Ze&&G&&(U.rangeCount!==1||U.anchorNode!==Ze.node||U.anchorOffset!==Ze.offset||U.focusNode!==G.node||U.focusOffset!==G.offset)&&(K=K.createRange(),K.setStart(Ze.node,Ze.offset),U.removeAllRanges(),st>Re?(U.addRange(K),U.extend(G.node,G.offset)):(K.setEnd(G.node,G.offset),U.addRange(K)))}}for(K=[],U=ge;U=U.parentNode;)U.nodeType===1&&K.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<K.length;ge++)U=K[ge],U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}var K4=Hf&&"documentMode"in document&&11>=document.documentMode,bv=null,zy=null,kd=null,Oy=!1;function Zx(U,K,ge){var Re=ge.window===ge?ge.document:ge.nodeType===9?ge:ge.ownerDocument;Oy||bv==null||bv!==y0(Re)||(Re=bv,"selectionStart"in Re&&D1(Re)?Re={start:Re.selectionStart,end:Re.selectionEnd}:(Re=(Re.ownerDocument&&Re.ownerDocument.defaultView||window).getSelection(),Re={anchorNode:Re.anchorNode,anchorOffset:Re.anchorOffset,focusNode:Re.focusNode,focusOffset:Re.focusOffset}),kd&&jd(kd,Re)||(kd=Re,Re=M0(zy,"onSelect"),0<Re.length&&(K=new L1("onSelect","select",null,K,ge),U.push({event:K,listeners:Re}),K.target=bv)))}function Zp(U,K){var ge={};return ge[U.toLowerCase()]=K.toLowerCase(),ge["Webkit"+U]="webkit"+K,ge["Moz"+U]="moz"+K,ge}var wv={animationend:Zp("Animation","AnimationEnd"),animationiteration:Zp("Animation","AnimationIteration"),animationstart:Zp("Animation","AnimationStart"),transitionend:Zp("Transition","TransitionEnd")},Qg={},Ub={};Hf&&(Ub=document.createElement("div").style,"AnimationEvent"in window||(delete wv.animationend.animation,delete wv.animationiteration.animation,delete wv.animationstart.animation),"TransitionEvent"in window||delete wv.transitionend.transition);function K0(U){if(Qg[U])return Qg[U];if(!wv[U])return U;var K=wv[U],ge;for(ge in K)if(K.hasOwnProperty(ge)&&ge in Ub)return Qg[U]=K[ge];return U}var Hb=K0("animationend"),Vb=K0("animationiteration"),Gb=K0("animationstart"),Wb=K0("transitionend"),Yb=new Map,jx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qc(U,K){Yb.set(U,K),Vh(K,[U])}for(var $g=0;$g<jx.length;$g++){var qg=jx[$g],J4=qg.toLowerCase(),Q4=qg[0].toUpperCase()+qg.slice(1);Qc(J4,"on"+Q4)}Qc(Hb,"onAnimationEnd");Qc(Vb,"onAnimationIteration");Qc(Gb,"onAnimationStart");Qc("dblclick","onDoubleClick");Qc("focusin","onFocus");Qc("focusout","onBlur");Qc(Wb,"onTransitionEnd");_v("onMouseEnter",["mouseout","mouseover"]);_v("onMouseLeave",["mouseout","mouseover"]);_v("onPointerEnter",["pointerout","pointerover"]);_v("onPointerLeave",["pointerout","pointerover"]);Vh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cd));function Xx(U,K,ge){var Re=U.type||"unknown-event";U.currentTarget=ge,JA(Re,K,void 0,U),U.currentTarget=null}function Zb(U,K){K=(K&4)!==0;for(var ge=0;ge<U.length;ge++){var Re=U[ge],Ze=Re.event;Re=Re.listeners;e:{var st=void 0;if(K)for(var G=Re.length-1;0<=G;G--){var V=Re[G],e=V.instance,y=V.currentTarget;if(V=V.listener,e!==st&&Ze.isPropagationStopped())break e;Xx(Ze,V,y),st=e}else for(G=0;G<Re.length;G++){if(V=Re[G],e=V.instance,y=V.currentTarget,V=V.listener,e!==st&&Ze.isPropagationStopped())break e;Xx(Ze,V,y),st=e}}}if(x0)throw U=Iy,x0=!1,Iy=null,U}function ji(U,K){var ge=K[Vy];ge===void 0&&(ge=K[Vy]=new Set);var Re=U+"__bubble";ge.has(Re)||(jb(K,U,2,!1),ge.add(Re))}function ey(U,K,ge){var Re=0;K&&(Re|=4),jb(ge,U,Re,K)}var jp="_reactListening"+Math.random().toString(36).slice(2);function Xd(U){if(!U[jp]){U[jp]=!0,eb.forEach(function(ge){ge!=="selectionchange"&&($4.has(ge)||ey(ge,!1,U),ey(ge,!0,U))});var K=U.nodeType===9?U:U.ownerDocument;K===null||K[jp]||(K[jp]=!0,ey("selectionchange",!1,K))}}function jb(U,K,ge,Re){switch(Rb(K)){case 1:var Ze=h4;break;case 4:Ze=v4;break;default:Ze=E1}ge=Ze.bind(null,K,ge,U),Ze=void 0,!Dy||K!=="touchstart"&&K!=="touchmove"&&K!=="wheel"||(Ze=!0),Re?Ze!==void 0?U.addEventListener(K,ge,{capture:!0,passive:Ze}):U.addEventListener(K,ge,!0):Ze!==void 0?U.addEventListener(K,ge,{passive:Ze}):U.addEventListener(K,ge,!1)}function ty(U,K,ge,Re,Ze){var st=Re;if(!(K&1)&&!(K&2)&&Re!==null)e:for(;;){if(Re===null)return;var G=Re.tag;if(G===3||G===4){var V=Re.stateNode.containerInfo;if(V===Ze||V.nodeType===8&&V.parentNode===Ze)break;if(G===4)for(G=Re.return;G!==null;){var e=G.tag;if((e===3||e===4)&&(e=G.stateNode.containerInfo,e===Ze||e.nodeType===8&&e.parentNode===Ze))return;G=G.return}for(;V!==null;){if(G=Rh(V),G===null)return;if(e=G.tag,e===5||e===6){Re=st=G;continue e}V=V.parentNode}}Re=Re.return}gb(function(){var y=st,P=T1(ge),o=[];e:{var L=Yb.get(U);if(L!==void 0){var M=L1,v=U;switch(U){case"keypress":if(l0(ge)===0)break e;case"keydown":case"keyup":M=L4;break;case"focusin":v="focus",M=Xg;break;case"focusout":v="blur",M=Xg;break;case"beforeblur":case"afterblur":M=Xg;break;case"click":if(ge.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=zx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=g4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=D4;break;case Hb:case Vb:case Gb:M=x4;break;case Wb:M=k4;break;case"scroll":M=d4;break;case"wheel":M=_4;break;case"copy":case"cut":case"paste":M=w4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Bx}var p=(K&4)!==0,r=!p&&U==="scroll",t=p?L!==null?L+"Capture":null:L;p=[];for(var i=y,n;i!==null;){n=i;var c=n.stateNode;if(n.tag===5&&c!==null&&(n=c,t!==null&&(c=Vd(i,t),c!=null&&p.push(Kd(i,c,n)))),r)break;i=i.return}0<p.length&&(L=new M(L,v,null,ge,P),o.push({event:L,listeners:p}))}}if(!(K&7)){e:{if(L=U==="mouseover"||U==="pointerover",M=U==="mouseout"||U==="pointerout",L&&ge!==Py&&(v=ge.relatedTarget||ge.fromElement)&&(Rh(v)||v[Vf]))break e;if((M||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,M?(v=ge.relatedTarget||ge.toElement,M=y,v=v?Rh(v):null,v!==null&&(r=Gh(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(M=null,v=y),M!==v)){if(p=zx,c="onMouseLeave",t="onMouseEnter",i="mouse",(U==="pointerout"||U==="pointerover")&&(p=Bx,c="onPointerLeave",t="onPointerEnter",i="pointer"),r=M==null?L:Tv(M),n=v==null?L:Tv(v),L=new p(c,i+"leave",M,ge,P),L.target=r,L.relatedTarget=n,c=null,Rh(P)===y&&(p=new p(t,i+"enter",v,ge,P),p.target=n,p.relatedTarget=r,c=p),r=c,M&&v)t:{for(p=M,t=v,i=0,n=p;n;n=gv(n))i++;for(n=0,c=t;c;c=gv(c))n++;for(;0<i-n;)p=gv(p),i--;for(;0<n-i;)t=gv(t),n--;for(;i--;){if(p===t||t!==null&&p===t.alternate)break t;p=gv(p),t=gv(t)}p=null}else p=null;M!==null&&Kx(o,L,M,p,!1),v!==null&&r!==null&&Kx(o,r,v,p,!0)}}e:{if(L=y?Tv(y):window,M=L.nodeName&&L.nodeName.toLowerCase(),M==="select"||M==="input"&&L.type==="file")var u=V4;else if(Hx(L))if(zb)u=Z4;else{u=W4;var l=G4}else(M=L.nodeName)&&M.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(u=Y4);if(u&&(u=u(U,y))){_b(o,u,ge,P);break e}l&&l(U,L,y),U==="focusout"&&(l=L._wrapperState)&&l.controlled&&L.type==="number"&&My(L,"number",L.value)}switch(l=y?Tv(y):window,U){case"focusin":(Hx(l)||l.contentEditable==="true")&&(bv=l,zy=y,kd=null);break;case"focusout":kd=zy=bv=null;break;case"mousedown":Oy=!0;break;case"contextmenu":case"mouseup":case"dragend":Oy=!1,Zx(o,ge,P);break;case"selectionchange":if(K4)break;case"keydown":case"keyup":Zx(o,ge,P)}var g;if(R1)e:{switch(U){case"compositionstart":var f="onCompositionStart";break e;case"compositionend":f="onCompositionEnd";break e;case"compositionupdate":f="onCompositionUpdate";break e}f=void 0}else xv?kb(U,ge)&&(f="onCompositionEnd"):U==="keydown"&&ge.keyCode===229&&(f="onCompositionStart");f&&(Ib&&ge.locale!=="ko"&&(xv||f!=="onCompositionStart"?f==="onCompositionEnd"&&xv&&(g=Db()):(_c=P,C1="value"in _c?_c.value:_c.textContent,xv=!0)),l=M0(y,f),0<l.length&&(f=new Ox(f,U,null,ge,P),o.push({event:f,listeners:l}),g?f.data=g:(g=Fb(ge),g!==null&&(f.data=g)))),(g=O4?B4(U,ge):N4(U,ge))&&(y=M0(y,"onBeforeInput"),0<y.length&&(P=new Ox("onBeforeInput","beforeinput",null,ge,P),o.push({event:P,listeners:y}),P.data=g))}Zb(o,K)})}function Kd(U,K,ge){return{instance:U,listener:K,currentTarget:ge}}function M0(U,K){for(var ge=K+"Capture",Re=[];U!==null;){var Ze=U,st=Ze.stateNode;Ze.tag===5&&st!==null&&(Ze=st,st=Vd(U,ge),st!=null&&Re.unshift(Kd(U,st,Ze)),st=Vd(U,K),st!=null&&Re.push(Kd(U,st,Ze))),U=U.return}return Re}function gv(U){if(U===null)return null;do U=U.return;while(U&&U.tag!==5);return U||null}function Kx(U,K,ge,Re,Ze){for(var st=K._reactName,G=[];ge!==null&&ge!==Re;){var V=ge,e=V.alternate,y=V.stateNode;if(e!==null&&e===Re)break;V.tag===5&&y!==null&&(V=y,Ze?(e=Vd(ge,st),e!=null&&G.unshift(Kd(ge,e,V))):Ze||(e=Vd(ge,st),e!=null&&G.push(Kd(ge,e,V)))),ge=ge.return}G.length!==0&&U.push({event:K,listeners:G})}var q4=/\r\n?/g,eM=/\u0000|\uFFFD/g;function Jx(U){return(typeof U=="string"?U:""+U).replace(q4,`
`).replace(eM,"")}function Xp(U,K,ge){if(K=Jx(K),Jx(U)!==K&&ge)throw Error(ma(425))}function S0(){}var By=null,Ny=null;function Uy(U,K){return U==="textarea"||U==="noscript"||typeof K.children=="string"||typeof K.children=="number"||typeof K.dangerouslySetInnerHTML=="object"&&K.dangerouslySetInnerHTML!==null&&K.dangerouslySetInnerHTML.__html!=null}var Hy=typeof setTimeout=="function"?setTimeout:void 0,tM=typeof clearTimeout=="function"?clearTimeout:void 0,Qx=typeof Promise=="function"?Promise:void 0,rM=typeof queueMicrotask=="function"?queueMicrotask:typeof Qx<"u"?function(U){return Qx.resolve(null).then(U).catch(nM)}:Hy;function nM(U){setTimeout(function(){throw U})}function ry(U,K){var ge=K,Re=0;do{var Ze=ge.nextSibling;if(U.removeChild(ge),Ze&&Ze.nodeType===8)if(ge=Ze.data,ge==="/$"){if(Re===0){U.removeChild(Ze),Yd(K);return}Re--}else ge!=="$"&&ge!=="$?"&&ge!=="$!"||Re++;ge=Ze}while(ge);Yd(K)}function Vc(U){for(;U!=null;U=U.nextSibling){var K=U.nodeType;if(K===1||K===3)break;if(K===8){if(K=U.data,K==="$"||K==="$!"||K==="$?")break;if(K==="/$")return null}}return U}function $x(U){U=U.previousSibling;for(var K=0;U;){if(U.nodeType===8){var ge=U.data;if(ge==="$"||ge==="$!"||ge==="$?"){if(K===0)return U;K--}else ge==="/$"&&K++}U=U.previousSibling}return null}var Wv=Math.random().toString(36).slice(2),of="__reactFiber$"+Wv,Jd="__reactProps$"+Wv,Vf="__reactContainer$"+Wv,Vy="__reactEvents$"+Wv,aM="__reactListeners$"+Wv,iM="__reactHandles$"+Wv;function Rh(U){var K=U[of];if(K)return K;for(var ge=U.parentNode;ge;){if(K=ge[Vf]||ge[of]){if(ge=K.alternate,K.child!==null||ge!==null&&ge.child!==null)for(U=$x(U);U!==null;){if(ge=U[of])return ge;U=$x(U)}return K}U=ge,ge=U.parentNode}return null}function sp(U){return U=U[of]||U[Vf],!U||U.tag!==5&&U.tag!==6&&U.tag!==13&&U.tag!==3?null:U}function Tv(U){if(U.tag===5||U.tag===6)return U.stateNode;throw Error(ma(33))}function J0(U){return U[Jd]||null}var Gy=[],Av=-1;function $c(U){return{current:U}}function Xi(U){0>Av||(U.current=Gy[Av],Gy[Av]=null,Av--)}function Hi(U,K){Av++,Gy[Av]=U.current,U.current=K}var Kc={},Ms=$c(Kc),rl=$c(!1),_h=Kc;function zv(U,K){var ge=U.type.contextTypes;if(!ge)return Kc;var Re=U.stateNode;if(Re&&Re.__reactInternalMemoizedUnmaskedChildContext===K)return Re.__reactInternalMemoizedMaskedChildContext;var Ze={},st;for(st in ge)Ze[st]=K[st];return Re&&(U=U.stateNode,U.__reactInternalMemoizedUnmaskedChildContext=K,U.__reactInternalMemoizedMaskedChildContext=Ze),Ze}function nl(U){return U=U.childContextTypes,U!=null}function E0(){Xi(rl),Xi(Ms)}function qx(U,K,ge){if(Ms.current!==Kc)throw Error(ma(168));Hi(Ms,K),Hi(rl,ge)}function Xb(U,K,ge){var Re=U.stateNode;if(K=K.childContextTypes,typeof Re.getChildContext!="function")return ge;Re=Re.getChildContext();for(var Ze in Re)if(!(Ze in K))throw Error(ma(108,GA(U)||"Unknown",Ze));return vo({},ge,Re)}function C0(U){return U=(U=U.stateNode)&&U.__reactInternalMemoizedMergedChildContext||Kc,_h=Ms.current,Hi(Ms,U),Hi(rl,rl.current),!0}function e2(U,K,ge){var Re=U.stateNode;if(!Re)throw Error(ma(169));ge?(U=Xb(U,K,_h),Re.__reactInternalMemoizedMergedChildContext=U,Xi(rl),Xi(Ms),Hi(Ms,U)):Xi(rl),Hi(rl,ge)}var Of=null,Q0=!1,ny=!1;function Kb(U){Of===null?Of=[U]:Of.push(U)}function oM(U){Q0=!0,Kb(U)}function qc(){if(!ny&&Of!==null){ny=!0;var U=0,K=Di;try{var ge=Of;for(Di=1;U<ge.length;U++){var Re=ge[U];do Re=Re(!0);while(Re!==null)}Of=null,Q0=!1}catch(Ze){throw Of!==null&&(Of=Of.slice(U+1)),bb(A1,qc),Ze}finally{Di=K,ny=!1}}return null}var Mv=[],Sv=0,L0=null,P0=0,Jl=[],Ql=0,zh=null,Bf=1,Nf="";function Ch(U,K){Mv[Sv++]=P0,Mv[Sv++]=L0,L0=U,P0=K}function Jb(U,K,ge){Jl[Ql++]=Bf,Jl[Ql++]=Nf,Jl[Ql++]=zh,zh=U;var Re=Bf;U=Nf;var Ze=32-ku(Re)-1;Re&=~(1<<Ze),ge+=1;var st=32-ku(K)+Ze;if(30<st){var G=Ze-Ze%5;st=(Re&(1<<G)-1).toString(32),Re>>=G,Ze-=G,Bf=1<<32-ku(K)+Ze|ge<<Ze|Re,Nf=st+U}else Bf=1<<st|ge<<Ze|Re,Nf=U}function I1(U){U.return!==null&&(Ch(U,1),Jb(U,1,0))}function k1(U){for(;U===L0;)L0=Mv[--Sv],Mv[Sv]=null,P0=Mv[--Sv],Mv[Sv]=null;for(;U===zh;)zh=Jl[--Ql],Jl[Ql]=null,Nf=Jl[--Ql],Jl[Ql]=null,Bf=Jl[--Ql],Jl[Ql]=null}var wl=null,bl=null,eo=!1,Du=null;function Qb(U,K){var ge=$l(5,null,null,0);ge.elementType="DELETED",ge.stateNode=K,ge.return=U,K=U.deletions,K===null?(U.deletions=[ge],U.flags|=16):K.push(ge)}function t2(U,K){switch(U.tag){case 5:var ge=U.type;return K=K.nodeType!==1||ge.toLowerCase()!==K.nodeName.toLowerCase()?null:K,K!==null?(U.stateNode=K,wl=U,bl=Vc(K.firstChild),!0):!1;case 6:return K=U.pendingProps===""||K.nodeType!==3?null:K,K!==null?(U.stateNode=K,wl=U,bl=null,!0):!1;case 13:return K=K.nodeType!==8?null:K,K!==null?(ge=zh!==null?{id:Bf,overflow:Nf}:null,U.memoizedState={dehydrated:K,treeContext:ge,retryLane:1073741824},ge=$l(18,null,null,0),ge.stateNode=K,ge.return=U,U.child=ge,wl=U,bl=null,!0):!1;default:return!1}}function Wy(U){return(U.mode&1)!==0&&(U.flags&128)===0}function Yy(U){if(eo){var K=bl;if(K){var ge=K;if(!t2(U,K)){if(Wy(U))throw Error(ma(418));K=Vc(ge.nextSibling);var Re=wl;K&&t2(U,K)?Qb(Re,ge):(U.flags=U.flags&-4097|2,eo=!1,wl=U)}}else{if(Wy(U))throw Error(ma(418));U.flags=U.flags&-4097|2,eo=!1,wl=U}}}function r2(U){for(U=U.return;U!==null&&U.tag!==5&&U.tag!==3&&U.tag!==13;)U=U.return;wl=U}function Kp(U){if(U!==wl)return!1;if(!eo)return r2(U),eo=!0,!1;var K;if((K=U.tag!==3)&&!(K=U.tag!==5)&&(K=U.type,K=K!=="head"&&K!=="body"&&!Uy(U.type,U.memoizedProps)),K&&(K=bl)){if(Wy(U))throw $b(),Error(ma(418));for(;K;)Qb(U,K),K=Vc(K.nextSibling)}if(r2(U),U.tag===13){if(U=U.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(ma(317));e:{for(U=U.nextSibling,K=0;U;){if(U.nodeType===8){var ge=U.data;if(ge==="/$"){if(K===0){bl=Vc(U.nextSibling);break e}K--}else ge!=="$"&&ge!=="$!"&&ge!=="$?"||K++}U=U.nextSibling}bl=null}}else bl=wl?Vc(U.stateNode.nextSibling):null;return!0}function $b(){for(var U=bl;U;)U=Vc(U.nextSibling)}function Ov(){bl=wl=null,eo=!1}function F1(U){Du===null?Du=[U]:Du.push(U)}var sM=Yf.ReactCurrentBatchConfig;function Pu(U,K){if(U&&U.defaultProps){K=vo({},K),U=U.defaultProps;for(var ge in U)K[ge]===void 0&&(K[ge]=U[ge]);return K}return K}var R0=$c(null),D0=null,Ev=null,_1=null;function z1(){_1=Ev=D0=null}function O1(U){var K=R0.current;Xi(R0),U._currentValue=K}function Zy(U,K,ge){for(;U!==null;){var Re=U.alternate;if((U.childLanes&K)!==K?(U.childLanes|=K,Re!==null&&(Re.childLanes|=K)):Re!==null&&(Re.childLanes&K)!==K&&(Re.childLanes|=K),U===ge)break;U=U.return}}function kv(U,K){D0=U,_1=Ev=null,U=U.dependencies,U!==null&&U.firstContext!==null&&(U.lanes&K&&(el=!0),U.firstContext=null)}function eu(U){var K=U._currentValue;if(_1!==U)if(U={context:U,memoizedValue:K,next:null},Ev===null){if(D0===null)throw Error(ma(308));Ev=U,D0.dependencies={lanes:0,firstContext:U}}else Ev=Ev.next=U;return K}var Dh=null;function B1(U){Dh===null?Dh=[U]:Dh.push(U)}function qb(U,K,ge,Re){var Ze=K.interleaved;return Ze===null?(ge.next=ge,B1(K)):(ge.next=Ze.next,Ze.next=ge),K.interleaved=ge,Gf(U,Re)}function Gf(U,K){U.lanes|=K;var ge=U.alternate;for(ge!==null&&(ge.lanes|=K),ge=U,U=U.return;U!==null;)U.childLanes|=K,ge=U.alternate,ge!==null&&(ge.childLanes|=K),ge=U,U=U.return;return ge.tag===3?ge.stateNode:null}var Ic=!1;function N1(U){U.updateQueue={baseState:U.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e3(U,K){U=U.updateQueue,K.updateQueue===U&&(K.updateQueue={baseState:U.baseState,firstBaseUpdate:U.firstBaseUpdate,lastBaseUpdate:U.lastBaseUpdate,shared:U.shared,effects:U.effects})}function Uf(U,K){return{eventTime:U,lane:K,tag:0,payload:null,callback:null,next:null}}function Gc(U,K,ge){var Re=U.updateQueue;if(Re===null)return null;if(Re=Re.shared,Ti&2){var Ze=Re.pending;return Ze===null?K.next=K:(K.next=Ze.next,Ze.next=K),Re.pending=K,Gf(U,ge)}return Ze=Re.interleaved,Ze===null?(K.next=K,B1(Re)):(K.next=Ze.next,Ze.next=K),Re.interleaved=K,Gf(U,ge)}function u0(U,K,ge){if(K=K.updateQueue,K!==null&&(K=K.shared,(ge&4194240)!==0)){var Re=K.lanes;Re&=U.pendingLanes,ge|=Re,K.lanes=ge,M1(U,ge)}}function n2(U,K){var ge=U.updateQueue,Re=U.alternate;if(Re!==null&&(Re=Re.updateQueue,ge===Re)){var Ze=null,st=null;if(ge=ge.firstBaseUpdate,ge!==null){do{var G={eventTime:ge.eventTime,lane:ge.lane,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null};st===null?Ze=st=G:st=st.next=G,ge=ge.next}while(ge!==null);st===null?Ze=st=K:st=st.next=K}else Ze=st=K;ge={baseState:Re.baseState,firstBaseUpdate:Ze,lastBaseUpdate:st,shared:Re.shared,effects:Re.effects},U.updateQueue=ge;return}U=ge.lastBaseUpdate,U===null?ge.firstBaseUpdate=K:U.next=K,ge.lastBaseUpdate=K}function I0(U,K,ge,Re){var Ze=U.updateQueue;Ic=!1;var st=Ze.firstBaseUpdate,G=Ze.lastBaseUpdate,V=Ze.shared.pending;if(V!==null){Ze.shared.pending=null;var e=V,y=e.next;e.next=null,G===null?st=y:G.next=y,G=e;var P=U.alternate;P!==null&&(P=P.updateQueue,V=P.lastBaseUpdate,V!==G&&(V===null?P.firstBaseUpdate=y:V.next=y,P.lastBaseUpdate=e))}if(st!==null){var o=Ze.baseState;G=0,P=y=e=null,V=st;do{var L=V.lane,M=V.eventTime;if((Re&L)===L){P!==null&&(P=P.next={eventTime:M,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var v=U,p=V;switch(L=K,M=ge,p.tag){case 1:if(v=p.payload,typeof v=="function"){o=v.call(M,o,L);break e}o=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,L=typeof v=="function"?v.call(M,o,L):v,L==null)break e;o=vo({},o,L);break e;case 2:Ic=!0}}V.callback!==null&&V.lane!==0&&(U.flags|=64,L=Ze.effects,L===null?Ze.effects=[V]:L.push(V))}else M={eventTime:M,lane:L,tag:V.tag,payload:V.payload,callback:V.callback,next:null},P===null?(y=P=M,e=o):P=P.next=M,G|=L;if(V=V.next,V===null){if(V=Ze.shared.pending,V===null)break;L=V,V=L.next,L.next=null,Ze.lastBaseUpdate=L,Ze.shared.pending=null}}while(1);if(P===null&&(e=o),Ze.baseState=e,Ze.firstBaseUpdate=y,Ze.lastBaseUpdate=P,K=Ze.shared.interleaved,K!==null){Ze=K;do G|=Ze.lane,Ze=Ze.next;while(Ze!==K)}else st===null&&(Ze.shared.lanes=0);Bh|=G,U.lanes=G,U.memoizedState=o}}function a2(U,K,ge){if(U=K.effects,K.effects=null,U!==null)for(K=0;K<U.length;K++){var Re=U[K],Ze=Re.callback;if(Ze!==null){if(Re.callback=null,Re=ge,typeof Ze!="function")throw Error(ma(191,Ze));Ze.call(Re)}}}var t3=new q2.Component().refs;function jy(U,K,ge,Re){K=U.memoizedState,ge=ge(Re,K),ge=ge==null?K:vo({},K,ge),U.memoizedState=ge,U.lanes===0&&(U.updateQueue.baseState=ge)}var $0={isMounted:function(U){return(U=U._reactInternals)?Gh(U)===U:!1},enqueueSetState:function(U,K,ge){U=U._reactInternals;var Re=zs(),Ze=Yc(U),st=Uf(Re,Ze);st.payload=K,ge!=null&&(st.callback=ge),K=Gc(U,st,Ze),K!==null&&(Fu(K,U,Ze,Re),u0(K,U,Ze))},enqueueReplaceState:function(U,K,ge){U=U._reactInternals;var Re=zs(),Ze=Yc(U),st=Uf(Re,Ze);st.tag=1,st.payload=K,ge!=null&&(st.callback=ge),K=Gc(U,st,Ze),K!==null&&(Fu(K,U,Ze,Re),u0(K,U,Ze))},enqueueForceUpdate:function(U,K){U=U._reactInternals;var ge=zs(),Re=Yc(U),Ze=Uf(ge,Re);Ze.tag=2,K!=null&&(Ze.callback=K),K=Gc(U,Ze,Re),K!==null&&(Fu(K,U,Re,ge),u0(K,U,Re))}};function i2(U,K,ge,Re,Ze,st,G){return U=U.stateNode,typeof U.shouldComponentUpdate=="function"?U.shouldComponentUpdate(Re,st,G):K.prototype&&K.prototype.isPureReactComponent?!jd(ge,Re)||!jd(Ze,st):!0}function r3(U,K,ge){var Re=!1,Ze=Kc,st=K.contextType;return typeof st=="object"&&st!==null?st=eu(st):(Ze=nl(K)?_h:Ms.current,Re=K.contextTypes,st=(Re=Re!=null)?zv(U,Ze):Kc),K=new K(ge,st),U.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,K.updater=$0,U.stateNode=K,K._reactInternals=U,Re&&(U=U.stateNode,U.__reactInternalMemoizedUnmaskedChildContext=Ze,U.__reactInternalMemoizedMaskedChildContext=st),K}function o2(U,K,ge,Re){U=K.state,typeof K.componentWillReceiveProps=="function"&&K.componentWillReceiveProps(ge,Re),typeof K.UNSAFE_componentWillReceiveProps=="function"&&K.UNSAFE_componentWillReceiveProps(ge,Re),K.state!==U&&$0.enqueueReplaceState(K,K.state,null)}function Xy(U,K,ge,Re){var Ze=U.stateNode;Ze.props=ge,Ze.state=U.memoizedState,Ze.refs=t3,N1(U);var st=K.contextType;typeof st=="object"&&st!==null?Ze.context=eu(st):(st=nl(K)?_h:Ms.current,Ze.context=zv(U,st)),Ze.state=U.memoizedState,st=K.getDerivedStateFromProps,typeof st=="function"&&(jy(U,K,st,ge),Ze.state=U.memoizedState),typeof K.getDerivedStateFromProps=="function"||typeof Ze.getSnapshotBeforeUpdate=="function"||typeof Ze.UNSAFE_componentWillMount!="function"&&typeof Ze.componentWillMount!="function"||(K=Ze.state,typeof Ze.componentWillMount=="function"&&Ze.componentWillMount(),typeof Ze.UNSAFE_componentWillMount=="function"&&Ze.UNSAFE_componentWillMount(),K!==Ze.state&&$0.enqueueReplaceState(Ze,Ze.state,null),I0(U,ge,Ze,Re),Ze.state=U.memoizedState),typeof Ze.componentDidMount=="function"&&(U.flags|=4194308)}function wd(U,K,ge){if(U=ge.ref,U!==null&&typeof U!="function"&&typeof U!="object"){if(ge._owner){if(ge=ge._owner,ge){if(ge.tag!==1)throw Error(ma(309));var Re=ge.stateNode}if(!Re)throw Error(ma(147,U));var Ze=Re,st=""+U;return K!==null&&K.ref!==null&&typeof K.ref=="function"&&K.ref._stringRef===st?K.ref:(K=function(G){var V=Ze.refs;V===t3&&(V=Ze.refs={}),G===null?delete V[st]:V[st]=G},K._stringRef=st,K)}if(typeof U!="string")throw Error(ma(284));if(!ge._owner)throw Error(ma(290,U))}return U}function Jp(U,K){throw U=Object.prototype.toString.call(K),Error(ma(31,U==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":U))}function s2(U){var K=U._init;return K(U._payload)}function n3(U){function K(t,i){if(U){var n=t.deletions;n===null?(t.deletions=[i],t.flags|=16):n.push(i)}}function ge(t,i){if(!U)return null;for(;i!==null;)K(t,i),i=i.sibling;return null}function Re(t,i){for(t=new Map;i!==null;)i.key!==null?t.set(i.key,i):t.set(i.index,i),i=i.sibling;return t}function Ze(t,i){return t=Zc(t,i),t.index=0,t.sibling=null,t}function st(t,i,n){return t.index=n,U?(n=t.alternate,n!==null?(n=n.index,n<i?(t.flags|=2,i):n):(t.flags|=2,i)):(t.flags|=1048576,i)}function G(t){return U&&t.alternate===null&&(t.flags|=2),t}function V(t,i,n,c){return i===null||i.tag!==6?(i=fy(n,t.mode,c),i.return=t,i):(i=Ze(i,n),i.return=t,i)}function e(t,i,n,c){var u=n.type;return u===mv?P(t,i,n.props.children,c,n.key):i!==null&&(i.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Dc&&s2(u)===i.type)?(c=Ze(i,n.props),c.ref=wd(t,i,n),c.return=t,c):(c=p0(n.type,n.key,n.props,null,t.mode,c),c.ref=wd(t,i,n),c.return=t,c)}function y(t,i,n,c){return i===null||i.tag!==4||i.stateNode.containerInfo!==n.containerInfo||i.stateNode.implementation!==n.implementation?(i=cy(n,t.mode,c),i.return=t,i):(i=Ze(i,n.children||[]),i.return=t,i)}function P(t,i,n,c,u){return i===null||i.tag!==7?(i=Fh(n,t.mode,c,u),i.return=t,i):(i=Ze(i,n),i.return=t,i)}function o(t,i,n){if(typeof i=="string"&&i!==""||typeof i=="number")return i=fy(""+i,t.mode,n),i.return=t,i;if(typeof i=="object"&&i!==null){switch(i.$$typeof){case Np:return n=p0(i.type,i.key,i.props,null,t.mode,n),n.ref=wd(t,null,i),n.return=t,n;case yv:return i=cy(i,t.mode,n),i.return=t,i;case Dc:var c=i._init;return o(t,c(i._payload),n)}if(Sd(i)||gd(i))return i=Fh(i,t.mode,n,null),i.return=t,i;Jp(t,i)}return null}function L(t,i,n,c){var u=i!==null?i.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return u!==null?null:V(t,i,""+n,c);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case Np:return n.key===u?e(t,i,n,c):null;case yv:return n.key===u?y(t,i,n,c):null;case Dc:return u=n._init,L(t,i,u(n._payload),c)}if(Sd(n)||gd(n))return u!==null?null:P(t,i,n,c,null);Jp(t,n)}return null}function M(t,i,n,c,u){if(typeof c=="string"&&c!==""||typeof c=="number")return t=t.get(n)||null,V(i,t,""+c,u);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Np:return t=t.get(c.key===null?n:c.key)||null,e(i,t,c,u);case yv:return t=t.get(c.key===null?n:c.key)||null,y(i,t,c,u);case Dc:var l=c._init;return M(t,i,n,l(c._payload),u)}if(Sd(c)||gd(c))return t=t.get(n)||null,P(i,t,c,u,null);Jp(i,c)}return null}function v(t,i,n,c){for(var u=null,l=null,g=i,f=i=0,T=null;g!==null&&f<n.length;f++){g.index>f?(T=g,g=null):T=g.sibling;var h=L(t,g,n[f],c);if(h===null){g===null&&(g=T);break}U&&g&&h.alternate===null&&K(t,g),i=st(h,i,f),l===null?u=h:l.sibling=h,l=h,g=T}if(f===n.length)return ge(t,g),eo&&Ch(t,f),u;if(g===null){for(;f<n.length;f++)g=o(t,n[f],c),g!==null&&(i=st(g,i,f),l===null?u=g:l.sibling=g,l=g);return eo&&Ch(t,f),u}for(g=Re(t,g);f<n.length;f++)T=M(g,t,f,n[f],c),T!==null&&(U&&T.alternate!==null&&g.delete(T.key===null?f:T.key),i=st(T,i,f),l===null?u=T:l.sibling=T,l=T);return U&&g.forEach(function(s){return K(t,s)}),eo&&Ch(t,f),u}function p(t,i,n,c){var u=gd(n);if(typeof u!="function")throw Error(ma(150));if(n=u.call(n),n==null)throw Error(ma(151));for(var l=u=null,g=i,f=i=0,T=null,h=n.next();g!==null&&!h.done;f++,h=n.next()){g.index>f?(T=g,g=null):T=g.sibling;var s=L(t,g,h.value,c);if(s===null){g===null&&(g=T);break}U&&g&&s.alternate===null&&K(t,g),i=st(s,i,f),l===null?u=s:l.sibling=s,l=s,g=T}if(h.done)return ge(t,g),eo&&Ch(t,f),u;if(g===null){for(;!h.done;f++,h=n.next())h=o(t,h.value,c),h!==null&&(i=st(h,i,f),l===null?u=h:l.sibling=h,l=h);return eo&&Ch(t,f),u}for(g=Re(t,g);!h.done;f++,h=n.next())h=M(g,t,f,h.value,c),h!==null&&(U&&h.alternate!==null&&g.delete(h.key===null?f:h.key),i=st(h,i,f),l===null?u=h:l.sibling=h,l=h);return U&&g.forEach(function(d){return K(t,d)}),eo&&Ch(t,f),u}function r(t,i,n,c){if(typeof n=="object"&&n!==null&&n.type===mv&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case Np:e:{for(var u=n.key,l=i;l!==null;){if(l.key===u){if(u=n.type,u===mv){if(l.tag===7){ge(t,l.sibling),i=Ze(l,n.props.children),i.return=t,t=i;break e}}else if(l.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Dc&&s2(u)===l.type){ge(t,l.sibling),i=Ze(l,n.props),i.ref=wd(t,l,n),i.return=t,t=i;break e}ge(t,l);break}else K(t,l);l=l.sibling}n.type===mv?(i=Fh(n.props.children,t.mode,c,n.key),i.return=t,t=i):(c=p0(n.type,n.key,n.props,null,t.mode,c),c.ref=wd(t,i,n),c.return=t,t=c)}return G(t);case yv:e:{for(l=n.key;i!==null;){if(i.key===l)if(i.tag===4&&i.stateNode.containerInfo===n.containerInfo&&i.stateNode.implementation===n.implementation){ge(t,i.sibling),i=Ze(i,n.children||[]),i.return=t,t=i;break e}else{ge(t,i);break}else K(t,i);i=i.sibling}i=cy(n,t.mode,c),i.return=t,t=i}return G(t);case Dc:return l=n._init,r(t,i,l(n._payload),c)}if(Sd(n))return v(t,i,n,c);if(gd(n))return p(t,i,n,c);Jp(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,i!==null&&i.tag===6?(ge(t,i.sibling),i=Ze(i,n),i.return=t,t=i):(ge(t,i),i=fy(n,t.mode,c),i.return=t,t=i),G(t)):ge(t,i)}return r}var Bv=n3(!0),a3=n3(!1),lp={},lf=$c(lp),Qd=$c(lp),$d=$c(lp);function Ih(U){if(U===lp)throw Error(ma(174));return U}function U1(U,K){switch(Hi($d,K),Hi(Qd,U),Hi(lf,lp),U=K.nodeType,U){case 9:case 11:K=(K=K.documentElement)?K.namespaceURI:Ey(null,"");break;default:U=U===8?K.parentNode:K,K=U.namespaceURI||null,U=U.tagName,K=Ey(K,U)}Xi(lf),Hi(lf,K)}function Nv(){Xi(lf),Xi(Qd),Xi($d)}function i3(U){Ih($d.current);var K=Ih(lf.current),ge=Ey(K,U.type);K!==ge&&(Hi(Qd,U),Hi(lf,ge))}function H1(U){Qd.current===U&&(Xi(lf),Xi(Qd))}var co=$c(0);function k0(U){for(var K=U;K!==null;){if(K.tag===13){var ge=K.memoizedState;if(ge!==null&&(ge=ge.dehydrated,ge===null||ge.data==="$?"||ge.data==="$!"))return K}else if(K.tag===19&&K.memoizedProps.revealOrder!==void 0){if(K.flags&128)return K}else if(K.child!==null){K.child.return=K,K=K.child;continue}if(K===U)break;for(;K.sibling===null;){if(K.return===null||K.return===U)return null;K=K.return}K.sibling.return=K.return,K=K.sibling}return null}var ay=[];function V1(){for(var U=0;U<ay.length;U++)ay[U]._workInProgressVersionPrimary=null;ay.length=0}var f0=Yf.ReactCurrentDispatcher,iy=Yf.ReactCurrentBatchConfig,Oh=0,ho=null,No=null,Zo=null,F0=!1,Fd=!1,qd=0,lM=0;function ws(){throw Error(ma(321))}function G1(U,K){if(K===null)return!1;for(var ge=0;ge<K.length&&ge<U.length;ge++)if(!_u(U[ge],K[ge]))return!1;return!0}function W1(U,K,ge,Re,Ze,st){if(Oh=st,ho=K,K.memoizedState=null,K.updateQueue=null,K.lanes=0,f0.current=U===null||U.memoizedState===null?hM:vM,U=ge(Re,Ze),Fd){st=0;do{if(Fd=!1,qd=0,25<=st)throw Error(ma(301));st+=1,Zo=No=null,K.updateQueue=null,f0.current=dM,U=ge(Re,Ze)}while(Fd)}if(f0.current=_0,K=No!==null&&No.next!==null,Oh=0,Zo=No=ho=null,F0=!1,K)throw Error(ma(300));return U}function Y1(){var U=qd!==0;return qd=0,U}function af(){var U={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zo===null?ho.memoizedState=Zo=U:Zo=Zo.next=U,Zo}function tu(){if(No===null){var U=ho.alternate;U=U!==null?U.memoizedState:null}else U=No.next;var K=Zo===null?ho.memoizedState:Zo.next;if(K!==null)Zo=K,No=U;else{if(U===null)throw Error(ma(310));No=U,U={memoizedState:No.memoizedState,baseState:No.baseState,baseQueue:No.baseQueue,queue:No.queue,next:null},Zo===null?ho.memoizedState=Zo=U:Zo=Zo.next=U}return Zo}function ep(U,K){return typeof K=="function"?K(U):K}function oy(U){var K=tu(),ge=K.queue;if(ge===null)throw Error(ma(311));ge.lastRenderedReducer=U;var Re=No,Ze=Re.baseQueue,st=ge.pending;if(st!==null){if(Ze!==null){var G=Ze.next;Ze.next=st.next,st.next=G}Re.baseQueue=Ze=st,ge.pending=null}if(Ze!==null){st=Ze.next,Re=Re.baseState;var V=G=null,e=null,y=st;do{var P=y.lane;if((Oh&P)===P)e!==null&&(e=e.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),Re=y.hasEagerState?y.eagerState:U(Re,y.action);else{var o={lane:P,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};e===null?(V=e=o,G=Re):e=e.next=o,ho.lanes|=P,Bh|=P}y=y.next}while(y!==null&&y!==st);e===null?G=Re:e.next=V,_u(Re,K.memoizedState)||(el=!0),K.memoizedState=Re,K.baseState=G,K.baseQueue=e,ge.lastRenderedState=Re}if(U=ge.interleaved,U!==null){Ze=U;do st=Ze.lane,ho.lanes|=st,Bh|=st,Ze=Ze.next;while(Ze!==U)}else Ze===null&&(ge.lanes=0);return[K.memoizedState,ge.dispatch]}function sy(U){var K=tu(),ge=K.queue;if(ge===null)throw Error(ma(311));ge.lastRenderedReducer=U;var Re=ge.dispatch,Ze=ge.pending,st=K.memoizedState;if(Ze!==null){ge.pending=null;var G=Ze=Ze.next;do st=U(st,G.action),G=G.next;while(G!==Ze);_u(st,K.memoizedState)||(el=!0),K.memoizedState=st,K.baseQueue===null&&(K.baseState=st),ge.lastRenderedState=st}return[st,Re]}function o3(){}function s3(U,K){var ge=ho,Re=tu(),Ze=K(),st=!_u(Re.memoizedState,Ze);if(st&&(Re.memoizedState=Ze,el=!0),Re=Re.queue,Z1(f3.bind(null,ge,Re,U),[U]),Re.getSnapshot!==K||st||Zo!==null&&Zo.memoizedState.tag&1){if(ge.flags|=2048,tp(9,u3.bind(null,ge,Re,Ze,K),void 0,null),jo===null)throw Error(ma(349));Oh&30||l3(ge,K,Ze)}return Ze}function l3(U,K,ge){U.flags|=16384,U={getSnapshot:K,value:ge},K=ho.updateQueue,K===null?(K={lastEffect:null,stores:null},ho.updateQueue=K,K.stores=[U]):(ge=K.stores,ge===null?K.stores=[U]:ge.push(U))}function u3(U,K,ge,Re){K.value=ge,K.getSnapshot=Re,c3(K)&&h3(U)}function f3(U,K,ge){return ge(function(){c3(K)&&h3(U)})}function c3(U){var K=U.getSnapshot;U=U.value;try{var ge=K();return!_u(U,ge)}catch{return!0}}function h3(U){var K=Gf(U,1);K!==null&&Fu(K,U,1,-1)}function l2(U){var K=af();return typeof U=="function"&&(U=U()),K.memoizedState=K.baseState=U,U={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ep,lastRenderedState:U},K.queue=U,U=U.dispatch=cM.bind(null,ho,U),[K.memoizedState,U]}function tp(U,K,ge,Re){return U={tag:U,create:K,destroy:ge,deps:Re,next:null},K=ho.updateQueue,K===null?(K={lastEffect:null,stores:null},ho.updateQueue=K,K.lastEffect=U.next=U):(ge=K.lastEffect,ge===null?K.lastEffect=U.next=U:(Re=ge.next,ge.next=U,U.next=Re,K.lastEffect=U)),U}function v3(){return tu().memoizedState}function c0(U,K,ge,Re){var Ze=af();ho.flags|=U,Ze.memoizedState=tp(1|K,ge,void 0,Re===void 0?null:Re)}function q0(U,K,ge,Re){var Ze=tu();Re=Re===void 0?null:Re;var st=void 0;if(No!==null){var G=No.memoizedState;if(st=G.destroy,Re!==null&&G1(Re,G.deps)){Ze.memoizedState=tp(K,ge,st,Re);return}}ho.flags|=U,Ze.memoizedState=tp(1|K,ge,st,Re)}function u2(U,K){return c0(8390656,8,U,K)}function Z1(U,K){return q0(2048,8,U,K)}function d3(U,K){return q0(4,2,U,K)}function p3(U,K){return q0(4,4,U,K)}function g3(U,K){if(typeof K=="function")return U=U(),K(U),function(){K(null)};if(K!=null)return U=U(),K.current=U,function(){K.current=null}}function y3(U,K,ge){return ge=ge!=null?ge.concat([U]):null,q0(4,4,g3.bind(null,K,U),ge)}function j1(){}function m3(U,K){var ge=tu();K=K===void 0?null:K;var Re=ge.memoizedState;return Re!==null&&K!==null&&G1(K,Re[1])?Re[0]:(ge.memoizedState=[U,K],U)}function x3(U,K){var ge=tu();K=K===void 0?null:K;var Re=ge.memoizedState;return Re!==null&&K!==null&&G1(K,Re[1])?Re[0]:(U=U(),ge.memoizedState=[U,K],U)}function b3(U,K,ge){return Oh&21?(_u(ge,K)||(ge=Ab(),ho.lanes|=ge,Bh|=ge,U.baseState=!0),K):(U.baseState&&(U.baseState=!1,el=!0),U.memoizedState=ge)}function uM(U,K){var ge=Di;Di=ge!==0&&4>ge?ge:4,U(!0);var Re=iy.transition;iy.transition={};try{U(!1),K()}finally{Di=ge,iy.transition=Re}}function w3(){return tu().memoizedState}function fM(U,K,ge){var Re=Yc(U);if(ge={lane:Re,action:ge,hasEagerState:!1,eagerState:null,next:null},T3(U))A3(K,ge);else if(ge=qb(U,K,ge,Re),ge!==null){var Ze=zs();Fu(ge,U,Re,Ze),M3(ge,K,Re)}}function cM(U,K,ge){var Re=Yc(U),Ze={lane:Re,action:ge,hasEagerState:!1,eagerState:null,next:null};if(T3(U))A3(K,Ze);else{var st=U.alternate;if(U.lanes===0&&(st===null||st.lanes===0)&&(st=K.lastRenderedReducer,st!==null))try{var G=K.lastRenderedState,V=st(G,ge);if(Ze.hasEagerState=!0,Ze.eagerState=V,_u(V,G)){var e=K.interleaved;e===null?(Ze.next=Ze,B1(K)):(Ze.next=e.next,e.next=Ze),K.interleaved=Ze;return}}catch{}finally{}ge=qb(U,K,Ze,Re),ge!==null&&(Ze=zs(),Fu(ge,U,Re,Ze),M3(ge,K,Re))}}function T3(U){var K=U.alternate;return U===ho||K!==null&&K===ho}function A3(U,K){Fd=F0=!0;var ge=U.pending;ge===null?K.next=K:(K.next=ge.next,ge.next=K),U.pending=K}function M3(U,K,ge){if(ge&4194240){var Re=K.lanes;Re&=U.pendingLanes,ge|=Re,K.lanes=ge,M1(U,ge)}}var _0={readContext:eu,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},hM={readContext:eu,useCallback:function(U,K){return af().memoizedState=[U,K===void 0?null:K],U},useContext:eu,useEffect:u2,useImperativeHandle:function(U,K,ge){return ge=ge!=null?ge.concat([U]):null,c0(4194308,4,g3.bind(null,K,U),ge)},useLayoutEffect:function(U,K){return c0(4194308,4,U,K)},useInsertionEffect:function(U,K){return c0(4,2,U,K)},useMemo:function(U,K){var ge=af();return K=K===void 0?null:K,U=U(),ge.memoizedState=[U,K],U},useReducer:function(U,K,ge){var Re=af();return K=ge!==void 0?ge(K):K,Re.memoizedState=Re.baseState=K,U={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:U,lastRenderedState:K},Re.queue=U,U=U.dispatch=fM.bind(null,ho,U),[Re.memoizedState,U]},useRef:function(U){var K=af();return U={current:U},K.memoizedState=U},useState:l2,useDebugValue:j1,useDeferredValue:function(U){return af().memoizedState=U},useTransition:function(){var U=l2(!1),K=U[0];return U=uM.bind(null,U[1]),af().memoizedState=U,[K,U]},useMutableSource:function(){},useSyncExternalStore:function(U,K,ge){var Re=ho,Ze=af();if(eo){if(ge===void 0)throw Error(ma(407));ge=ge()}else{if(ge=K(),jo===null)throw Error(ma(349));Oh&30||l3(Re,K,ge)}Ze.memoizedState=ge;var st={value:ge,getSnapshot:K};return Ze.queue=st,u2(f3.bind(null,Re,st,U),[U]),Re.flags|=2048,tp(9,u3.bind(null,Re,st,ge,K),void 0,null),ge},useId:function(){var U=af(),K=jo.identifierPrefix;if(eo){var ge=Nf,Re=Bf;ge=(Re&~(1<<32-ku(Re)-1)).toString(32)+ge,K=":"+K+"R"+ge,ge=qd++,0<ge&&(K+="H"+ge.toString(32)),K+=":"}else ge=lM++,K=":"+K+"r"+ge.toString(32)+":";return U.memoizedState=K},unstable_isNewReconciler:!1},vM={readContext:eu,useCallback:m3,useContext:eu,useEffect:Z1,useImperativeHandle:y3,useInsertionEffect:d3,useLayoutEffect:p3,useMemo:x3,useReducer:oy,useRef:v3,useState:function(){return oy(ep)},useDebugValue:j1,useDeferredValue:function(U){var K=tu();return b3(K,No.memoizedState,U)},useTransition:function(){var U=oy(ep)[0],K=tu().memoizedState;return[U,K]},useMutableSource:o3,useSyncExternalStore:s3,useId:w3,unstable_isNewReconciler:!1},dM={readContext:eu,useCallback:m3,useContext:eu,useEffect:Z1,useImperativeHandle:y3,useInsertionEffect:d3,useLayoutEffect:p3,useMemo:x3,useReducer:sy,useRef:v3,useState:function(){return sy(ep)},useDebugValue:j1,useDeferredValue:function(U){var K=tu();return No===null?K.memoizedState=U:b3(K,No.memoizedState,U)},useTransition:function(){var U=sy(ep)[0],K=tu().memoizedState;return[U,K]},useMutableSource:o3,useSyncExternalStore:s3,useId:w3,unstable_isNewReconciler:!1};function Uv(U,K){try{var ge="",Re=K;do ge+=VA(Re),Re=Re.return;while(Re);var Ze=ge}catch(st){Ze=`
Error generating stack: `+st.message+`
`+st.stack}return{value:U,source:K,stack:Ze,digest:null}}function ly(U,K,ge){return{value:U,source:null,stack:ge??null,digest:K??null}}function Ky(U,K){try{console.error(K.value)}catch(ge){setTimeout(function(){throw ge})}}var pM=typeof WeakMap=="function"?WeakMap:Map;function S3(U,K,ge){ge=Uf(-1,ge),ge.tag=3,ge.payload={element:null};var Re=K.value;return ge.callback=function(){O0||(O0=!0,i1=Re),Ky(U,K)},ge}function E3(U,K,ge){ge=Uf(-1,ge),ge.tag=3;var Re=U.type.getDerivedStateFromError;if(typeof Re=="function"){var Ze=K.value;ge.payload=function(){return Re(Ze)},ge.callback=function(){Ky(U,K)}}var st=U.stateNode;return st!==null&&typeof st.componentDidCatch=="function"&&(ge.callback=function(){Ky(U,K),typeof Re!="function"&&(Wc===null?Wc=new Set([this]):Wc.add(this));var G=K.stack;this.componentDidCatch(K.value,{componentStack:G!==null?G:""})}),ge}function f2(U,K,ge){var Re=U.pingCache;if(Re===null){Re=U.pingCache=new pM;var Ze=new Set;Re.set(K,Ze)}else Ze=Re.get(K),Ze===void 0&&(Ze=new Set,Re.set(K,Ze));Ze.has(ge)||(Ze.add(ge),U=PM.bind(null,U,K,ge),K.then(U,U))}function c2(U){do{var K;if((K=U.tag===13)&&(K=U.memoizedState,K=K!==null?K.dehydrated!==null:!0),K)return U;U=U.return}while(U!==null);return null}function h2(U,K,ge,Re,Ze){return U.mode&1?(U.flags|=65536,U.lanes=Ze,U):(U===K?U.flags|=65536:(U.flags|=128,ge.flags|=131072,ge.flags&=-52805,ge.tag===1&&(ge.alternate===null?ge.tag=17:(K=Uf(-1,1),K.tag=2,Gc(ge,K,1))),ge.lanes|=1),U)}var gM=Yf.ReactCurrentOwner,el=!1;function _s(U,K,ge,Re){K.child=U===null?a3(K,null,ge,Re):Bv(K,U.child,ge,Re)}function v2(U,K,ge,Re,Ze){ge=ge.render;var st=K.ref;return kv(K,Ze),Re=W1(U,K,ge,Re,st,Ze),ge=Y1(),U!==null&&!el?(K.updateQueue=U.updateQueue,K.flags&=-2053,U.lanes&=~Ze,Wf(U,K,Ze)):(eo&&ge&&I1(K),K.flags|=1,_s(U,K,Re,Ze),K.child)}function d2(U,K,ge,Re,Ze){if(U===null){var st=ge.type;return typeof st=="function"&&!tm(st)&&st.defaultProps===void 0&&ge.compare===null&&ge.defaultProps===void 0?(K.tag=15,K.type=st,C3(U,K,st,Re,Ze)):(U=p0(ge.type,null,Re,K,K.mode,Ze),U.ref=K.ref,U.return=K,K.child=U)}if(st=U.child,!(U.lanes&Ze)){var G=st.memoizedProps;if(ge=ge.compare,ge=ge!==null?ge:jd,ge(G,Re)&&U.ref===K.ref)return Wf(U,K,Ze)}return K.flags|=1,U=Zc(st,Re),U.ref=K.ref,U.return=K,K.child=U}function C3(U,K,ge,Re,Ze){if(U!==null){var st=U.memoizedProps;if(jd(st,Re)&&U.ref===K.ref)if(el=!1,K.pendingProps=Re=st,(U.lanes&Ze)!==0)U.flags&131072&&(el=!0);else return K.lanes=U.lanes,Wf(U,K,Ze)}return Jy(U,K,ge,Re,Ze)}function L3(U,K,ge){var Re=K.pendingProps,Ze=Re.children,st=U!==null?U.memoizedState:null;if(Re.mode==="hidden")if(!(K.mode&1))K.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hi(Lv,xl),xl|=ge;else{if(!(ge&1073741824))return U=st!==null?st.baseLanes|ge:ge,K.lanes=K.childLanes=1073741824,K.memoizedState={baseLanes:U,cachePool:null,transitions:null},K.updateQueue=null,Hi(Lv,xl),xl|=U,null;K.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re=st!==null?st.baseLanes:ge,Hi(Lv,xl),xl|=Re}else st!==null?(Re=st.baseLanes|ge,K.memoizedState=null):Re=ge,Hi(Lv,xl),xl|=Re;return _s(U,K,Ze,ge),K.child}function P3(U,K){var ge=K.ref;(U===null&&ge!==null||U!==null&&U.ref!==ge)&&(K.flags|=512,K.flags|=2097152)}function Jy(U,K,ge,Re,Ze){var st=nl(ge)?_h:Ms.current;return st=zv(K,st),kv(K,Ze),ge=W1(U,K,ge,Re,st,Ze),Re=Y1(),U!==null&&!el?(K.updateQueue=U.updateQueue,K.flags&=-2053,U.lanes&=~Ze,Wf(U,K,Ze)):(eo&&Re&&I1(K),K.flags|=1,_s(U,K,ge,Ze),K.child)}function p2(U,K,ge,Re,Ze){if(nl(ge)){var st=!0;C0(K)}else st=!1;if(kv(K,Ze),K.stateNode===null)h0(U,K),r3(K,ge,Re),Xy(K,ge,Re,Ze),Re=!0;else if(U===null){var G=K.stateNode,V=K.memoizedProps;G.props=V;var e=G.context,y=ge.contextType;typeof y=="object"&&y!==null?y=eu(y):(y=nl(ge)?_h:Ms.current,y=zv(K,y));var P=ge.getDerivedStateFromProps,o=typeof P=="function"||typeof G.getSnapshotBeforeUpdate=="function";o||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(V!==Re||e!==y)&&o2(K,G,Re,y),Ic=!1;var L=K.memoizedState;G.state=L,I0(K,Re,G,Ze),e=K.memoizedState,V!==Re||L!==e||rl.current||Ic?(typeof P=="function"&&(jy(K,ge,P,Re),e=K.memoizedState),(V=Ic||i2(K,ge,V,Re,L,e,y))?(o||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(K.flags|=4194308)):(typeof G.componentDidMount=="function"&&(K.flags|=4194308),K.memoizedProps=Re,K.memoizedState=e),G.props=Re,G.state=e,G.context=y,Re=V):(typeof G.componentDidMount=="function"&&(K.flags|=4194308),Re=!1)}else{G=K.stateNode,e3(U,K),V=K.memoizedProps,y=K.type===K.elementType?V:Pu(K.type,V),G.props=y,o=K.pendingProps,L=G.context,e=ge.contextType,typeof e=="object"&&e!==null?e=eu(e):(e=nl(ge)?_h:Ms.current,e=zv(K,e));var M=ge.getDerivedStateFromProps;(P=typeof M=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(V!==o||L!==e)&&o2(K,G,Re,e),Ic=!1,L=K.memoizedState,G.state=L,I0(K,Re,G,Ze);var v=K.memoizedState;V!==o||L!==v||rl.current||Ic?(typeof M=="function"&&(jy(K,ge,M,Re),v=K.memoizedState),(y=Ic||i2(K,ge,y,Re,L,v,e)||!1)?(P||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(Re,v,e),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(Re,v,e)),typeof G.componentDidUpdate=="function"&&(K.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(K.flags|=1024)):(typeof G.componentDidUpdate!="function"||V===U.memoizedProps&&L===U.memoizedState||(K.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||V===U.memoizedProps&&L===U.memoizedState||(K.flags|=1024),K.memoizedProps=Re,K.memoizedState=v),G.props=Re,G.state=v,G.context=e,Re=y):(typeof G.componentDidUpdate!="function"||V===U.memoizedProps&&L===U.memoizedState||(K.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||V===U.memoizedProps&&L===U.memoizedState||(K.flags|=1024),Re=!1)}return Qy(U,K,ge,Re,st,Ze)}function Qy(U,K,ge,Re,Ze,st){P3(U,K);var G=(K.flags&128)!==0;if(!Re&&!G)return Ze&&e2(K,ge,!1),Wf(U,K,st);Re=K.stateNode,gM.current=K;var V=G&&typeof ge.getDerivedStateFromError!="function"?null:Re.render();return K.flags|=1,U!==null&&G?(K.child=Bv(K,U.child,null,st),K.child=Bv(K,null,V,st)):_s(U,K,V,st),K.memoizedState=Re.state,Ze&&e2(K,ge,!0),K.child}function R3(U){var K=U.stateNode;K.pendingContext?qx(U,K.pendingContext,K.pendingContext!==K.context):K.context&&qx(U,K.context,!1),U1(U,K.containerInfo)}function g2(U,K,ge,Re,Ze){return Ov(),F1(Ze),K.flags|=256,_s(U,K,ge,Re),K.child}var $y={dehydrated:null,treeContext:null,retryLane:0};function qy(U){return{baseLanes:U,cachePool:null,transitions:null}}function D3(U,K,ge){var Re=K.pendingProps,Ze=co.current,st=!1,G=(K.flags&128)!==0,V;if((V=G)||(V=U!==null&&U.memoizedState===null?!1:(Ze&2)!==0),V?(st=!0,K.flags&=-129):(U===null||U.memoizedState!==null)&&(Ze|=1),Hi(co,Ze&1),U===null)return Yy(K),U=K.memoizedState,U!==null&&(U=U.dehydrated,U!==null)?(K.mode&1?U.data==="$!"?K.lanes=8:K.lanes=1073741824:K.lanes=1,null):(G=Re.children,U=Re.fallback,st?(Re=K.mode,st=K.child,G={mode:"hidden",children:G},!(Re&1)&&st!==null?(st.childLanes=0,st.pendingProps=G):st=rg(G,Re,0,null),U=Fh(U,Re,ge,null),st.return=K,U.return=K,st.sibling=U,K.child=st,K.child.memoizedState=qy(ge),K.memoizedState=$y,U):X1(K,G));if(Ze=U.memoizedState,Ze!==null&&(V=Ze.dehydrated,V!==null))return yM(U,K,G,Re,V,Ze,ge);if(st){st=Re.fallback,G=K.mode,Ze=U.child,V=Ze.sibling;var e={mode:"hidden",children:Re.children};return!(G&1)&&K.child!==Ze?(Re=K.child,Re.childLanes=0,Re.pendingProps=e,K.deletions=null):(Re=Zc(Ze,e),Re.subtreeFlags=Ze.subtreeFlags&14680064),V!==null?st=Zc(V,st):(st=Fh(st,G,ge,null),st.flags|=2),st.return=K,Re.return=K,Re.sibling=st,K.child=Re,Re=st,st=K.child,G=U.child.memoizedState,G=G===null?qy(ge):{baseLanes:G.baseLanes|ge,cachePool:null,transitions:G.transitions},st.memoizedState=G,st.childLanes=U.childLanes&~ge,K.memoizedState=$y,Re}return st=U.child,U=st.sibling,Re=Zc(st,{mode:"visible",children:Re.children}),!(K.mode&1)&&(Re.lanes=ge),Re.return=K,Re.sibling=null,U!==null&&(ge=K.deletions,ge===null?(K.deletions=[U],K.flags|=16):ge.push(U)),K.child=Re,K.memoizedState=null,Re}function X1(U,K){return K=rg({mode:"visible",children:K},U.mode,0,null),K.return=U,U.child=K}function Qp(U,K,ge,Re){return Re!==null&&F1(Re),Bv(K,U.child,null,ge),U=X1(K,K.pendingProps.children),U.flags|=2,K.memoizedState=null,U}function yM(U,K,ge,Re,Ze,st,G){if(ge)return K.flags&256?(K.flags&=-257,Re=ly(Error(ma(422))),Qp(U,K,G,Re)):K.memoizedState!==null?(K.child=U.child,K.flags|=128,null):(st=Re.fallback,Ze=K.mode,Re=rg({mode:"visible",children:Re.children},Ze,0,null),st=Fh(st,Ze,G,null),st.flags|=2,Re.return=K,st.return=K,Re.sibling=st,K.child=Re,K.mode&1&&Bv(K,U.child,null,G),K.child.memoizedState=qy(G),K.memoizedState=$y,st);if(!(K.mode&1))return Qp(U,K,G,null);if(Ze.data==="$!"){if(Re=Ze.nextSibling&&Ze.nextSibling.dataset,Re)var V=Re.dgst;return Re=V,st=Error(ma(419)),Re=ly(st,Re,void 0),Qp(U,K,G,Re)}if(V=(G&U.childLanes)!==0,el||V){if(Re=jo,Re!==null){switch(G&-G){case 4:Ze=2;break;case 16:Ze=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ze=32;break;case 536870912:Ze=268435456;break;default:Ze=0}Ze=Ze&(Re.suspendedLanes|G)?0:Ze,Ze!==0&&Ze!==st.retryLane&&(st.retryLane=Ze,Gf(U,Ze),Fu(Re,U,Ze,-1))}return em(),Re=ly(Error(ma(421))),Qp(U,K,G,Re)}return Ze.data==="$?"?(K.flags|=128,K.child=U.child,K=RM.bind(null,U),Ze._reactRetry=K,null):(U=st.treeContext,bl=Vc(Ze.nextSibling),wl=K,eo=!0,Du=null,U!==null&&(Jl[Ql++]=Bf,Jl[Ql++]=Nf,Jl[Ql++]=zh,Bf=U.id,Nf=U.overflow,zh=K),K=X1(K,Re.children),K.flags|=4096,K)}function y2(U,K,ge){U.lanes|=K;var Re=U.alternate;Re!==null&&(Re.lanes|=K),Zy(U.return,K,ge)}function uy(U,K,ge,Re,Ze){var st=U.memoizedState;st===null?U.memoizedState={isBackwards:K,rendering:null,renderingStartTime:0,last:Re,tail:ge,tailMode:Ze}:(st.isBackwards=K,st.rendering=null,st.renderingStartTime=0,st.last=Re,st.tail=ge,st.tailMode=Ze)}function I3(U,K,ge){var Re=K.pendingProps,Ze=Re.revealOrder,st=Re.tail;if(_s(U,K,Re.children,ge),Re=co.current,Re&2)Re=Re&1|2,K.flags|=128;else{if(U!==null&&U.flags&128)e:for(U=K.child;U!==null;){if(U.tag===13)U.memoizedState!==null&&y2(U,ge,K);else if(U.tag===19)y2(U,ge,K);else if(U.child!==null){U.child.return=U,U=U.child;continue}if(U===K)break e;for(;U.sibling===null;){if(U.return===null||U.return===K)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}Re&=1}if(Hi(co,Re),!(K.mode&1))K.memoizedState=null;else switch(Ze){case"forwards":for(ge=K.child,Ze=null;ge!==null;)U=ge.alternate,U!==null&&k0(U)===null&&(Ze=ge),ge=ge.sibling;ge=Ze,ge===null?(Ze=K.child,K.child=null):(Ze=ge.sibling,ge.sibling=null),uy(K,!1,Ze,ge,st);break;case"backwards":for(ge=null,Ze=K.child,K.child=null;Ze!==null;){if(U=Ze.alternate,U!==null&&k0(U)===null){K.child=Ze;break}U=Ze.sibling,Ze.sibling=ge,ge=Ze,Ze=U}uy(K,!0,ge,null,st);break;case"together":uy(K,!1,null,null,void 0);break;default:K.memoizedState=null}return K.child}function h0(U,K){!(K.mode&1)&&U!==null&&(U.alternate=null,K.alternate=null,K.flags|=2)}function Wf(U,K,ge){if(U!==null&&(K.dependencies=U.dependencies),Bh|=K.lanes,!(ge&K.childLanes))return null;if(U!==null&&K.child!==U.child)throw Error(ma(153));if(K.child!==null){for(U=K.child,ge=Zc(U,U.pendingProps),K.child=ge,ge.return=K;U.sibling!==null;)U=U.sibling,ge=ge.sibling=Zc(U,U.pendingProps),ge.return=K;ge.sibling=null}return K.child}function mM(U,K,ge){switch(K.tag){case 3:R3(K),Ov();break;case 5:i3(K);break;case 1:nl(K.type)&&C0(K);break;case 4:U1(K,K.stateNode.containerInfo);break;case 10:var Re=K.type._context,Ze=K.memoizedProps.value;Hi(R0,Re._currentValue),Re._currentValue=Ze;break;case 13:if(Re=K.memoizedState,Re!==null)return Re.dehydrated!==null?(Hi(co,co.current&1),K.flags|=128,null):ge&K.child.childLanes?D3(U,K,ge):(Hi(co,co.current&1),U=Wf(U,K,ge),U!==null?U.sibling:null);Hi(co,co.current&1);break;case 19:if(Re=(ge&K.childLanes)!==0,U.flags&128){if(Re)return I3(U,K,ge);K.flags|=128}if(Ze=K.memoizedState,Ze!==null&&(Ze.rendering=null,Ze.tail=null,Ze.lastEffect=null),Hi(co,co.current),Re)break;return null;case 22:case 23:return K.lanes=0,L3(U,K,ge)}return Wf(U,K,ge)}var k3,e1,F3,_3;k3=function(U,K){for(var ge=K.child;ge!==null;){if(ge.tag===5||ge.tag===6)U.appendChild(ge.stateNode);else if(ge.tag!==4&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===K)break;for(;ge.sibling===null;){if(ge.return===null||ge.return===K)return;ge=ge.return}ge.sibling.return=ge.return,ge=ge.sibling}};e1=function(){};F3=function(U,K,ge,Re){var Ze=U.memoizedProps;if(Ze!==Re){U=K.stateNode,Ih(lf.current);var st=null;switch(ge){case"input":Ze=Ty(U,Ze),Re=Ty(U,Re),st=[];break;case"select":Ze=vo({},Ze,{value:void 0}),Re=vo({},Re,{value:void 0}),st=[];break;case"textarea":Ze=Sy(U,Ze),Re=Sy(U,Re),st=[];break;default:typeof Ze.onClick!="function"&&typeof Re.onClick=="function"&&(U.onclick=S0)}Cy(ge,Re);var G;ge=null;for(y in Ze)if(!Re.hasOwnProperty(y)&&Ze.hasOwnProperty(y)&&Ze[y]!=null)if(y==="style"){var V=Ze[y];for(G in V)V.hasOwnProperty(G)&&(ge||(ge={}),ge[G]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(Ud.hasOwnProperty(y)?st||(st=[]):(st=st||[]).push(y,null));for(y in Re){var e=Re[y];if(V=Ze!=null?Ze[y]:void 0,Re.hasOwnProperty(y)&&e!==V&&(e!=null||V!=null))if(y==="style")if(V){for(G in V)!V.hasOwnProperty(G)||e&&e.hasOwnProperty(G)||(ge||(ge={}),ge[G]="");for(G in e)e.hasOwnProperty(G)&&V[G]!==e[G]&&(ge||(ge={}),ge[G]=e[G])}else ge||(st||(st=[]),st.push(y,ge)),ge=e;else y==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,V=V?V.__html:void 0,e!=null&&V!==e&&(st=st||[]).push(y,e)):y==="children"?typeof e!="string"&&typeof e!="number"||(st=st||[]).push(y,""+e):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(Ud.hasOwnProperty(y)?(e!=null&&y==="onScroll"&&ji("scroll",U),st||V===e||(st=[])):(st=st||[]).push(y,e))}ge&&(st=st||[]).push("style",ge);var y=st;(K.updateQueue=y)&&(K.flags|=4)}};_3=function(U,K,ge,Re){ge!==Re&&(K.flags|=4)};function Td(U,K){if(!eo)switch(U.tailMode){case"hidden":K=U.tail;for(var ge=null;K!==null;)K.alternate!==null&&(ge=K),K=K.sibling;ge===null?U.tail=null:ge.sibling=null;break;case"collapsed":ge=U.tail;for(var Re=null;ge!==null;)ge.alternate!==null&&(Re=ge),ge=ge.sibling;Re===null?K||U.tail===null?U.tail=null:U.tail.sibling=null:Re.sibling=null}}function Ts(U){var K=U.alternate!==null&&U.alternate.child===U.child,ge=0,Re=0;if(K)for(var Ze=U.child;Ze!==null;)ge|=Ze.lanes|Ze.childLanes,Re|=Ze.subtreeFlags&14680064,Re|=Ze.flags&14680064,Ze.return=U,Ze=Ze.sibling;else for(Ze=U.child;Ze!==null;)ge|=Ze.lanes|Ze.childLanes,Re|=Ze.subtreeFlags,Re|=Ze.flags,Ze.return=U,Ze=Ze.sibling;return U.subtreeFlags|=Re,U.childLanes=ge,K}function xM(U,K,ge){var Re=K.pendingProps;switch(k1(K),K.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(K),null;case 1:return nl(K.type)&&E0(),Ts(K),null;case 3:return Re=K.stateNode,Nv(),Xi(rl),Xi(Ms),V1(),Re.pendingContext&&(Re.context=Re.pendingContext,Re.pendingContext=null),(U===null||U.child===null)&&(Kp(K)?K.flags|=4:U===null||U.memoizedState.isDehydrated&&!(K.flags&256)||(K.flags|=1024,Du!==null&&(l1(Du),Du=null))),e1(U,K),Ts(K),null;case 5:H1(K);var Ze=Ih($d.current);if(ge=K.type,U!==null&&K.stateNode!=null)F3(U,K,ge,Re,Ze),U.ref!==K.ref&&(K.flags|=512,K.flags|=2097152);else{if(!Re){if(K.stateNode===null)throw Error(ma(166));return Ts(K),null}if(U=Ih(lf.current),Kp(K)){Re=K.stateNode,ge=K.type;var st=K.memoizedProps;switch(Re[of]=K,Re[Jd]=st,U=(K.mode&1)!==0,ge){case"dialog":ji("cancel",Re),ji("close",Re);break;case"iframe":case"object":case"embed":ji("load",Re);break;case"video":case"audio":for(Ze=0;Ze<Cd.length;Ze++)ji(Cd[Ze],Re);break;case"source":ji("error",Re);break;case"img":case"image":case"link":ji("error",Re),ji("load",Re);break;case"details":ji("toggle",Re);break;case"input":Ex(Re,st),ji("invalid",Re);break;case"select":Re._wrapperState={wasMultiple:!!st.multiple},ji("invalid",Re);break;case"textarea":Lx(Re,st),ji("invalid",Re)}Cy(ge,st),Ze=null;for(var G in st)if(st.hasOwnProperty(G)){var V=st[G];G==="children"?typeof V=="string"?Re.textContent!==V&&(st.suppressHydrationWarning!==!0&&Xp(Re.textContent,V,U),Ze=["children",V]):typeof V=="number"&&Re.textContent!==""+V&&(st.suppressHydrationWarning!==!0&&Xp(Re.textContent,V,U),Ze=["children",""+V]):Ud.hasOwnProperty(G)&&V!=null&&G==="onScroll"&&ji("scroll",Re)}switch(ge){case"input":Up(Re),Cx(Re,st,!0);break;case"textarea":Up(Re),Px(Re);break;case"select":case"option":break;default:typeof st.onClick=="function"&&(Re.onclick=S0)}Re=Ze,K.updateQueue=Re,Re!==null&&(K.flags|=4)}else{G=Ze.nodeType===9?Ze:Ze.ownerDocument,U==="http://www.w3.org/1999/xhtml"&&(U=lb(ge)),U==="http://www.w3.org/1999/xhtml"?ge==="script"?(U=G.createElement("div"),U.innerHTML="<script><\/script>",U=U.removeChild(U.firstChild)):typeof Re.is=="string"?U=G.createElement(ge,{is:Re.is}):(U=G.createElement(ge),ge==="select"&&(G=U,Re.multiple?G.multiple=!0:Re.size&&(G.size=Re.size))):U=G.createElementNS(U,ge),U[of]=K,U[Jd]=Re,k3(U,K,!1,!1),K.stateNode=U;e:{switch(G=Ly(ge,Re),ge){case"dialog":ji("cancel",U),ji("close",U),Ze=Re;break;case"iframe":case"object":case"embed":ji("load",U),Ze=Re;break;case"video":case"audio":for(Ze=0;Ze<Cd.length;Ze++)ji(Cd[Ze],U);Ze=Re;break;case"source":ji("error",U),Ze=Re;break;case"img":case"image":case"link":ji("error",U),ji("load",U),Ze=Re;break;case"details":ji("toggle",U),Ze=Re;break;case"input":Ex(U,Re),Ze=Ty(U,Re),ji("invalid",U);break;case"option":Ze=Re;break;case"select":U._wrapperState={wasMultiple:!!Re.multiple},Ze=vo({},Re,{value:void 0}),ji("invalid",U);break;case"textarea":Lx(U,Re),Ze=Sy(U,Re),ji("invalid",U);break;default:Ze=Re}Cy(ge,Ze),V=Ze;for(st in V)if(V.hasOwnProperty(st)){var e=V[st];st==="style"?cb(U,e):st==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&ub(U,e)):st==="children"?typeof e=="string"?(ge!=="textarea"||e!=="")&&Hd(U,e):typeof e=="number"&&Hd(U,""+e):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(Ud.hasOwnProperty(st)?e!=null&&st==="onScroll"&&ji("scroll",U):e!=null&&m1(U,st,e,G))}switch(ge){case"input":Up(U),Cx(U,Re,!1);break;case"textarea":Up(U),Px(U);break;case"option":Re.value!=null&&U.setAttribute("value",""+Xc(Re.value));break;case"select":U.multiple=!!Re.multiple,st=Re.value,st!=null?Pv(U,!!Re.multiple,st,!1):Re.defaultValue!=null&&Pv(U,!!Re.multiple,Re.defaultValue,!0);break;default:typeof Ze.onClick=="function"&&(U.onclick=S0)}switch(ge){case"button":case"input":case"select":case"textarea":Re=!!Re.autoFocus;break e;case"img":Re=!0;break e;default:Re=!1}}Re&&(K.flags|=4)}K.ref!==null&&(K.flags|=512,K.flags|=2097152)}return Ts(K),null;case 6:if(U&&K.stateNode!=null)_3(U,K,U.memoizedProps,Re);else{if(typeof Re!="string"&&K.stateNode===null)throw Error(ma(166));if(ge=Ih($d.current),Ih(lf.current),Kp(K)){if(Re=K.stateNode,ge=K.memoizedProps,Re[of]=K,(st=Re.nodeValue!==ge)&&(U=wl,U!==null))switch(U.tag){case 3:Xp(Re.nodeValue,ge,(U.mode&1)!==0);break;case 5:U.memoizedProps.suppressHydrationWarning!==!0&&Xp(Re.nodeValue,ge,(U.mode&1)!==0)}st&&(K.flags|=4)}else Re=(ge.nodeType===9?ge:ge.ownerDocument).createTextNode(Re),Re[of]=K,K.stateNode=Re}return Ts(K),null;case 13:if(Xi(co),Re=K.memoizedState,U===null||U.memoizedState!==null&&U.memoizedState.dehydrated!==null){if(eo&&bl!==null&&K.mode&1&&!(K.flags&128))$b(),Ov(),K.flags|=98560,st=!1;else if(st=Kp(K),Re!==null&&Re.dehydrated!==null){if(U===null){if(!st)throw Error(ma(318));if(st=K.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(ma(317));st[of]=K}else Ov(),!(K.flags&128)&&(K.memoizedState=null),K.flags|=4;Ts(K),st=!1}else Du!==null&&(l1(Du),Du=null),st=!0;if(!st)return K.flags&65536?K:null}return K.flags&128?(K.lanes=ge,K):(Re=Re!==null,Re!==(U!==null&&U.memoizedState!==null)&&Re&&(K.child.flags|=8192,K.mode&1&&(U===null||co.current&1?Uo===0&&(Uo=3):em())),K.updateQueue!==null&&(K.flags|=4),Ts(K),null);case 4:return Nv(),e1(U,K),U===null&&Xd(K.stateNode.containerInfo),Ts(K),null;case 10:return O1(K.type._context),Ts(K),null;case 17:return nl(K.type)&&E0(),Ts(K),null;case 19:if(Xi(co),st=K.memoizedState,st===null)return Ts(K),null;if(Re=(K.flags&128)!==0,G=st.rendering,G===null)if(Re)Td(st,!1);else{if(Uo!==0||U!==null&&U.flags&128)for(U=K.child;U!==null;){if(G=k0(U),G!==null){for(K.flags|=128,Td(st,!1),Re=G.updateQueue,Re!==null&&(K.updateQueue=Re,K.flags|=4),K.subtreeFlags=0,Re=ge,ge=K.child;ge!==null;)st=ge,U=Re,st.flags&=14680066,G=st.alternate,G===null?(st.childLanes=0,st.lanes=U,st.child=null,st.subtreeFlags=0,st.memoizedProps=null,st.memoizedState=null,st.updateQueue=null,st.dependencies=null,st.stateNode=null):(st.childLanes=G.childLanes,st.lanes=G.lanes,st.child=G.child,st.subtreeFlags=0,st.deletions=null,st.memoizedProps=G.memoizedProps,st.memoizedState=G.memoizedState,st.updateQueue=G.updateQueue,st.type=G.type,U=G.dependencies,st.dependencies=U===null?null:{lanes:U.lanes,firstContext:U.firstContext}),ge=ge.sibling;return Hi(co,co.current&1|2),K.child}U=U.sibling}st.tail!==null&&Eo()>Hv&&(K.flags|=128,Re=!0,Td(st,!1),K.lanes=4194304)}else{if(!Re)if(U=k0(G),U!==null){if(K.flags|=128,Re=!0,ge=U.updateQueue,ge!==null&&(K.updateQueue=ge,K.flags|=4),Td(st,!0),st.tail===null&&st.tailMode==="hidden"&&!G.alternate&&!eo)return Ts(K),null}else 2*Eo()-st.renderingStartTime>Hv&&ge!==1073741824&&(K.flags|=128,Re=!0,Td(st,!1),K.lanes=4194304);st.isBackwards?(G.sibling=K.child,K.child=G):(ge=st.last,ge!==null?ge.sibling=G:K.child=G,st.last=G)}return st.tail!==null?(K=st.tail,st.rendering=K,st.tail=K.sibling,st.renderingStartTime=Eo(),K.sibling=null,ge=co.current,Hi(co,Re?ge&1|2:ge&1),K):(Ts(K),null);case 22:case 23:return q1(),Re=K.memoizedState!==null,U!==null&&U.memoizedState!==null!==Re&&(K.flags|=8192),Re&&K.mode&1?xl&1073741824&&(Ts(K),K.subtreeFlags&6&&(K.flags|=8192)):Ts(K),null;case 24:return null;case 25:return null}throw Error(ma(156,K.tag))}function bM(U,K){switch(k1(K),K.tag){case 1:return nl(K.type)&&E0(),U=K.flags,U&65536?(K.flags=U&-65537|128,K):null;case 3:return Nv(),Xi(rl),Xi(Ms),V1(),U=K.flags,U&65536&&!(U&128)?(K.flags=U&-65537|128,K):null;case 5:return H1(K),null;case 13:if(Xi(co),U=K.memoizedState,U!==null&&U.dehydrated!==null){if(K.alternate===null)throw Error(ma(340));Ov()}return U=K.flags,U&65536?(K.flags=U&-65537|128,K):null;case 19:return Xi(co),null;case 4:return Nv(),null;case 10:return O1(K.type._context),null;case 22:case 23:return q1(),null;case 24:return null;default:return null}}var $p=!1,As=!1,wM=typeof WeakSet=="function"?WeakSet:Set,ka=null;function Cv(U,K){var ge=U.ref;if(ge!==null)if(typeof ge=="function")try{ge(null)}catch(Re){xo(U,K,Re)}else ge.current=null}function t1(U,K,ge){try{ge()}catch(Re){xo(U,K,Re)}}var m2=!1;function TM(U,K){if(By=T0,U=Nb(),D1(U)){if("selectionStart"in U)var ge={start:U.selectionStart,end:U.selectionEnd};else e:{ge=(ge=U.ownerDocument)&&ge.defaultView||window;var Re=ge.getSelection&&ge.getSelection();if(Re&&Re.rangeCount!==0){ge=Re.anchorNode;var Ze=Re.anchorOffset,st=Re.focusNode;Re=Re.focusOffset;try{ge.nodeType,st.nodeType}catch{ge=null;break e}var G=0,V=-1,e=-1,y=0,P=0,o=U,L=null;t:for(;;){for(var M;o!==ge||Ze!==0&&o.nodeType!==3||(V=G+Ze),o!==st||Re!==0&&o.nodeType!==3||(e=G+Re),o.nodeType===3&&(G+=o.nodeValue.length),(M=o.firstChild)!==null;)L=o,o=M;for(;;){if(o===U)break t;if(L===ge&&++y===Ze&&(V=G),L===st&&++P===Re&&(e=G),(M=o.nextSibling)!==null)break;o=L,L=o.parentNode}o=M}ge=V===-1||e===-1?null:{start:V,end:e}}else ge=null}ge=ge||{start:0,end:0}}else ge=null;for(Ny={focusedElem:U,selectionRange:ge},T0=!1,ka=K;ka!==null;)if(K=ka,U=K.child,(K.subtreeFlags&1028)!==0&&U!==null)U.return=K,ka=U;else for(;ka!==null;){K=ka;try{var v=K.alternate;if(K.flags&1024)switch(K.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=K.stateNode,i=t.getSnapshotBeforeUpdate(K.elementType===K.type?p:Pu(K.type,p),r);t.__reactInternalSnapshotBeforeUpdate=i}break;case 3:var n=K.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ma(163))}}catch(c){xo(K,K.return,c)}if(U=K.sibling,U!==null){U.return=K.return,ka=U;break}ka=K.return}return v=m2,m2=!1,v}function _d(U,K,ge){var Re=K.updateQueue;if(Re=Re!==null?Re.lastEffect:null,Re!==null){var Ze=Re=Re.next;do{if((Ze.tag&U)===U){var st=Ze.destroy;Ze.destroy=void 0,st!==void 0&&t1(K,ge,st)}Ze=Ze.next}while(Ze!==Re)}}function eg(U,K){if(K=K.updateQueue,K=K!==null?K.lastEffect:null,K!==null){var ge=K=K.next;do{if((ge.tag&U)===U){var Re=ge.create;ge.destroy=Re()}ge=ge.next}while(ge!==K)}}function r1(U){var K=U.ref;if(K!==null){var ge=U.stateNode;switch(U.tag){case 5:U=ge;break;default:U=ge}typeof K=="function"?K(U):K.current=U}}function z3(U){var K=U.alternate;K!==null&&(U.alternate=null,z3(K)),U.child=null,U.deletions=null,U.sibling=null,U.tag===5&&(K=U.stateNode,K!==null&&(delete K[of],delete K[Jd],delete K[Vy],delete K[aM],delete K[iM])),U.stateNode=null,U.return=null,U.dependencies=null,U.memoizedProps=null,U.memoizedState=null,U.pendingProps=null,U.stateNode=null,U.updateQueue=null}function O3(U){return U.tag===5||U.tag===3||U.tag===4}function x2(U){e:for(;;){for(;U.sibling===null;){if(U.return===null||O3(U.return))return null;U=U.return}for(U.sibling.return=U.return,U=U.sibling;U.tag!==5&&U.tag!==6&&U.tag!==18;){if(U.flags&2||U.child===null||U.tag===4)continue e;U.child.return=U,U=U.child}if(!(U.flags&2))return U.stateNode}}function n1(U,K,ge){var Re=U.tag;if(Re===5||Re===6)U=U.stateNode,K?ge.nodeType===8?ge.parentNode.insertBefore(U,K):ge.insertBefore(U,K):(ge.nodeType===8?(K=ge.parentNode,K.insertBefore(U,ge)):(K=ge,K.appendChild(U)),ge=ge._reactRootContainer,ge!=null||K.onclick!==null||(K.onclick=S0));else if(Re!==4&&(U=U.child,U!==null))for(n1(U,K,ge),U=U.sibling;U!==null;)n1(U,K,ge),U=U.sibling}function a1(U,K,ge){var Re=U.tag;if(Re===5||Re===6)U=U.stateNode,K?ge.insertBefore(U,K):ge.appendChild(U);else if(Re!==4&&(U=U.child,U!==null))for(a1(U,K,ge),U=U.sibling;U!==null;)a1(U,K,ge),U=U.sibling}var ls=null,Ru=!1;function Rc(U,K,ge){for(ge=ge.child;ge!==null;)B3(U,K,ge),ge=ge.sibling}function B3(U,K,ge){if(sf&&typeof sf.onCommitFiberUnmount=="function")try{sf.onCommitFiberUnmount(Z0,ge)}catch{}switch(ge.tag){case 5:As||Cv(ge,K);case 6:var Re=ls,Ze=Ru;ls=null,Rc(U,K,ge),ls=Re,Ru=Ze,ls!==null&&(Ru?(U=ls,ge=ge.stateNode,U.nodeType===8?U.parentNode.removeChild(ge):U.removeChild(ge)):ls.removeChild(ge.stateNode));break;case 18:ls!==null&&(Ru?(U=ls,ge=ge.stateNode,U.nodeType===8?ry(U.parentNode,ge):U.nodeType===1&&ry(U,ge),Yd(U)):ry(ls,ge.stateNode));break;case 4:Re=ls,Ze=Ru,ls=ge.stateNode.containerInfo,Ru=!0,Rc(U,K,ge),ls=Re,Ru=Ze;break;case 0:case 11:case 14:case 15:if(!As&&(Re=ge.updateQueue,Re!==null&&(Re=Re.lastEffect,Re!==null))){Ze=Re=Re.next;do{var st=Ze,G=st.destroy;st=st.tag,G!==void 0&&(st&2||st&4)&&t1(ge,K,G),Ze=Ze.next}while(Ze!==Re)}Rc(U,K,ge);break;case 1:if(!As&&(Cv(ge,K),Re=ge.stateNode,typeof Re.componentWillUnmount=="function"))try{Re.props=ge.memoizedProps,Re.state=ge.memoizedState,Re.componentWillUnmount()}catch(V){xo(ge,K,V)}Rc(U,K,ge);break;case 21:Rc(U,K,ge);break;case 22:ge.mode&1?(As=(Re=As)||ge.memoizedState!==null,Rc(U,K,ge),As=Re):Rc(U,K,ge);break;default:Rc(U,K,ge)}}function b2(U){var K=U.updateQueue;if(K!==null){U.updateQueue=null;var ge=U.stateNode;ge===null&&(ge=U.stateNode=new wM),K.forEach(function(Re){var Ze=DM.bind(null,U,Re);ge.has(Re)||(ge.add(Re),Re.then(Ze,Ze))})}}function Lu(U,K){var ge=K.deletions;if(ge!==null)for(var Re=0;Re<ge.length;Re++){var Ze=ge[Re];try{var st=U,G=K,V=G;e:for(;V!==null;){switch(V.tag){case 5:ls=V.stateNode,Ru=!1;break e;case 3:ls=V.stateNode.containerInfo,Ru=!0;break e;case 4:ls=V.stateNode.containerInfo,Ru=!0;break e}V=V.return}if(ls===null)throw Error(ma(160));B3(st,G,Ze),ls=null,Ru=!1;var e=Ze.alternate;e!==null&&(e.return=null),Ze.return=null}catch(y){xo(Ze,K,y)}}if(K.subtreeFlags&12854)for(K=K.child;K!==null;)N3(K,U),K=K.sibling}function N3(U,K){var ge=U.alternate,Re=U.flags;switch(U.tag){case 0:case 11:case 14:case 15:if(Lu(K,U),rf(U),Re&4){try{_d(3,U,U.return),eg(3,U)}catch(p){xo(U,U.return,p)}try{_d(5,U,U.return)}catch(p){xo(U,U.return,p)}}break;case 1:Lu(K,U),rf(U),Re&512&&ge!==null&&Cv(ge,ge.return);break;case 5:if(Lu(K,U),rf(U),Re&512&&ge!==null&&Cv(ge,ge.return),U.flags&32){var Ze=U.stateNode;try{Hd(Ze,"")}catch(p){xo(U,U.return,p)}}if(Re&4&&(Ze=U.stateNode,Ze!=null)){var st=U.memoizedProps,G=ge!==null?ge.memoizedProps:st,V=U.type,e=U.updateQueue;if(U.updateQueue=null,e!==null)try{V==="input"&&st.type==="radio"&&st.name!=null&&ob(Ze,st),Ly(V,G);var y=Ly(V,st);for(G=0;G<e.length;G+=2){var P=e[G],o=e[G+1];P==="style"?cb(Ze,o):P==="dangerouslySetInnerHTML"?ub(Ze,o):P==="children"?Hd(Ze,o):m1(Ze,P,o,y)}switch(V){case"input":Ay(Ze,st);break;case"textarea":sb(Ze,st);break;case"select":var L=Ze._wrapperState.wasMultiple;Ze._wrapperState.wasMultiple=!!st.multiple;var M=st.value;M!=null?Pv(Ze,!!st.multiple,M,!1):L!==!!st.multiple&&(st.defaultValue!=null?Pv(Ze,!!st.multiple,st.defaultValue,!0):Pv(Ze,!!st.multiple,st.multiple?[]:"",!1))}Ze[Jd]=st}catch(p){xo(U,U.return,p)}}break;case 6:if(Lu(K,U),rf(U),Re&4){if(U.stateNode===null)throw Error(ma(162));Ze=U.stateNode,st=U.memoizedProps;try{Ze.nodeValue=st}catch(p){xo(U,U.return,p)}}break;case 3:if(Lu(K,U),rf(U),Re&4&&ge!==null&&ge.memoizedState.isDehydrated)try{Yd(K.containerInfo)}catch(p){xo(U,U.return,p)}break;case 4:Lu(K,U),rf(U);break;case 13:Lu(K,U),rf(U),Ze=U.child,Ze.flags&8192&&(st=Ze.memoizedState!==null,Ze.stateNode.isHidden=st,!st||Ze.alternate!==null&&Ze.alternate.memoizedState!==null||(Q1=Eo())),Re&4&&b2(U);break;case 22:if(P=ge!==null&&ge.memoizedState!==null,U.mode&1?(As=(y=As)||P,Lu(K,U),As=y):Lu(K,U),rf(U),Re&8192){if(y=U.memoizedState!==null,(U.stateNode.isHidden=y)&&!P&&U.mode&1)for(ka=U,P=U.child;P!==null;){for(o=ka=P;ka!==null;){switch(L=ka,M=L.child,L.tag){case 0:case 11:case 14:case 15:_d(4,L,L.return);break;case 1:Cv(L,L.return);var v=L.stateNode;if(typeof v.componentWillUnmount=="function"){Re=L,ge=L.return;try{K=Re,v.props=K.memoizedProps,v.state=K.memoizedState,v.componentWillUnmount()}catch(p){xo(Re,ge,p)}}break;case 5:Cv(L,L.return);break;case 22:if(L.memoizedState!==null){T2(o);continue}}M!==null?(M.return=L,ka=M):T2(o)}P=P.sibling}e:for(P=null,o=U;;){if(o.tag===5){if(P===null){P=o;try{Ze=o.stateNode,y?(st=Ze.style,typeof st.setProperty=="function"?st.setProperty("display","none","important"):st.display="none"):(V=o.stateNode,e=o.memoizedProps.style,G=e!=null&&e.hasOwnProperty("display")?e.display:null,V.style.display=fb("display",G))}catch(p){xo(U,U.return,p)}}}else if(o.tag===6){if(P===null)try{o.stateNode.nodeValue=y?"":o.memoizedProps}catch(p){xo(U,U.return,p)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===U)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===U)break e;for(;o.sibling===null;){if(o.return===null||o.return===U)break e;P===o&&(P=null),o=o.return}P===o&&(P=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:Lu(K,U),rf(U),Re&4&&b2(U);break;case 21:break;default:Lu(K,U),rf(U)}}function rf(U){var K=U.flags;if(K&2){try{e:{for(var ge=U.return;ge!==null;){if(O3(ge)){var Re=ge;break e}ge=ge.return}throw Error(ma(160))}switch(Re.tag){case 5:var Ze=Re.stateNode;Re.flags&32&&(Hd(Ze,""),Re.flags&=-33);var st=x2(U);a1(U,st,Ze);break;case 3:case 4:var G=Re.stateNode.containerInfo,V=x2(U);n1(U,V,G);break;default:throw Error(ma(161))}}catch(e){xo(U,U.return,e)}U.flags&=-3}K&4096&&(U.flags&=-4097)}function AM(U,K,ge){ka=U,U3(U)}function U3(U,K,ge){for(var Re=(U.mode&1)!==0;ka!==null;){var Ze=ka,st=Ze.child;if(Ze.tag===22&&Re){var G=Ze.memoizedState!==null||$p;if(!G){var V=Ze.alternate,e=V!==null&&V.memoizedState!==null||As;V=$p;var y=As;if($p=G,(As=e)&&!y)for(ka=Ze;ka!==null;)G=ka,e=G.child,G.tag===22&&G.memoizedState!==null?A2(Ze):e!==null?(e.return=G,ka=e):A2(Ze);for(;st!==null;)ka=st,U3(st),st=st.sibling;ka=Ze,$p=V,As=y}w2(U)}else Ze.subtreeFlags&8772&&st!==null?(st.return=Ze,ka=st):w2(U)}}function w2(U){for(;ka!==null;){var K=ka;if(K.flags&8772){var ge=K.alternate;try{if(K.flags&8772)switch(K.tag){case 0:case 11:case 15:As||eg(5,K);break;case 1:var Re=K.stateNode;if(K.flags&4&&!As)if(ge===null)Re.componentDidMount();else{var Ze=K.elementType===K.type?ge.memoizedProps:Pu(K.type,ge.memoizedProps);Re.componentDidUpdate(Ze,ge.memoizedState,Re.__reactInternalSnapshotBeforeUpdate)}var st=K.updateQueue;st!==null&&a2(K,st,Re);break;case 3:var G=K.updateQueue;if(G!==null){if(ge=null,K.child!==null)switch(K.child.tag){case 5:ge=K.child.stateNode;break;case 1:ge=K.child.stateNode}a2(K,G,ge)}break;case 5:var V=K.stateNode;if(ge===null&&K.flags&4){ge=V;var e=K.memoizedProps;switch(K.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&ge.focus();break;case"img":e.src&&(ge.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(K.memoizedState===null){var y=K.alternate;if(y!==null){var P=y.memoizedState;if(P!==null){var o=P.dehydrated;o!==null&&Yd(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ma(163))}As||K.flags&512&&r1(K)}catch(L){xo(K,K.return,L)}}if(K===U){ka=null;break}if(ge=K.sibling,ge!==null){ge.return=K.return,ka=ge;break}ka=K.return}}function T2(U){for(;ka!==null;){var K=ka;if(K===U){ka=null;break}var ge=K.sibling;if(ge!==null){ge.return=K.return,ka=ge;break}ka=K.return}}function A2(U){for(;ka!==null;){var K=ka;try{switch(K.tag){case 0:case 11:case 15:var ge=K.return;try{eg(4,K)}catch(e){xo(K,ge,e)}break;case 1:var Re=K.stateNode;if(typeof Re.componentDidMount=="function"){var Ze=K.return;try{Re.componentDidMount()}catch(e){xo(K,Ze,e)}}var st=K.return;try{r1(K)}catch(e){xo(K,st,e)}break;case 5:var G=K.return;try{r1(K)}catch(e){xo(K,G,e)}}}catch(e){xo(K,K.return,e)}if(K===U){ka=null;break}var V=K.sibling;if(V!==null){V.return=K.return,ka=V;break}ka=K.return}}var MM=Math.ceil,z0=Yf.ReactCurrentDispatcher,K1=Yf.ReactCurrentOwner,ql=Yf.ReactCurrentBatchConfig,Ti=0,jo=null,Fo=null,us=0,xl=0,Lv=$c(0),Uo=0,rp=null,Bh=0,tg=0,J1=0,zd=null,qs=null,Q1=0,Hv=1/0,zf=null,O0=!1,i1=null,Wc=null,qp=!1,zc=null,B0=0,Od=0,o1=null,v0=-1,d0=0;function zs(){return Ti&6?Eo():v0!==-1?v0:v0=Eo()}function Yc(U){return U.mode&1?Ti&2&&us!==0?us&-us:sM.transition!==null?(d0===0&&(d0=Ab()),d0):(U=Di,U!==0||(U=window.event,U=U===void 0?16:Rb(U.type)),U):1}function Fu(U,K,ge,Re){if(50<Od)throw Od=0,o1=null,Error(ma(185));ip(U,ge,Re),(!(Ti&2)||U!==jo)&&(U===jo&&(!(Ti&2)&&(tg|=ge),Uo===4&&Fc(U,us)),al(U,Re),ge===1&&Ti===0&&!(K.mode&1)&&(Hv=Eo()+500,Q0&&qc()))}function al(U,K){var ge=U.callbackNode;s4(U,K);var Re=w0(U,U===jo?us:0);if(Re===0)ge!==null&&Ix(ge),U.callbackNode=null,U.callbackPriority=0;else if(K=Re&-Re,U.callbackPriority!==K){if(ge!=null&&Ix(ge),K===1)U.tag===0?oM(M2.bind(null,U)):Kb(M2.bind(null,U)),rM(function(){!(Ti&6)&&qc()}),ge=null;else{switch(Mb(Re)){case 1:ge=A1;break;case 4:ge=wb;break;case 16:ge=b0;break;case 536870912:ge=Tb;break;default:ge=b0}ge=X3(ge,H3.bind(null,U))}U.callbackPriority=K,U.callbackNode=ge}}function H3(U,K){if(v0=-1,d0=0,Ti&6)throw Error(ma(327));var ge=U.callbackNode;if(Fv()&&U.callbackNode!==ge)return null;var Re=w0(U,U===jo?us:0);if(Re===0)return null;if(Re&30||Re&U.expiredLanes||K)K=N0(U,Re);else{K=Re;var Ze=Ti;Ti|=2;var st=G3();(jo!==U||us!==K)&&(zf=null,Hv=Eo()+500,kh(U,K));do try{CM();break}catch(V){V3(U,V)}while(1);z1(),z0.current=st,Ti=Ze,Fo!==null?K=0:(jo=null,us=0,K=Uo)}if(K!==0){if(K===2&&(Ze=ky(U),Ze!==0&&(Re=Ze,K=s1(U,Ze))),K===1)throw ge=rp,kh(U,0),Fc(U,Re),al(U,Eo()),ge;if(K===6)Fc(U,Re);else{if(Ze=U.current.alternate,!(Re&30)&&!SM(Ze)&&(K=N0(U,Re),K===2&&(st=ky(U),st!==0&&(Re=st,K=s1(U,st))),K===1))throw ge=rp,kh(U,0),Fc(U,Re),al(U,Eo()),ge;switch(U.finishedWork=Ze,U.finishedLanes=Re,K){case 0:case 1:throw Error(ma(345));case 2:Lh(U,qs,zf);break;case 3:if(Fc(U,Re),(Re&130023424)===Re&&(K=Q1+500-Eo(),10<K)){if(w0(U,0)!==0)break;if(Ze=U.suspendedLanes,(Ze&Re)!==Re){zs(),U.pingedLanes|=U.suspendedLanes&Ze;break}U.timeoutHandle=Hy(Lh.bind(null,U,qs,zf),K);break}Lh(U,qs,zf);break;case 4:if(Fc(U,Re),(Re&4194240)===Re)break;for(K=U.eventTimes,Ze=-1;0<Re;){var G=31-ku(Re);st=1<<G,G=K[G],G>Ze&&(Ze=G),Re&=~st}if(Re=Ze,Re=Eo()-Re,Re=(120>Re?120:480>Re?480:1080>Re?1080:1920>Re?1920:3e3>Re?3e3:4320>Re?4320:1960*MM(Re/1960))-Re,10<Re){U.timeoutHandle=Hy(Lh.bind(null,U,qs,zf),Re);break}Lh(U,qs,zf);break;case 5:Lh(U,qs,zf);break;default:throw Error(ma(329))}}}return al(U,Eo()),U.callbackNode===ge?H3.bind(null,U):null}function s1(U,K){var ge=zd;return U.current.memoizedState.isDehydrated&&(kh(U,K).flags|=256),U=N0(U,K),U!==2&&(K=qs,qs=ge,K!==null&&l1(K)),U}function l1(U){qs===null?qs=U:qs.push.apply(qs,U)}function SM(U){for(var K=U;;){if(K.flags&16384){var ge=K.updateQueue;if(ge!==null&&(ge=ge.stores,ge!==null))for(var Re=0;Re<ge.length;Re++){var Ze=ge[Re],st=Ze.getSnapshot;Ze=Ze.value;try{if(!_u(st(),Ze))return!1}catch{return!1}}}if(ge=K.child,K.subtreeFlags&16384&&ge!==null)ge.return=K,K=ge;else{if(K===U)break;for(;K.sibling===null;){if(K.return===null||K.return===U)return!0;K=K.return}K.sibling.return=K.return,K=K.sibling}}return!0}function Fc(U,K){for(K&=~J1,K&=~tg,U.suspendedLanes|=K,U.pingedLanes&=~K,U=U.expirationTimes;0<K;){var ge=31-ku(K),Re=1<<ge;U[ge]=-1,K&=~Re}}function M2(U){if(Ti&6)throw Error(ma(327));Fv();var K=w0(U,0);if(!(K&1))return al(U,Eo()),null;var ge=N0(U,K);if(U.tag!==0&&ge===2){var Re=ky(U);Re!==0&&(K=Re,ge=s1(U,Re))}if(ge===1)throw ge=rp,kh(U,0),Fc(U,K),al(U,Eo()),ge;if(ge===6)throw Error(ma(345));return U.finishedWork=U.current.alternate,U.finishedLanes=K,Lh(U,qs,zf),al(U,Eo()),null}function $1(U,K){var ge=Ti;Ti|=1;try{return U(K)}finally{Ti=ge,Ti===0&&(Hv=Eo()+500,Q0&&qc())}}function Nh(U){zc!==null&&zc.tag===0&&!(Ti&6)&&Fv();var K=Ti;Ti|=1;var ge=ql.transition,Re=Di;try{if(ql.transition=null,Di=1,U)return U()}finally{Di=Re,ql.transition=ge,Ti=K,!(Ti&6)&&qc()}}function q1(){xl=Lv.current,Xi(Lv)}function kh(U,K){U.finishedWork=null,U.finishedLanes=0;var ge=U.timeoutHandle;if(ge!==-1&&(U.timeoutHandle=-1,tM(ge)),Fo!==null)for(ge=Fo.return;ge!==null;){var Re=ge;switch(k1(Re),Re.tag){case 1:Re=Re.type.childContextTypes,Re!=null&&E0();break;case 3:Nv(),Xi(rl),Xi(Ms),V1();break;case 5:H1(Re);break;case 4:Nv();break;case 13:Xi(co);break;case 19:Xi(co);break;case 10:O1(Re.type._context);break;case 22:case 23:q1()}ge=ge.return}if(jo=U,Fo=U=Zc(U.current,null),us=xl=K,Uo=0,rp=null,J1=tg=Bh=0,qs=zd=null,Dh!==null){for(K=0;K<Dh.length;K++)if(ge=Dh[K],Re=ge.interleaved,Re!==null){ge.interleaved=null;var Ze=Re.next,st=ge.pending;if(st!==null){var G=st.next;st.next=Ze,Re.next=G}ge.pending=Re}Dh=null}return U}function V3(U,K){do{var ge=Fo;try{if(z1(),f0.current=_0,F0){for(var Re=ho.memoizedState;Re!==null;){var Ze=Re.queue;Ze!==null&&(Ze.pending=null),Re=Re.next}F0=!1}if(Oh=0,Zo=No=ho=null,Fd=!1,qd=0,K1.current=null,ge===null||ge.return===null){Uo=1,rp=K,Fo=null;break}e:{var st=U,G=ge.return,V=ge,e=K;if(K=us,V.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var y=e,P=V,o=P.tag;if(!(P.mode&1)&&(o===0||o===11||o===15)){var L=P.alternate;L?(P.updateQueue=L.updateQueue,P.memoizedState=L.memoizedState,P.lanes=L.lanes):(P.updateQueue=null,P.memoizedState=null)}var M=c2(G);if(M!==null){M.flags&=-257,h2(M,G,V,st,K),M.mode&1&&f2(st,y,K),K=M,e=y;var v=K.updateQueue;if(v===null){var p=new Set;p.add(e),K.updateQueue=p}else v.add(e);break e}else{if(!(K&1)){f2(st,y,K),em();break e}e=Error(ma(426))}}else if(eo&&V.mode&1){var r=c2(G);if(r!==null){!(r.flags&65536)&&(r.flags|=256),h2(r,G,V,st,K),F1(Uv(e,V));break e}}st=e=Uv(e,V),Uo!==4&&(Uo=2),zd===null?zd=[st]:zd.push(st),st=G;do{switch(st.tag){case 3:st.flags|=65536,K&=-K,st.lanes|=K;var t=S3(st,e,K);n2(st,t);break e;case 1:V=e;var i=st.type,n=st.stateNode;if(!(st.flags&128)&&(typeof i.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Wc===null||!Wc.has(n)))){st.flags|=65536,K&=-K,st.lanes|=K;var c=E3(st,V,K);n2(st,c);break e}}st=st.return}while(st!==null)}Y3(ge)}catch(u){K=u,Fo===ge&&ge!==null&&(Fo=ge=ge.return);continue}break}while(1)}function G3(){var U=z0.current;return z0.current=_0,U===null?_0:U}function em(){(Uo===0||Uo===3||Uo===2)&&(Uo=4),jo===null||!(Bh&268435455)&&!(tg&268435455)||Fc(jo,us)}function N0(U,K){var ge=Ti;Ti|=2;var Re=G3();(jo!==U||us!==K)&&(zf=null,kh(U,K));do try{EM();break}catch(Ze){V3(U,Ze)}while(1);if(z1(),Ti=ge,z0.current=Re,Fo!==null)throw Error(ma(261));return jo=null,us=0,Uo}function EM(){for(;Fo!==null;)W3(Fo)}function CM(){for(;Fo!==null&&!$A();)W3(Fo)}function W3(U){var K=j3(U.alternate,U,xl);U.memoizedProps=U.pendingProps,K===null?Y3(U):Fo=K,K1.current=null}function Y3(U){var K=U;do{var ge=K.alternate;if(U=K.return,K.flags&32768){if(ge=bM(ge,K),ge!==null){ge.flags&=32767,Fo=ge;return}if(U!==null)U.flags|=32768,U.subtreeFlags=0,U.deletions=null;else{Uo=6,Fo=null;return}}else if(ge=xM(ge,K,xl),ge!==null){Fo=ge;return}if(K=K.sibling,K!==null){Fo=K;return}Fo=K=U}while(K!==null);Uo===0&&(Uo=5)}function Lh(U,K,ge){var Re=Di,Ze=ql.transition;try{ql.transition=null,Di=1,LM(U,K,ge,Re)}finally{ql.transition=Ze,Di=Re}return null}function LM(U,K,ge,Re){do Fv();while(zc!==null);if(Ti&6)throw Error(ma(327));ge=U.finishedWork;var Ze=U.finishedLanes;if(ge===null)return null;if(U.finishedWork=null,U.finishedLanes=0,ge===U.current)throw Error(ma(177));U.callbackNode=null,U.callbackPriority=0;var st=ge.lanes|ge.childLanes;if(l4(U,st),U===jo&&(Fo=jo=null,us=0),!(ge.subtreeFlags&2064)&&!(ge.flags&2064)||qp||(qp=!0,X3(b0,function(){return Fv(),null})),st=(ge.flags&15990)!==0,ge.subtreeFlags&15990||st){st=ql.transition,ql.transition=null;var G=Di;Di=1;var V=Ti;Ti|=4,K1.current=null,TM(U,ge),N3(ge,U),X4(Ny),T0=!!By,Ny=By=null,U.current=ge,AM(ge),qA(),Ti=V,Di=G,ql.transition=st}else U.current=ge;if(qp&&(qp=!1,zc=U,B0=Ze),st=U.pendingLanes,st===0&&(Wc=null),r4(ge.stateNode),al(U,Eo()),K!==null)for(Re=U.onRecoverableError,ge=0;ge<K.length;ge++)Ze=K[ge],Re(Ze.value,{componentStack:Ze.stack,digest:Ze.digest});if(O0)throw O0=!1,U=i1,i1=null,U;return B0&1&&U.tag!==0&&Fv(),st=U.pendingLanes,st&1?U===o1?Od++:(Od=0,o1=U):Od=0,qc(),null}function Fv(){if(zc!==null){var U=Mb(B0),K=ql.transition,ge=Di;try{if(ql.transition=null,Di=16>U?16:U,zc===null)var Re=!1;else{if(U=zc,zc=null,B0=0,Ti&6)throw Error(ma(331));var Ze=Ti;for(Ti|=4,ka=U.current;ka!==null;){var st=ka,G=st.child;if(ka.flags&16){var V=st.deletions;if(V!==null){for(var e=0;e<V.length;e++){var y=V[e];for(ka=y;ka!==null;){var P=ka;switch(P.tag){case 0:case 11:case 15:_d(8,P,st)}var o=P.child;if(o!==null)o.return=P,ka=o;else for(;ka!==null;){P=ka;var L=P.sibling,M=P.return;if(z3(P),P===y){ka=null;break}if(L!==null){L.return=M,ka=L;break}ka=M}}}var v=st.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}ka=st}}if(st.subtreeFlags&2064&&G!==null)G.return=st,ka=G;else e:for(;ka!==null;){if(st=ka,st.flags&2048)switch(st.tag){case 0:case 11:case 15:_d(9,st,st.return)}var t=st.sibling;if(t!==null){t.return=st.return,ka=t;break e}ka=st.return}}var i=U.current;for(ka=i;ka!==null;){G=ka;var n=G.child;if(G.subtreeFlags&2064&&n!==null)n.return=G,ka=n;else e:for(G=i;ka!==null;){if(V=ka,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:eg(9,V)}}catch(u){xo(V,V.return,u)}if(V===G){ka=null;break e}var c=V.sibling;if(c!==null){c.return=V.return,ka=c;break e}ka=V.return}}if(Ti=Ze,qc(),sf&&typeof sf.onPostCommitFiberRoot=="function")try{sf.onPostCommitFiberRoot(Z0,U)}catch{}Re=!0}return Re}finally{Di=ge,ql.transition=K}}return!1}function S2(U,K,ge){K=Uv(ge,K),K=S3(U,K,1),U=Gc(U,K,1),K=zs(),U!==null&&(ip(U,1,K),al(U,K))}function xo(U,K,ge){if(U.tag===3)S2(U,U,ge);else for(;K!==null;){if(K.tag===3){S2(K,U,ge);break}else if(K.tag===1){var Re=K.stateNode;if(typeof K.type.getDerivedStateFromError=="function"||typeof Re.componentDidCatch=="function"&&(Wc===null||!Wc.has(Re))){U=Uv(ge,U),U=E3(K,U,1),K=Gc(K,U,1),U=zs(),K!==null&&(ip(K,1,U),al(K,U));break}}K=K.return}}function PM(U,K,ge){var Re=U.pingCache;Re!==null&&Re.delete(K),K=zs(),U.pingedLanes|=U.suspendedLanes&ge,jo===U&&(us&ge)===ge&&(Uo===4||Uo===3&&(us&130023424)===us&&500>Eo()-Q1?kh(U,0):J1|=ge),al(U,K)}function Z3(U,K){K===0&&(U.mode&1?(K=Gp,Gp<<=1,!(Gp&130023424)&&(Gp=4194304)):K=1);var ge=zs();U=Gf(U,K),U!==null&&(ip(U,K,ge),al(U,ge))}function RM(U){var K=U.memoizedState,ge=0;K!==null&&(ge=K.retryLane),Z3(U,ge)}function DM(U,K){var ge=0;switch(U.tag){case 13:var Re=U.stateNode,Ze=U.memoizedState;Ze!==null&&(ge=Ze.retryLane);break;case 19:Re=U.stateNode;break;default:throw Error(ma(314))}Re!==null&&Re.delete(K),Z3(U,ge)}var j3;j3=function(U,K,ge){if(U!==null)if(U.memoizedProps!==K.pendingProps||rl.current)el=!0;else{if(!(U.lanes&ge)&&!(K.flags&128))return el=!1,mM(U,K,ge);el=!!(U.flags&131072)}else el=!1,eo&&K.flags&1048576&&Jb(K,P0,K.index);switch(K.lanes=0,K.tag){case 2:var Re=K.type;h0(U,K),U=K.pendingProps;var Ze=zv(K,Ms.current);kv(K,ge),Ze=W1(null,K,Re,U,Ze,ge);var st=Y1();return K.flags|=1,typeof Ze=="object"&&Ze!==null&&typeof Ze.render=="function"&&Ze.$$typeof===void 0?(K.tag=1,K.memoizedState=null,K.updateQueue=null,nl(Re)?(st=!0,C0(K)):st=!1,K.memoizedState=Ze.state!==null&&Ze.state!==void 0?Ze.state:null,N1(K),Ze.updater=$0,K.stateNode=Ze,Ze._reactInternals=K,Xy(K,Re,U,ge),K=Qy(null,K,Re,!0,st,ge)):(K.tag=0,eo&&st&&I1(K),_s(null,K,Ze,ge),K=K.child),K;case 16:Re=K.elementType;e:{switch(h0(U,K),U=K.pendingProps,Ze=Re._init,Re=Ze(Re._payload),K.type=Re,Ze=K.tag=kM(Re),U=Pu(Re,U),Ze){case 0:K=Jy(null,K,Re,U,ge);break e;case 1:K=p2(null,K,Re,U,ge);break e;case 11:K=v2(null,K,Re,U,ge);break e;case 14:K=d2(null,K,Re,Pu(Re.type,U),ge);break e}throw Error(ma(306,Re,""))}return K;case 0:return Re=K.type,Ze=K.pendingProps,Ze=K.elementType===Re?Ze:Pu(Re,Ze),Jy(U,K,Re,Ze,ge);case 1:return Re=K.type,Ze=K.pendingProps,Ze=K.elementType===Re?Ze:Pu(Re,Ze),p2(U,K,Re,Ze,ge);case 3:e:{if(R3(K),U===null)throw Error(ma(387));Re=K.pendingProps,st=K.memoizedState,Ze=st.element,e3(U,K),I0(K,Re,null,ge);var G=K.memoizedState;if(Re=G.element,st.isDehydrated)if(st={element:Re,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},K.updateQueue.baseState=st,K.memoizedState=st,K.flags&256){Ze=Uv(Error(ma(423)),K),K=g2(U,K,Re,ge,Ze);break e}else if(Re!==Ze){Ze=Uv(Error(ma(424)),K),K=g2(U,K,Re,ge,Ze);break e}else for(bl=Vc(K.stateNode.containerInfo.firstChild),wl=K,eo=!0,Du=null,ge=a3(K,null,Re,ge),K.child=ge;ge;)ge.flags=ge.flags&-3|4096,ge=ge.sibling;else{if(Ov(),Re===Ze){K=Wf(U,K,ge);break e}_s(U,K,Re,ge)}K=K.child}return K;case 5:return i3(K),U===null&&Yy(K),Re=K.type,Ze=K.pendingProps,st=U!==null?U.memoizedProps:null,G=Ze.children,Uy(Re,Ze)?G=null:st!==null&&Uy(Re,st)&&(K.flags|=32),P3(U,K),_s(U,K,G,ge),K.child;case 6:return U===null&&Yy(K),null;case 13:return D3(U,K,ge);case 4:return U1(K,K.stateNode.containerInfo),Re=K.pendingProps,U===null?K.child=Bv(K,null,Re,ge):_s(U,K,Re,ge),K.child;case 11:return Re=K.type,Ze=K.pendingProps,Ze=K.elementType===Re?Ze:Pu(Re,Ze),v2(U,K,Re,Ze,ge);case 7:return _s(U,K,K.pendingProps,ge),K.child;case 8:return _s(U,K,K.pendingProps.children,ge),K.child;case 12:return _s(U,K,K.pendingProps.children,ge),K.child;case 10:e:{if(Re=K.type._context,Ze=K.pendingProps,st=K.memoizedProps,G=Ze.value,Hi(R0,Re._currentValue),Re._currentValue=G,st!==null)if(_u(st.value,G)){if(st.children===Ze.children&&!rl.current){K=Wf(U,K,ge);break e}}else for(st=K.child,st!==null&&(st.return=K);st!==null;){var V=st.dependencies;if(V!==null){G=st.child;for(var e=V.firstContext;e!==null;){if(e.context===Re){if(st.tag===1){e=Uf(-1,ge&-ge),e.tag=2;var y=st.updateQueue;if(y!==null){y=y.shared;var P=y.pending;P===null?e.next=e:(e.next=P.next,P.next=e),y.pending=e}}st.lanes|=ge,e=st.alternate,e!==null&&(e.lanes|=ge),Zy(st.return,ge,K),V.lanes|=ge;break}e=e.next}}else if(st.tag===10)G=st.type===K.type?null:st.child;else if(st.tag===18){if(G=st.return,G===null)throw Error(ma(341));G.lanes|=ge,V=G.alternate,V!==null&&(V.lanes|=ge),Zy(G,ge,K),G=st.sibling}else G=st.child;if(G!==null)G.return=st;else for(G=st;G!==null;){if(G===K){G=null;break}if(st=G.sibling,st!==null){st.return=G.return,G=st;break}G=G.return}st=G}_s(U,K,Ze.children,ge),K=K.child}return K;case 9:return Ze=K.type,Re=K.pendingProps.children,kv(K,ge),Ze=eu(Ze),Re=Re(Ze),K.flags|=1,_s(U,K,Re,ge),K.child;case 14:return Re=K.type,Ze=Pu(Re,K.pendingProps),Ze=Pu(Re.type,Ze),d2(U,K,Re,Ze,ge);case 15:return C3(U,K,K.type,K.pendingProps,ge);case 17:return Re=K.type,Ze=K.pendingProps,Ze=K.elementType===Re?Ze:Pu(Re,Ze),h0(U,K),K.tag=1,nl(Re)?(U=!0,C0(K)):U=!1,kv(K,ge),r3(K,Re,Ze),Xy(K,Re,Ze,ge),Qy(null,K,Re,!0,U,ge);case 19:return I3(U,K,ge);case 22:return L3(U,K,ge)}throw Error(ma(156,K.tag))};function X3(U,K){return bb(U,K)}function IM(U,K,ge,Re){this.tag=U,this.key=ge,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=K,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Re,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $l(U,K,ge,Re){return new IM(U,K,ge,Re)}function tm(U){return U=U.prototype,!(!U||!U.isReactComponent)}function kM(U){if(typeof U=="function")return tm(U)?1:0;if(U!=null){if(U=U.$$typeof,U===b1)return 11;if(U===w1)return 14}return 2}function Zc(U,K){var ge=U.alternate;return ge===null?(ge=$l(U.tag,K,U.key,U.mode),ge.elementType=U.elementType,ge.type=U.type,ge.stateNode=U.stateNode,ge.alternate=U,U.alternate=ge):(ge.pendingProps=K,ge.type=U.type,ge.flags=0,ge.subtreeFlags=0,ge.deletions=null),ge.flags=U.flags&14680064,ge.childLanes=U.childLanes,ge.lanes=U.lanes,ge.child=U.child,ge.memoizedProps=U.memoizedProps,ge.memoizedState=U.memoizedState,ge.updateQueue=U.updateQueue,K=U.dependencies,ge.dependencies=K===null?null:{lanes:K.lanes,firstContext:K.firstContext},ge.sibling=U.sibling,ge.index=U.index,ge.ref=U.ref,ge}function p0(U,K,ge,Re,Ze,st){var G=2;if(Re=U,typeof U=="function")tm(U)&&(G=1);else if(typeof U=="string")G=5;else e:switch(U){case mv:return Fh(ge.children,Ze,st,K);case x1:G=8,Ze|=8;break;case my:return U=$l(12,ge,K,Ze|2),U.elementType=my,U.lanes=st,U;case xy:return U=$l(13,ge,K,Ze),U.elementType=xy,U.lanes=st,U;case by:return U=$l(19,ge,K,Ze),U.elementType=by,U.lanes=st,U;case nb:return rg(ge,Ze,st,K);default:if(typeof U=="object"&&U!==null)switch(U.$$typeof){case tb:G=10;break e;case rb:G=9;break e;case b1:G=11;break e;case w1:G=14;break e;case Dc:G=16,Re=null;break e}throw Error(ma(130,U==null?U:typeof U,""))}return K=$l(G,ge,K,Ze),K.elementType=U,K.type=Re,K.lanes=st,K}function Fh(U,K,ge,Re){return U=$l(7,U,Re,K),U.lanes=ge,U}function rg(U,K,ge,Re){return U=$l(22,U,Re,K),U.elementType=nb,U.lanes=ge,U.stateNode={isHidden:!1},U}function fy(U,K,ge){return U=$l(6,U,null,K),U.lanes=ge,U}function cy(U,K,ge){return K=$l(4,U.children!==null?U.children:[],U.key,K),K.lanes=ge,K.stateNode={containerInfo:U.containerInfo,pendingChildren:null,implementation:U.implementation},K}function FM(U,K,ge,Re,Ze){this.tag=K,this.containerInfo=U,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yg(0),this.expirationTimes=Yg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yg(0),this.identifierPrefix=Re,this.onRecoverableError=Ze,this.mutableSourceEagerHydrationData=null}function rm(U,K,ge,Re,Ze,st,G,V,e){return U=new FM(U,K,ge,V,e),K===1?(K=1,st===!0&&(K|=8)):K=0,st=$l(3,null,null,K),U.current=st,st.stateNode=U,st.memoizedState={element:Re,isDehydrated:ge,cache:null,transitions:null,pendingSuspenseBoundaries:null},N1(st),U}function _M(U,K,ge){var Re=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yv,key:Re==null?null:""+Re,children:U,containerInfo:K,implementation:ge}}function K3(U){if(!U)return Kc;U=U._reactInternals;e:{if(Gh(U)!==U||U.tag!==1)throw Error(ma(170));var K=U;do{switch(K.tag){case 3:K=K.stateNode.context;break e;case 1:if(nl(K.type)){K=K.stateNode.__reactInternalMemoizedMergedChildContext;break e}}K=K.return}while(K!==null);throw Error(ma(171))}if(U.tag===1){var ge=U.type;if(nl(ge))return Xb(U,ge,K)}return K}function J3(U,K,ge,Re,Ze,st,G,V,e){return U=rm(ge,Re,!0,U,Ze,st,G,V,e),U.context=K3(null),ge=U.current,Re=zs(),Ze=Yc(ge),st=Uf(Re,Ze),st.callback=K??null,Gc(ge,st,Ze),U.current.lanes=Ze,ip(U,Ze,Re),al(U,Re),U}function ng(U,K,ge,Re){var Ze=K.current,st=zs(),G=Yc(Ze);return ge=K3(ge),K.context===null?K.context=ge:K.pendingContext=ge,K=Uf(st,G),K.payload={element:U},Re=Re===void 0?null:Re,Re!==null&&(K.callback=Re),U=Gc(Ze,K,G),U!==null&&(Fu(U,Ze,G,st),u0(U,Ze,G)),G}function U0(U){if(U=U.current,!U.child)return null;switch(U.child.tag){case 5:return U.child.stateNode;default:return U.child.stateNode}}function E2(U,K){if(U=U.memoizedState,U!==null&&U.dehydrated!==null){var ge=U.retryLane;U.retryLane=ge!==0&&ge<K?ge:K}}function nm(U,K){E2(U,K),(U=U.alternate)&&E2(U,K)}function zM(){return null}var Q3=typeof reportError=="function"?reportError:function(U){console.error(U)};function am(U){this._internalRoot=U}ag.prototype.render=am.prototype.render=function(U){var K=this._internalRoot;if(K===null)throw Error(ma(409));ng(U,K,null,null)};ag.prototype.unmount=am.prototype.unmount=function(){var U=this._internalRoot;if(U!==null){this._internalRoot=null;var K=U.containerInfo;Nh(function(){ng(null,U,null,null)}),K[Vf]=null}};function ag(U){this._internalRoot=U}ag.prototype.unstable_scheduleHydration=function(U){if(U){var K=Cb();U={blockedOn:null,target:U,priority:K};for(var ge=0;ge<kc.length&&K!==0&&K<kc[ge].priority;ge++);kc.splice(ge,0,U),ge===0&&Pb(U)}};function im(U){return!(!U||U.nodeType!==1&&U.nodeType!==9&&U.nodeType!==11)}function ig(U){return!(!U||U.nodeType!==1&&U.nodeType!==9&&U.nodeType!==11&&(U.nodeType!==8||U.nodeValue!==" react-mount-point-unstable "))}function C2(){}function OM(U,K,ge,Re,Ze){if(Ze){if(typeof Re=="function"){var st=Re;Re=function(){var y=U0(G);st.call(y)}}var G=J3(K,Re,U,0,null,!1,!1,"",C2);return U._reactRootContainer=G,U[Vf]=G.current,Xd(U.nodeType===8?U.parentNode:U),Nh(),G}for(;Ze=U.lastChild;)U.removeChild(Ze);if(typeof Re=="function"){var V=Re;Re=function(){var y=U0(e);V.call(y)}}var e=rm(U,0,!1,null,null,!1,!1,"",C2);return U._reactRootContainer=e,U[Vf]=e.current,Xd(U.nodeType===8?U.parentNode:U),Nh(function(){ng(K,e,ge,Re)}),e}function og(U,K,ge,Re,Ze){var st=ge._reactRootContainer;if(st){var G=st;if(typeof Ze=="function"){var V=Ze;Ze=function(){var e=U0(G);V.call(e)}}ng(K,G,U,Ze)}else G=OM(ge,K,U,Ze,Re);return U0(G)}Sb=function(U){switch(U.tag){case 3:var K=U.stateNode;if(K.current.memoizedState.isDehydrated){var ge=Ed(K.pendingLanes);ge!==0&&(M1(K,ge|1),al(K,Eo()),!(Ti&6)&&(Hv=Eo()+500,qc()))}break;case 13:Nh(function(){var Re=Gf(U,1);if(Re!==null){var Ze=zs();Fu(Re,U,1,Ze)}}),nm(U,1)}};S1=function(U){if(U.tag===13){var K=Gf(U,134217728);if(K!==null){var ge=zs();Fu(K,U,134217728,ge)}nm(U,134217728)}};Eb=function(U){if(U.tag===13){var K=Yc(U),ge=Gf(U,K);if(ge!==null){var Re=zs();Fu(ge,U,K,Re)}nm(U,K)}};Cb=function(){return Di};Lb=function(U,K){var ge=Di;try{return Di=U,K()}finally{Di=ge}};Ry=function(U,K,ge){switch(K){case"input":if(Ay(U,ge),K=ge.name,ge.type==="radio"&&K!=null){for(ge=U;ge.parentNode;)ge=ge.parentNode;for(ge=ge.querySelectorAll("input[name="+JSON.stringify(""+K)+'][type="radio"]'),K=0;K<ge.length;K++){var Re=ge[K];if(Re!==U&&Re.form===U.form){var Ze=J0(Re);if(!Ze)throw Error(ma(90));ib(Re),Ay(Re,Ze)}}}break;case"textarea":sb(U,ge);break;case"select":K=ge.value,K!=null&&Pv(U,!!ge.multiple,K,!1)}};db=$1;pb=Nh;var BM={usingClientEntryPoint:!1,Events:[sp,Tv,J0,hb,vb,$1]},Ad={findFiberByHostInstance:Rh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NM={bundleType:Ad.bundleType,version:Ad.version,rendererPackageName:Ad.rendererPackageName,rendererConfig:Ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yf.ReactCurrentDispatcher,findHostInstanceByFiber:function(U){return U=mb(U),U===null?null:U.stateNode},findFiberByHostInstance:Ad.findFiberByHostInstance||zM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e0.isDisabled&&e0.supportsFiber)try{Z0=e0.inject(NM),sf=e0}catch{}}Al.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BM;Al.createPortal=function(U,K){var ge=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(K))throw Error(ma(200));return _M(U,K,null,ge)};Al.createRoot=function(U,K){if(!im(U))throw Error(ma(299));var ge=!1,Re="",Ze=Q3;return K!=null&&(K.unstable_strictMode===!0&&(ge=!0),K.identifierPrefix!==void 0&&(Re=K.identifierPrefix),K.onRecoverableError!==void 0&&(Ze=K.onRecoverableError)),K=rm(U,1,!1,null,null,ge,!1,Re,Ze),U[Vf]=K.current,Xd(U.nodeType===8?U.parentNode:U),new am(K)};Al.findDOMNode=function(U){if(U==null)return null;if(U.nodeType===1)return U;var K=U._reactInternals;if(K===void 0)throw typeof U.render=="function"?Error(ma(188)):(U=Object.keys(U).join(","),Error(ma(268,U)));return U=mb(K),U=U===null?null:U.stateNode,U};Al.flushSync=function(U){return Nh(U)};Al.hydrate=function(U,K,ge){if(!ig(K))throw Error(ma(200));return og(null,U,K,!0,ge)};Al.hydrateRoot=function(U,K,ge){if(!im(U))throw Error(ma(405));var Re=ge!=null&&ge.hydratedSources||null,Ze=!1,st="",G=Q3;if(ge!=null&&(ge.unstable_strictMode===!0&&(Ze=!0),ge.identifierPrefix!==void 0&&(st=ge.identifierPrefix),ge.onRecoverableError!==void 0&&(G=ge.onRecoverableError)),K=J3(K,null,U,1,ge??null,Ze,!1,st,G),U[Vf]=K.current,Xd(U),Re)for(U=0;U<Re.length;U++)ge=Re[U],Ze=ge._getVersion,Ze=Ze(ge._source),K.mutableSourceEagerHydrationData==null?K.mutableSourceEagerHydrationData=[ge,Ze]:K.mutableSourceEagerHydrationData.push(ge,Ze);return new ag(K)};Al.render=function(U,K,ge){if(!ig(K))throw Error(ma(200));return og(null,U,K,!1,ge)};Al.unmountComponentAtNode=function(U){if(!ig(U))throw Error(ma(40));return U._reactRootContainer?(Nh(function(){og(null,null,U,!1,function(){U._reactRootContainer=null,U[Vf]=null})}),!0):!1};Al.unstable_batchedUpdates=$1;Al.unstable_renderSubtreeIntoContainer=function(U,K,ge,Re){if(!ig(ge))throw Error(ma(200));if(U==null||U._reactInternals===void 0)throw Error(ma(38));return og(U,K,ge,!1,Re)};Al.version="18.2.0-next-9e3b772b8-20220608";function $3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($3)}catch(U){console.error(U)}}$3(),J2.exports=Al;var UM=J2.exports,L2=UM;gy.createRoot=L2.createRoot,gy.hydrateRoot=L2.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function np(){return np=Object.assign?Object.assign.bind():function(U){for(var K=1;K<arguments.length;K++){var ge=arguments[K];for(var Re in ge)Object.prototype.hasOwnProperty.call(ge,Re)&&(U[Re]=ge[Re])}return U},np.apply(this,arguments)}var Oc;(function(U){U.Pop="POP",U.Push="PUSH",U.Replace="REPLACE"})(Oc||(Oc={}));const P2="popstate";function HM(U){U===void 0&&(U={});function K(Re,Ze){let{pathname:st,search:G,hash:V}=Re.location;return u1("",{pathname:st,search:G,hash:V},Ze.state&&Ze.state.usr||null,Ze.state&&Ze.state.key||"default")}function ge(Re,Ze){return typeof Ze=="string"?Ze:H0(Ze)}return GM(K,ge,null,U)}function Co(U,K){if(U===!1||U===null||typeof U>"u")throw new Error(K)}function om(U,K){if(!U){typeof console<"u"&&console.warn(K);try{throw new Error(K)}catch{}}}function VM(){return Math.random().toString(36).substr(2,8)}function R2(U,K){return{usr:U.state,key:U.key,idx:K}}function u1(U,K,ge,Re){return ge===void 0&&(ge=null),np({pathname:typeof U=="string"?U:U.pathname,search:"",hash:""},typeof K=="string"?Yv(K):K,{state:ge,key:K&&K.key||Re||VM()})}function H0(U){let{pathname:K="/",search:ge="",hash:Re=""}=U;return ge&&ge!=="?"&&(K+=ge.charAt(0)==="?"?ge:"?"+ge),Re&&Re!=="#"&&(K+=Re.charAt(0)==="#"?Re:"#"+Re),K}function Yv(U){let K={};if(U){let ge=U.indexOf("#");ge>=0&&(K.hash=U.substr(ge),U=U.substr(0,ge));let Re=U.indexOf("?");Re>=0&&(K.search=U.substr(Re),U=U.substr(0,Re)),U&&(K.pathname=U)}return K}function GM(U,K,ge,Re){Re===void 0&&(Re={});let{window:Ze=document.defaultView,v5Compat:st=!1}=Re,G=Ze.history,V=Oc.Pop,e=null,y=P();y==null&&(y=0,G.replaceState(np({},G.state,{idx:y}),""));function P(){return(G.state||{idx:null}).idx}function o(){V=Oc.Pop;let r=P(),t=r==null?null:r-y;y=r,e&&e({action:V,location:p.location,delta:t})}function L(r,t){V=Oc.Push;let i=u1(p.location,r,t);ge&&ge(i,r),y=P()+1;let n=R2(i,y),c=p.createHref(i);try{G.pushState(n,"",c)}catch(u){if(u instanceof DOMException&&u.name==="DataCloneError")throw u;Ze.location.assign(c)}st&&e&&e({action:V,location:p.location,delta:1})}function M(r,t){V=Oc.Replace;let i=u1(p.location,r,t);ge&&ge(i,r),y=P();let n=R2(i,y),c=p.createHref(i);G.replaceState(n,"",c),st&&e&&e({action:V,location:p.location,delta:0})}function v(r){let t=Ze.location.origin!=="null"?Ze.location.origin:Ze.location.href,i=typeof r=="string"?r:H0(r);return Co(t,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,t)}let p={get action(){return V},get location(){return U(Ze,G)},listen(r){if(e)throw new Error("A history only accepts one active listener");return Ze.addEventListener(P2,o),e=r,()=>{Ze.removeEventListener(P2,o),e=null}},createHref(r){return K(Ze,r)},createURL:v,encodeLocation(r){let t=v(r);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:L,replace:M,go(r){return G.go(r)}};return p}var D2;(function(U){U.data="data",U.deferred="deferred",U.redirect="redirect",U.error="error"})(D2||(D2={}));function WM(U,K,ge){ge===void 0&&(ge="/");let Re=typeof K=="string"?Yv(K):K,Ze=sm(Re.pathname||"/",ge);if(Ze==null)return null;let st=q3(U);YM(st);let G=null;for(let V=0;G==null&&V<st.length;++V)G=eS(st[V],nS(Ze));return G}function q3(U,K,ge,Re){K===void 0&&(K=[]),ge===void 0&&(ge=[]),Re===void 0&&(Re="");let Ze=(st,G,V)=>{let e={relativePath:V===void 0?st.path||"":V,caseSensitive:st.caseSensitive===!0,childrenIndex:G,route:st};e.relativePath.startsWith("/")&&(Co(e.relativePath.startsWith(Re),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+Re+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(Re.length));let y=jc([Re,e.relativePath]),P=ge.concat(e);st.children&&st.children.length>0&&(Co(st.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),q3(st.children,K,P,y)),!(st.path==null&&!st.index)&&K.push({path:y,score:$M(y,st.index),routesMeta:P})};return U.forEach((st,G)=>{var V;if(st.path===""||!((V=st.path)!=null&&V.includes("?")))Ze(st,G);else for(let e of ew(st.path))Ze(st,G,e)}),K}function ew(U){let K=U.split("/");if(K.length===0)return[];let[ge,...Re]=K,Ze=ge.endsWith("?"),st=ge.replace(/\?$/,"");if(Re.length===0)return Ze?[st,""]:[st];let G=ew(Re.join("/")),V=[];return V.push(...G.map(e=>e===""?st:[st,e].join("/"))),Ze&&V.push(...G),V.map(e=>U.startsWith("/")&&e===""?"/":e)}function YM(U){U.sort((K,ge)=>K.score!==ge.score?ge.score-K.score:qM(K.routesMeta.map(Re=>Re.childrenIndex),ge.routesMeta.map(Re=>Re.childrenIndex)))}const ZM=/^:\w+$/,jM=3,XM=2,KM=1,JM=10,QM=-2,I2=U=>U==="*";function $M(U,K){let ge=U.split("/"),Re=ge.length;return ge.some(I2)&&(Re+=QM),K&&(Re+=XM),ge.filter(Ze=>!I2(Ze)).reduce((Ze,st)=>Ze+(ZM.test(st)?jM:st===""?KM:JM),Re)}function qM(U,K){return U.length===K.length&&U.slice(0,-1).every((Re,Ze)=>Re===K[Ze])?U[U.length-1]-K[K.length-1]:0}function eS(U,K){let{routesMeta:ge}=U,Re={},Ze="/",st=[];for(let G=0;G<ge.length;++G){let V=ge[G],e=G===ge.length-1,y=Ze==="/"?K:K.slice(Ze.length)||"/",P=tS({path:V.relativePath,caseSensitive:V.caseSensitive,end:e},y);if(!P)return null;Object.assign(Re,P.params);let o=V.route;st.push({params:Re,pathname:jc([Ze,P.pathname]),pathnameBase:sS(jc([Ze,P.pathnameBase])),route:o}),P.pathnameBase!=="/"&&(Ze=jc([Ze,P.pathnameBase]))}return st}function tS(U,K){typeof U=="string"&&(U={path:U,caseSensitive:!1,end:!0});let[ge,Re]=rS(U.path,U.caseSensitive,U.end),Ze=K.match(ge);if(!Ze)return null;let st=Ze[0],G=st.replace(/(.)\/+$/,"$1"),V=Ze.slice(1);return{params:Re.reduce((y,P,o)=>{let{paramName:L,isOptional:M}=P;if(L==="*"){let p=V[o]||"";G=st.slice(0,st.length-p.length).replace(/(.)\/+$/,"$1")}const v=V[o];return M&&!v?y[L]=void 0:y[L]=aS(v||"",L),y},{}),pathname:st,pathnameBase:G,pattern:U}}function rS(U,K,ge){K===void 0&&(K=!1),ge===void 0&&(ge=!0),om(U==="*"||!U.endsWith("*")||U.endsWith("/*"),'Route path "'+U+'" will be treated as if it were '+('"'+U.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+U.replace(/\*$/,"/*")+'".'));let Re=[],Ze="^"+U.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(G,V,e)=>(Re.push({paramName:V,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return U.endsWith("*")?(Re.push({paramName:"*"}),Ze+=U==="*"||U==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ge?Ze+="\\/*$":U!==""&&U!=="/"&&(Ze+="(?:(?=\\/|$))"),[new RegExp(Ze,K?void 0:"i"),Re]}function nS(U){try{return decodeURI(U)}catch(K){return om(!1,'The URL path "'+U+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+K+").")),U}}function aS(U,K){try{return decodeURIComponent(U)}catch(ge){return om(!1,'The value for the URL param "'+K+'" will not be decoded because'+(' the string "'+U+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+ge+").")),U}}function sm(U,K){if(K==="/")return U;if(!U.toLowerCase().startsWith(K.toLowerCase()))return null;let ge=K.endsWith("/")?K.length-1:K.length,Re=U.charAt(ge);return Re&&Re!=="/"?null:U.slice(ge)||"/"}function iS(U,K){K===void 0&&(K="/");let{pathname:ge,search:Re="",hash:Ze=""}=typeof U=="string"?Yv(U):U;return{pathname:ge?ge.startsWith("/")?ge:oS(ge,K):K,search:lS(Re),hash:uS(Ze)}}function oS(U,K){let ge=K.replace(/\/+$/,"").split("/");return U.split("/").forEach(Ze=>{Ze===".."?ge.length>1&&ge.pop():Ze!=="."&&ge.push(Ze)}),ge.length>1?ge.join("/"):"/"}function hy(U,K,ge,Re){return"Cannot include a '"+U+"' character in a manually specified "+("`to."+K+"` field ["+JSON.stringify(Re)+"].  Please separate it out to the ")+("`to."+ge+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lm(U){return U.filter((K,ge)=>ge===0||K.route.path&&K.route.path.length>0)}function um(U,K,ge,Re){Re===void 0&&(Re=!1);let Ze;typeof U=="string"?Ze=Yv(U):(Ze=np({},U),Co(!Ze.pathname||!Ze.pathname.includes("?"),hy("?","pathname","search",Ze)),Co(!Ze.pathname||!Ze.pathname.includes("#"),hy("#","pathname","hash",Ze)),Co(!Ze.search||!Ze.search.includes("#"),hy("#","search","hash",Ze)));let st=U===""||Ze.pathname==="",G=st?"/":Ze.pathname,V;if(G==null)V=ge;else if(Re){let o=K[K.length-1].replace(/^\//,"").split("/");if(G.startsWith("..")){let L=G.split("/");for(;L[0]==="..";)L.shift(),o.pop();Ze.pathname=L.join("/")}V="/"+o.join("/")}else{let o=K.length-1;if(G.startsWith("..")){let L=G.split("/");for(;L[0]==="..";)L.shift(),o-=1;Ze.pathname=L.join("/")}V=o>=0?K[o]:"/"}let e=iS(Ze,V),y=G&&G!=="/"&&G.endsWith("/"),P=(st||G===".")&&ge.endsWith("/");return!e.pathname.endsWith("/")&&(y||P)&&(e.pathname+="/"),e}const jc=U=>U.join("/").replace(/\/\/+/g,"/"),sS=U=>U.replace(/\/+$/,"").replace(/^\/*/,"/"),lS=U=>!U||U==="?"?"":U.startsWith("?")?U:"?"+U,uS=U=>!U||U==="#"?"":U.startsWith("#")?U:"#"+U;function fS(U){return U!=null&&typeof U.status=="number"&&typeof U.statusText=="string"&&typeof U.internal=="boolean"&&"data"in U}const tw=["post","put","patch","delete"];new Set(tw);const cS=["get",...tw];new Set(cS);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V0(){return V0=Object.assign?Object.assign.bind():function(U){for(var K=1;K<arguments.length;K++){var ge=arguments[K];for(var Re in ge)Object.prototype.hasOwnProperty.call(ge,Re)&&(U[Re]=ge[Re])}return U},V0.apply(this,arguments)}const fm=jn.createContext(null),hS=jn.createContext(null),Zv=jn.createContext(null),sg=jn.createContext(null),Zf=jn.createContext({outlet:null,matches:[],isDataRoute:!1}),rw=jn.createContext(null);function vS(U,K){let{relative:ge}=K===void 0?{}:K;jv()||Co(!1);let{basename:Re,navigator:Ze}=jn.useContext(Zv),{hash:st,pathname:G,search:V}=aw(U,{relative:ge}),e=G;return Re!=="/"&&(e=G==="/"?Re:jc([Re,G])),Ze.createHref({pathname:e,search:V,hash:st})}function jv(){return jn.useContext(sg)!=null}function up(){return jv()||Co(!1),jn.useContext(sg).location}function nw(U){jn.useContext(Zv).static||jn.useLayoutEffect(U)}function cm(){let{isDataRoute:U}=jn.useContext(Zf);return U?CS():dS()}function dS(){jv()||Co(!1);let U=jn.useContext(fm),{basename:K,navigator:ge}=jn.useContext(Zv),{matches:Re}=jn.useContext(Zf),{pathname:Ze}=up(),st=JSON.stringify(lm(Re).map(e=>e.pathnameBase)),G=jn.useRef(!1);return nw(()=>{G.current=!0}),jn.useCallback(function(e,y){if(y===void 0&&(y={}),!G.current)return;if(typeof e=="number"){ge.go(e);return}let P=um(e,JSON.parse(st),Ze,y.relative==="path");U==null&&K!=="/"&&(P.pathname=P.pathname==="/"?K:jc([K,P.pathname])),(y.replace?ge.replace:ge.push)(P,y.state,y)},[K,ge,st,Ze,U])}function pS(){let{matches:U}=jn.useContext(Zf),K=U[U.length-1];return K?K.params:{}}function aw(U,K){let{relative:ge}=K===void 0?{}:K,{matches:Re}=jn.useContext(Zf),{pathname:Ze}=up(),st=JSON.stringify(lm(Re).map(G=>G.pathnameBase));return jn.useMemo(()=>um(U,JSON.parse(st),Ze,ge==="path"),[U,st,Ze,ge])}function gS(U,K){return yS(U,K)}function yS(U,K,ge){jv()||Co(!1);let{navigator:Re}=jn.useContext(Zv),{matches:Ze}=jn.useContext(Zf),st=Ze[Ze.length-1],G=st?st.params:{};st&&st.pathname;let V=st?st.pathnameBase:"/";st&&st.route;let e=up(),y;if(K){var P;let p=typeof K=="string"?Yv(K):K;V==="/"||(P=p.pathname)!=null&&P.startsWith(V)||Co(!1),y=p}else y=e;let o=y.pathname||"/",L=V==="/"?o:o.slice(V.length)||"/",M=WM(U,{pathname:L}),v=TS(M&&M.map(p=>Object.assign({},p,{params:Object.assign({},G,p.params),pathname:jc([V,Re.encodeLocation?Re.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?V:jc([V,Re.encodeLocation?Re.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),Ze,ge);return K&&v?jn.createElement(sg.Provider,{value:{location:V0({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Oc.Pop}},v):v}function mS(){let U=ES(),K=fS(U)?U.status+" "+U.statusText:U instanceof Error?U.message:JSON.stringify(U),ge=U instanceof Error?U.stack:null,Ze={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},st=null;return jn.createElement(jn.Fragment,null,jn.createElement("h2",null,"Unexpected Application Error!"),jn.createElement("h3",{style:{fontStyle:"italic"}},K),ge?jn.createElement("pre",{style:Ze},ge):null,st)}const xS=jn.createElement(mS,null);class bS extends jn.Component{constructor(K){super(K),this.state={location:K.location,revalidation:K.revalidation,error:K.error}}static getDerivedStateFromError(K){return{error:K}}static getDerivedStateFromProps(K,ge){return ge.location!==K.location||ge.revalidation!=="idle"&&K.revalidation==="idle"?{error:K.error,location:K.location,revalidation:K.revalidation}:{error:K.error||ge.error,location:ge.location,revalidation:K.revalidation||ge.revalidation}}componentDidCatch(K,ge){console.error("React Router caught the following error during render",K,ge)}render(){return this.state.error?jn.createElement(Zf.Provider,{value:this.props.routeContext},jn.createElement(rw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wS(U){let{routeContext:K,match:ge,children:Re}=U,Ze=jn.useContext(fm);return Ze&&Ze.static&&Ze.staticContext&&(ge.route.errorElement||ge.route.ErrorBoundary)&&(Ze.staticContext._deepestRenderedBoundaryId=ge.route.id),jn.createElement(Zf.Provider,{value:K},Re)}function TS(U,K,ge){var Re;if(K===void 0&&(K=[]),ge===void 0&&(ge=null),U==null){var Ze;if((Ze=ge)!=null&&Ze.errors)U=ge.matches;else return null}let st=U,G=(Re=ge)==null?void 0:Re.errors;if(G!=null){let V=st.findIndex(e=>e.route.id&&(G==null?void 0:G[e.route.id]));V>=0||Co(!1),st=st.slice(0,Math.min(st.length,V+1))}return st.reduceRight((V,e,y)=>{let P=e.route.id?G==null?void 0:G[e.route.id]:null,o=null;ge&&(o=e.route.errorElement||xS);let L=K.concat(st.slice(0,y+1)),M=()=>{let v;return P?v=o:e.route.Component?v=jn.createElement(e.route.Component,null):e.route.element?v=e.route.element:v=V,jn.createElement(wS,{match:e,routeContext:{outlet:V,matches:L,isDataRoute:ge!=null},children:v})};return ge&&(e.route.ErrorBoundary||e.route.errorElement||y===0)?jn.createElement(bS,{location:ge.location,revalidation:ge.revalidation,component:o,error:P,children:M(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):M()},null)}var iw=function(U){return U.UseBlocker="useBlocker",U.UseRevalidator="useRevalidator",U.UseNavigateStable="useNavigate",U}(iw||{}),G0=function(U){return U.UseBlocker="useBlocker",U.UseLoaderData="useLoaderData",U.UseActionData="useActionData",U.UseRouteError="useRouteError",U.UseNavigation="useNavigation",U.UseRouteLoaderData="useRouteLoaderData",U.UseMatches="useMatches",U.UseRevalidator="useRevalidator",U.UseNavigateStable="useNavigate",U.UseRouteId="useRouteId",U}(G0||{});function AS(U){let K=jn.useContext(fm);return K||Co(!1),K}function MS(U){let K=jn.useContext(hS);return K||Co(!1),K}function SS(U){let K=jn.useContext(Zf);return K||Co(!1),K}function ow(U){let K=SS(),ge=K.matches[K.matches.length-1];return ge.route.id||Co(!1),ge.route.id}function ES(){var U;let K=jn.useContext(rw),ge=MS(G0.UseRouteError),Re=ow(G0.UseRouteError);return K||((U=ge.errors)==null?void 0:U[Re])}function CS(){let{router:U}=AS(iw.UseNavigateStable),K=ow(G0.UseNavigateStable),ge=jn.useRef(!1);return nw(()=>{ge.current=!0}),jn.useCallback(function(Ze,st){st===void 0&&(st={}),ge.current&&(typeof Ze=="number"?U.navigate(Ze):U.navigate(Ze,V0({fromRouteId:K},st)))},[U,K])}function Uh(U){let{to:K,replace:ge,state:Re,relative:Ze}=U;jv()||Co(!1);let{matches:st}=jn.useContext(Zf),{pathname:G}=up(),V=cm(),e=um(K,lm(st).map(P=>P.pathnameBase),G,Ze==="path"),y=JSON.stringify(e);return jn.useEffect(()=>V(JSON.parse(y),{replace:ge,state:Re,relative:Ze}),[V,y,Ze,ge,Re]),null}function nf(U){Co(!1)}function LS(U){let{basename:K="/",children:ge=null,location:Re,navigationType:Ze=Oc.Pop,navigator:st,static:G=!1}=U;jv()&&Co(!1);let V=K.replace(/^\/*/,"/"),e=jn.useMemo(()=>({basename:V,navigator:st,static:G}),[V,st,G]);typeof Re=="string"&&(Re=Yv(Re));let{pathname:y="/",search:P="",hash:o="",state:L=null,key:M="default"}=Re,v=jn.useMemo(()=>{let p=sm(y,V);return p==null?null:{location:{pathname:p,search:P,hash:o,state:L,key:M},navigationType:Ze}},[V,y,P,o,L,M,Ze]);return v==null?null:jn.createElement(Zv.Provider,{value:e},jn.createElement(sg.Provider,{children:ge,value:v}))}function PS(U){let{children:K,location:ge}=U;return gS(f1(K),ge)}new Promise(()=>{});function f1(U,K){K===void 0&&(K=[]);let ge=[];return jn.Children.forEach(U,(Re,Ze)=>{if(!jn.isValidElement(Re))return;let st=[...K,Ze];if(Re.type===jn.Fragment){ge.push.apply(ge,f1(Re.props.children,st));return}Re.type!==nf&&Co(!1),!Re.props.index||!Re.props.children||Co(!1);let G={id:Re.props.id||st.join("-"),caseSensitive:Re.props.caseSensitive,element:Re.props.element,Component:Re.props.Component,index:Re.props.index,path:Re.props.path,loader:Re.props.loader,action:Re.props.action,errorElement:Re.props.errorElement,ErrorBoundary:Re.props.ErrorBoundary,hasErrorBoundary:Re.props.ErrorBoundary!=null||Re.props.errorElement!=null,shouldRevalidate:Re.props.shouldRevalidate,handle:Re.props.handle,lazy:Re.props.lazy};Re.props.children&&(G.children=f1(Re.props.children,st)),ge.push(G)}),ge}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c1(){return c1=Object.assign?Object.assign.bind():function(U){for(var K=1;K<arguments.length;K++){var ge=arguments[K];for(var Re in ge)Object.prototype.hasOwnProperty.call(ge,Re)&&(U[Re]=ge[Re])}return U},c1.apply(this,arguments)}function RS(U,K){if(U==null)return{};var ge={},Re=Object.keys(U),Ze,st;for(st=0;st<Re.length;st++)Ze=Re[st],!(K.indexOf(Ze)>=0)&&(ge[Ze]=U[Ze]);return ge}function DS(U){return!!(U.metaKey||U.altKey||U.ctrlKey||U.shiftKey)}function IS(U,K){return U.button===0&&(!K||K==="_self")&&!DS(U)}const kS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],FS="startTransition",k2=RA[FS];function _S(U){let{basename:K,children:ge,future:Re,window:Ze}=U,st=jn.useRef();st.current==null&&(st.current=HM({window:Ze,v5Compat:!0}));let G=st.current,[V,e]=jn.useState({action:G.action,location:G.location}),{v7_startTransition:y}=Re||{},P=jn.useCallback(o=>{y&&k2?k2(()=>e(o)):e(o)},[e,y]);return jn.useLayoutEffect(()=>G.listen(P),[G,P]),jn.createElement(LS,{basename:K,children:ge,location:V.location,navigationType:V.action,navigator:G})}const zS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iu=jn.forwardRef(function(K,ge){let{onClick:Re,relative:Ze,reloadDocument:st,replace:G,state:V,target:e,to:y,preventScrollReset:P,unstable_viewTransition:o}=K,L=RS(K,kS),{basename:M}=jn.useContext(Zv),v,p=!1;if(typeof y=="string"&&OS.test(y)&&(v=y,zS))try{let n=new URL(window.location.href),c=y.startsWith("//")?new URL(n.protocol+y):new URL(y),u=sm(c.pathname,M);c.origin===n.origin&&u!=null?y=u+c.search+c.hash:p=!0}catch{}let r=vS(y,{relative:Ze}),t=BS(y,{replace:G,state:V,target:e,preventScrollReset:P,relative:Ze,unstable_viewTransition:o});function i(n){Re&&Re(n),n.defaultPrevented||t(n)}return jn.createElement("a",c1({},L,{href:v||r,onClick:p||st?Re:i,ref:ge,target:e}))});var F2;(function(U){U.UseScrollRestoration="useScrollRestoration",U.UseSubmit="useSubmit",U.UseSubmitFetcher="useSubmitFetcher",U.UseFetcher="useFetcher",U.useViewTransitionState="useViewTransitionState"})(F2||(F2={}));var _2;(function(U){U.UseFetcher="useFetcher",U.UseFetchers="useFetchers",U.UseScrollRestoration="useScrollRestoration"})(_2||(_2={}));function BS(U,K){let{target:ge,replace:Re,state:Ze,preventScrollReset:st,relative:G,unstable_viewTransition:V}=K===void 0?{}:K,e=cm(),y=up(),P=aw(U,{relative:G});return jn.useCallback(o=>{if(IS(o,ge)){o.preventDefault();let L=Re!==void 0?Re:H0(y)===H0(P);e(U,{replace:L,state:Ze,preventScrollReset:st,relative:G,unstable_viewTransition:V})}},[y,e,P,Re,Ze,ge,U,st,G,V])}const uf=jn.createContext(void 0),NS=({children:U})=>{const[K,ge]=jn.useState(!1),[Re,Ze]=jn.useState("email"),[st,G]=jn.useState(""),[V,e]=jn.useState({token:" ",expire:" "}),y=r=>G(r),P=()=>st,o=()=>Re,L=()=>V.token,M=r=>Ze(r),v=r=>(localStorage.setItem("jwt",r.token),e(r),ge(!0)),p=()=>{localStorage.removeItem("jwt"),e({token:"",expire:""}),ge(!1),window.location.href="/",console.log("log out")};return un.jsx(uf.Provider,{value:{authenticated:K,getJwt:L,logIn:v,logout:p,SetEmail:M,GetUserEmail:o,SetIsConfirmerd:y,IsConfirmerd:P},children:U})};function US(){return un.jsx(un.Fragment,{children:un.jsxs("div",{className:"grid-container",children:[un.jsxs("div",{className:"grid-item ",children:[un.jsx("h1",{className:"font-sans text-center text-5xl",children:"Welcome to WaveHexaPod dashboard"}),un.jsxs("p",{className:"font-sans text-center  mt-[20px] text-xl",children:["Welcome to the official AE WaveHexapod dashboard! ",un.jsx("br",{})," Please login for more information about this dashboard."]}),un.jsxs("div",{className:"signInUpContainer",children:[un.jsx("div",{className:"signInUp-link-background",children:un.jsx(Iu,{className:"signInUp-link",to:"/Login",children:"Login"})}),un.jsx("div",{className:"signInUp-link-background",children:un.jsx(Iu,{className:"signInUp-link",to:"/Register",children:"Register"})})]})]}),un.jsx("div",{className:"grid-item ",children:un.jsx("img",{className:"img",src:"./src/img/hexapod.jpg",alt:"test line-up of the wavehexpod"})})]})})}function sw(U){var K,ge,Re="";if(typeof U=="string"||typeof U=="number")Re+=U;else if(typeof U=="object")if(Array.isArray(U))for(K=0;K<U.length;K++)U[K]&&(ge=sw(U[K]))&&(Re&&(Re+=" "),Re+=ge);else for(K in U)U[K]&&(Re&&(Re+=" "),Re+=K);return Re}function Bc(){for(var U,K,ge=0,Re="";ge<arguments.length;)(U=arguments[ge++])&&(K=sw(U))&&(Re&&(Re+=" "),Re+=K);return Re}const Bd=U=>typeof U=="number"&&!isNaN(U),Hh=U=>typeof U=="string",tl=U=>typeof U=="function",g0=U=>Hh(U)||tl(U)?U:null,vy=U=>jn.isValidElement(U)||Hh(U)||tl(U)||Bd(U);function HS(U,K,ge){ge===void 0&&(ge=300);const{scrollHeight:Re,style:Ze}=U;requestAnimationFrame(()=>{Ze.minHeight="initial",Ze.height=Re+"px",Ze.transition=`all ${ge}ms`,requestAnimationFrame(()=>{Ze.height="0",Ze.padding="0",Ze.margin="0",setTimeout(K,ge)})})}function lg(U){let{enter:K,exit:ge,appendPosition:Re=!1,collapse:Ze=!0,collapseDuration:st=300}=U;return function(G){let{children:V,position:e,preventExitTransition:y,done:P,nodeRef:o,isIn:L}=G;const M=Re?`${K}--${e}`:K,v=Re?`${ge}--${e}`:ge,p=jn.useRef(0);return jn.useLayoutEffect(()=>{const r=o.current,t=M.split(" "),i=n=>{n.target===o.current&&(r.dispatchEvent(new Event("d")),r.removeEventListener("animationend",i),r.removeEventListener("animationcancel",i),p.current===0&&n.type!=="animationcancel"&&r.classList.remove(...t))};r.classList.add(...t),r.addEventListener("animationend",i),r.addEventListener("animationcancel",i)},[]),jn.useEffect(()=>{const r=o.current,t=()=>{r.removeEventListener("animationend",t),Ze?HS(r,P,st):P()};L||(y?t():(p.current=1,r.className+=` ${v}`,r.addEventListener("animationend",t)))},[L]),Oi.createElement(Oi.Fragment,null,V)}}function z2(U,K){return U!=null?{content:U.content,containerId:U.props.containerId,id:U.props.toastId,theme:U.props.theme,type:U.props.type,data:U.props.data||{},isLoading:U.props.isLoading,icon:U.props.icon,status:K}:{}}const Kl={list:new Map,emitQueue:new Map,on(U,K){return this.list.has(U)||this.list.set(U,[]),this.list.get(U).push(K),this},off(U,K){if(K){const ge=this.list.get(U).filter(Re=>Re!==K);return this.list.set(U,ge),this}return this.list.delete(U),this},cancelEmit(U){const K=this.emitQueue.get(U);return K&&(K.forEach(clearTimeout),this.emitQueue.delete(U)),this},emit(U){this.list.has(U)&&this.list.get(U).forEach(K=>{const ge=setTimeout(()=>{K(...[].slice.call(arguments,1))},0);this.emitQueue.has(U)||this.emitQueue.set(U,[]),this.emitQueue.get(U).push(ge)})}},t0=U=>{let{theme:K,type:ge,...Re}=U;return Oi.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:K==="colored"?"currentColor":`var(--toastify-icon-color-${ge})`,...Re})},dy={info:function(U){return Oi.createElement(t0,{...U},Oi.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(U){return Oi.createElement(t0,{...U},Oi.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(U){return Oi.createElement(t0,{...U},Oi.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(U){return Oi.createElement(t0,{...U},Oi.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Oi.createElement("div",{className:"Toastify__spinner"})}};function VS(U){const[,K]=jn.useReducer(M=>M+1,0),[ge,Re]=jn.useState([]),Ze=jn.useRef(null),st=jn.useRef(new Map).current,G=M=>ge.indexOf(M)!==-1,V=jn.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:U,containerId:null,isToastActive:G,getToast:M=>st.get(M)}).current;function e(M){let{containerId:v}=M;const{limit:p}=V.props;!p||v&&V.containerId!==v||(V.count-=V.queue.length,V.queue=[])}function y(M){Re(v=>M==null?[]:v.filter(p=>p!==M))}function P(){const{toastContent:M,toastProps:v,staleId:p}=V.queue.shift();L(M,v,p)}function o(M,v){let{delay:p,staleId:r,...t}=v;if(!vy(M)||function(d){return!Ze.current||V.props.enableMultiContainer&&d.containerId!==V.props.containerId||st.has(d.toastId)&&d.updateId==null}(t))return;const{toastId:i,updateId:n,data:c}=t,{props:u}=V,l=()=>y(i),g=n==null;g&&V.count++;const f={...u,style:u.toastStyle,key:V.toastKey++,...Object.fromEntries(Object.entries(t).filter(d=>{let[A,w]=d;return w!=null})),toastId:i,updateId:n,data:c,closeToast:l,isIn:!1,className:g0(t.className||u.toastClassName),bodyClassName:g0(t.bodyClassName||u.bodyClassName),progressClassName:g0(t.progressClassName||u.progressClassName),autoClose:!t.isLoading&&(T=t.autoClose,h=u.autoClose,T===!1||Bd(T)&&T>0?T:h),deleteToast(){const d=z2(st.get(i),"removed");st.delete(i),Kl.emit(4,d);const A=V.queue.length;if(V.count=i==null?V.count-V.displayedToast:V.count-1,V.count<0&&(V.count=0),A>0){const w=i==null?V.props.limit:1;if(A===1||w===1)V.displayedToast++,P();else{const C=w>A?A:w;V.displayedToast=C;for(let b=0;b<C;b++)P()}}else K()}};var T,h;f.iconOut=function(d){let{theme:A,type:w,isLoading:C,icon:b}=d,S=null;const m={theme:A,type:w};return b===!1||(tl(b)?S=b(m):jn.isValidElement(b)?S=jn.cloneElement(b,m):Hh(b)||Bd(b)?S=b:C?S=dy.spinner():(a=>a in dy)(w)&&(S=dy[w](m))),S}(f),tl(t.onOpen)&&(f.onOpen=t.onOpen),tl(t.onClose)&&(f.onClose=t.onClose),f.closeButton=u.closeButton,t.closeButton===!1||vy(t.closeButton)?f.closeButton=t.closeButton:t.closeButton===!0&&(f.closeButton=!vy(u.closeButton)||u.closeButton);let s=M;jn.isValidElement(M)&&!Hh(M.type)?s=jn.cloneElement(M,{closeToast:l,toastProps:f,data:c}):tl(M)&&(s=M({closeToast:l,toastProps:f,data:c})),u.limit&&u.limit>0&&V.count>u.limit&&g?V.queue.push({toastContent:s,toastProps:f,staleId:r}):Bd(p)?setTimeout(()=>{L(s,f,r)},p):L(s,f,r)}function L(M,v,p){const{toastId:r}=v;p&&st.delete(p);const t={content:M,props:v};st.set(r,t),Re(i=>[...i,r].filter(n=>n!==p)),Kl.emit(4,z2(t,t.props.updateId==null?"added":"updated"))}return jn.useEffect(()=>(V.containerId=U.containerId,Kl.cancelEmit(3).on(0,o).on(1,M=>Ze.current&&y(M)).on(5,e).emit(2,V),()=>{st.clear(),Kl.emit(3,V)}),[]),jn.useEffect(()=>{V.props=U,V.isToastActive=G,V.displayedToast=ge.length}),{getToastToRender:function(M){const v=new Map,p=Array.from(st.values());return U.newestOnTop&&p.reverse(),p.forEach(r=>{const{position:t}=r.props;v.has(t)||v.set(t,[]),v.get(t).push(r)}),Array.from(v,r=>M(r[0],r[1]))},containerRef:Ze,isToastActive:G}}function O2(U){return U.targetTouches&&U.targetTouches.length>=1?U.targetTouches[0].clientX:U.clientX}function B2(U){return U.targetTouches&&U.targetTouches.length>=1?U.targetTouches[0].clientY:U.clientY}function GS(U){const[K,ge]=jn.useState(!1),[Re,Ze]=jn.useState(!1),st=jn.useRef(null),G=jn.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,V=jn.useRef(U),{autoClose:e,pauseOnHover:y,closeToast:P,onClick:o,closeOnClick:L}=U;function M(c){if(U.draggable){c.nativeEvent.type==="touchstart"&&c.nativeEvent.preventDefault(),G.didMove=!1,document.addEventListener("mousemove",t),document.addEventListener("mouseup",i),document.addEventListener("touchmove",t),document.addEventListener("touchend",i);const u=st.current;G.canCloseOnClick=!0,G.canDrag=!0,G.boundingRect=u.getBoundingClientRect(),u.style.transition="",G.x=O2(c.nativeEvent),G.y=B2(c.nativeEvent),U.draggableDirection==="x"?(G.start=G.x,G.removalDistance=u.offsetWidth*(U.draggablePercent/100)):(G.start=G.y,G.removalDistance=u.offsetHeight*(U.draggablePercent===80?1.5*U.draggablePercent:U.draggablePercent/100))}}function v(c){if(G.boundingRect){const{top:u,bottom:l,left:g,right:f}=G.boundingRect;c.nativeEvent.type!=="touchend"&&U.pauseOnHover&&G.x>=g&&G.x<=f&&G.y>=u&&G.y<=l?r():p()}}function p(){ge(!0)}function r(){ge(!1)}function t(c){const u=st.current;G.canDrag&&u&&(G.didMove=!0,K&&r(),G.x=O2(c),G.y=B2(c),G.delta=U.draggableDirection==="x"?G.x-G.start:G.y-G.start,G.start!==G.x&&(G.canCloseOnClick=!1),u.style.transform=`translate${U.draggableDirection}(${G.delta}px)`,u.style.opacity=""+(1-Math.abs(G.delta/G.removalDistance)))}function i(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",i);const c=st.current;if(G.canDrag&&G.didMove&&c){if(G.canDrag=!1,Math.abs(G.delta)>G.removalDistance)return Ze(!0),void U.closeToast();c.style.transition="transform 0.2s, opacity 0.2s",c.style.transform=`translate${U.draggableDirection}(0)`,c.style.opacity="1"}}jn.useEffect(()=>{V.current=U}),jn.useEffect(()=>(st.current&&st.current.addEventListener("d",p,{once:!0}),tl(U.onOpen)&&U.onOpen(jn.isValidElement(U.children)&&U.children.props),()=>{const c=V.current;tl(c.onClose)&&c.onClose(jn.isValidElement(c.children)&&c.children.props)}),[]),jn.useEffect(()=>(U.pauseOnFocusLoss&&(document.hasFocus()||r(),window.addEventListener("focus",p),window.addEventListener("blur",r)),()=>{U.pauseOnFocusLoss&&(window.removeEventListener("focus",p),window.removeEventListener("blur",r))}),[U.pauseOnFocusLoss]);const n={onMouseDown:M,onTouchStart:M,onMouseUp:v,onTouchEnd:v};return e&&y&&(n.onMouseEnter=r,n.onMouseLeave=p),L&&(n.onClick=c=>{o&&o(c),G.canCloseOnClick&&P()}),{playToast:p,pauseToast:r,isRunning:K,preventExitTransition:Re,toastRef:st,eventHandlers:n}}function lw(U){let{closeToast:K,theme:ge,ariaLabel:Re="close"}=U;return Oi.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ge}`,type:"button",onClick:Ze=>{Ze.stopPropagation(),K(Ze)},"aria-label":Re},Oi.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Oi.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function WS(U){let{delay:K,isRunning:ge,closeToast:Re,type:Ze="default",hide:st,className:G,style:V,controlledProgress:e,progress:y,rtl:P,isIn:o,theme:L}=U;const M=st||e&&y===0,v={...V,animationDuration:`${K}ms`,animationPlayState:ge?"running":"paused",opacity:M?0:1};e&&(v.transform=`scaleX(${y})`);const p=Bc("Toastify__progress-bar",e?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${L}`,`Toastify__progress-bar--${Ze}`,{"Toastify__progress-bar--rtl":P}),r=tl(G)?G({rtl:P,type:Ze,defaultClassName:p}):Bc(p,G);return Oi.createElement("div",{role:"progressbar","aria-hidden":M?"true":"false","aria-label":"notification timer",className:r,style:v,[e&&y>=1?"onTransitionEnd":"onAnimationEnd"]:e&&y<1?null:()=>{o&&Re()}})}const YS=U=>{const{isRunning:K,preventExitTransition:ge,toastRef:Re,eventHandlers:Ze}=GS(U),{closeButton:st,children:G,autoClose:V,onClick:e,type:y,hideProgressBar:P,closeToast:o,transition:L,position:M,className:v,style:p,bodyClassName:r,bodyStyle:t,progressClassName:i,progressStyle:n,updateId:c,role:u,progress:l,rtl:g,toastId:f,deleteToast:T,isIn:h,isLoading:s,iconOut:d,closeOnClick:A,theme:w}=U,C=Bc("Toastify__toast",`Toastify__toast-theme--${w}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":g},{"Toastify__toast--close-on-click":A}),b=tl(v)?v({rtl:g,position:M,type:y,defaultClassName:C}):Bc(C,v),S=!!l||!V,m={closeToast:o,type:y,theme:w};let a=null;return st===!1||(a=tl(st)?st(m):jn.isValidElement(st)?jn.cloneElement(st,m):lw(m)),Oi.createElement(L,{isIn:h,done:T,position:M,preventExitTransition:ge,nodeRef:Re},Oi.createElement("div",{id:f,onClick:e,className:b,...Ze,style:p,ref:Re},Oi.createElement("div",{...h&&{role:u},className:tl(r)?r({type:y}):Bc("Toastify__toast-body",r),style:t},d!=null&&Oi.createElement("div",{className:Bc("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!s})},d),Oi.createElement("div",null,G)),a,Oi.createElement(WS,{...c&&!S?{key:`pb-${c}`}:{},rtl:g,theme:w,delay:V,isRunning:K,isIn:h,closeToast:o,hide:P,type:y,style:n,className:i,controlledProgress:S,progress:l||0})))},ug=function(U,K){return K===void 0&&(K=!1),{enter:`Toastify--animate Toastify__${U}-enter`,exit:`Toastify--animate Toastify__${U}-exit`,appendPosition:K}},ZS=lg(ug("bounce",!0));lg(ug("slide",!0));lg(ug("zoom"));lg(ug("flip"));const Jc=jn.forwardRef((U,K)=>{const{getToastToRender:ge,containerRef:Re,isToastActive:Ze}=VS(U),{className:st,style:G,rtl:V,containerId:e}=U;function y(P){const o=Bc("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":V});return tl(st)?st({position:P,rtl:V,defaultClassName:o}):Bc(o,g0(st))}return jn.useEffect(()=>{K&&(K.current=Re.current)},[]),Oi.createElement("div",{ref:Re,className:"Toastify",id:e},ge((P,o)=>{const L=o.length?{...G}:{...G,pointerEvents:"none"};return Oi.createElement("div",{className:y(P),style:L,key:`container-${P}`},o.map((M,v)=>{let{content:p,props:r}=M;return Oi.createElement(YS,{...r,isIn:Ze(r.toastId),style:{...r.style,"--nth":v+1,"--len":o.length},key:`toast-${r.key}`},p)}))}))});Jc.displayName="ToastContainer",Jc.defaultProps={position:"top-right",transition:ZS,autoClose:5e3,closeButton:lw,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let py,Ph=new Map,Ld=[],jS=1;function uw(){return""+jS++}function XS(U){return U&&(Hh(U.toastId)||Bd(U.toastId))?U.toastId:uw()}function Nd(U,K){return Ph.size>0?Kl.emit(0,U,K):Ld.push({content:U,options:K}),K.toastId}function W0(U,K){return{...K,type:K&&K.type||U,toastId:XS(K)}}function r0(U){return(K,ge)=>Nd(K,W0(U,ge))}function vi(U,K){return Nd(U,W0("default",K))}vi.loading=(U,K)=>Nd(U,W0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...K})),vi.promise=function(U,K,ge){let Re,{pending:Ze,error:st,success:G}=K;Ze&&(Re=Hh(Ze)?vi.loading(Ze,ge):vi.loading(Ze.render,{...ge,...Ze}));const V={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},e=(P,o,L)=>{if(o==null)return void vi.dismiss(Re);const M={type:P,...V,...ge,data:L},v=Hh(o)?{render:o}:o;return Re?vi.update(Re,{...M,...v}):vi(v.render,{...M,...v}),L},y=tl(U)?U():U;return y.then(P=>e("success",G,P)).catch(P=>e("error",st,P)),y},vi.success=r0("success"),vi.info=r0("info"),vi.error=r0("error"),vi.warning=r0("warning"),vi.warn=vi.warning,vi.dark=(U,K)=>Nd(U,W0("default",{theme:"dark",...K})),vi.dismiss=U=>{Ph.size>0?Kl.emit(1,U):Ld=Ld.filter(K=>U!=null&&K.options.toastId!==U)},vi.clearWaitingQueue=function(U){return U===void 0&&(U={}),Kl.emit(5,U)},vi.isActive=U=>{let K=!1;return Ph.forEach(ge=>{ge.isToastActive&&ge.isToastActive(U)&&(K=!0)}),K},vi.update=function(U,K){K===void 0&&(K={}),setTimeout(()=>{const ge=function(Re,Ze){let{containerId:st}=Ze;const G=Ph.get(st||py);return G&&G.getToast(Re)}(U,K);if(ge){const{props:Re,content:Ze}=ge,st={delay:100,...Re,...K,toastId:K.toastId||U,updateId:uw()};st.toastId!==U&&(st.staleId=U);const G=st.render||Ze;delete st.render,Nd(G,st)}},0)},vi.done=U=>{vi.update(U,{progress:1})},vi.onChange=U=>(Kl.on(4,U),()=>{Kl.off(4,U)}),vi.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},vi.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Kl.on(2,U=>{py=U.containerId||U,Ph.set(py,U),Ld.forEach(K=>{Kl.emit(0,K.content,K.options)}),Ld=[]}).on(3,U=>{Ph.delete(U.containerId||U),Ph.size===0&&Kl.off(0).off(1).off(5)});function KS(){const U=jn.useContext(uf),[K,ge]=jn.useState(""),[Re,Ze]=jn.useState(""),st=e=>{ge(e.target.value)},G=e=>{Ze(e.target.value)},V=e=>{e.preventDefault(),fetch("https://offshorefrontapi.azurewebsites.net/api/Users/Login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:K,password:Re})}).then(y=>{if(y.status===200)return U==null||U.SetEmail(K),y.json();throw y.status===404?(vi.error("User Doesn't exist ! "),new Error("User Doesn't exist ! ")):y.status===400?(vi.error("Passoword is invalid !"),new Error("Passoword is invalid !")):(vi.error("Unexpected response status: "+y.status),new Error("Unexpected response status: "+y.status))}).then(y=>U==null?void 0:U.logIn(y)).catch(y=>{console.error("An error occurred while fetching the data:",y)})};return un.jsxs(un.Fragment,{children:[(U==null?void 0:U.authenticated)===!0&&un.jsx(Uh,{to:"/Home"}),un.jsx("h1",{className:"text-center font-sans",children:" Login "}),un.jsx(Jc,{}),un.jsxs("form",{onSubmit:V,className:"text-center block",children:[un.jsx("label",{htmlFor:"email",className:"font-sans inline-block mr-[16px]",children:" Email: "}),un.jsx("input",{type:"text",name:"email",value:K,onChange:st,placeholder:"Email",className:"border border-black rounded-full font-sans text-base w-[500px] pl-[10px] ml-[20px]",required:!0}),un.jsx("br",{}),un.jsx("label",{htmlFor:"PassWord",className:"font-sans inline-block mr-[10px]",children:" Password: "}),un.jsx("input",{type:"password",name:"PassWord",value:Re,onChange:G,placeholder:"Password",className:"border border-black rounded-full font-sans text-base w-[500px] pl-[10px] mt-[20px]",required:!0}),un.jsx("br",{}),un.jsx("button",{type:"submit",className:"border border-black rounded-full font-sans text-center text-base w-[100px] mt-[25px]",children:" Submit "})]})]})}function JS(){const U=jn.useContext(uf),[K,ge]=jn.useState(""),[Re,Ze]=jn.useState(""),[st,G]=jn.useState(""),[V,e]=jn.useState(""),[y,P]=jn.useState(""),o=t=>{ge(t.target.value)},L=t=>{Ze(t.target.value)},M=t=>{G(t.target.value)},v=t=>{e(t.target.value)},p=t=>{P(t.target.value)},r=t=>{t.preventDefault(),fetch("https://offshorefrontapi.azurewebsites.net/api/Users/Register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({FirstName:K,LastName:Re,Phone:V,Email:st,Password:y})}).then(i=>{if(i.status===200)return U==null||U.SetEmail(st),un.jsx(Uh,{to:"/Login",replace:!0});if(i.status===400)i.text().then(n=>vi.error(n));else return vi.error("Unexpected response status: "+i.status)}).catch(i=>{console.error("An error occurred while fetching the data:",i)})};return un.jsxs(un.Fragment,{children:[(U==null?void 0:U.authenticated)===!0&&un.jsx(Uh,{to:"offshorefrontendApp/Home",replace:!0}),un.jsx("h1",{className:"text-base font-sans text-center",children:" Register "}),un.jsx(Jc,{}),un.jsxs("form",{className:"text-center block",onSubmit:r,children:[un.jsx("label",{htmlFor:"FirstName",className:"font-sans inline-block mr-[10px]",children:" First name: "}),un.jsx("input",{type:"text",name:"FirstName",value:K,onChange:o,placeholder:"First Name",className:"border border-black rounded-full font-sans text-base text-justify w-[500px] pl-[10px]",required:!0}),un.jsx("br",{}),un.jsx("label",{htmlFor:"LastName",className:"font-sans inline-block mr-[10px]",children:" Last name: "}),un.jsx("input",{type:"text",name:"LastName",value:Re,onChange:L,placeholder:"Last Name",className:"border border-black rounded-full font-sans text-base text-justify w-[500px] pl-[10px] mt-[20px]",required:!0}),un.jsx("br",{}),un.jsx("label",{htmlFor:"Phone",className:"font-sans inline-block mr-[38px]",children:" Phone: "}),un.jsx("input",{type:"text",name:"Phone",value:V,onChange:v,placeholder:"Phone",className:"border border-black rounded-full font-sans text-base text-justify w-[500px] pl-[10px] mt-[20px]",required:!0}),un.jsx("br",{}),un.jsx("label",{htmlFor:"email",className:"font-sans inline-block mr-[38px]",children:" Email: "}),un.jsx("input",{type:"text",name:"email",value:st,onChange:M,placeholder:"Email",className:"border border-black rounded-full font-sans text-base text-justify w-[500px] pl-[10px] mt-[20px]",required:!0}),un.jsx("br",{}),un.jsx("label",{htmlFor:"PassWord",className:"font-sans inline-block mr-[8px]",children:" PassWord: "}),un.jsx("input",{type:"password",name:"PassWord",value:y,onChange:p,placeholder:"Password",className:"border border-black rounded-full font-sans text-base text-justify w-[500px] pl-[10px] mt-[20px]",required:!0}),un.jsx("br",{}),un.jsx("button",{type:"submit",className:"border border-black rounded-full font-sans text-center w-[100px] mt-[25px]",children:" Submit "})]})]})}function QS(){return un.jsx(un.Fragment,{children:un.jsx("h1",{children:" 404 Not found "})})}function $S(){const U=jn.useContext(uf),[K,ge]=jn.useState([]);return jn.useEffect(()=>{const Re=async()=>{fetch("https://offshorefrontapi.azurewebsites.net/api/TriFloat",{method:"GET",headers:{Authorization:"Bearer "+(U==null?void 0:U.getJwt()),"Content-Type":"application/json"}}).then(st=>st.status===200?st.json():vi.error(" Error ! "+st.status)).then(st=>ge(st)).catch(st=>{console.error("An error occurred while fetching the data:",st)})},Ze=()=>{fetch("https://offshorefrontapi.azurewebsites.net/api/Users/GetUserData?email="+(U==null?void 0:U.GetUserEmail()),{method:"GET",headers:{Authorization:"Bearer "+(U==null?void 0:U.getJwt()),"Content-Type":"application/json"}}).then(st=>{if(st.ok)return st.text();throw new Error("Network response was not ok.")}).then(st=>{U==null||U.SetIsConfirmerd(st)}).catch(st=>{console.error(st)})};return()=>{Re(),Ze()}},[]),console.log(U==null?void 0:U.getJwt()),un.jsxs("div",{children:[(U==null?void 0:U.IsConfirmerd())==="True"&&un.jsxs(un.Fragment,{children:[un.jsx(Jc,{}),un.jsx("h2",{className:"font-sans text-center",children:"Welcome user"}),un.jsx("div",{className:"text-center font-sans",children:K.map((Re,Ze)=>un.jsxs("div",{children:[un.jsx(Iu,{className:"font-bold font-sans",to:"/Home/TriFloat/"+Re.triFloatName,children:Ze+" : "+Re.triFloatName},Ze),un.jsx("br",{})]},Ze))}),un.jsxs("div",{className:"grid-container",children:[un.jsx("div",{children:un.jsxs("p",{className:"grid-item",children:["The AE WaveHexaPod is a project made possible by Van Bodegraven Electric Motors, ABB, MDIM, and AE group.",un.jsx("br",{}),"The WaveHexaPod is a robotic construction attached to a trifloater on the North Sea.",un.jsx("br",{}),"Since it is offshore, we cannot provide test data; we had to find another way to test the HexaPod as realistically as possible.",un.jsx("br",{}),"That is why we made an animation so we can provide the best information about the most ideal wave.",un.jsx("br",{}),"Choose one of the names of the trifloaters to see the data."]})}),un.jsxs("div",{className:"grid-item grid-container",children:[un.jsx("div",{className:"grid-item"}),un.jsx("div",{className:"grid-item"})]})]})]}),(U==null?void 0:U.IsConfirmerd())==="False"&&un.jsx("div",{children:un.jsx("h1",{children:"Confirm your email first"})})]})}function qS(){const U=["golfHoogte","windSnelheid","windRichting","waterHoogte","airTemperature","waterTemperature"],K=jn.useContext(uf),[ge,Re]=jn.useState({golfHoogte:"Loading.....",windSnelheid:"Loading.....",windRichting:"Loading.....",waterHeight:"Loading.....",airTemperature:"Loading.....",waterTemperature:"Loading....."});return(K==null?void 0:K.authenticated)===!0&&jn.useEffect(()=>{const Ze=()=>{fetch("https://offshorefrontapi.azurewebsites.net/api/RWS_/GetRWS",{method:"GET",headers:{"Content-Type":"application/json"}}).then(G=>G.status===200?G.json():G.status===404?vi.error("User Doesn't exist ! "):G.status===400?vi.error("Passoword is invalid !"):vi.error("Unexpected response status: "+G.status)).then(G=>{Re({golfHoogte:G.waveHeight,windSnelheid:G.windSpeed,windRichting:G.windDirection,waterHeight:G.waterHeight,airTemperature:G.airTemperature,waterTemperature:G.waterTemperature})}).catch(G=>{console.error("An error occurred while fetching the data:",G)})};Ze();const st=setInterval(Ze,3*60*1e3);return()=>{clearInterval(st)}},[]),un.jsxs(un.Fragment,{children:[(K==null?void 0:K.authenticated)===!1&&un.jsx(Uh,{to:"offshorefrontendApp/",replace:!0}),un.jsx(Jc,{}),un.jsx("h1",{className:"font-sans text-center",children:" RWS "}),un.jsx("div",{children:un.jsxs("div",{children:[un.jsxs("table",{className:"tftable",children:[un.jsx("thead",{children:un.jsxs("tr",{children:[un.jsx("th",{children:"Data type         "}),un.jsx("th",{children:"Data              "}),un.jsx("th",{children:"geschiedenis data "})]})}),un.jsxs("tbody",{children:[un.jsxs("tr",{children:[un.jsx("td",{className:"font-bold",children:U[0]}),un.jsxs("td",{children:[": ",ge.golfHoogte]}),un.jsx("td",{children:un.jsx(Iu,{to:"/Home/TriFloat/History/GolfHoogte",children:un.jsx("button",{children:"geschiedenis"})})})]}),un.jsxs("tr",{children:[un.jsxs("td",{className:"font-bold",children:[U[1]," en ",U[2]," "]}),un.jsxs("td",{children:[": ",ge.windSnelheid," , ",ge.windRichting]}),un.jsx("td",{children:un.jsx(Iu,{to:"/Home/TriFloat/History/WindSnelHeid",children:un.jsx("button",{children:"geschiedenis"})})})]}),un.jsxs("tr",{children:[un.jsx("td",{className:"font-bold",children:U[3]}),un.jsxs("td",{children:[": ",ge.waterHeight]}),un.jsx("td",{children:un.jsx(Iu,{to:"/Home/TriFloat/History/WaterHeight",children:un.jsx("button",{children:"geschiedenis"})})})]}),un.jsxs("tr",{children:[un.jsx("td",{className:"font-bold",children:U[4]}),un.jsxs("td",{children:[": ",ge.airTemperature]}),un.jsx("td",{children:un.jsx(Iu,{to:"/Home/TriFloat/History/AirTemperature",children:un.jsx("button",{children:"geschiedenis"})})})]}),un.jsxs("tr",{children:[un.jsx("td",{className:"font-bold",children:U[5]}),un.jsxs("td",{children:[": ",ge.waterTemperature]}),un.jsx("td",{children:un.jsx(Iu,{to:"/Home/TriFloat/History/WaterTemperature",children:un.jsx("button",{children:"geschiedenis"})})})]})]})]}),un.jsx("video",{className:"ml-auto w-[600px] mr-[250px] absolute bottom-20 right-10",autoPlay:!0,controls:!0,loop:!0,children:un.jsx("source",{src:"/src/Pages/Videos/trifloats.mp4",type:"video/mp4"})})]})})]})}const e6=()=>{const U=jn.useContext(uf),K=()=>{U==null||U.logout()};return un.jsx("div",{className:"absolute top-0 right-0",children:un.jsx("button",{onClick:K,className:"font-sans",children:"Logout"})})};const t6=()=>{const U=jn.useContext(uf),K=cm(),[ge,Re]=jn.useState(""),Ze=G=>{Re(G.target.value)},st=G=>{G.preventDefault(),fetch("https://offshorefrontapi.azurewebsites.net/api/Users/CodeConfirmation",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:U==null?void 0:U.GetUserEmail(),code:ge})}).then(V=>V.status===200?K("/Home"):V.status===400?vi.error("Code is invalid !"):vi.error("Unexpected response status: "+V.status)).catch(V=>{console.error("An error occurred while fetching the data:",V)})};return un.jsxs(un.Fragment,{children:[(U==null?void 0:U.IsConfirmerd())==="True"&&un.jsx(Uh,{to:"/Home",replace:!0}),un.jsx("h1",{children:" Mail Confirmation "}),un.jsx(Jc,{}),un.jsxs("form",{onSubmit:st,children:[un.jsx("label",{children:"Confirmation code : "}),un.jsx("input",{className:"border border-black rounded-full font-sans text-base w-[500px] pl-[10px] ml-[20px]",type:"Text",name:"Code",onChange:Ze}),un.jsx("button",{className:"border border-black rounded-full font-sans text-center text-base w-[100px] mt-[25px]",type:"submit",children:" Submit "})]})]})},n0=({children:U})=>{const K=jn.useContext(uf);return K!=null&&K.authenticated?U:un.jsx(Uh,{to:"offshorefrontendApp",replace:!0})};var fw={},cw={},hw={exports:{}},r6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",n6=r6,a6=n6;function vw(){}function dw(){}dw.resetWarningCache=vw;var i6=function(){function U(Re,Ze,st,G,V,e){if(e!==a6){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}U.isRequired=U;function K(){return U}var ge={array:U,bigint:U,bool:U,func:U,number:U,object:U,string:U,symbol:U,any:U,arrayOf:K,element:U,elementType:U,instanceOf:K,node:U,objectOf:K,oneOf:K,oneOfType:K,shape:K,exact:K,checkPropTypes:dw,resetWarningCache:vw};return ge.PropTypes=ge,ge};hw.exports=i6();var o6=hw.exports;(function(U){function K(u){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},K(u)}Object.defineProperty(U,"__esModule",{value:!0}),U.default=c;var ge=G(jn),Re=Ze(o6);function Ze(u){return u&&u.__esModule?u:{default:u}}function st(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,g=new WeakMap;return(st=function(T){return T?g:l})(u)}function G(u,l){if(!l&&u&&u.__esModule)return u;if(u===null||K(u)!=="object"&&typeof u!="function")return{default:u};var g=st(l);if(g&&g.has(u))return g.get(u);var f={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in u)if(h!=="default"&&Object.prototype.hasOwnProperty.call(u,h)){var s=T?Object.getOwnPropertyDescriptor(u,h):null;s&&(s.get||s.set)?Object.defineProperty(f,h,s):f[h]=u[h]}return f.default=u,g&&g.set(u,f),f}function V(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function e(u,l){for(var g=0;g<l.length;g++){var f=l[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function y(u,l,g){return l&&e(u.prototype,l),g&&e(u,g),Object.defineProperty(u,"prototype",{writable:!1}),u}function P(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&o(u,l)}function o(u,l){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,T){return f.__proto__=T,f},o(u,l)}function L(u){var l=p();return function(){var f=r(u),T;if(l){var h=r(this).constructor;T=Reflect.construct(f,arguments,h)}else T=f.apply(this,arguments);return M(this,T)}}function M(u,l){if(l&&(K(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(u)}function v(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(u){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},r(u)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],i=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function c(u){var l=function(g){P(T,g);var f=L(T);function T(h){var s;return V(this,T),s=f.call(this,h),s.p=Promise.resolve(),s.resizeHandler=null,s.handlers={},s.syncWindowResize=s.syncWindowResize.bind(v(s)),s.syncEventHandlers=s.syncEventHandlers.bind(v(s)),s.attachUpdateEvents=s.attachUpdateEvents.bind(v(s)),s.getRef=s.getRef.bind(v(s)),s.handleUpdate=s.handleUpdate.bind(v(s)),s.figureCallback=s.figureCallback.bind(v(s)),s.updatePlotly=s.updatePlotly.bind(v(s)),s}return y(T,[{key:"updatePlotly",value:function(s,d,A){var w=this;this.p=this.p.then(function(){if(!w.unmounting){if(!w.el)throw new Error("Missing element reference");return u.react(w.el,{data:w.props.data,layout:w.props.layout,config:w.props.config,frames:w.props.frames})}}).then(function(){w.unmounting||(w.syncWindowResize(s),w.syncEventHandlers(),w.figureCallback(d),A&&w.attachUpdateEvents())}).catch(function(C){w.props.onError&&w.props.onError(C)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(s){this.unmounting=!1;var d=s.frames&&s.frames.length?s.frames.length:0,A=this.props.frames&&this.props.frames.length?this.props.frames.length:0,w=!(s.layout===this.props.layout&&s.data===this.props.data&&s.config===this.props.config&&A===d),C=s.revision!==void 0,b=s.revision!==this.props.revision;!w&&(!C||C&&!b)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),u.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var s=this;!this.el||!this.el.removeListener||i.forEach(function(d){s.el.on(d,s.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var s=this;!this.el||!this.el.removeListener||i.forEach(function(d){s.el.removeListener(d,s.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(s){if(typeof s=="function"){var d=this.el,A=d.data,w=d.layout,C=this.el._transitionData?this.el._transitionData._frames:null,b={data:A,layout:w,frames:C};s(b,this.el)}}},{key:"syncWindowResize",value:function(s){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return u.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),s&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(s){this.el=s,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var s=this;t.forEach(function(d){var A=s.props["on"+d],w=s.handlers[d],C=!!w;A&&!C?s.addEventHandler(d,A):!A&&C?s.removeEventHandler(d):A&&C&&A!==w&&(s.removeEventHandler(d),s.addEventHandler(d,A))})}},{key:"addEventHandler",value:function(s,d){this.handlers[s]=d,this.el.on(this.getPlotlyEventName(s),this.handlers[s])}},{key:"removeEventHandler",value:function(s){this.el.removeListener(this.getPlotlyEventName(s),this.handlers[s]),delete this.handlers[s]}},{key:"getPlotlyEventName",value:function(s){return"plotly_"+s.toLowerCase()}},{key:"render",value:function(){return ge.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(ge.Component);return l.propTypes={data:Re.default.arrayOf(Re.default.object),config:Re.default.object,layout:Re.default.object,frames:Re.default.arrayOf(Re.default.object),revision:Re.default.number,onInitialized:Re.default.func,onPurge:Re.default.func,onError:Re.default.func,onUpdate:Re.default.func,debug:Re.default.bool,style:Re.default.object,className:Re.default.string,useResizeHandler:Re.default.bool,divId:Re.default.string},t.forEach(function(g){l.propTypes["on"+g]=Re.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(cw);var pw={exports:{}};(function(U,K){(function(Re,Ze){U.exports=Ze()})(self,function(){return function(){var ge={98847:function(G,V,e){var y=e(71828),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in P){var L=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");y.addStyleRule(L,P[o])}},98222:function(G,V,e){G.exports=e(82887)},27206:function(G,V,e){G.exports=e(60822)},59893:function(G,V,e){G.exports=e(23381)},5224:function(G,V,e){G.exports=e(83832)},59509:function(G,V,e){G.exports=e(72201)},75557:function(G,V,e){G.exports=e(91815)},40338:function(G,V,e){G.exports=e(21462)},35080:function(G,V,e){G.exports=e(51319)},61396:function(G,V,e){G.exports=e(57516)},40549:function(G,V,e){G.exports=e(98128)},49866:function(G,V,e){G.exports=e(99442)},36089:function(G,V,e){G.exports=e(93740)},19548:function(G,V,e){G.exports=e(8729)},35831:function(G,V,e){G.exports=e(93814)},61039:function(G,V,e){G.exports=e(14382)},97040:function(G,V,e){G.exports=e(51759)},77986:function(G,V,e){G.exports=e(10421)},24296:function(G,V,e){G.exports=e(43102)},58872:function(G,V,e){G.exports=e(92165)},29626:function(G,V,e){G.exports=e(3325)},65591:function(G,V,e){G.exports=e(36071)},69738:function(G,V,e){G.exports=e(43905)},92650:function(G,V,e){G.exports=e(35902)},35630:function(G,V,e){G.exports=e(69816)},73434:function(G,V,e){G.exports=e(94507)},27909:function(G,V,e){var y=e(19548);y.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),G.exports=y},46163:function(G,V,e){G.exports=e(15154)},96881:function(G,V,e){G.exports=e(64943)},50581:function(G,V,e){G.exports=e(21164)},55334:function(G,V,e){G.exports=e(54186)},65317:function(G,V,e){G.exports=e(94873)},10021:function(G,V,e){G.exports=e(67618)},54201:function(G,V,e){G.exports=e(58810)},5861:function(G,V,e){G.exports=e(20593)},16122:function(G,V,e){G.exports=e(29396)},83043:function(G,V,e){G.exports=e(13551)},48131:function(G,V,e){G.exports=e(46858)},47582:function(G,V,e){G.exports=e(17988)},21641:function(G,V,e){G.exports=e(68868)},96268:function(G,V,e){G.exports=e(20467)},19440:function(G,V,e){G.exports=e(91271)},99488:function(G,V,e){G.exports=e(21461)},97393:function(G,V,e){G.exports=e(85956)},25743:function(G,V,e){G.exports=e(52979)},66398:function(G,V,e){G.exports=e(32275)},17280:function(G,V,e){G.exports=e(6419)},77900:function(G,V,e){G.exports=e(61510)},81299:function(G,V,e){G.exports=e(87619)},93005:function(G,V,e){G.exports=e(93601)},40344:function(G,V,e){G.exports=e(96595)},47645:function(G,V,e){G.exports=e(70954)},6197:function(G,V,e){G.exports=e(47462)},4534:function(G,V,e){G.exports=e(17659)},85461:function(G,V,e){G.exports=e(19990)},82884:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(G,V,e){var y=e(82884),P=e(41940),o=e(85555),L=e(44467).templatedArray;e(24695),G.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:y.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:y.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:P({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(G,V,e){var y=e(71828),P=e(89298),o=e(92605).draw;G.exports=function(p){var r=p._fullLayout,t=y.filterVisible(r.annotations);if(t.length&&p._fullData.length)return y.syncOrAsync([o,L],p)};function L(v){var p=v._fullLayout;y.filterVisible(p.annotations).forEach(function(r){var t=P.getFromId(v,r.xref),i=P.getFromId(v,r.yref),n=P.getRefType(r.xref),c=P.getRefType(r.yref);r._extremes={},n==="range"&&M(r,t),c==="range"&&M(r,i)})}function M(v,p){var r=p._id,t=r.charAt(0),i=v[t],n=v["a"+t],c=v[t+"ref"],u=v["a"+t+"ref"],l=v["_"+t+"padplus"],g=v["_"+t+"padminus"],f={x:1,y:-1}[t]*v[t+"shift"],T=3*v.arrowsize*v.arrowwidth||0,h=T+f,s=T-f,d=3*v.startarrowsize*v.arrowwidth||0,A=d+f,w=d-f,C;if(u===c){var b=P.findExtremes(p,[p.r2c(i)],{ppadplus:h,ppadminus:s}),S=P.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(l,A),ppadminus:Math.max(g,w)});C={min:[b.min[0],S.min[0]],max:[b.max[0],S.max[0]]}}else A=n?A+n:A,w=n?w-n:w,C=P.findExtremes(p,[p.r2c(i)],{ppadplus:Math.max(l,h,A),ppadminus:Math.max(g,s,w)});v._extremes[r]=C}},44317:function(G,V,e){var y=e(71828),P=e(73972),o=e(44467).arrayEditor;G.exports={hasClickToShow:L,onClick:M};function L(r,t){var i=v(r,t);return i.on.length>0||i.explicitOff.length>0}function M(r,t){var i=v(r,t),n=i.on,c=i.off.concat(i.explicitOff),u={},l=r._fullLayout.annotations,g,f;if(n.length||c.length){for(g=0;g<n.length;g++)f=o(r.layout,"annotations",l[n[g]]),f.modifyItem("visible",!0),y.extendFlat(u,f.getUpdateObj());for(g=0;g<c.length;g++)f=o(r.layout,"annotations",l[c[g]]),f.modifyItem("visible",!1),y.extendFlat(u,f.getUpdateObj());return P.call("update",r,{},u)}}function v(r,t){var i=r._fullLayout.annotations,n=[],c=[],u=[],l=(t||[]).length,g,f,T,h,s,d,A,w;for(g=0;g<i.length;g++)if(T=i[g],h=T.clicktoshow,h){for(f=0;f<l;f++)if(s=t[f],d=s.xaxis,A=s.yaxis,d._id===T.xref&&A._id===T.yref&&d.d2r(s.x)===p(T._xclick,d)&&A.d2r(s.y)===p(T._yclick,A)){T.visible?h==="onout"?w=c:w=u:w=n,w.push(g);break}f===l&&T.visible&&h==="onout"&&c.push(g)}return{on:n,off:c,explicitOff:u}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},25625:function(G,V,e){var y=e(71828),P=e(7901);G.exports=function(L,M,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),i=P.opacity(t);p("borderpad");var n=p("borderwidth"),c=p("showarrow");p("text",c?" ":v._dfltTitle.annotation),p("textangle"),y.coerceFont(p,"font",v.font),p("width"),p("align");var u=p("height");if(u&&p("valign"),c){var l=p("arrowside"),g,f;l.indexOf("end")!==-1&&(g=p("arrowhead"),f=p("arrowsize")),l.indexOf("start")!==-1&&(p("startarrowhead",g),p("startarrowsize",f)),p("arrowcolor",i?M.bordercolor:P.defaultLine),p("arrowwidth",(i&&n||1)*2),p("standoff"),p("startstandoff")}var T=p("hovertext"),h=v.hoverlabel||{};if(T){var s=p("hoverlabel.bgcolor",h.bgcolor||(P.opacity(r)?P.rgb(r):P.defaultLine)),d=p("hoverlabel.bordercolor",h.bordercolor||P.contrast(s));y.coerceFont(p,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||d})}p("captureevents",!!T)}},94128:function(G,V,e){var y=e(92770),P=e(58163);G.exports=function(L,M,v,p){M=M||{};var r=v==="log"&&M.type==="linear",t=v==="linear"&&M.type==="log";if(!(r||t))return;var i=L._fullLayout.annotations,n=M._id.charAt(0),c,u;function l(f){var T=c[f],h=null;r?h=P(T,M.range):h=Math.pow(10,T),y(h)||(h=null),p(u+f,h)}for(var g=0;g<i.length;g++)c=i[g],u="annotations["+g+"].",c[n+"ref"]===M._id&&l(n),c["a"+n+"ref"]===M._id&&l("a"+n)}},84046:function(G,V,e){var y=e(71828),P=e(89298),o=e(85501),L=e(25625),M=e(50215);G.exports=function(r,t){o(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function i(m,a){return y.coerce(p,r,M,m,a)}var n=i("visible"),c=i("clicktoshow");if(n||c){L(p,r,t,i);for(var u=r.showarrow,l=["x","y"],g=[-10,-30],f={_fullLayout:t},T=0;T<2;T++){var h=l[T],s=P.coerceRef(p,r,f,h,"","paper");if(s!=="paper"){var d=P.getFromId(f,s);d._annIndices.push(r._index)}if(P.coercePosition(r,f,i,s,h,.5),u){var A="a"+h,w=P.coerceRef(p,r,f,A,"pixel",["pixel","paper"]);w!=="pixel"&&w!==s&&(w=r[A]="pixel");var C=w==="pixel"?g[T]:.4;P.coercePosition(r,f,i,w,A,C)}i(h+"anchor"),i(h+"shift")}if(y.noneOrAll(p,r,["x","y"]),u&&y.noneOrAll(p,r,["ax","ay"]),c){var b=i("xclick"),S=i("yclick");r._xclick=b===void 0?r.x:P.cleanPosition(b,f,r.xref),r._yclick=S===void 0?r.y:P.cleanPosition(S,f,r.yref)}}}},92605:function(G,V,e){var y=e(39898),P=e(73972),o=e(74875),L=e(71828),M=L.strTranslate,v=e(89298),p=e(7901),r=e(91424),t=e(30211),i=e(63893),n=e(6964),c=e(28569),u=e(44467).arrayEditor,l=e(13011);G.exports={draw:g,drawOne:f,drawRaw:h};function g(s){var d=s._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var A=0;A<d.annotations.length;A++)d.annotations[A].visible&&f(s,A);return o.previousPromises(s)}function f(s,d){var A=s._fullLayout,w=A.annotations[d]||{},C=v.getFromId(s,w.xref),b=v.getFromId(s,w.yref);C&&C.setScale(),b&&b.setScale(),h(s,w,d,!1,C,b)}function T(s,d,A,w,C){var b=C[A],S=C[A+"ref"],m=A.indexOf("y")!==-1,a=v.getRefType(S)==="domain",E=m?w.h:w.w;return s?a?b+(m?-d:d)/s._length:s.p2r(s.r2p(b)+d):b+(m?-d:d)/E}function h(s,d,A,w,C,b){var S=s._fullLayout,m=s._fullLayout._size,a=s._context.edits,E,x;w?(E="annotation-"+w,x=w+".annotations"):(E="annotation",x="annotations");var k=u(s.layout,x,d),I=k.modifyBase,N=k.modifyItem,F=k.getUpdateObj;S._infolayer.selectAll("."+E+'[data-index="'+A+'"]').remove();var z="clip"+S._uid+"_ann"+A;if(!d._input||d.visible===!1){y.selectAll("#"+z).remove();return}var O={x:{},y:{}},_=+d.textangle||0,B=S._infolayer.append("g").classed(E,!0).attr("data-index",String(A)).style("opacity",d.opacity),W=B.append("g").classed("annotation-text-g",!0),$=a[d.showarrow?"annotationTail":"annotationPosition"],te=d.captureevents||a.annotationText||$;function ie(ye){var Se={index:A,annotation:d._input,fullAnnotation:d,event:ye};return w&&(Se.subplotId=w),Se}var ue=W.append("g").style("pointer-events",te?"all":null).call(n,"pointer").on("click",function(){s._dragging=!1,s.emit("plotly_clickannotation",ie(y.event))});d.hovertext&&ue.on("mouseover",function(){var ye=d.hoverlabel,Se=ye.font,we=this.getBoundingClientRect(),_e=s.getBoundingClientRect();t.loneHover({x0:we.left-_e.left,x1:we.right-_e.left,y:(we.top+we.bottom)/2-_e.top,text:d.hovertext,color:ye.bgcolor,borderColor:ye.bordercolor,fontFamily:Se.family,fontSize:Se.size,fontColor:Se.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:s})}).on("mouseout",function(){t.loneUnhover(S._hoverlayer.node())});var J=d.borderwidth,Y=d.borderpad,ae=J+Y,j=ue.append("rect").attr("class","bg").style("stroke-width",J+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),q=d.width||d.height,oe=S._topclips.selectAll("#"+z).data(q?[0]:[]);oe.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),oe.exit().remove();var Q=d.font,X=S._meta?L.templateString(d.text,S._meta):d.text,se=ue.append("text").classed("annotation-text",!0).text(X);function ne(ye){return ye.call(r.font,Q).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),i.convertToTspans(ye,s,fe),ye}function fe(){var ye=se.selectAll("a");if(ye.size()===1&&ye.text()===se.text()){var Se=ue.insert("a",":first-child").attr({"xlink:xlink:href":ye.attr("xlink:href"),"xlink:xlink:show":ye.attr("xlink:show")}).style({cursor:"pointer"});Se.node().appendChild(j.node())}var we=ue.select(".annotation-text-math-group"),_e=!we.empty(),ke=r.bBox((_e?we:se).node()),Me=ke.width,me=ke.height,Ee=d.width||Me,Be=d.height||me,Ue=Math.round(Ee+2*ae),De=Math.round(Be+2*ae);function He(gr,sr){return sr==="auto"&&(gr<.3333333333333333?sr="left":gr>.6666666666666666?sr="right":sr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[sr]}for(var nt=!1,lt=["x","y"],$e=0;$e<lt.length;$e++){var qe=lt[$e],ct=d[qe+"ref"]||qe,dt=d["a"+qe+"ref"],gt={x:C,y:b}[qe],At=(_+(qe==="x"?0:-90))*Math.PI/180,Rt=Ue*Math.cos(At),Vt=De*Math.sin(At),Je=Math.abs(Rt)+Math.abs(Vt),Ve=d[qe+"anchor"],Ie=d[qe+"shift"]*(qe==="x"?1:-1),Oe=O[qe],Le,xe,pe,Ae,Te,Ne=v.getRefType(ct);if(gt&&Ne!=="domain"){var Ye=gt.r2fraction(d[qe]);(Ye<0||Ye>1)&&(dt===ct?(Ye=gt.r2fraction(d["a"+qe]),(Ye<0||Ye>1)&&(nt=!0)):nt=!0),Le=gt._offset+gt.r2p(d[qe]),Ae=.5}else{var et=Ne==="domain";qe==="x"?(pe=d[qe],Le=et?gt._offset+gt._length*pe:Le=m.l+m.w*pe):(pe=1-d[qe],Le=et?gt._offset+gt._length*pe:Le=m.t+m.h*pe),Ae=d.showarrow?.5:pe}if(d.showarrow){Oe.head=Le;var ft=d["a"+qe];if(Te=Rt*He(.5,d.xanchor)-Vt*He(.5,d.yanchor),dt===ct){var pt=v.getRefType(dt);pt==="domain"?(qe==="y"&&(ft=1-ft),Oe.tail=gt._offset+gt._length*ft):pt==="paper"?qe==="y"?(ft=1-ft,Oe.tail=m.t+m.h*ft):Oe.tail=m.l+m.w*ft:Oe.tail=gt._offset+gt.r2p(ft),xe=Te}else Oe.tail=Le+ft,xe=Te+ft;Oe.text=Oe.tail+Te;var Yt=S[qe==="x"?"width":"height"];if(ct==="paper"&&(Oe.head=L.constrain(Oe.head,1,Yt-1)),dt==="pixel"){var Jt=-Math.max(Oe.tail-3,Oe.text),Tt=Math.min(Oe.tail+3,Oe.text)-Yt;Jt>0?(Oe.tail+=Jt,Oe.text+=Jt):Tt>0&&(Oe.tail-=Tt,Oe.text-=Tt)}Oe.tail+=Ie,Oe.head+=Ie}else Te=Je*He(Ae,Ve),xe=Te,Oe.text=Le+Te;Oe.text+=Ie,Te+=Ie,xe+=Ie,d["_"+qe+"padplus"]=Je/2+xe,d["_"+qe+"padminus"]=Je/2-xe,d["_"+qe+"size"]=Je,d["_"+qe+"shift"]=Te}if(nt){ue.remove();return}var _t=0,$t=0;if(d.align!=="left"&&(_t=(Ee-Me)*(d.align==="center"?.5:1)),d.valign!=="top"&&($t=(Be-me)*(d.valign==="middle"?.5:1)),_e)we.select("svg").attr({x:ae+_t-1,y:ae+$t}).call(r.setClipUrl,q?z:null,s);else{var wr=ae+$t-ke.top,yt=ae+_t-ke.left;se.call(i.positionText,yt,wr).call(r.setClipUrl,q?z:null,s)}oe.select("rect").call(r.setRect,ae,ae,Ee,Be),j.call(r.setRect,J/2,J/2,Ue-J,De-J),ue.call(r.setTranslate,Math.round(O.x.text-Ue/2),Math.round(O.y.text-De/2)),W.attr({transform:"rotate("+_+","+O.x.text+","+O.y.text+")"});var jt=function(gr,sr){B.selectAll(".annotation-arrow-g").remove();var vt=O.x.head,at=O.y.head,xt=O.x.tail+gr,Mt=O.y.tail+sr,Dt=O.x.text+gr,Lt=O.y.text+sr,Bt=L.rotationXYMatrix(_,Dt,Lt),Nt=L.apply2DTransform(Bt),Xt=L.apply2DTransform2(Bt),lr=+j.attr("width"),fr=+j.attr("height"),hr=Dt-.5*lr,We=hr+lr,Ge=Lt-.5*fr,kt=Ge+fr,It=[[hr,Ge,hr,kt],[hr,kt,We,kt],[We,kt,We,Ge],[We,Ge,hr,Ge]].map(Xt);if(!It.reduce(function(Rr,vn){return Rr^!!L.segmentsIntersect(vt,at,vt+1e6,at+1e6,vn[0],vn[1],vn[2],vn[3])},!1)){It.forEach(function(Rr){var vn=L.segmentsIntersect(xt,Mt,vt,at,Rr[0],Rr[1],Rr[2],Rr[3]);vn&&(xt=vn.x,Mt=vn.y)});var Zt=d.arrowwidth,rr=d.arrowcolor,ur=d.arrowside,er=B.append("g").style({opacity:p.opacity(rr)}).classed("annotation-arrow-g",!0),zt=er.append("path").attr("d","M"+xt+","+Mt+"L"+vt+","+at).style("stroke-width",Zt+"px").call(p.stroke,p.rgb(rr));if(l(zt,ur,d),a.annotationPosition&&zt.node().parentNode&&!w){var vr=vt,yr=at;if(d.standoff){var pr=Math.sqrt(Math.pow(vt-xt,2)+Math.pow(at-Mt,2));vr+=d.standoff*(xt-vt)/pr,yr+=d.standoff*(Mt-at)/pr}var cr=er.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(xt-vr)+","+(Mt-yr),transform:M(vr,yr)}).style("stroke-width",Zt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Ur,kr;c.init({element:cr.node(),gd:s,prepFn:function(){var Rr=r.getTranslate(ue);Ur=Rr.x,kr=Rr.y,C&&C.autorange&&I(C._name+".autorange",!0),b&&b.autorange&&I(b._name+".autorange",!0)},moveFn:function(Rr,vn){var tn=Nt(Ur,kr),Bn=tn[0]+Rr,xn=tn[1]+vn;ue.call(r.setTranslate,Bn,xn),N("x",T(C,Rr,"x",m,d)),N("y",T(b,vn,"y",m,d)),d.axref===d.xref&&N("ax",T(C,Rr,"ax",m,d)),d.ayref===d.yref&&N("ay",T(b,vn,"ay",m,d)),er.attr("transform",M(Rr,vn)),W.attr({transform:"rotate("+_+","+Bn+","+xn+")"})},doneFn:function(){P.call("_guiRelayout",s,F());var Rr=document.querySelector(".js-notes-box-panel");Rr&&Rr.redraw(Rr.selectedObj)}})}}};if(d.showarrow&&jt(0,0),$){var Qt;c.init({element:ue.node(),gd:s,prepFn:function(){Qt=W.attr("transform")},moveFn:function(gr,sr){var vt="pointer";if(d.showarrow)d.axref===d.xref?N("ax",T(C,gr,"ax",m,d)):N("ax",d.ax+gr),d.ayref===d.yref?N("ay",T(b,sr,"ay",m.w,d)):N("ay",d.ay+sr),jt(gr,sr);else{if(w)return;var at,xt;if(C)at=T(C,gr,"x",m,d);else{var Mt=d._xsize/m.w,Dt=d.x+(d._xshift-d.xshift)/m.w-Mt/2;at=c.align(Dt+gr/m.w,Mt,0,1,d.xanchor)}if(b)xt=T(b,sr,"y",m,d);else{var Lt=d._ysize/m.h,Bt=d.y-(d._yshift+d.yshift)/m.h-Lt/2;xt=c.align(Bt-sr/m.h,Lt,0,1,d.yanchor)}N("x",at),N("y",xt),(!C||!b)&&(vt=c.getCursor(C?.5:at,b?.5:xt,d.xanchor,d.yanchor))}W.attr({transform:M(gr,sr)+Qt}),n(ue,vt)},clickFn:function(gr,sr){d.captureevents&&s.emit("plotly_clickannotation",ie(sr))},doneFn:function(){n(ue),P.call("_guiRelayout",s,F());var gr=document.querySelector(".js-notes-box-panel");gr&&gr.redraw(gr.selectedObj)}})}}a.annotationText?se.call(i.makeEditable,{delegate:ue,gd:s}).call(ne).on("edit",function(ye){d.text=ye,this.call(ne),N("text",ye),C&&C.autorange&&I(C._name+".autorange",!0),b&&b.autorange&&I(b._name+".autorange",!0),P.call("_guiRelayout",s,F())}):se.call(ne)}},13011:function(G,V,e){var y=e(39898),P=e(7901),o=e(82884),L=e(71828),M=L.strScale,v=L.strRotate,p=L.strTranslate;G.exports=function(t,i,n){var c=t.node(),u=o[n.arrowhead||0],l=o[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),f=(n.arrowwidth||1)*(n.startarrowsize||1),T=i.indexOf("start")>=0,h=i.indexOf("end")>=0,s=u.backoff*g+n.standoff,d=l.backoff*f+n.startstandoff,A,w,C,b;if(c.nodeName==="line"){A={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var S=A.x-w.x,m=A.y-w.y;if(C=Math.atan2(m,S),b=C+Math.PI,s&&d&&s+d>Math.sqrt(S*S+m*m)){W();return}if(s){if(s*s>S*S+m*m){W();return}var a=s*Math.cos(C),E=s*Math.sin(C);w.x+=a,w.y+=E,t.attr({x2:w.x,y2:w.y})}if(d){if(d*d>S*S+m*m){W();return}var x=d*Math.cos(C),k=d*Math.sin(C);A.x-=x,A.y-=k,t.attr({x1:A.x,y1:A.y})}}else if(c.nodeName==="path"){var I=c.getTotalLength(),N="";if(I<s+d){W();return}var F=c.getPointAtLength(0),z=c.getPointAtLength(.1);C=Math.atan2(F.y-z.y,F.x-z.x),A=c.getPointAtLength(Math.min(d,I)),N="0px,"+d+"px,";var O=c.getPointAtLength(I),_=c.getPointAtLength(I-.1);b=Math.atan2(O.y-_.y,O.x-_.x),w=c.getPointAtLength(Math.max(0,I-s));var B=N?d+s:s;N+=I-B+"px,"+I+"px",t.style("stroke-dasharray",N)}function W(){t.style("stroke-dasharray","0px,100px")}function $(te,ie,ue,J){te.path&&(te.noRotate&&(ue=0),y.select(c.parentNode).append("path").attr({class:t.attr("class"),d:te.path,transform:p(ie.x,ie.y)+v(ue*180/Math.PI)+M(J)}).style({fill:P.rgb(n.arrowcolor),"stroke-width":0}))}T&&$(l,A,C,f),h&&$(u,w,b,g)}},32745:function(G,V,e){var y=e(92605),P=e(44317);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:y.draw,drawOne:y.drawOne,drawRaw:y.drawRaw,hasClickToShow:P.hasClickToShow,onClick:P.onClick,convertCoords:e(94128)}},26997:function(G,V,e){var y=e(50215),P=e(30962).overrideAll,o=e(44467).templatedArray;G.exports=P(o("annotation",{visible:y.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:y.xanchor,xshift:y.xshift,yanchor:y.yanchor,yshift:y.yshift,text:y.text,textangle:y.textangle,font:y.font,width:y.width,height:y.height,opacity:y.opacity,align:y.align,valign:y.valign,bgcolor:y.bgcolor,bordercolor:y.bordercolor,borderpad:y.borderpad,borderwidth:y.borderwidth,showarrow:y.showarrow,arrowcolor:y.arrowcolor,arrowhead:y.arrowhead,startarrowhead:y.startarrowhead,arrowside:y.arrowside,arrowsize:y.arrowsize,startarrowsize:y.startarrowsize,arrowwidth:y.arrowwidth,standoff:y.standoff,startstandoff:y.startstandoff,hovertext:y.hovertext,hoverlabel:y.hoverlabel,captureevents:y.captureevents}),"calc","from-root")},5485:function(G,V,e){var y=e(71828),P=e(89298);G.exports=function(M){for(var v=M.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)o(p[r],M);M.fullLayout._infolayer.selectAll(".annotation-"+M.id).remove()};function o(L,M){var v=M.fullSceneLayout,p=v.domain,r=M.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},y.extendFlat(L._xa,t),P.setConvert(L._xa),L._xa._offset=r.l+p.x[0]*r.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*r.w*(p.x[1]-p.x[0])},L._ya={},y.extendFlat(L._ya,t),P.setConvert(L._ya),L._ya._offset=r.t+(1-p.y[1])*r.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*r.h*(p.y[1]-p.y[0])}}},20226:function(G,V,e){var y=e(71828),P=e(89298),o=e(85501),L=e(25625),M=e(26997);G.exports=function(r,t,i){o(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:i.fullLayout})};function v(p,r,t,i){function n(l,g){return y.coerce(p,r,M,l,g)}function c(l){var g=l+"axis",f={_fullLayout:{}};return f._fullLayout[g]=t[g],P.coercePosition(r,f,n,l,l,.5)}var u=n("visible");u&&(L(p,r,i.fullLayout,n),c("x"),c("y"),c("z"),y.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),y.noneOrAll(p,r,["ax","ay"])))}},82188:function(G,V,e){var y=e(92605).drawRaw,P=e(63538),o=["x","y","z"];G.exports=function(M){for(var v=M.fullSceneLayout,p=M.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var i=r[t],n=!1,c=0;c<3;c++){var u=o[c],l=i[u],g=v[u+"axis"],f=g.r2fraction(l);if(f<0||f>1){n=!0;break}}n?M.fullLayout._infolayer.select(".annotation-"+M.id+'[data-index="'+t+'"]').remove():(i._pdata=P(M.glplot.cameraParams,[v.xaxis.r2l(i.x)*p[0],v.yaxis.r2l(i.y)*p[1],v.zaxis.r2l(i.z)*p[2]]),y(M.graphDiv,i,t,M.id,i._xa,i._ya))}}},2468:function(G,V,e){var y=e(73972),P=e(71828);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:o,convert:e(5485),draw:e(82188)};function o(L,M){var v=y.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(L),t=0;t<r.length;t++){var i=r[t];p.test(i)&&(L[i].annotations||[]).length&&(P.pushUnique(M._basePlotModules,v),P.pushUnique(M._subplots.gl3d,i))}}},7561:function(G,V,e){G.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(G,V,e){var y=e(7561),P=e(71828),o=e(50606),L=o.EPOCHJD,M=o.ONEDAY,v={valType:"enumerated",values:P.sortObjectKeys(y.calendars),editType:"calc",dflt:"gregorian"},p=function(C,b,S,m){var a={};return a[S]=v,P.coerce(C,b,a,S,m)},r=function(C,b,S,m){for(var a=0;a<S.length;a++)p(C,b,S[a]+"calendar",m.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},i={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},c="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:c,w:c,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(C,b,S){for(var m=Math.floor((b+.05)/M)+L,a=f(S).fromJD(m),E=0,x,k,I,N,F;(E=C.indexOf("%",E))!==-1;)x=C.charAt(E+1),x==="0"||x==="-"||x==="_"?(I=3,k=C.charAt(E+2),x==="_"&&(x="-")):(k=x,x="0",I=2),N=u[k],N?(N===c?F=c:F=a.formatDate(N[x]),C=C.substr(0,E)+F+C.substr(E+I),E+=F.length):E+=I;return C}var g={};function f(C){var b=g[C];return b||(b=g[C]=y.instance(C),b)}function T(C){return P.extendFlat({},v,{description:C})}function h(C){return"Sets the calendar system to use with `"+C+"` date data."}var s={xcalendar:T(h("x"))},d=P.extendFlat({},s,{ycalendar:T(h("y"))}),A=P.extendFlat({},d,{zcalendar:T(h("z"))}),w=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:A,surface:A,mesh3d:A,scattergl:d,ohlc:s,candlestick:s},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:i,CANONICAL_TICK:t,DFLTRANGE:n,getCal:f,worldCalFmt:l}},22399:function(G,V){V.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],V.defaultLine="#444",V.lightLine="#eee",V.background="#fff",V.borderLine="#BEC8D9",V.lightFraction=90.9090909090909},7901:function(G,V,e){var y=e(84267),P=e(92770),o=e(73627).isTypedArray,L=G.exports={},M=e(22399);L.defaults=M.defaults;var v=L.defaultLine=M.defaultLine;L.lightLine=M.lightLine;var p=L.background=M.background;L.tinyRGB=function(t){var i=t.toRgb();return"rgb("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+")"},L.rgb=function(t){return L.tinyRGB(y(t))},L.opacity=function(t){return t?y(t).getAlpha():0},L.addOpacity=function(t,i){var n=y(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+i+")"},L.combine=function(t,i){var n=y(t).toRgb();if(n.a===1)return y(t).toRgbString();var c=y(i||p).toRgb(),u=c.a===1?c:{r:255*(1-c.a)+c.r*c.a,g:255*(1-c.a)+c.g*c.a,b:255*(1-c.a)+c.b*c.a},l={r:u.r*(1-n.a)+n.r*n.a,g:u.g*(1-n.a)+n.g*n.a,b:u.b*(1-n.a)+n.b*n.a};return y(l).toRgbString()},L.contrast=function(t,i,n){var c=y(t);c.getAlpha()!==1&&(c=y(L.combine(t,p)));var u=c.isDark()?i?c.lighten(i):p:n?c.darken(n):v;return u.toString()},L.stroke=function(t,i){var n=y(i);t.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(t,i){var n=y(i);t.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(t){if(!(!t||typeof t!="object")){var i=Object.keys(t),n,c,u,l;for(n=0;n<i.length;n++)if(u=i[n],l=t[u],u.substr(u.length-5)==="color")if(Array.isArray(l))for(c=0;c<l.length;c++)l[c]=r(l[c]);else t[u]=r(l);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(l))for(c=0;c<l.length;c++)Array.isArray(l[c])&&(l[c][1]=r(l[c][1]));else if(Array.isArray(l)){var g=l[0];if(!Array.isArray(g)&&g&&typeof g=="object")for(c=0;c<l.length;c++)L.clean(l[c])}else l&&typeof l=="object"&&!o(l)&&L.clean(l)}};function r(t){if(P(t)||typeof t!="string")return t;var i=t.trim();if(i.substr(0,3)!=="rgb")return t;var n=i.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var c=n[1].trim().split(/\s*[\s,]\s*/),u=i.charAt(3)==="a"&&c.length===4;if(!u&&c.length!==3)return t;for(var l=0;l<c.length;l++){if(!c[l].length||(c[l]=Number(c[l]),!(c[l]>=0)))return t;if(l===3)c[l]>1&&(c[l]=1);else if(c[l]>=1)return t}var g=Math.round(c[0]*255)+", "+Math.round(c[1]*255)+", "+Math.round(c[2]*255);return u?"rgba("+g+", "+c[3]+")":"rgb("+g+")"}},63583:function(G,V,e){var y=e(13838),P=e(41940),o=e(1426).extendFlat,L=e(30962).overrideAll;G.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:y.linecolor,outlinewidth:y.linewidth,bordercolor:y.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:o({},y.ticks,{dflt:""}),ticklabeloverflow:o({},y.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:P({}),tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,separatethousands:y.separatethousands,exponentformat:y.exponentformat,minexponent:y.minexponent,showexponent:y.showexponent,title:{text:{valType:"string"},font:P({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:P({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(G,V,e){var y=e(71828),P=e(44467),o=e(26218),L=e(38701),M=e(96115),v=e(89426),p=e(63583);G.exports=function(t,i,n){var c=P.newContainer(i,"colorbar"),u=t.colorbar||{};function l(O,_){return y.coerce(u,c,p,O,_)}var g=n.margin||{t:0,b:0,l:0,r:0},f=n.width-g.l-g.r,T=n.height-g.t-g.b,h=l("orientation"),s=h==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(s?f:T):30);var A=l("lenmode");l("len",A==="fraction"?1:s?T:f);var w=l("yref"),C=l("xref"),b=w==="paper",S=C==="paper",m,a,E,x="left";s?(E="middle",x=S?"left":"right",m=S?1.02:1,a=.5):(E=b?"bottom":"top",x="center",m=.5,a=b?1.02:1),y.coerce(u,c,{x:{valType:"number",min:S?-2:0,max:S?3:1,dflt:m}},"x"),y.coerce(u,c,{y:{valType:"number",min:b?-2:0,max:b?3:1,dflt:a}},"y"),l("xanchor",x),l("xpad"),l("yanchor",E),l("ypad"),y.noneOrAll(u,c,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var k=y.coerce(u,c,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:s?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",k.indexOf("inside")!==-1?"hide past domain":"hide past div"),o(u,c,l,"linear");var I=n.font,N={outerTicks:!1,font:I};k.indexOf("inside")!==-1&&(N.bgColor="black"),v(u,c,l,"linear",N),M(u,c,l,"linear",N),L(u,c,l,"linear",N),l("title.text",n._dfltTitle.colorbar);var F=c.showticklabels?c.tickfont:I,z=y.extendFlat({},F,{color:I.color,size:y.bigFont(F.size)});y.coerceFont(l,"title.font",z),l("title.side",s?"top":"right")}},98981:function(G,V,e){var y=e(39898),P=e(84267),o=e(74875),L=e(73972),M=e(89298),v=e(28569),p=e(71828),r=p.strTranslate,t=e(1426).extendFlat,i=e(6964),n=e(91424),c=e(7901),u=e(92998),l=e(63893),g=e(52075).flipScale,f=e(71453),T=e(52830),h=e(13838),s=e(18783),d=s.LINE_SPACING,A=s.FROM_TL,w=s.FROM_BR,C=e(30939).cn;function b(k){var I=k._fullLayout,N=I._infolayer.selectAll("g."+C.colorbar).data(S(k),function(F){return F._id});N.enter().append("g").attr("class",function(F){return F._id}).classed(C.colorbar,!0),N.each(function(F){var z=y.select(this);p.ensureSingle(z,"rect",C.cbbg),p.ensureSingle(z,"g",C.cbfills),p.ensureSingle(z,"g",C.cblines),p.ensureSingle(z,"g",C.cbaxis,function(_){_.classed(C.crisp,!0)}),p.ensureSingle(z,"g",C.cbtitleunshift,function(_){_.append("g").classed(C.cbtitle,!0)}),p.ensureSingle(z,"rect",C.cboutline);var O=m(z,F,k);O&&O.then&&(k._promises||[]).push(O),k._context.edits.colorbarPosition&&a(z,F,k)}),N.exit().each(function(F){o.autoMargin(k,F._id)}).remove(),N.order()}function S(k){var I=k._fullLayout,N=k.calcdata,F=[],z,O,_,B;function W(Q){return t(Q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function $(){typeof B.calc=="function"?B.calc(k,_,z):(z._fillgradient=O.reversescale?g(O.colorscale):O.colorscale,z._zrange=[O[B.min],O[B.max]])}for(var te=0;te<N.length;te++){var ie=N[te];if(_=ie[0].trace,!!_._module){var ue=_._module.colorbar;if(_.visible===!0&&ue)for(var J=Array.isArray(ue),Y=J?ue:[ue],ae=0;ae<Y.length;ae++){B=Y[ae];var j=B.container;O=j?_[j]:_,O&&O.showscale&&(z=W(O.colorbar),z._id="cb"+_.uid+(J&&j?"-"+j:""),z._traceIndex=_.index,z._propPrefix=(j?j+".":"")+"colorbar.",z._meta=_._meta,$(),F.push(z))}}}for(var q in I._colorAxes)if(O=I[q],O.showscale){var oe=I._colorAxes[q];z=W(O.colorbar),z._id="cb"+q,z._propPrefix=q+".colorbar.",z._meta=I._meta,B={min:"cmin",max:"cmax"},oe[0]!=="heatmap"&&(_=oe[1],B.calc=_._module.colorbar.calc),$(),F.push(z)}return F}function m(k,I,N){var F=I.orientation==="v",z=I.len,O=I.lenmode,_=I.thickness,B=I.thicknessmode,W=I.outlinewidth,$=I.borderwidth,te=I.bgcolor,ie=I.xanchor,ue=I.yanchor,J=I.xpad,Y=I.ypad,ae=I.x,j=F?I.y:1-I.y,q=I.yref==="paper",oe=I.xref==="paper",Q=N._fullLayout,X=Q._size,se=I._fillcolor,ne=I._line,fe=I.title,ye=fe.side,Se=I._zrange||y.extent((typeof se=="function"?se:ne.color).domain()),we=typeof ne.color=="function"?ne.color:function(){return ne.color},_e=typeof se=="function"?se:function(){return se},ke=I._levels,Me=E(N,I,Se),me=Me.fill,Ee=Me.line,Be=Math.round(_*(B==="fraction"?F?X.w:X.h:1)),Ue=Be/(F?X.w:X.h),De=Math.round(z*(O==="fraction"?F?X.h:X.w:1)),He=De/(F?X.h:X.w),nt=oe?X.w:N._fullLayout.width,lt=q?X.h:N._fullLayout.height,$e=Math.round(F?ae*nt+J:j*lt+Y),qe={center:.5,right:1}[ie]||0,ct={top:1,middle:.5}[ue]||0,dt=F?ae-qe*Ue:j-ct*Ue,gt=F?j-ct*He:ae-qe*He,At=Math.round(F?lt*(1-gt):nt*gt);I._lenFrac=He,I._thickFrac=Ue,I._uFrac=dt,I._vFrac=gt;var Rt=I._axis=x(N,I,Se);Rt.position=Ue+(F?ae+J/X.w:j+Y/X.h);var Vt=["top","bottom"].indexOf(ye)!==-1;if(F&&Vt&&(Rt.title.side=ye,Rt.titlex=ae+J/X.w,Rt.titley=gt+(fe.side==="top"?He-Y/X.h:Y/X.h)),!F&&!Vt&&(Rt.title.side=ye,Rt.titley=j+Y/X.h,Rt.titlex=gt+J/X.w),ne.color&&I.tickmode==="auto"){Rt.tickmode="linear",Rt.tick0=ke.start;var Je=ke.size,Ve=p.constrain(De/50,4,15)+1,Ie=(Se[1]-Se[0])/((I.nticks||Ve)*Je);if(Ie>1){var Oe=Math.pow(10,Math.floor(Math.log(Ie)/Math.LN10));Je*=Oe*p.roundUp(Ie/Oe,[2,5,10]),(Math.abs(ke.start)/ke.size+1e-6)%1<2e-6&&(Rt.tick0=0)}Rt.dtick=Je}Rt.domain=F?[gt+Y/X.h,gt+He-Y/X.h]:[gt+J/X.w,gt+He-J/X.w],Rt.setScale(),k.attr("transform",r(Math.round(X.l),Math.round(X.t)));var Le=k.select("."+C.cbtitleunshift).attr("transform",r(-Math.round(X.l),-Math.round(X.t))),xe=Rt.ticklabelposition,pe=Rt.title.font.size,Ae=k.select("."+C.cbaxis),Te,Ne=0,Ye=0;function et(Tt,_t){var $t={propContainer:Rt,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:k.select("."+C.cbtitle)},wr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;k.selectAll("."+wr+",."+wr+"-math-group").remove(),u.draw(N,Tt,t($t,_t||{}))}function ft(){if(F&&Vt||!F&&!Vt){var Tt,_t;ye==="top"&&(Tt=J+X.l+nt*ae,_t=Y+X.t+lt*(1-gt-He)+3+pe*.75),ye==="bottom"&&(Tt=J+X.l+nt*ae,_t=Y+X.t+lt*(1-gt)-3-pe*.25),ye==="right"&&(_t=Y+X.t+lt*j+3+pe*.75,Tt=J+X.l+nt*gt),et(Rt._id+"title",{attributes:{x:Tt,y:_t,"text-anchor":F?"start":"middle"}})}}function pt(){if(F&&!Vt||!F&&Vt){var Tt=Rt.position||0,_t=Rt._offset+Rt._length/2,$t,wr;if(ye==="right")wr=_t,$t=X.l+nt*Tt+10+pe*(Rt.showticklabels?1:.5);else if($t=_t,ye==="bottom"&&(wr=X.t+lt*Tt+10+(xe.indexOf("inside")===-1?Rt.tickfont.size:0)+(Rt.ticks!=="intside"&&I.ticklen||0)),ye==="top"){var yt=fe.text.split("<br>").length;wr=X.t+lt*Tt+10-Be-d*pe*yt}et((F?"h":"v")+Rt._id+"title",{avoid:{selection:y.select(N).selectAll("g."+Rt._id+"tick"),side:ye,offsetTop:F?0:X.t,offsetLeft:F?X.l:0,maxShift:F?Q.width:Q.height},attributes:{x:$t,y:wr,"text-anchor":"middle"},transform:{rotate:F?-90:0,offset:0}})}}function Yt(){if(!F&&!Vt||F&&Vt){var Tt=k.select("."+C.cbtitle),_t=Tt.select("text"),$t=[-W/2,W/2],wr=Tt.select(".h"+Rt._id+"title-math-group").node(),yt=15.6;_t.node()&&(yt=parseInt(_t.node().style.fontSize,10)*d);var jt;if(wr?(jt=n.bBox(wr),Ye=jt.width,Ne=jt.height,Ne>yt&&($t[1]-=(Ne-yt)/2)):_t.node()&&!_t.classed(C.jsPlaceholder)&&(jt=n.bBox(_t.node()),Ye=jt.width,Ne=jt.height),F){if(Ne){if(Ne+=5,ye==="top")Rt.domain[1]-=Ne/X.h,$t[1]*=-1;else{Rt.domain[0]+=Ne/X.h;var Qt=l.lineCount(_t);$t[1]+=(1-Qt)*yt}Tt.attr("transform",r($t[0],$t[1])),Rt.setScale()}}else Ye&&(ye==="right"&&(Rt.domain[0]+=(Ye+pe/2)/X.w),Tt.attr("transform",r($t[0],$t[1])),Rt.setScale())}k.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",F?r(0,Math.round(X.h*(1-Rt.domain[1]))):r(Math.round(X.w*Rt.domain[0]),0)),Ae.attr("transform",F?r(0,Math.round(-X.t)):r(Math.round(-X.l),0));var gr=k.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(me);gr.enter().append("rect").classed(C.cbfill,!0).attr("style",""),gr.exit().remove();var sr=Se.map(Rt.c2p).map(Math.round).sort(function(Dt,Lt){return Dt-Lt});gr.each(function(Dt,Lt){var Bt=[Lt===0?Se[0]:(me[Lt]+me[Lt-1])/2,Lt===me.length-1?Se[1]:(me[Lt]+me[Lt+1])/2].map(Rt.c2p).map(Math.round);F&&(Bt[1]=p.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,sr[0],sr[1]));var Nt=y.select(this).attr(F?"x":"y",$e).attr(F?"y":"x",y.min(Bt)).attr(F?"width":"height",Math.max(Be,2)).attr(F?"height":"width",Math.max(y.max(Bt)-y.min(Bt),2));if(I._fillgradient)n.gradient(Nt,N,I._id,F?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Xt=_e(Dt).replace("e-","");Nt.attr("fill",P(Xt).toHexString())}});var vt=k.select("."+C.cblines).selectAll("path."+C.cbline).data(ne.color&&ne.width?Ee:[]);vt.enter().append("path").classed(C.cbline,!0),vt.exit().remove(),vt.each(function(Dt){var Lt=$e,Bt=Math.round(Rt.c2p(Dt))+ne.width/2%1;y.select(this).attr("d","M"+(F?Lt+","+Bt:Bt+","+Lt)+(F?"h":"v")+Be).call(n.lineGroupStyle,ne.width,we(Dt),ne.dash)}),Ae.selectAll("g."+Rt._id+"tick,path").remove();var at=$e+Be+(W||0)/2-(I.ticks==="outside"?1:0),xt=M.calcTicks(Rt),Mt=M.getTickSigns(Rt)[2];return M.drawTicks(N,Rt,{vals:Rt.ticks==="inside"?M.clipEnds(Rt,xt):xt,layer:Ae,path:M.makeTickPath(Rt,at,Mt),transFn:M.makeTransTickFn(Rt)}),M.drawLabels(N,Rt,{vals:xt,layer:Ae,transFn:M.makeTransTickLabelFn(Rt),labelFns:M.makeLabelFns(Rt,at)})}function Jt(){var Tt,_t=Be+W/2;xe.indexOf("inside")===-1&&(Tt=n.bBox(Ae.node()),_t+=F?Tt.width:Tt.height),Te=Le.select("text");var $t=0,wr=F&&ye==="top",yt=!F&&ye==="right",jt=0;if(Te.node()&&!Te.classed(C.jsPlaceholder)){var Qt,gr=Le.select(".h"+Rt._id+"title-math-group").node();gr&&(F&&Vt||!F&&!Vt)?(Tt=n.bBox(gr),$t=Tt.width,Qt=Tt.height):(Tt=n.bBox(Le.node()),$t=Tt.right-X.l-(F?$e:At),Qt=Tt.bottom-X.t-(F?At:$e),!F&&ye==="top"&&(_t+=Tt.height,jt=Tt.height)),yt&&(Te.attr("transform",r($t/2+pe/2,0)),$t*=2),_t=Math.max(_t,F?$t:Qt)}var sr=(F?J:Y)*2+_t+$+W/2,vt=0;!F&&fe.text&&ue==="bottom"&&j<=0&&(vt=sr/2,sr+=vt,jt+=vt),Q._hColorbarMoveTitle=vt,Q._hColorbarMoveCBTitle=jt;var at=$+W,xt=(F?$e:At)-at/2-(F?J:0),Mt=(F?At:$e)-(F?De:Y+jt-vt);k.select("."+C.cbbg).attr("x",xt).attr("y",Mt).attr(F?"width":"height",Math.max(sr-vt,2)).attr(F?"height":"width",Math.max(De+at,2)).call(c.fill,te).call(c.stroke,I.bordercolor).style("stroke-width",$);var Dt=yt?Math.max($t-10,0):0;k.selectAll("."+C.cboutline).attr("x",(F?$e:At+J)+Dt).attr("y",(F?At+Y-De:$e)+(wr?Ne:0)).attr(F?"width":"height",Math.max(Be,2)).attr(F?"height":"width",Math.max(De-(F?2*Y+Ne:2*J+Dt),2)).call(c.stroke,I.outlinecolor).style({fill:"none","stroke-width":W});var Lt=F?qe*sr:0,Bt=F?0:(1-ct)*sr-jt;if(Lt=oe?X.l-Lt:-Lt,Bt=q?X.t-Bt:-Bt,k.attr("transform",r(Lt,Bt)),!F&&($||P(te).getAlpha()&&!P.equals(Q.paper_bgcolor,te))){var Nt=Ae.selectAll("text"),Xt=Nt[0].length,lr=k.select("."+C.cbbg).node(),fr=n.bBox(lr),hr=n.getTranslate(k),We=2;Nt.each(function(yr,pr){var cr=0,Ur=Xt-1;if(pr===cr||pr===Ur){var kr=n.bBox(this),Rr=n.getTranslate(this),vn;if(pr===Ur){var tn=kr.right+Rr.x,Bn=fr.right+hr.x+At-$-We+ae;vn=Bn-tn,vn>0&&(vn=0)}else if(pr===cr){var xn=kr.left+Rr.x,Mr=fr.left+hr.x+At+$+We;vn=Mr-xn,vn<0&&(vn=0)}vn&&(Xt<3?this.setAttribute("transform","translate("+vn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ge={},kt=A[ie],It=w[ie],Zt=A[ue],rr=w[ue],ur=sr-Be;F?(O==="pixels"?(Ge.y=j,Ge.t=De*Zt,Ge.b=De*rr):(Ge.t=Ge.b=0,Ge.yt=j+z*Zt,Ge.yb=j-z*rr),B==="pixels"?(Ge.x=ae,Ge.l=sr*kt,Ge.r=sr*It):(Ge.l=ur*kt,Ge.r=ur*It,Ge.xl=ae-_*kt,Ge.xr=ae+_*It)):(O==="pixels"?(Ge.x=ae,Ge.l=De*kt,Ge.r=De*It):(Ge.l=Ge.r=0,Ge.xl=ae+z*kt,Ge.xr=ae-z*It),B==="pixels"?(Ge.y=1-j,Ge.t=sr*Zt,Ge.b=sr*rr):(Ge.t=ur*Zt,Ge.b=ur*rr,Ge.yt=j-_*Zt,Ge.yb=j+_*rr));var er=I.y<.5?"b":"t",zt=I.x<.5?"l":"r";N._fullLayout._reservedMargin[I._id]={};var vr={r:Q.width-xt-Lt,l:xt+Ge.r,b:Q.height-Mt-Bt,t:Mt+Ge.b};oe&&q?o.autoMargin(N,I._id,Ge):oe?N._fullLayout._reservedMargin[I._id][er]=vr[er]:q||F?N._fullLayout._reservedMargin[I._id][zt]=vr[zt]:N._fullLayout._reservedMargin[I._id][er]=vr[er]}return p.syncOrAsync([o.previousPromises,ft,Yt,pt,o.previousPromises,Jt],N)}function a(k,I,N){var F=I.orientation==="v",z=N._fullLayout,O=z._size,_,B,W;v.init({element:k.node(),gd:N,prepFn:function(){_=k.attr("transform"),i(k)},moveFn:function($,te){k.attr("transform",_+r($,te)),B=v.align((F?I._uFrac:I._vFrac)+$/O.w,F?I._thickFrac:I._lenFrac,0,1,I.xanchor),W=v.align((F?I._vFrac:1-I._uFrac)-te/O.h,F?I._lenFrac:I._thickFrac,0,1,I.yanchor);var ie=v.getCursor(B,W,I.xanchor,I.yanchor);i(k,ie)},doneFn:function(){if(i(k),B!==void 0&&W!==void 0){var $={};$[I._propPrefix+"x"]=B,$[I._propPrefix+"y"]=W,I._traceIndex!==void 0?L.call("_guiRestyle",N,$,I._traceIndex):L.call("_guiRelayout",N,$)}}})}function E(k,I,N){var F=I._levels,z=[],O=[],_,B,W=F.end+F.size/100,$=F.size,te=1.001*N[0]-.001*N[1],ie=1.001*N[1]-.001*N[0];for(B=0;B<1e5&&(_=F.start+B*$,!($>0?_>=W:_<=W));B++)_>te&&_<ie&&z.push(_);if(I._fillgradient)O=[0];else if(typeof I._fillcolor=="function"){var ue=I._filllevels;if(ue)for(W=ue.end+ue.size/100,$=ue.size,B=0;B<1e5&&(_=ue.start+B*$,!($>0?_>=W:_<=W));B++)_>N[0]&&_<N[1]&&O.push(_);else O=z.map(function(J){return J-F.size/2}),O.push(O[O.length-1]+F.size)}else I._fillcolor&&typeof I._fillcolor=="string"&&(O=[0]);return F.size<0&&(z.reverse(),O.reverse()),{line:z,fill:O}}function x(k,I,N){var F=k._fullLayout,z=I.orientation==="v",O={type:"linear",range:N,tickmode:I.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:I.ticks,ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,showticklabels:I.showticklabels,labelalias:I.labelalias,ticklabelposition:I.ticklabelposition,ticklabeloverflow:I.ticklabeloverflow,ticklabelstep:I.ticklabelstep,tickfont:I.tickfont,tickangle:I.tickangle,tickformat:I.tickformat,exponentformat:I.exponentformat,minexponent:I.minexponent,separatethousands:I.separatethousands,showexponent:I.showexponent,showtickprefix:I.showtickprefix,tickprefix:I.tickprefix,showticksuffix:I.showticksuffix,ticksuffix:I.ticksuffix,title:I.title,showline:!0,anchor:"free",side:z?"right":"bottom",position:1},_=z?"y":"x",B={type:"linear",_id:_+I._id},W={letter:_,font:F.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:F.calendar};function $(te,ie){return p.coerce(O,B,h,te,ie)}return f(O,B,$,W,F),T(O,B,$,W),B}G.exports={draw:b}},76228:function(G,V,e){var y=e(71828);G.exports=function(o){return y.isPlainObject(o.colorbar)}},12311:function(G,V,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(G,V,e){var y=e(63583),P=e(30587).counter,o=e(78607),L=e(63282).scales;o(L),G.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",i="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?L[p.colorscaleDflt]:null,c=p.editTypeOverride||"",u;"colorAttr"in p?(u=p.colorAttr,p.colorAttr):u={z:"z",c:"color"}[r];var l=r+"auto",g=r+"min",f=r+"max",T=r+"mid",h={};h[g]=h[f]=void 0;var s={};s[l]=!1;var d={};return u==="color"&&(d.color={valType:"color",arrayOk:!0,editType:c||"style"},p.anim&&(d.color.anim=!0)),d[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},d[g]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:s},d[f]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:s},d[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:i,editType:"calc"},d.colorbar=y),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:P("coloraxis"),dflt:null,editType:"calc"}),d}},78803:function(G,V,e){var y=e(92770),P=e(71828),o=e(52075).extractOpts;G.exports=function(M,v,p){var r=M._fullLayout,t=p.vals,i=p.containerStr,n=i?P.nestedProperty(v,i).get():v,c=o(n),u=c.auto!==!1,l=c.min,g=c.max,f=c.mid,T=function(){return P.aggNums(Math.min,null,t)},h=function(){return P.aggNums(Math.max,null,t)};if(l===void 0?l=T():u&&(n._colorAx&&y(l)?l=Math.min(l,T()):l=T()),g===void 0?g=h():u&&(n._colorAx&&y(g)?g=Math.max(g,h()):g=h()),u&&f!==void 0&&(g-f>f-l?l=f-(g-f):g-f<f-l&&(g=f+(f-l))),l===g&&(l-=.5,g+=.5),c._sync("min",l),c._sync("max",g),c.autocolorscale){var s;l*g<0?s=r.colorscale.diverging:l>=0?s=r.colorscale.sequential:s=r.colorscale.sequentialminus,c._sync("colorscale",s)}}},33046:function(G,V,e){var y=e(71828),P=e(52075).hasColorscale,o=e(52075).extractOpts;G.exports=function(M,v){function p(l,g){var f=l["_"+g];f!==void 0&&(l[g]=f)}function r(l,g){var f=g.container?y.nestedProperty(l,g.container).get():l;if(f)if(f.coloraxis)f._colorAx=v[f.coloraxis];else{var T=o(f),h=T.auto;(h||T.min===void 0)&&p(f,g.min),(h||T.max===void 0)&&p(f,g.max),T.autocolorscale&&p(f,"colorscale")}}for(var t=0;t<M.length;t++){var i=M[t],n=i._module.colorbar;if(n)if(Array.isArray(n))for(var c=0;c<n.length;c++)r(i,n[c]);else r(i,n);P(i,"marker.line")&&r(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},1586:function(G,V,e){var y=e(92770),P=e(71828),o=e(76228),L=e(62499),M=e(63282).isValid,v=e(73972).traceIs;function p(r,t){var i=t.slice(0,t.length-1);return t?P.nestedProperty(r,i).get()||{}:r}G.exports=function r(t,i,n,c,u){var l=u.prefix,g=u.cLetter,f="_module"in i,T=p(t,l),h=p(i,l),s=p(i._template||{},l)||{},d=function(){return delete t.coloraxis,delete i.coloraxis,r(t,i,n,c,u)};if(f){var A=n._colorAxes||{},w=c(l+"coloraxis");if(w){var C=v(i,"contour")&&P.nestedProperty(i,"contours.coloring").get()||"heatmap",b=A[w];b?(b[2].push(d),b[0]!==C&&(b[0]=!1,P.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):A[w]=[C,i,[d]];return}}var S=T[g+"min"],m=T[g+"max"],a=y(S)&&y(m)&&S<m,E=c(l+g+"auto",!a);E?c(l+g+"mid"):(c(l+g+"min"),c(l+g+"max"));var x=T.colorscale,k=s.colorscale,I;if(x!==void 0&&(I=!M(x)),k!==void 0&&(I=!M(k)),c(l+"autocolorscale",I),c(l+"colorscale"),c(l+"reversescale"),l!=="marker.line."){var N;l&&f&&(N=o(T));var F=c(l+"showscale",N);F&&(l&&s&&(h._template=s),L(T,h,n))}}},52075:function(G,V,e){var y=e(39898),P=e(84267),o=e(92770),L=e(71828),M=e(7901),v=e(63282).isValid;function p(f,T,h){var s=T?L.nestedProperty(f,T).get()||{}:f,d=s[h||"color"];d&&d._inputArray&&(d=d._inputArray);var A=!1;if(L.isArrayOrTypedArray(d)){for(var w=0;w<d.length;w++)if(o(d[w])){A=!0;break}}return L.isPlainObject(s)&&(A||s.showscale===!0||o(s.cmin)&&o(s.cmax)||v(s.colorscale)||L.isPlainObject(s.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(f){var T=f._colorAx,h=T||f,s={},d,A,w;for(A=0;A<r.length;A++)w=r[A],s[w]=h[w];if(T)for(d="c",A=0;A<t.length;A++)w=t[A],s[w]=h["c"+w];else{var C;for(A=0;A<t.length;A++){if(w=t[A],C="c"+w,C in h){s[w]=h[C];continue}C="z"+w,C in h&&(s[w]=h[C])}d=C.charAt(0)}return s._sync=function(b,S){var m=t.indexOf(b)!==-1?d+b:b;h[m]=h["_"+m]=S},s}function n(f){for(var T=i(f),h=T.min,s=T.max,d=T.reversescale?c(T.colorscale):T.colorscale,A=d.length,w=new Array(A),C=new Array(A),b=0;b<A;b++){var S=d[b];w[b]=h+S[0]*(s-h),C[b]=S[1]}return{domain:w,range:C}}function c(f){for(var T=f.length,h=new Array(T),s=T-1,d=0;s>=0;s--,d++){var A=f[s];h[d]=[1-A[0],A[1]]}return h}function u(f,T){T=T||{};for(var h=f.domain,s=f.range,d=s.length,A=new Array(d),w=0;w<d;w++){var C=P(s[w]).toRgb();A[w]=[C.r,C.g,C.b,C.a]}var b=y.scale.linear().domain(h).range(A).clamp(!0),S=T.noNumericCheck,m=T.returnArray,a;return S&&m?a=b:S?a=function(E){return g(b(E))}:m?a=function(E){return o(E)?b(E):P(E).isValid()?E:M.defaultLine}:a=function(E){return o(E)?g(b(E)):P(E).isValid()?E:M.defaultLine},a.domain=b.domain,a.range=function(){return s},a}function l(f,T){return u(n(f),T)}function g(f){var T={r:f[0],g:f[1],b:f[2],a:f[3]};return P(T).toRgbString()}G.exports={hasColorscale:p,extractOpts:i,extractScale:n,flipScale:c,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:l}},21081:function(G,V,e){var y=e(63282),P=e(52075);G.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:y.scales,defaultScale:y.defaultScale,getScale:y.get,isValidScale:y.isValid,hasColorscale:P.hasColorscale,extractOpts:P.extractOpts,extractScale:P.extractScale,flipScale:P.flipScale,makeColorScaleFunc:P.makeColorScaleFunc,makeColorScaleFuncFromTrace:P.makeColorScaleFuncFromTrace}},72673:function(G,V,e){var y=e(1426).extendFlat,P=e(50693),o=e(63282).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:y({_isSubplotObj:!0,editType:"calc"},P("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(G,V,e){var y=e(71828),P=e(44467),o=e(72673),L=e(1586);G.exports=function(v,p){function r(f,T){return y.coerce(v,p,o,f,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,i,n;function c(f,T){return y.coerce(i,n,o.coloraxis,f,T)}for(var u in t){var l=t[u];if(l[0])i=v[u]||{},n=P.newContainer(p,u,"coloraxis"),n._name=u,L(i,n,p,c,{prefix:"",cLetter:"c"});else{for(var g=0;g<l[2].length;g++)l[2][g]();delete p._colorAxes[u]}}}},63282:function(G,V,e){var y=e(84267),P={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=P.RdBu;function L(p,r){if(r||(r=o),!p)return r;function t(){try{p=P[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),M(p)?p:r}function M(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var i=p[t];if(i.length!==2||+i[0]<r||!y(i[1]).isValid())return!1;r=+i[0]}return!0}function v(p){return P[p]!==void 0?!0:M(p)}G.exports={scales:P,defaultScale:o,get:L,isValid:v}},92807:function(G){G.exports=function(e,y,P,o,L){var M=(e-P)/(o-P),v=M+y/(o-P),p=(M+v)/2;return L==="left"||L==="bottom"?M:L==="center"||L==="middle"?p:L==="right"||L==="top"?v:M<.6666666666666666-p?M:v>1.3333333333333333-p?v:p}},70461:function(G,V,e){var y=e(71828),P=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(L,M,v,p){return v==="left"?L=0:v==="center"?L=1:v==="right"?L=2:L=y.constrain(Math.floor(L*3),0,2),p==="bottom"?M=0:p==="middle"?M=1:p==="top"?M=2:M=y.constrain(Math.floor(M*3),0,2),P[M][L]}},64505:function(G,V){V.selectMode=function(e){return e==="lasso"||e==="select"},V.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.openMode=function(e){return e==="drawline"||e==="drawopenpath"},V.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},V.selectingOrDrawing=function(e){return V.freeMode(e)||V.rectMode(e)}},28569:function(G,V,e){var y=e(48956),P=e(57035),o=e(38520),L=e(71828).removeElement,M=e(85555),v=G.exports={};v.align=e(92807),v.getCursor=e(70461);var p=e(26041);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var c=n.gd,u=1,l=c._context.doubleClickDelay,g=n.element,f,T,h,s,d,A,w,C;c._mouseDownTime||(c._mouseDownTime=0),g.style.pointerEvents="all",g.onmousedown=m,o?(g._ontouchstart&&g.removeEventListener("touchstart",g._ontouchstart),g._ontouchstart=m,g.addEventListener("touchstart",m,{passive:!1})):g.ontouchstart=m;function b(x,k,I){return Math.abs(x)<I&&(x=0),Math.abs(k)<I&&(k=0),[x,k]}var S=n.clampFn||b;function m(x){c._dragged=!1,c._dragging=!0;var k=t(x);f=k[0],T=k[1],w=x.target,A=x,C=x.buttons===2||x.ctrlKey,typeof x.clientX>"u"&&typeof x.clientY>"u"&&(x.clientX=f,x.clientY=T),h=new Date().getTime(),h-c._mouseDownTime<l?u+=1:(u=1,c._mouseDownTime=h),n.prepFn&&n.prepFn(x,f,T),P&&!C?(d=r(),d.style.cursor=window.getComputedStyle(g).cursor):P||(d=document,s=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(g).cursor),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),n.dragmode!==!1&&(x.preventDefault(),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a,{passive:!1}))}function a(x){x.preventDefault();var k=t(x),I=n.minDrag||M.MINDRAG,N=S(k[0]-f,k[1]-T,I),F=N[0],z=N[1];(F||z)&&(c._dragged=!0,v.unhover(c,x)),c._dragged&&n.moveFn&&!C&&(c._dragdata={element:g,dx:F,dy:z},n.moveFn(F,z))}function E(x){if(delete c._dragdata,n.dragmode!==!1&&(x.preventDefault(),document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",a)),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),P?L(d):s&&(d.documentElement.style.cursor=s,s=null),!c._dragging){c._dragged=!1;return}if(c._dragging=!1,new Date().getTime()-c._mouseDownTime>l&&(u=Math.max(u-1,1)),c._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(u,A),!C){var k;try{k=new MouseEvent("click",x)}catch{var I=t(x);k=document.createEvent("MouseEvents"),k.initMouseEvent("click",x.bubbles,x.cancelable,x.view,x.detail,x.screenX,x.screenY,I[0],I[1],x.ctrlKey,x.altKey,x.shiftKey,x.metaKey,x.button,x.relatedTarget)}w.dispatchEvent(k)}c._dragging=!1,c._dragged=!1}};function r(){var i=document.createElement("div");i.className="dragcover";var n=i.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(i),i}v.coverSlip=r;function t(i){return y(i.changedTouches?i.changedTouches[0]:i,document.body)}},26041:function(G,V,e){var y=e(11086),P=e(79990),o=e(24401).getGraphDiv,L=e(26675),M=G.exports={};M.wrapped=function(v,p,r){v=o(v),v._fullLayout&&P.clear(v._fullLayout._uid+L.HOVERID),M.raw(v,p,r)},M.raw=function(p,r){var t=p._fullLayout,i=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&y.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&i&&p.emit("plotly_unhover",{event:r,points:i}))}},79952:function(G,V){V.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},V.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(G,V,e){var y=e(39898),P=e(71828),o=P.numberFormat,L=e(92770),M=e(84267),v=e(73972),p=e(7901),r=e(21081),t=P.strTranslate,i=e(63893),n=e(77922),c=e(18783),u=c.LINE_SPACING,l=e(37822).DESELECTDIM,g=e(34098),f=e(39984),T=e(23469).appendArrayPointValue,h=G.exports={};h.font=function(Me,me,Ee,Be){P.isPlainObject(me)&&(Be=me.color,Ee=me.size,me=me.family),me&&Me.style("font-family",me),Ee+1&&Me.style("font-size",Ee+"px"),Be&&Me.call(p.fill,Be)},h.setPosition=function(Me,me,Ee){Me.attr("x",me).attr("y",Ee)},h.setSize=function(Me,me,Ee){Me.attr("width",me).attr("height",Ee)},h.setRect=function(Me,me,Ee,Be,Ue){Me.call(h.setPosition,me,Ee).call(h.setSize,Be,Ue)},h.translatePoint=function(Me,me,Ee,Be){var Ue=Ee.c2p(Me.x),De=Be.c2p(Me.y);if(L(Ue)&&L(De)&&me.node())me.node().nodeName==="text"?me.attr("x",Ue).attr("y",De):me.attr("transform",t(Ue,De));else return!1;return!0},h.translatePoints=function(Me,me,Ee){Me.each(function(Be){var Ue=y.select(this);h.translatePoint(Be,Ue,me,Ee)})},h.hideOutsideRangePoint=function(Me,me,Ee,Be,Ue,De){me.attr("display",Ee.isPtWithinRange(Me,Ue)&&Be.isPtWithinRange(Me,De)?null:"none")},h.hideOutsideRangePoints=function(Me,me){if(me._hasClipOnAxisFalse){var Ee=me.xaxis,Be=me.yaxis;Me.each(function(Ue){var De=Ue[0].trace,He=De.xcalendar,nt=De.ycalendar,lt=v.traceIs(De,"bar-like")?".bartext":".point,.textpoint";Me.selectAll(lt).each(function($e){h.hideOutsideRangePoint($e,y.select(this),Ee,Be,He,nt)})})}},h.crispRound=function(Me,me,Ee){return!me||!L(me)?Ee||0:Me._context.staticPlot?me:me<1?1:Math.round(me)},h.singleLineStyle=function(Me,me,Ee,Be,Ue){me.style("fill","none");var De=(((Me||[])[0]||{}).trace||{}).line||{},He=Ee||De.width||0,nt=Ue||De.dash||"";p.stroke(me,Be||De.color),h.dashLine(me,nt,He)},h.lineGroupStyle=function(Me,me,Ee,Be){Me.style("fill","none").each(function(Ue){var De=(((Ue||[])[0]||{}).trace||{}).line||{},He=me||De.width||0,nt=Be||De.dash||"";y.select(this).call(p.stroke,Ee||De.color).call(h.dashLine,nt,He)})},h.dashLine=function(Me,me,Ee){Ee=+Ee||0,me=h.dashStyle(me,Ee),Me.style({"stroke-dasharray":me,"stroke-width":Ee+"px"})},h.dashStyle=function(Me,me){me=+me||1;var Ee=Math.max(me,3);return Me==="solid"?Me="":Me==="dot"?Me=Ee+"px,"+Ee+"px":Me==="dash"?Me=3*Ee+"px,"+3*Ee+"px":Me==="longdash"?Me=5*Ee+"px,"+5*Ee+"px":Me==="dashdot"?Me=3*Ee+"px,"+Ee+"px,"+Ee+"px,"+Ee+"px":Me==="longdashdot"&&(Me=5*Ee+"px,"+2*Ee+"px,"+Ee+"px,"+2*Ee+"px"),Me};function s(Me,me,Ee){var Be=me.fillpattern,Ue=Be&&h.getPatternAttr(Be.shape,0,"");if(Ue){var De=h.getPatternAttr(Be.bgcolor,0,null),He=h.getPatternAttr(Be.fgcolor,0,null),nt=Be.fgopacity,lt=h.getPatternAttr(Be.size,0,8),$e=h.getPatternAttr(Be.solidity,0,.3),qe=me.uid;h.pattern(Me,"point",Ee,qe,Ue,lt,$e,void 0,Be.fillmode,De,He,nt)}else me.fillcolor&&Me.call(p.fill,me.fillcolor)}h.singleFillStyle=function(Me,me){var Ee=y.select(Me.node()),Be=Ee.data(),Ue=((Be[0]||[])[0]||{}).trace||{};s(Me,Ue,me)},h.fillGroupStyle=function(Me,me){Me.style("stroke-width",0).each(function(Ee){var Be=y.select(this);Ee[0].trace&&s(Be,Ee[0].trace,me)})};var d=e(90998);h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(d).forEach(function(Me){var me=d[Me],Ee=me.n;h.symbolList.push(Ee,String(Ee),Me,Ee+100,String(Ee+100),Me+"-open"),h.symbolNames[Ee]=Me,h.symbolFuncs[Ee]=me.f,h.symbolBackOffs[Ee]=me.backoff||0,me.needLine&&(h.symbolNeedLines[Ee]=!0),me.noDot?h.symbolNoDot[Ee]=!0:h.symbolList.push(Ee+200,String(Ee+200),Me+"-dot",Ee+300,String(Ee+300),Me+"-open-dot"),me.noFill&&(h.symbolNoFill[Ee]=!0)});var A=h.symbolNames.length,w="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function(Me){if(L(Me))Me=+Me;else if(typeof Me=="string"){var me=0;Me.indexOf("-open")>0&&(me=100,Me=Me.replace("-open","")),Me.indexOf("-dot")>0&&(me+=200,Me=Me.replace("-dot","")),Me=h.symbolNames.indexOf(Me),Me>=0&&(Me+=me)}return Me%100>=A||Me>=400?0:Math.floor(Math.max(Me,0))};function C(Me,me,Ee,Be){var Ue=Me%100;return h.symbolFuncs[Ue](me,Ee,Be)+(Me>=200?w:"")}var b={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},m=o("~f"),a={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:b},horizontalreversed:{node:"linearGradient",attrs:b,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};h.gradient=function(Me,me,Ee,Be,Ue,De){for(var He=Ue.length,nt=a[Be],lt=new Array(He),$e=0;$e<He;$e++)nt.reversed?lt[He-1-$e]=[m((1-Ue[$e][0])*100),Ue[$e][1]]:lt[$e]=[m(Ue[$e][0]*100),Ue[$e][1]];var qe=me._fullLayout,ct="g"+qe._uid+"-"+Ee,dt=qe._defs.select(".gradients").selectAll("#"+ct).data([Be+lt.join(";")],P.identity);dt.exit().remove(),dt.enter().append(nt.node).each(function(){var gt=y.select(this);nt.attrs&&gt.attr(nt.attrs),gt.attr("id",ct);var At=gt.selectAll("stop").data(lt);At.exit().remove(),At.enter().append("stop"),At.each(function(Rt){var Vt=M(Rt[1]);y.select(this).attr({offset:Rt[0]+"%","stop-color":p.tinyRGB(Vt),"stop-opacity":Vt.getAlpha()})})}),Me.style(De,Y(ct,me)).style(De+"-opacity",null),Me.classed("gradient_filled",!0)},h.pattern=function(Me,me,Ee,Be,Ue,De,He,nt,lt,$e,qe,ct){var dt=me==="legend";nt&&(lt==="overlay"?($e=nt,qe=p.contrast($e)):($e=void 0,qe=nt));var gt=Ee._fullLayout,At="p"+gt._uid+"-"+Be,Rt,Vt,Je=function(ft,pt,Yt,Jt,Tt){return Jt+(Tt-Jt)*(ft-pt)/(Yt-pt)},Ve,Ie,Oe,Le,xe={},pe=M(qe),Ae=p.tinyRGB(pe),Te=pe.getAlpha(),Ne=ct*Te;switch(Ue){case"/":Rt=De*Math.sqrt(2),Vt=De*Math.sqrt(2),Ve="M-"+Rt/4+","+Vt/4+"l"+Rt/2+",-"+Vt/2+"M0,"+Vt+"L"+Rt+",0M"+Rt/4*3+","+Vt/4*5+"l"+Rt/2+",-"+Vt/2,Ie=He*De,Le="path",xe={d:Ve,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case"\\":Rt=De*Math.sqrt(2),Vt=De*Math.sqrt(2),Ve="M"+Rt/4*3+",-"+Vt/4+"l"+Rt/2+","+Vt/2+"M0,0L"+Rt+","+Vt+"M-"+Rt/4+","+Vt/4*3+"l"+Rt/2+","+Vt/2,Ie=He*De,Le="path",xe={d:Ve,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case"x":Rt=De*Math.sqrt(2),Vt=De*Math.sqrt(2),Ve="M-"+Rt/4+","+Vt/4+"l"+Rt/2+",-"+Vt/2+"M0,"+Vt+"L"+Rt+",0M"+Rt/4*3+","+Vt/4*5+"l"+Rt/2+",-"+Vt/2+"M"+Rt/4*3+",-"+Vt/4+"l"+Rt/2+","+Vt/2+"M0,0L"+Rt+","+Vt+"M-"+Rt/4+","+Vt/4*3+"l"+Rt/2+","+Vt/2,Ie=De-De*Math.sqrt(1-He),Le="path",xe={d:Ve,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case"|":Rt=De,Vt=De,Le="path",Ve="M"+Rt/2+",0L"+Rt/2+","+Vt,Ie=He*De,Le="path",xe={d:Ve,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case"-":Rt=De,Vt=De,Le="path",Ve="M0,"+Vt/2+"L"+Rt+","+Vt/2,Ie=He*De,Le="path",xe={d:Ve,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case"+":Rt=De,Vt=De,Le="path",Ve="M"+Rt/2+",0L"+Rt/2+","+Vt+"M0,"+Vt/2+"L"+Rt+","+Vt/2,Ie=De-De*Math.sqrt(1-He),Le="path",xe={d:Ve,opacity:Ne,stroke:Ae,"stroke-width":Ie+"px"};break;case".":Rt=De,Vt=De,He<Math.PI/4?Oe=Math.sqrt(He*De*De/Math.PI):Oe=Je(He,Math.PI/4,1,De/2,De/Math.sqrt(2)),Le="circle",xe={cx:Rt/2,cy:Vt/2,r:Oe,opacity:Ne,fill:Ae};break}var Ye=[Ue||"noSh",$e||"noBg",qe||"noFg",De,He].join(";"),et=gt._defs.select(".patterns").selectAll("#"+At).data([Ye],P.identity);et.exit().remove(),et.enter().append("pattern").each(function(){var ft=y.select(this);if(ft.attr({id:At,width:Rt+"px",height:Vt+"px",patternUnits:"userSpaceOnUse",patternTransform:dt?"scale(0.8)":""}),$e){var pt=M($e),Yt=p.tinyRGB(pt),Jt=pt.getAlpha(),Tt=ft.selectAll("rect").data([0]);Tt.exit().remove(),Tt.enter().append("rect").attr({width:Rt+"px",height:Vt+"px",fill:Yt,"fill-opacity":Jt})}var _t=ft.selectAll(Le).data([0]);_t.exit().remove(),_t.enter().append(Le).attr(xe)}),Me.style("fill",Y(At,Ee)).style("fill-opacity",null),Me.classed("pattern_filled",!0)},h.initGradients=function(Me){var me=Me._fullLayout,Ee=P.ensureSingle(me._defs,"g","gradients");Ee.selectAll("linearGradient,radialGradient").remove(),y.select(Me).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function(Me){var me=Me._fullLayout,Ee=P.ensureSingle(me._defs,"g","patterns");Ee.selectAll("pattern").remove(),y.select(Me).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function(Me,me,Ee){return Me&&P.isArrayOrTypedArray(Me)?me<Me.length?Me[me]:Ee:Me},h.pointStyle=function(Me,me,Ee,Be){if(Me.size()){var Ue=h.makePointStyleFns(me);Me.each(function(De){h.singlePointStyle(De,y.select(this),me,Ue,Ee,Be)})}},h.singlePointStyle=function(Me,me,Ee,Be,Ue,De){var He=Ee.marker,nt=He.line;if(De&&De.i>=0&&Me.i===void 0&&(Me.i=De.i),me.style("opacity",Be.selectedOpacityFn?Be.selectedOpacityFn(Me):Me.mo===void 0?He.opacity:Me.mo),Be.ms2mrc){var lt;Me.ms==="various"||He.size==="various"?lt=3:lt=Be.ms2mrc(Me.ms),Me.mrc=lt,Be.selectedSizeFn&&(lt=Me.mrc=Be.selectedSizeFn(Me));var $e=h.symbolNumber(Me.mx||He.symbol)||0;Me.om=$e%200>=100;var qe=ke(Me,Ee),ct=q(Me,Ee);me.attr("d",C($e,lt,qe,ct))}var dt=!1,gt,At,Rt;if(Me.so)Rt=nt.outlierwidth,At=nt.outliercolor,gt=He.outliercolor;else{var Vt=(nt||{}).width;Rt=(Me.mlw+1||Vt+1||(Me.trace?(Me.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Me?At=Me.mlcc=Be.lineScale(Me.mlc):P.isArrayOrTypedArray(nt.color)?At=p.defaultLine:At=nt.color,P.isArrayOrTypedArray(He.color)&&(gt=p.defaultLine,dt=!0),"mc"in Me?gt=Me.mcc=Be.markerScale(Me.mc):gt=He.color||He.colors||"rgba(0,0,0,0)",Be.selectedColorFn&&(gt=Be.selectedColorFn(Me))}if(Me.om)me.call(p.stroke,gt).style({"stroke-width":(Rt||1)+"px",fill:"none"});else{me.style("stroke-width",(Me.isBlank?0:Rt)+"px");var Je=He.gradient,Ve=Me.mgt;Ve?dt=!0:Ve=Je&&Je.type,P.isArrayOrTypedArray(Ve)&&(Ve=Ve[0],a[Ve]||(Ve=0));var Ie=He.pattern,Oe=Ie&&h.getPatternAttr(Ie.shape,Me.i,"");if(Ve&&Ve!=="none"){var Le=Me.mgc;Le?dt=!0:Le=Je.color;var xe=Ee.uid;dt&&(xe+="-"+Me.i),h.gradient(me,Ue,xe,Ve,[[0,Le],[1,gt]],"fill")}else if(Oe){var pe=!1,Ae=Ie.fgcolor;!Ae&&De&&De.color&&(Ae=De.color,pe=!0);var Te=h.getPatternAttr(Ae,Me.i,De&&De.color||null),Ne=h.getPatternAttr(Ie.bgcolor,Me.i,null),Ye=Ie.fgopacity,et=h.getPatternAttr(Ie.size,Me.i,8),ft=h.getPatternAttr(Ie.solidity,Me.i,.3);pe=pe||Me.mcc||P.isArrayOrTypedArray(Ie.shape)||P.isArrayOrTypedArray(Ie.bgcolor)||P.isArrayOrTypedArray(Ie.fgcolor)||P.isArrayOrTypedArray(Ie.size)||P.isArrayOrTypedArray(Ie.solidity);var pt=Ee.uid;pe&&(pt+="-"+Me.i),h.pattern(me,"point",Ue,pt,Oe,et,ft,Me.mcc,Ie.fillmode,Ne,Te,Ye)}else P.isArrayOrTypedArray(gt)?p.fill(me,gt[Me.i]):p.fill(me,gt);Rt&&p.stroke(me,At)}},h.makePointStyleFns=function(Me){var me={},Ee=Me.marker;return me.markerScale=h.tryColorscale(Ee,""),me.lineScale=h.tryColorscale(Ee,"line"),v.traceIs(Me,"symbols")&&(me.ms2mrc=g.isBubble(Me)?f(Me):function(){return(Ee.size||6)/2}),Me.selectedpoints&&P.extendFlat(me,h.makeSelectedPointStyleFns(Me)),me},h.makeSelectedPointStyleFns=function(Me){var me={},Ee=Me.selected||{},Be=Me.unselected||{},Ue=Me.marker||{},De=Ee.marker||{},He=Be.marker||{},nt=Ue.opacity,lt=De.opacity,$e=He.opacity,qe=lt!==void 0,ct=$e!==void 0;(P.isArrayOrTypedArray(nt)||qe||ct)&&(me.selectedOpacityFn=function(Oe){var Le=Oe.mo===void 0?Ue.opacity:Oe.mo;return Oe.selected?qe?lt:Le:ct?$e:l*Le});var dt=Ue.color,gt=De.color,At=He.color;(gt||At)&&(me.selectedColorFn=function(Oe){var Le=Oe.mcc||dt;return Oe.selected?gt||Le:At||Le});var Rt=Ue.size,Vt=De.size,Je=He.size,Ve=Vt!==void 0,Ie=Je!==void 0;return v.traceIs(Me,"symbols")&&(Ve||Ie)&&(me.selectedSizeFn=function(Oe){var Le=Oe.mrc||Rt/2;return Oe.selected?Ve?Vt/2:Le:Ie?Je/2:Le}),me},h.makeSelectedTextStyleFns=function(Me){var me={},Ee=Me.selected||{},Be=Me.unselected||{},Ue=Me.textfont||{},De=Ee.textfont||{},He=Be.textfont||{},nt=Ue.color,lt=De.color,$e=He.color;return me.selectedTextColorFn=function(qe){var ct=qe.tc||nt;return qe.selected?lt||ct:$e||(lt?ct:p.addOpacity(ct,l))},me},h.selectedPointStyle=function(Me,me){if(!(!Me.size()||!me.selectedpoints)){var Ee=h.makeSelectedPointStyleFns(me),Be=me.marker||{},Ue=[];Ee.selectedOpacityFn&&Ue.push(function(De,He){De.style("opacity",Ee.selectedOpacityFn(He))}),Ee.selectedColorFn&&Ue.push(function(De,He){p.fill(De,Ee.selectedColorFn(He))}),Ee.selectedSizeFn&&Ue.push(function(De,He){var nt=He.mx||Be.symbol||0,lt=Ee.selectedSizeFn(He);De.attr("d",C(h.symbolNumber(nt),lt,ke(He,me),q(He,me))),He.mrc2=lt}),Ue.length&&Me.each(function(De){for(var He=y.select(this),nt=0;nt<Ue.length;nt++)Ue[nt](He,De)})}},h.tryColorscale=function(Me,me){var Ee=me?P.nestedProperty(Me,me).get():Me;if(Ee){var Be=Ee.color;if((Ee.colorscale||Ee._colorAx)&&P.isArrayOrTypedArray(Be))return r.makeColorScaleFuncFromTrace(Ee)}return P.identity};var E={start:1,end:-1,middle:0,bottom:1,top:-1};function x(Me,me,Ee,Be,Ue){var De=y.select(Me.node().parentNode),He=me.indexOf("top")!==-1?"top":me.indexOf("bottom")!==-1?"bottom":"middle",nt=me.indexOf("left")!==-1?"end":me.indexOf("right")!==-1?"start":"middle",lt=Be?Be/.8+1:0,$e=(i.lineCount(Me)-1)*u+1,qe=E[nt]*lt,ct=Ee*.75+E[He]*lt+(E[He]-1)*$e*Ee/2;Me.attr("text-anchor",nt),Ue||De.attr("transform",t(qe,ct))}function k(Me,me){var Ee=Me.ts||me.textfont.size;return L(Ee)&&Ee>0?Ee:0}h.textPointStyle=function(Me,me,Ee){if(Me.size()){var Be;if(me.selectedpoints){var Ue=h.makeSelectedTextStyleFns(me);Be=Ue.selectedTextColorFn}var De=me.texttemplate,He=Ee._fullLayout;Me.each(function(nt){var lt=y.select(this),$e=De?P.extractOption(nt,me,"txt","texttemplate"):P.extractOption(nt,me,"tx","text");if(!$e&&$e!==0){lt.remove();return}if(De){var qe=me._module.formatLabels,ct=qe?qe(nt,me,He):{},dt={};T(dt,me,nt.i);var gt=me._meta||{};$e=P.texttemplateString($e,ct,He._d3locale,dt,nt,gt)}var At=nt.tp||me.textposition,Rt=k(nt,me),Vt=Be?Be(nt):nt.tc||me.textfont.color;lt.call(h.font,nt.tf||me.textfont.family,Rt,Vt).text($e).call(i.convertToTspans,Ee).call(x,At,Rt,nt.mrc)})}},h.selectedTextStyle=function(Me,me){if(!(!Me.size()||!me.selectedpoints)){var Ee=h.makeSelectedTextStyleFns(me);Me.each(function(Be){var Ue=y.select(this),De=Ee.selectedTextColorFn(Be),He=Be.tp||me.textposition,nt=k(Be,me);p.fill(Ue,De);var lt=v.traceIs(me,"bar-like");x(Ue,He,nt,Be.mrc2||Be.mrc,lt)})}};var I=.5;h.smoothopen=function(Me,me){if(Me.length<3)return"M"+Me.join("L");var Ee="M"+Me[0],Be=[],Ue;for(Ue=1;Ue<Me.length-1;Ue++)Be.push(B(Me[Ue-1],Me[Ue],Me[Ue+1],me));for(Ee+="Q"+Be[0][0]+" "+Me[1],Ue=2;Ue<Me.length-1;Ue++)Ee+="C"+Be[Ue-2][1]+" "+Be[Ue-1][0]+" "+Me[Ue];return Ee+="Q"+Be[Me.length-3][1]+" "+Me[Me.length-1],Ee},h.smoothclosed=function(Me,me){if(Me.length<3)return"M"+Me.join("L")+"Z";var Ee="M"+Me[0],Be=Me.length-1,Ue=[B(Me[Be],Me[0],Me[1],me)],De;for(De=1;De<Be;De++)Ue.push(B(Me[De-1],Me[De],Me[De+1],me));for(Ue.push(B(Me[Be-1],Me[Be],Me[0],me)),De=1;De<=Be;De++)Ee+="C"+Ue[De-1][1]+" "+Ue[De][0]+" "+Me[De];return Ee+="C"+Ue[Be][1]+" "+Ue[0][0]+" "+Me[0]+"Z",Ee};var N,F;function z(Me,me,Ee){return Ee&&(Me=te(Me)),me?_(Me[1]):O(Me[0])}function O(Me){var me=y.round(Me,2);return N=me,me}function _(Me){var me=y.round(Me,2);return F=me,me}function B(Me,me,Ee,Be){var Ue=Me[0]-me[0],De=Me[1]-me[1],He=Ee[0]-me[0],nt=Ee[1]-me[1],lt=Math.pow(Ue*Ue+De*De,I/2),$e=Math.pow(He*He+nt*nt,I/2),qe=($e*$e*Ue-lt*lt*He)*Be,ct=($e*$e*De-lt*lt*nt)*Be,dt=3*$e*(lt+$e),gt=3*lt*(lt+$e);return[[O(me[0]+(dt&&qe/dt)),_(me[1]+(dt&&ct/dt))],[O(me[0]-(gt&&qe/gt)),_(me[1]-(gt&&ct/gt))]]}var W={hv:function(Me,me,Ee){return"H"+O(me[0])+"V"+z(me,1,Ee)},vh:function(Me,me,Ee){return"V"+_(me[1])+"H"+z(me,0,Ee)},hvh:function(Me,me,Ee){return"H"+O((Me[0]+me[0])/2)+"V"+_(me[1])+"H"+z(me,0,Ee)},vhv:function(Me,me,Ee){return"V"+_((Me[1]+me[1])/2)+"H"+O(me[0])+"V"+z(me,1,Ee)}},$=function(Me,me,Ee){return"L"+z(me,0,Ee)+","+z(me,1,Ee)};h.steps=function(Me){var me=W[Me]||$;return function(Ee){for(var Be="M"+O(Ee[0][0])+","+_(Ee[0][1]),Ue=Ee.length,De=1;De<Ue;De++)Be+=me(Ee[De-1],Ee[De],De===Ue-1);return Be}};function te(Me,me){var Ee=Me.backoff,Be=Me.trace,Ue=Me.d,De=Me.i;if(Ee&&Be&&Be.marker&&Be.marker.angle%360===0&&Be.line&&Be.line.shape!=="spline"){var He=P.isArrayOrTypedArray(Ee),nt=Me,lt=me?me[0]:N||0,$e=me?me[1]:F||0,qe=nt[0],ct=nt[1],dt=qe-lt,gt=ct-$e,At=Math.atan2(gt,dt),Rt=He?Ee[De]:Ee;if(Rt==="auto"){var Vt=nt.i;Be.type==="scatter"&&Vt--;var Je=nt.marker,Ve=Je.symbol;P.isArrayOrTypedArray(Ve)&&(Ve=Ve[Vt]);var Ie=Je.size;P.isArrayOrTypedArray(Ie)&&(Ie=Ie[Vt]),Rt=Je?h.symbolBackOffs[h.symbolNumber(Ve)]*Ie:0,Rt+=h.getMarkerStandoff(Ue[Vt],Be)||0}var Oe=qe-Rt*Math.cos(At),Le=ct-Rt*Math.sin(At);(Oe<=qe&&Oe>=lt||Oe>=qe&&Oe<=lt)&&(Le<=ct&&Le>=$e||Le>=ct&&Le<=$e)&&(Me=[Oe,Le])}return Me}h.applyBackoff=te,h.makeTester=function(){var Me=P.ensureSingleById(y.select("body"),"svg","js-plotly-tester",function(Ee){Ee.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),me=P.ensureSingle(Me,"path","js-reference-point",function(Ee){Ee.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=Me,h.testref=me},h.savedBBoxes={};var ie=0,ue=1e4;h.bBox=function(Me,me,Ee){Ee||(Ee=J(Me));var Be;if(Ee){if(Be=h.savedBBoxes[Ee],Be)return P.extendFlat({},Be)}else if(Me.childNodes.length===1){var Ue=Me.childNodes[0];if(Ee=J(Ue),Ee){var De=+Ue.getAttribute("x")||0,He=+Ue.getAttribute("y")||0,nt=Ue.getAttribute("transform");if(!nt){var lt=h.bBox(Ue,!1,Ee);return De&&(lt.left+=De,lt.right+=De),He&&(lt.top+=He,lt.bottom+=He),lt}if(Ee+="~"+De+"~"+He+"~"+nt,Be=h.savedBBoxes[Ee],Be)return P.extendFlat({},Be)}}var $e,qe;me?$e=Me:(qe=h.tester.node(),$e=Me.cloneNode(!0),qe.appendChild($e)),y.select($e).attr("transform",null).call(i.positionText,0,0);var ct=$e.getBoundingClientRect(),dt=h.testref.node().getBoundingClientRect();me||qe.removeChild($e);var gt={height:ct.height,width:ct.width,left:ct.left-dt.left,top:ct.top-dt.top,right:ct.right-dt.left,bottom:ct.bottom-dt.top};return ie>=ue&&(h.savedBBoxes={},ie=0),Ee&&(h.savedBBoxes[Ee]=gt),ie++,P.extendFlat({},gt)};function J(Me){var me=Me.getAttribute("data-unformatted");if(me!==null)return me+Me.getAttribute("data-math")+Me.getAttribute("text-anchor")+Me.getAttribute("style")}h.setClipUrl=function(Me,me,Ee){Me.attr("clip-path",Y(me,Ee))};function Y(Me,me){if(!Me)return null;var Ee=me._context,Be=Ee._exportedPlot?"":Ee._baseUrl||"";return Be?"url('"+Be+"#"+Me+"')":"url(#"+Me+")"}h.getTranslate=function(Me){var me=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ee=Me.attr?"attr":"getAttribute",Be=Me[Ee]("transform")||"",Ue=Be.replace(me,function(De,He,nt){return[He,nt].join(" ")}).split(" ");return{x:+Ue[0]||0,y:+Ue[1]||0}},h.setTranslate=function(Me,me,Ee){var Be=/(\btranslate\(.*?\);?)/,Ue=Me.attr?"attr":"getAttribute",De=Me.attr?"attr":"setAttribute",He=Me[Ue]("transform")||"";return me=me||0,Ee=Ee||0,He=He.replace(Be,"").trim(),He+=t(me,Ee),He=He.trim(),Me[De]("transform",He),He},h.getScale=function(Me){var me=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ee=Me.attr?"attr":"getAttribute",Be=Me[Ee]("transform")||"",Ue=Be.replace(me,function(De,He,nt){return[He,nt].join(" ")}).split(" ");return{x:+Ue[0]||1,y:+Ue[1]||1}},h.setScale=function(Me,me,Ee){var Be=/(\bscale\(.*?\);?)/,Ue=Me.attr?"attr":"getAttribute",De=Me.attr?"attr":"setAttribute",He=Me[Ue]("transform")||"";return me=me||1,Ee=Ee||1,He=He.replace(Be,"").trim(),He+="scale("+me+","+Ee+")",He=He.trim(),Me[De]("transform",He),He};var ae=/\s*sc.*/;h.setPointGroupScale=function(Me,me,Ee){if(me=me||1,Ee=Ee||1,!!Me){var Be=me===1&&Ee===1?"":"scale("+me+","+Ee+")";Me.each(function(){var Ue=(this.getAttribute("transform")||"").replace(ae,"");Ue+=Be,Ue=Ue.trim(),this.setAttribute("transform",Ue)})}};var j=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function(Me,me,Ee){Me&&Me.each(function(){var Be,Ue=y.select(this),De=Ue.select("text");if(De.node()){var He=parseFloat(De.attr("x")||0),nt=parseFloat(De.attr("y")||0),lt=(Ue.attr("transform")||"").match(j);me===1&&Ee===1?Be=[]:Be=[t(He,nt),"scale("+me+","+Ee+")",t(-He,-nt)],lt&&Be.push(lt),Ue.attr("transform",Be.join(""))}})};function q(Me,me){var Ee;return Me&&(Ee=Me.mf),Ee===void 0&&(Ee=me.marker&&me.marker.standoff||0),!me._geo&&!me._xA?-Ee:Ee}h.getMarkerStandoff=q;var oe=Math.atan2,Q=Math.cos,X=Math.sin;function se(Me,me){var Ee=me[0],Be=me[1];return[Ee*Q(Me)-Be*X(Me),Ee*X(Me)+Be*Q(Me)]}var ne,fe,ye,Se,we,_e;function ke(Me,me){var Ee=Me.ma;Ee===void 0&&(Ee=me.marker.angle,(!Ee||P.isArrayOrTypedArray(Ee))&&(Ee=0));var Be,Ue,De=me.marker.angleref;if(De==="previous"||De==="north"){if(me._geo){var He=me._geo.project(Me.lonlat);Be=He[0],Ue=He[1]}else{var nt=me._xA,lt=me._yA;if(nt&&lt)Be=nt.c2p(Me.x),Ue=lt.c2p(Me.y);else return 90}if(me._geo){var $e=Me.lonlat[0],qe=Me.lonlat[1],ct=me._geo.project([$e,qe+1e-5]),dt=me._geo.project([$e+1e-5,qe]),gt=oe(dt[1]-Ue,dt[0]-Be),At=oe(ct[1]-Ue,ct[0]-Be),Rt;if(De==="north")Rt=Ee/180*Math.PI;else if(De==="previous"){var Vt=$e/180*Math.PI,Je=qe/180*Math.PI,Ve=ne/180*Math.PI,Ie=fe/180*Math.PI,Oe=Ve-Vt,Le=Q(Ie)*X(Oe),xe=X(Ie)*Q(Je)-Q(Ie)*X(Je)*Q(Oe);Rt=-oe(Le,xe)-Math.PI,ne=$e,fe=qe}var pe=se(gt,[Q(Rt),0]),Ae=se(At,[X(Rt),0]);Ee=oe(pe[1]+Ae[1],pe[0]+Ae[0])/Math.PI*180,De==="previous"&&!(_e===me.uid&&Me.i===we+1)&&(Ee=null)}if(De==="previous"&&!me._geo)if(_e===me.uid&&Me.i===we+1&&L(Be)&&L(Ue)){var Te=Be-ye,Ne=Ue-Se,Ye=me.line&&me.line.shape||"",et=Ye.slice(Ye.length-1);et==="h"&&(Ne=0),et==="v"&&(Te=0),Ee+=oe(Ne,Te)/Math.PI*180+90}else Ee=null}return ye=Be,Se=Ue,we=Me.i,_e=me.uid,Ee}h.getMarkerAngle=ke},90998:function(G,V,e){var y=e(95616),P=e(39898).round,o="M0,0Z",L=Math.sqrt(2),M=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;G.exports={circle:{n:0,f:function(g,f,T){if(t(f))return o;var h=P(g,2),s="M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z";return T?l(f,T,s):s}},square:{n:1,f:function(g,f,T){if(t(f))return o;var h=P(g,2);return l(f,T,"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")}},diamond:{n:2,f:function(g,f,T){if(t(f))return o;var h=P(g*1.3,2);return l(f,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"Z")}},cross:{n:3,f:function(g,f,T){if(t(f))return o;var h=P(g*.4,2),s=P(g*1.2,2);return l(f,T,"M"+s+","+h+"H"+h+"V"+s+"H-"+h+"V"+h+"H-"+s+"V-"+h+"H-"+h+"V-"+s+"H"+h+"V-"+h+"H"+s+"Z")}},x:{n:4,f:function(g,f,T){if(t(f))return o;var h=P(g*.8/L,2),s="l"+h+","+h,d="l"+h+",-"+h,A="l-"+h+",-"+h,w="l-"+h+","+h;return l(f,T,"M0,"+h+s+d+A+d+A+w+A+w+s+w+s+"Z")}},"triangle-up":{n:5,f:function(g,f,T){if(t(f))return o;var h=P(g*2/M,2),s=P(g/2,2),d=P(g,2);return l(f,T,"M-"+h+","+s+"H"+h+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(g,f,T){if(t(f))return o;var h=P(g*2/M,2),s=P(g/2,2),d=P(g,2);return l(f,T,"M-"+h+",-"+s+"H"+h+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(g,f,T){if(t(f))return o;var h=P(g*2/M,2),s=P(g/2,2),d=P(g,2);return l(f,T,"M"+s+",-"+h+"V"+h+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(g,f,T){if(t(f))return o;var h=P(g*2/M,2),s=P(g/2,2),d=P(g,2);return l(f,T,"M-"+s+",-"+h+"V"+h+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(g,f,T){if(t(f))return o;var h=P(g*.6,2),s=P(g*1.2,2);return l(f,T,"M-"+s+",-"+h+"H"+h+"V"+s+"Z")}},"triangle-se":{n:10,f:function(g,f,T){if(t(f))return o;var h=P(g*.6,2),s=P(g*1.2,2);return l(f,T,"M"+h+",-"+s+"V"+h+"H-"+s+"Z")}},"triangle-sw":{n:11,f:function(g,f,T){if(t(f))return o;var h=P(g*.6,2),s=P(g*1.2,2);return l(f,T,"M"+s+","+h+"H-"+h+"V-"+s+"Z")}},"triangle-nw":{n:12,f:function(g,f,T){if(t(f))return o;var h=P(g*.6,2),s=P(g*1.2,2);return l(f,T,"M-"+h+","+s+"V-"+h+"H"+s+"Z")}},pentagon:{n:13,f:function(g,f,T){if(t(f))return o;var h=P(g*.951,2),s=P(g*.588,2),d=P(-g,2),A=P(g*-.309,2),w=P(g*.809,2);return l(f,T,"M"+h+","+A+"L"+s+","+w+"H-"+s+"L-"+h+","+A+"L0,"+d+"Z")}},hexagon:{n:14,f:function(g,f,T){if(t(f))return o;var h=P(g,2),s=P(g/2,2),d=P(g*M/2,2);return l(f,T,"M"+d+",-"+s+"V"+s+"L0,"+h+"L-"+d+","+s+"V-"+s+"L0,-"+h+"Z")}},hexagon2:{n:15,f:function(g,f,T){if(t(f))return o;var h=P(g,2),s=P(g/2,2),d=P(g*M/2,2);return l(f,T,"M-"+s+","+d+"H"+s+"L"+h+",0L"+s+",-"+d+"H-"+s+"L-"+h+",0Z")}},octagon:{n:16,f:function(g,f,T){if(t(f))return o;var h=P(g*.924,2),s=P(g*.383,2);return l(f,T,"M-"+s+",-"+h+"H"+s+"L"+h+",-"+s+"V"+s+"L"+s+","+h+"H-"+s+"L-"+h+","+s+"V-"+s+"Z")}},star:{n:17,f:function(g,f,T){if(t(f))return o;var h=g*1.4,s=P(h*.225,2),d=P(h*.951,2),A=P(h*.363,2),w=P(h*.588,2),C=P(-h,2),b=P(h*-.309,2),S=P(h*.118,2),m=P(h*.809,2),a=P(h*.382,2);return l(f,T,"M"+s+","+b+"H"+d+"L"+A+","+S+"L"+w+","+m+"L0,"+a+"L-"+w+","+m+"L-"+A+","+S+"L-"+d+","+b+"H-"+s+"L0,"+C+"Z")}},hexagram:{n:18,f:function(g,f,T){if(t(f))return o;var h=P(g*.66,2),s=P(g*.38,2),d=P(g*.76,2);return l(f,T,"M-"+d+",0l-"+s+",-"+h+"h"+d+"l"+s+",-"+h+"l"+s+","+h+"h"+d+"l-"+s+","+h+"l"+s+","+h+"h-"+d+"l-"+s+","+h+"l-"+s+",-"+h+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(g,f,T){if(t(f))return o;var h=P(g*M*.8,2),s=P(g*.8,2),d=P(g*1.6,2),A=P(g*4,2),w="A "+A+","+A+" 0 0 1 ";return l(f,T,"M-"+h+","+s+w+h+","+s+w+"0,-"+d+w+"-"+h+","+s+"Z")}},"star-triangle-down":{n:20,f:function(g,f,T){if(t(f))return o;var h=P(g*M*.8,2),s=P(g*.8,2),d=P(g*1.6,2),A=P(g*4,2),w="A "+A+","+A+" 0 0 1 ";return l(f,T,"M"+h+",-"+s+w+"-"+h+",-"+s+w+"0,"+d+w+h+",-"+s+"Z")}},"star-square":{n:21,f:function(g,f,T){if(t(f))return o;var h=P(g*1.1,2),s=P(g*2,2),d="A "+s+","+s+" 0 0 1 ";return l(f,T,"M-"+h+",-"+h+d+"-"+h+","+h+d+h+","+h+d+h+",-"+h+d+"-"+h+",-"+h+"Z")}},"star-diamond":{n:22,f:function(g,f,T){if(t(f))return o;var h=P(g*1.4,2),s=P(g*1.9,2),d="A "+s+","+s+" 0 0 1 ";return l(f,T,"M-"+h+",0"+d+"0,"+h+d+h+",0"+d+"0,-"+h+d+"-"+h+",0Z")}},"diamond-tall":{n:23,f:function(g,f,T){if(t(f))return o;var h=P(g*.7,2),s=P(g*1.4,2);return l(f,T,"M0,"+s+"L"+h+",0L0,-"+s+"L-"+h+",0Z")}},"diamond-wide":{n:24,f:function(g,f,T){if(t(f))return o;var h=P(g*1.4,2),s=P(g*.7,2);return l(f,T,"M0,"+s+"L"+h+",0L0,-"+s+"L-"+h+",0Z")}},hourglass:{n:25,f:function(g,f,T){if(t(f))return o;var h=P(g,2);return l(f,T,"M"+h+","+h+"H-"+h+"L"+h+",-"+h+"H-"+h+"Z")},noDot:!0},bowtie:{n:26,f:function(g,f,T){if(t(f))return o;var h=P(g,2);return l(f,T,"M"+h+","+h+"V-"+h+"L-"+h+","+h+"V-"+h+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,f,T){if(t(f))return o;var h=P(g,2);return l(f,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,f,T){if(t(f))return o;var h=P(g,2),s=P(g/L,2);return l(f,T,"M"+s+","+s+"L-"+s+",-"+s+"M"+s+",-"+s+"L-"+s+","+s+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,f,T){if(t(f))return o;var h=P(g,2);return l(f,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,f,T){if(t(f))return o;var h=P(g,2);return l(f,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,f,T){if(t(f))return o;var h=P(g*1.3,2);return l(f,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM0,-"+h+"V"+h+"M-"+h+",0H"+h)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,f,T){if(t(f))return o;var h=P(g*1.3,2),s=P(g*.65,2);return l(f,T,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM-"+s+",-"+s+"L"+s+","+s+"M-"+s+","+s+"L"+s+",-"+s)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,f,T){if(t(f))return o;var h=P(g*1.4,2);return l(f,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,f,T){if(t(f))return o;var h=P(g,2);return l(f,T,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,f,T){if(t(f))return o;var h=P(g*1.2,2),s=P(g*.85,2);return l(f,T,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+s+","+s+"L-"+s+",-"+s+"M"+s+",-"+s+"L-"+s+","+s)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,f,T){if(t(f))return o;var h=P(g/2,2),s=P(g,2);return l(f,T,"M"+h+","+s+"V-"+s+"M"+(h-s)+",-"+s+"V"+s+"M"+s+","+h+"H-"+s+"M-"+s+","+(h-s)+"H"+s)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,f,T){if(t(f))return o;var h=P(g*1.2,2),s=P(g*1.6,2),d=P(g*.8,2);return l(f,T,"M-"+h+","+d+"L0,0M"+h+","+d+"L0,0M0,-"+s+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,f,T){if(t(f))return o;var h=P(g*1.2,2),s=P(g*1.6,2),d=P(g*.8,2);return l(f,T,"M-"+h+",-"+d+"L0,0M"+h+",-"+d+"L0,0M0,"+s+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,f,T){if(t(f))return o;var h=P(g*1.2,2),s=P(g*1.6,2),d=P(g*.8,2);return l(f,T,"M"+d+","+h+"L0,0M"+d+",-"+h+"L0,0M-"+s+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,f,T){if(t(f))return o;var h=P(g*1.2,2),s=P(g*1.6,2),d=P(g*.8,2);return l(f,T,"M-"+d+","+h+"L0,0M-"+d+",-"+h+"L0,0M"+s+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,f,T){if(t(f))return o;var h=P(g*1.4,2);return l(f,T,"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,f,T){if(t(f))return o;var h=P(g*1.4,2);return l(f,T,"M0,"+h+"V-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,f,T){if(t(f))return o;var h=P(g,2);return l(f,T,"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,f,T){if(t(f))return o;var h=P(g,2);return l(f,T,"M"+h+","+h+"L-"+h+",-"+h)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,f,T){if(t(f))return o;var h=P(g,2),s=P(g*2,2);return l(f,T,"M0,0L-"+h+","+s+"H"+h+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,f,T){if(t(f))return o;var h=P(g,2),s=P(g*2,2);return l(f,T,"M0,0L-"+h+",-"+s+"H"+h+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,f,T){if(t(f))return o;var h=P(g*2,2),s=P(g,2);return l(f,T,"M0,0L"+h+",-"+s+"V"+s+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,f,T){if(t(f))return o;var h=P(g*2,2),s=P(g,2);return l(f,T,"M0,0L-"+h+",-"+s+"V"+s+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,f,T){if(t(f))return o;var h=P(g,2),s=P(g*2,2);return l(f,T,"M-"+h+",0H"+h+"M0,0L-"+h+","+s+"H"+h+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,f,T){if(t(f))return o;var h=P(g,2),s=P(g*2,2);return l(f,T,"M-"+h+",0H"+h+"M0,0L-"+h+",-"+s+"H"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,f,T){if(t(f))return o;var h=P(g*2,2),s=P(g,2);return l(f,T,"M0,-"+s+"V"+s+"M0,0L"+h+",-"+s+"V"+s+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,f,T){if(t(f))return o;var h=P(g*2,2),s=P(g,2);return l(f,T,"M0,-"+s+"V"+s+"M0,0L-"+h+",-"+s+"V"+s+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,f,T){if(t(f))return o;var h=v/2.5,s=2*g*p(h),d=2*g*r(h);return l(f,T,"M0,0L"+-s+","+d+"L"+s+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,f,T){if(t(f))return o;var h=v/4,s=2*g*p(h),d=2*g*r(h);return l(f,T,"M0,0L"+-s+","+d+"A "+2*g+","+2*g+" 0 0 1 "+s+","+d+"Z")},backoff:.4,noDot:!0}};function t(g){return g===null}var i,n,c,u;function l(g,f,T){if((!g||g%360===0)&&!f)return T;if(c===g&&u===f&&i===T)return n;c=g,u=f,i=T;function h(I,N){var F=p(I),z=r(I),O=N[0],_=N[1]+(f||0);return[O*F-_*z,O*z+_*F]}for(var s=g/180*v,d=0,A=0,w=y(T),C="",b=0;b<w.length;b++){var S=w[b],m=S[0],a=d,E=A;if(m==="M"||m==="L")d=+S[1],A=+S[2];else if(m==="m"||m==="l")d+=+S[1],A+=+S[2];else if(m==="H")d=+S[1];else if(m==="h")d+=+S[1];else if(m==="V")A=+S[1];else if(m==="v")A+=+S[1];else if(m==="A"){d=+S[1],A=+S[2];var x=h(s,[+S[6],+S[7]]);S[6]=x[0],S[7]=x[1],S[3]=+S[3]+g}(m==="H"||m==="V")&&(m="L"),(m==="h"||m==="v")&&(m="l"),(m==="m"||m==="l")&&(d-=a,A-=E);var k=h(s,[d,A]);(m==="H"||m==="V")&&(m="L"),(m==="M"||m==="L"||m==="m"||m==="l")&&(S[1]=k[0],S[2]=k[1]),S[0]=m,C+=S[0]+S.slice(1).join(",")}return n=C,C}},25673:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(G,V,e){var y=e(92770),P=e(73972),o=e(89298),L=e(71828),M=e(45827);G.exports=function(r){for(var t=r.calcdata,i=0;i<t.length;i++){var n=t[i],c=n[0].trace;if(c.visible===!0&&P.traceIs(c,"errorBarsOK")){var u=o.getFromId(r,c.xaxis),l=o.getFromId(r,c.yaxis);v(n,c,u,"x"),v(n,c,l,"y")}}};function v(p,r,t,i){var n=r["error_"+i]||{},c=n.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(c){for(var l=M(n),g=0;g<p.length;g++){var f=p[g],T=f.i;if(T===void 0)T=g;else if(T===null)continue;var h=f[i];if(y(t.c2l(h))){var s=l(h,T);if(y(s[0])&&y(s[1])){var d=f[i+"s"]=h-s[0],A=f[i+"h"]=h+s[1];u.push(d,A)}}}var w=t._id,C=r._extremes[w],b=o.findExtremes(t,u,L.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(b.min),C.max=C.max.concat(b.max)}}},45827:function(G){G.exports=function(y){var P=y.type,o=y.symmetric;if(P==="data"){var L=y.array||[];if(o)return function(t,i){var n=+L[i];return[n,n]};var M=y.arrayminus||[];return function(t,i){var n=+L[i],c=+M[i];return!isNaN(n)||!isNaN(c)?[c||0,n||0]:[NaN,NaN]}}else{var v=V(P,y.value),p=V(P,y.valueminus);return o||y.valueminus===void 0?function(t){var i=v(t);return[i,i]}:function(t){return[p(t),v(t)]}}};function V(e,y){if(e==="percent")return function(P){return Math.abs(P*y/100)};if(e==="constant")return function(){return Math.abs(y)};if(e==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}},97587:function(G,V,e){var y=e(92770),P=e(73972),o=e(71828),L=e(44467),M=e(25673);G.exports=function(v,p,r,t){var i="error_"+t.axis,n=L.newContainer(p,i),c=v[i]||{};function u(d,A){return o.coerce(c,n,M,d,A)}var l=c.array!==void 0||c.value!==void 0||c.type==="sqrt",g=u("visible",l);if(g!==!1){var f=u("type","array"in c?"data":"percent"),T=!0;f!=="sqrt"&&(T=u("symmetric",!((f==="data"?"arrayminus":"valueminus")in c))),f==="data"?(u("array"),u("traceref"),T||(u("arrayminus"),u("tracerefminus"))):(f==="percent"||f==="constant")&&(u("value"),T||u("valueminus"));var h="copy_"+t.inherit+"style";if(t.inherit){var s=p["error_"+t.inherit];(s||{}).visible&&u(h,!(c.color||y(c.thickness)||y(c.width)))}(!t.inherit||!n[h])&&(u("color",r),u("thickness"),u("width",P.traceIs(p,"gl3d")?0:4))}}},37369:function(G,V,e){var y=e(71828),P=e(30962).overrideAll,o=e(25673),L={error_x:y.extendFlat({},o),error_y:y.extendFlat({},o)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var M={error_x:y.extendFlat({},o),error_y:y.extendFlat({},o),error_z:y.extendFlat({},o)};delete M.error_x.copy_ystyle,delete M.error_y.copy_ystyle,delete M.error_z.copy_ystyle,delete M.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:P(M,"calc","nested"),scattergl:P(L,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},19398:function(G,V,e){var y=e(39898),P=e(92770),o=e(91424),L=e(34098);G.exports=function(p,r,t,i){var n,c=t.xaxis,u=t.yaxis,l=i&&i.duration>0,g=p._context.staticPlot;r.each(function(f){var T=f[0].trace,h=T.error_x||{},s=T.error_y||{},d;T.ids&&(d=function(b){return b.id});var A=L.hasMarkers(T)&&T.marker.maxdisplayed>0;!s.visible&&!h.visible&&(f=[]);var w=y.select(this).selectAll("g.errorbar").data(f,d);if(w.exit().remove(),!!f.length){h.visible||w.selectAll("path.xerror").remove(),s.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var C=w.enter().append("g").classed("errorbar",!0);l&&C.style("opacity",0).transition().duration(i.duration).style("opacity",1),o.setClipUrl(w,t.layerClipId,p),w.each(function(b){var S=y.select(this),m=M(b,c,u);if(!(A&&!b.vis)){var a,E=S.select("path.yerror");if(s.visible&&P(m.x)&&P(m.yh)&&P(m.ys)){var x=s.width;a="M"+(m.x-x)+","+m.yh+"h"+2*x+"m-"+x+",0V"+m.ys,m.noYS||(a+="m-"+x+",0h"+2*x),n=!E.size(),n?E=S.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("yerror",!0):l&&(E=E.transition().duration(i.duration).ease(i.easing)),E.attr("d",a)}else E.remove();var k=S.select("path.xerror");if(h.visible&&P(m.y)&&P(m.xh)&&P(m.xs)){var I=(h.copy_ystyle?s:h).width;a="M"+m.xh+","+(m.y-I)+"v"+2*I+"m0,-"+I+"H"+m.xs,m.noXS||(a+="m0,-"+I+"v"+2*I),n=!k.size(),n?k=S.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("xerror",!0):l&&(k=k.transition().duration(i.duration).ease(i.easing)),k.attr("d",a)}else k.remove()}})}})};function M(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),P(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),P(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},62662:function(G,V,e){var y=e(39898),P=e(7901);G.exports=function(L){L.each(function(M){var v=M[0].trace,p=v.error_y||{},r=v.error_x||{},t=y.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(P.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(P.stroke,r.color)})}},77914:function(G,V,e){var y=e(41940),P=e(528).hoverlabel,o=e(1426).extendFlat;G.exports={hoverlabel:{bgcolor:o({},P.bgcolor,{arrayOk:!0}),bordercolor:o({},P.bordercolor,{arrayOk:!0}),font:y({arrayOk:!0,editType:"none"}),align:o({},P.align,{arrayOk:!0}),namelength:o({},P.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(G,V,e){var y=e(71828),P=e(73972);G.exports=function(M){var v=M.calcdata,p=M._fullLayout;function r(u){return function(l){return y.coerceHoverinfo({hoverinfo:l},{_module:u._module},p)}}for(var t=0;t<v.length;t++){var i=v[t],n=i[0].trace;if(!P.traceIs(n,"pie-like")){var c=P.traceIs(n,"2dMap")?o:y.fillArray;c(n.hoverinfo,i,"hi",r(n)),n.hovertemplate&&c(n.hovertemplate,i,"ht"),n.hoverlabel&&(c(n.hoverlabel.bgcolor,i,"hbg"),c(n.hoverlabel.bordercolor,i,"hbc"),c(n.hoverlabel.font.size,i,"hts"),c(n.hoverlabel.font.color,i,"htc"),c(n.hoverlabel.font.family,i,"htf"),c(n.hoverlabel.namelength,i,"hnl"),c(n.hoverlabel.align,i,"hta"))}}};function o(L,M,v,p){p=p||y.identity,Array.isArray(L)&&(M[0][v]=p(L))}},75914:function(G,V,e){var y=e(73972),P=e(88335).hover;G.exports=function(L,M,v){var p=y.getComponentMethod("annotations","onClick")(L,L._hoverdata);v!==void 0&&P(L,M,v,!0);function r(){L.emit("plotly_click",{points:L._hoverdata,event:M})}L._hoverdata&&M&&M.target&&(p&&p.then?p.then(r):r(),M.stopImmediatePropagation&&M.stopImmediatePropagation())}},26675:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(G,V,e){var y=e(71828),P=e(77914),o=e(38048);G.exports=function(M,v,p,r){function t(n,c){return y.coerce(M,v,P,n,c)}var i=y.extendFlat({},r.hoverlabel);v.hovertemplate&&(i.namelength=-1),o(M,v,t,i)}},23469:function(G,V,e){var y=e(71828);V.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},V.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],i=p.yaxes||[],n=0;n<t.length;n++)for(var c=0;c<i.length;c++)if(r.indexOf(t[n]+i[c])!==-1)return!0;return!1}return r.indexOf(V.getSubplot(p))!==-1},V.flat=function(p,r){for(var t=new Array(p.length),i=0;i<p.length;i++)t[i]=r;return t},V.p2c=function(p,r){for(var t=new Array(p.length),i=0;i<p.length;i++)t[i]=p[i].p2c(r);return t},V.getDistanceFunction=function(p,r,t,i){return p==="closest"?i||V.quadrature(r,t):p.charAt(0)==="x"?r:t},V.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var i=0;i<p.length;i++){var n=r(p[i]);n<=t.distance&&(t.index=i,t.distance=n)}return t},V.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},V.quadrature=function(p,r){return function(t){var i=p(t),n=r(t);return Math.sqrt(i*i+n*n)}},V.makeEventData=function(p,r,t){var i="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:i};if(r._indexToPoints){var c=r._indexToPoints[i];c.length===1?n.pointIndex=c[0]:n.pointIndices=c}else n.pointIndex=i;return r._module.eventData?n=r._module.eventData(n,p,r,t,i):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),V.appendArrayPointValue(n,r,i),n},V.appendArrayPointValue=function(p,r,t){var i=r._arrayAttrs;if(i)for(var n=0;n<i.length;n++){var c=i[n],u=o(c);if(p[u]===void 0){var l=y.nestedProperty(r,c).get(),g=L(l,t);g!==void 0&&(p[u]=g)}}},V.appendArrayMultiPointValues=function(p,r,t){var i=r._arrayAttrs;if(i)for(var n=0;n<i.length;n++){var c=i[n],u=o(c);if(p[u]===void 0){for(var l=y.nestedProperty(r,c).get(),g=new Array(t.length),f=0;f<t.length;f++)g[f]=L(l,t[f]);p[u]=g}}};var P={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(p){return P[p]||p}function L(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var M={x:!0,y:!0},v={"x unified":!0,"y unified":!0};V.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},V.isXYhover=function(p){return typeof p!="string"?!1:!!M[p]}},88335:function(G,V,e){var y=e(39898),P=e(92770),o=e(84267),L=e(71828),M=L.strTranslate,v=L.strRotate,p=e(11086),r=e(63893),t=e(39918),i=e(91424),n=e(7901),c=e(28569),u=e(89298),l=e(73972),g=e(23469),f=e(26675),T=e(99017),h=e(43969),s=f.YANGLE,d=Math.PI*s/180,A=1/Math.sin(d),w=Math.cos(d),C=Math.sin(d),b=f.HOVERARROWSIZE,S=f.HOVERTEXTPAD,m={box:!0,ohlc:!0,violin:!0,candlestick:!0},a={scatter:!0,scattergl:!0,splom:!0};V.hover=function(oe,Q,X,se){oe=L.getGraphDiv(oe);var ne=Q.target;L.throttle(oe._fullLayout._uid+f.HOVERID,f.HOVERMINTIME,function(){E(oe,Q,X,se,ne)})},V.loneHover=function(oe,Q){var X=!0;Array.isArray(oe)||(X=!1,oe=[oe]);var se=Q.gd,ne=Y(se),fe=ae(se),ye=oe.map(function(Ue){var De=Ue._x0||Ue.x0||Ue.x||0,He=Ue._x1||Ue.x1||Ue.x||0,nt=Ue._y0||Ue.y0||Ue.y||0,lt=Ue._y1||Ue.y1||Ue.y||0,$e=Ue.eventData;if($e){var qe=Math.min(De,He),ct=Math.max(De,He),dt=Math.min(nt,lt),gt=Math.max(nt,lt),At=Ue.trace;if(l.traceIs(At,"gl3d")){var Rt=se._fullLayout[At.scene]._scene.container,Vt=Rt.offsetLeft,Je=Rt.offsetTop;qe+=Vt,ct+=Vt,dt+=Je,gt+=Je}$e.bbox={x0:qe+fe,x1:ct+fe,y0:dt+ne,y1:gt+ne},Q.inOut_bbox&&Q.inOut_bbox.push($e.bbox)}else $e=!1;return{color:Ue.color||n.defaultLine,x0:Ue.x0||Ue.x||0,x1:Ue.x1||Ue.x||0,y0:Ue.y0||Ue.y||0,y1:Ue.y1||Ue.y||0,xLabel:Ue.xLabel,yLabel:Ue.yLabel,zLabel:Ue.zLabel,text:Ue.text,name:Ue.name,idealAlign:Ue.idealAlign,borderColor:Ue.borderColor,fontFamily:Ue.fontFamily,fontSize:Ue.fontSize,fontColor:Ue.fontColor,nameLength:Ue.nameLength,textAlign:Ue.textAlign,trace:Ue.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ue.hovertemplate||!1,hovertemplateLabels:Ue.hovertemplateLabels||!1,eventData:$e}}),Se=!1,we=I(ye,{gd:se,hovermode:"closest",rotateLabels:Se,bgColor:Q.bgColor||n.background,container:y.select(Q.container),outerContainer:Q.outerContainer||Q.container}),_e=we.hoverLabels,ke=5,Me=0,me=0;_e.sort(function(Ue,De){return Ue.y0-De.y0}).each(function(Ue,De){var He=Ue.y0-Ue.by/2;He-ke<Me?Ue.offset=Me-He+ke:Ue.offset=0,Me=He+Ue.by+Ue.offset,De===Q.anchorIndex&&(me=Ue.offset)}).each(function(Ue){Ue.offset-=me});var Ee=se._fullLayout._invScaleX,Be=se._fullLayout._invScaleY;return _(_e,Se,Ee,Be),X?_e:_e.node()};function E(q,oe,Q,X,se){Q||(Q="xy");var ne=Array.isArray(Q)?Q:[Q],fe=q._fullLayout,ye=fe._plots||[],Se=ye[Q],we=fe._has("cartesian");if(Se){var _e=Se.overlays.map(function(Er){return Er.id});ne=ne.concat(_e)}for(var ke=ne.length,Me=new Array(ke),me=new Array(ke),Ee=!1,Be=0;Be<ke;Be++){var Ue=ne[Be];if(ye[Ue])Ee=!0,Me[Be]=ye[Ue].xaxis,me[Be]=ye[Ue].yaxis;else if(fe[Ue]&&fe[Ue]._subplot){var De=fe[Ue]._subplot;Me[Be]=De.xaxis,me[Be]=De.yaxis}else{L.warn("Unrecognized subplot: "+Ue);return}}var He=oe.hovermode||fe.hovermode;if(He&&!Ee&&(He="closest"),["x","y","closest","x unified","y unified"].indexOf(He)===-1||!q.calcdata||q.querySelector(".zoombox")||q._dragging)return c.unhoverRaw(q,oe);var nt=fe.hoverdistance;nt===-1&&(nt=1/0);var lt=fe.spikedistance;lt===-1&&(lt=1/0);var $e=[],qe=[],ct,dt,gt,At,Rt,Vt,Je,Ve,Ie,Oe,Le,xe,pe,Ae={hLinePoint:null,vLinePoint:null},Te=!1;if(Array.isArray(oe))for(He="array",gt=0;gt<oe.length;gt++)Rt=q.calcdata[oe[gt].curveNumber||0],Rt&&(Vt=Rt[0].trace,Rt[0].trace.hoverinfo!=="skip"&&(qe.push(Rt),Vt.orientation==="h"&&(Te=!0)));else{for(At=0;At<q.calcdata.length;At++)Rt=q.calcdata[At],Vt=Rt[0].trace,Vt.hoverinfo!=="skip"&&g.isTraceInSubplots(Vt,ne)&&(qe.push(Rt),Vt.orientation==="h"&&(Te=!0));var Ne=!se,Ye,et;if(Ne)"xpx"in oe?Ye=oe.xpx:Ye=Me[0]._length/2,"ypx"in oe?et=oe.ypx:et=me[0]._length/2;else{if(p.triggerHandler(q,"plotly_beforehover",oe)===!1)return;var ft=se.getBoundingClientRect();Ye=oe.clientX-ft.left,et=oe.clientY-ft.top,fe._calcInverseTransform(q);var pt=L.apply3DTransform(fe._invTransform)(Ye,et);if(Ye=pt[0],et=pt[1],Ye<0||Ye>Me[0]._length||et<0||et>me[0]._length)return c.unhoverRaw(q,oe)}if(oe.pointerX=Ye+Me[0]._offset,oe.pointerY=et+me[0]._offset,"xval"in oe?ct=g.flat(ne,oe.xval):ct=g.p2c(Me,Ye),"yval"in oe?dt=g.flat(ne,oe.yval):dt=g.p2c(me,et),!P(ct[0])||!P(dt[0]))return L.warn("Fx.hover failed",oe,q),c.unhoverRaw(q,oe)}var Yt=1/0;function Jt(Er,Wr){for(At=0;At<qe.length;At++)if(Rt=qe[At],!(!Rt||!Rt[0]||!Rt[0].trace)&&(Vt=Rt[0].trace,!(Vt.visible!==!0||Vt._length===0)&&["carpet","contourcarpet"].indexOf(Vt._module.name)===-1)){if(Vt.type==="splom"?(Ve=0,Je=ne[Ve]):(Je=g.getSubplot(Vt),Ve=ne.indexOf(Je)),Ie=He,g.isUnifiedHover(Ie)&&(Ie=Ie.charAt(0)),xe={cd:Rt,trace:Vt,xa:Me[Ve],ya:me[Ve],maxHoverDistance:nt,maxSpikeDistance:lt,index:!1,distance:Math.min(Yt,nt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Vt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},fe[Je]&&(xe.subplot=fe[Je]._subplot),fe._splomScenes&&fe._splomScenes[Vt.uid]&&(xe.scene=fe._splomScenes[Vt.uid]),pe=$e.length,Ie==="array"){var Hr=oe[At];"pointNumber"in Hr?(xe.index=Hr.pointNumber,Ie="closest"):(Ie="","xval"in Hr&&(Oe=Hr.xval,Ie="x"),"yval"in Hr&&(Le=Hr.yval,Ie=Ie?"closest":"y"))}else Er!==void 0&&Wr!==void 0?(Oe=Er,Le=Wr):(Oe=ct[Ve],Le=dt[Ve]);if(nt!==0)if(Vt._module&&Vt._module.hoverPoints){var an=Vt._module.hoverPoints(xe,Oe,Le,Ie,{finiteRange:!0,hoverLayer:fe._hoverlayer});if(an)for(var dn,gn=0;gn<an.length;gn++)dn=an[gn],P(dn.x0)&&P(dn.y0)&&$e.push(B(dn,He))}else L.log("Unrecognized trace type in hover:",Vt);if(He==="closest"&&$e.length>pe&&($e.splice(0,pe),Yt=$e[0].distance),we&&lt!==0&&$e.length===0){xe.distance=lt,xe.index=!1;var Cn=Vt._module.hoverPoints(xe,Oe,Le,"closest",{hoverLayer:fe._hoverlayer});if(Cn&&(Cn=Cn.filter(function($n){return $n.spikeDistance<=lt})),Cn&&Cn.length){var _n,sa=Cn.filter(function($n){return $n.xa.showspikes&&$n.xa.spikesnap!=="hovered data"});if(sa.length){var Qn=sa[0];P(Qn.x0)&&P(Qn.y0)&&(_n=_t(Qn),(!Ae.vLinePoint||Ae.vLinePoint.spikeDistance>_n.spikeDistance)&&(Ae.vLinePoint=_n))}var ea=Cn.filter(function($n){return $n.ya.showspikes&&$n.ya.spikesnap!=="hovered data"});if(ea.length){var Zn=ea[0];P(Zn.x0)&&P(Zn.y0)&&(_n=_t(Zn),(!Ae.hLinePoint||Ae.hLinePoint.spikeDistance>_n.spikeDistance)&&(Ae.hLinePoint=_n))}}}}}Jt();function Tt(Er,Wr,Hr){for(var an=null,dn=1/0,gn,Cn=0;Cn<Er.length;Cn++)gn=Er[Cn].spikeDistance,Hr&&Cn===0&&(gn=-1/0),gn<=dn&&gn<=Wr&&(an=Er[Cn],dn=gn);return an}function _t(Er){return Er?{xa:Er.xa,ya:Er.ya,x:Er.xSpike!==void 0?Er.xSpike:(Er.x0+Er.x1)/2,y:Er.ySpike!==void 0?Er.ySpike:(Er.y0+Er.y1)/2,distance:Er.distance,spikeDistance:Er.spikeDistance,curveNumber:Er.trace.index,color:Er.color,pointNumber:Er.index}:null}var $t={fullLayout:fe,container:fe._hoverlayer,event:oe},wr=q._spikepoints,yt={vLinePoint:Ae.vLinePoint,hLinePoint:Ae.hLinePoint};q._spikepoints=yt;var jt=function(){$e.sort(function(Er,Wr){return Er.distance-Wr.distance}),$e=ue($e,He)};jt();var Qt=He.charAt(0),gr=(Qt==="x"||Qt==="y")&&$e[0]&&a[$e[0].trace.type];if(we&&lt!==0&&$e.length!==0){var sr=$e.filter(function(Er){return Er.ya.showspikes}),vt=Tt(sr,lt,gr);Ae.hLinePoint=_t(vt);var at=$e.filter(function(Er){return Er.xa.showspikes}),xt=Tt(at,lt,gr);Ae.vLinePoint=_t(xt)}if($e.length===0){var Mt=c.unhoverRaw(q,oe);return we&&(Ae.hLinePoint!==null||Ae.vLinePoint!==null)&&te(wr)&&W(q,Ae,$t),Mt}if(we&&te(wr)&&W(q,Ae,$t),g.isXYhover(Ie)&&$e[0].length!==0&&$e[0].trace.type!=="splom"){var Dt=$e[0];m[Dt.trace.type]?$e=$e.filter(function(Er){return Er.trace.index===Dt.trace.index}):$e=[Dt];var Lt=$e.length,Bt=J("x",Dt,fe),Nt=J("y",Dt,fe);Jt(Bt,Nt);var Xt=[],lr={},fr=0,hr=function(Er){var Wr=m[Er.trace.type]?x(Er):Er.trace.index;if(!lr[Wr])fr++,lr[Wr]=fr,Xt.push(Er);else{var Hr=lr[Wr]-1,an=Xt[Hr];Hr>0&&Math.abs(Er.distance)<Math.abs(an.distance)&&(Xt[Hr]=Er)}},We;for(We=0;We<Lt;We++)hr($e[We]);for(We=$e.length-1;We>Lt-1;We--)hr($e[We]);$e=Xt,jt()}var Ge=q._hoverdata,kt=[],It=Y(q),Zt=ae(q);for(gt=0;gt<$e.length;gt++){var rr=$e[gt],ur=g.makeEventData(rr,rr.trace,rr.cd);if(rr.hovertemplate!==!1){var er=!1;rr.cd[rr.index]&&rr.cd[rr.index].ht&&(er=rr.cd[rr.index].ht),rr.hovertemplate=er||rr.trace.hovertemplate||!1}if(rr.xa&&rr.ya){var zt=rr.x0+rr.xa._offset,vr=rr.x1+rr.xa._offset,yr=rr.y0+rr.ya._offset,pr=rr.y1+rr.ya._offset,cr=Math.min(zt,vr),Ur=Math.max(zt,vr),kr=Math.min(yr,pr),Rr=Math.max(yr,pr);ur.bbox={x0:cr+Zt,x1:Ur+Zt,y0:kr+It,y1:Rr+It}}rr.eventData=[ur],kt.push(ur)}q._hoverdata=kt;var vn=He==="y"&&(qe.length>1||$e.length>1)||He==="closest"&&Te&&$e.length>1,tn=n.combine(fe.plot_bgcolor||n.background,fe.paper_bgcolor),Bn=I($e,{gd:q,hovermode:He,rotateLabels:vn,bgColor:tn,container:fe._hoverlayer,outerContainer:fe._paper.node(),commonLabelOpts:fe.hoverlabel,hoverdistance:fe.hoverdistance}),xn=Bn.hoverLabels;if(g.isUnifiedHover(He)||(F(xn,vn,fe,Bn.commonLabelBoundingBox),_(xn,vn,fe._invScaleX,fe._invScaleY)),se&&se.tagName){var Mr=l.getComponentMethod("annotations","hasClickToShow")(q,kt);t(y.select(se),Mr?"pointer":"")}!se||X||!$(q,oe,Ge)||(Ge&&q.emit("plotly_unhover",{event:oe,points:Ge}),q.emit("plotly_hover",{event:oe,points:q._hoverdata,xaxes:Me,yaxes:me,xvals:ct,yvals:dt}))}function x(q){return[q.trace.index,q.index,q.x0,q.y0,q.name,q.attr,q.xa?q.xa._id:"",q.ya?q.ya._id:""].join(",")}var k=/<extra>([\s\S]*)<\/extra>/;function I(q,oe){var Q=oe.gd,X=Q._fullLayout,se=oe.hovermode,ne=oe.rotateLabels,fe=oe.bgColor,ye=oe.container,Se=oe.outerContainer,we=oe.commonLabelOpts||{};if(q.length===0)return[[]];var _e=oe.fontFamily||f.HOVERFONT,ke=oe.fontSize||f.HOVERFONTSIZE,Me=q[0],me=Me.xa,Ee=Me.ya,Be=se.charAt(0),Ue=Be+"Label",De=Me[Ue];if(De===void 0&&me.type==="multicategory")for(var He=0;He<q.length&&(De=q[He][Ue],De===void 0);He++);var nt=j(Q,Se),lt=nt.top,$e=nt.width,qe=nt.height,ct=De!==void 0&&Me.distance<=oe.hoverdistance&&(se==="x"||se==="y");if(ct){var dt=!0,gt,At;for(gt=0;gt<q.length;gt++)if(dt&&q[gt].zLabel===void 0&&(dt=!1),At=q[gt].hoverinfo||q[gt].trace.hoverinfo,At){var Rt=Array.isArray(At)?At:At.split("+");if(Rt.indexOf("all")===-1&&Rt.indexOf(se)===-1){ct=!1;break}}dt&&(ct=!1)}var Vt=ye.selectAll("g.axistext").data(ct?[0]:[]);Vt.enter().append("g").classed("axistext",!0),Vt.exit().remove();var Je={minX:0,maxX:0,minY:0,maxY:0};if(Vt.each(function(){var Lt=y.select(this),Bt=L.ensureSingle(Lt,"path","",function(kr){kr.style({"stroke-width":"1px"})}),Nt=L.ensureSingle(Lt,"text","",function(kr){kr.attr("data-notex",1)}),Xt=we.bgcolor||n.defaultLine,lr=we.bordercolor||n.contrast(Xt),fr=n.contrast(Xt),hr={family:we.font.family||_e,size:we.font.size||ke,color:we.font.color||fr};Bt.style({fill:Xt,stroke:lr}),Nt.text(De).call(i.font,hr).call(r.positionText,0,0).call(r.convertToTspans,Q),Lt.attr("transform","");var We=j(Q,Nt.node()),Ge,kt;if(se==="x"){var It=me.side==="top"?"-":"";Nt.attr("text-anchor","middle").call(r.positionText,0,me.side==="top"?lt-We.bottom-b-S:lt-We.top+b+S),Ge=me._offset+(Me.x0+Me.x1)/2,kt=Ee._offset+(me.side==="top"?0:Ee._length);var Zt=We.width/2+S;Ge<Zt?(Ge=Zt,Bt.attr("d","M-"+(Zt-b)+",0L-"+(Zt-b*2)+","+It+b+"H"+Zt+"v"+It+(S*2+We.height)+"H-"+Zt+"V"+It+b+"Z")):Ge>X.width-Zt?(Ge=X.width-Zt,Bt.attr("d","M"+(Zt-b)+",0L"+Zt+","+It+b+"v"+It+(S*2+We.height)+"H-"+Zt+"V"+It+b+"H"+(Zt-b*2)+"Z")):Bt.attr("d","M0,0L"+b+","+It+b+"H"+Zt+"v"+It+(S*2+We.height)+"H-"+Zt+"V"+It+b+"H-"+b+"Z"),Je.minX=Ge-Zt,Je.maxX=Ge+Zt,me.side==="top"?(Je.minY=kt-(S*2+We.height),Je.maxY=kt-S):(Je.minY=kt+S,Je.maxY=kt+(S*2+We.height))}else{var rr,ur,er;Ee.side==="right"?(rr="start",ur=1,er="",Ge=me._offset+me._length):(rr="end",ur=-1,er="-",Ge=me._offset),kt=Ee._offset+(Me.y0+Me.y1)/2,Nt.attr("text-anchor",rr),Bt.attr("d","M0,0L"+er+b+","+b+"V"+(S+We.height/2)+"h"+er+(S*2+We.width)+"V-"+(S+We.height/2)+"H"+er+b+"V-"+b+"Z"),Je.minY=kt-(S+We.height/2),Je.maxY=kt+(S+We.height/2),Ee.side==="right"?(Je.minX=Ge+b,Je.maxX=Ge+b+(S*2+We.width)):(Je.minX=Ge-b-(S*2+We.width),Je.maxX=Ge-b);var zt=We.height/2,vr=lt-We.top-zt,yr="clip"+X._uid+"commonlabel"+Ee._id,pr;if(Ge<We.width+2*S+b){pr="M-"+(b+S)+"-"+zt+"h-"+(We.width-S)+"V"+zt+"h"+(We.width-S)+"Z";var cr=We.width-Ge+S;r.positionText(Nt,cr,vr),rr==="end"&&Nt.selectAll("tspan").each(function(){var kr=y.select(this),Rr=i.tester.append("text").text(kr.text()).call(i.font,hr),vn=j(Q,Rr.node());Math.round(vn.width)<Math.round(We.width)&&kr.attr("x",cr-vn.width),Rr.remove()})}else r.positionText(Nt,ur*(S+b),vr),pr=null;var Ur=X._topclips.selectAll("#"+yr).data(pr?[0]:[]);Ur.enter().append("clipPath").attr("id",yr).append("path"),Ur.exit().remove(),Ur.select("path").attr("d",pr),i.setClipUrl(Nt,pr?yr:null,Q)}Lt.attr("transform",M(Ge,kt))}),g.isUnifiedHover(se)){ye.selectAll("g.hovertext").remove();var Ve=q.filter(function(Lt){return Lt.hoverinfo!=="none"});if(Ve.length===0)return[];var Ie=X.hoverlabel,Oe=Ie.font,Le={showlegend:!0,legend:{title:{text:De,font:Oe},font:Oe,bgcolor:Ie.bgcolor,bordercolor:Ie.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:X.legend?X.legend.traceorder:void 0,orientation:"v"}},xe={font:Oe};T(Le,xe,Q._fullData);var pe=xe.legend;pe.entries=[];for(var Ae=0;Ae<Ve.length;Ae++){var Te=Ve[Ae];if(Te.hoverinfo!=="none"){var Ne=N(Te,!0,se,X,De),Ye=Ne[0],et=Ne[1];Te.name=et,et!==""?Te.text=et+" : "+Ye:Te.text=Ye;var ft=Te.cd[Te.index];ft&&(ft.mc&&(Te.mc=ft.mc),ft.mcc&&(Te.mc=ft.mcc),ft.mlc&&(Te.mlc=ft.mlc),ft.mlcc&&(Te.mlc=ft.mlcc),ft.mlw&&(Te.mlw=ft.mlw),ft.mrc&&(Te.mrc=ft.mrc),ft.dir&&(Te.dir=ft.dir)),Te._distinct=!0,pe.entries.push([Te])}}pe.entries.sort(function(Lt,Bt){return Lt[0].trace.index-Bt[0].trace.index}),pe.layer=ye,pe._inHover=!0,pe._groupTitleFont=Ie.grouptitlefont,h(Q,pe);var pt=ye.select("g.legend"),Yt=j(Q,pt.node()),Jt=Yt.width+2*S,Tt=Yt.height+2*S,_t=Ve[0],$t=(_t.x0+_t.x1)/2,wr=(_t.y0+_t.y1)/2,yt=!(l.traceIs(_t.trace,"bar-like")||l.traceIs(_t.trace,"box-violin")),jt,Qt;Be==="y"?yt?(Qt=wr-S,jt=wr+S):(Qt=Math.min.apply(null,Ve.map(function(Lt){return Math.min(Lt.y0,Lt.y1)})),jt=Math.max.apply(null,Ve.map(function(Lt){return Math.max(Lt.y0,Lt.y1)}))):Qt=jt=L.mean(Ve.map(function(Lt){return(Lt.y0+Lt.y1)/2}))-Tt/2;var gr,sr;Be==="x"?yt?(gr=$t+S,sr=$t-S):(gr=Math.max.apply(null,Ve.map(function(Lt){return Math.max(Lt.x0,Lt.x1)})),sr=Math.min.apply(null,Ve.map(function(Lt){return Math.min(Lt.x0,Lt.x1)}))):gr=sr=L.mean(Ve.map(function(Lt){return(Lt.x0+Lt.x1)/2}))-Jt/2;var vt=me._offset,at=Ee._offset;jt+=at,gr+=vt,sr+=vt-Jt,Qt+=at-Tt;var xt,Mt;return gr+Jt<$e&&gr>=0?xt=gr:sr+Jt<$e&&sr>=0?xt=sr:vt+Jt<$e?xt=vt:gr-$t<$t-sr+Jt?xt=$e-Jt:xt=0,xt+=S,jt+Tt<qe&&jt>=0?Mt=jt:Qt+Tt<qe&&Qt>=0?Mt=Qt:at+Tt<qe?Mt=at:jt-wr<wr-Qt+Tt?Mt=qe-Tt:Mt=0,Mt+=S,pt.attr("transform",M(xt-1,Mt-1)),pt}var Dt=ye.selectAll("g.hovertext").data(q,function(Lt){return x(Lt)});return Dt.enter().append("g").classed("hovertext",!0).each(function(){var Lt=y.select(this);Lt.append("rect").call(n.fill,n.addOpacity(fe,.8)),Lt.append("text").classed("name",!0),Lt.append("path").style("stroke-width","1px"),Lt.append("text").classed("nums",!0).call(i.font,_e,ke)}),Dt.exit().remove(),Dt.each(function(Lt){var Bt=y.select(this).attr("transform",""),Nt=Lt.color;Array.isArray(Nt)&&(Nt=Nt[Lt.eventData[0].pointNumber]);var Xt=Lt.bgcolor||Nt,lr=n.combine(n.opacity(Xt)?Xt:n.defaultLine,fe),fr=n.combine(n.opacity(Nt)?Nt:n.defaultLine,fe),hr=Lt.borderColor||n.contrast(lr),We=N(Lt,ct,se,X,De,Bt),Ge=We[0],kt=We[1],It=Bt.select("text.nums").call(i.font,Lt.fontFamily||_e,Lt.fontSize||ke,Lt.fontColor||hr).text(Ge).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q),Zt=Bt.select("text.name"),rr=0,ur=0;if(kt&&kt!==Ge){Zt.call(i.font,Lt.fontFamily||_e,Lt.fontSize||ke,fr).text(kt).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q);var er=j(Q,Zt.node());rr=er.width+2*S,ur=er.height+2*S}else Zt.remove(),Bt.select("rect").remove();Bt.select("path").style({fill:lr,stroke:hr});var zt=Lt.xa._offset+(Lt.x0+Lt.x1)/2,vr=Lt.ya._offset+(Lt.y0+Lt.y1)/2,yr=Math.abs(Lt.x1-Lt.x0),pr=Math.abs(Lt.y1-Lt.y0),cr=j(Q,It.node()),Ur=cr.width/X._invScaleX,kr=cr.height/X._invScaleY;Lt.ty0=(lt-cr.top)/X._invScaleY,Lt.bx=Ur+2*S,Lt.by=Math.max(kr+2*S,ur),Lt.anchor="start",Lt.txwidth=Ur,Lt.tx2width=rr,Lt.offset=0;var Rr=(Ur+b+S+rr)*X._invScaleX,vn,tn;if(ne)Lt.pos=zt,vn=vr+pr/2+Rr<=qe,tn=vr-pr/2-Rr>=0,(Lt.idealAlign==="top"||!vn)&&tn?(vr-=pr/2,Lt.anchor="end"):vn?(vr+=pr/2,Lt.anchor="start"):Lt.anchor="middle",Lt.crossPos=vr;else{if(Lt.pos=vr,vn=zt+yr/2+Rr<=$e,tn=zt-yr/2-Rr>=0,(Lt.idealAlign==="left"||!vn)&&tn)zt-=yr/2,Lt.anchor="end";else if(vn)zt+=yr/2,Lt.anchor="start";else{Lt.anchor="middle";var Bn=Rr/2,xn=zt+Bn-$e,Mr=zt-Bn;xn>0&&(zt-=xn),Mr<0&&(zt+=-Mr)}Lt.crossPos=zt}It.attr("text-anchor",Lt.anchor),rr&&Zt.attr("text-anchor",Lt.anchor),Bt.attr("transform",M(zt,vr)+(ne?v(s):""))}),{hoverLabels:Dt,commonLabelBoundingBox:Je}}function N(q,oe,Q,X,se,ne){var fe="",ye="";q.nameOverride!==void 0&&(q.name=q.nameOverride),q.name&&(q.trace._meta&&(q.name=L.templateString(q.name,q.trace._meta)),fe=ie(q.name,q.nameLength));var Se=Q.charAt(0),we=Se==="x"?"y":"x";q.zLabel!==void 0?(q.xLabel!==void 0&&(ye+="x: "+q.xLabel+"<br>"),q.yLabel!==void 0&&(ye+="y: "+q.yLabel+"<br>"),q.trace.type!=="choropleth"&&q.trace.type!=="choroplethmapbox"&&(ye+=(ye?"z: ":"")+q.zLabel)):oe&&q[Se+"Label"]===se?ye=q[we+"Label"]||"":q.xLabel===void 0?q.yLabel!==void 0&&q.trace.type!=="scattercarpet"&&(ye=q.yLabel):q.yLabel===void 0?ye=q.xLabel:ye="("+q.xLabel+", "+q.yLabel+")",(q.text||q.text===0)&&!Array.isArray(q.text)&&(ye+=(ye?"<br>":"")+q.text),q.extraText!==void 0&&(ye+=(ye?"<br>":"")+q.extraText),ne&&ye===""&&!q.hovertemplate&&(fe===""&&ne.remove(),ye=fe);var _e=q.hovertemplate||!1;if(_e){var ke=q.hovertemplateLabels||q;q[Se+"Label"]!==se&&(ke[Se+"other"]=ke[Se+"Val"],ke[Se+"otherLabel"]=ke[Se+"Label"]),ye=L.hovertemplateString(_e,ke,X._d3locale,q.eventData[0]||{},q.trace._meta),ye=ye.replace(k,function(Me,me){return fe=ie(me,q.nameLength),""})}return[ye,fe]}function F(q,oe,Q,X){var se=oe?"xa":"ya",ne=oe?"ya":"xa",fe=0,ye=1,Se=q.size(),we=new Array(Se),_e=0,ke=X.minX,Me=X.maxX,me=X.minY,Ee=X.maxY,Be=function(Oe){return Oe*Q._invScaleX},Ue=function(Oe){return Oe*Q._invScaleY};q.each(function(Oe){var Le=Oe[se],xe=Oe[ne],pe=Le._id.charAt(0)==="x",Ae=Le.range;_e===0&&Ae&&Ae[0]>Ae[1]!==pe&&(ye=-1);var Te=0,Ne=pe?Q.width:Q.height;if(Q.hovermode==="x"||Q.hovermode==="y"){var Ye=z(Oe,oe),et=Oe.anchor,ft=et==="end"?-1:1,pt,Yt;if(et==="middle")pt=Oe.crossPos+(pe?Ue(Ye.y-Oe.by/2):Be(Oe.bx/2+Oe.tx2width/2)),Yt=pt+(pe?Ue(Oe.by):Be(Oe.bx));else if(pe)pt=Oe.crossPos+Ue(b+Ye.y)-Ue(Oe.by/2-b),Yt=pt+Ue(Oe.by);else{var Jt=Be(ft*b+Ye.x),Tt=Jt+Be(ft*Oe.bx);pt=Oe.crossPos+Math.min(Jt,Tt),Yt=Oe.crossPos+Math.max(Jt,Tt)}pe?me!==void 0&&Ee!==void 0&&Math.min(Yt,Ee)-Math.max(pt,me)>1&&(xe.side==="left"?(Te=xe._mainLinePosition,Ne=Q.width):Ne=xe._mainLinePosition):ke!==void 0&&Me!==void 0&&Math.min(Yt,Me)-Math.max(pt,ke)>1&&(xe.side==="top"?(Te=xe._mainLinePosition,Ne=Q.height):Ne=xe._mainLinePosition)}we[_e++]=[{datum:Oe,traceIndex:Oe.trace.index,dp:0,pos:Oe.pos,posref:Oe.posref,size:Oe.by*(pe?A:1)/2,pmin:Te,pmax:Ne}]}),we.sort(function(Oe,Le){return Oe[0].posref-Le[0].posref||ye*(Le[0].traceIndex-Oe[0].traceIndex)});var De,He,nt,lt,$e,qe,ct;function dt(Oe){var Le=Oe[0],xe=Oe[Oe.length-1];if(He=Le.pmin-Le.pos-Le.dp+Le.size,nt=xe.pos+xe.dp+xe.size-Le.pmax,He>.01){for($e=Oe.length-1;$e>=0;$e--)Oe[$e].dp+=He;De=!1}if(!(nt<.01)){if(He<-.01){for($e=Oe.length-1;$e>=0;$e--)Oe[$e].dp-=nt;De=!1}if(De){var pe=0;for(lt=0;lt<Oe.length;lt++)qe=Oe[lt],qe.pos+qe.dp+qe.size>Le.pmax&&pe++;for(lt=Oe.length-1;lt>=0&&!(pe<=0);lt--)qe=Oe[lt],qe.pos>Le.pmax-1&&(qe.del=!0,pe--);for(lt=0;lt<Oe.length&&!(pe<=0);lt++)if(qe=Oe[lt],qe.pos<Le.pmin+1)for(qe.del=!0,pe--,nt=qe.size*2,$e=Oe.length-1;$e>=0;$e--)Oe[$e].dp-=nt;for(lt=Oe.length-1;lt>=0&&!(pe<=0);lt--)qe=Oe[lt],qe.pos+qe.dp+qe.size>Le.pmax&&(qe.del=!0,pe--)}}}for(;!De&&fe<=Se;){for(fe++,De=!0,lt=0;lt<we.length-1;){var gt=we[lt],At=we[lt+1],Rt=gt[gt.length-1],Vt=At[0];if(He=Rt.pos+Rt.dp+Rt.size-Vt.pos-Vt.dp+Vt.size,He>.01&&Rt.pmin===Vt.pmin&&Rt.pmax===Vt.pmax){for($e=At.length-1;$e>=0;$e--)At[$e].dp+=He;for(gt.push.apply(gt,At),we.splice(lt+1,1),ct=0,$e=gt.length-1;$e>=0;$e--)ct+=gt[$e].dp;for(nt=ct/gt.length,$e=gt.length-1;$e>=0;$e--)gt[$e].dp-=nt;De=!1}else lt++}we.forEach(dt)}for(lt=we.length-1;lt>=0;lt--){var Je=we[lt];for($e=Je.length-1;$e>=0;$e--){var Ve=Je[$e],Ie=Ve.datum;Ie.offset=Ve.dp,Ie.del=Ve.del}}}function z(q,oe){var Q=0,X=q.offset;return oe&&(X*=-C,Q=q.offset*w),{x:Q,y:X}}function O(q){var oe={start:1,end:-1,middle:0}[q.anchor],Q=oe*(b+S),X=Q+oe*(q.txwidth+S),se=q.anchor==="middle";return se&&(Q-=q.tx2width/2,X+=q.txwidth/2+S),{alignShift:oe,textShiftX:Q,text2ShiftX:X}}function _(q,oe,Q,X){var se=function(fe){return fe*Q},ne=function(fe){return fe*X};q.each(function(fe){var ye=y.select(this);if(fe.del)return ye.remove();var Se=ye.select("text.nums"),we=fe.anchor,_e=we==="end"?-1:1,ke=O(fe),Me=z(fe,oe),me=Me.x,Ee=Me.y,Be=we==="middle";ye.select("path").attr("d",Be?"M-"+se(fe.bx/2+fe.tx2width/2)+","+ne(Ee-fe.by/2)+"h"+se(fe.bx)+"v"+ne(fe.by)+"h-"+se(fe.bx)+"Z":"M0,0L"+se(_e*b+me)+","+ne(b+Ee)+"v"+ne(fe.by/2-b)+"h"+se(_e*fe.bx)+"v-"+ne(fe.by)+"H"+se(_e*b+me)+"V"+ne(Ee-b)+"Z");var Ue=me+ke.textShiftX,De=Ee+fe.ty0-fe.by/2+S,He=fe.textAlign||"auto";He!=="auto"&&(He==="left"&&we!=="start"?(Se.attr("text-anchor","start"),Ue=Be?-fe.bx/2-fe.tx2width/2+S:-fe.bx-S):He==="right"&&we!=="end"&&(Se.attr("text-anchor","end"),Ue=Be?fe.bx/2-fe.tx2width/2-S:fe.bx+S)),Se.call(r.positionText,se(Ue),ne(De)),fe.tx2width&&(ye.select("text.name").call(r.positionText,se(ke.text2ShiftX+ke.alignShift*S+me),ne(Ee+fe.ty0-fe.by/2+S)),ye.select("rect").call(i.setRect,se(ke.text2ShiftX+(ke.alignShift-1)*fe.tx2width/2+me),ne(Ee-fe.by/2-1),se(fe.tx2width),ne(fe.by+2)))})}function B(q,oe){var Q=q.index,X=q.trace||{},se=q.cd[0],ne=q.cd[Q]||{};function fe(Me){return Me||P(Me)&&Me===0}var ye=Array.isArray(Q)?function(Me,me){var Ee=L.castOption(se,Q,Me);return fe(Ee)?Ee:L.extractOption({},X,"",me)}:function(Me,me){return L.extractOption(ne,X,Me,me)};function Se(Me,me,Ee){var Be=ye(me,Ee);fe(Be)&&(q[Me]=Be)}if(Se("hoverinfo","hi","hoverinfo"),Se("bgcolor","hbg","hoverlabel.bgcolor"),Se("borderColor","hbc","hoverlabel.bordercolor"),Se("fontFamily","htf","hoverlabel.font.family"),Se("fontSize","hts","hoverlabel.font.size"),Se("fontColor","htc","hoverlabel.font.color"),Se("nameLength","hnl","hoverlabel.namelength"),Se("textAlign","hta","hoverlabel.align"),q.posref=oe==="y"||oe==="closest"&&X.orientation==="h"?q.xa._offset+(q.x0+q.x1)/2:q.ya._offset+(q.y0+q.y1)/2,q.x0=L.constrain(q.x0,0,q.xa._length),q.x1=L.constrain(q.x1,0,q.xa._length),q.y0=L.constrain(q.y0,0,q.ya._length),q.y1=L.constrain(q.y1,0,q.ya._length),q.xLabelVal!==void 0&&(q.xLabel="xLabel"in q?q.xLabel:u.hoverLabelText(q.xa,q.xLabelVal,X.xhoverformat),q.xVal=q.xa.c2d(q.xLabelVal)),q.yLabelVal!==void 0&&(q.yLabel="yLabel"in q?q.yLabel:u.hoverLabelText(q.ya,q.yLabelVal,X.yhoverformat),q.yVal=q.ya.c2d(q.yLabelVal)),q.zLabelVal!==void 0&&q.zLabel===void 0&&(q.zLabel=String(q.zLabelVal)),!isNaN(q.xerr)&&!(q.xa.type==="log"&&q.xerr<=0)){var we=u.tickText(q.xa,q.xa.c2l(q.xerr),"hover").text;q.xerrneg!==void 0?q.xLabel+=" +"+we+" / -"+u.tickText(q.xa,q.xa.c2l(q.xerrneg),"hover").text:q.xLabel+="  "+we,oe==="x"&&(q.distance+=1)}if(!isNaN(q.yerr)&&!(q.ya.type==="log"&&q.yerr<=0)){var _e=u.tickText(q.ya,q.ya.c2l(q.yerr),"hover").text;q.yerrneg!==void 0?q.yLabel+=" +"+_e+" / -"+u.tickText(q.ya,q.ya.c2l(q.yerrneg),"hover").text:q.yLabel+="  "+_e,oe==="y"&&(q.distance+=1)}var ke=q.hoverinfo||q.trace.hoverinfo;return ke&&ke!=="all"&&(ke=Array.isArray(ke)?ke:ke.split("+"),ke.indexOf("x")===-1&&(q.xLabel=void 0),ke.indexOf("y")===-1&&(q.yLabel=void 0),ke.indexOf("z")===-1&&(q.zLabel=void 0),ke.indexOf("text")===-1&&(q.text=void 0),ke.indexOf("name")===-1&&(q.name=void 0)),q}function W(q,oe,Q){var X=Q.container,se=Q.fullLayout,ne=se._size,fe=Q.event,ye=!!oe.hLinePoint,Se=!!oe.vLinePoint,we,_e;if(X.selectAll(".spikeline").remove(),!!(Se||ye)){var ke=n.combine(se.plot_bgcolor,se.paper_bgcolor);if(ye){var Me=oe.hLinePoint,me,Ee;we=Me&&Me.xa,_e=Me&&Me.ya;var Be=_e.spikesnap;Be==="cursor"?(me=fe.pointerX,Ee=fe.pointerY):(me=we._offset+Me.x,Ee=_e._offset+Me.y);var Ue=o.readability(Me.color,ke)<1.5?n.contrast(ke):Me.color,De=_e.spikemode,He=_e.spikethickness,nt=_e.spikecolor||Ue,lt=u.getPxPosition(q,_e),$e,qe;if(De.indexOf("toaxis")!==-1||De.indexOf("across")!==-1){if(De.indexOf("toaxis")!==-1&&($e=lt,qe=me),De.indexOf("across")!==-1){var ct=_e._counterDomainMin,dt=_e._counterDomainMax;_e.anchor==="free"&&(ct=Math.min(ct,_e.position),dt=Math.max(dt,_e.position)),$e=ne.l+ct*ne.w,qe=ne.l+dt*ne.w}X.insert("line",":first-child").attr({x1:$e,x2:qe,y1:Ee,y2:Ee,"stroke-width":He,stroke:nt,"stroke-dasharray":i.dashStyle(_e.spikedash,He)}).classed("spikeline",!0).classed("crisp",!0),X.insert("line",":first-child").attr({x1:$e,x2:qe,y1:Ee,y2:Ee,"stroke-width":He+2,stroke:ke}).classed("spikeline",!0).classed("crisp",!0)}De.indexOf("marker")!==-1&&X.insert("circle",":first-child").attr({cx:lt+(_e.side!=="right"?He:-He),cy:Ee,r:He,fill:nt}).classed("spikeline",!0)}if(Se){var gt=oe.vLinePoint,At,Rt;we=gt&&gt.xa,_e=gt&&gt.ya;var Vt=we.spikesnap;Vt==="cursor"?(At=fe.pointerX,Rt=fe.pointerY):(At=we._offset+gt.x,Rt=_e._offset+gt.y);var Je=o.readability(gt.color,ke)<1.5?n.contrast(ke):gt.color,Ve=we.spikemode,Ie=we.spikethickness,Oe=we.spikecolor||Je,Le=u.getPxPosition(q,we),xe,pe;if(Ve.indexOf("toaxis")!==-1||Ve.indexOf("across")!==-1){if(Ve.indexOf("toaxis")!==-1&&(xe=Le,pe=Rt),Ve.indexOf("across")!==-1){var Ae=we._counterDomainMin,Te=we._counterDomainMax;we.anchor==="free"&&(Ae=Math.min(Ae,we.position),Te=Math.max(Te,we.position)),xe=ne.t+(1-Te)*ne.h,pe=ne.t+(1-Ae)*ne.h}X.insert("line",":first-child").attr({x1:At,x2:At,y1:xe,y2:pe,"stroke-width":Ie,stroke:Oe,"stroke-dasharray":i.dashStyle(we.spikedash,Ie)}).classed("spikeline",!0).classed("crisp",!0),X.insert("line",":first-child").attr({x1:At,x2:At,y1:xe,y2:pe,"stroke-width":Ie+2,stroke:ke}).classed("spikeline",!0).classed("crisp",!0)}Ve.indexOf("marker")!==-1&&X.insert("circle",":first-child").attr({cx:At,cy:Le-(we.side!=="top"?Ie:-Ie),r:Ie,fill:Oe}).classed("spikeline",!0)}}}function $(q,oe,Q){if(!Q||Q.length!==q._hoverdata.length)return!0;for(var X=Q.length-1;X>=0;X--){var se=Q[X],ne=q._hoverdata[X];if(se.curveNumber!==ne.curveNumber||String(se.pointNumber)!==String(ne.pointNumber)||String(se.pointNumbers)!==String(ne.pointNumbers))return!0}return!1}function te(q,oe){return!oe||oe.vLinePoint!==q._spikepoints.vLinePoint||oe.hLinePoint!==q._spikepoints.hLinePoint}function ie(q,oe){return r.plainText(q||"",{len:oe,allowedTags:["br","sub","sup","b","i","em"]})}function ue(q,oe){for(var Q=oe.charAt(0),X=[],se=[],ne=[],fe=0;fe<q.length;fe++){var ye=q[fe];l.traceIs(ye.trace,"bar-like")||l.traceIs(ye.trace,"box-violin")?ne.push(ye):ye.trace[Q+"period"]?se.push(ye):X.push(ye)}return X.concat(se).concat(ne)}function J(q,oe,Q){var X=oe[q+"a"],se=oe[q+"Val"],ne=oe.cd[0];if(X.type==="category"||X.type==="multicategory")se=X._categoriesMap[se];else if(X.type==="date"){var fe=oe.trace[q+"periodalignment"];if(fe){var ye=oe.cd[oe.index],Se=ye[q+"Start"];Se===void 0&&(Se=ye[q]);var we=ye[q+"End"];we===void 0&&(we=ye[q]);var _e=we-Se;fe==="end"?se+=_e:fe==="middle"&&(se+=_e/2)}se=X.d2c(se)}return ne&&ne.t&&ne.t.posLetter===X._id&&(Q.boxmode==="group"||Q.violinmode==="group")&&(se+=ne.t.dPos),se}function Y(q){return q.offsetTop+q.clientTop}function ae(q){return q.offsetLeft+q.clientLeft}function j(q,oe){var Q=q._fullLayout,X=oe.getBoundingClientRect(),se=X.left,ne=X.top,fe=se+X.width,ye=ne+X.height,Se=L.apply3DTransform(Q._invTransform)(se,ne),we=L.apply3DTransform(Q._invTransform)(fe,ye),_e=Se[0],ke=Se[1],Me=we[0],me=we[1];return{x:_e,y:ke,width:Me-_e,height:me-ke,top:Math.min(ke,me),left:Math.min(_e,Me),right:Math.max(_e,Me),bottom:Math.max(ke,me)}}},38048:function(G,V,e){var y=e(71828),P=e(7901),o=e(23469).isUnifiedHover;G.exports=function(M,v,p,r){r=r||{};var t=v.legend;function i(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&o(v.hovermode)&&(r.font||(r.font={}),i("size"),i("family"),i("color"),t?(r.bgcolor||(r.bgcolor=P.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),y.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},98212:function(G,V,e){var y=e(71828),P=e(528);G.exports=function(L,M){function v(p,r){return M[p]!==void 0?M[p]:y.coerce(L,M,P,p,r)}return v("clickmode"),v("hovermode")}},30211:function(G,V,e){var y=e(39898),P=e(71828),o=e(28569),L=e(23469),M=e(528),v=e(88335);G.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:M},attributes:e(77914),layoutAttributes:M,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:o.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(75914)};function p(i){var n=P.isD3Selection(i)?i:y.select(i);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(i,n,c){return P.castOption(i,n,"hoverlabel."+c)}function t(i,n,c){function u(l){return P.coerceHoverinfo({hoverinfo:l},{_module:i._module},n)}return P.castOption(i,c,"hoverinfo",u)}},528:function(G,V,e){var y=e(26675),P=e(41940),o=P({editType:"none"});o.family.dflt=y.HOVERFONT,o.size.dflt=y.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,grouptitlefont:P({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(G,V,e){var y=e(71828),P=e(528),o=e(98212),L=e(38048);G.exports=function(v,p){function r(l,g){return y.coerce(v,p,P,l,g)}var t=o(v,p);t&&(r("hoverdistance"),r("spikedistance"));var i=r("dragmode");i==="select"&&r("selectdirection");var n=p._has("mapbox"),c=p._has("geo"),u=p._basePlotModules.length;p.dragmode==="zoom"&&((n||c)&&u===1||n&&c&&u===2)&&(p.dragmode="pan"),L(v,p,r),y.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},22774:function(G,V,e){var y=e(71828),P=e(38048),o=e(528);G.exports=function(M,v){function p(r,t){return y.coerce(M,v,o,r,t)}P(M,v,p)}},83312:function(G,V,e){var y=e(71828),P=e(30587).counter,o=e(27670).Y,L=e(85555).idRegex,M=e(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[P("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(c,u,l){var g=u[l+"axes"],f=Object.keys((c._splomAxes||{})[l]||{});if(Array.isArray(g))return g;if(f.length)return f}function r(c,u){var l=c.grid||{},g=p(u,l,"x"),f=p(u,l,"y");if(!c.grid&&!g&&!f)return;var T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),h=Array.isArray(g),s=Array.isArray(f),d=h&&g!==l.xaxes&&s&&f!==l.yaxes,A,w;T?(A=l.subplots.length,w=l.subplots[0].length):(s&&(A=f.length),h&&(w=g.length));var C=M.newContainer(u,"grid");function b(z,O){return y.coerce(l,C,v,z,O)}var S=b("rows",A),m=b("columns",w);if(!(S*m>1)){delete u.grid;return}if(!T&&!h&&!s){var a=b("pattern")==="independent";a&&(T=!0)}C._hasSubplotGrid=T;var E=b("roworder"),x=E==="top to bottom",k=T?.2:.1,I=T?.3:.1,N,F;d&&u._splomGridDflt&&(N=u._splomGridDflt.xside,F=u._splomGridDflt.yside),C._domains={x:t("x",b,k,N,m),y:t("y",b,I,F,S,x)}}function t(c,u,l,g,f,T){var h=u(c+"gap",l),s=u("domain."+c);u(c+"side",g);for(var d=new Array(f),A=s[0],w=(s[1]-A)/(f-h),C=w*(1-h),b=0;b<f;b++){var S=A+w*b;d[T?f-1-b:b]=[S,S+C]}return d}function i(c,u){var l=u.grid;if(!(!l||!l._domains)){var g=c.grid||{},f=u._subplots,T=l._hasSubplotGrid,h=l.rows,s=l.columns,d=l.pattern==="independent",A,w,C,b,S,m,a,E=l._axisMap={};if(T){var x=g.subplots||[];m=l.subplots=new Array(h);var k=1;for(A=0;A<h;A++){var I=m[A]=new Array(s),N=x[A]||[];for(w=0;w<s;w++)if(d?(S=k===1?"xy":"x"+k+"y"+k,k++):S=N[w],I[w]="",f.cartesian.indexOf(S)!==-1){if(a=S.indexOf("y"),C=S.slice(0,a),b=S.slice(a),E[C]!==void 0&&E[C]!==w||E[b]!==void 0&&E[b]!==A)continue;I[w]=S,E[C]=w,E[b]=A}}}else{var F=p(u,g,"x"),z=p(u,g,"y");l.xaxes=n(F,f.xaxis,s,E,"x"),l.yaxes=n(z,f.yaxis,h,E,"y")}var O=l._anchors={},_=l.roworder==="top to bottom";for(var B in E){var W=B.charAt(0),$=l[W+"side"],te,ie,ue;if($.length<8)O[B]="free";else if(W==="x"){if($.charAt(0)==="t"===_?(te=0,ie=1,ue=h):(te=h-1,ie=-1,ue=-1),T){var J=E[B];for(A=te;A!==ue;A+=ie)if(S=m[A][J],!!S&&(a=S.indexOf("y"),S.slice(0,a)===B)){O[B]=S.slice(a);break}}else for(A=te;A!==ue;A+=ie)if(b=l.yaxes[A],f.cartesian.indexOf(B+b)!==-1){O[B]=b;break}}else if($.charAt(0)==="l"?(te=0,ie=1,ue=s):(te=s-1,ie=-1,ue=-1),T){var Y=E[B];for(A=te;A!==ue;A+=ie)if(S=m[Y][A],!!S&&(a=S.indexOf("y"),S.slice(a)===B)){O[B]=S.slice(0,a);break}}else for(A=te;A!==ue;A+=ie)if(C=l.xaxes[A],f.cartesian.indexOf(C+B)!==-1){O[B]=C;break}}}}function n(c,u,l,g,f){var T=new Array(l),h;function s(d,A){u.indexOf(A)!==-1&&g[A]===void 0?(T[d]=A,g[A]=d):T[d]=""}if(Array.isArray(c))for(h=0;h<l;h++)s(h,c[h]);else for(s(0,f),h=1;h<l;h++)s(h,f+(h+1));return T}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:i}},69819:function(G,V,e){var y=e(85555),P=e(44467).templatedArray;e(24695),G.exports=P("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",y.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",y.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(G,V,e){var y=e(92770),P=e(58163);G.exports=function(L,M,v,p){M=M||{};var r=v==="log"&&M.type==="linear",t=v==="linear"&&M.type==="log";if(r||t){for(var i=L._fullLayout.images,n=M._id.charAt(0),c,u,l=0;l<i.length;l++)if(c=i[l],u="images["+l+"].",c[n+"ref"]===M._id){var g=c[n],f=c["size"+n],T=null,h=null;if(r){T=P(g,M.range);var s=f/Math.pow(10,T)/2;h=2*Math.log(s+Math.sqrt(1+s*s))/Math.LN10}else T=Math.pow(10,g),h=T*(Math.pow(10,f/2)-Math.pow(10,-f/2));y(T)?y(h)||(h=null):(T=null,h=null),p(u+n,T),p(u+"size"+n,h)}}}},81603:function(G,V,e){var y=e(71828),P=e(89298),o=e(85501),L=e(69819),M="images";G.exports=function(r,t){var i={name:M,handleItemDefaults:v};o(r,t,i)};function v(p,r,t){function i(s,d){return y.coerce(p,r,L,s,d)}var n=i("source"),c=i("visible",!!n);if(!c)return r;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var u={_fullLayout:t},l=["x","y"],g=0;g<2;g++){var f=l[g],T=P.coerceRef(p,r,u,f,"paper",void 0);if(T!=="paper"){var h=P.getFromId(u,T);h._imgIndices.push(r._index)}P.coercePosition(r,u,i,T,f,0)}return r}},80750:function(G,V,e){var y=e(39898),P=e(91424),o=e(89298),L=e(41675),M=e(77922);G.exports=function(p){var r=p._fullLayout,t=[],i={},n=[],c,u;for(u=0;u<r.images.length;u++){var l=r.images[u];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){c=L.ref2id(l.xref)+L.ref2id(l.yref);var g=r._plots[c];if(!g){n.push(l);continue}g.mainplot&&(c=g.mainplot.id),i[c]||(i[c]=[]),i[c].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(b){var S=y.select(this);if(this._imgSrc!==b.source)if(S.attr("xmlns",M.svg),b.source&&b.source.slice(0,5)==="data:")S.attr("xlink:href",b.source),this._imgSrc=b.source;else{var m=new Promise((function(a){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=x,E.onload=function(){var k=document.createElement("canvas");k.width=this.width,k.height=this.height;var I=k.getContext("2d",{willReadFrequently:!0});I.drawImage(this,0,0);var N=k.toDataURL("image/png");S.attr("xlink:href",N),a()},S.on("error",x),E.src=b.source,this._imgSrc=b.source;function x(){S.remove(),a()}}).bind(this));p._promises.push(m)}}function h(b){var S=y.select(this),m=o.getFromId(p,b.xref),a=o.getFromId(p,b.yref),E=o.getRefType(b.xref)==="domain",x=o.getRefType(b.yref)==="domain",k=r._size,I,N;m!==void 0?I=typeof b.xref=="string"&&E?m._length*b.sizex:Math.abs(m.l2p(b.sizex)-m.l2p(0)):I=b.sizex*k.w,a!==void 0?N=typeof b.yref=="string"&&x?a._length*b.sizey:Math.abs(a.l2p(b.sizey)-a.l2p(0)):N=b.sizey*k.h;var F=I*f.x[b.xanchor].offset,z=N*f.y[b.yanchor].offset,O=f.x[b.xanchor].sizing+f.y[b.yanchor].sizing,_,B;switch(m!==void 0?_=typeof b.xref=="string"&&E?m._length*b.x+m._offset:m.r2p(b.x)+m._offset:_=b.x*k.w+k.l,_+=F,a!==void 0?B=typeof b.yref=="string"&&x?a._length*(1-b.y)+a._offset:a.r2p(b.y)+a._offset:B=k.h-b.y*k.h+k.t,B+=z,b.sizing){case"fill":O+=" slice";break;case"stretch":O="none";break}S.attr({x:_,y:B,width:I,height:N,preserveAspectRatio:O,opacity:b.opacity});var W=m&&o.getRefType(b.xref)!=="domain"?m._id:"",$=a&&o.getRefType(b.yref)!=="domain"?a._id:"",te=W+$;P.setClipUrl(S,te?"clip"+r._uid+te:null,p)}var s=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);s.enter().append("image"),d.enter().append("image"),s.exit().remove(),d.exit().remove(),s.each(function(b){T.bind(this)(b),h.bind(this)(b)}),d.each(function(b){T.bind(this)(b),h.bind(this)(b)});var A=Object.keys(r._plots);for(u=0;u<A.length;u++){c=A[u];var w=r._plots[c];if(w.imagelayer){var C=w.imagelayer.selectAll("image").data(i[c]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(b){T.bind(this)(b),h.bind(this)(b)})}}}},68804:function(G,V,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(G,V,e){var y=e(41940),P=e(22399);G.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:y({editType:"legend"}),grouptitlefont:y({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:y({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(G,V,e){var y=e(73972),P=e(71828),o=e(44467),L=e(9012),M=e(33030),v=e(10820),p=e(10130);function r(t,i,n,c){var u=i[t]||{},l=o.newContainer(n,t);function g(ue,J){return P.coerce(u,l,M,ue,J)}var f=P.coerceFont(g,"font",n.font);g("bgcolor",n.paper_bgcolor),g("bordercolor");var T=g("visible");if(T){for(var h,s=function(ue,J){var Y=h._input,ae=h;return P.coerce(Y,ae,L,ue,J)},d=n.font||{},A=P.coerceFont(g,"grouptitlefont",P.extendFlat({},d,{size:Math.round(d.size*1.1)})),w=0,C=!1,b="normal",S=(n.shapes||[]).filter(function(ue){return ue.showlegend}),m=c.concat(S).filter(function(ue){return t===(ue.legend||"legend")}),a=0;a<m.length;a++)if(h=m[a],!!h.visible){var E=h._isShape;(h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&h._module.attributes.showlegend.dflt===!1))&&(w++,h.showlegend&&(C=!0,(!E&&y.traceIs(h,"pie-like")||h._input.showlegend===!0)&&w++),P.coerceFont(s,"legendgrouptitle.font",A)),(!E&&y.traceIs(h,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(h.fill)!==-1)&&(b=p.isGrouped({traceorder:b})?"grouped+reversed":"reversed"),h.legendgroup!==void 0&&h.legendgroup!==""&&(b=p.isReversed({traceorder:b})?"reversed+grouped":"grouped")}var x=P.coerce(i,n,v,"showlegend",C&&w>(t==="legend"?1:0));if(x===!1&&(n[t]=void 0),!(x===!1&&!u.uirevision)&&(g("uirevision",n.uirevision),x!==!1)){g("borderwidth");var k=g("orientation"),I=g("yref"),N=g("xref"),F=k==="h",z=I==="paper",O=N==="paper",_,B,W,$="left";F?(_=0,y.getComponentMethod("rangeslider","isVisible")(i.xaxis)?z?(B=1.1,W="bottom"):(B=1,W="top"):z?(B=-.1,W="top"):(B=0,W="bottom")):(B=1,W="auto",O?_=1.02:(_=1,$="right")),P.coerce(u,l,{x:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:_}},"x"),P.coerce(u,l,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:B}},"y"),g("traceorder",b),p.isGrouped(n[t])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",$),g("yanchor",W),g("valign"),P.noneOrAll(u,l,["x","y"]);var te=g("title.text");if(te){g("title.side",F?"left":"top");var ie=P.extendFlat({},f,{size:P.bigFont(f.size)});P.coerceFont(g,"title.font",ie)}}}}G.exports=function(i,n,c){var u,l=c.slice(),g=n.shapes;if(g)for(u=0;u<g.length;u++){var f=g[u];if(f.showlegend){var T={_input:f._input,visible:f.visible,showlegend:f.showlegend,legend:f.legend};l.push(T)}}var h=["legend"];for(u=0;u<l.length;u++)P.pushUnique(h,l[u].legend);for(n._legends=[],u=0;u<h.length;u++){var s=h[u];r(s,i,n,l),n[s]&&n[s].visible&&(n[s]._id=s),n._legends.push(s)}}},43969:function(G,V,e){var y=e(39898),P=e(71828),o=e(74875),L=e(73972),M=e(11086),v=e(28569),p=e(91424),r=e(7901),t=e(63893),i=e(85167),n=e(14928),c=e(18783),u=c.LINE_SPACING,l=c.FROM_TL,g=c.FROM_BR,f=e(82424),T=e(53630),h=e(10130),s=1,d=/^legend[0-9]*$/;G.exports=function(B,W){if(W)w(B,W);else{var $=B._fullLayout,te=$._legends,ie=$._infolayer.selectAll('[class^="legend"]');ie.each(function(){var ae=y.select(this),j=ae.attr("class"),q=j.split(" ")[0];q.match(d)&&te.indexOf(q)===-1&&ae.remove()});for(var ue=0;ue<te.length;ue++){var J=te[ue],Y=B._fullLayout[J];w(B,Y)}}};function A(_,B,W){if(!(B.title.side!=="top center"&&B.title.side!=="top right")){var $=B.title.font,te=$.size*u,ie=0,ue=_.node(),J=p.bBox(ue).width;B.title.side==="top center"?ie=.5*(B._width-2*W-2*n.titlePad-J):B.title.side==="top right"&&(ie=B._width-2*W-2*n.titlePad-J),t.positionText(_,W+n.titlePad+ie,W+te)}}function w(_,B){var W=B||{},$=_._fullLayout,te=O(W),ie,ue,J=W._inHover;if(J?(ue=W.layer,ie="hover"):(ue=$._infolayer,ie=te),!!ue){ie+=$._uid,_._legendMouseDownTime||(_._legendMouseDownTime=0);var Y;if(J){if(!W.entries)return;Y=f(W.entries,W)}else{for(var ae=(_.calcdata||[]).slice(),j=$.shapes,q=0;q<j.length;q++){var oe=j[q];if(oe.showlegend){var Q={_isShape:!0,_fullInput:oe,index:oe._index,name:oe.name||oe.label.text||"shape "+oe._index,legend:oe.legend,legendgroup:oe.legendgroup,legendgrouptitle:oe.legendgrouptitle,legendrank:oe.legendrank,legendwidth:oe.legendwidth,showlegend:oe.showlegend,visible:oe.visible,opacity:oe.opacity,mode:oe.type==="line"?"lines":"markers",line:oe.line,marker:{line:oe.line,color:oe.fillcolor,size:12,symbol:oe.type==="rect"?"square":oe.type==="circle"?"circle":"hexagon2"}};ae.push([{trace:Q}])}}Y=$.showlegend&&f(ae,W,$._legends.length>1)}var X=$.hiddenlabels||[];if(!J&&(!$.showlegend||!Y.length))return ue.selectAll("."+te).remove(),$._topdefs.select("#"+ie).remove(),o.autoMargin(_,te);var se=P.ensureSingle(ue,"g",te,function(me){J||me.attr("pointer-events","all")}),ne=P.ensureSingleById($._topdefs,"clipPath",ie,function(me){me.append("rect")}),fe=P.ensureSingle(se,"rect","bg",function(me){me.attr("shape-rendering","crispEdges")});fe.call(r.stroke,W.bordercolor).call(r.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px");var ye=P.ensureSingle(se,"g","scrollbox"),Se=W.title;W._titleWidth=0,W._titleHeight=0;var we;Se.text?(we=P.ensureSingle(ye,"text",te+"titletext"),we.attr("text-anchor","start").call(p.font,Se.font).text(Se.text),E(we,ye,_,W,s)):ye.selectAll("."+te+"titletext").remove();var _e=P.ensureSingle(se,"rect","scrollbar",function(me){me.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),ke=ye.selectAll("g.groups").data(Y);ke.enter().append("g").attr("class","groups"),ke.exit().remove();var Me=ke.selectAll("g.traces").data(P.identity);Me.enter().append("g").attr("class","traces"),Me.exit().remove(),Me.style("opacity",function(me){var Ee=me[0].trace;return L.traceIs(Ee,"pie-like")?X.indexOf(me[0].label)!==-1?.5:1:Ee.visible==="legendonly"?.5:1}).each(function(){y.select(this).call(S,_,W)}).call(T,_,W).each(function(){J||y.select(this).call(a,_,te)}),P.syncOrAsync([o.previousPromises,function(){return I(_,ke,Me,W)},function(){var me=$._size,Ee=W.borderwidth,Be=W.xref==="paper",Ue=W.yref==="paper";if(Se.text&&A(we,W,Ee),!J){var De,He;Be?De=me.l+me.w*W.x-l[F(W)]*W._width:De=$.width*W.x-l[F(W)]*W._width,Ue?He=me.t+me.h*(1-W.y)-l[z(W)]*W._effHeight:He=$.height*(1-W.y)-l[z(W)]*W._effHeight;var nt=N(_,te,De,He);if(nt)return;if($.margin.autoexpand){var lt=De,$e=He;De=Be?P.constrain(De,0,$.width-W._width):lt,He=Ue?P.constrain(He,0,$.height-W._effHeight):$e,De!==lt&&P.log("Constrain "+te+".x to make legend fit inside graph"),He!==$e&&P.log("Constrain "+te+".y to make legend fit inside graph")}p.setTranslate(se,De,He)}if(_e.on(".drag",null),se.on("wheel",null),J||W._height<=W._maxHeight||_._context.staticPlot){var qe=W._effHeight;J&&(qe=W._height),fe.attr({width:W._width-Ee,height:qe-Ee,x:Ee/2,y:Ee/2}),p.setTranslate(ye,0,0),ne.select("rect").attr({width:W._width-2*Ee,height:qe-2*Ee,x:Ee,y:Ee}),p.setClipUrl(ye,ie,_),p.setRect(_e,0,0,0,0),delete W._scrollY}else{var ct=Math.max(n.scrollBarMinHeight,W._effHeight*W._effHeight/W._height),dt=W._effHeight-ct-2*n.scrollBarMargin,gt=W._height-W._effHeight,At=dt/gt,Rt=Math.min(W._scrollY||0,gt);fe.attr({width:W._width-2*Ee+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-Ee,x:Ee/2,y:Ee/2}),ne.select("rect").attr({width:W._width-2*Ee+n.scrollBarWidth+n.scrollBarMargin,height:W._effHeight-2*Ee,x:Ee,y:Ee+Rt}),p.setClipUrl(ye,ie,_),pe(Rt,ct,At),se.on("wheel",function(){Rt=P.constrain(W._scrollY+y.event.deltaY/dt*gt,0,gt),pe(Rt,ct,At),Rt!==0&&Rt!==gt&&y.event.preventDefault()});var Vt,Je,Ve,Ie=function(et,ft,pt){var Yt=(pt-ft)/At+et;return P.constrain(Yt,0,gt)},Oe=function(et,ft,pt){var Yt=(ft-pt)/At+et;return P.constrain(Yt,0,gt)},Le=y.behavior.drag().on("dragstart",function(){var et=y.event.sourceEvent;et.type==="touchstart"?Vt=et.changedTouches[0].clientY:Vt=et.clientY,Ve=Rt}).on("drag",function(){var et=y.event.sourceEvent;et.buttons===2||et.ctrlKey||(et.type==="touchmove"?Je=et.changedTouches[0].clientY:Je=et.clientY,Rt=Ie(Ve,Vt,Je),pe(Rt,ct,At))});_e.call(Le);var xe=y.behavior.drag().on("dragstart",function(){var et=y.event.sourceEvent;et.type==="touchstart"&&(Vt=et.changedTouches[0].clientY,Ve=Rt)}).on("drag",function(){var et=y.event.sourceEvent;et.type==="touchmove"&&(Je=et.changedTouches[0].clientY,Rt=Oe(Ve,Vt,Je),pe(Rt,ct,At))});ye.call(xe)}function pe(et,ft,pt){W._scrollY=_._fullLayout[te]._scrollY=et,p.setTranslate(ye,0,-et),p.setRect(_e,W._width,n.scrollBarMargin+et*pt,n.scrollBarWidth,ft),ne.select("rect").attr("y",Ee+et)}if(_._context.edits.legendPosition){var Ae,Te,Ne,Ye;se.classed("cursor-move",!0),v.init({element:se.node(),gd:_,prepFn:function(){var et=p.getTranslate(se);Ne=et.x,Ye=et.y},moveFn:function(et,ft){var pt=Ne+et,Yt=Ye+ft;p.setTranslate(se,pt,Yt),Ae=v.align(pt,W._width,me.l,me.l+me.w,W.xanchor),Te=v.align(Yt+W._height,-W._height,me.t+me.h,me.t,W.yanchor)},doneFn:function(){if(Ae!==void 0&&Te!==void 0){var et={};et[te+".x"]=Ae,et[te+".y"]=Te,L.call("_guiRelayout",_,et)}},clickFn:function(et,ft){var pt=ue.selectAll("g.traces").filter(function(){var Yt=this.getBoundingClientRect();return ft.clientX>=Yt.left&&ft.clientX<=Yt.right&&ft.clientY>=Yt.top&&ft.clientY<=Yt.bottom});pt.size()>0&&b(_,se,pt,et,ft)}})}}],_)}}function C(_,B,W){var $=_[0],te=$.width,ie=B.entrywidthmode,ue=$.trace.legendwidth||B.entrywidth;return ie==="fraction"?B._maxWidth*ue:W+(ue||te)}function b(_,B,W,$,te){var ie=W.data()[0][0].trace,ue={event:te,node:W.node(),curveNumber:ie.index,expandedIndex:ie._expandedIndex,data:_.data,layout:_.layout,frames:_._transitionData._frames,config:_._context,fullData:_._fullData,fullLayout:_._fullLayout};ie._group&&(ue.group=ie._group),L.traceIs(ie,"pie-like")&&(ue.label=W.datum()[0].label);var J=M.triggerHandler(_,"plotly_legendclick",ue);if($===1){if(J===!1)return;B._clickTimeout=setTimeout(function(){_._fullLayout&&i(W,_,$)},_._context.doubleClickDelay)}else if($===2){B._clickTimeout&&clearTimeout(B._clickTimeout),_._legendMouseDownTime=0;var Y=M.triggerHandler(_,"plotly_legenddoubleclick",ue);Y!==!1&&J!==!1&&i(W,_,$)}}function S(_,B,W){var $=O(W),te=_.data()[0][0],ie=te.trace,ue=L.traceIs(ie,"pie-like"),J=!W._inHover&&B._context.edits.legendText&&!ue,Y=W._maxNameLength,ae,j;te.groupTitle?(ae=te.groupTitle.text,j=te.groupTitle.font):(j=W.font,W.entries?ae=te.text:(ae=ue?te.label:ie.name,ie._meta&&(ae=P.templateString(ae,ie._meta))));var q=P.ensureSingle(_,"text",$+"text");q.attr("text-anchor","start").call(p.font,j).text(J?m(ae,Y):ae);var oe=W.itemwidth+n.itemGap*2;t.positionText(q,oe,0),J?q.call(t.makeEditable,{gd:B,text:ae}).call(E,_,B,W).on("edit",function(Q){this.text(m(Q,Y)).call(E,_,B,W);var X=te.trace._fullInput||{},se={};if(L.hasTransform(X,"groupby")){var ne=L.getTransformIndices(X,"groupby"),fe=ne[ne.length-1],ye=P.keyedContainer(X,"transforms["+fe+"].styles","target","value.name");ye.set(te.trace._group,Q),se=ye.constructUpdate()}else se.name=Q;return X._isShape?L.call("_guiRelayout",B,"shapes["+ie.index+"].name",se.name):L.call("_guiRestyle",B,se,ie.index)}):E(q,_,B,W)}function m(_,B){var W=Math.max(4,B);if(_&&_.trim().length>=W/2)return _;_=_||"";for(var $=W-_.length;$>0;$--)_+=" ";return _}function a(_,B,W){var $=B._context.doubleClickDelay,te,ie=1,ue=P.ensureSingle(_,"rect",W+"toggle",function(J){B._context.staticPlot||J.style("cursor","pointer").attr("pointer-events","all"),J.call(r.fill,"rgba(0,0,0,0)")});B._context.staticPlot||(ue.on("mousedown",function(){te=new Date().getTime(),te-B._legendMouseDownTime<$?ie+=1:(ie=1,B._legendMouseDownTime=te)}),ue.on("mouseup",function(){if(!(B._dragged||B._editing)){var J=B._fullLayout[W];new Date().getTime()-B._legendMouseDownTime>$&&(ie=Math.max(ie-1,1)),b(B,J,_,ie,y.event)}}))}function E(_,B,W,$,te){$._inHover&&_.attr("data-notex",!0),t.convertToTspans(_,W,function(){x(B,W,$,te)})}function x(_,B,W,$){var te=_.data()[0][0];if(!W._inHover&&te&&!te.trace.showlegend){_.remove();return}var ie=_.select("g[class*=math-group]"),ue=ie.node(),J=O(W);W||(W=B._fullLayout[J]);var Y=W.borderwidth,ae;$===s?ae=W.title.font:te.groupTitle?ae=te.groupTitle.font:ae=W.font;var j=ae.size*u,q,oe;if(ue){var Q=p.bBox(ue);q=Q.height,oe=Q.width,$===s?p.setTranslate(ie,Y,Y+q*.75):p.setTranslate(ie,0,q*.25)}else{var X="."+J+($===s?"title":"")+"text",se=_.select(X),ne=t.lineCount(se),fe=se.node();if(q=j*ne,oe=fe?p.bBox(fe).width:0,$===s)W.title.side==="left"&&(oe+=n.itemGap*2),t.positionText(se,Y+n.titlePad,Y+j);else{var ye=n.itemGap*2+W.itemwidth;te.groupTitle&&(ye=n.itemGap,oe-=W.itemwidth),t.positionText(se,ye,-j*((ne-1)/2-.3))}}$===s?(W._titleWidth=oe,W._titleHeight=q):(te.lineHeight=j,te.height=Math.max(q,16)+3,te.width=oe)}function k(_){var B=0,W=0,$=_.title.side;return $&&($.indexOf("left")!==-1&&(B=_._titleWidth),$.indexOf("top")!==-1&&(W=_._titleHeight)),[B,W]}function I(_,B,W,$){var te=_._fullLayout,ie=O($);$||($=te[ie]);var ue=te._size,J=h.isVertical($),Y=h.isGrouped($),ae=$.entrywidthmode==="fraction",j=$.borderwidth,q=2*j,oe=n.itemGap,Q=$.itemwidth+oe*2,X=2*(j+oe),se=z($),ne=$.y<0||$.y===0&&se==="top",fe=$.y>1||$.y===1&&se==="bottom",ye=$.tracegroupgap,Se={};$._maxHeight=Math.max(ne||fe?te.height/2:ue.h,30);var we=0;$._width=0,$._height=0;var _e=k($);if(J)W.each(function(Ve){var Ie=Ve[0].height;p.setTranslate(this,j+_e[0],j+_e[1]+$._height+Ie/2+oe),$._height+=Ie,$._width=Math.max($._width,Ve[0].width)}),we=Q+$._width,$._width+=oe+Q+q,$._height+=X,Y&&(B.each(function(Ve,Ie){p.setTranslate(this,0,Ie*$.tracegroupgap)}),$._height+=($._lgroupsLength-1)*$.tracegroupgap);else{var ke=F($),Me=$.x<0||$.x===0&&ke==="right",me=$.x>1||$.x===1&&ke==="left",Ee=fe||ne,Be=te.width/2;$._maxWidth=Math.max(Me?Ee&&ke==="left"?ue.l+ue.w:Be:me?Ee&&ke==="right"?ue.r+ue.w:Be:ue.w,2*Q);var Ue=0,De=0;W.each(function(Ve){var Ie=C(Ve,$,Q);Ue=Math.max(Ue,Ie),De+=Ie}),we=null;var He=0;if(Y){var nt=0,lt=0,$e=0;B.each(function(){var Ve=0,Ie=0;y.select(this).selectAll("g.traces").each(function(Le){var xe=C(Le,$,Q),pe=Le[0].height;p.setTranslate(this,_e[0],_e[1]+j+oe+pe/2+Ie),Ie+=pe,Ve=Math.max(Ve,xe),Se[Le[0].trace.legendgroup]=Ve});var Oe=Ve+oe;lt>0&&Oe+j+lt>$._maxWidth?(He=Math.max(He,lt),lt=0,$e+=nt+ye,nt=Ie):nt=Math.max(nt,Ie),p.setTranslate(this,lt,$e),lt+=Oe}),$._width=Math.max(He,lt)+j,$._height=$e+nt+X}else{var qe=W.size(),ct=De+q+(qe-1)*oe<$._maxWidth,dt=0,gt=0,At=0,Rt=0;W.each(function(Ve){var Ie=Ve[0].height,Oe=C(Ve,$,Q),Le=ct?Oe:Ue;ae||(Le+=oe),Le+j+gt-oe>=$._maxWidth&&(He=Math.max(He,Rt),gt=0,At+=dt,$._height+=dt,dt=0),p.setTranslate(this,_e[0]+j+gt,_e[1]+j+At+Ie/2+oe),Rt=gt+Oe+oe,gt+=Le,dt=Math.max(dt,Ie)}),ct?($._width=gt+q,$._height=dt+X):($._width=Math.max(He,Rt)+q,$._height+=dt+X)}}$._width=Math.ceil(Math.max($._width+_e[0],$._titleWidth+2*(j+n.titlePad))),$._height=Math.ceil(Math.max($._height+_e[1],$._titleHeight+2*(j+n.itemGap))),$._effHeight=Math.min($._height,$._maxHeight);var Vt=_._context.edits,Je=Vt.legendText||Vt.legendPosition;W.each(function(Ve){var Ie=y.select(this).select("."+ie+"toggle"),Oe=Ve[0].height,Le=Ve[0].trace.legendgroup,xe=C(Ve,$,Q);Y&&Le!==""&&(xe=Se[Le]);var pe=Je?Q:we||xe;!J&&!ae&&(pe+=oe/2),p.setRect(Ie,0,-Oe/2,pe,Oe)})}function N(_,B,W,$){var te=_._fullLayout,ie=te[B],ue=F(ie),J=z(ie),Y=ie.xref==="paper",ae=ie.yref==="paper";_._fullLayout._reservedMargin[B]={};var j=ie.y<.5?"b":"t",q=ie.x<.5?"l":"r",oe={r:te.width-W,l:W+ie._width,b:te.height-$,t:$+ie._effHeight};if(Y&&ae)return o.autoMargin(_,B,{x:ie.x,y:ie.y,l:ie._width*l[ue],r:ie._width*g[ue],b:ie._effHeight*g[J],t:ie._effHeight*l[J]});Y?_._fullLayout._reservedMargin[B][j]=oe[j]:ae||ie.orientation==="v"?_._fullLayout._reservedMargin[B][q]=oe[q]:_._fullLayout._reservedMargin[B][j]=oe[j]}function F(_){return P.isRightAnchor(_)?"right":P.isCenterAnchor(_)?"center":"left"}function z(_){return P.isBottomAnchor(_)?"bottom":P.isMiddleAnchor(_)?"middle":"top"}function O(_){return _._id||"legend"}},82424:function(G,V,e){var y=e(73972),P=e(10130);G.exports=function(L,M,v){var p=M._inHover,r=P.isGrouped(M),t=P.isReversed(M),i={},n=[],c=!1,u={},l=0,g=0,f,T;function h(_,B,W){if(M.visible!==!1&&!(v&&_!==M._id))if(B===""||!P.isGrouped(M)){var $="~~i"+l;n.push($),i[$]=[W],l++}else n.indexOf(B)===-1?(n.push(B),c=!0,i[B]=[W]):i[B].push(W)}for(f=0;f<L.length;f++){var s=L[f],d=s[0],A=d.trace,w=A.legend,C=A.legendgroup;if(!(!p&&(!A.visible||!A.showlegend)))if(y.traceIs(A,"pie-like"))for(u[C]||(u[C]={}),T=0;T<s.length;T++){var b=s[T].label;u[C][b]||(h(w,C,{label:b,color:s[T].color,i:s[T].i,trace:A,pts:s[T].pts}),u[C][b]=!0,g=Math.max(g,(b||"").length))}else h(w,C,d),g=Math.max(g,(A.name||"").length)}if(!n.length)return[];var S=!c||!r,m=[];for(f=0;f<n.length;f++){var a=i[n[f]];S?m.push(a[0]):m.push(a)}for(S&&(m=[m]),f=0;f<m.length;f++){var E=1/0;for(T=0;T<m[f].length;T++){var x=m[f][T].trace.legendrank;E>x&&(E=x)}m[f][0]._groupMinRank=E,m[f][0]._preGroupSort=f}var k=function(_,B){return _[0]._groupMinRank-B[0]._groupMinRank||_[0]._preGroupSort-B[0]._preGroupSort},I=function(_,B){return _.trace.legendrank-B.trace.legendrank||_._preSort-B._preSort};for(m.forEach(function(_,B){_[0]._preGroupSort=B}),m.sort(k),f=0;f<m.length;f++){m[f].forEach(function(_,B){_._preSort=B}),m[f].sort(I);var N=m[f][0].trace,F=null;for(T=0;T<m[f].length;T++){var z=m[f][T].trace.legendgrouptitle;if(z&&z.text){F=z,p&&(z.font=M._groupTitleFont);break}}if(t&&m[f].reverse(),F){var O=!1;for(T=0;T<m[f].length;T++)if(y.traceIs(m[f][T].trace,"pie-like")){O=!0;break}m[f].unshift({i:-1,groupTitle:F,noClick:O,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:M.groupclick==="toggleitem"?!0:N.visible}})}for(T=0;T<m[f].length;T++)m[f][T]=[m[f][T]]}return M._lgroupsLength=m.length,M._maxNameLength=g,m}},85167:function(G,V,e){var y=e(73972),P=e(71828),o=P.pushUnique,L=!0;G.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var i=t.legend.itemclick,n=t.legend.itemdoubleclick,c=t.legend.groupclick;r===1&&i==="toggle"&&n==="toggleothers"&&L&&p.data&&p._context.showTips&&P.notifier(P._(p,"Double-click on legend to isolate one trace"),"long"),L=!1;var u;if(r===1?u=i:r===2&&(u=n),!u)return;var l=c==="togglegroup",g=t.hiddenlabels?t.hiddenlabels.slice():[],f=v.data()[0][0];if(f.groupTitle&&f.noClick)return;var T=p._fullData,h=(t.shapes||[]).filter(function(Be){return Be.showlegend}),s=T.concat(h),d=f.trace;d._isShape&&(d=d._fullInput);var A=d.legendgroup,w,C,b,S,m,a,E={},x=[],k=[],I=[];function N(Be,Ue){var De=x.indexOf(Be),He=E.visible;return He||(He=E.visible=[]),x.indexOf(Be)===-1&&(x.push(Be),De=x.length-1),He[De]=Ue,De}var F=(t.shapes||[]).map(function(Be){return Be._input}),z=!1;function O(Be,Ue){F[Be].visible=Ue,z=!0}function _(Be,Ue){if(!(f.groupTitle&&!l)){var De=Be._fullInput||Be,He=De._isShape,nt=De.index;if(nt===void 0&&(nt=De._index),y.hasTransform(De,"groupby")){var lt=k[nt];if(!lt){var $e=y.getTransformIndices(De,"groupby"),qe=$e[$e.length-1];lt=P.keyedContainer(De,"transforms["+qe+"].styles","target","value.visible"),k[nt]=lt}var ct=lt.get(Be._group);ct===void 0&&(ct=!0),ct!==!1&&lt.set(Be._group,Ue),I[nt]=N(nt,De.visible!==!1)}else{var dt=De.visible===!1?!1:Ue;He?O(nt,dt):N(nt,dt)}}}var B=d.legend,W=d._fullInput,$=W&&W._isShape;if(!$&&y.traceIs(d,"pie-like")){var te=f.label,ie=g.indexOf(te);if(u==="toggle")ie===-1?g.push(te):g.splice(ie,1);else if(u==="toggleothers"){var ue=ie!==-1,J=[];for(w=0;w<p.calcdata.length;w++){var Y=p.calcdata[w];for(C=0;C<Y.length;C++){var ae=Y[C],j=ae.label;B===Y[0].trace.legend&&te!==j&&(g.indexOf(j)===-1&&(ue=!0),o(g,j),J.push(j))}}if(!ue)for(var q=0;q<J.length;q++){var oe=g.indexOf(J[q]);oe!==-1&&g.splice(oe,1)}}y.call("_guiRelayout",p,"hiddenlabels",g)}else{var Q=A&&A.length,X=[],se;if(Q)for(w=0;w<s.length;w++)se=s[w],se.visible&&se.legendgroup===A&&X.push(w);if(u==="toggle"){var ne;switch(d.visible){case!0:ne="legendonly";break;case!1:ne=!1;break;case"legendonly":ne=!0;break}if(Q)if(l)for(w=0;w<s.length;w++){var fe=s[w];fe.visible!==!1&&fe.legendgroup===A&&_(fe,ne)}else _(d,ne);else _(d,ne)}else if(u==="toggleothers"){var ye,Se,we,_e,ke,Me=!0;for(w=0;w<s.length;w++)if(ke=s[w],ye=ke===d,we=ke.showlegend!==!0,!(ye||we)&&(Se=Q&&ke.legendgroup===A,!Se&&ke.legend===B&&ke.visible===!0&&!y.traceIs(ke,"notLegendIsolatable"))){Me=!1;break}for(w=0;w<s.length;w++)if(ke=s[w],!(ke.visible===!1||ke.legend!==B)&&!y.traceIs(ke,"notLegendIsolatable"))switch(d.visible){case"legendonly":_(ke,!0);break;case!0:_e=Me?!0:"legendonly",ye=ke===d,we=ke.showlegend!==!0&&!ke.legendgroup,Se=ye||Q&&ke.legendgroup===A,_(ke,Se||we?!0:_e);break}}for(w=0;w<k.length;w++)if(b=k[w],!!b){var me=b.constructUpdate(),Ee=Object.keys(me);for(C=0;C<Ee.length;C++)S=Ee[C],a=E[S]=E[S]||[],a[I[w]]=me[S]}for(m=Object.keys(E),w=0;w<m.length;w++)for(S=m[w],C=0;C<x.length;C++)E[S].hasOwnProperty(C)||(E[S][C]=void 0);z?y.call("_guiUpdate",p,E,{shapes:F},x):y.call("_guiRestyle",p,E,x)}}},10130:function(G,V){V.isGrouped=function(y){return(y.traceorder||"").indexOf("grouped")!==-1},V.isVertical=function(y){return y.orientation!=="h"},V.isReversed=function(y){return(y.traceorder||"").indexOf("reversed")!==-1}},2199:function(G,V,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(G,V,e){var y=e(39898),P=e(73972),o=e(71828),L=o.strTranslate,M=e(91424),v=e(7901),p=e(52075).extractOpts,r=e(34098),t=e(63463),i=e(53581).castOption,n=e(14928),c=12,u=5,l=2,g=10,f=5;G.exports=function(A,w,C){var b=w._fullLayout;C||(C=b.legend);var S=C.itemsizing==="constant",m=C.itemwidth,a=(m+n.itemGap*2)/2,E=L(a,0),x=function(J,Y,ae,j){var q;if(J+1)q=J;else if(Y&&Y.width>0)q=Y.width;else return 0;return S?j:Math.min(q,ae)};A.each(function(J){var Y=y.select(this),ae=o.ensureSingle(Y,"g","layers");ae.style("opacity",J[0].trace.opacity);var j=C.valign,q=J[0].lineHeight,oe=J[0].height;if(j==="middle"||!q||!oe)ae.attr("transform",null);else{var Q={top:1,bottom:-1}[j],X=Q*(.5*(q-oe+3));ae.attr("transform",L(0,X))}var se=ae.selectAll("g.legendfill").data([J]);se.enter().append("g").classed("legendfill",!0);var ne=ae.selectAll("g.legendlines").data([J]);ne.enter().append("g").classed("legendlines",!0);var fe=ae.selectAll("g.legendsymbols").data([J]);fe.enter().append("g").classed("legendsymbols",!0),fe.selectAll("g.legendpoints").data([J]).enter().append("g").classed("legendpoints",!0)}).each(ue).each(N).each(z).each(F).each(_).each(te).each($).each(k).each(I).each(B).each(W);function k(J){var Y=h(J),ae=Y.showFill,j=Y.showLine,q=Y.showGradientLine,oe=Y.showGradientFill,Q=Y.anyFill,X=Y.anyLine,se=J[0],ne=se.trace,fe,ye,Se=p(ne),we=Se.colorscale,_e=Se.reversescale,ke=function(He){if(He.size())if(ae)M.fillGroupStyle(He,w);else{var nt="legendfill-"+ne.uid;M.gradient(He,w,nt,T(_e),we,"fill")}},Me=function(He){if(He.size()){var nt="legendline-"+ne.uid;M.lineGroupStyle(He),M.gradient(He,w,nt,T(_e),we,"stroke")}},me=r.hasMarkers(ne)||!Q?"M5,0":X?"M5,-2":"M5,-3",Ee=y.select(this),Be=Ee.select(".legendfill").selectAll("path").data(ae||oe?[J]:[]);if(Be.enter().append("path").classed("js-fill",!0),Be.exit().remove(),Be.attr("d",me+"h"+m+"v6h-"+m+"z").call(ke),j||q){var Ue=x(void 0,ne.line,g,u);ye=o.minExtend(ne,{line:{width:Ue}}),fe=[o.minExtend(se,{trace:ye})]}var De=Ee.select(".legendlines").selectAll("path").data(j||q?[fe]:[]);De.enter().append("path").classed("js-line",!0),De.exit().remove(),De.attr("d",me+(q?"l"+m+",0.0001":"h"+m)).call(j?M.lineGroupStyle:Me)}function I(J){var Y=h(J),ae=Y.anyFill,j=Y.anyLine,q=Y.showLine,oe=Y.showMarker,Q=J[0],X=Q.trace,se=!oe&&!j&&!ae&&r.hasText(X),ne,fe;function ye(Be,Ue,De,He){var nt=o.nestedProperty(X,Be).get(),lt=o.isArrayOrTypedArray(nt)&&Ue?Ue(nt):nt;if(S&&lt&&He!==void 0&&(lt=He),De){if(lt<De[0])return De[0];if(lt>De[1])return De[1]}return lt}function Se(Be){return Q._distinct&&Q.index&&Be[Q.index]?Be[Q.index]:Be[0]}if(oe||se||q){var we={},_e={};if(oe){we.mc=ye("marker.color",Se),we.mx=ye("marker.symbol",Se),we.mo=ye("marker.opacity",o.mean,[.2,1]),we.mlc=ye("marker.line.color",Se),we.mlw=ye("marker.line.width",o.mean,[0,5],l),_e.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ke=ye("marker.size",o.mean,[2,16],c);we.ms=ke,_e.marker.size=ke}q&&(_e.line={width:ye("line.width",Se,[0,10],u)}),se&&(we.tx="Aa",we.tp=ye("textposition",Se),we.ts=10,we.tc=ye("textfont.color",Se),we.tf=ye("textfont.family",Se)),ne=[o.minExtend(Q,we)],fe=o.minExtend(X,_e),fe.selectedpoints=null,fe.texttemplate=null}var Me=y.select(this).select("g.legendpoints"),me=Me.selectAll("path.scatterpts").data(oe?ne:[]);me.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",E),me.exit().remove(),me.call(M.pointStyle,fe,w),oe&&(ne[0].mrc=3);var Ee=Me.selectAll("g.pointtext").data(se?ne:[]);Ee.enter().append("g").classed("pointtext",!0).append("text").attr("transform",E),Ee.exit().remove(),Ee.selectAll("text").call(M.textPointStyle,fe,w)}function N(J){var Y=J[0].trace,ae=Y.type==="waterfall";if(J[0]._distinct&&ae){var j=J[0].trace[J[0].dir].marker;return J[0].mc=j.color,J[0].mlw=j.line.width,J[0].mlc=j.line.color,O(J,this,"waterfall")}var q=[];Y.visible&&ae&&(q=J[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var oe=y.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(q);oe.enter().append("path").classed("legendwaterfall",!0).attr("transform",E).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function(Q){var X=y.select(this),se=Y[Q[0]].marker,ne=x(void 0,se.line,f,l);X.attr("d",Q[1]).style("stroke-width",ne+"px").call(v.fill,se.color),ne&&X.call(v.stroke,se.line.color)})}function F(J){O(J,this)}function z(J){O(J,this,"funnel")}function O(J,Y,ae){var j=J[0].trace,q=j.marker||{},oe=q.line||{},Q=ae?j.visible&&j.type===ae:P.traceIs(j,"bar"),X=y.select(Y).select("g.legendpoints").selectAll("path.legend"+ae).data(Q?[J]:[]);X.enter().append("path").classed("legend"+ae,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),X.exit().remove(),X.each(function(se){var ne=y.select(this),fe=se[0],ye=x(fe.mlw,q.line,f,l);ne.style("stroke-width",ye+"px");var Se=fe.mcc;if(!C._inHover&&"mc"in fe){var we=p(q),_e=we.mid;_e===void 0&&(_e=(we.max+we.min)/2),Se=M.tryColorscale(q,"")(_e)}var ke=Se||fe.mc||q.color,Me=q.pattern,me=Me&&M.getPatternAttr(Me.shape,0,"");if(me){var Ee=M.getPatternAttr(Me.bgcolor,0,null),Be=M.getPatternAttr(Me.fgcolor,0,null),Ue=Me.fgopacity,De=s(Me.size,8,10),He=s(Me.solidity,.5,1),nt="legend-"+j.uid;ne.call(M.pattern,"legend",w,nt,me,De,He,Se,Me.fillmode,Ee,Be,Ue)}else ne.call(v.fill,ke);ye&&v.stroke(ne,fe.mlc||oe.color)})}function _(J){var Y=J[0].trace,ae=y.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Y.visible&&P.traceIs(Y,"box-violin")?[J]:[]);ae.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),ae.exit().remove(),ae.each(function(){var j=y.select(this);if((Y.boxpoints==="all"||Y.points==="all")&&v.opacity(Y.fillcolor)===0&&v.opacity((Y.line||{}).color)===0){var q=o.minExtend(Y,{marker:{size:S?c:o.constrain(Y.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ae.call(M.pointStyle,q,w)}else{var oe=x(void 0,Y.line,f,l);j.style("stroke-width",oe+"px").call(v.fill,Y.fillcolor),oe&&v.stroke(j,Y.line.color)}})}function B(J){var Y=J[0].trace,ae=y.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Y.visible&&Y.type==="candlestick"?[J,J]:[]);ae.enter().append("path").classed("legendcandle",!0).attr("d",function(j,q){return q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",E).style("stroke-miterlimit",1),ae.exit().remove(),ae.each(function(j,q){var oe=y.select(this),Q=Y[q?"increasing":"decreasing"],X=x(void 0,Q.line,f,l);oe.style("stroke-width",X+"px").call(v.fill,Q.fillcolor),X&&v.stroke(oe,Q.line.color)})}function W(J){var Y=J[0].trace,ae=y.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Y.visible&&Y.type==="ohlc"?[J,J]:[]);ae.enter().append("path").classed("legendohlc",!0).attr("d",function(j,q){return q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",E).style("stroke-miterlimit",1),ae.exit().remove(),ae.each(function(j,q){var oe=y.select(this),Q=Y[q?"increasing":"decreasing"],X=x(void 0,Q.line,f,l);oe.style("fill","none").call(M.dashLine,Q.line.dash,X),X&&v.stroke(oe,Q.line.color)})}function $(J){ie(J,this,"pie")}function te(J){ie(J,this,"funnelarea")}function ie(J,Y,ae){var j=J[0],q=j.trace,oe=ae?q.visible&&q.type===ae:P.traceIs(q,ae),Q=y.select(Y).select("g.legendpoints").selectAll("path.legend"+ae).data(oe?[J]:[]);if(Q.enter().append("path").classed("legend"+ae,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),Q.exit().remove(),Q.size()){var X=q.marker||{},se=x(i(X.line.width,j.pts),X.line,f,l),ne="pieLike",fe=o.minExtend(q,{marker:{line:{width:se}}},ne),ye=o.minExtend(j,{trace:fe},ne);t(Q,ye,fe,w)}}function ue(J){var Y=J[0].trace,ae,j=[];if(Y.visible)switch(Y.type){case"histogram2d":case"heatmap":j=[["M-15,-2V4H15V-2Z"]],ae=!0;break;case"choropleth":case"choroplethmapbox":j=[["M-6,-6V6H6V-6Z"]],ae=!0;break;case"densitymapbox":j=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ae="radial";break;case"cone":j=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ae=!1;break;case"streamtube":j=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ae=!1;break;case"surface":j=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ae=!0;break;case"mesh3d":j=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ae=!1;break;case"volume":j=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ae=!0;break;case"isosurface":j=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ae=!1;break}var q=y.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(j);q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",E).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(oe,Q){var X=y.select(this),se=p(Y),ne=se.colorscale,fe=se.reversescale,ye=function(ke){if(ke.size()){var Me="legendfill-"+Y.uid;M.gradient(ke,w,Me,T(fe,ae==="radial"),ne,"fill")}},Se;if(ne){if(!ae){var _e=ne.length;Se=Q===0?ne[fe?_e-1:0][1]:Q===1?ne[fe?0:_e-1][1]:ne[Math.floor((_e-1)/2)][1]}}else{var we=Y.vertexcolor||Y.facecolor||Y.color;Se=o.isArrayOrTypedArray(we)?we[Q]||we[0]:we}X.attr("d",oe[0]),Se?X.call(v.fill,Se):X.call(ye)})}};function T(d,A){var w=A?"radial":"horizontal";return w+(d?"":"reversed")}function h(d){var A=d[0].trace,w=A.contours,C=r.hasLines(A),b=r.hasMarkers(A),S=A.visible&&A.fill&&A.fill!=="none",m=!1,a=!1;if(w){var E=w.coloring;E==="lines"?m=!0:C=E==="none"||E==="heatmap"||w.showlines,w.type==="constraint"?S=w._operation!=="=":(E==="fill"||E==="heatmap")&&(a=!0)}return{showMarker:b,showLine:C,showFill:S,showGradientLine:m,showGradientFill:a,anyLine:C||m,anyFill:S||a}}function s(d,A,w){return d&&o.isArrayOrTypedArray(d)?A:d>w?w:d}},42068:function(G,V,e){e(93348),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(G,V,e){var y=e(73972),P=e(74875),o=e(41675),L=e(24255),M=e(34031).eraseActiveShape,v=e(71828),p=v._,r=G.exports={};r.toImage={name:"toImage",title:function(d){var A=d._context.toImageButtonOptions||{},w=A.format||"png";return w==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:L.camera,click:function(d){var A=d._context.toImageButtonOptions,w={format:A.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(C){C in A&&(w[C]=A[C])}),y.call("downloadImage",d,w).then(function(C){v.notifier(p(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.disk,click:function(d){P.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.pencil,click:function(d){P.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:L.eraseshape,click:M},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:t};function t(d,A){var w=A.currentTarget,C=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,S=d._fullLayout,m={},a=o.list(d,null,!0),E=S._cartesianSpikesEnabled,x,k;if(C==="zoom"){var I=b==="in"?.5:2,N=(1+I)/2,F=(1-I)/2,z;for(k=0;k<a.length;k++)if(x=a[k],!x.fixedrange)if(z=x._name,b==="auto")m[z+".autorange"]=!0;else if(b==="reset")x._rangeInitial0===void 0&&x._rangeInitial1===void 0?m[z+".autorange"]=!0:x._rangeInitial0===void 0?(m[z+".autorange"]=x._autorangeInitial,m[z+".range"]=[null,x._rangeInitial1]):x._rangeInitial1===void 0?(m[z+".range"]=[x._rangeInitial0,null],m[z+".autorange"]=x._autorangeInitial):m[z+".range"]=[x._rangeInitial0,x._rangeInitial1],x._showSpikeInitial!==void 0&&(m[z+".showspikes"]=x._showSpikeInitial,E==="on"&&!x._showSpikeInitial&&(E="off"));else{var O=[x.r2l(x.range[0]),x.r2l(x.range[1])],_=[N*O[0]+F*O[1],N*O[1]+F*O[0]];m[z+".range[0]"]=x.l2r(_[0]),m[z+".range[1]"]=x.l2r(_[1])}}else C==="hovermode"&&(b==="x"||b==="y")&&(b=S._isHoriz?"y":"x",w.setAttribute("data-val",b)),m[C]=b;S._cartesianSpikesEnabled=E,y.call("_guiRelayout",d,m)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:i},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:i},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:i},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:i};function i(d,A){for(var w=A.currentTarget,C=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,S=d._fullLayout._subplots.gl3d||[],m={},a=C.split("."),E=0;E<S.length;E++)m[S[E]+"."+a[1]]=b;var x=b==="pan"?b:"zoom";m.dragmode=x,y.call("_guiRelayout",d,m)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(d,A){for(var w=A.currentTarget,C=w.getAttribute("data-attr"),b=C==="resetLastSave",S=C==="resetDefault",m=d._fullLayout,a=m._subplots.gl3d||[],E={},x=0;x<a.length;x++){var k=a[x],I=k+".camera",N=k+".aspectratio",F=k+".aspectmode",z=m[k]._scene,O;b?(E[I+".up"]=z.viewInitial.up,E[I+".eye"]=z.viewInitial.eye,E[I+".center"]=z.viewInitial.center,O=!0):S&&(E[I+".up"]=null,E[I+".eye"]=null,E[I+".center"]=null,O=!0),O&&(E[N+".x"]=z.viewInitial.aspectratio.x,E[N+".y"]=z.viewInitial.aspectratio.y,E[N+".z"]=z.viewInitial.aspectratio.z,E[F]=z.viewInitial.aspectmode)}y.call("_guiRelayout",d,E)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:u};function c(d,A){var w=A.currentTarget,C=w._previousVal,b=d._fullLayout,S=b._subplots.gl3d||[],m=["xaxis","yaxis","zaxis"],a={},E={};if(C)E=C,w._previousVal=null;else{for(var x=0;x<S.length;x++){var k=S[x],I=b[k],N=k+".hovermode";a[N]=I.hovermode,E[N]=!1;for(var F=0;F<3;F++){var z=m[F],O=k+"."+z+".showspikes";E[O]=!1,a[O]=I[z].showspikes}}w._previousVal=a}return E}function u(d,A){var w=c(d,A);y.call("_guiRelayout",d,w)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:f};function l(d,A){for(var w=A.currentTarget,C=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,S=d._fullLayout,m=S._subplots.geo||[],a=0;a<m.length;a++){var E=m[a],x=S[E];if(C==="zoom"){var k=x.projection.scale,I=b==="in"?2*k:.5*k;y.call("_guiRelayout",d,E+".projection.scale",I)}}C==="reset"&&s(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:f},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:f};function g(d){var A=d._fullLayout;return A.hovermode?!1:A._has("cartesian")?A._isHoriz?"y":"x":"closest"}function f(d){var A=g(d);y.call("_guiRelayout",d,"hovermode",A)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:L.home,click:function(d){for(var A={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<d._fullData.length;w++){var C=d._fullData[w]._viewInitial;A["node.groups"].push(C.node.groups.slice()),A["node.x"].push(C.node.x.slice()),A["node.y"].push(C.node.y.slice())}y.call("restyle",d,A)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(d,A){var w=c(d,A);w.hovermode=g(d),y.call("_guiRelayout",d,w)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:L.home,click:function(d,A){var w=A.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(d,A),w.setAttribute("data-attr","resetLastSave"),n(d,A),s(d,"geo"),s(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var A=d._fullLayout,w=A._cartesianSpikesEnabled;A._cartesianSpikesEnabled=w==="on"?"off":"on",y.call("_guiRelayout",d,T(d))}};function T(d){for(var A=d._fullLayout,w=A._cartesianSpikesEnabled==="on",C=o.list(d,null,!0),b={},S=0;S<C.length;S++){var m=C[S];b[m._name+".showspikes"]=w?!0:m._showSpikeInitial}return b}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:L.home,click:function(d){s(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:h},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:h};function h(d,A){for(var w=A.currentTarget,C=w.getAttribute("data-val"),b=d._fullLayout,S=b._subplots.mapbox||[],m=1.05,a={},E=0;E<S.length;E++){var x=S[E],k=b[x].zoom,I=C==="in"?m*k:k/m;a[x+".zoom"]=I}y.call("_guiRelayout",d,a)}function s(d,A){for(var w=d._fullLayout,C=w._subplots[A]||[],b={},S=0;S<C.length;S++)for(var m=C[S],a=w[m]._subplot,E=a.viewInitial,x=Object.keys(E),k=0;k<x.length;k++){var I=x[k];b[m+"."+I]=E[I]}y.call("_guiRelayout",d,b)}},93348:function(G,V,e){var y=e(26023),P=Object.keys(y),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),M=[],v=function(p){if(L.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();M.indexOf(r)===-1&&M.push(r),M.indexOf(t)===-1&&M.push(t)}};P.forEach(function(p){v(y[p])}),M.sort(),G.exports={DRAW_MODES:o,backButtons:L,foreButtons:M}},35750:function(G,V,e){var y=e(71828),P=e(7901),o=e(44467),L=e(42068);G.exports=function(v,p){var r=v.modebar||{},t=o.newContainer(p,"modebar");function i(c,u){return y.coerce(r,t,L,c,u)}i("orientation"),i("bgcolor",P.addOpacity(p.paper_bgcolor,.5));var n=P.contrast(P.rgb(p.modebar.bgcolor));i("color",P.addOpacity(n,.3)),i("activecolor",P.addOpacity(n,.7)),i("uirevision",p.uirevision),i("add"),i("remove")}},64168:function(G,V,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(G,V,e){var y=e(41675),P=e(34098),o=e(73972),L=e(23469).isUnifiedHover,M=e(37676),v=e(26023),p=e(93348).DRAW_MODES,r=e(71828).extendDeep;G.exports=function(f){var T=f._fullLayout,h=f._context,s=T._modeBar;if(!h.displayModeBar&&!h.watermark){s&&(s.destroy(),delete T._modeBar);return}if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=h.modeBarButtons,A;Array.isArray(d)&&d.length?A=l(d):!h.displayModeBar&&h.watermark?A=[]:A=t(f),s?s.update(f,A):T._modeBar=M(f,A)};function t(g){var f=g._fullLayout,T=g._fullData,h=g._context;function s(Q,X){if(typeof X=="string"){if(X.toLowerCase()===Q.toLowerCase())return!0}else{var se=X.name,ne=X._cat||X.name;if(se===Q||ne===Q.toLowerCase())return!0}return!1}var d=f.modebar.add;typeof d=="string"&&(d=[d]);var A=f.modebar.remove;typeof A=="string"&&(A=[A]);var w=h.modeBarButtonsToAdd.concat(d.filter(function(Q){for(var X=0;X<h.modeBarButtonsToRemove.length;X++)if(s(Q,h.modeBarButtonsToRemove[X]))return!1;return!0})),C=h.modeBarButtonsToRemove.concat(A.filter(function(Q){for(var X=0;X<h.modeBarButtonsToAdd.length;X++)if(s(Q,h.modeBarButtonsToAdd[X]))return!1;return!0})),b=f._has("cartesian"),S=f._has("gl3d"),m=f._has("geo"),a=f._has("pie"),E=f._has("funnelarea"),x=f._has("gl2d"),k=f._has("ternary"),I=f._has("mapbox"),N=f._has("polar"),F=f._has("smith"),z=f._has("sankey"),O=i(f),_=L(f.hovermode),B=[];function W(Q){if(Q.length){for(var X=[],se=0;se<Q.length;se++){for(var ne=Q[se],fe=v[ne],ye=fe.name.toLowerCase(),Se=(fe._cat||fe.name).toLowerCase(),we=!1,_e=0;_e<C.length;_e++){var ke=C[_e].toLowerCase();if(ke===ye||ke===Se){we=!0;break}}we||X.push(v[ne])}B.push(X)}}var $=["toImage"];h.showEditInChartStudio?$.push("editInChartStudio"):h.showSendToCloud&&$.push("sendDataToCloud"),W($);var te=[],ie=[],ue=[],J=[];(b||x||a||E||k)+m+S+I+N+F>1?(ie=["toggleHover"],ue=["resetViews"]):m?(te=["zoomInGeo","zoomOutGeo"],ie=["hoverClosestGeo"],ue=["resetGeo"]):S?(ie=["hoverClosest3d"],ue=["resetCameraDefault3d","resetCameraLastSave3d"]):I?(te=["zoomInMapbox","zoomOutMapbox"],ie=["toggleHover"],ue=["resetViewMapbox"]):x?ie=["hoverClosestGl2d"]:a?ie=["hoverClosestPie"]:z?(ie=["hoverClosestCartesian","hoverCompareCartesian"],ue=["resetViewSankey"]):ie=["toggleHover"],b&&(ie=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(c(T)||_)&&(ie=[]),(b||x)&&!O&&(te=["zoomIn2d","zoomOut2d","autoScale2d"],ue[0]!=="resetViews"&&(ue=["resetScale2d"])),S?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(b||x)&&!O||k?J=["zoom2d","pan2d"]:I||m?J=["pan2d"]:N&&(J=["zoom2d"]),n(T)&&J.push("select2d","lasso2d");var Y=[],ae=function(Q){Y.indexOf(Q)===-1&&ie.indexOf(Q)!==-1&&Y.push(Q)};if(Array.isArray(w)){for(var j=[],q=0;q<w.length;q++){var oe=w[q];typeof oe=="string"?(oe=oe.toLowerCase(),p.indexOf(oe)!==-1?(f._has("mapbox")||f._has("cartesian"))&&J.push(oe):oe==="togglespikelines"?ae("toggleSpikelines"):oe==="togglehover"?ae("toggleHover"):oe==="hovercompare"?ae("hoverCompareCartesian"):oe==="hoverclosest"?(ae("hoverClosestCartesian"),ae("hoverClosestGeo"),ae("hoverClosest3d"),ae("hoverClosestGl2d"),ae("hoverClosestPie")):oe==="v1hovermode"&&(ae("toggleHover"),ae("hoverClosestCartesian"),ae("hoverCompareCartesian"),ae("hoverClosestGeo"),ae("hoverClosest3d"),ae("hoverClosestGl2d"),ae("hoverClosestPie"))):j.push(oe)}w=j}return W(J),W(te.concat(ue)),W(Y),u(B,w)}function i(g){for(var f=y.list({_fullLayout:g},null,!0),T=0;T<f.length;T++)if(!f[T].fixedrange)return!1;return!0}function n(g){for(var f=!1,T=0;T<g.length&&!f;T++){var h=g[T];!h._module||!h._module.selectPoints||(o.traceIs(h,"scatter-like")?(P.hasMarkers(h)||P.hasText(h))&&(f=!0):o.traceIs(h,"box-violin")?(h.boxpoints==="all"||h.points==="all")&&(f=!0):f=!0)}return f}function c(g){for(var f=0;f<g.length;f++)if(!o.traceIs(g[f],"noHover"))return!1;return!0}function u(g,f){if(f.length)if(Array.isArray(f[0]))for(var T=0;T<f.length;T++)g.push(f[T]);else g.push(f);return g}function l(g){for(var f=r([],g),T=0;T<f.length;T++)for(var h=f[T],s=0;s<h.length;s++){var d=h[s];if(typeof d=="string")if(v[d]!==void 0)f[T][s]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return f}},37676:function(G,V,e){var y=e(39898),P=e(92770),o=e(71828),L=e(24255),M=e(11506).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,c){this.graphInfo=n;var u=this.graphInfo._context,l=this.graphInfo._fullLayout,g="modebar-"+l._uid;this.element.setAttribute("id",g),this._uid=g,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",c=c.reverse());var f=l.modebar,T=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(g),o.addRelatedStyleRule(g,T+"#"+g+" .modebar-group","background-color: "+f.bgcolor),o.addRelatedStyleRule(g,"#"+g+" .modebar-btn .icon path","fill: "+f.color),o.addRelatedStyleRule(g,"#"+g+" .modebar-btn:hover .icon path","fill: "+f.activecolor),o.addRelatedStyleRule(g,"#"+g+" .modebar-btn.active .icon path","fill: "+f.activecolor);var h=!this.hasButtons(c),s=this.hasLogo!==u.displaylogo,d=this.locale!==u.locale;if(this.locale=u.locale,(h||s||d)&&(this.removeAllButtons(),this.updateButtons(c),u.watermark||u.displaylogo)){var A=this.getLogo();u.watermark&&(A.className=A.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(A,this.element.childNodes[0]):this.element.appendChild(A),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var c=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var l=c.createGroup();u.forEach(function(g){var f=g.name;if(!f)throw new Error("must provide button 'name' in button config");if(c.buttonsNames.indexOf(f)!==-1)throw new Error("button name '"+f+"' is taken");c.buttonsNames.push(f);var T=c.createButton(g);c.buttonElements.push(T),l.appendChild(T)}),c.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var c=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&u.setAttribute("data-title",l),n.attr!==void 0&&u.setAttribute("data-attr",n.attr);var g=n.val;g!==void 0&&(typeof g=="function"&&(g=g(this.graphInfo)),u.setAttribute("data-val",g));var f=n.click;if(typeof f!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(h){n.click(c.graphInfo,h),c.updateActiveButton(h.currentTarget)}),u.setAttribute("data-toggle",n.toggle||!1),n.toggle&&y.select(u).classed("active",!0);var T=n.icon;return typeof T=="function"?u.appendChild(T()):u.appendChild(this.createIcon(T||L.question)),u.setAttribute("data-gravity",n.gravity||"n"),u},r.createIcon=function(n){var c=P(n.height)?Number(n.height):n.ascent-n.descent,u="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(u,"svg"),l.setAttribute("viewBox",[0,0,n.width,c].join(" ")),l.setAttribute("class","icon");var g=document.createElementNS(u,"path");g.setAttribute("d",n.path),n.transform?g.setAttribute("transform",n.transform):n.ascent!==void 0&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(g)}if(n.svg){var f=v.parseFromString(n.svg,"application/xml");l=f.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var c=this.graphInfo._fullLayout,u=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var g=l.getAttribute("data-val")||!0,f=l.getAttribute("data-attr"),T=l.getAttribute("data-toggle")==="true",h=y.select(l);if(T)f===u&&h.classed("active",!h.classed("active"));else{var s=f===null?f:o.nestedProperty(c,f).get();h.classed("active",s===g)}})},r.hasButtons=function(n){var c=this.buttons;if(!c||n.length!==c.length)return!1;for(var u=0;u<n.length;++u){if(n[u].length!==c[u].length)return!1;for(var l=0;l<n[u].length;l++)if(n[u][l].name!==c[u][l].name)return!1}return!0};function t(n){return n+" (v"+M+")"}r.getLogo=function(){var n=this.createGroup(),c=document.createElement("a");return c.href="https://plotly.com/",c.target="_blank",c.setAttribute("data-title",t(o._(this.graphInfo,"Produced with Plotly.js"))),c.className="modebar-btn plotlyjsicon modebar-btn--logo",c.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(c),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)};function i(n,c){var u=n._fullLayout,l=new p({graphInfo:n,container:u._modebardiv.node(),buttons:c});return u._privateplot&&y.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}G.exports=i},37113:function(G,V,e){var y=e(41940),P=e(22399),o=e(44467).templatedArray,L=o("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:y({editType:"plot"}),bgcolor:{valType:"color",dflt:P.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:P.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(G,V,e){var y=e(71828),P=e(7901),o=e(44467),L=e(85501),M=e(37113),v=e(89573);G.exports=function(i,n,c,u,l){var g=i.rangeselector||{},f=o.newContainer(n,"rangeselector");function T(w,C){return y.coerce(g,f,M,w,C)}var h=L(g,f,{name:"buttons",handleItemDefaults:p,calendar:l}),s=T("visible",h.length>0);if(s){var d=r(n,c,u);T("x",d[0]),T("y",d[1]),y.noneOrAll(i,n,["x","y"]),T("xanchor"),T("yanchor"),y.coerceFont(T,"font",c.font);var A=T("bgcolor");T("activecolor",P.contrast(A,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function p(t,i,n,c){var u=c.calendar;function l(T,h){return y.coerce(t,i,M.buttons,T,h)}var g=l("visible");if(g){var f=l("step");f!=="all"&&(u&&u!=="gregorian"&&(f==="month"||f==="year")?i.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,i,n){for(var c=n.filter(function(f){return i[f].anchor===t._id}),u=0,l=0;l<c.length;l++){var g=i[c[l]].domain;g&&(u=Math.max(g[1],u))}return[t.domain[0],u+v.yPad]}},21598:function(G,V,e){var y=e(39898),P=e(73972),o=e(74875),L=e(7901),M=e(91424),v=e(71828),p=v.strTranslate,r=e(63893),t=e(41675),i=e(18783),n=i.LINE_SPACING,c=i.FROM_TL,u=i.FROM_BR,l=e(89573),g=e(70565);G.exports=function(S){var m=S._fullLayout,a=m._infolayer.selectAll(".rangeselector").data(f(S),T);a.enter().append("g").classed("rangeselector",!0),a.exit().remove(),a.style({cursor:"pointer","pointer-events":"all"}),a.each(function(E){var x=y.select(this),k=E,I=k.rangeselector,N=x.selectAll("g.button").data(v.filterVisible(I.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(F){var z=y.select(this),O=g(k,F);F._isActive=h(k,F,O),z.call(s,I,F),z.call(A,I,F,S),z.on("click",function(){S._dragged||P.call("_guiRelayout",S,O)}),z.on("mouseover",function(){F._isHovered=!0,z.call(s,I,F)}),z.on("mouseout",function(){F._isHovered=!1,z.call(s,I,F)})}),C(S,N,I,k._name,x)})};function f(b){for(var S=t.list(b,"x",!0),m=[],a=0;a<S.length;a++){var E=S[a];E.rangeselector&&E.rangeselector.visible&&m.push(E)}return m}function T(b){return b._id}function h(b,S,m){if(S.step==="all")return b.autorange===!0;var a=Object.keys(m);return b.range[0]===m[a[0]]&&b.range[1]===m[a[1]]}function s(b,S,m){var a=v.ensureSingle(b,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});a.attr({rx:l.rx,ry:l.ry}),a.call(L.stroke,S.bordercolor).call(L.fill,d(S,m)).style("stroke-width",S.borderwidth+"px")}function d(b,S){return S._isActive||S._isHovered?b.activecolor:b.bgcolor}function A(b,S,m,a){function E(k){r.convertToTspans(k,a)}var x=v.ensureSingle(b,"text","selector-text",function(k){k.attr("text-anchor","middle")});x.call(M.font,S.font).text(w(m,a._fullLayout._meta)).call(E)}function w(b,S){return b.label?S?v.templateString(b.label,S):b.label:b.step==="all"?"all":b.count+b.step.charAt(0)}function C(b,S,m,a,E){var x=0,k=0,I=m.borderwidth;S.each(function(){var B=y.select(this),W=B.select(".selector-text"),$=m.font.size*n,te=Math.max($*r.lineCount(W),16)+3;k=Math.max(k,te)}),S.each(function(){var B=y.select(this),W=B.select(".selector-rect"),$=B.select(".selector-text"),te=$.node()&&M.bBox($.node()).width,ie=m.font.size*n,ue=r.lineCount($),J=Math.max(te+10,l.minButtonWidth);B.attr("transform",p(I+x,I)),W.attr({x:0,y:0,width:J,height:k}),r.positionText($,J/2,k/2-(ue-1)*ie/2+3),x+=J+5});var N=b._fullLayout._size,F=N.l+N.w*m.x,z=N.t+N.h*(1-m.y),O="left";v.isRightAnchor(m)&&(F-=x,O="right"),v.isCenterAnchor(m)&&(F-=x/2,O="center");var _="top";v.isBottomAnchor(m)&&(z-=k,_="bottom"),v.isMiddleAnchor(m)&&(z-=k/2,_="middle"),x=Math.ceil(x),k=Math.ceil(k),F=Math.round(F),z=Math.round(z),o.autoMargin(b,a+"-range-selector",{x:m.x,y:m.y,l:x*c[O],r:x*u[O],b:k*u[_],t:k*c[_]}),E.attr("transform",p(F,z))}},70565:function(G,V,e){var y=e(81041),P=e(71828).titleCase;G.exports=function(M,v){var p=M._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=o(M,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function o(L,M){var v=L.range,p=new Date(L.r2l(v[1])),r=M.step,t=y["utc"+P(r)],i=M.count,n;switch(M.stepmode){case"backward":n=L.l2r(+t.offset(p,-i));break;case"todate":var c=t.offset(p,-i);n=L.l2r(+t.ceil(c));break}var u=v[1];return[n,u]}},97218:function(G,V,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(G,V,e){var y=e(22399);G.exports={bgcolor:{valType:"color",dflt:y.background,editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(G,V,e){var y=e(41675).list,P=e(71739).getAutoRange,o=e(73251);G.exports=function(M){for(var v=y(M,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[o.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=P(M,r))}}},73251:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(G,V,e){var y=e(71828),P=e(44467),o=e(41675),L=e(75148),M=e(47850);G.exports=function(p,r,t){var i=p[t],n=r[t];if(!(i.rangeslider||r._requestRangeslider[n._id]))return;y.isPlainObject(i.rangeslider)||(i.rangeslider={});var c=i.rangeslider,u=P.newContainer(n,"rangeslider");function l(a,E){return y.coerce(c,u,L,a,E)}var g,f;function T(a,E){return y.coerce(g,f,M,a,E)}var h=l("visible");if(h){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(c.range)),l("range");var s=r._subplots;if(s)for(var d=s.cartesian.filter(function(a){return a.substr(0,a.indexOf("y"))===o.name2id(t)}).map(function(a){return a.substr(a.indexOf("y"),a.length)}),A=y.simpleMap(d,o.id2name),w=0;w<A.length;w++){var C=A[w];g=c[C]||{},f=P.newContainer(u,C,"yaxis");var b=r[C],S;g.range&&b.isValidRange(g.range)&&(S="fixed");var m=T("rangemode",S);m!=="match"&&T("range",b.range.slice())}u._input=c}}},72413:function(G,V,e){var y=e(39898),P=e(73972),o=e(74875),L=e(71828),M=L.strTranslate,v=e(91424),p=e(7901),r=e(92998),t=e(93612),i=e(41675),n=e(28569),c=e(6964),u=e(73251);G.exports=function(S){for(var m=S._fullLayout,a=m._rangeSliderData,E=0;E<a.length;E++){var x=a[E][u.name];x._clipId=x._id+"-"+m._uid}function k(N){return N._name}var I=m._infolayer.selectAll("g."+u.containerClassName).data(a,k);I.exit().each(function(N){var F=N[u.name];m._topdefs.select("#"+F._clipId).remove()}).remove(),a.length!==0&&(I.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),I.each(function(N){var F=y.select(this),z=N[u.name],O=m[i.id2name(N.anchor)],_=z[i.id2name(N.anchor)];if(z.range){var B=L.simpleMap(z.range,N.r2l),W=L.simpleMap(N.range,N.r2l),$;W[0]<W[1]?$=[Math.min(B[0],W[0]),Math.max(B[1],W[1])]:$=[Math.max(B[0],W[0]),Math.min(B[1],W[1])],z.range=z._input.range=L.simpleMap($,N.l2r)}N.cleanRange("rangeslider.range");var te=m._size,ie=N.domain;z._width=te.w*(ie[1]-ie[0]);var ue=Math.round(te.l+te.w*ie[0]),J=Math.round(te.t+te.h*(1-N._counterDomainMin)+(N.side==="bottom"?N._depth:0)+z._offsetShift+u.extraPad);F.attr("transform",M(ue,J)),z._rl=L.simpleMap(z.range,N.r2l);var Y=z._rl[0],ae=z._rl[1],j=ae-Y;if(z.p2d=function(we){return we/z._width*j+Y},z.d2p=function(we){return(we-Y)/j*z._width},N.rangebreaks){var q=N.locateBreaks(Y,ae);if(q.length){var oe,Q,X=0;for(oe=0;oe<q.length;oe++)Q=q[oe],X+=Q.max-Q.min;var se=z._width/(ae-Y-X),ne=[-se*Y];for(oe=0;oe<q.length;oe++)Q=q[oe],ne.push(ne[ne.length-1]-se*(Q.max-Q.min));for(z.d2p=function(we){for(var _e=ne[0],ke=0;ke<q.length;ke++){var Me=q[ke];if(we>=Me.max)_e=ne[ke+1];else if(we<Me.min)break}return _e+se*we},oe=0;oe<q.length;oe++)Q=q[oe],Q.pmin=z.d2p(Q.min),Q.pmax=z.d2p(Q.max);z.p2d=function(we){for(var _e=ne[0],ke=0;ke<q.length;ke++){var Me=q[ke];if(we>=Me.pmax)_e=ne[ke+1];else if(we<Me.pmin)break}return(we-_e)/se}}}if(_.rangemode!=="match"){var fe=O.r2l(_.range[0]),ye=O.r2l(_.range[1]),Se=ye-fe;z.d2pOppAxis=function(we){return(we-fe)/Se*z._height}}F.call(h,S,N,z).call(s,S,N,z).call(d,S,N,z).call(w,S,N,z,_).call(C,S,N,z).call(b,S,N,z),g(F,S,N,z),T(F,S,N,z,O,_),N.side==="bottom"&&r.draw(S,N._id+"title",{propContainer:N,propName:N._name+".title",placeholder:m._dfltTitle.x,attributes:{x:N._offset+N._length/2,y:J+z._height+z._offsetShift+10+1.5*N.title.font.size,"text-anchor":"middle"}})}))};function l(S){return typeof S.clientX=="number"?S.clientX:S.touches&&S.touches.length>0?S.touches[0].clientX:0}function g(S,m,a,E){if(m._context.staticPlot)return;var x=S.select("rect."+u.slideBoxClassName).node(),k=S.select("rect."+u.grabAreaMinClassName).node(),I=S.select("rect."+u.grabAreaMaxClassName).node();function N(){var F=y.event,z=F.target,O=l(F),_=O-S.node().getBoundingClientRect().left,B=E.d2p(a._rl[0]),W=E.d2p(a._rl[1]),$=n.coverSlip();this.addEventListener("touchmove",te),this.addEventListener("touchend",ie),$.addEventListener("mousemove",te),$.addEventListener("mouseup",ie);function te(ue){var J=l(ue),Y=+J-O,ae,j,q;switch(z){case x:if(q="ew-resize",B+Y>a._length||W+Y<0)return;ae=B+Y,j=W+Y;break;case k:if(q="col-resize",B+Y>a._length)return;ae=B+Y,j=W;break;case I:if(q="col-resize",W+Y<0)return;ae=B,j=W+Y;break;default:q="ew-resize",ae=_,j=_+Y;break}if(j<ae){var oe=j;j=ae,ae=oe}E._pixelMin=ae,E._pixelMax=j,c(y.select($),q),f(S,m,a,E)}function ie(){$.removeEventListener("mousemove",te),$.removeEventListener("mouseup",ie),this.removeEventListener("touchmove",te),this.removeEventListener("touchend",ie),L.removeElement($)}}S.on("mousedown",N),S.on("touchstart",N)}function f(S,m,a,E){function x(N){return a.l2r(L.constrain(N,E._rl[0],E._rl[1]))}var k=x(E.p2d(E._pixelMin)),I=x(E.p2d(E._pixelMax));window.requestAnimationFrame(function(){P.call("_guiRelayout",m,a._name+".range",[k,I])})}function T(S,m,a,E,x,k){var I=u.handleWidth/2;function N(ue){return L.constrain(ue,0,E._width)}function F(ue){return L.constrain(ue,0,E._height)}function z(ue){return L.constrain(ue,-I,E._width+I)}var O=N(E.d2p(a._rl[0])),_=N(E.d2p(a._rl[1]));if(S.select("rect."+u.slideBoxClassName).attr("x",O).attr("width",_-O),S.select("rect."+u.maskMinClassName).attr("width",O),S.select("rect."+u.maskMaxClassName).attr("x",_).attr("width",E._width-_),k.rangemode!=="match"){var B=E._height-F(E.d2pOppAxis(x._rl[1])),W=E._height-F(E.d2pOppAxis(x._rl[0]));S.select("rect."+u.maskMinOppAxisClassName).attr("x",O).attr("height",B).attr("width",_-O),S.select("rect."+u.maskMaxOppAxisClassName).attr("x",O).attr("y",W).attr("height",E._height-W).attr("width",_-O),S.select("rect."+u.slideBoxClassName).attr("y",B).attr("height",W-B)}var $=.5,te=Math.round(z(O-I))-$,ie=Math.round(z(_-I))+$;S.select("g."+u.grabberMinClassName).attr("transform",M(te,$)),S.select("g."+u.grabberMaxClassName).attr("transform",M(ie,$))}function h(S,m,a,E){var x=L.ensureSingle(S,"rect",u.bgClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),k=E.borderwidth%2===0?E.borderwidth:E.borderwidth-1,I=-E._offsetShift,N=v.crispRound(m,E.borderwidth);x.attr({width:E._width+k,height:E._height+k,transform:M(I,I),"stroke-width":N}).call(p.stroke,E.bordercolor).call(p.fill,E.bgcolor)}function s(S,m,a,E){var x=m._fullLayout,k=L.ensureSingleById(x._topdefs,"clipPath",E._clipId,function(I){I.append("rect").attr({x:0,y:0})});k.select("rect").attr({width:E._width,height:E._height})}function d(S,m,a,E){var x=m.calcdata,k=S.selectAll("g."+u.rangePlotClassName).data(a._subplotsWith,L.identity);k.enter().append("g").attr("class",function(N){return u.rangePlotClassName+" "+N}).call(v.setClipUrl,E._clipId,m),k.order(),k.exit().remove();var I;k.each(function(N,F){var z=y.select(this),O=F===0,_=i.getFromId(m,N,"y"),B=_._name,W=E[B],$={data:[],layout:{xaxis:{type:a.type,domain:[0,1],range:E.range.slice(),calendar:a.calendar},width:E._width,height:E._height,margin:{t:0,b:0,l:0,r:0}},_context:m._context};a.rangebreaks&&($.layout.xaxis.rangebreaks=a.rangebreaks),$.layout[B]={type:_.type,domain:[0,1],range:W.rangemode!=="match"?W.range.slice():_.range.slice(),calendar:_.calendar},_.rangebreaks&&($.layout[B].rangebreaks=_.rangebreaks),o.supplyDefaults($);var te=$._fullLayout.xaxis,ie=$._fullLayout[B];te.clearCalc(),te.setScale(),ie.clearCalc(),ie.setScale();var ue={id:N,plotgroup:z,xaxis:te,yaxis:ie,isRangePlot:!0};O?I=ue:(ue.mainplot="xy",ue.mainplotinfo=I),t.rangePlot(m,ue,A(x,N))})}function A(S,m){for(var a=[],E=0;E<S.length;E++){var x=S[E],k=x[0].trace;k.xaxis+k.yaxis===m&&a.push(x)}return a}function w(S,m,a,E,x){var k=L.ensureSingle(S,"rect",u.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})});k.attr("height",E._height).call(p.fill,u.maskColor);var I=L.ensureSingle(S,"rect",u.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});if(I.attr("height",E._height).call(p.fill,u.maskColor),x.rangemode!=="match"){var N=L.ensureSingle(S,"rect",u.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",E._width).call(p.fill,u.maskOppAxisColor);var F=L.ensureSingle(S,"rect",u.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",E._width).style("border-top",u.maskOppBorder).call(p.fill,u.maskOppAxisColor)}}function C(S,m,a,E){if(!m._context.staticPlot){var x=L.ensureSingle(S,"rect",u.slideBoxClassName,function(k){k.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});x.attr({height:E._height,fill:u.slideBoxFill})}}function b(S,m,a,E){var x=L.ensureSingle(S,"g",u.grabberMinClassName),k=L.ensureSingle(S,"g",u.grabberMaxClassName),I={x:0,width:u.handleWidth,rx:u.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},N={y:Math.round(E._height/4),height:Math.round(E._height/2)},F=L.ensureSingle(x,"rect",u.handleMinClassName,function(W){W.attr(I)});F.attr(N);var z=L.ensureSingle(k,"rect",u.handleMaxClassName,function(W){W.attr(I)});z.attr(N);var O={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:m._context.staticPlot?void 0:u.grabAreaCursor},_=L.ensureSingle(x,"rect",u.grabAreaMinClassName,function(W){W.attr(O)});_.attr("height",E._height);var B=L.ensureSingle(k,"rect",u.grabAreaMaxClassName,function(W){W.attr(O)});B.attr("height",E._height)}},549:function(G,V,e){var y=e(41675),P=e(63893),o=e(73251),L=e(18783).LINE_SPACING,M=o.name;function v(p){var r=p&&p[M];return r&&r.visible}V.isVisible=v,V.makeData=function(p){var r=y.list({_fullLayout:p},"x",!0),t=p.margin,i=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var c=r[n];if(v(c)){i.push(c);var u=c[M];u._id=M+c._id,u._height=(p.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}p._rangeSliderData=i},V.autoMarginOpts=function(p,r){var t=p._fullLayout,i=r[M],n=r._id.charAt(0),c=0,u=0;if(r.side==="bottom"&&(c=r._depth,r.title.text!==t._dfltTitle[n])){u=1.5*r.title.font.size+10+i._offsetShift;var l=(r.title.text.match(P.BR_TAG_ALL)||[]).length;u+=l*r.title.font.size*L}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:i._height+c+Math.max(t.margin.b,u),pad:o.extraPad+i._offsetShift*2}}},13137:function(G,V,e){var y=e(71828),P=e(75148),o=e(47850),L=e(549);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:y.extendFlat({},P,{yaxis:o})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},47850:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(G,V,e){var y=e(50215),P=e(82196).line,o=e(79952).P,L=e(1426).extendFlat,M=e(30962).overrideAll,v=e(44467).templatedArray;e(24695),G.exports=M(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},y.xref,{}),yref:L({},y.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:P.color,width:L({},P.width,{min:1,dflt:1}),dash:L({},o,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(G,V,e){var y=e(71828),P=e(89298),o=e(85501),L=e(8389),M=e(30477);G.exports=function(r,t){o(r,t,{name:"selections",handleItemDefaults:v});for(var i=t.selections,n=0;n<i.length;n++){var c=i[n];c&&c.path===void 0&&(c.x0===void 0||c.x1===void 0||c.y0===void 0||c.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function i(x,k){return y.coerce(p,r,L,x,k)}var n=i("path"),c=n?"path":"rect",u=i("type",c),l=u!=="path";l&&delete r.path,i("opacity"),i("line.color"),i("line.width"),i("line.dash");for(var g=["x","y"],f=0;f<2;f++){var T=g[f],h={_fullLayout:t},s,d,A,w=P.coerceRef(p,r,h,T);if(s=P.getFromId(h,w),s._selectionIndices.push(r._index),A=M.rangeToShapePosition(s),d=M.shapePositionToRange(s),l){var C=T+"0",b=T+"1",S=p[C],m=p[b];p[C]=d(p[C],!0),p[b]=d(p[b],!0),P.coercePosition(r,h,i,w,C),P.coercePosition(r,h,i,w,b);var a=r[C],E=r[b];a!==void 0&&E!==void 0&&(r[C]=A(a),r[b]=A(E),p[C]=S,p[b]=m)}}l&&y.noneOrAll(p,r,["x0","x1","y0","y1"])}},32485:function(G,V,e){var y=e(60165).readPaths,P=e(42359),o=e(51873).clearOutlineControllers,L=e(7901),M=e(91424),v=e(44467).arrayEditor,p=e(30477),r=p.getPathString;G.exports={draw:t,drawOne:n,activateLastSelection:l};function t(f){var T=f._fullLayout;o(f),T._selectionLayer.selectAll("path").remove();for(var h in T._plots){var s=T._plots[h].selectionLayer;s&&s.selectAll("path").remove()}for(var d=0;d<T.selections.length;d++)n(f,d)}function i(f){return f._context.editSelection}function n(f,T){f._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var h=p.makeSelectionsOptionsAndPlotinfo(f,T),s=h.options,d=h.plotinfo;if(!s._input)return;A(f._fullLayout._selectionLayer);function A(w){var C=r(f,s),b={"data-index":T,"fill-rule":"evenodd",d:C},S=s.opacity,m="rgba(0,0,0,0)",a=s.line.color||L.contrast(f._fullLayout.plot_bgcolor),E=s.line.width,x=s.line.dash;E||(E=5,x="solid");var k=i(f)&&f._fullLayout._activeSelectionIndex===T;k&&(m=f._fullLayout.activeselection.fillcolor,S=f._fullLayout.activeselection.opacity);for(var I=[],N=1;N>=0;N--){var F=w.append("path").attr(b).style("opacity",N?.1:S).call(L.stroke,a).call(L.fill,m).call(M.dashLine,N?"solid":x,N?4+E:E);if(c(F,f,s),k){var z=v(f.layout,"selections",s);F.style({cursor:"move"});var O={element:F.node(),plotinfo:d,gd:f,editHelpers:z,isActiveSelection:!0},_=y(C,f);P(_,F,O)}else F.style("pointer-events",N?"all":"none");I[N]=F}var B=I[0],W=I[1];W.node().addEventListener("click",function(){return u(f,B)})}}function c(f,T,h){var s=h.xref+h.yref;M.setClipUrl(f,"clip"+T._fullLayout._uid+s,T)}function u(f,T){if(i(f)){var h=T.node(),s=+h.getAttribute("data-index");if(s>=0){if(s===f._fullLayout._activeSelectionIndex){g(f);return}f._fullLayout._activeSelectionIndex=s,f._fullLayout._deactivateSelection=g,t(f)}}}function l(f){if(i(f)){var T=f._fullLayout.selections.length-1;f._fullLayout._activeSelectionIndex=T,f._fullLayout._deactivateSelection=g,t(f)}}function g(f){if(i(f)){var T=f._fullLayout._activeSelectionIndex;T>=0&&(o(f),delete f._fullLayout._activeSelectionIndex,t(f))}}},53777:function(G,V,e){var y=e(79952).P,P=e(1426).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:P({},y,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(G){G.exports=function(e,y,P){P("newselection.mode");var o=P("newselection.line.width");o&&(P("newselection.line.color"),P("newselection.line.dash")),P("activeselection.fillcolor"),P("activeselection.opacity")}},35855:function(G,V,e){var y=e(64505),P=y.selectMode,o=e(51873),L=o.clearOutline,M=e(60165),v=M.readPaths,p=M.writePaths,r=M.fixDatesForPaths;G.exports=function(i,n){if(i.length){var c=i[0][0];if(c){var u=c.getAttribute("d"),l=n.gd,g=l._fullLayout.newselection,f=n.plotinfo,T=f.xaxis,h=f.yaxis,s=n.isActiveSelection,d=n.dragmode,A=(l.layout||{}).selections||[];if(!P(d)&&s!==void 0){var w=l._fullLayout._activeSelectionIndex;if(w<A.length)switch(l._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(u,l,f,s),b={xref:T._id,yref:h._id,opacity:g.opacity,line:{color:g.line.color,width:g.line.width,dash:g.line.dash}},S;C.length===1&&(S=C[0]),S&&S.length===5&&d==="select"?(b.type="rect",b.x0=S[0][1],b.y0=S[0][2],b.x1=S[2][1],b.y1=S[2][2]):(b.type="path",T&&h&&r(C,T,h),b.path=p(C),S=null),L(l);for(var m=n.editHelpers,a=(m||{}).modifyItem,E=[],x=0;x<A.length;x++){var k=l._fullLayout.selections[x];if(!k){E[x]=k;continue}if(E[x]=k._input,s!==void 0&&x===l._fullLayout._activeSelectionIndex){var I=b;switch(k.type){case"rect":a("x0",I.x0),a("x1",I.x1),a("y0",I.y0),a("y1",I.y1);break;case"path":a("path",I.path);break}}}return s===void 0?(E.push(b),E):m?m.getUpdateObj():{}}}}},75549:function(G,V,e){var y=e(71828).strTranslate;function P(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function o(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function L(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return P(v,r[p])}}function M(v){return y(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:P,r2p:o,axValue:L,getTransform:M}},47322:function(G,V,e){var y=e(32485),P=e(3937);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:y.draw,drawOne:y.drawOne,reselect:P.reselect,prepSelect:P.prepSelect,clearOutline:P.clearOutline,clearSelectionsCache:P.clearSelectionsCache,selectOnClick:P.selectOnClick}},3937:function(G,V,e){var y=e(52142),P=e(38258),o=e(73972),L=e(91424).dashStyle,M=e(7901),v=e(30211),p=e(23469).makeEventData,r=e(64505),t=r.freeMode,i=r.rectMode,n=r.drawMode,c=r.openMode,u=r.selectMode,l=e(30477),g=e(21459),f=e(42359),T=e(51873).clearOutline,h=e(60165),s=h.handleEllipse,d=h.readPaths,A=e(90551).newShapes,w=e(35855),C=e(32485).activateLastSelection,b=e(71828),S=b.sorterAsc,m=e(61082),a=e(79990),E=e(41675).getFromId,x=e(33306),k=e(61549).redrawReglTraces,I=e(34122),N=I.MINSELECT,F=m.filter,z=m.tester,O=e(75549),_=O.p2r,B=O.axValue,W=O.getTransform;function $(Oe){return Oe.subplot!==void 0}function te(Oe,Le,xe,pe,Ae){var Te=!$(pe),Ne=t(Ae),Ye=i(Ae),et=c(Ae),ft=n(Ae),pt=u(Ae),Yt=Ae==="drawline",Jt=Ae==="drawcircle",Tt=Yt||Jt,_t=pe.gd,$t=_t._fullLayout,wr=pt&&$t.newselection.mode==="immediate"&&Te,yt=$t._zoomlayer,jt=pe.element.getBoundingClientRect(),Qt=pe.plotinfo,gr=W(Qt),sr=Le-jt.left,vt=xe-jt.top;$t._calcInverseTransform(_t);var at=b.apply3DTransform($t._invTransform)(sr,vt);sr=at[0],vt=at[1];var xt=$t._invScaleX,Mt=$t._invScaleY,Dt=sr,Lt=vt,Bt="M"+sr+","+vt,Nt=pe.xaxes[0],Xt=pe.yaxes[0],lr=Nt._length,fr=Xt._length,hr=Oe.altKey&&!(n(Ae)&&et),We,Ge,kt,It,Zt,rr,ur;j(Oe,_t,pe),Ne&&(We=F([[sr,vt]],I.BENDPX));var er=yt.selectAll("path.select-outline-"+Qt.id).data([1]),zt=ft?$t.newshape:$t.newselection;ft&&(pe.hasText=zt.label.text||zt.label.texttemplate);var vr=ft&&!et?zt.fillcolor:"rgba(0,0,0,0)",yr=zt.line.color||(Te?M.contrast(_t._fullLayout.plot_bgcolor):"#7f7f7f");er.enter().append("path").attr("class","select-outline select-outline-"+Qt.id).style({opacity:ft?zt.opacity/2:1,"stroke-dasharray":L(zt.line.dash,zt.line.width),"stroke-width":zt.line.width+"px","shape-rendering":"crispEdges"}).call(M.stroke,yr).call(M.fill,vr).attr("fill-rule","evenodd").classed("cursor-move",!!ft).attr("transform",gr).attr("d",Bt+"Z");var pr=yt.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1}).attr("transform",gr).attr("d","M0,0Z");if(ft&&pe.hasText){var cr=yt.select(".label-temp");cr.empty()&&(cr=yt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Ur=$t._uid+I.SELECTID,kr=[],Rr=se(_t,pe.xaxes,pe.yaxes,pe.subplot);wr&&!Oe.shiftKey&&(pe._clearSubplotSelections=function(){if(Te){var tn=Nt._id,Bn=Xt._id;lt(_t,tn,Bn,Rr);for(var xn=(_t.layout||{}).selections||[],Mr=[],Er=!1,Wr=0;Wr<xn.length;Wr++){var Hr=$t.selections[Wr];Hr.xref!==tn||Hr.yref!==Bn?Mr.push(xn[Wr]):Er=!0}Er&&(_t._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",_t,{selections:Mr}))}});var vn=Vt(pe);pe.moveFn=function(tn,Bn){pe._clearSubplotSelections&&(pe._clearSubplotSelections(),pe._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(lr,xt*tn+sr)),Lt=Math.max(0,Math.min(fr,Mt*Bn+vt));var xn=Math.abs(Dt-sr),Mr=Math.abs(Lt-vt);if(Ye){var Er,Wr,Hr;if(pt){var an=$t.selectdirection;switch(an==="any"?Mr<Math.min(xn*.6,N)?Er="h":xn<Math.min(Mr*.6,N)?Er="v":Er="d":Er=an,Er){case"h":Wr=Jt?fr/2:0,Hr=fr;break;case"v":Wr=Jt?lr/2:0,Hr=lr;break}}if(ft)switch($t.newshape.drawdirection){case"vertical":Er="h",Wr=Jt?fr/2:0,Hr=fr;break;case"horizontal":Er="v",Wr=Jt?lr/2:0,Hr=lr;break;case"ortho":xn<Mr?(Er="h",Wr=vt,Hr=Lt):(Er="v",Wr=sr,Hr=Dt);break;default:Er="d"}Er==="h"?(It=Tt?s(Jt,[Dt,Wr],[Dt,Hr]):[[sr,Wr],[sr,Hr],[Dt,Hr],[Dt,Wr]],It.xmin=Tt?Dt:Math.min(sr,Dt),It.xmax=Tt?Dt:Math.max(sr,Dt),It.ymin=Math.min(Wr,Hr),It.ymax=Math.max(Wr,Hr),pr.attr("d","M"+It.xmin+","+(vt-N)+"h-4v"+2*N+"h4ZM"+(It.xmax-1)+","+(vt-N)+"h4v"+2*N+"h-4Z")):Er==="v"?(It=Tt?s(Jt,[Wr,Lt],[Hr,Lt]):[[Wr,vt],[Wr,Lt],[Hr,Lt],[Hr,vt]],It.xmin=Math.min(Wr,Hr),It.xmax=Math.max(Wr,Hr),It.ymin=Tt?Lt:Math.min(vt,Lt),It.ymax=Tt?Lt:Math.max(vt,Lt),pr.attr("d","M"+(sr-N)+","+It.ymin+"v-4h"+2*N+"v4ZM"+(sr-N)+","+(It.ymax-1)+"v4h"+2*N+"v-4Z")):Er==="d"&&(It=Tt?s(Jt,[sr,vt],[Dt,Lt]):[[sr,vt],[sr,Lt],[Dt,Lt],[Dt,vt]],It.xmin=Math.min(sr,Dt),It.xmax=Math.max(sr,Dt),It.ymin=Math.min(vt,Lt),It.ymax=Math.max(vt,Lt),pr.attr("d","M0,0Z"))}else Ne&&(We.addPt([Dt,Lt]),It=We.filtered);if(pe.selectionDefs&&pe.selectionDefs.length?(kt=me(pe.mergedPolygons,It,hr),It.subtract=hr,Ge=ae(pe.selectionDefs.concat([It]))):(kt=[It],Ge=z(It)),f(Be(kt,et),er,pe),pt){var dn=De(_t,!1),gn=dn.eventData?dn.eventData.points.slice():[];dn=De(_t,!1,Ge,Rr,pe),Ge=dn.selectionTesters,ur=dn.eventData;var Cn;We?Cn=We.filtered:Cn=gt(kt),a.throttle(Ur,I.SELECTDELAY,function(){kr=Ue(Ge,Rr);for(var _n=kr.slice(),sa=0;sa<gn.length;sa++){for(var Qn=gn[sa],ea=!1,Zn=0;Zn<_n.length;Zn++)if(_n[Zn].curveNumber===Qn.curveNumber&&_n[Zn].pointNumber===Qn.pointNumber){ea=!0;break}ea||_n.push(Qn)}_n.length&&(ur||(ur={}),ur.points=_n),vn(ur,Cn),Je(_t,ur)})}},pe.clickFn=function(tn,Bn){if(pr.remove(),_t._fullLayout._activeShapeIndex>=0){_t._fullLayout._deactivateShape(_t);return}if(!ft){var xn=$t.clickmode;a.done(Ur).then(function(){if(a.clear(Ur),tn===2){for(er.remove(),Zt=0;Zt<Rr.length;Zt++)rr=Rr[Zt],rr._module.selectPoints(rr,!1);if(ke(_t,Rr),Q(pe),Ie(_t),Rr.length){var Mr=Rr[0].xaxis,Er=Rr[0].yaxis;if(Mr&&Er){for(var Wr=[],Hr=_t._fullLayout.selections,an=0;an<Hr.length;an++){var dn=Hr[an];dn&&(dn.xref!==Mr._id||dn.yref!==Er._id)&&Wr.push(dn)}Wr.length<Hr.length&&(_t._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",_t,{selections:Wr}))}}}else xn.indexOf("select")>-1&&ie(Bn,_t,pe.xaxes,pe.yaxes,pe.subplot,pe,er),xn==="event"&&Ve(_t,void 0);v.click(_t,Bn,Qt.id)}).catch(b.error)}},pe.doneFn=function(){pr.remove(),a.done(Ur).then(function(){a.clear(Ur),!wr&&It&&pe.selectionDefs&&(It.subtract=hr,pe.selectionDefs.push(It),pe.mergedPolygons.length=0,[].push.apply(pe.mergedPolygons,kt)),(wr||ft)&&Q(pe,wr),pe.doneFnCompleted&&pe.doneFnCompleted(kr),pt&&Ve(_t,ur)}).catch(b.error)}}function ie(Oe,Le,xe,pe,Ae,Te,Ne){var Ye=Le._hoverdata,et=Le._fullLayout,ft=et.clickmode,pt=ft.indexOf("event")>-1,Yt=[],Jt,Tt,_t,$t,wr,yt,jt,Qt,gr,sr;if(fe(Ye)){j(Oe,Le,Te),Jt=se(Le,xe,pe,Ae);var vt=ye(Ye,Jt),at=vt.pointNumbers.length>0;if(at?we(Jt,vt):_e(Jt)&&(jt=Se(vt))){for(Ne&&Ne.remove(),sr=0;sr<Jt.length;sr++)Tt=Jt[sr],Tt._module.selectPoints(Tt,!1);ke(Le,Jt),Q(Te),pt&&Ie(Le)}else{Qt=Oe.shiftKey&&(jt!==void 0?jt:Se(vt)),_t=ue(vt.pointNumber,vt.searchInfo,Qt);var xt=Te.selectionDefs.concat([_t]);for($t=ae(xt),sr=0;sr<Jt.length;sr++)if(wr=Jt[sr]._module.selectPoints(Jt[sr],$t),yt=Ee(wr,Jt[sr]),Yt.length)for(var Mt=0;Mt<yt.length;Mt++)Yt.push(yt[Mt]);else Yt=yt;if(gr={points:Yt},ke(Le,Jt,gr),_t&&Te&&Te.selectionDefs.push(_t),Ne){var Dt=Te.mergedPolygons,Lt=c(Te.dragmode);f(Be(Dt,Lt),Ne,Te)}pt&&Ve(Le,gr)}}}function ue(Oe,Le,xe){return{pointNumber:Oe,searchInfo:Le,subtract:!!xe}}function J(Oe){return"pointNumber"in Oe&&"searchInfo"in Oe}function Y(Oe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Le,xe,pe,Ae){var Te=Oe.searchInfo.cd[0].trace._expandedIndex,Ne=Ae.cd[0].trace._expandedIndex;return Ne===Te&&pe===Oe.pointNumber},isRect:!1,degenerate:!1,subtract:!!Oe.subtract}}function ae(Oe){if(!Oe.length)return;for(var Le=[],xe=J(Oe[0])?0:Oe[0][0][0],pe=xe,Ae=J(Oe[0])?0:Oe[0][0][1],Te=Ae,Ne=0;Ne<Oe.length;Ne++)if(J(Oe[Ne]))Le.push(Y(Oe[Ne]));else{var Ye=z(Oe[Ne]);Ye.subtract=!!Oe[Ne].subtract,Le.push(Ye),xe=Math.min(xe,Ye.xmin),pe=Math.max(pe,Ye.xmax),Ae=Math.min(Ae,Ye.ymin),Te=Math.max(Te,Ye.ymax)}function et(ft,pt,Yt,Jt){for(var Tt=!1,_t=0;_t<Le.length;_t++)Le[_t].contains(ft,pt,Yt,Jt)&&(Tt=!Le[_t].subtract);return Tt}return{xmin:xe,xmax:pe,ymin:Ae,ymax:Te,pts:[],contains:et,isRect:!1,degenerate:!1}}function j(Oe,Le,xe){var pe=Le._fullLayout,Ae=xe.plotinfo,Te=xe.dragmode,Ne=pe._lastSelectedSubplot&&pe._lastSelectedSubplot===Ae.id,Ye=(Oe.shiftKey||Oe.altKey)&&!(n(Te)&&c(Te));Ne&&Ye&&Ae.selection&&Ae.selection.selectionDefs&&!xe.selectionDefs?(xe.selectionDefs=Ae.selection.selectionDefs,xe.mergedPolygons=Ae.selection.mergedPolygons):(!Ye||!Ae.selection)&&Q(xe),Ne||(T(Le),pe._lastSelectedSubplot=Ae.id)}function q(Oe){return Oe._fullLayout._activeShapeIndex>=0}function oe(Oe){return Oe._fullLayout._activeSelectionIndex>=0}function Q(Oe,Le){var xe=Oe.dragmode,pe=Oe.plotinfo,Ae=Oe.gd;q(Ae)&&Ae._fullLayout._deactivateShape(Ae),oe(Ae)&&Ae._fullLayout._deactivateSelection(Ae);var Te=Ae._fullLayout,Ne=Te._zoomlayer,Ye=n(xe),et=u(xe);if(Ye||et){var ft=Ne.selectAll(".select-outline-"+pe.id);if(ft&&Ae._fullLayout._outlining){var pt;Ye&&(pt=A(ft,Oe)),pt&&o.call("_guiRelayout",Ae,{shapes:pt});var Yt;et&&!$(Oe)&&(Yt=w(ft,Oe)),Yt&&(Ae._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",Ae,{selections:Yt}).then(function(){Le&&C(Ae)})),Ae._fullLayout._outlining=!1}}pe.selection={},pe.selection.selectionDefs=Oe.selectionDefs=[],pe.selection.mergedPolygons=Oe.mergedPolygons=[]}function X(Oe){return Oe._id}function se(Oe,Le,xe,pe){if(!Oe.calcdata)return[];var Ae=[],Te=Le.map(X),Ne=xe.map(X),Ye,et,ft;for(ft=0;ft<Oe.calcdata.length;ft++)if(Ye=Oe.calcdata[ft],et=Ye[0].trace,!(et.visible!==!0||!et._module||!et._module.selectPoints))if($({subplot:pe})&&(et.subplot===pe||et.geo===pe))Ae.push(ne(et._module,Ye,Le[0],xe[0]));else if(et.type==="splom"){if(et._xaxes[Te[0]]&&et._yaxes[Ne[0]]){var pt=ne(et._module,Ye,Le[0],xe[0]);pt.scene=Oe._fullLayout._splomScenes[et.uid],Ae.push(pt)}}else if(et.type==="sankey"){var Yt=ne(et._module,Ye,Le[0],xe[0]);Ae.push(Yt)}else{if(Te.indexOf(et.xaxis)===-1||Ne.indexOf(et.yaxis)===-1)continue;Ae.push(ne(et._module,Ye,E(Oe,et.xaxis),E(Oe,et.yaxis)))}return Ae}function ne(Oe,Le,xe,pe){return{_module:Oe,cd:Le,xaxis:xe,yaxis:pe}}function fe(Oe){return Oe&&Array.isArray(Oe)&&Oe[0].hoverOnBox!==!0}function ye(Oe,Le){var xe=Oe[0],pe=-1,Ae=[],Te,Ne;for(Ne=0;Ne<Le.length;Ne++)if(Te=Le[Ne],xe.fullData._expandedIndex===Te.cd[0].trace._expandedIndex){if(xe.hoverOnBox===!0)break;xe.pointNumber!==void 0?pe=xe.pointNumber:xe.binNumber!==void 0&&(pe=xe.binNumber,Ae=xe.pointNumbers);break}return{pointNumber:pe,pointNumbers:Ae,searchInfo:Te}}function Se(Oe){var Le=Oe.searchInfo.cd[0].trace,xe=Oe.pointNumber,pe=Oe.pointNumbers,Ae=pe.length>0,Te=Ae?pe[0]:xe;return Le.selectedpoints?Le.selectedpoints.indexOf(Te)>-1:!1}function we(Oe,Le){var xe=[],pe,Ae,Te,Ne;for(Ne=0;Ne<Oe.length;Ne++)pe=Oe[Ne],pe.cd[0].trace.selectedpoints&&pe.cd[0].trace.selectedpoints.length>0&&xe.push(pe);if(xe.length===1&&(Te=xe[0]===Le.searchInfo,Te&&(Ae=Le.searchInfo.cd[0].trace,Ae.selectedpoints.length===Le.pointNumbers.length))){for(Ne=0;Ne<Le.pointNumbers.length;Ne++)if(Ae.selectedpoints.indexOf(Le.pointNumbers[Ne])<0)return!1;return!0}return!1}function _e(Oe){var Le=0,xe,pe,Ae;for(Ae=0;Ae<Oe.length;Ae++)if(xe=Oe[Ae],pe=xe.cd[0].trace,pe.selectedpoints&&(pe.selectedpoints.length>1||(Le+=pe.selectedpoints.length,Le>1)))return!1;return Le===1}function ke(Oe,Le,xe){var pe;for(pe=0;pe<Le.length;pe++){var Ae=Le[pe].cd[0].trace._fullInput,Te=Oe._fullLayout._tracePreGUI[Ae.uid]||{};Te.selectedpoints===void 0&&(Te.selectedpoints=Ae._input.selectedpoints||null)}var Ne;if(xe){var Ye=xe.points||[];for(pe=0;pe<Le.length;pe++)Ne=Le[pe].cd[0].trace,Ne._input.selectedpoints=Ne._fullInput.selectedpoints=[],Ne._fullInput!==Ne&&(Ne.selectedpoints=[]);for(var et=0;et<Ye.length;et++){var ft=Ye[et],pt=ft.data,Yt=ft.fullData,Jt=ft.pointIndex,Tt=ft.pointIndices;Tt?([].push.apply(pt.selectedpoints,Tt),Ne._fullInput!==Ne&&[].push.apply(Yt.selectedpoints,Tt)):(pt.selectedpoints.push(Jt),Ne._fullInput!==Ne&&Yt.selectedpoints.push(Jt))}}else for(pe=0;pe<Le.length;pe++)Ne=Le[pe].cd[0].trace,delete Ne.selectedpoints,delete Ne._input.selectedpoints,Ne._fullInput!==Ne&&delete Ne._fullInput.selectedpoints;Me(Oe,Le)}function Me(Oe,Le){for(var xe=!1,pe=0;pe<Le.length;pe++){var Ae=Le[pe],Te=Ae.cd;o.traceIs(Te[0].trace,"regl")&&(xe=!0);var Ne=Ae._module,Ye=Ne.styleOnSelect||Ne.style;Ye&&(Ye(Oe,Te,Te[0].node3),Te[0].nodeRangePlot3&&Ye(Oe,Te,Te[0].nodeRangePlot3))}xe&&(x(Oe),k(Oe))}function me(Oe,Le,xe){for(var pe=xe?y.difference:y.union,Ae=pe({regions:Oe},{regions:[Le]}),Te=Ae.regions.reverse(),Ne=0;Ne<Te.length;Ne++){var Ye=Te[Ne];Ye.subtract=ct(Ye,Te.slice(0,Ne))}return Te}function Ee(Oe,Le){if(Array.isArray(Oe))for(var xe=Le.cd,pe=Le.cd[0].trace,Ae=0;Ae<Oe.length;Ae++)Oe[Ae]=p(Oe[Ae],pe,xe);return Oe}function Be(Oe,Le){for(var xe=[],pe=0;pe<Oe.length;pe++){xe[pe]=[];for(var Ae=0;Ae<Oe[pe].length;Ae++){xe[pe][Ae]=[],xe[pe][Ae][0]=Ae?"L":"M";for(var Te=0;Te<Oe[pe][Ae].length;Te++)xe[pe][Ae].push(Oe[pe][Ae][Te])}Le||xe[pe].push(["Z",xe[pe][0][1],xe[pe][0][2]])}return xe}function Ue(Oe,Le){for(var xe=[],pe,Ae,Te=0;Te<Le.length;Te++){var Ne=Le[Te];Ae=Ne._module.selectPoints(Ne,Oe),pe=Ee(Ae,Ne),xe=xe.concat(pe)}return xe}function De(Oe,Le,xe,pe,Ae){var Te=!!pe,Ne,Ye,et;Ae&&(Ne=Ae.plotinfo,Ye=Ae.xaxes[0]._id,et=Ae.yaxes[0]._id);var ft=[],pt=[],Yt=qe(Oe),Jt=Oe._fullLayout;if(Ne){var Tt=Jt._zoomlayer,_t=Jt.dragmode,$t=n(_t),wr=u(_t);if($t||wr){var yt=E(Oe,Ye,"x"),jt=E(Oe,et,"y");if(yt&&jt){var Qt=Tt.selectAll(".select-outline-"+Ne.id);if(Qt&&Oe._fullLayout._outlining&&Qt.length){for(var gr=Qt[0][0],sr=gr.getAttribute("d"),vt=d(sr,Oe,Ne),at=[],xt=0;xt<vt.length;xt++){for(var Mt=vt[xt],Dt=[],Lt=0;Lt<Mt.length;Lt++)Dt.push([dt(yt,Mt[Lt][1]),dt(jt,Mt[Lt][2])]);Dt.xref=Ye,Dt.yref=et,Dt.subtract=ct(Dt,at),at.push(Dt)}Yt=Yt.concat(at)}}}}var Bt=Ye&&et?[Ye+et]:Jt._subplots.cartesian;He(Oe);for(var Nt={},Xt=0;Xt<Bt.length;Xt++){var lr=Bt[Xt],fr=lr.indexOf("y"),hr=lr.slice(0,fr),We=lr.slice(fr),Ge=Ye&&et?xe:void 0;if(Ge=$e(Yt,hr,We,Ge),Ge){var kt=pe;if(!Te){var It=E(Oe,hr,"x"),Zt=E(Oe,We,"y");kt=se(Oe,[It],[Zt],lr);for(var rr=0;rr<kt.length;rr++){var ur=kt[rr],er=ur.cd[0],zt=er.trace;if(ur._module.name==="scattergl"&&!er.t.xpx){var vr=zt.x,yr=zt.y,pr=zt._length;er.t.xpx=[],er.t.ypx=[];for(var cr=0;cr<pr;cr++)er.t.xpx[cr]=It.c2p(vr[cr]),er.t.ypx[cr]=Zt.c2p(yr[cr])}ur._module.name==="splom"&&(Nt[zt.uid]||(Nt[zt.uid]=!0))}}var Ur=Ue(Ge,kt);ft=ft.concat(Ur),pt=pt.concat(kt)}}var kr={points:ft};ke(Oe,pt,kr);var Rr=Jt.clickmode,vn=Rr.indexOf("event")>-1&&Le;if(!Ne&&Le){var tn=qe(Oe,!0);if(tn.length){var Bn=tn[0].xref,xn=tn[0].yref;if(Bn&&xn){var Mr=gt(tn),Er=Rt([E(Oe,Bn,"x"),E(Oe,xn,"y")]);Er(kr,Mr)}}Oe._fullLayout._noEmitSelectedAtStart?Oe._fullLayout._noEmitSelectedAtStart=!1:vn&&Ve(Oe,kr),Jt._reselect=!1}if(!Ne&&Jt._deselect){var Wr=Jt._deselect;Ye=Wr.xref,et=Wr.yref,nt(Ye,et,pt)||lt(Oe,Ye,et,pe),vn&&(kr.points.length?Ve(Oe,kr):Ie(Oe)),Jt._deselect=!1}return{eventData:kr,selectionTesters:xe}}function He(Oe){var Le=Oe.calcdata;if(Le)for(var xe=0;xe<Le.length;xe++){var pe=Le[xe][0],Ae=pe.trace,Te=Oe._fullLayout._splomScenes;if(Te){var Ne=Te[Ae.uid];Ne&&(Ne.selectBatch=[])}}}function nt(Oe,Le,xe){for(var pe=0;pe<xe.length;pe++){var Ae=xe[pe];if(Ae.xaxis&&Ae.xaxis._id===Oe&&Ae.yaxis&&Ae.yaxis._id===Le)return!0}return!1}function lt(Oe,Le,xe,pe){pe=se(Oe,[E(Oe,Le,"x")],[E(Oe,xe,"y")],Le+xe);for(var Ae=0;Ae<pe.length;Ae++){var Te=pe[Ae];Te._module.selectPoints(Te,!1)}ke(Oe,pe)}function $e(Oe,Le,xe,pe){for(var Ae,Te=0;Te<Oe.length;Te++){var Ne=Oe[Te];if(!(Le!==Ne.xref||xe!==Ne.yref))if(Ae){var Ye=!!Ne.subtract;Ae=me(Ae,Ne,Ye),pe=ae(Ae)}else Ae=[Ne],pe=z(Ne)}return pe}function qe(Oe,Le){for(var xe=[],pe=Oe._fullLayout,Ae=pe.selections,Te=Ae.length,Ne=0;Ne<Te;Ne++)if(!(Le&&Ne!==pe._activeSelectionIndex)){var Ye=Ae[Ne];if(Ye){var et=Ye.xref,ft=Ye.yref,pt=E(Oe,et,"x"),Yt=E(Oe,ft,"y"),Jt,Tt,_t,$t,wr;if(Ye.type==="rect"){wr=[];var yt=dt(pt,Ye.x0),jt=dt(pt,Ye.x1),Qt=dt(Yt,Ye.y0),gr=dt(Yt,Ye.y1);wr=[[yt,Qt],[yt,gr],[jt,gr],[jt,Qt]],Jt=Math.min(yt,jt),Tt=Math.max(yt,jt),_t=Math.min(Qt,gr),$t=Math.max(Qt,gr),wr.xmin=Jt,wr.xmax=Tt,wr.ymin=_t,wr.ymax=$t,wr.xref=et,wr.yref=ft,wr.subtract=!1,wr.isRect=!0,xe.push(wr)}else if(Ye.type==="path")for(var sr=Ye.path.split("Z"),vt=[],at=0;at<sr.length;at++){var xt=sr[at];if(xt){xt+="Z";var Mt=l.extractPathCoords(xt,g.paramIsX,"raw"),Dt=l.extractPathCoords(xt,g.paramIsY,"raw");Jt=1/0,Tt=-1/0,_t=1/0,$t=-1/0,wr=[];for(var Lt=0;Lt<Mt.length;Lt++){var Bt=dt(pt,Mt[Lt]),Nt=dt(Yt,Dt[Lt]);wr.push([Bt,Nt]),Jt=Math.min(Bt,Jt),Tt=Math.max(Bt,Tt),_t=Math.min(Nt,_t),$t=Math.max(Nt,$t)}wr.xmin=Jt,wr.xmax=Tt,wr.ymin=_t,wr.ymax=$t,wr.xref=et,wr.yref=ft,wr.subtract=ct(wr,vt),vt.push(wr),xe.push(wr)}}}}return xe}function ct(Oe,Le){for(var xe=!1,pe=0;pe<Le.length;pe++)for(var Ae=Le[pe],Te=0;Te<Oe.length;Te++)if(P(Oe[Te],Ae)){xe=!xe;break}return xe}function dt(Oe,Le){return Oe.type==="date"&&(Le=Le.replace("_"," ")),Oe.type==="log"?Oe.c2p(Le):Oe.r2p(Le,null,Oe.calendar)}function gt(Oe){for(var Le=Oe.length,xe=[],pe=0;pe<Le;pe++){var Ae=Oe[pe];xe=xe.concat(Ae),xe=xe.concat([Ae[0]])}return At(xe)}function At(Oe){return Oe.isRect=Oe.length===5&&Oe[0][0]===Oe[4][0]&&Oe[0][1]===Oe[4][1]&&Oe[0][0]===Oe[1][0]&&Oe[2][0]===Oe[3][0]&&Oe[0][1]===Oe[3][1]&&Oe[1][1]===Oe[2][1]||Oe[0][1]===Oe[1][1]&&Oe[2][1]===Oe[3][1]&&Oe[0][0]===Oe[3][0]&&Oe[1][0]===Oe[2][0],Oe.isRect&&(Oe.xmin=Math.min(Oe[0][0],Oe[2][0]),Oe.xmax=Math.max(Oe[0][0],Oe[2][0]),Oe.ymin=Math.min(Oe[0][1],Oe[2][1]),Oe.ymax=Math.max(Oe[0][1],Oe[2][1])),Oe}function Rt(Oe){return function(Le,xe){for(var pe,Ae,Te=0;Te<Oe.length;Te++){var Ne=Oe[Te],Ye=Ne._id,et=Ye.charAt(0);if(xe.isRect){pe||(pe={});var ft=xe[et+"min"],pt=xe[et+"max"];ft!==void 0&&pt!==void 0&&(pe[Ye]=[_(Ne,ft),_(Ne,pt)].sort(S))}else Ae||(Ae={}),Ae[Ye]=xe.map(B(Ne))}pe&&(Le.range=pe),Ae&&(Le.lassoPoints=Ae)}}function Vt(Oe){var Le=Oe.plotinfo;return Le.fillRangeItems||Rt(Oe.xaxes.concat(Oe.yaxes))}function Je(Oe,Le){Oe.emit("plotly_selecting",Le)}function Ve(Oe,Le){Le&&(Le.selections=(Oe.layout||{}).selections||[]),Oe.emit("plotly_selected",Le)}function Ie(Oe){Oe.emit("plotly_deselect",null)}G.exports={reselect:De,prepSelect:te,clearOutline:T,clearSelectionsCache:Q,selectOnClick:ie}},89827:function(G,V,e){var y=e(50215),P=e(41940),o=e(82196).line,L=e(79952).P,M=e(1426).extendFlat,v=e(44467).templatedArray;e(24695);var p=e(9012),r=e(5386).R,t=e(37281);G.exports=v("shape",{visible:M({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:M({},p.legend,{editType:"calc+arraydraw"}),legendgroup:M({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:M({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:P({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:M({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:M({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:M({},y.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:M({},y.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:M({},o.color,{editType:"arraydraw"}),width:M({},o.width,{editType:"calc+arraydraw"}),dash:M({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:P({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(G,V,e){var y=e(71828),P=e(89298),o=e(21459),L=e(30477);G.exports=function(i){var n=i._fullLayout,c=y.filterVisible(n.shapes);if(!(!c.length||!i._fullData.length))for(var u=0;u<c.length;u++){var l=c[u];l._extremes={};var g,f,T=P.getRefType(l.xref),h=P.getRefType(l.yref);if(l.xref!=="paper"&&T!=="domain"){var s=l.xsizemode==="pixel"?l.xanchor:l.x0,d=l.xsizemode==="pixel"?l.xanchor:l.x1;g=P.getFromId(i,l.xref),f=r(g,s,d,l.path,o.paramIsX),f&&(l._extremes[g._id]=P.findExtremes(g,f,M(l)))}if(l.yref!=="paper"&&h!=="domain"){var A=l.ysizemode==="pixel"?l.yanchor:l.y0,w=l.ysizemode==="pixel"?l.yanchor:l.y1;g=P.getFromId(i,l.yref),f=r(g,A,w,l.path,o.paramIsY),f&&(l._extremes[g._id]=P.findExtremes(g,f,v(l)))}}};function M(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,i,n,c,u,l){var g=t/2,f=l;if(i==="pixel"){var T=u?L.extractPathCoords(u,l?o.paramIsY:o.paramIsX):[n,c],h=y.aggNums(Math.max,null,T),s=y.aggNums(Math.min,null,T),d=s<0?Math.abs(s)+g:g,A=h>0?h+g:g;return{ppad:g,ppadplus:f?d:A,ppadminus:f?A:d}}else return{ppad:g}}function r(t,i,n,c,u){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(i!==void 0)return[l(i),l(n)];if(c){var g=1/0,f=-1/0,T=c.match(o.segmentRE),h,s,d,A,w;for(t.type==="date"&&(l=L.decodeDate(l)),h=0;h<T.length;h++)s=T[h],d=u[s.charAt(0)].drawn,d!==void 0&&(A=T[h].substr(1).match(o.paramRE),!(!A||A.length<d)&&(w=l(A[d]),w<g&&(g=w),w>f&&(f=w)));if(f>=g)return[g,f]}}},21459:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(G,V,e){var y=e(71828),P=e(89298),o=e(85501),L=e(89827),M=e(30477);G.exports=function(t,i){o(t,i,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,i){function n(J,Y){return y.coerce(r,t,L,J,Y)}t._isShape=!0;var c=n("visible");if(c){var u=n("showlegend");u&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),y.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),g=l?"path":"rect",f=n("type",g),T=f!=="path";T&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var h=n("line.width");h&&(n("line.color"),n("line.dash"));for(var s=n("xsizemode"),d=n("ysizemode"),A=["x","y"],w=0;w<2;w++){var C=A[w],b=C+"anchor",S=C==="x"?s:d,m={_fullLayout:i},a,E,x,k=P.coerceRef(r,t,m,C,void 0,"paper"),I=P.getRefType(k);if(I==="range"?(a=P.getFromId(m,k),a._shapeIndices.push(t._index),x=M.rangeToShapePosition(a),E=M.shapePositionToRange(a)):E=x=y.identity,T){var N=.25,F=.75,z=C+"0",O=C+"1",_=r[z],B=r[O];r[z]=E(r[z],!0),r[O]=E(r[O],!0),S==="pixel"?(n(z,0),n(O,10)):(P.coercePosition(t,m,n,k,z,N),P.coercePosition(t,m,n,k,O,F)),t[z]=x(t[z]),t[O]=x(t[O]),r[z]=_,r[O]=B}if(S==="pixel"){var W=r[b];r[b]=E(r[b],!0),P.coercePosition(t,m,n,k,b,.25),t[b]=x(t[b]),r[b]=W}}T&&y.noneOrAll(r,t,["x0","x1","y0","y1"]);var $=f==="line",te,ie;if(T&&(te=n("label.texttemplate")),te||(ie=n("label.text")),ie||te){n("label.textangle");var ue=n("label.textposition",$?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v($,ue)),n("label.padding"),y.coerceFont(n,"label.font",i.font)}}}},48100:function(G,V,e){var y=e(71828),P=e(89298),o=e(63893),L=e(91424),M=e(60165).readPaths,v=e(30477),p=v.getPathString,r=e(37281),t=e(18783).FROM_TL;G.exports=function(u,l,g,f){if(f.selectAll(".shape-label").remove(),!!(g.label.text||g.label.texttemplate)){var T;if(g.label.texttemplate){var h={};if(g.type!=="path"){var s=P.getFromId(u,g.xref),d=P.getFromId(u,g.yref);for(var A in r){var w=r[A](g,s,d);w!==void 0&&(h[A]=w)}}T=y.texttemplateStringForShapes(g.label.texttemplate,{},u._fullLayout._d3locale,h)}else T=g.label.text;var C={"data-index":l},b=g.label.font,S={"data-notex":1},m=f.append("g").attr(C).classed("shape-label",!0),a=m.append("text").attr(S).classed("shape-label-text",!0).text(T),E,x,k,I;if(g.path){var N=p(u,g),F=M(N,u);E=1/0,k=1/0,x=-1/0,I=-1/0;for(var z=0;z<F.length;z++)for(var O=0;O<F[z].length;O++)for(var _=F[z][O],B=1;B<_.length;B+=2){var W=_[B],$=_[B+1];E=Math.min(E,W),x=Math.max(x,W),k=Math.min(k,$),I=Math.max(I,$)}}else{var te=P.getFromId(u,g.xref),ie=P.getRefType(g.xref),ue=P.getFromId(u,g.yref),J=P.getRefType(g.yref),Y=v.getDataToPixel(u,te,!1,ie),ae=v.getDataToPixel(u,ue,!0,J);E=Y(g.x0),x=Y(g.x1),k=ae(g.y0),I=ae(g.y1)}var j=g.label.textangle;j==="auto"&&(g.type==="line"?j=i(E,k,x,I):j=0),a.call(function(ne){return ne.call(L.font,b).attr({}),o.convertToTspans(ne,u),ne});var q=L.bBox(a.node()),oe=n(E,k,x,I,g,j,q),Q=oe.textx,X=oe.texty,se=oe.xanchor;a.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:X,x:Q,transform:"rotate("+j+","+Q+","+X+")"}).call(o.positionText,Q,X)}};function i(c,u,l,g){var f,T;return T=Math.abs(l-c),l>=c?f=u-g:f=g-u,-180/Math.PI*Math.atan2(f,T)}function n(c,u,l,g,f,T,h){var s=f.label.textposition,d=f.label.textangle,A=f.label.padding,w=f.type,C=Math.PI/180*T,b=Math.sin(C),S=Math.cos(C),m=f.label.xanchor,a=f.label.yanchor,E,x,k,I;if(w==="line"){s==="start"?(E=c,x=u):s==="end"?(E=l,x=g):(E=(c+l)/2,x=(u+g)/2),m==="auto"&&(s==="start"?d==="auto"?l>c?m="left":l<c?m="right":m="center":l>c?m="right":l<c?m="left":m="center":s==="end"?d==="auto"?l>c?m="right":l<c?m="left":m="center":l>c?m="left":l<c?m="right":m="center":m="center");var N={left:1,center:0,right:-1},F={bottom:-1,middle:0,top:1};if(d==="auto"){var z=F[a];k=-A*b*z,I=A*S*z}else{var O=N[m],_=F[a];k=A*O,I=A*_}E=E+k,x=x+I}else k=A+3,s.indexOf("right")!==-1?(E=Math.max(c,l)-k,m==="auto"&&(m="right")):s.indexOf("left")!==-1?(E=Math.min(c,l)+k,m==="auto"&&(m="left")):(E=(c+l)/2,m==="auto"&&(m="center")),s.indexOf("top")!==-1?x=Math.min(u,g):s.indexOf("bottom")!==-1?x=Math.max(u,g):x=(u+g)/2,I=A,a==="bottom"?x=x-I:a==="top"&&(x=x+I);var B=t[a],W=f.label.font.size,$=h.height,te=($*B-W)*b,ie=-($*B-W)*S;return{textx:E+te,texty:x+ie,xanchor:m}}},42359:function(G,V,e){var y=e(71828),P=y.strTranslate,o=e(28569),L=e(64505),M=L.drawMode,v=L.selectMode,p=e(73972),r=e(7901),t=e(89995),i=t.i000,n=t.i090,c=t.i180,u=t.i270,l=e(51873),g=l.clearOutlineControllers,f=e(60165),T=f.pointsOnRectangle,h=f.pointsOnEllipse,s=f.writePaths,d=e(90551).newShapes,A=e(90551).createShapeObj,w=e(35855),C=e(48100);G.exports=function a(E,x,k,I){I||(I=0);var N=k.gd;function F(){a(E,x,k,I++),(h(E[0])||k.hasText)&&z({redrawing:!0})}function z(me){var Ee={};k.isActiveShape!==void 0&&(k.isActiveShape=!1,Ee=d(x,k)),k.isActiveSelection!==void 0&&(k.isActiveSelection=!1,Ee=w(x,k),N._fullLayout._reselect=!0),Object.keys(Ee).length&&p.call((me||{}).redrawing?"relayout":"_guiRelayout",N,Ee)}var O=N._fullLayout,_=O._zoomlayer,B=k.dragmode,W=M(B),$=v(B);(W||$)&&(N._fullLayout._outlining=!0),g(N),x.attr("d",s(E));var te,ie,ue,J,Y;if(!I&&(k.isActiveShape||k.isActiveSelection)){Y=b([],E);var ae=_.append("g").attr("class","outline-controllers");fe(ae),Me()}if(W&&k.hasText){var j=_.select(".label-temp"),q=A(x,k,k.dragmode);C(N,"label-temp",q,j)}function oe(me){ue=+me.srcElement.getAttribute("data-i"),J=+me.srcElement.getAttribute("data-j"),te[ue][J].moveFn=Q}function Q(me,Ee){if(E.length){var Be=Y[ue][J][1],Ue=Y[ue][J][2],De=E[ue],He=De.length;if(T(De)){var nt=me,lt=Ee;if(k.isActiveSelection){var $e=S(De,J);$e[1]===De[J][1]?lt=0:nt=0}for(var qe=0;qe<He;qe++)if(qe!==J){var ct=De[qe];ct[1]===De[J][1]&&(ct[1]=Be+nt),ct[2]===De[J][2]&&(ct[2]=Ue+lt)}if(De[J][1]=Be+nt,De[J][2]=Ue+lt,!T(De))for(var dt=0;dt<He;dt++)for(var gt=0;gt<De[dt].length;gt++)De[dt][gt]=Y[ue][dt][gt]}else De[J][1]=Be+me,De[J][2]=Ue+Ee;F()}}function X(){z()}function se(){if(E.length&&E[ue]&&E[ue].length){for(var me=[],Ee=0;Ee<E[ue].length;Ee++)Ee!==J&&me.push(E[ue][Ee]);me.length>1&&!(me.length===2&&me[1][0]==="Z")&&(J===0&&(me[0][0]="M"),E[ue]=me,F(),z())}}function ne(me,Ee){if(me===2){ue=+Ee.srcElement.getAttribute("data-i"),J=+Ee.srcElement.getAttribute("data-j");var Be=E[ue];!T(Be)&&!h(Be)&&se()}}function fe(me){te=[];for(var Ee=0;Ee<E.length;Ee++){var Be=E[Ee],Ue=T(Be),De=!Ue&&h(Be);te[Ee]=[];for(var He=Be.length,nt=0;nt<He;nt++)if(Be[nt][0]!=="Z"&&!(De&&nt!==i&&nt!==n&&nt!==c&&nt!==u)){var lt=Ue&&k.isActiveSelection,$e;lt&&($e=S(Be,nt));var qe=Be[nt][1],ct=Be[nt][2],dt=me.append(lt?"rect":"circle").attr("data-i",Ee).attr("data-j",nt).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(lt){var gt=$e[1]-qe,At=$e[2]-ct,Rt=At?5:Math.max(Math.min(25,Math.abs(gt)-5),5),Vt=gt?5:Math.max(Math.min(25,Math.abs(At)-5),5);dt.classed(At?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Rt).attr("height",Vt).attr("x",qe-Rt/2).attr("y",ct-Vt/2).attr("transform",P(gt/2,At/2))}else dt.classed("cursor-grab",!0).attr("r",5).attr("cx",qe).attr("cy",ct);te[Ee][nt]={element:dt.node(),gd:N,prepFn:oe,doneFn:X,clickFn:ne},o.init(te[Ee][nt])}}}function ye(me,Ee){if(E.length)for(var Be=0;Be<E.length;Be++)for(var Ue=0;Ue<E[Be].length;Ue++)for(var De=0;De+2<E[Be][Ue].length;De+=2)E[Be][Ue][De+1]=Y[Be][Ue][De+1]+me,E[Be][Ue][De+2]=Y[Be][Ue][De+2]+Ee}function Se(me,Ee){ye(me,Ee),F()}function we(me){ue=+me.srcElement.getAttribute("data-i"),ue||(ue=0),ie[ue].moveFn=Se}function _e(){z()}function ke(me){me===2&&m(N)}function Me(){if(ie=[],!!E.length){var me=0;ie[me]={element:x[0][0],gd:N,prepFn:we,doneFn:_e,clickFn:ke},o.init(ie[me])}}};function b(a,E){for(var x=0;x<E.length;x++){var k=E[x];a[x]=[];for(var I=0;I<k.length;I++){a[x][I]=[];for(var N=0;N<k[I].length;N++)a[x][I][N]=k[I][N]}}return a}function S(a,E){var x=a[E][1],k=a[E][2],I=a.length,N,F,z;return N=(E+1)%I,F=a[N][1],z=a[N][2],F===x&&z===k&&(N=(E+2)%I,F=a[N][1],z=a[N][2]),[N,F,z]}function m(a){if(v(a._fullLayout.dragmode)){g(a);var E=a._fullLayout._activeSelectionIndex,x=(a.layout||{}).selections||[];if(E<x.length){for(var k=[],I=0;I<x.length;I++)I!==E&&k.push(x[I]);delete a._fullLayout._activeSelectionIndex;var N=a._fullLayout.selections[E];a._fullLayout._deselect={xref:N.xref,yref:N.yref},p.call("_guiRelayout",a,{selections:k})}}}},34031:function(G,V,e){var y=e(39898),P=e(73972),o=e(71828),L=e(89298),M=e(60165).readPaths,v=e(42359),p=e(48100),r=e(51873).clearOutlineControllers,t=e(7901),i=e(91424),n=e(44467).arrayEditor,c=e(28569),u=e(6964),l=e(21459),g=e(30477),f=g.getPathString;G.exports={draw:T,drawOne:d,eraseActiveShape:m,drawLabel:p};function T(a){var E=a._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove();for(var x in E._plots){var k=E._plots[x].shapelayer;k&&(k.selectAll("path").remove(),k.selectAll("text").remove())}for(var I=0;I<E.shapes.length;I++)E.shapes[I].visible===!0&&d(a,I)}function h(a){return!!a._fullLayout._outlining}function s(a){return!a._context.edits.shapePosition}function d(a,E){a._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var x=g.makeShapesOptionsAndPlotinfo(a,E),k=x.options,I=x.plotinfo;if(!k._input||k.visible!==!0)return;if(k.layer!=="below")F(a._fullLayout._shapeUpperLayer);else if(k.xref==="paper"||k.yref==="paper")F(a._fullLayout._shapeLowerLayer);else if(I._hadPlotinfo){var N=I.mainplotinfo||I;F(N.shapelayer)}else F(a._fullLayout._shapeLowerLayer);function F(z){var O=f(a,k),_={"data-index":E,"fill-rule":k.fillrule,d:O},B=k.opacity,W=k.fillcolor,$=k.line.width?k.line.color:"rgba(0,0,0,0)",te=k.line.width,ie=k.line.dash;!te&&k.editable===!0&&(te=5,ie="solid");var ue=O[O.length-1]!=="Z",J=s(a)&&k.editable&&a._fullLayout._activeShapeIndex===E;J&&(W=ue?"rgba(0,0,0,0)":a._fullLayout.activeshape.fillcolor,B=a._fullLayout.activeshape.opacity);var Y=z.append("g").classed("shape-group",!0).attr({"data-index":E}),ae=Y.append("path").attr(_).style("opacity",B).call(t.stroke,$).call(t.fill,W).call(i.dashLine,ie,te);A(Y,a,k),p(a,E,k,Y);var j;if((J||a._context.edits.shapePosition)&&(j=n(a.layout,"shapes",k)),J){ae.style({cursor:"move"});var q={element:ae.node(),plotinfo:I,gd:a,editHelpers:j,hasText:k.label.text||k.label.texttemplate,isActiveShape:!0},oe=M(O,a);v(oe,ae,q)}else a._context.edits.shapePosition?w(a,ae,k,E,z,j):k.editable===!0&&ae.style("pointer-events",ue||t.opacity(W)*B<=.5?"stroke":"all");ae.node().addEventListener("click",function(){return b(a,ae)})}}function A(a,E,x){var k=(x.xref+x.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");i.setClipUrl(a,k?"clip"+E._fullLayout._uid+k:null,E)}function w(a,E,x,k,I,N){var F=10,z=10,O=x.xsizemode==="pixel",_=x.ysizemode==="pixel",B=x.type==="line",W=x.type==="path",$=N.modifyItem,te,ie,ue,J,Y,ae,j,q,oe,Q,X,se,ne,fe,ye,Se=y.select(E.node().parentNode),we=L.getFromId(a,x.xref),_e=L.getRefType(x.xref),ke=L.getFromId(a,x.yref),Me=L.getRefType(x.yref),me=g.getDataToPixel(a,we,!1,_e),Ee=g.getDataToPixel(a,ke,!0,Me),Be=g.getPixelToData(a,we,!1,_e),Ue=g.getPixelToData(a,ke,!0,Me),De=lt(),He={element:De.node(),gd:a,prepFn:ct,doneFn:dt,clickFn:gt},nt;c.init(He),De.node().onmousemove=qe;function lt(){return B?$e():E}function $e(){var Ie=10,Oe=Math.max(x.line.width,Ie),Le=I.append("g").attr("data-index",k).attr("drag-helper",!0);Le.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":Oe,"stroke-opacity":"0"});var xe={"fill-opacity":"0"},pe=Math.max(Oe/2,Ie);return Le.append("circle").attr({"data-line-point":"start-point",cx:O?me(x.xanchor)+x.x0:me(x.x0),cy:_?Ee(x.yanchor)-x.y0:Ee(x.y0),r:pe}).style(xe).classed("cursor-grab",!0),Le.append("circle").attr({"data-line-point":"end-point",cx:O?me(x.xanchor)+x.x1:me(x.x1),cy:_?Ee(x.yanchor)-x.y1:Ee(x.y1),r:pe}).style(xe).classed("cursor-grab",!0),Le}function qe(Ie){if(h(a)){nt=null;return}if(B)Ie.target.tagName==="path"?nt="move":nt=Ie.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Oe=He.element.getBoundingClientRect(),Le=Oe.right-Oe.left,xe=Oe.bottom-Oe.top,pe=Ie.clientX-Oe.left,Ae=Ie.clientY-Oe.top,Te=!W&&Le>F&&xe>z&&!Ie.shiftKey?c.getCursor(pe/Le,1-Ae/xe):"move";u(E,Te),nt=Te.split("-")[0]}}function ct(Ie){h(a)||(O&&(Y=me(x.xanchor)),_&&(ae=Ee(x.yanchor)),x.type==="path"?ye=x.path:(te=O?x.x0:me(x.x0),ie=_?x.y0:Ee(x.y0),ue=O?x.x1:me(x.x1),J=_?x.y1:Ee(x.y1)),te<ue?(oe=te,ne="x0",Q=ue,fe="x1"):(oe=ue,ne="x1",Q=te,fe="x0"),!_&&ie<J||_&&ie>J?(j=ie,X="y0",q=J,se="y1"):(j=J,X="y1",q=ie,se="y0"),qe(Ie),Vt(I,x),Ve(E,x,a),He.moveFn=nt==="move"?At:Rt,He.altKey=Ie.altKey)}function dt(){h(a)||(u(E),Je(I),A(E,a,x),P.call("_guiRelayout",a,N.getUpdateObj()))}function gt(){h(a)||Je(I)}function At(Ie,Oe){if(x.type==="path"){var Le=function(Ae){return Ae},xe=Le,pe=Le;O?$("xanchor",x.xanchor=Be(Y+Ie)):(xe=function(Te){return Be(me(Te)+Ie)},we&&we.type==="date"&&(xe=g.encodeDate(xe))),_?$("yanchor",x.yanchor=Ue(ae+Oe)):(pe=function(Te){return Ue(Ee(Te)+Oe)},ke&&ke.type==="date"&&(pe=g.encodeDate(pe))),$("path",x.path=C(ye,xe,pe))}else O?$("xanchor",x.xanchor=Be(Y+Ie)):($("x0",x.x0=Be(te+Ie)),$("x1",x.x1=Be(ue+Ie))),_?$("yanchor",x.yanchor=Ue(ae+Oe)):($("y0",x.y0=Ue(ie+Oe)),$("y1",x.y1=Ue(J+Oe)));E.attr("d",f(a,x)),Vt(I,x),p(a,k,x,Se)}function Rt(Ie,Oe){if(W){var Le=function(yt){return yt},xe=Le,pe=Le;O?$("xanchor",x.xanchor=Be(Y+Ie)):(xe=function(jt){return Be(me(jt)+Ie)},we&&we.type==="date"&&(xe=g.encodeDate(xe))),_?$("yanchor",x.yanchor=Ue(ae+Oe)):(pe=function(jt){return Ue(Ee(jt)+Oe)},ke&&ke.type==="date"&&(pe=g.encodeDate(pe))),$("path",x.path=C(ye,xe,pe))}else if(B){if(nt==="resize-over-start-point"){var Ae=te+Ie,Te=_?ie-Oe:ie+Oe;$("x0",x.x0=O?Ae:Be(Ae)),$("y0",x.y0=_?Te:Ue(Te))}else if(nt==="resize-over-end-point"){var Ne=ue+Ie,Ye=_?J-Oe:J+Oe;$("x1",x.x1=O?Ne:Be(Ne)),$("y1",x.y1=_?Ye:Ue(Ye))}}else{var et=function(yt){return nt.indexOf(yt)!==-1},ft=et("n"),pt=et("s"),Yt=et("w"),Jt=et("e"),Tt=ft?j+Oe:j,_t=pt?q+Oe:q,$t=Yt?oe+Ie:oe,wr=Jt?Q+Ie:Q;_&&(ft&&(Tt=j-Oe),pt&&(_t=q-Oe)),(!_&&_t-Tt>z||_&&Tt-_t>z)&&($(X,x[X]=_?Tt:Ue(Tt)),$(se,x[se]=_?_t:Ue(_t))),wr-$t>F&&($(ne,x[ne]=O?$t:Be($t)),$(fe,x[fe]=O?wr:Be(wr)))}E.attr("d",f(a,x)),Vt(I,x),p(a,k,x,Se)}function Vt(Ie,Oe){(O||_)&&Le();function Le(){var xe=Oe.type!=="path",pe=Ie.selectAll(".visual-cue").data([0]),Ae=1;pe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ae}).classed("visual-cue",!0);var Te=me(O?Oe.xanchor:o.midRange(xe?[Oe.x0,Oe.x1]:g.extractPathCoords(Oe.path,l.paramIsX))),Ne=Ee(_?Oe.yanchor:o.midRange(xe?[Oe.y0,Oe.y1]:g.extractPathCoords(Oe.path,l.paramIsY)));if(Te=g.roundPositionForSharpStrokeRendering(Te,Ae),Ne=g.roundPositionForSharpStrokeRendering(Ne,Ae),O&&_){var Ye="M"+(Te-1-Ae)+","+(Ne-1-Ae)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";pe.attr("d",Ye)}else if(O){var et="M"+(Te-1-Ae)+","+(Ne-9-Ae)+"v18 h2 v-18 Z";pe.attr("d",et)}else{var ft="M"+(Te-9-Ae)+","+(Ne-1-Ae)+"h18 v2 h-18 Z";pe.attr("d",ft)}}}function Je(Ie){Ie.selectAll(".visual-cue").remove()}function Ve(Ie,Oe,Le){var xe=Oe.xref,pe=Oe.yref,Ae=L.getFromId(Le,xe),Te=L.getFromId(Le,pe),Ne="";xe!=="paper"&&!Ae.autorange&&(Ne+=xe),pe!=="paper"&&!Te.autorange&&(Ne+=pe),i.setClipUrl(Ie,Ne?"clip"+Le._fullLayout._uid+Ne:null,Le)}}function C(a,E,x){return a.replace(l.segmentRE,function(k){var I=0,N=k.charAt(0),F=l.paramIsX[N],z=l.paramIsY[N],O=l.numParams[N],_=k.substr(1).replace(l.paramRE,function(B){return I>=O||(F[I]?B=E(B):z[I]&&(B=x(B)),I++),B});return N+_})}function b(a,E){if(s(a)){var x=E.node(),k=+x.getAttribute("data-index");if(k>=0){if(k===a._fullLayout._activeShapeIndex){S(a);return}a._fullLayout._activeShapeIndex=k,a._fullLayout._deactivateShape=S,T(a)}}}function S(a){if(s(a)){var E=a._fullLayout._activeShapeIndex;E>=0&&(r(a),delete a._fullLayout._activeShapeIndex,T(a))}}function m(a){if(s(a)){r(a);var E=a._fullLayout._activeShapeIndex,x=(a.layout||{}).shapes||[];if(E<x.length){for(var k=[],I=0;I<x.length;I++)I!==E&&k.push(x[I]);return delete a._fullLayout._activeShapeIndex,P.call("_guiRelayout",a,{shapes:k})}}}},29241:function(G,V,e){var y=e(30962).overrideAll,P=e(9012),o=e(41940),L=e(79952).P,M=e(1426).extendFlat,v=e(5386).R,p=e(37281);G.exports=y({newshape:{visible:M({},P.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:M({},P.legend,{}),legendgroup:M({},P.legendgroup,{}),legendgrouptitle:{text:M({},P.legendgrouptitle.text,{}),font:o({})},legendrank:M({},P.legendrank,{}),legendwidth:M({},P.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:M({},L,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:M({},P.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:o({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(G){var V=32;G.exports={CIRCLE_SIDES:V,i000:0,i090:V/4,i180:V/2,i270:V/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(G,V,e){var y=e(7901),P=e(71828);function o(L,M){return L?"bottom":M.indexOf("top")!==-1?"top":M.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(M,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),P.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(M||{}).plot_bgcolor||"#FFF";p("newshape.line.color",y.contrast(t)),p("newshape.line.dash")}var i=M.dragmode==="drawline",n=p("newshape.label.text"),c=p("newshape.label.texttemplate");if(n||c){p("newshape.label.textangle");var u=p("newshape.label.textposition",i?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",o(i,u)),p("newshape.label.padding"),P.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},60165:function(G,V,e){var y=e(95616),P=e(89995),o=P.CIRCLE_SIDES,L=P.SQRT2,M=e(75549),v=M.p2r,p=M.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];V.writePaths=function(c){var u=c.length;if(!u)return"M0,0Z";for(var l="",g=0;g<u;g++)for(var f=c[g].length,T=0;T<f;T++){var h=c[g][T][0];if(h==="Z")l+="Z";else for(var s=c[g][T].length,d=0;d<s;d++){var A=d;h==="Q"||h==="S"?A=t[d]:h==="C"&&(A=r[d]),l+=c[g][T][A],d>0&&d<s-1&&(l+=",")}}return l},V.readPaths=function(c,u,l,g){var f=y(c),T=[],h=-1,s=function(){h++,T[h]=[]},d,A=0,w=0,C,b,S=function(){C=A,b=w};S();for(var m=0;m<f.length;m++){var a=[],E,x,k,I,N=f[m][0],F=N;switch(N){case"M":s(),A=+f[m][1],w=+f[m][2],a.push([F,A,w]),S();break;case"Q":case"S":E=+f[m][1],k=+f[m][2],A=+f[m][3],w=+f[m][4],a.push([F,A,w,E,k]);break;case"C":E=+f[m][1],k=+f[m][2],x=+f[m][3],I=+f[m][4],A=+f[m][5],w=+f[m][6],a.push([F,A,w,E,k,x,I]);break;case"T":case"L":A=+f[m][1],w=+f[m][2],a.push([F,A,w]);break;case"H":F="L",A=+f[m][1],a.push([F,A,w]);break;case"V":F="L",w=+f[m][1],a.push([F,A,w]);break;case"A":F="L";var z=+f[m][1],O=+f[m][2];+f[m][4]||(z=-z,O=-O);var _=A-z,B=w;for(d=1;d<=o/2;d++){var W=2*Math.PI*d/o;a.push([F,_+z*Math.cos(W),B+O*Math.sin(W)])}break;case"Z":(A!==C||w!==b)&&(A=C,w=b,a.push([F,A,w]));break}for(var $=(l||{}).domain,te=u._fullLayout._size,ie=l&&l.xsizemode==="pixel",ue=l&&l.ysizemode==="pixel",J=g===!1,Y=0;Y<a.length;Y++){for(d=0;d+2<7;d+=2){var ae=a[Y][d+1],j=a[Y][d+2];ae===void 0||j===void 0||(A=ae,w=j,l&&(l.xaxis&&l.xaxis.p2r?(J&&(ae-=l.xaxis._offset),ie?ae=p(l.xaxis,l.xanchor)+ae:ae=v(l.xaxis,ae)):(J&&(ae-=te.l),$?ae=$.x[0]+ae/te.w:ae=ae/te.w),l.yaxis&&l.yaxis.p2r?(J&&(j-=l.yaxis._offset),ue?j=p(l.yaxis,l.yanchor)-j:j=v(l.yaxis,j)):(J&&(j-=te.t),$?j=$.y[1]-j/te.h:j=1-j/te.h)),a[Y][d+1]=ae,a[Y][d+2]=j)}T[h].push(a[Y].slice())}}return T};function i(c,u){return Math.abs(c-u)<=1e-6}function n(c,u){var l=u[1]-c[1],g=u[2]-c[2];return Math.sqrt(l*l+g*g)}V.pointsOnRectangle=function(c){var u=c.length;if(u!==5)return!1;for(var l=1;l<3;l++){var g=c[0][l]-c[1][l],f=c[3][l]-c[2][l];if(!i(g,f))return!1;var T=c[0][l]-c[3][l],h=c[1][l]-c[2][l];if(!i(T,h))return!1}return!i(c[0][1],c[1][1])&&!i(c[0][1],c[3][1])?!1:!!(n(c[0],c[1])*n(c[0],c[3]))},V.pointsOnEllipse=function(c){var u=c.length;if(u!==o+1)return!1;u=o;for(var l=0;l<u;l++){var g=(u*2-l)%u,f=(u/2+g)%u,T=(u/2+l)%u;if(!i(n(c[l],c[T]),n(c[g],c[f])))return!1}return!0},V.handleEllipse=function(c,u,l){if(!c)return[u,l];var g=V.ellipseOver({x0:u[0],y0:u[1],x1:l[0],y1:l[1]}),f=(g.x1+g.x0)/2,T=(g.y1+g.y0)/2,h=(g.x1-g.x0)/2,s=(g.y1-g.y0)/2;h||(h=s=s/L),s||(s=h=h/L);for(var d=[],A=0;A<o;A++){var w=A*2*Math.PI/o;d.push([f+h*Math.cos(w),T+s*Math.sin(w)])}return d},V.ellipseOver=function(c){var u=c.x0,l=c.y0,g=c.x1,f=c.y1,T=g-u,h=f-l;u-=T,l-=h;var s=(u+g)/2,d=(l+f)/2,A=L;return T*=A,h*=A,{x0:s-T,y0:d-h,x1:s+T,y1:d+h}},V.fixDatesForPaths=function(c,u,l){var g=u.type==="date",f=l.type==="date";if(!g&&!f)return c;for(var T=0;T<c.length;T++)for(var h=0;h<c[T].length;h++)for(var s=0;s+2<c[T][h].length;s+=2)g&&(c[T][h][s+1]=c[T][h][s+1].replace(" ","_")),f&&(c[T][h][s+2]=c[T][h][s+2].replace(" ","_"));return c}},90551:function(G,V,e){var y=e(64505),P=y.drawMode,o=y.openMode,L=e(89995),M=L.i000,v=L.i090,p=L.i180,r=L.i270,t=L.cos45,i=L.sin45,n=e(75549),c=n.p2r,u=n.r2p,l=e(51873),g=l.clearOutline,f=e(60165),T=f.readPaths,h=f.writePaths,s=f.ellipseOver,d=f.fixDatesForPaths;function A(C,b){if(C.length){var S=C[0][0];if(S){var m=b.gd,a=b.isActiveShape,E=b.dragmode,x=(m.layout||{}).shapes||[];if(!P(E)&&a!==void 0){var k=m._fullLayout._activeShapeIndex;if(k<x.length)switch(m._fullLayout.shapes[k].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var I=x[k].path||"";I[I.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var N=w(C,b,E);g(m);for(var F=b.editHelpers,z=(F||{}).modifyItem,O=[],_=0;_<x.length;_++){var B=m._fullLayout.shapes[_];if(O[_]=B._input,a!==void 0&&_===m._fullLayout._activeShapeIndex){var W=N;switch(B.type){case"line":case"rect":case"circle":z("x0",W.x0),z("x1",W.x1),z("y0",W.y0),z("y1",W.y1);break;case"path":z("path",W.path);break}}}return a===void 0?(O.push(N),O):F?F.getUpdateObj():{}}}}function w(C,b,S){var m=C[0][0],a=b.gd,E=m.getAttribute("d"),x=a._fullLayout.newshape,k=b.plotinfo,I=b.isActiveShape,N=k.xaxis,F=k.yaxis,z=!!k.domain||!k.xaxis,O=!!k.domain||!k.yaxis,_=o(S),B=T(E,a,k,I),W={editable:!0,visible:x.visible,name:x.name,showlegend:x.showlegend,legend:x.legend,legendwidth:x.legendwidth,legendgroup:x.legendgroup,legendgrouptitle:{text:x.legendgrouptitle.text,font:x.legendgrouptitle.font},legendrank:x.legendrank,label:x.label,xref:z?"paper":N._id,yref:O?"paper":F._id,layer:x.layer,opacity:x.opacity,line:{color:x.line.color,width:x.line.width,dash:x.line.dash}};_||(W.fillcolor=x.fillcolor,W.fillrule=x.fillrule);var $;if(B.length===1&&($=B[0]),$&&$.length===5&&S==="drawrect")W.type="rect",W.x0=$[0][1],W.y0=$[0][2],W.x1=$[2][1],W.y1=$[2][2];else if($&&S==="drawline")W.type="line",W.x0=$[0][1],W.y0=$[0][2],W.x1=$[1][1],W.y1=$[1][2];else if($&&S==="drawcircle"){W.type="circle";var te=$[M][1],ie=$[v][1],ue=$[p][1],J=$[r][1],Y=$[M][2],ae=$[v][2],j=$[p][2],q=$[r][2],oe=k.xaxis&&(k.xaxis.type==="date"||k.xaxis.type==="log"),Q=k.yaxis&&(k.yaxis.type==="date"||k.yaxis.type==="log");oe&&(te=u(k.xaxis,te),ie=u(k.xaxis,ie),ue=u(k.xaxis,ue),J=u(k.xaxis,J)),Q&&(Y=u(k.yaxis,Y),ae=u(k.yaxis,ae),j=u(k.yaxis,j),q=u(k.yaxis,q));var X=(ie+J)/2,se=(Y+j)/2,ne=(J-ie+ue-te)/2,fe=(q-ae+j-Y)/2,ye=s({x0:X,y0:se,x1:X+ne*t,y1:se+fe*i});oe&&(ye.x0=c(k.xaxis,ye.x0),ye.x1=c(k.xaxis,ye.x1)),Q&&(ye.y0=c(k.yaxis,ye.y0),ye.y1=c(k.yaxis,ye.y1)),W.x0=ye.x0,W.y0=ye.y0,W.x1=ye.x1,W.y1=ye.y1}else W.type="path",N&&F&&d(B,N,F),W.path=h(B),$=null;return W}G.exports={newShapes:A,createShapeObj:w}},51873:function(G){function V(y){var P=y._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function e(y){var P=y._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),y._fullLayout._outlining=!1}G.exports={clearOutlineControllers:V,clearOutline:e}},30477:function(G,V,e){var y=e(21459),P=e(71828),o=e(89298);V.rangeToShapePosition=function(M){return M.type==="log"?M.r2d:function(v){return v}},V.shapePositionToRange=function(M){return M.type==="log"?M.d2r:function(v){return v}},V.decodeDate=function(M){return function(v){return v.replace&&(v=v.replace("_"," ")),M(v)}},V.encodeDate=function(M){return function(v){return M(v).replace(" ","_")}},V.extractPathCoords=function(M,v,p){var r=[],t=M.match(y.segmentRE);return t.forEach(function(i){var n=v[i.charAt(0)].drawn;if(n!==void 0){var c=i.substr(1).match(y.paramRE);if(!(!c||c.length<n)){var u=c[n],l=p?u:P.cleanNumber(u);r.push(l)}}}),r},V.getDataToPixel=function(M,v,p,r){var t=M._fullLayout._size,i;if(v)if(r==="domain")i=function(c){return v._length*(p?1-c:c)+v._offset};else{var n=V.shapePositionToRange(v);i=function(c){return v._offset+v.r2p(n(c,!0))},v.type==="date"&&(i=V.decodeDate(i))}else p?i=function(c){return t.t+t.h*(1-c)}:i=function(c){return t.l+t.w*c};return i},V.getPixelToData=function(M,v,p,r){var t=M._fullLayout._size,i;if(v)if(r==="domain")i=function(c){var u=(c-v._offset)/v._length;return p?1-u:u};else{var n=V.rangeToShapePosition(v);i=function(c){return n(v.p2r(c-v._offset))}}else p?i=function(c){return 1-(c-t.t)/t.h}:i=function(c){return(c-t.l)/t.w};return i},V.roundPositionForSharpStrokeRendering=function(M,v){var p=Math.round(v%2)===1,r=Math.round(M);return p?r+.5:r},V.makeShapesOptionsAndPlotinfo=function(M,v){var p=M._fullLayout.shapes[v]||{},r=M._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&p.xref!=="paper"&&(r.xaxis=M._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(r.yaxis=M._fullLayout[p.yref+"axis"])),r.xsizemode=p.xsizemode,r.ysizemode=p.ysizemode,r.xanchor=p.xanchor,r.yanchor=p.yanchor,{options:p,plotinfo:r}},V.makeSelectionsOptionsAndPlotinfo=function(M,v){var p=M._fullLayout.selections[v]||{},r=M._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&(r.xaxis=M._fullLayout[p.xref+"axis"]),p.yref&&(r.yaxis=M._fullLayout[p.yref+"axis"])),{options:p,plotinfo:r}},V.getPathString=function(M,v){var p=v.type,r=o.getRefType(v.xref),t=o.getRefType(v.yref),i=o.getFromId(M,v.xref),n=o.getFromId(M,v.yref),c=M._fullLayout._size,u,l,g,f,T,h,s,d;if(i?r==="domain"?l=function(k){return i._offset+i._length*k}:(u=V.shapePositionToRange(i),l=function(k){return i._offset+i.r2p(u(k,!0))}):l=function(k){return c.l+c.w*k},n?t==="domain"?f=function(k){return n._offset+n._length*(1-k)}:(g=V.shapePositionToRange(n),f=function(k){return n._offset+n.r2p(g(k,!0))}):f=function(k){return c.t+c.h*(1-k)},p==="path")return i&&i.type==="date"&&(l=V.decodeDate(l)),n&&n.type==="date"&&(f=V.decodeDate(f)),L(v,l,f);if(v.xsizemode==="pixel"){var A=l(v.xanchor);T=A+v.x0,h=A+v.x1}else T=l(v.x0),h=l(v.x1);if(v.ysizemode==="pixel"){var w=f(v.yanchor);s=w-v.y0,d=w-v.y1}else s=f(v.y0),d=f(v.y1);if(p==="line")return"M"+T+","+s+"L"+h+","+d;if(p==="rect")return"M"+T+","+s+"H"+h+"V"+d+"H"+T+"Z";var C=(T+h)/2,b=(s+d)/2,S=Math.abs(C-T),m=Math.abs(b-s),a="A"+S+","+m,E=C+S+","+b,x=C+","+(b-m);return"M"+E+a+" 0 1,1 "+x+a+" 0 0,1 "+E+"Z"};function L(M,v,p){var r=M.path,t=M.xsizemode,i=M.ysizemode,n=M.xanchor,c=M.yanchor;return r.replace(y.segmentRE,function(u){var l=0,g=u.charAt(0),f=y.paramIsX[g],T=y.paramIsY[g],h=y.numParams[g],s=u.substr(1).replace(y.paramRE,function(d){return f[l]?t==="pixel"?d=v(n)+Number(d):d=v(d):T[l]&&(i==="pixel"?d=p(c)-Number(d):d=p(d)),l++,l>h&&(d="X"),d});return l>h&&(s=s.replace(/[\s,]*X.*/,""),P.log("Ignoring extra params in segment "+u)),g+s})}},89853:function(G,V,e){var y=e(34031);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:y.draw,drawOne:y.drawOne}},37281:function(G){function V(u,l){return l?l.d2l(u):u}function e(u,l){return l?l.l2d(u):u}function y(u){return u.x0}function P(u){return u.x1}function o(u){return u.y0}function L(u){return u.y1}function M(u,l){return V(u.x1,l)-V(u.x0,l)}function v(u,l,g){return V(u.y1,g)-V(u.y0,g)}function p(u,l){return Math.abs(M(u,l))}function r(u,l,g){return Math.abs(v(u,l,g))}function t(u,l,g){return u.type!=="line"?void 0:Math.sqrt(Math.pow(M(u,l),2)+Math.pow(v(u,l,g),2))}function i(u,l){return e((V(u.x1,l)+V(u.x0,l))/2,l)}function n(u,l,g){return e((V(u.y1,g)+V(u.y0,g))/2,g)}function c(u,l,g){return u.type!=="line"?void 0:v(u,l,g)/M(u,l)}G.exports={x0:y,x1:P,y0:o,y1:L,slope:c,dx:M,dy:v,width:p,height:r,length:t,xcenter:i,ycenter:n}},75067:function(G,V,e){var y=e(41940),P=e(35025),o=e(1426).extendDeepAll,L=e(30962).overrideAll,M=e(85594),v=e(44467).templatedArray,p=e(98292),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(P({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:M.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:y({})},font:y({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},98292:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(G,V,e){var y=e(71828),P=e(85501),o=e(75067),L=e(98292),M=L.name,v=o.steps;G.exports=function(i,n){P(i,n,{name:M,handleItemDefaults:p})};function p(t,i,n){function c(d,A){return y.coerce(t,i,o,d,A)}for(var u=P(t,i,{name:"steps",handleItemDefaults:r}),l=0,g=0;g<u.length;g++)u[g].visible&&l++;var f;if(l<2?f=i.visible=!1:f=c("visible"),!!f){i._stepCount=l;var T=i._visibleSteps=y.filterVisible(u),h=c("active");(u[h]||{}).visible||(i.active=T[0]._index),c("x"),c("y"),y.noneOrAll(t,i,["x","y"]),c("xanchor"),c("yanchor"),c("len"),c("lenmode"),c("pad.t"),c("pad.r"),c("pad.b"),c("pad.l"),y.coerceFont(c,"font",n.font);var s=c("currentvalue.visible");s&&(c("currentvalue.xanchor"),c("currentvalue.prefix"),c("currentvalue.suffix"),c("currentvalue.offset"),y.coerceFont(c,"currentvalue.font",i.font)),c("transition.duration"),c("transition.easing"),c("bgcolor"),c("activebgcolor"),c("bordercolor"),c("borderwidth"),c("ticklen"),c("tickwidth"),c("tickcolor"),c("minorticklen")}}function r(t,i){function n(l,g){return y.coerce(t,i,v,l,g)}var c;if(t.method!=="skip"&&!Array.isArray(t.args)?c=i.visible=!1:c=n("visible"),c){n("method"),n("args");var u=n("label","step-"+i._index);n("value",u),n("execute")}}},44504:function(G,V,e){var y=e(39898),P=e(74875),o=e(7901),L=e(91424),M=e(71828),v=M.strTranslate,p=e(63893),r=e(44467).arrayEditor,t=e(98292),i=e(18783),n=i.LINE_SPACING,c=i.FROM_TL,u=i.FROM_BR;G.exports=function(z){var O=z._context.staticPlot,_=z._fullLayout,B=g(_,z),W=_._infolayer.selectAll("g."+t.containerClassName).data(B.length>0?[0]:[]);W.enter().append("g").classed(t.containerClassName,!0).style("cursor",O?null:"ew-resize");function $(J){J._commandObserver&&(J._commandObserver.remove(),delete J._commandObserver),P.autoMargin(z,l(J))}if(W.exit().each(function(){y.select(this).selectAll("g."+t.groupClassName).each($)}).remove(),B.length!==0){var te=W.selectAll("g."+t.groupClassName).data(B,f);te.enter().append("g").classed(t.groupClassName,!0),te.exit().each($).remove();for(var ie=0;ie<B.length;ie++){var ue=B[ie];T(z,ue)}te.each(function(J){var Y=y.select(this);a(J),P.manageCommandObserver(z,J,J._visibleSteps,function(ae){var j=Y.data()[0];j.active!==ae.index&&(j._dragging||b(z,Y,j,ae.index,!1,!0))}),h(z,y.select(this),J)})}};function l(F){return t.autoMarginIdRoot+F._index}function g(F,z){for(var O=F[t.name],_=[],B=0;B<O.length;B++){var W=O[B];W.visible&&(W._gd=z,_.push(W))}return _}function f(F){return F._index}function T(F,z){var O=L.tester.selectAll("g."+t.labelGroupClass).data(z._visibleSteps);O.enter().append("g").classed(t.labelGroupClass,!0);var _=0,B=0;O.each(function(q){var oe=y.select(this),Q=A(oe,{step:q},z),X=Q.node();if(X){var se=L.bBox(X);B=Math.max(B,se.height),_=Math.max(_,se.width)}}),O.remove();var W=z._dims={};W.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var $=F._fullLayout._size;W.lx=$.l+$.w*z.x,W.ly=$.t+$.h*(1-z.y),z.lenmode==="fraction"?W.outerLength=Math.round($.w*z.len):W.outerLength=z.len,W.inputAreaStart=0,W.inputAreaLength=Math.round(W.outerLength-z.pad.l-z.pad.r);var te=W.inputAreaLength-2*t.stepInset,ie=te/(z._stepCount-1),ue=_+t.labelPadding;if(W.labelStride=Math.max(1,Math.ceil(ue/ie)),W.labelHeight=B,W.currentValueMaxWidth=0,W.currentValueHeight=0,W.currentValueTotalHeight=0,W.currentValueMaxLines=1,z.currentvalue.visible){var J=L.tester.append("g");O.each(function(q){var oe=s(J,z,q.label),Q=oe.node()&&L.bBox(oe.node())||{width:0,height:0},X=p.lineCount(oe);W.currentValueMaxWidth=Math.max(W.currentValueMaxWidth,Math.ceil(Q.width)),W.currentValueHeight=Math.max(W.currentValueHeight,Math.ceil(Q.height)),W.currentValueMaxLines=Math.max(W.currentValueMaxLines,X)}),W.currentValueTotalHeight=W.currentValueHeight+z.currentvalue.offset,J.remove()}W.height=W.currentValueTotalHeight+t.tickOffset+z.ticklen+t.labelOffset+W.labelHeight+z.pad.t+z.pad.b;var Y="left";M.isRightAnchor(z)&&(W.lx-=W.outerLength,Y="right"),M.isCenterAnchor(z)&&(W.lx-=W.outerLength/2,Y="center");var ae="top";M.isBottomAnchor(z)&&(W.ly-=W.height,ae="bottom"),M.isMiddleAnchor(z)&&(W.ly-=W.height/2,ae="middle"),W.outerLength=Math.ceil(W.outerLength),W.height=Math.ceil(W.height),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly);var j={y:z.y,b:W.height*u[ae],t:W.height*c[ae]};z.lenmode==="fraction"?(j.l=0,j.xl=z.x-z.len*c[Y],j.r=0,j.xr=z.x+z.len*u[Y]):(j.x=z.x,j.l=W.outerLength*c[Y],j.r=W.outerLength*u[Y]),P.autoMargin(F,l(z),j)}function h(F,z,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),z.call(s,O).call(N,O).call(w,O).call(m,O).call(I,F,O).call(d,F,O);var _=O._dims;L.setTranslate(z,_.lx+O.pad.l,_.ly+O.pad.t),z.call(E,O,!1),z.call(s,O)}function s(F,z,O){if(z.currentvalue.visible){var _=z._dims,B,W;switch(z.currentvalue.xanchor){case"right":B=_.inputAreaLength-t.currentValueInset-_.currentValueMaxWidth,W="left";break;case"center":B=_.inputAreaLength*.5,W="middle";break;default:B=t.currentValueInset,W="left"}var $=M.ensureSingle(F,"text",t.labelClass,function(ae){ae.attr({"text-anchor":W,"data-notex":1})}),te=z.currentvalue.prefix?z.currentvalue.prefix:"";if(typeof O=="string")te+=O;else{var ie=z.steps[z.active].label,ue=z._gd._fullLayout._meta;ue&&(ie=M.templateString(ie,ue)),te+=ie}z.currentvalue.suffix&&(te+=z.currentvalue.suffix),$.call(L.font,z.currentvalue.font).text(te).call(p.convertToTspans,z._gd);var J=p.lineCount($),Y=(_.currentValueMaxLines+1-J)*z.currentvalue.font.size*n;return p.positionText($,B,Y),$}}function d(F,z,O){var _=M.ensureSingle(F,"rect",t.gripRectClass,function(B){B.call(S,z,F,O).style("pointer-events","all")});_.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(o.stroke,O.bordercolor).call(o.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function A(F,z,O){var _=M.ensureSingle(F,"text",t.labelClass,function($){$.attr({"text-anchor":"middle","data-notex":1})}),B=z.step.label,W=O._gd._fullLayout._meta;return W&&(B=M.templateString(B,W)),_.call(L.font,O.font).text(B).call(p.convertToTspans,O._gd),_}function w(F,z){var O=M.ensureSingle(F,"g",t.labelsClass),_=z._dims,B=O.selectAll("g."+t.labelGroupClass).data(_.labelSteps);B.enter().append("g").classed(t.labelGroupClass,!0),B.exit().remove(),B.each(function(W){var $=y.select(this);$.call(A,W,z),L.setTranslate($,x(z,W.fraction),t.tickOffset+z.ticklen+z.font.size*n+t.labelOffset+_.currentValueTotalHeight)})}function C(F,z,O,_,B){var W=Math.round(_*(O._stepCount-1)),$=O._visibleSteps[W]._index;$!==O.active&&b(F,z,O,$,!0,B)}function b(F,z,O,_,B,W){var $=O.active;O.active=_,r(F.layout,t.name,O).applyUpdate("active",_);var te=O.steps[O.active];z.call(E,O,W),z.call(s,O),F.emit("plotly_sliderchange",{slider:O,step:O.steps[O.active],interaction:B,previousActive:$}),te&&te.method&&B&&(z._nextMethod?(z._nextMethod.step=te,z._nextMethod.doCallback=B,z._nextMethod.doTransition=W):(z._nextMethod={step:te,doCallback:B,doTransition:W},z._nextMethodRaf=window.requestAnimationFrame(function(){var ie=z._nextMethod.step;ie.method&&(ie.execute&&P.executeAPICommand(F,ie.method,ie.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function S(F,z,O){if(z._context.staticPlot)return;var _=O.node(),B=y.select(z);function W(){return O.data()[0]}function $(){var te=W();z.emit("plotly_sliderstart",{slider:te});var ie=O.select("."+t.gripRectClass);y.event.stopPropagation(),y.event.preventDefault(),ie.call(o.fill,te.activebgcolor);var ue=k(te,y.mouse(_)[0]);C(z,O,te,ue,!0),te._dragging=!0;function J(){var ae=W(),j=k(ae,y.mouse(_)[0]);C(z,O,ae,j,!1)}B.on("mousemove",J),B.on("touchmove",J);function Y(){var ae=W();ae._dragging=!1,ie.call(o.fill,ae.bgcolor),B.on("mouseup",null),B.on("mousemove",null),B.on("touchend",null),B.on("touchmove",null),z.emit("plotly_sliderend",{slider:ae,step:ae.steps[ae.active]})}B.on("mouseup",Y),B.on("touchend",Y)}F.on("mousedown",$),F.on("touchstart",$)}function m(F,z){var O=F.selectAll("rect."+t.tickRectClass).data(z._visibleSteps),_=z._dims;O.enter().append("rect").classed(t.tickRectClass,!0),O.exit().remove(),O.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),O.each(function(B,W){var $=W%_.labelStride===0,te=y.select(this);te.attr({height:$?z.ticklen:z.minorticklen}).call(o.fill,z.tickcolor),L.setTranslate(te,x(z,W/(z._stepCount-1))-.5*z.tickwidth,($?t.tickOffset:t.minorTickOffset)+_.currentValueTotalHeight)})}function a(F){var z=F._dims;z.labelSteps=[];for(var O=F._stepCount,_=0;_<O;_+=z.labelStride)z.labelSteps.push({fraction:_/(O-1),step:F._visibleSteps[_]})}function E(F,z,O){for(var _=F.select("rect."+t.gripRectClass),B=0,W=0;W<z._stepCount;W++)if(z._visibleSteps[W]._index===z.active){B=W;break}var $=x(z,B/(z._stepCount-1));if(!z._invokingCommand){var te=_;O&&z.transition.duration>0&&(te=te.transition().duration(z.transition.duration).ease(z.transition.easing)),te.attr("transform",v($-t.gripWidth*.5,z._dims.currentValueTotalHeight))}}function x(F,z){var O=F._dims;return O.inputAreaStart+t.stepInset+(O.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,z))}function k(F,z){var O=F._dims;return Math.min(1,Math.max(0,(z-t.stepInset-O.inputAreaStart)/(O.inputAreaLength-2*t.stepInset-2*O.inputAreaStart)))}function I(F,z,O){var _=O._dims,B=M.ensureSingle(F,"rect",t.railTouchRectClass,function(W){W.call(S,z,F,O).style("pointer-events","all")});B.attr({width:_.inputAreaLength,height:Math.max(_.inputAreaWidth,t.tickOffset+O.ticklen+_.labelHeight)}).call(o.fill,O.bgcolor).attr("opacity",0),L.setTranslate(B,0,_.currentValueTotalHeight)}function N(F,z){var O=z._dims,_=O.inputAreaLength-t.railInset*2,B=M.ensureSingle(F,"rect",t.railRectClass);B.attr({width:_,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,z.bordercolor).call(o.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),L.setTranslate(B,t.railInset,(O.inputAreaWidth-t.railWidth)*.5+O.currentValueTotalHeight)}},23243:function(G,V,e){var y=e(98292);G.exports={moduleType:"component",name:y.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(G,V,e){var y=e(39898),P=e(92770),o=e(74875),L=e(73972),M=e(71828),v=M.strTranslate,p=e(91424),r=e(7901),t=e(63893),i=e(37822),n=e(18783).OPPOSITE_SIDE,c=/ [XY][0-9]* /;function u(l,g,f){var T=f.propContainer,h=f.propName,s=f.placeholder,d=f.traceIndex,A=f.avoid||{},w=f.attributes,C=f.transform,b=f.containerGroup,S=l._fullLayout,m=1,a=!1,E=T.title,x=(E&&E.text?E.text:"").trim(),k=E&&E.font?E.font:{},I=k.family,N=k.size,F=k.color,z;h==="title.text"?z="titleText":h.indexOf("axis")!==-1?z="axisTitleText":h.indexOf("colorbar"!==-1)&&(z="colorbarTitleText");var O=l._context.edits[z];x===""?m=0:x.replace(c," % ")===s.replace(c," % ")&&(m=.2,a=!0,O||(x="")),f._meta?x=M.templateString(x,f._meta):S._meta&&(x=M.templateString(x,S._meta));var _=x||O,B;b||(b=M.ensureSingle(S._infolayer,"g","g-"+g),B=S._hColorbarMoveTitle);var W=b.selectAll("text").data(_?[0]:[]);if(W.enter().append("text"),W.text(x).attr("class",g),W.exit().remove(),!_)return b;function $(J){M.syncOrAsync([te,ie],J)}function te(J){var Y;return!C&&B&&(C={}),C?(Y="",C.rotate&&(Y+="rotate("+[C.rotate,w.x,w.y]+")"),(C.offset||B)&&(Y+=v(0,(C.offset||0)-(B||0)))):Y=null,J.attr("transform",Y),J.style({"font-family":I,"font-size":y.round(N,2)+"px",fill:r.rgb(F),opacity:m*r.opacity(F),"font-weight":o.fontWeight}).attr(w).call(t.convertToTspans,l),o.previousPromises(l)}function ie(J){var Y=y.select(J.node().parentNode);if(A&&A.selection&&A.side&&x){Y.attr("transform",null);var ae=n[A.side],j=A.side==="left"||A.side==="top"?-1:1,q=P(A.pad)?A.pad:2,oe=p.bBox(Y.node()),Q={t:0,b:0,l:0,r:0},X=l._fullLayout._reservedMargin;for(var se in X)for(var ne in X[se]){var fe=X[se][ne];Q[ne]=Math.max(Q[ne],fe)}var ye={left:Q.l,top:Q.t,right:S.width-Q.r,bottom:S.height-Q.b},Se=A.maxShift||j*(ye[A.side]-oe[A.side]),we=0;if(Se<0)we=Se;else{var _e=A.offsetLeft||0,ke=A.offsetTop||0;oe.left-=_e,oe.right-=_e,oe.top-=ke,oe.bottom-=ke,A.selection.each(function(){var me=p.bBox(this);M.bBoxIntersect(oe,me,q)&&(we=Math.max(we,j*(me[A.side]-oe[ae])+q))}),we=Math.min(Se,we),T._titleScoot=Math.abs(we)}if(we>0||Se<0){var Me={left:[-we,0],right:[we,0],top:[0,-we],bottom:[0,we]}[A.side];Y.attr("transform",v(Me[0],Me[1]))}}}W.call($);function ue(){m=0,a=!0,W.text(s).on("mouseover.opacity",function(){y.select(this).transition().duration(i.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){y.select(this).transition().duration(i.HIDE_PLACEHOLDER).style("opacity",0)})}return O&&(x?W.on(".opacity",null):ue(),W.call(t.makeEditable,{gd:l}).on("edit",function(J){d!==void 0?L.call("_guiRestyle",l,h,J,d):L.call("_guiRelayout",l,h,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($)}).on("input",function(J){this.text(J||" ").call(t.positionText,w.x,w.y)})),W.classed("js-placeholder",a),b}G.exports={draw:u}},7163:function(G,V,e){var y=e(41940),P=e(22399),o=e(1426).extendFlat,L=e(30962).overrideAll,M=e(35025),v=e(44467).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(M({editType:"arraydraw"}),{}),font:y({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:P.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},64897:function(G,V,e){var y=e(71828),P=e(85501),o=e(7163),L=e(75909),M=L.name,v=o.buttons;G.exports=function(i,n){var c={name:M,handleItemDefaults:p};P(i,n,c)};function p(t,i,n){function c(g,f){return y.coerce(t,i,o,g,f)}var u=P(t,i,{name:"buttons",handleItemDefaults:r}),l=c("visible",u.length>0);l&&(c("active"),c("direction"),c("type"),c("showactive"),c("x"),c("y"),y.noneOrAll(t,i,["x","y"]),c("xanchor"),c("yanchor"),c("pad.t"),c("pad.r"),c("pad.b"),c("pad.l"),y.coerceFont(c,"font",n.font),c("bgcolor",n.paper_bgcolor),c("bordercolor"),c("borderwidth"))}function r(t,i){function n(u,l){return y.coerce(t,i,v,u,l)}var c=n("visible",t.method==="skip"||Array.isArray(t.args));c&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},13689:function(G,V,e){var y=e(39898),P=e(74875),o=e(7901),L=e(91424),M=e(71828),v=e(63893),p=e(44467).arrayEditor,r=e(18783).LINE_SPACING,t=e(75909),i=e(25849);G.exports=function(k){var I=k._fullLayout,N=M.filterVisible(I[t.name]);function F(ie){P.autoMargin(k,m(ie))}var z=I._menulayer.selectAll("g."+t.containerClassName).data(N.length>0?[0]:[]);if(z.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),z.exit().each(function(){y.select(this).selectAll("g."+t.headerGroupClassName).each(F)}).remove(),N.length!==0){var O=z.selectAll("g."+t.headerGroupClassName).data(N,n);O.enter().append("g").classed(t.headerGroupClassName,!0);for(var _=M.ensureSingle(z,"g",t.dropdownButtonGroupClassName,function(ie){ie.style("pointer-events","all")}),B=0;B<N.length;B++){var W=N[B];S(k,W)}var $="updatemenus"+I._uid,te=new i(k,_,$);O.enter().size()&&(_.node().parentNode.appendChild(_.node()),_.call(E)),O.exit().each(function(ie){_.call(E),F(ie)}).remove(),O.each(function(ie){var ue=y.select(this),J=ie.type==="dropdown"?_:null;P.manageCommandObserver(k,ie,ie.buttons,function(Y){l(k,ie,ie.buttons[Y.index],ue,J,te,Y.index,!0)}),ie.type==="dropdown"?(g(k,ue,_,te,ie),u(_,ie)&&f(k,ue,_,te,ie)):f(k,ue,null,null,ie)})}};function n(x){return x._index}function c(x){return+x.attr(t.menuIndexAttrName)==-1}function u(x,k){return+x.attr(t.menuIndexAttrName)===k._index}function l(x,k,I,N,F,z,O,_){k.active=O,p(x.layout,t.name,k).applyUpdate("active",O),k.type==="buttons"?f(x,N,null,null,k):k.type==="dropdown"&&(F.attr(t.menuIndexAttrName,"-1"),g(x,N,F,z,k),_||f(x,N,F,z,k))}function g(x,k,I,N,F){var z=M.ensureSingle(k,"g",t.headerClassName,function(ie){ie.style("pointer-events","all")}),O=F._dims,_=F.active,B=F.buttons[_]||t.blankHeaderOpts,W={y:F.pad.t,yPad:0,x:F.pad.l,xPad:0,index:0},$={width:O.headerWidth,height:O.headerHeight};z.call(s,F,B,x).call(a,F,W,$);var te=M.ensureSingle(k,"text",t.headerArrowClassName,function(ie){ie.attr("text-anchor","end").call(L.font,F.font).text(t.arrowSymbol[F.direction])});te.attr({x:O.headerWidth-t.arrowOffsetX+F.pad.l,y:O.headerHeight/2+t.textOffsetY+F.pad.t}),z.on("click",function(){I.call(E,String(u(I,F)?-1:F._index)),f(x,k,I,N,F)}),z.on("mouseover",function(){z.call(C)}),z.on("mouseout",function(){z.call(b,F)}),L.setTranslate(k,O.lx,O.ly)}function f(x,k,I,N,F){I||(I=k,I.attr("pointer-events","all"));var z=!c(I)||F.type==="buttons"?F.buttons:[],O=F.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,_=I.selectAll("g."+O).data(M.filterVisible(z)),B=_.enter().append("g").classed(O,!0),W=_.exit();F.type==="dropdown"?(B.attr("opacity","0").transition().attr("opacity","1"),W.transition().attr("opacity","0").remove()):W.remove();var $=0,te=0,ie=F._dims,ue=["up","down"].indexOf(F.direction)!==-1;F.type==="dropdown"&&(ue?te=ie.headerHeight+t.gapButtonHeader:$=ie.headerWidth+t.gapButtonHeader),F.type==="dropdown"&&F.direction==="up"&&(te=-t.gapButtonHeader+t.gapButton-ie.openHeight),F.type==="dropdown"&&F.direction==="left"&&($=-t.gapButtonHeader+t.gapButton-ie.openWidth);var J={x:ie.lx+$+F.pad.l,y:ie.ly+te+F.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Y={l:J.x+F.borderwidth,t:J.y+F.borderwidth};_.each(function(ae,j){var q=y.select(this);q.call(s,F,ae,x).call(a,F,J),q.on("click",function(){y.event.defaultPrevented||(ae.execute&&(ae.args2&&F.active===j?(l(x,F,ae,k,I,N,-1),P.executeAPICommand(x,ae.method,ae.args2)):(l(x,F,ae,k,I,N,j),P.executeAPICommand(x,ae.method,ae.args))),x.emit("plotly_buttonclicked",{menu:F,button:ae,active:F.active}))}),q.on("mouseover",function(){q.call(C)}),q.on("mouseout",function(){q.call(b,F),_.call(w,F)})}),_.call(w,F),ue?(Y.w=Math.max(ie.openWidth,ie.headerWidth),Y.h=J.y-Y.t):(Y.w=J.x-Y.l,Y.h=Math.max(ie.openHeight,ie.headerHeight)),Y.direction=F.direction,N&&(_.size()?T(x,k,I,N,F,Y):h(N))}function T(x,k,I,N,F,z){var O=F.direction,_=O==="up"||O==="down",B=F._dims,W=F.active,$,te,ie;if(_)for(te=0,ie=0;ie<W;ie++)te+=B.heights[ie]+t.gapButton;else for($=0,ie=0;ie<W;ie++)$+=B.widths[ie]+t.gapButton;N.enable(z,$,te),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function h(x){var k=!!x.hbar,I=!!x.vbar;k&&x.hbar.transition().attr("opacity","0").each("end",function(){k=!1,I||x.disable()}),I&&x.vbar.transition().attr("opacity","0").each("end",function(){I=!1,k||x.disable()})}function s(x,k,I,N){x.call(d,k).call(A,k,I,N)}function d(x,k){var I=M.ensureSingle(x,"rect",t.itemRectClassName,function(N){N.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});I.call(o.stroke,k.bordercolor).call(o.fill,k.bgcolor).style("stroke-width",k.borderwidth+"px")}function A(x,k,I,N){var F=M.ensureSingle(x,"text",t.itemTextClassName,function(_){_.attr({"text-anchor":"start","data-notex":1})}),z=I.label,O=N._fullLayout._meta;O&&(z=M.templateString(z,O)),F.call(L.font,k.font).text(z).call(v.convertToTspans,N)}function w(x,k){var I=k.active;x.each(function(N,F){var z=y.select(this);F===I&&k.showactive&&z.select("rect."+t.itemRectClassName).call(o.fill,t.activeColor)})}function C(x){x.select("rect."+t.itemRectClassName).call(o.fill,t.hoverColor)}function b(x,k){x.select("rect."+t.itemRectClassName).call(o.fill,k.bgcolor)}function S(x,k){var I=k._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=L.tester.selectAll("g."+t.dropdownButtonClassName).data(M.filterVisible(k.buttons));N.enter().append("g").classed(t.dropdownButtonClassName,!0);var F=["up","down"].indexOf(k.direction)!==-1;N.each(function($,te){var ie=y.select(this);ie.call(s,k,$,x);var ue=ie.select("."+t.itemTextClassName),J=ue.node()&&L.bBox(ue.node()).width,Y=Math.max(J+t.textPadX,t.minWidth),ae=k.font.size*r,j=v.lineCount(ue),q=Math.max(ae*j,t.minHeight)+t.textOffsetY;q=Math.ceil(q),Y=Math.ceil(Y),I.widths[te]=Y,I.heights[te]=q,I.height1=Math.max(I.height1,q),I.width1=Math.max(I.width1,Y),F?(I.totalWidth=Math.max(I.totalWidth,Y),I.openWidth=I.totalWidth,I.totalHeight+=q+t.gapButton,I.openHeight+=q+t.gapButton):(I.totalWidth+=Y+t.gapButton,I.openWidth+=Y+t.gapButton,I.totalHeight=Math.max(I.totalHeight,q),I.openHeight=I.totalHeight)}),F?I.totalHeight-=t.gapButton:I.totalWidth-=t.gapButton,I.headerWidth=I.width1+t.arrowPadX,I.headerHeight=I.height1,k.type==="dropdown"&&(F?(I.width1+=t.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=t.arrowPadX),N.remove();var z=I.totalWidth+k.pad.l+k.pad.r,O=I.totalHeight+k.pad.t+k.pad.b,_=x._fullLayout._size;I.lx=_.l+_.w*k.x,I.ly=_.t+_.h*(1-k.y);var B="left";M.isRightAnchor(k)&&(I.lx-=z,B="right"),M.isCenterAnchor(k)&&(I.lx-=z/2,B="center");var W="top";M.isBottomAnchor(k)&&(I.ly-=O,W="bottom"),M.isMiddleAnchor(k)&&(I.ly-=O/2,W="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),P.autoMargin(x,m(k),{x:k.x,y:k.y,l:z*({right:1,center:.5}[B]||0),r:z*({left:1,center:.5}[B]||0),b:O*({top:1,middle:.5}[W]||0),t:O*({bottom:1,middle:.5}[W]||0)})}function m(x){return t.autoMarginIdRoot+x._index}function a(x,k,I,N){N=N||{};var F=x.select("."+t.itemRectClassName),z=x.select("."+t.itemTextClassName),O=k.borderwidth,_=I.index,B=k._dims;L.setTranslate(x,O+I.x,O+I.y);var W=["up","down"].indexOf(k.direction)!==-1,$=N.height||(W?B.heights[_]:B.height1);F.attr({x:0,y:0,width:N.width||(W?B.width1:B.widths[_]),height:$});var te=k.font.size*r,ie=v.lineCount(z),ue=(ie-1)*te/2;v.positionText(z,t.textOffsetX,$/2-ue+t.textOffsetY),W?I.y+=B.heights[_]+I.yPad:I.x+=B.widths[_]+I.xPad,I.index++}function E(x,k){x.attr(t.menuIndexAttrName,k||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},20763:function(G,V,e){var y=e(75909);G.exports={moduleType:"component",name:y.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(G,V,e){G.exports=M;var y=e(39898),P=e(7901),o=e(91424),L=e(71828);function M(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}M.barWidth=2,M.barLength=20,M.barRadius=2,M.barPad=1,M.barColor="#808BA4",M.prototype.enable=function(p,r,t){var i=this.gd._fullLayout,n=i.width,c=i.height;this.position=p;var u=this.position.l,l=this.position.w,g=this.position.t,f=this.position.h,T=this.position.direction,h=T==="down",s=T==="left",d=T==="right",A=T==="up",w=l,C=f,b,S,m,a;!h&&!s&&!d&&!A&&(this.position.direction="down",h=!0);var E=h||A;E?(b=u,S=b+w,h?(m=g,a=Math.min(m+C,c),C=a-m):(a=g+C,m=Math.max(a-C,0),C=a-m)):(m=g,a=m+C,s?(S=u+w,b=Math.max(S-w,0),w=S-b):(b=u,S=Math.min(b+w,n),w=S-b)),this._box={l:b,t:m,w,h:C};var x=l>w,k=M.barLength+2*M.barPad,I=M.barWidth+2*M.barPad,N=u,F=g+f;F+I>c&&(F=c-I);var z=this.container.selectAll("rect.scrollbar-horizontal").data(x?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(P.fill,M.barColor),x?(this.hbar=z.attr({rx:M.barRadius,ry:M.barRadius,x:N,y:F,width:k,height:I}),this._hbarXMin=N+k/2,this._hbarTranslateMax=w-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=f>C,_=M.barWidth+2*M.barPad,B=M.barLength+2*M.barPad,W=u+l,$=g;W+_>n&&(W=n-_);var te=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);te.exit().on(".drag",null).remove(),te.enter().append("rect").classed("scrollbar-vertical",!0).call(P.fill,M.barColor),O?(this.vbar=te.attr({rx:M.barRadius,ry:M.barRadius,x:W,y:$,width:_,height:B}),this._vbarYMin=$+B/2,this._vbarTranslateMax=C-B):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ie=this.id,ue=b-.5,J=O?S+_+.5:S+.5,Y=m-.5,ae=x?a+I+.5:a+.5,j=i._topdefs.selectAll("#"+ie).data(x||O?[0]:[]);if(j.exit().remove(),j.enter().append("clipPath").attr("id",ie).append("rect"),x||O?(this._clipRect=j.select("rect").attr({x:Math.floor(ue),y:Math.floor(Y),width:Math.ceil(J)-Math.floor(ue),height:Math.ceil(ae)-Math.floor(Y)}),this.container.call(o.setClipUrl,ie,this.gd),this.bg.attr({x:u,y:g,width:l,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),x||O){var q=y.behavior.drag().on("dragstart",function(){y.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var oe=y.behavior.drag().on("dragstart",function(){y.event.sourceEvent.preventDefault(),y.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));x&&this.hbar.on(".drag",null).call(oe),O&&this.vbar.on(".drag",null).call(oe)}this.setTranslate(r,t)},M.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},M.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=y.event.dx),this.vbar&&(r-=y.event.dy),this.setTranslate(p,r)},M.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=y.event.deltaY),this.vbar&&(r+=y.event.deltaY),this.setTranslate(p,r)},M.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,i=t+this._hbarTranslateMax,n=L.constrain(y.event.x,t,i),c=(n-t)/(i-t),u=this.position.w-this._box.w;p=c*u}if(this.vbar){var l=r+this._vbarYMin,g=l+this._vbarTranslateMax,f=L.constrain(y.event.y,l,g),T=(f-l)/(g-l),h=this.position.h-this._box.h;r=T*h}this.setTranslate(p,r)},M.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(p=L.constrain(p||0,0,t),r=L.constrain(r||0,0,i),this.translateX=p,this.translateY=r,this.container.call(o.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(o.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var c=r/i;this.vbar.call(o.setTranslate,p,r+c*this._vbarTranslateMax)}}},18783:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(G){G.exports={axisRefDescription:function(V,e,y){return["If set to a",V,"axis id (e.g. *"+V+"* or","*"+V+"2*), the `"+V+"` position refers to a",V,"coordinate. If set to *paper*, the `"+V+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+y+"). If set to a",V,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+V+"2 domain* refers to the domain of the second",V," axis and a",V,"position of 0.5 refers to the","point between the",e,"and the",y,"of the domain of the","second",V,"axis."].join(" ")}}},22372:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},31562:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(G){G.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},37822:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},32396:function(G,V){V.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],V.STYLE=V.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(G,V){V.xmlns="http://www.w3.org/2000/xmlns/",V.svg="http://www.w3.org/2000/svg",V.xlink="http://www.w3.org/1999/xlink",V.svgAttrs={xmlns:V.svg,"xmlns:xlink":V.xlink}},8729:function(G,V,e){V.version=e(11506).version,e(7417),e(98847);for(var y=e(73972),P=V.register=y.register,o=e(10641),L=Object.keys(o),M=0;M<L.length;M++){var v=L[M];v.charAt(0)!=="_"&&(V[v]=o[v]),P({moduleType:"apiMethod",name:v,fn:o[v]})}P(e(67368)),P([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),P([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(P(window.PlotlyLocales),delete window.PlotlyLocales),V.Icons=e(24255);var p=e(30211),r=e(74875);V.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},V.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},V.Snapshot=e(44511),V.PlotSchema=e(86281)},24255:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(G,V){V.isLeftAnchor=function(y){return y.xanchor==="left"||y.xanchor==="auto"&&y.x<=.3333333333333333},V.isCenterAnchor=function(y){return y.xanchor==="center"||y.xanchor==="auto"&&y.x>.3333333333333333&&y.x<.6666666666666666},V.isRightAnchor=function(y){return y.xanchor==="right"||y.xanchor==="auto"&&y.x>=.6666666666666666},V.isTopAnchor=function(y){return y.yanchor==="top"||y.yanchor==="auto"&&y.y>=.6666666666666666},V.isMiddleAnchor=function(y){return y.yanchor==="middle"||y.yanchor==="auto"&&y.y>.3333333333333333&&y.y<.6666666666666666},V.isBottomAnchor=function(y){return y.yanchor==="bottom"||y.yanchor==="auto"&&y.y<=.3333333333333333}},26348:function(G,V,e){var y=e(64872),P=y.mod,o=y.modHalf,L=Math.PI,M=2*L;function v(T){return T/180*L}function p(T){return T/L*180}function r(T){return Math.abs(T[1]-T[0])>M-1e-14}function t(T,h){return o(h-T,M)}function i(T,h){return Math.abs(t(T,h))}function n(T,h){if(r(h))return!0;var s,d;h[0]<h[1]?(s=h[0],d=h[1]):(s=h[1],d=h[0]),s=P(s,M),d=P(d,M),s>d&&(d+=M);var A=P(T,M),w=A+M;return A>=s&&A<=d||w>=s&&w<=d}function c(T,h,s,d){if(!n(h,d))return!1;var A,w;return s[0]<s[1]?(A=s[0],w=s[1]):(A=s[1],w=s[0]),T>=A&&T<=w}function u(T,h,s,d,A,w,C){A=A||0,w=w||0;var b=r([s,d]),S,m,a,E,x;b?(S=0,m=L,a=M):s<d?(S=s,a=d):(S=d,a=s),T<h?(E=T,x=h):(E=h,x=T);function k(z,O){return[z*Math.cos(O)+A,w-z*Math.sin(O)]}var I=Math.abs(a-S)<=L?0:1;function N(z,O,_){return"A"+[z,z]+" "+[0,I,_]+" "+k(z,O)}var F;return b?E===null?F="M"+k(x,S)+N(x,m,0)+N(x,a,0)+"Z":F="M"+k(E,S)+N(E,m,0)+N(E,a,0)+"ZM"+k(x,S)+N(x,m,1)+N(x,a,1)+"Z":E===null?(F="M"+k(x,S)+N(x,a,0),C&&(F+="L0,0Z")):F="M"+k(E,S)+"L"+k(x,S)+N(x,a,0)+"L"+k(E,a)+N(E,S,1)+"Z",F}function l(T,h,s,d,A){return u(null,T,h,s,d,A,0)}function g(T,h,s,d,A){return u(null,T,h,s,d,A,1)}function f(T,h,s,d,A,w){return u(T,h,s,d,A,w,1)}G.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:i,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:c,pathArc:l,pathSector:g,pathAnnulus:f}},73627:function(G,V,e){var y=e(11631).decode,P=e(41965),o=Array.isArray,L=ArrayBuffer,M=DataView;function v(u){return L.isView(u)&&!(u instanceof M)}V.isTypedArray=v;function p(u){return o(u)||v(u)}V.isArrayOrTypedArray=p;function r(u){return!p(u[0])}V.isArray1D=r,V.ensureArray=function(u,l){return o(u)||(u=[]),u.length=l,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function i(u){return u.constructor===ArrayBuffer}V.isArrayBuffer=i,V.decodeTypedArraySpec=function(u){var l=[],g=n(u),f=g.dtype,T=t[f];if(!T)throw new Error('Error in dtype: "'+f+'"');var h=T.BYTES_PER_ELEMENT,s=g.bdata;i(s)||(s=y(s));var d=g.shape===void 0?[s.byteLength/h]:(""+g.shape).split(",");d.reverse();var A=d.length,w,C,b=+d[0],S=h*b,m=0;if(A===1)l=new T(s);else if(A===2)for(w=+d[1],C=0;C<w;C++)l[C]=new T(s,m,b),m+=S;else if(A===3){w=+d[1];for(var a=+d[2],E=0;E<a;E++)for(l[E]=[],C=0;C<w;C++)l[E][C]=new T(s,m,b),m+=S}else throw new Error("ndim: "+A+'is not supported with the shape:"'+g.shape+'"');return l.bdata=g.bdata,l.dtype=g.dtype,l.shape=d.reverse().join(","),u._inputArray=l,l},V.isTypedArraySpec=function(u){return P(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||i(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function n(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}V.concat=function(){var u=[],l=!0,g=0,f,T,h,s,d,A,w,C;for(h=0;h<arguments.length;h++)s=arguments[h],A=s.length,A&&(T?u.push(s):(T=s,d=A),o(s)?f=!1:(l=!1,g?f!==s.constructor&&(f=!1):f=s.constructor),g+=A);if(!g)return[];if(!u.length)return T;if(l)return T.concat.apply(T,u);if(f){for(w=new f(g),w.set(T),h=0;h<u.length;h++)s=u[h],w.set(s,d),d+=s.length;return w}for(w=new Array(g),C=0;C<T.length;C++)w[C]=T[C];for(h=0;h<u.length;h++){for(s=u[h],C=0;C<s.length;C++)w[d+C]=s[C];d+=C}return w},V.maxRowLength=function(u){return c(u,Math.max,0)},V.minRowLength=function(u){return c(u,Math.min,1/0)};function c(u,l,g){if(p(u))if(p(u[0])){for(var f=g,T=0;T<u.length;T++)f=l(f,u[T].length);return f}else return u.length;return 0}},95218:function(G,V,e){var y=e(92770),P=e(50606).BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(M){return typeof M=="string"&&(M=M.replace(o,"")),y(M)?Number(M):P}},33306:function(G){G.exports=function(e){var y=e._fullLayout;y._glcanvas&&y._glcanvas.size()&&y._glcanvas.each(function(P){P.regl&&P.regl.clear({color:!0,depth:!0})})}},86367:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(G,V,e){var y=e(92770),P=e(84267),o=e(9012),L=e(63282),M=e(7901),v=e(37822).DESELECTDIM,p=e(65487),r=e(30587).counter,t=e(64872).modHalf,i=e(73627).isArrayOrTypedArray,n=e(73627).isTypedArraySpec,c=e(73627).decodeTypedArraySpec;V.valObjectMeta={data_array:{coerceFunction:function(l,g,f){g.set(i(l)?l:n(l)?c(l):f)}},enumerated:{coerceFunction:function(l,g,f,T){T.coerceNumber&&(l=+l),T.values.indexOf(l)===-1?g.set(f):g.set(l)},validateFunction:function(l,g){g.coerceNumber&&(l=+l);for(var f=g.values,T=0;T<f.length;T++){var h=String(f[T]);if(h.charAt(0)==="/"&&h.charAt(h.length-1)==="/"){var s=new RegExp(h.substr(1,h.length-2));if(s.test(l))return!0}else if(l===f[T])return!0}return!1}},boolean:{coerceFunction:function(l,g,f){l===!0||l===!1?g.set(l):g.set(f)}},number:{coerceFunction:function(l,g,f,T){!y(l)||T.min!==void 0&&l<T.min||T.max!==void 0&&l>T.max?g.set(f):g.set(+l)}},integer:{coerceFunction:function(l,g,f,T){l%1||!y(l)||T.min!==void 0&&l<T.min||T.max!==void 0&&l>T.max?g.set(f):g.set(+l)}},string:{coerceFunction:function(l,g,f,T){if(typeof l!="string"){var h=typeof l=="number";T.strict===!0||!h?g.set(f):g.set(String(l))}else T.noBlank&&!l?g.set(f):g.set(l)}},color:{coerceFunction:function(l,g,f){P(l).isValid()?g.set(l):g.set(f)}},colorlist:{coerceFunction:function(l,g,f){function T(h){return P(h).isValid()}!Array.isArray(l)||!l.length?g.set(f):l.every(T)?g.set(l):g.set(f)}},colorscale:{coerceFunction:function(l,g,f){g.set(L.get(l,f))}},angle:{coerceFunction:function(l,g,f){l==="auto"?g.set("auto"):y(l)?g.set(t(+l,360)):g.set(f)}},subplotid:{coerceFunction:function(l,g,f,T){var h=T.regex||r(f);if(typeof l=="string"&&h.test(l)){g.set(l);return}g.set(f)},validateFunction:function(l,g){var f=g.dflt;return l===f?!0:typeof l!="string"?!1:!!r(f).test(l)}},flaglist:{coerceFunction:function(l,g,f,T){if((T.extras||[]).indexOf(l)!==-1){g.set(l);return}if(typeof l!="string"){g.set(f);return}for(var h=l.split("+"),s=0;s<h.length;){var d=h[s];T.flags.indexOf(d)===-1||h.indexOf(d)<s?h.splice(s,1):s++}h.length?g.set(h.join("+")):g.set(f)}},any:{coerceFunction:function(l,g,f){l===void 0?g.set(f):g.set(n(l)?c(l):l)}},info_array:{coerceFunction:function(l,g,f,T){function h(N,F,z){var O,_={set:function(B){O=B}};return z===void 0&&(z=F.dflt),V.valObjectMeta[F.valType].coerceFunction(N,_,z,F),O}if(n(l)&&(l=c(l)),!i(l)){g.set(f);return}var s=T.dimensions===2||T.dimensions==="1-2"&&Array.isArray(l)&&i(l[0]),d=T.items,A=[],w=Array.isArray(d),C=w&&s&&i(d[0]),b=s&&w&&!C,S=w&&!b?d.length:l.length,m,a,E,x,k,I;if(f=Array.isArray(f)?f:[],s)for(m=0;m<S;m++)for(A[m]=[],E=i(l[m])?l[m]:[],b?k=d.length:w?k=d[m].length:k=E.length,a=0;a<k;a++)b?x=d[a]:w?x=d[m][a]:x=d,I=h(E[a],x,(f[m]||[])[a]),I!==void 0&&(A[m][a]=I);else for(m=0;m<S;m++)I=h(l[m],w?d[m]:d,f[m]),I!==void 0&&(A[m]=I);g.set(A)},validateFunction:function(l,g){if(!i(l))return!1;var f=g.items,T=Array.isArray(f),h=g.dimensions===2;if(!g.freeLength&&l.length!==f.length)return!1;for(var s=0;s<l.length;s++)if(h){if(!i(l[s])||!g.freeLength&&l[s].length!==f[s].length)return!1;for(var d=0;d<l[s].length;d++)if(!u(l[s][d],T?f[s][d]:f))return!1}else if(!u(l[s],T?f[s]:f))return!1;return!0}}},V.coerce=function(l,g,f,T,h){var s=p(f,T).get(),d=p(l,T),A=p(g,T),w=d.get(),C=g._template;if(w===void 0&&C&&(w=p(C,T).get(),C=0),h===void 0&&(h=s.dflt),s.arrayOk){if(i(w))return A.set(w),w;if(n(w))return w=c(w),A.set(w),w}var b=V.valObjectMeta[s.valType].coerceFunction;b(w,A,h,s);var S=A.get();return C&&S===h&&!u(w,s)&&(w=p(C,T).get(),b(w,A,h,s),S=A.get()),S},V.coerce2=function(l,g,f,T,h){var s=p(l,T),d=V.coerce(l,g,f,T,h),A=s.get();return A!=null?d:!1},V.coerceFont=function(l,g,f){var T={};return f=f||{},T.family=l(g+".family",f.family),T.size=l(g+".size",f.size),T.color=l(g+".color",f.color),T},V.coercePattern=function(l,g,f,T){var h=l(g+".shape");if(h){l(g+".solidity"),l(g+".size");var s=l(g+".fillmode"),d=s==="overlay";if(!T){var A=l(g+".bgcolor",d?f:void 0);l(g+".fgcolor",d?M.contrast(A):f)}l(g+".fgopacity",d?.5:1)}},V.coerceHoverinfo=function(l,g,f){var T=g._module.attributes,h=T.hoverinfo?T:o,s=h.hoverinfo,d;if(f._dataLength===1){var A=s.dflt==="all"?s.flags.slice():s.dflt.split("+");A.splice(A.indexOf("name"),1),d=A.join("+")}return V.coerce(l,g,h,"hoverinfo",d)},V.coerceSelectionMarkerOpacity=function(l,g){if(l.marker){var f=l.marker.opacity;if(f!==void 0){var T,h;!i(f)&&!l.selected&&!l.unselected&&(T=f,h=v*f),g("selected.marker.opacity",T),g("unselected.marker.opacity",h)}}};function u(l,g){var f=V.valObjectMeta[g.valType];if(g.arrayOk&&i(l))return!0;if(f.validateFunction)return f.validateFunction(l,g);var T={},h=T,s={set:function(d){h=d}};return f.coerceFunction(l,s,T,g),h!==T}V.validate=u},41631:function(G,V,e){var y=e(84096).i$,P=e(92770),o=e(47769),L=e(64872).mod,M=e(50606),v=M.BADNUM,p=M.ONEDAY,r=M.ONEHOUR,t=M.ONEMIN,i=M.ONESEC,n=M.EPOCHJD,c=e(73972),u=e(84096).g0,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,f=new Date().getFullYear()-70;function T(F){return F&&c.componentsRegistry.calendars&&typeof F=="string"&&F!=="gregorian"}V.dateTick0=function(F,z){var O=h(F,!!z);if(z<2)return O;var _=V.dateTime2ms(O,F);return _+=p*(z-1),V.ms2DateTime(_,0,F)};function h(F,z){return T(F)?z?c.getComponentMethod("calendars","CANONICAL_SUNDAY")[F]:c.getComponentMethod("calendars","CANONICAL_TICK")[F]:z?"2000-01-02":"2000-01-01"}V.dfltRange=function(F){return T(F)?c.getComponentMethod("calendars","DFLTRANGE")[F]:["2000-01-01","2001-01-01"]},V.isJSDate=function(F){return typeof F=="object"&&F!==null&&typeof F.getTime=="function"};var s,d;V.dateTime2ms=function(F,z){if(V.isJSDate(F)){var O=F.getTimezoneOffset()*t,_=(F.getUTCMinutes()-F.getMinutes())*t+(F.getUTCSeconds()-F.getSeconds())*i+(F.getUTCMilliseconds()-F.getMilliseconds());if(_){var B=3*t;O=O-B/2+L(_-O+B/2,B)}return F=Number(F)-O,F>=s&&F<=d?F:v}if(typeof F!="string"&&typeof F!="number")return v;F=String(F);var W=T(z),$=F.charAt(0);W&&($==="G"||$==="g")&&(F=F.substr(1),z="");var te=W&&z.substr(0,7)==="chinese",ie=F.match(te?g:l);if(!ie)return v;var ue=ie[1],J=ie[3]||"1",Y=Number(ie[5]||1),ae=Number(ie[7]||0),j=Number(ie[9]||0),q=Number(ie[11]||0);if(W){if(ue.length===2)return v;ue=Number(ue);var oe;try{var Q=c.getComponentMethod("calendars","getCal")(z);if(te){var X=J.charAt(J.length-1)==="i";J=parseInt(J,10),oe=Q.newDate(ue,Q.toMonthIndex(ue,J,X),Y)}else oe=Q.newDate(ue,Number(J),Y)}catch{return v}return oe?(oe.toJD()-n)*p+ae*r+j*t+q*i:v}ue.length===2?ue=(Number(ue)+2e3-f)%100+f:ue=Number(ue),J-=1;var se=new Date(Date.UTC(2e3,J,Y,ae,j));return se.setUTCFullYear(ue),se.getUTCMonth()!==J||se.getUTCDate()!==Y?v:se.getTime()+q*i},s=V.MIN_MS=V.dateTime2ms("-9999"),d=V.MAX_MS=V.dateTime2ms("9999-12-31 23:59:59.9999"),V.isDateTime=function(F,z){return V.dateTime2ms(F,z)!==v};function A(F,z){return String(F+Math.pow(10,z)).substr(1)}var w=90*p,C=3*r,b=5*t;V.ms2DateTime=function(F,z,O){if(typeof F!="number"||!(F>=s&&F<=d))return v;z||(z=0);var _=Math.floor(L(F+.05,1)*10),B=Math.round(F-_/10),W,$,te,ie,ue,J;if(T(O)){var Y=Math.floor(B/p)+n,ae=Math.floor(L(F,p));try{W=c.getComponentMethod("calendars","getCal")(O).fromJD(Y).formatDate("yyyy-mm-dd")}catch{W=u("G%Y-%m-%d")(new Date(B))}if(W.charAt(0)==="-")for(;W.length<11;)W="-0"+W.substr(1);else for(;W.length<10;)W="0"+W;$=z<w?Math.floor(ae/r):0,te=z<w?Math.floor(ae%r/t):0,ie=z<C?Math.floor(ae%t/i):0,ue=z<b?ae%i*10+_:0}else J=new Date(B),W=u("%Y-%m-%d")(J),$=z<w?J.getUTCHours():0,te=z<w?J.getUTCMinutes():0,ie=z<C?J.getUTCSeconds():0,ue=z<b?J.getUTCMilliseconds()*10+_:0;return S(W,$,te,ie,ue)},V.ms2DateTimeLocal=function(F){if(!(F>=s+p&&F<=d-p))return v;var z=Math.floor(L(F+.05,1)*10),O=new Date(Math.round(F-z/10)),_=y("%Y-%m-%d")(O),B=O.getHours(),W=O.getMinutes(),$=O.getSeconds(),te=O.getUTCMilliseconds()*10+z;return S(_,B,W,$,te)};function S(F,z,O,_,B){if((z||O||_||B)&&(F+=" "+A(z,2)+":"+A(O,2),(_||B)&&(F+=":"+A(_,2),B))){for(var W=4;B%10===0;)W-=1,B/=10;F+="."+A(B,W)}return F}V.cleanDate=function(F,z,O){if(F===v)return z;if(V.isJSDate(F)||typeof F=="number"&&isFinite(F)){if(T(O))return o.error("JS Dates and milliseconds are incompatible with world calendars",F),z;if(F=V.ms2DateTimeLocal(+F),!F&&z!==void 0)return z}else if(!V.isDateTime(F,O))return o.error("unrecognized date",F),z;return F};var m=/%\d?f/g,a=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function x(F,z,O,_){F=F.replace(m,function(W){var $=Math.min(+W.charAt(1)||6,6),te=(z/1e3%1+2).toFixed($).substr(2).replace(/0+$/,"")||"0";return te});var B=new Date(Math.floor(z+.05));if(F=F.replace(a,function(){return E[O("%q")(B)]}),T(_))try{F=c.getComponentMethod("calendars","worldCalFmt")(F,z,_)}catch{return"Invalid"}return O(F)(B)}var k=[59,59.9,59.99,59.999,59.9999];function I(F,z){var O=L(F+.05,p),_=A(Math.floor(O/r),2)+":"+A(L(Math.floor(O/t),60),2);if(z!=="M"){P(z)||(z=0);var B=Math.min(L(F/i,60),k[z]),W=(100+B).toFixed(z).substr(1);z>0&&(W=W.replace(/0+$/,"").replace(/[\.]$/,"")),_+=":"+W}return _}V.formatDate=function(F,z,O,_,B,W){if(B=T(B)&&B,!z)if(O==="y")z=W.year;else if(O==="m")z=W.month;else if(O==="d")z=W.dayMonth+`
`+W.year;else return I(F,O)+`
`+x(W.dayMonthYear,F,_,B);return x(z,F,_,B)};var N=3*p;V.incrementMonth=function(F,z,O){O=T(O)&&O;var _=L(F,p);if(F=Math.round(F-_),O)try{var B=Math.round(F/p)+n,W=c.getComponentMethod("calendars","getCal")(O),$=W.fromJD(B);return z%12?W.add($,z,"m"):W.add($,z/12,"y"),($.toJD()-n)*p+_}catch{o.error("invalid ms "+F+" in calendar "+O)}var te=new Date(F+N);return te.setUTCMonth(te.getUTCMonth()+z)+_-N},V.findExactDates=function(F,z){for(var O=0,_=0,B=0,W=0,$,te,ie=T(z)&&c.getComponentMethod("calendars","getCal")(z),ue=0;ue<F.length;ue++){if(te=F[ue],!P(te)){W++;continue}if(!(te%p))if(ie)try{$=ie.fromJD(te/p+n),$.day()===1?$.month()===1?O++:_++:B++}catch{}else $=new Date(te),$.getUTCDate()===1?$.getUTCMonth()===0?O++:_++:B++}_+=O,B+=_;var J=F.length-W;return{exactYears:O/J,exactMonths:_/J,exactDays:B/J}}},24401:function(G,V,e){var y=e(39898),P=e(47769),o=e(35657),L=e(79576);function M(f){var T;if(typeof f=="string"){if(T=document.getElementById(f),T===null)throw new Error("No DOM element with id '"+f+"' exists on the page.");return T}else if(f==null)throw new Error("DOM element provided is null or undefined");return f}function v(f){var T=y.select(f);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function p(f){var T=f&&f.parentNode;T&&T.removeChild(f)}function r(f,T){t("global",f,T)}function t(f,T,h){var s="plotly.js-style-"+f,d=document.getElementById(s);d||(d=document.createElement("style"),d.setAttribute("id",s),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var A=d.sheet;A.insertRule?A.insertRule(T+"{"+h+"}",0):A.addRule?A.addRule(T,h,0):P.warn("addStyleRule failed")}function i(f){var T="plotly.js-style-"+f,h=document.getElementById(T);h&&p(h)}function n(f){var T=u(f),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(s){var d=c(s);if(d){var A=o.convertCssMatrix(d);h=L.multiply(h,h,A)}}),h}function c(f){var T=window.getComputedStyle(f,null),h=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(s){return+s})}function u(f){for(var T=[];l(f);)T.push(f),f=f.parentNode;return T}function l(f){return f&&(f instanceof Element||f instanceof HTMLElement)}function g(f,T){return f&&T&&f.top===T.top&&f.left===T.left&&f.right===T.right&&f.bottom===T.bottom}G.exports={getGraphDiv:M,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:i,getFullTransformMatrix:n,getElementTransformMatrix:c,getElementAndAncestors:u,equalDomRects:g}},11086:function(G,V,e){var y=e(15398).EventEmitter,P={init:function(o){if(o._ev instanceof y)return o;var L=new y,M=new y;return o._ev=L,o._internalEv=M,o.on=L.on.bind(L),o.once=L.once.bind(L),o.removeListener=L.removeListener.bind(L),o.removeAllListeners=L.removeAllListeners.bind(L),o._internalOn=M.on.bind(M),o._internalOnce=M.once.bind(M),o._removeInternalListener=M.removeListener.bind(M),o._removeAllInternalListeners=M.removeAllListeners.bind(M),o.emit=function(v,p){typeof jQuery<"u"&&jQuery(o).trigger(v,p),L.emit(v,p),M.emit(v,p)},o},triggerHandler:function(o,L,M){var v,p;typeof jQuery<"u"&&(v=jQuery(o).triggerHandler(L,M));var r=o._ev;if(!r)return v;var t=r._events[L];if(!t)return v;function i(c){if(c.listener){if(r.removeListener(L,c.listener),!c.fired)return c.fired=!0,c.listener.apply(r,[M])}else return c.apply(r,[M])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)i(t[n]);return p=i(t[n]),v!==void 0?v:p},purge:function(o){return delete o._ev,delete o.on,delete o.once,delete o.removeListener,delete o.removeAllListeners,delete o.emit,delete o._ev,delete o._internalEv,delete o._internalOn,delete o._internalOnce,delete o._removeInternalListener,delete o._removeAllInternalListeners,o}};G.exports=P},1426:function(G,V,e){var y=e(41965),P=Array.isArray;function o(M,v){var p,r;for(p=0;p<M.length;p++){if(r=M[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}V.extendFlat=function(){return L(arguments,!1,!1,!1)},V.extendDeep=function(){return L(arguments,!0,!1,!1)},V.extendDeepAll=function(){return L(arguments,!0,!0,!1)},V.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(M,v,p,r){var t=M[0],i=M.length,n,c,u,l,g,f,T;if(i===2&&P(t)&&P(M[1])&&t.length===0){if(T=o(M[1],t),T)return t;t.splice(0,t.length)}for(var h=1;h<i;h++){n=M[h];for(c in n)u=t[c],l=n[c],r&&P(l)?t[c]=l:v&&l&&(y(l)||(g=P(l)))?(g?(g=!1,f=u&&P(u)?u:[]):f=u&&y(u)?u:{},t[c]=L([f,l],v,p,r)):(typeof l<"u"||p)&&(t[c]=l)}return t}},75744:function(G){G.exports=function(e){for(var y={},P=[],o=0,L=0;L<e.length;L++){var M=e[L];y[M]!==1&&(y[M]=1,P[o++]=M)}return P}},76756:function(G){G.exports=function(o){for(var L=y(o)?e:V,M=[],v=0;v<o.length;v++){var p=o[v];L(p)&&M.push(p)}return M};function V(P){return P.visible===!0}function e(P){var o=P[0].trace;return o.visible===!0&&o._length!==0}function y(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}},41327:function(G,V,e){var y=e(39898),P=e(24138),o=e(30774),L=e(29261),M=e(85268),v=e(23389),p=e(47769),r=e(41965),t=e(65487),i=e(61082),n=Object.keys(P),c={"ISO-3":v,"USA-states":v,"country names":u};function u(A){for(var w=0;w<n.length;w++){var C=n[w],b=new RegExp(P[C]);if(b.test(A.trim().toLowerCase()))return C}return p.log("Unrecognized country name: "+A+"."),!1}function l(A,w,C){if(!w||typeof w!="string")return!1;var b=c[A](w),S,m,a;if(b){if(A==="USA-states")for(S=[],a=0;a<C.length;a++)m=C[a],m.properties&&m.properties.gu&&m.properties.gu==="USA"&&S.push(m);else S=C;for(a=0;a<S.length;a++)if(m=S[a],m.id===b)return m;p.log(["Location with id",b,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function g(A){var w=A.geometry,C=w.coordinates,b=A.id,S=[],m,a,E,x;function k(I){for(var N=0;N<I.length-1;N++)if(I[N][0]>0&&I[N+1][0]<0)return N;return null}switch(b==="RUS"||b==="FJI"?m=function(I){var N;if(k(I)===null)N=I;else for(N=new Array(I.length),x=0;x<I.length;x++)N[x]=[I[x][0]<0?I[x][0]+360:I[x][0],I[x][1]];S.push(i.tester(N))}:b==="ATA"?m=function(I){var N=k(I);if(N===null)return S.push(i.tester(I));var F=new Array(I.length+1),z=0;for(x=0;x<I.length;x++)x>N?F[z++]=[I[x][0]+360,I[x][1]]:x===N?(F[z++]=I[x],F[z++]=[I[x][0],-90]):F[z++]=I[x];var O=i.tester(F);O.pts.pop(),S.push(O)}:m=function(I){S.push(i.tester(I))},w.type){case"MultiPolygon":for(a=0;a<C.length;a++)for(E=0;E<C[a].length;E++)m(C[a][E]);break;case"Polygon":for(a=0;a<C.length;a++)m(C[a]);break}return S}function f(A){var w=A.geojson,C=window.PlotlyGeoAssets||{},b=typeof w=="string"?C[w]:w;return r(b)?b:(p.error("Oops ... something went wrong when fetching "+w),!1)}function T(A){var w=A[0].trace,C=f(w);if(!C)return!1;var b={},S=[],m;for(m=0;m<w._length;m++){var a=A[m];(a.loc||a.loc===0)&&(b[a.loc]=a)}function E(I){var N=t(I,w.featureidkey||"id").get(),F=b[N];if(F){var z=I.geometry;if(z.type==="Polygon"||z.type==="MultiPolygon"){var O={type:"Feature",id:N,geometry:z,properties:{}};O.properties.ct=h(O),F.fIn=I,F.fOut=O,S.push(O)}else p.log(["Location",F.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete b[N]}switch(C.type){case"FeatureCollection":var x=C.features;for(m=0;m<x.length;m++)E(x[m]);break;case"Feature":E(C);break;default:return p.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var k in b)p.log(["Location *"+k+"*","does not have a matching feature with id-key","*"+w.featureidkey+"*."].join(" "));return S}function h(A){var w=A.geometry,C;if(w.type==="MultiPolygon")for(var b=w.coordinates,S=0,m=0;m<b.length;m++){var a={type:"Polygon",coordinates:b[m]},E=o.default(a);E>S&&(S=E,C=a)}else C=w;return L.default(C).geometry.coordinates}function s(A){var w=window.PlotlyGeoAssets||{},C=[];function b(x){return new Promise(function(k,I){y.json(x,function(N,F){if(N){delete w[x];var z=N.status===404?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x;return I(new Error(z))}return w[x]=F,k(F)})})}function S(x){return new Promise(function(k,I){var N=0,F=setInterval(function(){if(w[x]&&w[x]!=="pending")return clearInterval(F),k(w[x]);if(N>100)return clearInterval(F),I("Unexpected error while fetching from "+x);N++},50)})}for(var m=0;m<A.length;m++){var a=A[m][0].trace,E=a.geojson;typeof E=="string"&&(w[E]?w[E]==="pending"&&C.push(S(E)):(w[E]="pending",C.push(b(E))))}return C}function d(A){return M.default(A)}G.exports={locationToFeature:l,feature2polygons:g,getTraceGeojson:f,extractTraceFeature:T,fetchTraceGeoData:s,computeBbox:d}},18214:function(G,V,e){var y=e(50606).BADNUM;V.calcTraceToLineCoords=function(P){for(var o=P[0].trace,L=o.connectgaps,M=[],v=[],p=0;p<P.length;p++){var r=P[p],t=r.lonlat;t[0]!==y?v.push(t):!L&&v.length>0&&(M.push(v),v=[])}return v.length>0&&M.push(v),M},V.makeLine=function(P){return P.length===1?{type:"LineString",coordinates:P[0]}:{type:"MultiLineString",coordinates:P}},V.makePolygon=function(P){if(P.length===1)return{type:"Polygon",coordinates:P};for(var o=new Array(P.length),L=0;L<P.length;L++)o[L]=[P[L]];return{type:"MultiPolygon",coordinates:o}},V.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(G,V,e){var y=e(64872).mod;V.segmentsIntersect=P;function P(p,r,t,i,n,c,u,l){var g=t-p,f=n-p,T=u-n,h=i-r,s=c-r,d=l-c,A=g*d-T*h;if(A===0)return null;var w=(f*d-T*s)/A,C=(f*h-g*s)/A;return C<0||C>1||w<0||w>1?null:{x:p+g*w,y:r+h*w}}V.segmentDistance=function(r,t,i,n,c,u,l,g){if(P(r,t,i,n,c,u,l,g))return 0;var f=i-r,T=n-t,h=l-c,s=g-u,d=f*f+T*T,A=h*h+s*s,w=Math.min(o(f,T,d,c-r,u-t),o(f,T,d,l-r,g-t),o(h,s,A,r-c,t-u),o(h,s,A,i-c,n-u));return Math.sqrt(w)};function o(p,r,t,i,n){var c=i*p+n*r;if(c<0)return i*i+n*n;if(c>t){var u=i-p,l=n-r;return u*u+l*l}else{var g=i*r-n*p;return g*g/t}}var L,M,v;V.getTextLocation=function(r,t,i,n){if((r!==M||n!==v)&&(L={},M=r,v=n),L[i])return L[i];var c=r.getPointAtLength(y(i-n/2,t)),u=r.getPointAtLength(y(i+n/2,t)),l=Math.atan((u.y-c.y)/(u.x-c.x)),g=r.getPointAtLength(y(i,t)),f=(g.x*4+c.x+u.x)/6,T=(g.y*4+c.y+u.y)/6,h={x:f,y:T,theta:l};return L[i]=h,h},V.clearLocationCache=function(){M=null},V.getVisibleSegment=function(r,t,i){var n=t.left,c=t.right,u=t.top,l=t.bottom,g=0,f=r.getTotalLength(),T=f,h,s;function d(w){var C=r.getPointAtLength(w);w===0?h=C:w===f&&(s=C);var b=C.x<n?n-C.x:C.x>c?C.x-c:0,S=C.y<u?u-C.y:C.y>l?C.y-l:0;return Math.sqrt(b*b+S*S)}for(var A=d(g);A;){if(g+=A+i,g>T)return;A=d(g)}for(A=d(T);A;){if(T-=A+i,g>T)return;A=d(T)}return{min:g,max:T,len:T-g,total:f,isClosed:g===0&&T===f&&Math.abs(h.x-s.x)<.1&&Math.abs(h.y-s.y)<.1}},V.findPointOnPath=function(r,t,i,n){n=n||{};for(var c=n.pathLength||r.getTotalLength(),u=n.tolerance||.001,l=n.iterationLimit||30,g=r.getPointAtLength(0)[i]>r.getPointAtLength(c)[i]?-1:1,f=0,T=0,h=c,s,d,A;f<l;){if(s=(T+h)/2,d=r.getPointAtLength(s),A=d[i]-t,Math.abs(A)<u)return d;g*A>0?h=s:T=s,f++}return d}},81697:function(G,V,e){var y=e(92770),P=e(84267),o=e(25075),L=e(21081),M=e(22399).defaultLine,v=e(73627).isArrayOrTypedArray,p=o(M),r=1;function t(l,g){var f=l;return f[3]*=g,f}function i(l){if(y(l))return p;var g=o(l);return g.length?g:p}function n(l){return y(l)?l:r}function c(l,g,f){var T=l.color;T&&T._inputArray&&(T=T._inputArray);var h=v(T),s=v(g),d=L.extractOpts(l),A=[],w,C,b,S,m;if(d.colorscale!==void 0?w=L.makeColorScaleFuncFromTrace(l):w=i,h?C=function(E,x){return E[x]===void 0?p:o(w(E[x]))}:C=i,s?b=function(E,x){return E[x]===void 0?r:n(E[x])}:b=n,h||s)for(var a=0;a<f;a++)S=C(T,a),m=b(g,a),A[a]=t(S,m);else A=t(o(T),g);return A}function u(l){var g=L.extractOpts(l),f=g.colorscale;return g.reversescale&&(f=L.flipScale(g.colorscale)),f.map(function(T){var h=T[0],s=P(T[1]),d=s.toRgb();return{index:h,rgb:[d.r,d.g,d.b,d.a]}})}G.exports={formatColor:c,parseColorScale:u}},28984:function(G,V,e){var y=e(23389);function P(o){return[o]}G.exports={keyFun:function(o){return o.key},repeat:P,descend:y,wrap:P,unwrap:function(o){return o[0]}}},23389:function(G){G.exports=function(e){return e}},39240:function(G){G.exports=function(e,y){if(!y)return e;var P=1/Math.abs(y),o=P>1?(P*e+P*y)/P:e+y,L=String(o).length;if(L>16){var M=String(y).length,v=String(e).length;if(L>=v+M){var p=parseFloat(o).toPrecision(12);p.indexOf("e+")===-1&&(o=+p)}}return o}},71828:function(G,V,e){var y=e(39898),P=e(84096).g0,o=e(60721).WU,L=e(92770),M=e(50606),v=M.FP_SAFE,p=-v,r=M.BADNUM,t=G.exports={};t.adjustFormat=function(oe){return!oe||/^\d[.]\df/.test(oe)||/[.]\d%/.test(oe)?oe:oe==="0.f"?"~f":/^\d%/.test(oe)?"~%":/^\ds/.test(oe)?"~s":!/^[~,.0$]/.test(oe)&&/[&fps]/.test(oe)?"~"+oe:oe};var i={};t.warnBadFormat=function(q){var oe=String(q);i[oe]||(i[oe]=1,t.warn('encountered bad format: "'+oe+'"'))},t.noFormat=function(q){return String(q)},t.numberFormat=function(q){var oe;try{oe=o(t.adjustFormat(q))}catch{return t.warnBadFormat(q),t.noFormat}return oe},t.nestedProperty=e(65487),t.keyedContainer=e(66636),t.relativeAttr=e(6962),t.isPlainObject=e(41965),t.toLogRange=e(58163),t.relinkPrivateKeys=e(51332);var n=e(73627);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var c=e(64872);t.mod=c.mod,t.modHalf=c.modHalf;var u=e(96554);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var l=e(41631);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var g=e(65888);t.findBin=g.findBin,t.sorterAsc=g.sorterAsc,t.sorterDes=g.sorterDes,t.distinctVals=g.distinctVals,t.roundUp=g.roundUp,t.sort=g.sort,t.findIndexOfMin=g.findIndexOfMin,t.sortObjectKeys=e(78607);var f=e(80038);t.aggNums=f.aggNums,t.len=f.len,t.mean=f.mean,t.median=f.median,t.midRange=f.midRange,t.variance=f.variance,t.stdev=f.stdev,t.interp=f.interp;var T=e(35657);t.init2dArray=T.init2dArray,t.transposeRagged=T.transposeRagged,t.dot=T.dot,t.translationMatrix=T.translationMatrix,t.rotationMatrix=T.rotationMatrix,t.rotationXYMatrix=T.rotationXYMatrix,t.apply3DTransform=T.apply3DTransform,t.apply2DTransform=T.apply2DTransform,t.apply2DTransform2=T.apply2DTransform2,t.convertCssMatrix=T.convertCssMatrix,t.inverseTransformMatrix=T.inverseTransformMatrix;var h=e(26348);t.deg2rad=h.deg2rad,t.rad2deg=h.rad2deg,t.angleDelta=h.angleDelta,t.angleDist=h.angleDist,t.isFullCircle=h.isFullCircle,t.isAngleInsideSector=h.isAngleInsideSector,t.isPtInsideSector=h.isPtInsideSector,t.pathArc=h.pathArc,t.pathSector=h.pathSector,t.pathAnnulus=h.pathAnnulus;var s=e(99863);t.isLeftAnchor=s.isLeftAnchor,t.isCenterAnchor=s.isCenterAnchor,t.isRightAnchor=s.isRightAnchor,t.isTopAnchor=s.isTopAnchor,t.isMiddleAnchor=s.isMiddleAnchor,t.isBottomAnchor=s.isBottomAnchor;var d=e(87642);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var A=e(1426);t.extendFlat=A.extendFlat,t.extendDeep=A.extendDeep,t.extendDeepAll=A.extendDeepAll,t.extendDeepNoArrays=A.extendDeepNoArrays;var w=e(47769);t.log=w.log,t.warn=w.warn,t.error=w.error;var C=e(30587);t.counterRegex=C.counter;var b=e(79990);t.throttle=b.throttle,t.throttleDone=b.done,t.clearThrottle=b.clear;var S=e(24401);t.getGraphDiv=S.getGraphDiv,t.isPlotDiv=S.isPlotDiv,t.removeElement=S.removeElement,t.addStyleRule=S.addStyleRule,t.addRelatedStyleRule=S.addRelatedStyleRule,t.deleteRelatedStyleRule=S.deleteRelatedStyleRule,t.getFullTransformMatrix=S.getFullTransformMatrix,t.getElementTransformMatrix=S.getElementTransformMatrix,t.getElementAndAncestors=S.getElementAndAncestors,t.equalDomRects=S.equalDomRects,t.clearResponsive=e(86367),t.preserveDrawingBuffer=e(45142),t.makeTraceGroups=e(77310),t._=e(15867),t.notifier=e(75046),t.filterUnique=e(75744),t.filterVisible=e(76756),t.pushUnique=e(75138),t.increment=e(39240),t.cleanNumber=e(95218),t.ensureNumber=function(oe){return L(oe)?(oe=Number(oe),oe>v||oe<p?r:oe):r},t.isIndex=function(q,oe){return oe!==void 0&&q>=oe?!1:L(q)&&q>=0&&q%1===0},t.noop=e(64213),t.identity=e(23389),t.repeat=function(q,oe){for(var Q=new Array(oe),X=0;X<oe;X++)Q[X]=q;return Q},t.swapAttrs=function(q,oe,Q,X){Q||(Q="x"),X||(X="y");for(var se=0;se<oe.length;se++){var ne=oe[se],fe=t.nestedProperty(q,ne.replace("?",Q)),ye=t.nestedProperty(q,ne.replace("?",X)),Se=fe.get();fe.set(ye.get()),ye.set(Se)}},t.raiseToTop=function(oe){oe.parentNode.appendChild(oe)},t.cancelTransition=function(q){return q.transition().duration(0)},t.constrain=function(q,oe,Q){return oe>Q?Math.max(Q,Math.min(oe,q)):Math.max(oe,Math.min(Q,q))},t.bBoxIntersect=function(q,oe,Q){return Q=Q||0,q.left<=oe.right+Q&&oe.left<=q.right+Q&&q.top<=oe.bottom+Q&&oe.top<=q.bottom+Q},t.simpleMap=function(q,oe,Q,X,se){for(var ne=q.length,fe=new Array(ne),ye=0;ye<ne;ye++)fe[ye]=oe(q[ye],Q,X,se);return fe},t.randstr=function q(oe,Q,X,se){if(X||(X=16),Q===void 0&&(Q=24),Q<=0)return"0";var ne=Math.log(Math.pow(2,Q))/Math.log(X),fe="",ye,Se,we;for(ye=2;ne===1/0;ye*=2)ne=Math.log(Math.pow(2,Q/ye))/Math.log(X)*ye;var _e=ne-Math.floor(ne);for(ye=0;ye<Math.floor(ne);ye++)we=Math.floor(Math.random()*X).toString(X),fe=we+fe;_e&&(Se=Math.pow(X,_e),we=Math.floor(Math.random()*Se).toString(X),fe=we+fe);var ke=parseInt(fe,X);return oe&&oe[fe]||ke!==1/0&&ke>=Math.pow(2,Q)?se>10?(t.warn("randstr failed uniqueness"),fe):q(oe,Q,X,(se||0)+1):fe},t.OptionControl=function(q,oe){q||(q={}),oe||(oe="opt");var Q={};return Q.optionList=[],Q._newoption=function(X){X[oe]=q,Q[X.name]=X,Q.optionList.push(X)},Q["_"+oe]=q,Q},t.smooth=function(q,oe){if(oe=Math.round(oe)||0,oe<2)return q;var Q=q.length,X=2*Q,se=2*oe-1,ne=new Array(se),fe=new Array(Q),ye,Se,we,_e;for(ye=0;ye<se;ye++)ne[ye]=(1-Math.cos(Math.PI*(ye+1)/oe))/(2*oe);for(ye=0;ye<Q;ye++){for(_e=0,Se=0;Se<se;Se++)we=ye+Se+1-oe,we<-Q?we-=X*Math.round(we/X):we>=X&&(we-=X*Math.floor(we/X)),we<0?we=-1-we:we>=Q&&(we=X-1-we),_e+=q[we]*ne[Se];fe[ye]=_e}return fe},t.syncOrAsync=function(q,oe,Q){var X,se;function ne(){return t.syncOrAsync(q,oe,Q)}for(;q.length;)if(se=q.splice(0,1)[0],X=se(oe),X&&X.then)return X.then(ne);return Q&&Q(oe)},t.stripTrailingSlash=function(q){return q.substr(-1)==="/"?q.substr(0,q.length-1):q},t.noneOrAll=function(q,oe,Q){if(q){var X=!1,se=!0,ne,fe;for(ne=0;ne<Q.length;ne++)fe=q[Q[ne]],fe!=null?X=!0:se=!1;if(X&&!se)for(ne=0;ne<Q.length;ne++)q[Q[ne]]=oe[Q[ne]]}},t.mergeArray=function(q,oe,Q,X){var se=typeof X=="function";if(t.isArrayOrTypedArray(q))for(var ne=Math.min(q.length,oe.length),fe=0;fe<ne;fe++){var ye=q[fe];oe[fe][Q]=se?X(ye):ye}},t.mergeArrayCastPositive=function(q,oe,Q){return t.mergeArray(q,oe,Q,function(X){var se=+X;return isFinite(se)&&se>0?se:0})},t.fillArray=function(q,oe,Q,X){if(X=X||t.identity,t.isArrayOrTypedArray(q))for(var se=0;se<oe.length;se++)oe[se][Q]=X(q[se])},t.castOption=function(q,oe,Q,X){X=X||t.identity;var se=t.nestedProperty(q,Q).get();return t.isArrayOrTypedArray(se)?Array.isArray(oe)&&t.isArrayOrTypedArray(se[oe[0]])?X(se[oe[0]][oe[1]]):X(se[oe]):se},t.extractOption=function(q,oe,Q,X){if(Q in q)return q[Q];var se=t.nestedProperty(oe,X).get();if(!Array.isArray(se))return se};function m(q){var oe={};for(var Q in q)for(var X=q[Q],se=0;se<X.length;se++)oe[X[se]]=+Q;return oe}t.tagSelected=function(q,oe,Q){var X=oe.selectedpoints,se=oe._indexToPoints,ne;se&&(ne=m(se));function fe(ke){return ke!==void 0&&ke<q.length}for(var ye=0;ye<X.length;ye++){var Se=X[ye];if(t.isIndex(Se)||t.isArrayOrTypedArray(Se)&&t.isIndex(Se[0])&&t.isIndex(Se[1])){var we=ne?ne[Se]:Se,_e=Q?Q[we]:we;fe(_e)&&(q[_e].selected=1)}}},t.selIndices2selPoints=function(q){var oe=q.selectedpoints,Q=q._indexToPoints;if(Q){for(var X=m(Q),se=[],ne=0;ne<oe.length;ne++){var fe=oe[ne];if(t.isIndex(fe)){var ye=X[fe];t.isIndex(ye)&&se.push(ye)}}return se}else return oe},t.getTargetArray=function(q,oe){var Q=oe.target;if(typeof Q=="string"&&Q){var X=t.nestedProperty(q,Q).get();return t.isArrayOrTypedArray(X)?X:!1}else if(t.isArrayOrTypedArray(Q))return Q;return!1};function a(q,oe,Q){var X={};typeof oe!="object"&&(oe={});var se=Q==="pieLike"?-1:3,ne=Object.keys(q),fe,ye,Se;for(fe=0;fe<ne.length;fe++)ye=ne[fe],Se=q[ye],!(ye.charAt(0)==="_"||typeof Se=="function")&&(ye==="module"?X[ye]=Se:Array.isArray(Se)?ye==="colorscale"||se===-1?X[ye]=Se.slice():X[ye]=Se.slice(0,se):t.isTypedArray(Se)?se===-1?X[ye]=Se.subarray():X[ye]=Se.subarray(0,se):Se&&typeof Se=="object"?X[ye]=a(q[ye],oe[ye],Q):X[ye]=Se);for(ne=Object.keys(oe),fe=0;fe<ne.length;fe++)ye=ne[fe],Se=oe[ye],(typeof Se!="object"||!(ye in X)||typeof X[ye]!="object")&&(X[ye]=Se);return X}t.minExtend=a,t.titleCase=function(q){return q.charAt(0).toUpperCase()+q.substr(1)},t.containsAny=function(q,oe){for(var Q=0;Q<oe.length;Q++)if(q.indexOf(oe[Q])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var E=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return E.test(window.navigator.userAgent)};var x=/iPad|iPhone|iPod/;t.isIOS=function(){return x.test(window.navigator.userAgent)};var k=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var q=k.exec(window.navigator.userAgent);if(q&&q.length===2){var oe=parseInt(q[1]);if(!isNaN(oe))return oe}return null},t.isD3Selection=function(q){return q instanceof y.selection},t.ensureSingle=function(q,oe,Q,X){var se=q.select(oe+(Q?"."+Q:""));if(se.size())return se;var ne=q.append(oe);return Q&&ne.classed(Q,!0),X&&ne.call(X),ne},t.ensureSingleById=function(q,oe,Q,X){var se=q.select(oe+"#"+Q);if(se.size())return se;var ne=q.append(oe).attr("id",Q);return X&&ne.call(X),ne},t.objectFromPath=function(q,oe){for(var Q=q.split("."),X,se=X={},ne=0;ne<Q.length;ne++){var fe=Q[ne],ye=null,Se=Q[ne].match(/(.*)\[([0-9]+)\]/);Se?(fe=Se[1],ye=Se[2],X=X[fe]=[],ne===Q.length-1?X[ye]=oe:X[ye]={},X=X[ye]):(ne===Q.length-1?X[fe]=oe:X[fe]={},X=X[fe])}return se};var I=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function F(q){return q.slice(0,2)==="__"}t.expandObjectPaths=function(q){var oe,Q,X,se,ne,fe,ye;if(typeof q=="object"&&!Array.isArray(q)){for(Q in q)if(q.hasOwnProperty(Q))if(oe=Q.match(I)){if(se=q[Q],X=oe[1],F(X))continue;delete q[Q],q[X]=t.extendDeepNoArrays(q[X]||{},t.objectFromPath(Q,t.expandObjectPaths(se))[X])}else if(oe=Q.match(N)){if(se=q[Q],X=oe[1],F(X))continue;if(ne=parseInt(oe[2]),delete q[Q],q[X]=q[X]||[],oe[3]===".")ye=oe[4],fe=q[X][ne]=q[X][ne]||{},t.extendDeepNoArrays(fe,t.objectFromPath(ye,t.expandObjectPaths(se)));else{if(F(X))continue;q[X][ne]=t.expandObjectPaths(se)}}else{if(F(Q))continue;q[Q]=t.expandObjectPaths(q[Q])}}return q},t.numSeparate=function(q,oe,Q){if(Q||(Q=!1),typeof oe!="string"||oe.length===0)throw new Error("Separator string required for formatting!");typeof q=="number"&&(q=String(q));var X=/(\d+)(\d{3})/,se=oe.charAt(0),ne=oe.charAt(1),fe=q.split("."),ye=fe[0],Se=fe.length>1?se+fe[1]:"";if(ne&&(fe.length>1||ye.length>4||Q))for(;X.test(ye);)ye=ye.replace(X,"$1"+ne+"$2");return ye+Se},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;t.templateString=function(q,oe){var Q={};return q.replace(t.TEMPLATE_STRING_REGEX,function(X,se){var ne;return z.test(se)?ne=oe[se]:(Q[se]=Q[se]||t.nestedProperty(oe,se).get,ne=Q[se]()),t.isValidTextValue(ne)?ne:""})};var O={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ie.apply(O,arguments)};var _={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ie.apply(_,arguments)};var B=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function W(q){var oe=q.match(B);return oe?{key:oe[1],op:oe[2],number:Number(oe[3])}:{key:q,op:null,number:null}}var $={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ie.apply($,arguments)};var te=/^[:|\|]/;function ie(q,oe,Q){var X=this,se=arguments;oe||(oe={});var ne={};return q.replace(t.TEMPLATE_STRING_REGEX,function(fe,ye,Se){var we=ye==="xother"||ye==="yother",_e=ye==="_xother"||ye==="_yother",ke=ye==="_xother_"||ye==="_yother_",Me=ye==="xother_"||ye==="yother_",me=we||_e||Me||ke,Ee=ye;(_e||ke)&&(Ee=Ee.substring(1)),(Me||ke)&&(Ee=Ee.substring(0,Ee.length-1));var Be=null,Ue=null;if(X.parseMultDiv){var De=W(Ee);Ee=De.key,Be=De.op,Ue=De.number}var He;if(me){if(He=oe[Ee],He===void 0)return""}else{var nt,lt;for(lt=3;lt<se.length;lt++)if(nt=se[lt],!!nt){if(nt.hasOwnProperty(Ee)){He=nt[Ee];break}if(z.test(Ee)||(He=t.nestedProperty(nt,Ee).get(),He=ne[Ee]||t.nestedProperty(nt,Ee).get(),He&&(ne[Ee]=He)),He!==void 0)break}}if(He!==void 0&&(Be==="*"&&(He*=Ue),Be==="/"&&(He/=Ue)),He===void 0&&X)return X.count<X.max&&(t.warn("Variable '"+Ee+"' in "+X.name+" could not be found!"),He=fe),X.count===X.max&&t.warn("Too many "+X.name+" warnings - additional warnings will be suppressed"),X.count++,fe;if(Se){var $e;if(Se[0]===":"&&($e=Q?Q.numberFormat:t.numberFormat,He=$e(Se.replace(te,""))(He)),Se[0]==="|"){$e=Q?Q.timeFormat:P;var qe=t.dateTime2ms(He);He=t.formatDate(qe,Se.replace(te,""),!1,$e)}}else{var ct=Ee+"Label";oe.hasOwnProperty(ct)&&(He=oe[ct])}return me&&(He="("+He+")",(_e||ke)&&(He=" "+He),(Me||ke)&&(He=He+" ")),He})}var ue=48,J=57;t.subplotSort=function(q,oe){for(var Q=Math.min(q.length,oe.length)+1,X=0,se=0,ne=0;ne<Q;ne++){var fe=q.charCodeAt(ne)||0,ye=oe.charCodeAt(ne)||0,Se=fe>=ue&&fe<=J,we=ye>=ue&&ye<=J;if(Se&&(X=10*X+fe-ue),we&&(se=10*se+ye-ue),!Se||!we){if(X!==se)return X-se;if(fe!==ye)return fe-ye}}return se-X};var Y=2e9;t.seedPseudoRandom=function(){Y=2e9},t.pseudoRandom=function(){var q=Y;return Y=(69069*Y+1)%4294967296,Math.abs(Y-q)<429496729?t.pseudoRandom():Y/4294967296},t.fillText=function(q,oe,Q){var X=Array.isArray(Q)?function(fe){Q.push(fe)}:function(fe){Q.text=fe},se=t.extractOption(q,oe,"htx","hovertext");if(t.isValidTextValue(se))return X(se);var ne=t.extractOption(q,oe,"tx","text");if(t.isValidTextValue(ne))return X(ne)},t.isValidTextValue=function(q){return q||q===0},t.formatPercent=function(q,oe){oe=oe||0;for(var Q=(Math.round(100*q*Math.pow(10,oe))*Math.pow(.1,oe)).toFixed(oe)+"%",X=0;X<oe;X++)Q.indexOf(".")!==-1&&(Q=Q.replace("0%","%"),Q=Q.replace(".%","%"));return Q},t.isHidden=function(q){var oe=window.getComputedStyle(q).display;return!oe||oe==="none"},t.strTranslate=function(q,oe){return q||oe?"translate("+q+","+oe+")":""},t.strRotate=function(q){return q?"rotate("+q+")":""},t.strScale=function(q){return q!==1?"scale("+q+")":""},t.getTextTransform=function(q){var oe=q.noCenter,Q=q.textX,X=q.textY,se=q.targetX,ne=q.targetY,fe=q.anchorX||0,ye=q.anchorY||0,Se=q.rotate,we=q.scale;return we?we>1&&(we=1):we=0,t.strTranslate(se-we*(Q+fe),ne-we*(X+ye))+t.strScale(we)+(Se?"rotate("+Se+(oe?"":" "+Q+" "+X)+")":"")},t.setTransormAndDisplay=function(q,oe){q.attr("transform",t.getTextTransform(oe)),q.style("display",oe.scale?null:"none")},t.ensureUniformFontSize=function(q,oe){var Q=t.extendFlat({},oe);return Q.size=Math.max(oe.size,q._fullLayout.uniformtext.minsize||0),Q},t.join2=function(q,oe,Q){var X=q.length;return X>1?q.slice(0,-1).join(oe)+Q+q[X-1]:q.join(oe)},t.bigFont=function(q){return Math.round(1.2*q)};var ae=t.getFirefoxVersion(),j=ae!==null&&ae<86;t.getPositionFromD3Event=function(){return j?[y.event.layerX,y.event.layerY]:[y.event.offsetX,y.event.offsetY]}},41965:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(G,V,e){var y=e(65487),P=/^\w*$/,o=0,L=1,M=2,v=3,p=4;G.exports=function(t,i,n,c){n=n||"name",c=c||"value";var u,l,g,f={};i&&i.length?(g=y(t,i),l=g.get()):l=t,i=i||"";var T={};if(l)for(u=0;u<l.length;u++)T[l[u][n]]=u;var h=P.test(c),s={set:function(d,A){var w=A===null?p:o;if(!l){if(!g||w===p)return;l=[],g.set(l)}var C=T[d];if(C===void 0){if(w===p)return;w=w|v,C=l.length,T[d]=C}else A!==(h?l[C][c]:y(l[C],c).get())&&(w=w|M);var b=l[C]=l[C]||{};return b[n]=d,h?b[c]=A:y(b,c).set(A),A!==null&&(w=w&~p),f[C]=f[C]|w,s},get:function(d){if(l){var A=T[d];if(A!==void 0)return h?l[A][c]:y(l[A],c).get()}},rename:function(d,A){var w=T[d];return w===void 0||(f[w]=f[w]|L,T[A]=w,delete T[d],l[w][n]=A),s},remove:function(d){var A=T[d];if(A===void 0)return s;var w=l[A];if(Object.keys(w).length>2)return f[A]=f[A]|M,s.set(d,null);if(h){for(u=A;u<l.length;u++)f[u]=f[u]|v;for(u=A;u<l.length;u++)T[l[u][n]]--;l.splice(A,1),delete T[d]}else y(w,c).set(null),f[A]=f[A]|M|p;return s},constructUpdate:function(){for(var d,A,w={},C=Object.keys(f),b=0;b<C.length;b++)A=C[b],d=i+"["+A+"]",l[A]?(f[A]&L&&(w[d+"."+n]=l[A][n]),f[A]&M&&(h?w[d+"."+c]=f[A]&p?null:l[A][c]:w[d+"."+c]=f[A]&p?null:y(l[A],c).get())):w[d]=null;return w}};return s}},15867:function(G,V,e){var y=e(73972);G.exports=function(o,L){for(var M=o._context.locale,v=0;v<2;v++){for(var p=o._context.locales,r=0;r<2;r++){var t=(p[M]||{}).dictionary;if(t){var i=t[L];if(i)return i}p=y.localeRegistry}var n=M.split("-")[0];if(n===M)break;M=n}return L}},47769:function(G,V,e){var y=e(72075).dfltConfig,P=e(75046),o=G.exports={};o.log=function(){var L;if(y.logging>1){var M=["LOG:"];for(L=0;L<arguments.length;L++)M.push(arguments[L]);console.trace.apply(console,M)}if(y.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"long")}},o.warn=function(){var L;if(y.logging>0){var M=["WARN:"];for(L=0;L<arguments.length;L++)M.push(arguments[L]);console.trace.apply(console,M)}if(y.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}},o.error=function(){var L;if(y.logging>0){var M=["ERROR:"];for(L=0;L<arguments.length;L++)M.push(arguments[L]);console.error.apply(console,M)}if(y.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);P(v.join("<br>"),"stick")}}},77310:function(G,V,e){var y=e(39898);G.exports=function(o,L,M){var v=o.selectAll("g."+M.replace(/\s/g,".")).data(L,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",M),v.order();var p=o.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=y.select(this)}),v}},35657:function(G,V,e){var y=e(79576);V.init2dArray=function(P,o){for(var L=new Array(P),M=0;M<P;M++)L[M]=new Array(o);return L},V.transposeRagged=function(P){var o=0,L=P.length,M,v;for(M=0;M<L;M++)o=Math.max(o,P[M].length);var p=new Array(o);for(M=0;M<o;M++)for(p[M]=new Array(L),v=0;v<L;v++)p[M][v]=P[v][M];return p},V.dot=function(P,o){if(!(P.length&&o.length)||P.length!==o.length)return null;var L=P.length,M,v;if(P[0].length)for(M=new Array(L),v=0;v<L;v++)M[v]=V.dot(P[v],o);else if(o[0].length){var p=V.transposeRagged(o);for(M=new Array(p.length),v=0;v<p.length;v++)M[v]=V.dot(P,p[v])}else for(M=0,v=0;v<L;v++)M+=P[v]*o[v];return M},V.translationMatrix=function(P,o){return[[1,0,P],[0,1,o],[0,0,1]]},V.rotationMatrix=function(P){var o=P*Math.PI/180;return[[Math.cos(o),-Math.sin(o),0],[Math.sin(o),Math.cos(o),0],[0,0,1]]},V.rotationXYMatrix=function(P,o,L){return V.dot(V.dot(V.translationMatrix(o,L),V.rotationMatrix(P)),V.translationMatrix(-o,-L))},V.apply3DTransform=function(P){return function(){var o=arguments,L=arguments.length===1?o[0]:[o[0],o[1],o[2]||0];return V.dot(P,[L[0],L[1],L[2],1]).slice(0,3)}},V.apply2DTransform=function(P){return function(){var o=arguments;o.length===3&&(o=o[0]);var L=arguments.length===1?o[0]:[o[0],o[1]];return V.dot(P,[L[0],L[1],1]).slice(0,2)}},V.apply2DTransform2=function(P){var o=V.apply2DTransform(P);return function(L){return o(L.slice(0,2)).concat(o(L.slice(2,4)))}},V.convertCssMatrix=function(P){if(P){var o=P.length;if(o===16)return P;if(o===6)return[P[0],P[1],0,0,P[2],P[3],0,0,0,0,1,0,P[4],P[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},V.inverseTransformMatrix=function(P){var o=[];return y.invert(o,P),[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[10],o[11]],[o[12],o[13],o[14],o[15]]]}},64872:function(G){function V(y,P){var o=y%P;return o<0?o+P:o}function e(y,P){return Math.abs(y)>P/2?y-Math.round(y/P)*P:y}G.exports={mod:V,modHalf:e}},65487:function(G,V,e){var y=e(92770),P=e(73627).isArrayOrTypedArray;G.exports=function(c,u){if(y(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var l=u.split("."),g,f,T,h;for(h=0;h<l.length;h++)if(String(l[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<l.length;){if(g=String(l[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),g){if(g[1])l[h]=g[1];else if(h===0)l.splice(0,1);else throw"bad property string";for(f=g[2].substr(1,g[2].length-2).split("]["),T=0;T<f.length;T++)h++,l.splice(h,0,Number(f[T]))}h++}return typeof c!="object"?i(c,u,l):{set:v(c,l,u),get:o(c,l),astr:u,parts:l,obj:c}};function o(n,c){return function(){var u=n,l,g,f,T,h;for(T=0;T<c.length-1;T++){if(l=c[T],l===-1){for(g=!0,f=[],h=0;h<u.length;h++)f[h]=o(u[h],c.slice(T+1))(),f[h]!==f[0]&&(g=!1);return g?f[0]:f}if(typeof l=="number"&&!P(u)||(u=u[l],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(f=u[c[T]],f!==null))return f}}var L=/(^|\.)args\[/;function M(n,c){return n===void 0||n===null&&!c.match(L)}function v(n,c,u){return function(l){var g=n,f="",T=M(l,u),h,s;for(s=0;s<c.length-1;s++){if(h=c[s],typeof h=="number"&&!P(g))throw"array index but container is not an array";if(h===-1){if(T=!r(g,c.slice(s+1),l,u),T)break;return}if(!t(g,h,c[s+1],T))break;if(g=g[h],typeof g!="object"||g===null)throw"container is not an object";f=p(f,h)}if(T){if(s===c.length-1&&(delete g[c[s]],Array.isArray(g)&&+c[s]===g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[c[s]]=l}}function p(n,c){var u=c;return y(c)?u="["+c+"]":n&&(u="."+c),n+u}function r(n,c,u,l){var g=P(u),f=!0,T=u,h=l.replace("-1",0),s=g?!1:M(u,h),d=c[0],A;for(A=0;A<n.length;A++)h=l.replace("-1",A),g&&(T=u[A%u.length],s=M(T,h)),s&&(f=!1),t(n,A,d,s)&&v(n[A],c,l.replace("-1",A))(T);return f}function t(n,c,u,l){if(n[c]===void 0){if(l)return!1;typeof u=="number"?n[c]=[]:n[c]={}}return!0}function i(n,c,u){return{set:function(){throw"bad container"},get:function(){},astr:c,parts:u,obj:n}}},64213:function(G){G.exports=function(){}},75046:function(G,V,e){var y=e(39898),P=e(92770),o=[];G.exports=function(L,M){if(o.indexOf(L)!==-1)return;o.push(L);var v=1e3;P(M)?v=M:M==="long"&&(v=3e3);var p=y.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(o);function t(i){i.duration(700).style("opacity",0).each("end",function(n){var c=o.indexOf(n);c!==-1&&o.splice(c,1),y.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var n=y.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var c=n.append("p"),u=i.split(/<br\s*\/?>/g),l=0;l<u.length;l++)l&&c.append("br"),c.append("span").text(u[l]);M==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},39918:function(G,V,e){var y=e(6964),P="data-savedcursor",o="!!";G.exports=function(M,v){var p=M.attr(P);if(v){if(!p){for(var r=(M.attr("class")||"").split(" "),t=0;t<r.length;t++){var i=r[t];i.indexOf("cursor-")===0&&M.attr(P,i.substr(7)).classed(i,!1)}M.attr(P)||M.attr(P,o)}y(M,v)}else p&&(M.attr(P,null),p===o?y(M):y(M,p))}},61082:function(G,V,e){var y=e(35657).dot,P=e(50606).BADNUM,o=G.exports={};o.tester=function(M){var v=M.slice(),p=v[0][0],r=p,t=v[0][1],i=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),i=Math.max(i,v[n][1]);var c=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(c=!0,u=function(h){return h[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(c=!0,u=function(h){return h[1]===v[0][1]}));function l(h,s){var d=h[0],A=h[1];return!(d===P||d<p||d>r||A===P||A<t||A>i||s&&u(h))}function g(h,s){var d=h[0],A=h[1];if(d===P||d<p||d>r||A===P||A<t||A>i)return!1;var w=v.length,C=v[0][0],b=v[0][1],S=0,m,a,E,x,k;for(m=1;m<w;m++)if(a=C,E=b,C=v[m][0],b=v[m][1],x=Math.min(a,C),!(d<x||d>Math.max(a,C)||A>Math.max(E,b)))if(A<Math.min(E,b))d!==x&&S++;else{if(C===a?k=A:k=E+(d-a)*(b-E)/(C-a),A===k)return!(m===1&&s);A<=k&&d!==x&&S++}return S%2===1}var f=!0,T=v[0];for(n=1;n<v.length;n++)if(T[0]!==v[n][0]||T[1]!==v[n][1]){f=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:i,pts:v,contains:c?l:g,isRect:c,degenerate:f}},o.isSegmentBent=function(M,v,p,r){var t=M[v],i=[M[p][0]-t[0],M[p][1]-t[1]],n=y(i,i),c=Math.sqrt(n),u=[-i[1]/c,i[0]/c],l,g,f;for(l=v+1;l<p;l++)if(g=[M[l][0]-t[0],M[l][1]-t[1]],f=y(g,i),f<0||f>n||Math.abs(y(g,u))>r)return!0;return!1},o.filter=function(M,v){var p=[M[0]],r=0,t=0;function i(c){M.push(c);var u=p.length,l=r;p.splice(t+1);for(var g=l+1;g<M.length;g++)(g===M.length-1||o.isSegmentBent(M,l,g+1,v))&&(p.push(M[g]),p.length<u-2&&(r=g,t=p.length-1),l=g)}if(M.length>1){var n=M.pop();i(n)}return{addPt:i,raw:M,filtered:p}}},79749:function(G,V,e){var y=e(58617),P=e(98580);G.exports=function(L,M,v){var p=L._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=P({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:M||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(i){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),r||y({container:p._glcontainer.node()}),r}},45142:function(G,V,e){var y=e(92770),P=e(35791);G.exports=function(M){var v;if(M&&M.hasOwnProperty("userAgent")?v=M.userAgent:v=o(),typeof v!="string")return!0;var p=P({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var i=r[t];if(i.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var c=r[n];if(c.substr(0,8)==="Version/"){var u=c.substr(8).split(".")[0];if(y(u)&&(u=+u),u>=13)return!0}}}return p};function o(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},75138:function(G){G.exports=function(e,y){if(y instanceof RegExp){for(var P=y.toString(),o=0;o<e.length;o++)if(e[o]instanceof RegExp&&e[o].toString()===P)return e;e.push(y)}else(y||y===0)&&e.indexOf(y)===-1&&e.push(y);return e}},10847:function(G,V,e){var y=e(71828),P=e(72075).dfltConfig;function o(M,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===M?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?y.extendDeep([],r):y.extendDeepAll({},r):p[t]=r;return p}var L={};L.add=function(M,v,p,r,t){var i,n;if(M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},n=M.undoQueue.index,M.autoplay){M.undoQueue.inSequence||(M.autoplay=!1);return}!M.undoQueue.sequence||M.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},M.undoQueue.queue.splice(n,M.undoQueue.queue.length-n,i),M.undoQueue.index+=1):i=M.undoQueue.queue[n-1],M.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(v),i.undo.args.unshift(p),i.redo.calls.push(r),i.redo.args.push(t)),M.undoQueue.queue.length>P.queueLength&&(M.undoQueue.queue.shift(),M.undoQueue.index--)},L.startSequence=function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!0,M.undoQueue.beginSequence=!0},L.stopSequence=function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!1,M.undoQueue.beginSequence=!1},L.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)L.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},L.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)L.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},L.plotDo=function(M,v,p){M.autoplay=!0,p=o(M,p),v.apply(null,p)},G.exports=L},30587:function(G,V){V.counter=function(e,y,P,o){var L=(y||"")+(P?"":"$"),M=o===!1?"":"^";return e==="xy"?new RegExp(M+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(M+e+"([2-9]|[1-9][0-9]+)?"+L)}},6962:function(G){var V=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(y,P){for(;P;){var o=y.match(V);if(o)y=o[1];else if(y.match(e))y="";else throw new Error("bad relativeAttr call:"+[y,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return y&&P.charAt(0)!=="["?y+"."+P:y+P}},51332:function(G,V,e){var y=e(73627).isArrayOrTypedArray,P=e(41965);G.exports=function o(L,M){for(var v in M){var p=M[v],r=L[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in L)continue;L[v]=p}else if(y(p)&&y(r)&&P(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),i=0;i<t;i++)r[i]!==p[i]&&P(p[i])&&P(r[i])&&o(r[i],p[i])}else P(p)&&P(r)&&(o(r,p),Object.keys(r).length||delete L[v])}}},65888:function(G,V,e){var y=e(92770),P=e(47769),o=e(23389),L=e(50606).BADNUM,M=1e-9;V.findBin=function(i,n,c){if(y(n.start))return c?Math.ceil((i-n.start)/n.size-M)-1:Math.floor((i-n.start)/n.size+M);var u=0,l=n.length,g=0,f=l>1?(n[l-1]-n[0])/(l-1):1,T,h;for(f>=0?h=c?v:p:h=c?t:r,i+=f*M*(c?-1:1)*(f>=0?1:-1);u<l&&g++<100;)T=Math.floor((u+l)/2),h(n[T],i)?u=T+1:l=T;return g>90&&P.log("Long binary search..."),u-1};function v(i,n){return i<n}function p(i,n){return i<=n}function r(i,n){return i>n}function t(i,n){return i>=n}V.sorterAsc=function(i,n){return i-n},V.sorterDes=function(i,n){return n-i},V.distinctVals=function(i){var n=i.slice();n.sort(V.sorterAsc);var c;for(c=n.length-1;c>-1&&n[c]===L;c--);for(var u=n[c]-n[0]||1,l=u/(c||1)/1e4,g=[],f,T=0;T<=c;T++){var h=n[T],s=h-f;f===void 0?(g.push(h),f=h):s>l&&(u=Math.min(u,s),g.push(h),f=h)}return{vals:g,minDiff:u}},V.roundUp=function(i,n,c){for(var u=0,l=n.length-1,g,f=0,T=c?0:1,h=c?1:0,s=c?Math.ceil:Math.floor;u<l&&f++<100;)g=s((u+l)/2),n[g]<=i?u=g+T:l=g-h;return n[u]},V.sort=function(i,n){for(var c=0,u=0,l=1;l<i.length;l++){var g=n(i[l],i[l-1]);if(g<0?c=1:g>0&&(u=1),c&&u)return i.sort(n)}return u?i:i.reverse()},V.findIndexOfMin=function(i,n){n=n||o;for(var c=1/0,u,l=0;l<i.length;l++){var g=n(i[l]);g<c&&(c=g,u=l)}return u}},6964:function(G){G.exports=function(e,y){(e.attr("class")||"").split(" ").forEach(function(P){P.indexOf("cursor-")===0&&e.classed(P,!1)}),y&&e.classed("cursor-"+y,!0)}},58617:function(G,V,e){var y=e(7901),P=function(){};G.exports=function(L){for(var M in L)typeof L[M]=="function"&&(L[M]=P);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=y.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=y.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),L.container.appendChild(v),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(G){G.exports=function(e){return Object.keys(e).sort()}},80038:function(G,V,e){var y=e(92770),P=e(73627).isArrayOrTypedArray;V.aggNums=function(o,L,M,v){var p,r;if((!v||v>M.length)&&(v=M.length),y(L)||(L=!1),P(M[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=V.aggNums(o,L,M[p]);M=r}for(p=0;p<v;p++)y(L)?y(M[p])&&(L=o(+L,+M[p])):L=M[p];return L},V.len=function(o){return V.aggNums(function(L){return L+1},0,o)},V.mean=function(o,L){return L||(L=V.len(o)),V.aggNums(function(M,v){return M+v},0,o)/L},V.midRange=function(o){if(!(o===void 0||o.length===0))return(V.aggNums(Math.max,null,o)+V.aggNums(Math.min,null,o))/2},V.variance=function(o,L,M){return L||(L=V.len(o)),y(M)||(M=V.mean(o,L)),V.aggNums(function(v,p){return v+Math.pow(p-M,2)},0,o)/L},V.stdev=function(o,L,M){return Math.sqrt(V.variance(o,L,M))},V.median=function(o){var L=o.slice().sort();return V.interp(L,.5)},V.interp=function(o,L){if(!y(L))throw"n should be a finite number";if(L=L*o.length-.5,L<0)return o[0];if(L>o.length-1)return o[o.length-1];var M=L%1;return M*o[Math.ceil(L)]+(1-M)*o[Math.floor(L)]}},78614:function(G,V,e){var y=e(25075);function P(o){return o?y(o):[0,0,0,1]}G.exports=P},3883:function(G,V,e){var y=e(32396),P=e(91424),o=e(71828),L=null;function M(){if(L!==null)return L;L=!1;var v=o.isIE()||o.isSafari()||o.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(y.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")L=p.some(function(c){return r.apply(null,c)});else{var t=P.tester.append("image").attr("style",y.STYLE),i=window.getComputedStyle(t.node()),n=i.imageRendering;L=p.some(function(c){var u=c[1];return n===u||n===u.toLowerCase()}),t.remove()}}return L}G.exports=M},63893:function(G,V,e){var y=e(39898),P=e(71828),o=P.strTranslate,L=e(77922),M=e(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;V.convertToTspans=function(O,_,B){var W=O.text(),$=!O.attr("data-notex")&&_&&_._context.typesetMath&&typeof MathJax<"u"&&W.match(v),te=y.select(O.node().parentNode);if(te.empty())return;var ie=O.attr("class")?O.attr("class").split(" ")[0]:"text";ie+="-math",te.selectAll("svg."+ie).remove(),te.selectAll("g."+ie+"-group").remove(),O.style("display",null).attr({"data-unformatted":W,"data-math":"N"});function ue(){te.empty()||(ie=O.attr("class")+"-math",te.select("svg."+ie).remove()),O.text("").style("white-space","pre");var J=I(O.node(),W);J&&O.style("pointer-events","all"),V.positionText(O),B&&B.call(O)}return $?(_&&_._promises||[]).push(new Promise(function(J){O.style("display","none");var Y=parseInt(O.node().style.fontSize,10),ae={fontSize:Y};n($[2],ae,function(j,q,oe){te.selectAll("svg."+ie).remove(),te.selectAll("g."+ie+"-group").remove();var Q=j&&j.select("svg");if(!Q||!Q.node()){ue(),J();return}var X=te.append("g").classed(ie+"-group",!0).attr({"pointer-events":"none","data-unformatted":W,"data-math":"Y"});X.node().appendChild(Q.node()),q&&q.node()&&Q.node().insertBefore(q.node().cloneNode(!0),Q.node().firstChild);var se=oe.width,ne=oe.height;Q.attr({class:ie,height:ne,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var fe=O.node().style.fill||"black",ye=Q.select("g");ye.attr({fill:fe,stroke:fe});var Se=ye.node().getBoundingClientRect(),we=Se.width,_e=Se.height;(we>se||_e>ne)&&(Q.style("overflow","hidden"),Se=Q.node().getBoundingClientRect(),we=Se.width,_e=Se.height);var ke=+O.attr("x"),Me=+O.attr("y"),me=Y||O.node().getBoundingClientRect().height,Ee=-me/4;if(ie[0]==="y")X.attr({transform:"rotate("+[-90,ke,Me]+")"+o(-we/2,Ee-_e/2)});else if(ie[0]==="l")Me=Ee-_e/2;else if(ie[0]==="a"&&ie.indexOf("atitle")!==0)ke=0,Me=Ee;else{var Be=O.attr("text-anchor");ke=ke-we*(Be==="middle"?.5:Be==="end"?1:0),Me=Me+Ee-_e/2}Q.attr({x:ke,y:Me}),B&&B.call(O,X),J(X)})})):ue(),O};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(O){return O.replace(p,"\\lt ").replace(r,"\\gt ")}var i=[["$","$"],["\\(","\\)"]];function n(O,_,B){var W=parseInt((MathJax.version||"").split(".")[0]);if(W!==2&&W!==3){P.warn("No MathJax version:",MathJax.version);return}var $,te,ie,ue,J=function(){return te=P.extendDeepAll({},MathJax.Hub.config),ie=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},Y=function(){te=P.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i},ae=function(){if($=MathJax.Hub.config.menuSettings.renderer,$!=="SVG")return MathJax.Hub.setRenderer("SVG")},j=function(){$=MathJax.config.startup.output,$!=="svg"&&(MathJax.config.startup.output="svg")},q=function(){var fe="math-output-"+P.randstr({},64);ue=y.select("body").append("div").attr({id:fe}).style({visibility:"hidden",position:"absolute","font-size":_.fontSize+"px"}).text(t(O));var ye=ue.node();return W===2?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},oe=function(){var fe=ue.select(W===2?".MathJax_SVG":".MathJax"),ye=!fe.empty()&&ue.select("svg").node();if(!ye)P.log("There was an error in the tex syntax.",O),B();else{var Se=ye.getBoundingClientRect(),we;W===2?we=y.select("body").select("#MathJax_SVG_glyphs"):we=fe.select("defs"),B(fe,we,Se)}ue.remove()},Q=function(){if($!=="SVG")return MathJax.Hub.setRenderer($)},X=function(){$!=="svg"&&(MathJax.config.startup.output=$)},se=function(){return ie!==void 0&&(MathJax.Hub.processSectionDelay=ie),MathJax.Hub.Config(te)},ne=function(){MathJax.config=te};W===2?MathJax.Hub.Queue(J,ae,q,oe,Q,se):W===3&&(Y(),j(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){q(),oe(),X(),ne()}))}var c={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},g="",f=["http:","https:","mailto:","",void 0,":"],T=V.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,s=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;V.BR_TAG_ALL=/<br(\s+.*)?>/gi;var A=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,b=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(O,_){if(!O)return null;var B=O.match(_),W=B&&(B[3]||B[4]);return W&&x(W)}var m=/(^|;)\s*color:/;V.plainText=function(O,_){_=_||{};for(var B=_.len!==void 0&&_.len!==-1?_.len:1/0,W=_.allowedTags!==void 0?_.allowedTags:["br"],$="...",te=$.length,ie=O.split(h),ue=[],J="",Y=0,ae=0;ae<ie.length;ae++){var j=ie[ae],q=j.match(s),oe=q&&q[2].toLowerCase();if(oe)W.indexOf(oe)!==-1&&(ue.push(j),J=oe);else{var Q=j.length;if(Y+Q<B)ue.push(j),Y+=Q;else if(Y<B){var X=B-Y;J&&(J!=="br"||X<=te||Q<=te)&&ue.pop(),B>te?ue.push(j.substr(0,X-te)+$):ue.push(j.substr(0,X));break}J=""}}return ue.join("")};var a={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function x(O){return O.replace(E,function(_,B){var W;return B.charAt(0)==="#"?W=k(B.charAt(1)==="x"?parseInt(B.substr(2),16):parseInt(B.substr(1),10)):W=a[B],W||_})}V.convertEntities=x;function k(O){if(!(O>1114111)){var _=String.fromCodePoint;if(_)return _(O);var B=String.fromCharCode;return O<=65535?B(O):B((O>>10)+55232,O%1024+56320)}}function I(O,_){_=_.replace(T," ");var B=!1,W=[],$,te=-1;function ie(){te++;var _e=document.createElementNS(L.svg,"tspan");y.select(_e).attr({class:"line",dy:te*M+"em"}),O.appendChild(_e),$=_e;var ke=W;if(W=[{node:_e}],ke.length>1)for(var Me=1;Me<ke.length;Me++)ue(ke[Me])}function ue(_e){var ke=_e.type,Me={},me;if(ke==="a"){me="a";var Ee=_e.target,Be=_e.href,Ue=_e.popup;Be&&(Me={"xlink:xlink:show":Ee==="_blank"||Ee.charAt(0)!=="_"?"new":"replace",target:Ee,"xlink:xlink:href":Be},Ue&&(Me.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ue+'");return false;'))}else me="tspan";_e.style&&(Me.style=_e.style);var De=document.createElementNS(L.svg,me);if(ke==="sup"||ke==="sub"){J($,g),$.appendChild(De);var He=document.createElementNS(L.svg,"tspan");J(He,g),y.select(He).attr("dy",l[ke]),Me.dy=u[ke],$.appendChild(De),$.appendChild(He)}else $.appendChild(De);y.select(De).attr(Me),$=_e.node=De,W.push(_e)}function J(_e,ke){_e.appendChild(document.createTextNode(ke))}function Y(_e){if(W.length===1){P.log("Ignoring unexpected end tag </"+_e+">.",_);return}var ke=W.pop();_e!==ke.type&&P.log("Start tag <"+ke.type+"> doesnt match end tag <"+_e+">. Pretending it did match.",_),$=W[W.length-1].node}var ae=d.test(_);ae?ie():($=O,W=[{node:O}]);for(var j=_.split(h),q=0;q<j.length;q++){var oe=j[q],Q=oe.match(s),X=Q&&Q[2].toLowerCase(),se=c[X];if(X==="br")ie();else if(se===void 0)J($,x(oe));else if(Q[1])Y(X);else{var ne=Q[4],fe={type:X},ye=S(ne,A);if(ye?(ye=ye.replace(m,"$1 fill:"),se&&(ye+=";"+se)):se&&(ye=se),ye&&(fe.style=ye),X==="a"){B=!0;var Se=S(ne,w);if(Se){var we=N(Se);we&&(fe.href=we,fe.target=S(ne,C)||"_blank",fe.popup=S(ne,b))}}ue(fe)}}return B}function N(O){var _=encodeURI(decodeURI(O)),B=document.createElement("a"),W=document.createElement("a");B.href=O,W.href=_;var $=B.protocol,te=W.protocol;return f.indexOf($)!==-1&&f.indexOf(te)!==-1?_:""}V.sanitizeHTML=function(_){_=_.replace(T," ");for(var B=document.createElement("p"),W=B,$=[],te=_.split(h),ie=0;ie<te.length;ie++){var ue=te[ie],J=ue.match(s),Y=J&&J[2].toLowerCase();if(Y in c)if(J[1])$.length&&(W=$.pop());else{var ae=J[4],j=S(ae,A),q=j?{style:j}:{};if(Y==="a"){var oe=S(ae,w);if(oe){var Q=N(oe);if(Q){q.href=Q;var X=S(ae,C);X&&(q.target=X)}}}var se=document.createElement(Y);W.appendChild(se),y.select(se).attr(q),W=se,$.push(se)}else W.appendChild(document.createTextNode(x(ue)))}var ne="innerHTML";return B[ne]},V.lineCount=function(_){return _.selectAll("tspan.line").size()||1},V.positionText=function(_,B,W){return _.each(function(){var $=y.select(this);function te(J,Y){return Y===void 0?(Y=$.attr(J),Y===null&&($.attr(J,0),Y=0)):$.attr(J,Y),Y}var ie=te("x",B),ue=te("y",W);this.nodeName==="text"&&$.selectAll("tspan.line").attr({x:ie,y:ue})})};function F(O,_,B){var W=B.horizontalAlign,$=B.verticalAlign||"top",te=O.node().getBoundingClientRect(),ie=_.node().getBoundingClientRect(),ue,J,Y;return $==="bottom"?J=function(){return te.bottom-ue.height}:$==="middle"?J=function(){return te.top+(te.height-ue.height)/2}:J=function(){return te.top},W==="right"?Y=function(){return te.right-ue.width}:W==="center"?Y=function(){return te.left+(te.width-ue.width)/2}:Y=function(){return te.left},function(){ue=this.node().getBoundingClientRect();var ae=Y()-ie.left,j=J()-ie.top,q=B.gd||{};if(B.gd){q._fullLayout._calcInverseTransform(q);var oe=P.apply3DTransform(q._fullLayout._invTransform)(ae,j);ae=oe[0],j=oe[1]}return this.style({top:j+"px",left:ae+"px","z-index":1e3}),this}}var z="1px ";V.makeTextShadow=function(O){var _=z,B=z,W=z;return _+B+W+O+", -"+_+"-"+B+W+O+", "+_+"-"+B+W+O+", -"+_+B+W+O},V.makeEditable=function(O,_){var B=_.gd,W=_.delegate,$=y.dispatch("edit","input","cancel"),te=W||O;if(O.style({"pointer-events":W?"none":"all"}),O.size()!==1)throw new Error("boo");function ie(){J(),O.style({opacity:0});var Y=te.attr("class"),ae;Y?ae="."+Y.split(" ")[0]+"-math-group":ae="[class*=-math-group]",ae&&y.select(O.node().parentNode).select(ae).style({opacity:0})}function ue(Y){var ae=Y.node(),j=document.createRange();j.selectNodeContents(ae);var q=window.getSelection();q.removeAllRanges(),q.addRange(j),ae.focus()}function J(){var Y=y.select(B),ae=Y.select(".svg-container"),j=ae.append("div"),q=O.node().style,oe=parseFloat(q.fontSize||12),Q=_.text;Q===void 0&&(Q=O.attr("data-unformatted")),j.classed("plugin-editable editable",!0).style({position:"absolute","font-family":q.fontFamily||"Arial","font-size":oe,color:_.fill||q.fill||"black",opacity:1,"background-color":_.background||"transparent",outline:"#ffffff33 1px solid",margin:[-oe/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Q).call(F(O,ae,_)).on("blur",function(){B._editing=!1,O.text(this.textContent).style({opacity:1});var X=y.select(this).attr("class"),se;X?se="."+X.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&y.select(O.node().parentNode).select(se).style({opacity:0});var ne=this.textContent;y.select(this).transition().duration(0).remove(),y.select(document).on("mouseup",null),$.edit.call(O,ne)}).on("focus",function(){var X=this;B._editing=!0,y.select(document).on("mouseup",function(){if(y.event.target===X)return!1;document.activeElement===j.node()&&j.node().blur()})}).on("keyup",function(){y.event.which===27?(B._editing=!1,O.style({opacity:1}),y.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),$.cancel.call(O,this.textContent)):($.input.call(O,this.textContent),y.select(this).call(F(O,ae,_)))}).on("keydown",function(){y.event.which===13&&this.blur()}).call(ue)}return _.immediate?ie():te.on("click",ie),y.rebind(O,$,"on")}},79990:function(G,V){var e={};V.throttle=function(o,L,M){var v=e[o],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[o]={ts:0,timer:null}}y(v);function t(){M(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+L){t();return}v.timer=setTimeout(function(){t(),v.timer=null},L)},V.done=function(P){var o=e[P];return!o||!o.timer?Promise.resolve():new Promise(function(L){var M=o.onDone;o.onDone=function(){M&&M(),L(),o.onDone=null}})},V.clear=function(P){if(P)y(e[P]),delete e[P];else for(var o in e)V.clear(o)};function y(P){P&&P.timer!==null&&(clearTimeout(P.timer),P.timer=null)}},58163:function(G,V,e){var y=e(92770);G.exports=function(o,L){if(o>0)return Math.log(o)/Math.LN10;var M=Math.log(Math.min(L[0],L[1]))/Math.LN10;return y(M)||(M=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),M}},90973:function(G,V,e){var y=G.exports={},P=e(78776).locationmodeToLayer,o=e(96892).zL;y.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},y.getTopojsonPath=function(L,M){return L+M+".json"},y.getTopojsonFeatures=function(L,M){var v=P[L.locationmode],p=M.objects[v];return o(M,p).features}},37815:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(G,V,e){var y=e(73972);G.exports=function(o){for(var L=y.layoutArrayContainers,M=y.layoutArrayRegexes,v=o.split("[")[0],p,r,t=0;t<M.length;t++)if(r=o.match(M[t]),r&&r.index===0){p=r[0];break}if(p||(p=L[L.indexOf(v)]),!p)return!1;var i=o.substr(p.length);return i?(r=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},30962:function(G,V,e){var y=e(1426).extendFlat,P=e(41965),o={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},L={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},M=o.flags.slice().concat(["fullReplot"]),v=L.flags.slice().concat("layoutReplot");G.exports={traces:o,layout:L,traceFlags:function(){return p(M)},layoutFlags:function(){return p(v)},update:function(i,n){var c=n.editType;if(c&&c!=="none")for(var u=c.split("+"),l=0;l<u.length;l++)i[u[l]]=!0},overrideAll:r};function p(i){for(var n={},c=0;c<i.length;c++)n[i[c]]=!1;return n}function r(i,n,c){var u=y({},i);for(var l in u){var g=u[l];P(g)&&(u[l]=t(g,n,c,l))}return c==="from-root"&&(u.editType=n),u}function t(i,n,c,u){if(i.valType){var l=y({},i);if(l.editType=n,Array.isArray(i.items)){l.items=new Array(i.items.length);for(var g=0;g<i.items.length;g++)l.items[g]=t(i.items[g],n)}return l}else return r(i,n,u.charAt(0)==="_"?"nested":"from-root")}},58377:function(G,V,e){var y=e(92770),P=e(27812),o=e(73972),L=e(71828),M=e(74875),v=e(41675),p=e(7901),r=v.cleanId,t=v.getFromTrace,i=o.traceIs;V.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&L.log("Clearing previous rejected promises from queue."),d._promises=[]},V.cleanLayout=function(d){var A,w;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(M.subplotsRegistry.cartesian||{}).attrRegex,b=(M.subplotsRegistry.polar||{}).attrRegex,S=(M.subplotsRegistry.ternary||{}).attrRegex,m=(M.subplotsRegistry.gl3d||{}).attrRegex,a=Object.keys(d);for(A=0;A<a.length;A++){var E=a[A];if(C&&C.test(E)){var x=d[E];x.anchor&&x.anchor!=="free"&&(x.anchor=r(x.anchor)),x.overlaying&&(x.overlaying=r(x.overlaying)),x.type||(x.isdate?x.type="date":x.islog?x.type="log":x.isdate===!1&&x.islog===!1&&(x.type="linear")),(x.autorange==="withzero"||x.autorange==="tozero")&&(x.autorange=!0,x.rangemode="tozero"),x.insiderange&&delete x.range,delete x.islog,delete x.isdate,delete x.categories,f(x,"domain")&&delete x.domain,x.autotick!==void 0&&(x.tickmode===void 0&&(x.tickmode=x.autotick?"auto":"linear"),delete x.autotick),c(x)}else if(b&&b.test(E)){var k=d[E];c(k.radialaxis)}else if(S&&S.test(E)){var I=d[E];c(I.aaxis),c(I.baxis),c(I.caxis)}else if(m&&m.test(E)){var N=d[E],F=N.cameraposition;if(Array.isArray(F)&&F[0].length===4){var z=F[0],O=F[1],_=F[2],B=P([],z),W=[];for(w=0;w<3;++w)W[w]=O[w]+_*B[2+4*w];N.camera={eye:{x:W[0],y:W[1],z:W[2]},center:{x:O[0],y:O[1],z:O[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}c(N.xaxis),c(N.yaxis),c(N.zaxis)}}var $=Array.isArray(d.annotations)?d.annotations.length:0;for(A=0;A<$;A++){var te=d.annotations[A];L.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),n(te,"xref"),n(te,"yref"))}var ie=Array.isArray(d.shapes)?d.shapes.length:0;for(A=0;A<ie;A++){var ue=d.shapes[A];L.isPlainObject(ue)&&(n(ue,"xref"),n(ue,"yref"))}var J=Array.isArray(d.images)?d.images.length:0;for(A=0;A<J;A++){var Y=d.images[A];L.isPlainObject(Y)&&(n(Y,"xref"),n(Y,"yref"))}var ae=d.legend;return ae&&(ae.x>3?(ae.x=1.02,ae.xanchor="left"):ae.x<-2&&(ae.x=-.02,ae.xanchor="right"),ae.y>3?(ae.y=1.02,ae.yanchor="bottom"):ae.y<-2&&(ae.y=-.02,ae.yanchor="top")),c(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&V.cleanLayout(d.template.layout),d};function n(d,A){var w=d[A],C=A.charAt(0);w&&w!=="paper"&&(d[A]=r(w,C,!0))}function c(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),A("titlefont","font"),A("titleposition","position"),A("titleside","side"),A("titleoffset","offset"));function A(w,C){var b=d[w],S=d.title&&d.title[C];b&&!S&&(d.title||(d.title={}),d.title[C]=d[w],delete d[w])}}V.cleanData=function(d){for(var A=0;A<d.length;A++){var w=d[A],C;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var b=p.defaults,S=w.error_y.color||(i(w,"bar")?p.defaultLine:b[A%b.length]);w.error_y.color=p.addOpacity(p.rgb(S),p.opacity(S)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(i(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",V.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&V.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=r(w.xaxis,"x")),w.yaxis&&(w.yaxis=r(w.yaxis,"y")),i(w,"gl3d")&&w.scene&&(w.scene=M.subplotsRegistry.gl3d.cleanId(w.scene)),!i(w,"pie-like")&&!i(w,"bar-like"))if(Array.isArray(w.textposition))for(C=0;C<w.textposition.length;C++)w.textposition[C]=g(w.textposition[C]);else w.textposition&&(w.textposition=g(w.textposition));var m=o.getModule(w);if(m&&m.colorbar){var a=m.colorbar.container,E=a?w[a]:w;E&&E.colorscale&&(E.colorscale==="YIGnBu"&&(E.colorscale="YlGnBu"),E.colorscale==="YIOrRd"&&(E.colorscale="YlOrRd"))}if(w.type==="surface"&&L.isPlainObject(w.contours)){var x=["x","y","z"];for(C=0;C<x.length;C++){var k=w.contours[x[C]];L.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var I=(w.increasing||{}).showlegend!==!1,N=(w.decreasing||{}).showlegend!==!1,F=u(w.increasing),z=u(w.decreasing);if(F!==!1&&z!==!1){var O=l(F,z,I,N);O&&(w.name=O)}else(F||z)&&!w.name&&(w.name=F||z)}if(Array.isArray(w.transforms)){var _=w.transforms;for(C=0;C<_.length;C++){var B=_[C];if(L.isPlainObject(B))switch(B.type){case"filter":B.filtersrc&&(B.target=B.filtersrc,delete B.filtersrc),B.calendar&&(B.valuecalendar||(B.valuecalendar=B.calendar),delete B.calendar);break;case"groupby":if(B.styles=B.styles||B.style,B.styles&&!Array.isArray(B.styles)){var W=B.styles,$=Object.keys(W);B.styles=[];for(var te=0;te<$.length;te++)B.styles.push({target:$[te],value:W[$[te]]})}break}}}f(w,"line")&&delete w.line,"marker"in w&&(f(w.marker,"line")&&delete w.marker.line,f(w,"marker")&&delete w.marker),p.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),c(w),w.colorbar&&c(w.colorbar),w.marker&&w.marker.colorbar&&c(w.marker.colorbar),w.line&&w.line.colorbar&&c(w.line.colorbar),w.aaxis&&c(w.aaxis),w.baxis&&c(w.baxis)}};function u(d){if(!L.isPlainObject(d))return!1;var A=d.name;return delete d.name,delete d.showlegend,(typeof A=="string"||typeof A=="number")&&String(A)}function l(d,A,w,C){if(w&&!C)return d;if(C&&!w||!d.trim())return A;if(!A.trim())return d;var b=Math.min(d.length,A.length),S;for(S=0;S<b&&d.charAt(S)===A.charAt(S);S++);var m=d.substr(0,S);return m.trim()}function g(d){var A="middle",w="center";return typeof d=="string"&&(d.indexOf("top")!==-1?A="top":d.indexOf("bottom")!==-1&&(A="bottom"),d.indexOf("left")!==-1?w="left":d.indexOf("right")!==-1&&(w="right")),A+" "+w}function f(d,A){return A in d&&typeof d[A]=="object"&&Object.keys(d[A]).length===0}V.swapXYData=function(d){var A;if(L.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var w=d.error_y,C="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);L.swapAttrs(d,["error_?.copy_ystyle"]),C&&L.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var b=d.hoverinfo.split("+");for(A=0;A<b.length;A++)b[A]==="x"?b[A]="y":b[A]==="y"&&(b[A]="x");d.hoverinfo=b.join("+")}},V.coerceTraceIndices=function(d,A){if(y(A))return[A];if(!Array.isArray(A)||!A.length)return d.data.map(function(b,S){return S});if(Array.isArray(A)){for(var w=[],C=0;C<A.length;C++)L.isIndex(A[C],d.data.length)?w.push(A[C]):L.warn("trace index (",A[C],") is not a number or is out of bounds");return w}return A},V.manageArrayContainers=function(d,A,w){var C=d.obj,b=d.parts,S=b.length,m=b[S-1],a=y(m);if(a&&A===null){var E=b.slice(0,S-1).join("."),x=L.nestedProperty(C,E).get();x.splice(m,1)}else a&&d.get()===void 0&&d.get()===void 0&&(w[d.astr]=null),d.set(A)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(d){var A=d.search(T);if(A>0)return d.substr(0,A)}V.hasParent=function(d,A){for(var w=h(A);w;){if(w in d)return!0;w=h(w)}return!1};var s=["x","y","z"];V.clearAxisTypes=function(d,A,w){for(var C=0;C<A.length;C++)for(var b=d._fullData[C],S=0;S<3;S++){var m=t(d,b,s[S]);if(m&&m.type!=="log"){var a=m._name,E=m._id.substr(1);if(E.substr(0,5)==="scene"){if(w[E]!==void 0)continue;a=E+"."+a}var x=a+".type";w[a]===void 0&&w[x]===void 0&&L.nestedProperty(d.layout,x).set(null)}}}},10641:function(G,V,e){var y=e(72391);V._doPlot=y._doPlot,V.newPlot=y.newPlot,V.restyle=y.restyle,V.relayout=y.relayout,V.redraw=y.redraw,V.update=y.update,V._guiRestyle=y._guiRestyle,V._guiRelayout=y._guiRelayout,V._guiUpdate=y._guiUpdate,V._storeDirectGUIEdit=y._storeDirectGUIEdit,V.react=y.react,V.extendTraces=y.extendTraces,V.prependTraces=y.prependTraces,V.addTraces=y.addTraces,V.deleteTraces=y.deleteTraces,V.moveTraces=y.moveTraces,V.purge=y.purge,V.addFrames=y.addFrames,V.deleteFrames=y.deleteFrames,V.animate=y.animate,V.setPlotConfig=y.setPlotConfig;var P=e(24401).getGraphDiv,o=e(34031).eraseActiveShape;V.deleteActiveShape=function(M){return o(P(M))},V.toImage=e(403),V.validate=e(84936),V.downloadImage=e(7239);var L=e(96318);V.makeTemplate=L.makeTemplate,V.validateTemplate=L.validateTemplate},6611:function(G,V,e){var y=e(41965),P=e(64213),o=e(47769),L=e(65888).sorterAsc,M=e(73972);V.containerArrayMatch=e(14458);var v=V.isAddVal=function(t){return t==="add"||y(t)},p=V.isRemoveVal=function(t){return t===null||t==="remove"};V.applyContainerArrayChanges=function(t,i,n,c,u){var l=i.astr,g=M.getComponentMethod(l,"supplyLayoutDefaults"),f=M.getComponentMethod(l,"draw"),T=M.getComponentMethod(l,"drawOne"),h=c.replot||c.recalc||g===P||f===P,s=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&o.warn("Full array edits are incompatible with other edits",l);var A=n[""][""];if(p(A))i.set(null);else if(Array.isArray(A))i.set(A);else return o.warn("Unrecognized full array edit value",l,A),!0;return h?!1:(g(s,d),f(t),!0)}var w=Object.keys(n).map(Number).sort(L),C=i.get(),b=C||[],S=u(d,l).get(),m=[],a=-1,E=b.length,x,k,I,N,F,z,O,_;for(x=0;x<w.length;x++){if(I=w[x],N=n[I],F=Object.keys(N),z=N[""],O=v(z),I<0||I>b.length-(O?0:1)){o.warn("index out of range",l,I);continue}if(z!==void 0)F.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",l,I),p(z)?m.push(I):O?(z==="add"&&(z={}),b.splice(I,0,z),S&&S.splice(I,0,{})):o.warn("Unrecognized full object edit value",l,I,z),a===-1&&(a=I);else for(k=0;k<F.length;k++)_=l+"["+I+"].",u(b[I],F[k],_).set(N[F[k]])}for(x=m.length-1;x>=0;x--)b.splice(m[x],1),S&&S.splice(m[x],1);if(b.length?C||i.set(b):i.set(null),h)return!1;if(g(s,d),T!==P){var B;if(a===-1)B=w;else{for(E=Math.max(b.length,E),B=[],x=0;x<w.length&&(I=w[x],!(I>=a));x++)B.push(I);for(x=a;x<E;x++)B.push(x)}for(x=0;x<B.length;x++)T(t,B[x])}else f(t);return!0}},72391:function(G,V,e){var y=e(39898),P=e(92770),o=e(57035),L=e(71828),M=L.nestedProperty,v=e(11086),p=e(10847),r=e(73972),t=e(86281),i=e(74875),n=e(89298),c=e(23608),u=e(13838),l=e(91424),g=e(7901),f=e(4305).initInteractions,T=e(77922),h=e(47322).clearOutline,s=e(72075).dfltConfig,d=e(6611),A=e(58377),w=e(61549),C=e(30962),b=e(85555).AX_NAME_PATTERN,S=0,m=5;function a(Te,Ne,Ye,et){var ft;if(Te=L.getGraphDiv(Te),v.init(Te),L.isPlainObject(Ne)){var pt=Ne;Ne=pt.data,Ye=pt.layout,et=pt.config,ft=pt.frames}var Yt=v.triggerHandler(Te,"plotly_beforeplot",[Ne,Ye,et]);if(Yt===!1)return Promise.reject();!Ne&&!Ye&&!L.isPlotDiv(Te)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Te);function Jt(){if(ft)return V.addFrames(Te,ft)}N(Te,et),Ye||(Ye={}),y.select(Te).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(Te._promises)||(Te._promises=[]);var Tt=(Te.data||[]).length===0&&Array.isArray(Ne);Array.isArray(Ne)&&(A.cleanData(Ne),Tt?Te.data=Ne:Te.data.push.apply(Te.data,Ne),Te.empty=!1),(!Te.layout||Tt)&&(Te.layout=A.cleanLayout(Ye)),i.supplyDefaults(Te);var _t=Te._fullLayout,$t=_t._has("cartesian");_t._replotting=!0,(Tt||_t._shouldCreateBgLayer)&&(Ae(Te),_t._shouldCreateBgLayer&&delete _t._shouldCreateBgLayer),l.initGradients(Te),l.initPatterns(Te),Tt&&n.saveShowSpikeInitial(Te);var wr=!Te.calcdata||Te.calcdata.length!==(Te._fullData||[]).length;wr&&i.doCalcdata(Te);for(var yt=0;yt<Te.calcdata.length;yt++)Te.calcdata[yt][0].trace=Te._fullData[yt];Te._context.responsive?Te._responsiveChartHandler||(Te._responsiveChartHandler=function(){L.isHidden(Te)||i.resize(Te)},window.addEventListener("resize",Te._responsiveChartHandler)):L.clearResponsive(Te);var jt=L.extendFlat({},_t._size),Qt=0;function gr(){for(var Bt=_t._basePlotModules,Nt=0;Nt<Bt.length;Nt++)Bt[Nt].drawFramework&&Bt[Nt].drawFramework(Te);!_t._glcanvas&&_t._has("gl")&&(_t._glcanvas=_t._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(hr){return hr.key}),_t._glcanvas.enter().append("canvas").attr("class",function(hr){return"gl-canvas gl-canvas-"+hr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Xt=Te._context.plotGlPixelRatio;if(_t._glcanvas){_t._glcanvas.attr("width",_t.width*Xt).attr("height",_t.height*Xt).style("width",_t.width+"px").style("height",_t.height+"px");var lr=_t._glcanvas.data()[0].regl;if(lr&&(Math.floor(_t.width*Xt)!==lr._gl.drawingBufferWidth||Math.floor(_t.height*Xt)!==lr._gl.drawingBufferHeight)){var fr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Qt)L.error(fr);else return L.log(fr+" Clearing graph and plotting again."),i.cleanPlot([],{},Te._fullData,_t),i.supplyDefaults(Te),_t=Te._fullLayout,i.doCalcdata(Te),Qt++,gr()}}return _t.modebar.orientation==="h"?_t._modebardiv.style("height",null).style("width","100%"):_t._modebardiv.style("width",null).style("height",_t.height+"px"),i.previousPromises(Te)}function sr(){if(i.clearAutoMarginIds(Te),w.drawMarginPushers(Te),n.allowAutoMargin(Te),Te._fullLayout.title.text&&Te._fullLayout.title.automargin&&i.allowAutoMargin(Te,"title.automargin"),_t._has("pie"))for(var Bt=Te._fullData,Nt=0;Nt<Bt.length;Nt++){var Xt=Bt[Nt];Xt.type==="pie"&&Xt.automargin&&i.allowAutoMargin(Te,"pie."+Xt.uid+".automargin")}return i.doAutoMargin(Te),i.previousPromises(Te)}function vt(){if(i.didMarginChange(jt,_t._size))return L.syncOrAsync([sr,w.layoutStyles],Te)}function at(){if(!wr){xt();return}return L.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),xt],Te)}function xt(){Te._transitioning||(w.doAutoRangeAndConstraints(Te),Tt&&n.saveRangeInitial(Te),r.getComponentMethod("rangeslider","calcAutorange")(Te))}function Mt(){return n.draw(Te,Tt?"":"redraw")}var Dt=[i.previousPromises,Jt,gr,sr,vt];$t&&Dt.push(at),Dt.push(w.layoutStyles),$t&&Dt.push(Mt,function(Nt){var Xt=Nt._fullLayout._insideTickLabelsUpdaterange;if(Xt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,Se(Nt,Xt).then(function(){n.saveRangeInitial(Nt,!0)})}),Dt.push(w.drawData,w.finalDraw,f,i.addLinks,i.rehover,i.redrag,i.reselect,i.doAutoMargin,i.previousPromises);var Lt=L.syncOrAsync(Dt,Te);return(!Lt||!Lt.then)&&(Lt=Promise.resolve()),Lt.then(function(){return E(Te),Te})}function E(Te){var Ne=Te._fullLayout;Ne._redrawFromAutoMarginCount?Ne._redrawFromAutoMarginCount--:Te.emit("plotly_afterplot")}function x(Te){return L.extendFlat(s,Te)}function k(Te,Ne){try{Te._fullLayout._paper.style("background",Ne)}catch(Ye){L.error(Ye)}}function I(Te,Ne){var Ye=g.combine(Ne,"white");k(Te,Ye)}function N(Te,Ne){if(!Te._context){Te._context=L.extendDeep({},s);var Ye=y.select("base");Te._context._baseUrl=Ye.size()&&Ye.attr("href")?window.location.href.split("#")[0]:""}var et=Te._context,ft,pt,Yt;if(Ne){for(pt=Object.keys(Ne),ft=0;ft<pt.length;ft++)Yt=pt[ft],!(Yt==="editable"||Yt==="edits")&&Yt in et&&(Yt==="setBackground"&&Ne[Yt]==="opaque"?et[Yt]=I:et[Yt]=Ne[Yt]);Ne.plot3dPixelRatio&&!et.plotGlPixelRatio&&(et.plotGlPixelRatio=et.plot3dPixelRatio);var Jt=Ne.editable;if(Jt!==void 0)for(et.editable=Jt,pt=Object.keys(et.edits),ft=0;ft<pt.length;ft++)et.edits[pt[ft]]=Jt;if(Ne.edits)for(pt=Object.keys(Ne.edits),ft=0;ft<pt.length;ft++)Yt=pt[ft],Yt in et.edits&&(et.edits[Yt]=Ne.edits[Yt]);et._exportedPlot=Ne._exportedPlot}et.staticPlot&&(et.editable=!1,et.edits={},et.autosizable=!1,et.scrollZoom=!1,et.doubleClick=!1,et.showTips=!1,et.showLink=!1,et.displayModeBar=!1),et.displayModeBar==="hover"&&!o&&(et.displayModeBar=!0),(et.setBackground==="transparent"||typeof et.setBackground!="function")&&(et.setBackground=k),et._hasZeroHeight=et._hasZeroHeight||Te.clientHeight===0,et._hasZeroWidth=et._hasZeroWidth||Te.clientWidth===0;var Tt=et.scrollZoom,_t=et._scrollZoom={};if(Tt===!0)_t.cartesian=1,_t.gl3d=1,_t.geo=1,_t.mapbox=1;else if(typeof Tt=="string"){var $t=Tt.split("+");for(ft=0;ft<$t.length;ft++)_t[$t[ft]]=1}else Tt!==!1&&(_t.gl3d=1,_t.geo=1,_t.mapbox=1)}function F(Te){if(Te=L.getGraphDiv(Te),!L.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);return A.cleanData(Te.data),A.cleanLayout(Te.layout),Te.calcdata=void 0,V._doPlot(Te).then(function(){return Te.emit("plotly_redraw"),Te})}function z(Te,Ne,Ye,et){return Te=L.getGraphDiv(Te),i.cleanPlot([],{},Te._fullData||[],Te._fullLayout||{}),i.purge(Te),V._doPlot(Te,Ne,Ye,et)}function O(Te,Ne){var Ye=Ne+1,et=[],ft,pt;for(ft=0;ft<Te.length;ft++)pt=Te[ft],pt<0?et.push(Ye+pt):et.push(pt);return et}function _(Te,Ne,Ye){var et,ft;for(et=0;et<Ne.length;et++){if(ft=Ne[et],ft!==parseInt(ft,10))throw new Error("all values in "+Ye+" must be integers");if(ft>=Te.data.length||ft<-Te.data.length)throw new Error(Ye+" must be valid indices for gd.data.");if(Ne.indexOf(ft,et+1)>-1||ft>=0&&Ne.indexOf(-Te.data.length+ft)>-1||ft<0&&Ne.indexOf(Te.data.length+ft)>-1)throw new Error("each index in "+Ye+" must be unique.")}}function B(Te,Ne,Ye){if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(typeof Ne>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Ne)||(Ne=[Ne]),_(Te,Ne,"currentIndices"),typeof Ye<"u"&&!Array.isArray(Ye)&&(Ye=[Ye]),typeof Ye<"u"&&_(Te,Ye,"newIndices"),typeof Ye<"u"&&Ne.length!==Ye.length)throw new Error("current and new indices must be of equal length.")}function W(Te,Ne,Ye){var et,ft;if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(typeof Ne>"u")throw new Error("traces must be defined.");for(Array.isArray(Ne)||(Ne=[Ne]),et=0;et<Ne.length;et++)if(ft=Ne[et],typeof ft!="object"||Array.isArray(ft)||ft===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ye<"u"&&!Array.isArray(Ye)&&(Ye=[Ye]),typeof Ye<"u"&&Ye.length!==Ne.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function $(Te,Ne,Ye,et){var ft=L.isPlainObject(et);if(!Array.isArray(Te.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(Ne))throw new Error("update must be a key:value object");if(typeof Ye>"u")throw new Error("indices must be an integer or array of integers");_(Te,Ye,"indices");for(var pt in Ne){if(!Array.isArray(Ne[pt])||Ne[pt].length!==Ye.length)throw new Error("attribute "+pt+" must be an array of length equal to indices array length");if(ft&&(!(pt in et)||!Array.isArray(et[pt])||et[pt].length!==Ne[pt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function te(Te,Ne,Ye,et){var ft=L.isPlainObject(et),pt=[],Yt,Jt,Tt,_t,$t;Array.isArray(Ye)||(Ye=[Ye]),Ye=O(Ye,Te.data.length-1);for(var wr in Ne)for(var yt=0;yt<Ye.length;yt++){if(Yt=Te.data[Ye[yt]],Tt=M(Yt,wr),Jt=Tt.get(),_t=Ne[wr][yt],!L.isArrayOrTypedArray(_t))throw new Error("attribute: "+wr+" index: "+yt+" must be an array");if(!L.isArrayOrTypedArray(Jt))throw new Error("cannot extend missing or non-array attribute: "+wr);if(Jt.constructor!==_t.constructor)throw new Error("cannot extend array with an array of a different type: "+wr);$t=ft?et[wr][yt]:et,P($t)||($t=-1),pt.push({prop:Tt,target:Jt,insert:_t,maxp:Math.floor($t)})}return pt}function ie(Te,Ne,Ye,et,ft){$(Te,Ne,Ye,et);for(var pt=te(Te,Ne,Ye,et),Yt={},Jt={},Tt=0;Tt<pt.length;Tt++){var _t=pt[Tt].prop,$t=pt[Tt].maxp,wr=ft(pt[Tt].target,pt[Tt].insert,$t);_t.set(wr[0]),Array.isArray(Yt[_t.astr])||(Yt[_t.astr]=[]),Yt[_t.astr].push(wr[1]),Array.isArray(Jt[_t.astr])||(Jt[_t.astr]=[]),Jt[_t.astr].push(pt[Tt].target.length)}return{update:Yt,maxPoints:Jt}}function ue(Te,Ne){var Ye=new Te.constructor(Te.length+Ne.length);return Ye.set(Te),Ye.set(Ne,Te.length),Ye}function J(Te,Ne,Ye,et){Te=L.getGraphDiv(Te);function ft(Tt,_t,$t){var wr,yt;if(L.isTypedArray(Tt))if($t<0){var jt=new Tt.constructor(0),Qt=ue(Tt,_t);$t<0?(wr=Qt,yt=jt):(wr=jt,yt=Qt)}else if(wr=new Tt.constructor($t),yt=new Tt.constructor(Tt.length+_t.length-$t),$t===_t.length)wr.set(_t),yt.set(Tt);else if($t<_t.length){var gr=_t.length-$t;wr.set(_t.subarray(gr)),yt.set(Tt),yt.set(_t.subarray(0,gr),Tt.length)}else{var sr=$t-_t.length,vt=Tt.length-sr;wr.set(Tt.subarray(vt)),wr.set(_t,sr),yt.set(Tt.subarray(0,vt))}else wr=Tt.concat(_t),yt=$t>=0&&$t<wr.length?wr.splice(0,wr.length-$t):[];return[wr,yt]}var pt=ie(Te,Ne,Ye,et,ft),Yt=V.redraw(Te),Jt=[Te,pt.update,Ye,pt.maxPoints];return p.add(Te,V.prependTraces,Jt,J,arguments),Yt}function Y(Te,Ne,Ye,et){Te=L.getGraphDiv(Te);function ft(Tt,_t,$t){var wr,yt;if(L.isTypedArray(Tt))if($t<=0){var jt=new Tt.constructor(0),Qt=ue(_t,Tt);$t<0?(wr=Qt,yt=jt):(wr=jt,yt=Qt)}else if(wr=new Tt.constructor($t),yt=new Tt.constructor(Tt.length+_t.length-$t),$t===_t.length)wr.set(_t),yt.set(Tt);else if($t<_t.length){var gr=_t.length-$t;wr.set(_t.subarray(0,gr)),yt.set(_t.subarray(gr)),yt.set(Tt,gr)}else{var sr=$t-_t.length;wr.set(_t),wr.set(Tt.subarray(0,sr),_t.length),yt.set(Tt.subarray(sr))}else wr=_t.concat(Tt),yt=$t>=0&&$t<wr.length?wr.splice($t,wr.length):[];return[wr,yt]}var pt=ie(Te,Ne,Ye,et,ft),Yt=V.redraw(Te),Jt=[Te,pt.update,Ye,pt.maxPoints];return p.add(Te,V.extendTraces,Jt,Y,arguments),Yt}function ae(Te,Ne,Ye){Te=L.getGraphDiv(Te);var et=[],ft=V.deleteTraces,pt=ae,Yt=[Te,et],Jt=[Te,Ne],Tt,_t;for(W(Te,Ne,Ye),Array.isArray(Ne)||(Ne=[Ne]),Ne=Ne.map(function($t){return L.extendFlat({},$t)}),A.cleanData(Ne),Tt=0;Tt<Ne.length;Tt++)Te.data.push(Ne[Tt]);for(Tt=0;Tt<Ne.length;Tt++)et.push(-Ne.length+Tt);if(typeof Ye>"u")return _t=V.redraw(Te),p.add(Te,ft,Yt,pt,Jt),_t;Array.isArray(Ye)||(Ye=[Ye]);try{B(Te,et,Ye)}catch($t){throw Te.data.splice(Te.data.length-Ne.length,Ne.length),$t}return p.startSequence(Te),p.add(Te,ft,Yt,pt,Jt),_t=V.moveTraces(Te,et,Ye),p.stopSequence(Te),_t}function j(Te,Ne){Te=L.getGraphDiv(Te);var Ye=[],et=V.addTraces,ft=j,pt=[Te,Ye,Ne],Yt=[Te,Ne],Jt,Tt;if(typeof Ne>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ne)||(Ne=[Ne]),_(Te,Ne,"indices"),Ne=O(Ne,Te.data.length-1),Ne.sort(L.sorterDes),Jt=0;Jt<Ne.length;Jt+=1)Tt=Te.data.splice(Ne[Jt],1)[0],Ye.push(Tt);var _t=V.redraw(Te);return p.add(Te,et,pt,ft,Yt),_t}function q(Te,Ne,Ye){Te=L.getGraphDiv(Te);var et=[],ft=[],pt=q,Yt=q,Jt=[Te,Ye,Ne],Tt=[Te,Ne,Ye],_t;if(B(Te,Ne,Ye),Ne=Array.isArray(Ne)?Ne:[Ne],typeof Ye>"u")for(Ye=[],_t=0;_t<Ne.length;_t++)Ye.push(-Ne.length+_t);for(Ye=Array.isArray(Ye)?Ye:[Ye],Ne=O(Ne,Te.data.length-1),Ye=O(Ye,Te.data.length-1),_t=0;_t<Te.data.length;_t++)Ne.indexOf(_t)===-1&&et.push(Te.data[_t]);for(_t=0;_t<Ne.length;_t++)ft.push({newIndex:Ye[_t],trace:Te.data[Ne[_t]]});for(ft.sort(function(wr,yt){return wr.newIndex-yt.newIndex}),_t=0;_t<ft.length;_t+=1)et.splice(ft[_t].newIndex,0,ft[_t].trace);Te.data=et;var $t=V.redraw(Te);return p.add(Te,pt,Jt,Yt,Tt),$t}function oe(Te,Ne,Ye,et){Te=L.getGraphDiv(Te),A.clearPromiseQueue(Te);var ft={};if(typeof Ne=="string")ft[Ne]=Ye;else if(L.isPlainObject(Ne))ft=L.extendFlat({},Ne),et===void 0&&(et=Ye);else return L.warn("Restyle fail.",Ne,Ye,et),Promise.reject();Object.keys(ft).length&&(Te.changed=!0);var pt=A.coerceTraceIndices(Te,et),Yt=fe(Te,ft,pt),Jt=Yt.flags;Jt.calc&&(Te.calcdata=void 0),Jt.clearAxisTypes&&A.clearAxisTypes(Te,pt,{});var Tt=[];Jt.fullReplot?Tt.push(V._doPlot):(Tt.push(i.previousPromises),i.supplyDefaults(Te),Jt.markerSize&&(i.doCalcdata(Te),_e(Tt)),Jt.style&&Tt.push(w.doTraceStyle),Jt.colorbars&&Tt.push(w.doColorBars),Tt.push(E)),Tt.push(i.rehover,i.redrag,i.reselect),p.add(Te,oe,[Te,Yt.undoit,Yt.traces],oe,[Te,Yt.redoit,Yt.traces]);var _t=L.syncOrAsync(Tt,Te);return(!_t||!_t.then)&&(_t=Promise.resolve()),_t.then(function(){return Te.emit("plotly_restyle",Yt.eventData),Te})}function Q(Te){return Te===void 0?null:Te}function X(Te,Ne){return Ne?function(Ye,et,ft){var pt=M(Ye,et),Yt=pt.set;return pt.set=function(Jt){var Tt=(ft||"")+et;se(Tt,pt.get(),Jt,Te),Yt(Jt)},pt}:M}function se(Te,Ne,Ye,et){if(Array.isArray(Ne)||Array.isArray(Ye))for(var ft=Array.isArray(Ne)?Ne:[],pt=Array.isArray(Ye)?Ye:[],Yt=Math.max(ft.length,pt.length),Jt=0;Jt<Yt;Jt++)se(Te+"["+Jt+"]",ft[Jt],pt[Jt],et);else if(L.isPlainObject(Ne)||L.isPlainObject(Ye)){var Tt=L.isPlainObject(Ne)?Ne:{},_t=L.isPlainObject(Ye)?Ye:{},$t=L.extendFlat({},Tt,_t);for(var wr in $t)se(Te+"."+wr,Tt[wr],_t[wr],et)}else et[Te]===void 0&&(et[Te]=Q(Ne))}function ne(Te,Ne,Ye){for(var et in Ye){var ft=M(Te,et);se(et,ft.get(),Ye[et],Ne)}}function fe(Te,Ne,Ye){var et=Te._fullLayout,ft=Te._fullData,pt=Te.data,Yt=et._guiEditing,Jt=X(et._preGUI,Yt),Tt=L.extendDeepAll({},Ne),_t;ye(Ne);var $t=C.traceFlags(),wr={},yt={},jt;function Qt(){return Ye.map(function(){})}function gr(xn){var Mr=n.id2name(xn);jt.indexOf(Mr)===-1&&jt.push(Mr)}function sr(xn){return"LAYOUT"+xn+".autorange"}function vt(xn){return"LAYOUT"+xn+".range"}function at(xn){for(var Mr=xn;Mr<ft.length;Mr++)if(ft[Mr]._input===pt[xn])return ft[Mr]}function xt(xn,Mr,Er){if(Array.isArray(xn)){xn.forEach(function(dn){xt(dn,Mr,Er)});return}if(!(xn in Ne||A.hasParent(Ne,xn))){var Wr;if(xn.substr(0,6)==="LAYOUT")Wr=Jt(Te.layout,xn.replace("LAYOUT",""));else{var Hr=Ye[Er],an=et._tracePreGUI[at(Hr)._fullInput.uid];Wr=X(an,Yt)(pt[Hr],xn)}xn in yt||(yt[xn]=Qt()),yt[xn][Er]===void 0&&(yt[xn][Er]=Q(Wr.get())),Mr!==void 0&&Wr.set(Mr)}}function Mt(xn){return function(Mr){return ft[Mr][xn]}}function Dt(xn){return function(Mr,Er){return Mr===!1?ft[Ye[Er]][xn]:null}}for(var Lt in Ne){if(A.hasParent(Ne,Lt))throw new Error("cannot set "+Lt+" and a parent attribute simultaneously");var Bt=Ne[Lt],Nt,Xt,lr,fr,hr,We;if((Lt==="autobinx"||Lt==="autobiny")&&(Lt=Lt.charAt(Lt.length-1)+"bins",Array.isArray(Bt)?Bt=Bt.map(Dt(Lt)):Bt===!1?Bt=Ye.map(Mt(Lt)):Bt=null),wr[Lt]=Bt,Lt.substr(0,6)==="LAYOUT"){lr=Jt(Te.layout,Lt.replace("LAYOUT","")),yt[Lt]=[Q(lr.get())],lr.set(Array.isArray(Bt)?Bt[0]:Bt),$t.calc=!0;continue}for(yt[Lt]=Qt(),_t=0;_t<Ye.length;_t++){Nt=pt[Ye[_t]],Xt=at(Ye[_t]);var Ge=et._tracePreGUI[Xt._fullInput.uid];if(lr=X(Ge,Yt)(Nt,Lt),fr=lr.get(),hr=Array.isArray(Bt)?Bt[_t%Bt.length]:Bt,hr!==void 0){var kt=lr.parts[lr.parts.length-1],It=Lt.substr(0,Lt.length-kt.length-1),Zt=It?It+".":"",rr=It?M(Xt,It).get():Xt;if(We=t.getTraceValObject(Xt,lr.parts),We&&We.impliedEdits&&hr!==null)for(var ur in We.impliedEdits)xt(L.relativeAttr(Lt,ur),We.impliedEdits[ur],_t);else if((kt==="thicknessmode"||kt==="lenmode")&&fr!==hr&&(hr==="fraction"||hr==="pixels")&&rr){var er=et._size,zt=rr.orient,vr=zt==="top"||zt==="bottom";if(kt==="thicknessmode"){var yr=vr?er.h:er.w;xt(Zt+"thickness",rr.thickness*(hr==="fraction"?1/yr:yr),_t)}else{var pr=vr?er.w:er.h;xt(Zt+"len",rr.len*(hr==="fraction"?1/pr:pr),_t)}}else if(Lt==="type"&&(hr==="pie"!=(fr==="pie")||hr==="funnelarea"!=(fr==="funnelarea"))){var cr="x",Ur="y";(hr==="bar"||fr==="bar")&&Nt.orientation==="h"&&(cr="y",Ur="x"),L.swapAttrs(Nt,["?","?src"],"labels",cr),L.swapAttrs(Nt,["d?","?0"],"label",cr),L.swapAttrs(Nt,["?","?src"],"values",Ur),fr==="pie"||fr==="funnelarea"?(M(Nt,"marker.color").set(M(Nt,"marker.colors").get()),et._pielayer.selectAll("g.trace").remove()):r.traceIs(Nt,"cartesian")&&M(Nt,"marker.colors").set(M(Nt,"marker.color").get())}yt[Lt][_t]=Q(fr);var kr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(kr.indexOf(Lt)!==-1){if(Lt==="orientation"){lr.set(hr);var Rr=Nt.x&&!Nt.y?"h":"v";if((lr.get()||Rr)===Xt.orientation)continue}else Lt==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Xt.orientation]);A.swapXYData(Nt),$t.calc=$t.clearAxisTypes=!0}else i.dataArrayContainers.indexOf(lr.parts[0])!==-1?(A.manageArrayContainers(lr,hr,yt),$t.calc=!0):(We?We.arrayOk&&!r.traceIs(Xt,"regl")&&(L.isArrayOrTypedArray(hr)||L.isArrayOrTypedArray(fr))?$t.calc=!0:C.update($t,We):$t.calc=!0,lr.set(hr))}}if(["swapxyaxes","orientationaxes"].indexOf(Lt)!==-1&&n.swap(Te,Ye),Lt==="orientationaxes"){var vn=M(Te.layout,"hovermode"),tn=vn.get();tn==="x"?vn.set("y"):tn==="y"?vn.set("x"):tn==="x unified"?vn.set("y unified"):tn==="y unified"&&vn.set("x unified")}if(["orientation","type"].indexOf(Lt)!==-1){for(jt=[],_t=0;_t<Ye.length;_t++){var Bn=pt[Ye[_t]];r.traceIs(Bn,"cartesian")&&(gr(Bn.xaxis||"x"),gr(Bn.yaxis||"y"))}xt(jt.map(sr),!0,0),xt(jt.map(vt),[0,1],0)}}return($t.calc||$t.plot)&&($t.fullReplot=!0),{flags:$t,undoit:yt,redoit:wr,traces:Ye,eventData:L.extendDeepNoArrays([],[Tt,Ye])}}function ye(Te){var Ne=L.counterRegex("axis",".title",!1,!1),Ye=/colorbar\.title$/,et=Object.keys(Te),ft,pt,Yt;for(ft=0;ft<et.length;ft++)pt=et[ft],Yt=Te[pt],(pt==="title"||Ne.test(pt)||Ye.test(pt))&&(typeof Yt=="string"||typeof Yt=="number")?Jt(pt,pt.replace("title","title.text")):pt.indexOf("titlefont")>-1&&pt.indexOf("grouptitlefont")===-1?Jt(pt,pt.replace("titlefont","title.font")):pt.indexOf("titleposition")>-1?Jt(pt,pt.replace("titleposition","title.position")):pt.indexOf("titleside")>-1?Jt(pt,pt.replace("titleside","title.side")):pt.indexOf("titleoffset")>-1&&Jt(pt,pt.replace("titleoffset","title.offset"));function Jt(Tt,_t){Te[_t]=Te[Tt],delete Te[Tt]}}function Se(Te,Ne,Ye){Te=L.getGraphDiv(Te),A.clearPromiseQueue(Te);var et={};if(typeof Ne=="string")et[Ne]=Ye;else if(L.isPlainObject(Ne))et=L.extendFlat({},Ne);else return L.warn("Relayout fail.",Ne,Ye),Promise.reject();Object.keys(et).length&&(Te.changed=!0);var ft=Ee(Te,et),pt=ft.flags;pt.calc&&(Te.calcdata=void 0);var Yt=[i.previousPromises];pt.layoutReplot?Yt.push(w.layoutReplot):Object.keys(et).length&&(we(Te,pt,ft)||i.supplyDefaults(Te),pt.legend&&Yt.push(w.doLegend),pt.layoutstyle&&Yt.push(w.layoutStyles),pt.axrange&&_e(Yt,ft.rangesAltered),pt.ticks&&Yt.push(w.doTicksRelayout),pt.modebar&&Yt.push(w.doModeBar),pt.camera&&Yt.push(w.doCamera),pt.colorbars&&Yt.push(w.doColorBars),Yt.push(E)),Yt.push(i.rehover,i.redrag,i.reselect),p.add(Te,Se,[Te,ft.undoit],Se,[Te,ft.redoit]);var Jt=L.syncOrAsync(Yt,Te);return(!Jt||!Jt.then)&&(Jt=Promise.resolve(Te)),Jt.then(function(){return Te.emit("plotly_relayout",ft.eventData),Te})}function we(Te,Ne,Ye){var et=Te._fullLayout;if(!Ne.axrange)return!1;for(var ft in Ne)if(ft!=="axrange"&&Ne[ft])return!1;var pt,Yt,Jt=function(jt,Qt){return L.coerce(pt,Yt,u,jt,Qt)},Tt={};for(var _t in Ye.rangesAltered){var $t=n.id2name(_t);if(pt=Te.layout[$t],Yt=et[$t],c(pt,Yt,Jt,Tt),Yt._matchGroup){for(var wr in Yt._matchGroup)if(wr!==_t){var yt=et[n.id2name(wr)];yt.autorange=Yt.autorange,yt.range=Yt.range.slice(),yt._input.range=Yt.range.slice()}}}return!0}function _e(Te,Ne){var Ye=Ne?function(et){var ft=[],pt=!0;for(var Yt in Ne){var Jt=n.getFromId(et,Yt);if(ft.push(Yt),(Jt.ticklabelposition||"").indexOf("inside")!==-1&&Jt._anchorAxis&&ft.push(Jt._anchorAxis._id),Jt._matchGroup)for(var Tt in Jt._matchGroup)Ne[Tt]||ft.push(Tt)}return n.draw(et,ft,{skipTitle:pt})}:function(et){return n.draw(et,"redraw")};Te.push(h,w.doAutoRangeAndConstraints,Ye,w.drawData,w.finalDraw)}var ke=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Me=/^[xyz]axis[0-9]*\.autorange$/,me=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ee(Te,Ne){var Ye=Te.layout,et=Te._fullLayout,ft=et._guiEditing,pt=X(et._preGUI,ft),Yt=Object.keys(Ne),Jt=n.list(Te),Tt=L.extendDeepAll({},Ne),_t={},$t,wr,yt;for(ye(Ne),Yt=Object.keys(Ne),wr=0;wr<Yt.length;wr++)if(Yt[wr].indexOf("allaxes")===0){for(yt=0;yt<Jt.length;yt++){var jt=Jt[yt]._id.substr(1),Qt=jt.indexOf("scene")!==-1?jt+".":"",gr=Yt[wr].replace("allaxes",Qt+Jt[yt]._name);Ne[gr]||(Ne[gr]=Ne[Yt[wr]])}delete Ne[Yt[wr]]}var sr=C.layoutFlags(),vt={},at={};function xt(an,dn){if(Array.isArray(an)){an.forEach(function(Cn){xt(Cn,dn)});return}if(!(an in Ne||A.hasParent(Ne,an))){var gn=pt(Ye,an);an in at||(at[an]=Q(gn.get())),dn!==void 0&&gn.set(dn)}}var Mt={},Dt;function Lt(an){var dn=n.name2id(an.split(".")[0]);return Mt[dn]=1,dn}for(var Bt in Ne){if(A.hasParent(Ne,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");for(var Nt=pt(Ye,Bt),Xt=Ne[Bt],lr=Nt.parts.length,fr=lr-1;fr>0&&typeof Nt.parts[fr]!="string";)fr--;var hr=Nt.parts[fr],We=Nt.parts[fr-1]+"."+hr,Ge=Nt.parts.slice(0,fr).join("."),kt=M(Te.layout,Ge).get(),It=M(et,Ge).get(),Zt=Nt.get();if(Xt!==void 0){vt[Bt]=Xt,at[Bt]=hr==="reverse"?Xt:Q(Zt);var rr=t.getLayoutValObject(et,Nt.parts);if(rr&&rr.impliedEdits&&Xt!==null)for(var ur in rr.impliedEdits)xt(L.relativeAttr(Bt,ur),rr.impliedEdits[ur]);if(["width","height"].indexOf(Bt)!==-1)if(Xt){xt("autosize",null);var er=Bt==="height"?"width":"height";xt(er,et[er])}else et[Bt]=Te._initialAutoSize[Bt];else if(Bt==="autosize")xt("width",Xt?null:et.width),xt("height",Xt?null:et.height);else if(We.match(ke))Lt(We),M(et,Ge+"._inputRange").set(null);else if(We.match(Me)){Lt(We),M(et,Ge+"._inputRange").set(null);var zt=M(et,Ge).get();zt._inputDomain&&(zt._input.domain=zt._inputDomain.slice())}else We.match(me)&&M(et,Ge+"._inputDomain").set(null);if(hr==="type"){Dt=kt;var vr=It.type==="linear"&&Xt==="log",yr=It.type==="log"&&Xt==="linear";if(vr||yr){if(!Dt||!Dt.range)xt(Ge+".autorange",!0);else if(It.autorange)vr&&(Dt.range=Dt.range[1]>Dt.range[0]?[1,2]:[2,1]);else{var pr=Dt.range[0],cr=Dt.range[1];vr?(pr<=0&&cr<=0&&xt(Ge+".autorange",!0),pr<=0?pr=cr/1e6:cr<=0&&(cr=pr/1e6),xt(Ge+".range[0]",Math.log(pr)/Math.LN10),xt(Ge+".range[1]",Math.log(cr)/Math.LN10)):(xt(Ge+".range[0]",Math.pow(10,pr)),xt(Ge+".range[1]",Math.pow(10,cr)))}Array.isArray(et._subplots.polar)&&et._subplots.polar.length&&et[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete et[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(Te,It,Xt,xt),r.getComponentMethod("images","convertCoords")(Te,It,Xt,xt)}else xt(Ge+".autorange",!0),xt(Ge+".range",null);M(et,Ge+"._inputRange").set(null)}else if(hr.match(b)){var Ur=M(et,Bt).get(),kr=(Xt||{}).type;(!kr||kr==="-")&&(kr="linear"),r.getComponentMethod("annotations","convertCoords")(Te,Ur,kr,xt),r.getComponentMethod("images","convertCoords")(Te,Ur,kr,xt)}var Rr=d.containerArrayMatch(Bt);if(Rr){$t=Rr.array,wr=Rr.index;var vn=Rr.property,tn=rr||{editType:"calc"};wr!==""&&vn===""&&(d.isAddVal(Xt)?at[Bt]=null:d.isRemoveVal(Xt)?at[Bt]=(M(Ye,$t).get()||[])[wr]:L.warn("unrecognized full object value",Ne)),C.update(sr,tn),_t[$t]||(_t[$t]={});var Bn=_t[$t][wr];Bn||(Bn=_t[$t][wr]={}),Bn[vn]=Xt,delete Ne[Bt]}else hr==="reverse"?(kt.range?kt.range.reverse():(xt(Ge+".autorange",!0),kt.range=[1,0]),It.autorange?sr.calc=!0:sr.plot=!0):(Bt==="dragmode"&&(Xt===!1&&Zt!==!1||Xt!==!1&&Zt===!1)||et._has("scatter-like")&&et._has("regl")&&Bt==="dragmode"&&(Xt==="lasso"||Xt==="select")&&!(Zt==="lasso"||Zt==="select")||et._has("gl2d")?sr.plot=!0:rr?C.update(sr,rr):sr.calc=!0,Nt.set(Xt))}}for($t in _t){var xn=d.applyContainerArrayChanges(Te,pt(Ye,$t),_t[$t],sr,pt);xn||(sr.plot=!0)}for(var Mr in Mt){Dt=n.getFromId(Te,Mr);var Er=Dt&&Dt._constraintGroup;if(Er){sr.calc=!0;for(var Wr in Er)Mt[Wr]||(n.getFromId(Te,Wr)._constraintShrinkable=!0)}}(Be(Te)||Ne.height||Ne.width)&&(sr.plot=!0);var Hr=et.shapes;for(wr=0;wr<Hr.length;wr++)if(Hr[wr].showlegend){sr.calc=!0;break}return(sr.plot||sr.calc)&&(sr.layoutReplot=!0),{flags:sr,rangesAltered:Mt,undoit:at,redoit:vt,eventData:Tt}}function Be(Te){var Ne=Te._fullLayout,Ye=Ne.width,et=Ne.height;return Te.layout.autosize&&i.plotAutoSize(Te,Te.layout,Ne),Ne.width!==Ye||Ne.height!==et}function Ue(Te,Ne,Ye,et){Te=L.getGraphDiv(Te),A.clearPromiseQueue(Te),L.isPlainObject(Ne)||(Ne={}),L.isPlainObject(Ye)||(Ye={}),Object.keys(Ne).length&&(Te.changed=!0),Object.keys(Ye).length&&(Te.changed=!0);var ft=A.coerceTraceIndices(Te,et),pt=fe(Te,L.extendFlat({},Ne),ft),Yt=pt.flags,Jt=Ee(Te,L.extendFlat({},Ye)),Tt=Jt.flags;(Yt.calc||Tt.calc)&&(Te.calcdata=void 0),Yt.clearAxisTypes&&A.clearAxisTypes(Te,ft,Ye);var _t=[];Tt.layoutReplot?_t.push(w.layoutReplot):Yt.fullReplot?_t.push(V._doPlot):(_t.push(i.previousPromises),we(Te,Tt,Jt)||i.supplyDefaults(Te),Yt.style&&_t.push(w.doTraceStyle),(Yt.colorbars||Tt.colorbars)&&_t.push(w.doColorBars),Tt.legend&&_t.push(w.doLegend),Tt.layoutstyle&&_t.push(w.layoutStyles),Tt.axrange&&_e(_t,Jt.rangesAltered),Tt.ticks&&_t.push(w.doTicksRelayout),Tt.modebar&&_t.push(w.doModeBar),Tt.camera&&_t.push(w.doCamera),_t.push(E)),_t.push(i.rehover,i.redrag,i.reselect),p.add(Te,Ue,[Te,pt.undoit,Jt.undoit,pt.traces],Ue,[Te,pt.redoit,Jt.redoit,pt.traces]);var $t=L.syncOrAsync(_t,Te);return(!$t||!$t.then)&&($t=Promise.resolve(Te)),$t.then(function(){return Te.emit("plotly_update",{data:pt.eventData,layout:Jt.eventData}),Te})}function De(Te){return function(Ye){Ye._fullLayout._guiEditing=!0;var et=Te.apply(null,arguments);return Ye._fullLayout._guiEditing=!1,et}}var He=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],nt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function lt(Te,Ne){for(var Ye=0;Ye<Ne.length;Ye++){var et=Ne[Ye],ft=Te.match(et.pattern);if(ft){var pt=ft[1]||"";return{head:pt,tail:Te.substr(pt.length+1),attr:et.attr}}}}function $e(Te,Ne){var Ye=M(Ne,Te).get();if(Ye!==void 0)return Ye;var et=Te.split(".");for(et.pop();et.length>1;)if(et.pop(),Ye=M(Ne,et.join(".")+".uirevision").get(),Ye!==void 0)return Ye;return Ne.uirevision}function qe(Te,Ne){for(var Ye=0;Ye<Ne.length;Ye++)if(Ne[Ye]._fullInput.uid===Te)return Ye;return-1}function ct(Te,Ne,Ye){for(var et=0;et<Ne.length;et++)if(Ne[et].uid===Te)return et;return!Ne[Ye]||Ne[Ye].uid?-1:Ye}function dt(Te,Ne){var Ye=L.isPlainObject(Te),et=Array.isArray(Te);return Ye||et?(Ye&&L.isPlainObject(Ne)||et&&Array.isArray(Ne))&&JSON.stringify(Te)===JSON.stringify(Ne):Te===Ne}function gt(Te,Ne,Ye,et){var ft=et._preGUI,pt,Yt,Jt,Tt,_t,$t,wr,yt,jt,Qt,gr=[],sr={},vt={};for(pt in ft){if(_t=lt(pt,He),_t){if(jt=_t.head,Qt=_t.tail,Yt=_t.attr||jt+".uirevision",Jt=M(et,Yt).get(),Tt=Jt&&$e(Yt,Ne),Tt&&Tt===Jt){if($t=ft[pt],$t===null&&($t=void 0),wr=M(Ne,pt),yt=wr.get(),dt(yt,$t)){yt===void 0&&Qt==="autorange"&&gr.push(jt),wr.set(Q(M(et,pt).get()));continue}else if(Qt==="autorange"||Qt.substr(0,6)==="range["){var at=ft[jt+".range[0]"],xt=ft[jt+".range[1]"],Mt=ft[jt+".autorange"];if(Mt||Mt===null&&at===null&&xt===null){if(!(jt in sr)){var Dt=M(Ne,jt).get();sr[jt]=Dt&&(Dt.autorange||Dt.autorange!==!1&&(!Dt.range||Dt.range.length!==2))}if(sr[jt]){wr.set(Q(M(et,pt).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+pt);delete ft[pt],_t&&_t.tail.substr(0,6)==="range["&&(vt[_t.head]=1)}for(var Lt=0;Lt<gr.length;Lt++){var Bt=gr[Lt];if(vt[Bt]){var Nt=M(Ne,Bt).get();Nt&&delete Nt.autorange}}var Xt=et._tracePreGUI;for(var lr in Xt){var fr=Xt[lr],hr=null,We;for(pt in fr){if(!hr){var Ge=qe(lr,Ye);if(Ge<0){delete Xt[lr];break}var kt=Ye[Ge];We=kt._fullInput;var It=ct(lr,Te,We.index);if(It<0){delete Xt[lr];break}hr=Te[It]}if(_t=lt(pt,nt),_t){if(_t.attr?(Jt=M(et,_t.attr).get(),Tt=Jt&&$e(_t.attr,Ne)):(Jt=We.uirevision,Tt=hr.uirevision,Tt===void 0&&(Tt=Ne.uirevision)),Tt&&Tt===Jt&&($t=fr[pt],$t===null&&($t=void 0),wr=M(hr,pt),yt=wr.get(),dt(yt,$t))){wr.set(Q(M(We,pt).get()));continue}}else L.warn("unrecognized GUI edit: "+pt+" in trace uid "+lr);delete fr[pt]}}}function At(Te,Ne,Ye,et){var ft,pt;function Yt(){return V.addFrames(Te,ft)}Te=L.getGraphDiv(Te),A.clearPromiseQueue(Te);var Jt=Te._fullData,Tt=Te._fullLayout;if(!L.isPlotDiv(Te)||!Jt||!Tt)pt=V.newPlot(Te,Ne,Ye,et);else{if(L.isPlainObject(Ne)){var _t=Ne;Ne=_t.data,Ye=_t.layout,et=_t.config,ft=_t.frames}var $t=!1;if(et){var wr=L.extendDeep({},Te._context);Te._context=void 0,N(Te,et),$t=Ve(wr,Te._context)}Te.data=Ne||[],A.cleanData(Te.data),Te.layout=Ye||{},A.cleanLayout(Te.layout),gt(Te.data,Te.layout,Jt,Tt),i.supplyDefaults(Te,{skipUpdateCalc:!0});var yt=Te._fullData,jt=Te._fullLayout,Qt=jt.datarevision===void 0,gr=jt.transition,sr=Vt(Te,Tt,jt,Qt,gr),vt=sr.newDataRevision,at=Rt(Te,Jt,yt,Qt,gr,vt);if(Be(Te)&&(sr.layoutReplot=!0),at.calc||sr.calc){Te.calcdata=void 0;for(var xt=Object.getOwnPropertyNames(jt),Mt=0;Mt<xt.length;Mt++){var Dt=xt[Mt],Lt=Dt.substring(0,5);if(Lt==="xaxis"||Lt==="yaxis"){var Bt=jt[Dt]._emptyCategories;Bt&&Bt()}}}else i.supplyDefaultsUpdateCalc(Te.calcdata,yt);var Nt=[];if(ft&&(Te._transitionData={},i.createTransitionData(Te),Nt.push(Yt)),jt.transition&&!$t&&(at.anim||sr.anim))sr.ticks&&Nt.push(w.doTicksRelayout),i.doCalcdata(Te),w.doAutoRangeAndConstraints(Te),Nt.push(function(){return i.transitionFromReact(Te,at,sr,Tt)});else if(at.fullReplot||sr.layoutReplot||$t)Te._fullLayout._skipDefaults=!0,Nt.push(V._doPlot);else{for(var Xt in sr.arrays){var lr=sr.arrays[Xt];if(lr.length){var fr=r.getComponentMethod(Xt,"drawOne");if(fr!==L.noop)for(var hr=0;hr<lr.length;hr++)fr(Te,lr[hr]);else{var We=r.getComponentMethod(Xt,"draw");if(We===L.noop)throw new Error("cannot draw components: "+Xt);We(Te)}}}Nt.push(i.previousPromises),at.style&&Nt.push(w.doTraceStyle),(at.colorbars||sr.colorbars)&&Nt.push(w.doColorBars),sr.legend&&Nt.push(w.doLegend),sr.layoutstyle&&Nt.push(w.layoutStyles),sr.axrange&&_e(Nt),sr.ticks&&Nt.push(w.doTicksRelayout),sr.modebar&&Nt.push(w.doModeBar),sr.camera&&Nt.push(w.doCamera),Nt.push(E)}Nt.push(i.rehover,i.redrag,i.reselect),pt=L.syncOrAsync(Nt,Te),(!pt||!pt.then)&&(pt=Promise.resolve(Te))}return pt.then(function(){return Te.emit("plotly_react",{data:Ne,layout:Ye}),Te})}function Rt(Te,Ne,Ye,et,ft,pt){var Yt=Ne.length===Ye.length;if(!ft&&!Yt)return{fullReplot:!0,calc:!0};var Jt=C.traceFlags();Jt.arrays={},Jt.nChanges=0,Jt.nChangesAnim=0;var Tt,_t;function $t(jt){var Qt=t.getTraceValObject(_t,jt);return!_t._module.animatable&&Qt.anim&&(Qt.anim=!1),Qt}var wr={getValObject:$t,flags:Jt,immutable:et,transition:ft,newDataRevision:pt,gd:Te},yt={};for(Tt=0;Tt<Ne.length;Tt++)if(Ye[Tt]){if(_t=Ye[Tt]._fullInput,i.hasMakesDataTransform(_t)&&(_t=Ye[Tt]),yt[_t.uid])continue;yt[_t.uid]=1,Je(Ne[Tt]._fullInput,_t,[],wr)}return(Jt.calc||Jt.plot)&&(Jt.fullReplot=!0),ft&&Jt.nChanges&&Jt.nChangesAnim&&(Jt.anim=Jt.nChanges===Jt.nChangesAnim&&Yt?"all":"some"),Jt}function Vt(Te,Ne,Ye,et,ft){var pt=C.layoutFlags();pt.arrays={},pt.rangesAltered={},pt.nChanges=0,pt.nChangesAnim=0;function Yt(Tt){return t.getLayoutValObject(Ye,Tt)}var Jt={getValObject:Yt,flags:pt,immutable:et,transition:ft,gd:Te};return Je(Ne,Ye,[],Jt),(pt.plot||pt.calc)&&(pt.layoutReplot=!0),ft&&pt.nChanges&&pt.nChangesAnim&&(pt.anim=pt.nChanges===pt.nChangesAnim?"all":"some"),pt}function Je(Te,Ne,Ye,et){var ft,pt,Yt,Jt=et.getValObject,Tt=et.flags,_t=et.immutable,$t=et.inArray,wr=et.arrayIndex;function yt(){var Ge=ft.editType;if($t&&Ge.indexOf("arraydraw")!==-1){L.pushUnique(Tt.arrays[$t],wr);return}C.update(Tt,ft),Ge!=="none"&&Tt.nChanges++,et.transition&&ft.anim&&Tt.nChangesAnim++,(ke.test(Yt)||Me.test(Yt))&&(Tt.rangesAltered[Ye[0]]=1),me.test(Yt)&&M(Ne,"_inputDomain").set(null),pt==="datarevision"&&(Tt.newDataRevision=1)}function jt(Ge){return Ge.valType==="data_array"||Ge.arrayOk}for(pt in Te){if(Tt.calc&&!et.transition)return;var Qt=Te[pt],gr=Ne[pt],sr=Ye.concat(pt);if(Yt=sr.join("."),!(pt.charAt(0)==="_"||typeof Qt=="function"||Qt===gr)){if((pt==="tick0"||pt==="dtick")&&Ye[0]!=="geo"){var vt=Ne.tickmode;if(vt==="auto"||vt==="array"||!vt)continue}if(!(pt==="range"&&Ne.autorange)&&!((pt==="zmin"||pt==="zmax")&&Ne.type==="contourcarpet")&&(ft=Jt(sr),!!ft&&!(ft._compareAsJSON&&JSON.stringify(Qt)===JSON.stringify(gr)))){var at=ft.valType,xt,Mt=jt(ft),Dt=Array.isArray(Qt),Lt=Array.isArray(gr);if(Dt&&Lt){var Bt="_input_"+pt,Nt=Te[Bt],Xt=Ne[Bt];if(Array.isArray(Nt)&&Nt===Xt)continue}if(gr===void 0)Mt&&Dt?Tt.calc=!0:yt();else if(ft._isLinkedToArray){var lr=[],fr=!1;$t||(Tt.arrays[pt]=lr);var hr=Math.min(Qt.length,gr.length),We=Math.max(Qt.length,gr.length);if(hr!==We)if(ft.editType==="arraydraw")fr=!0;else{yt();continue}for(xt=0;xt<hr;xt++)Je(Qt[xt],gr[xt],sr.concat(xt),L.extendFlat({inArray:pt,arrayIndex:xt},et));if(fr)for(xt=hr;xt<We;xt++)lr.push(xt)}else!at&&L.isPlainObject(Qt)?Je(Qt,gr,sr,et):Mt?Dt&&Lt?(_t&&(Tt.calc=!0),(_t||et.newDataRevision)&&yt()):Dt!==Lt?Tt.calc=!0:yt():Dt&&Lt?(Qt.length!==gr.length||String(Qt)!==String(gr))&&yt():yt()}}}for(pt in Ne)if(!(pt in Te||pt.charAt(0)==="_"||typeof Ne[pt]=="function"))if(ft=Jt(Ye.concat(pt)),jt(ft)&&Array.isArray(Ne[pt])){Tt.calc=!0;return}else yt()}function Ve(Te,Ne){var Ye;for(Ye in Te)if(Ye.charAt(0)!=="_"){var et=Te[Ye],ft=Ne[Ye];if(et!==ft)if(L.isPlainObject(et)&&L.isPlainObject(ft)){if(Ve(et,ft))return!0}else if(Array.isArray(et)&&Array.isArray(ft)){if(et.length!==ft.length)return!0;for(var pt=0;pt<et.length;pt++)if(et[pt]!==ft[pt])if(L.isPlainObject(et[pt])&&L.isPlainObject(ft[pt])){if(Ve(et[pt],ft[pt]))return!0}else return!0}else return!0}}function Ie(Te,Ne,Ye){if(Te=L.getGraphDiv(Te),!L.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var et=Te._transitionData;et._frameQueue||(et._frameQueue=[]),Ye=i.supplyAnimationDefaults(Ye);var ft=Ye.transition,pt=Ye.frame;et._frameWaitingCnt===void 0&&(et._frameWaitingCnt=0);function Yt(_t){return Array.isArray(ft)?_t>=ft.length?ft[0]:ft[_t]:ft}function Jt(_t){return Array.isArray(pt)?_t>=pt.length?pt[0]:pt[_t]:pt}function Tt(_t,$t){var wr=0;return function(){if(_t&&++wr===$t)return _t()}}return new Promise(function(_t,$t){function wr(){if(et._frameQueue.length!==0){for(;et._frameQueue.length;){var hr=et._frameQueue.pop();hr.onInterrupt&&hr.onInterrupt()}Te.emit("plotly_animationinterrupted",[])}}function yt(hr){if(hr.length!==0){for(var We=0;We<hr.length;We++){var Ge;hr[We].type==="byname"?Ge=i.computeFrame(Te,hr[We].name):Ge=hr[We].data;var kt=Jt(We),It=Yt(We);It.duration=Math.min(It.duration,kt.duration);var Zt={frame:Ge,name:hr[We].name,frameOpts:kt,transitionOpts:It};We===hr.length-1&&(Zt.onComplete=Tt(_t,2),Zt.onInterrupt=$t),et._frameQueue.push(Zt)}Ye.mode==="immediate"&&(et._lastFrameAt=-1/0),et._animationRaf||gr()}}function jt(){Te.emit("plotly_animated"),window.cancelAnimationFrame(et._animationRaf),et._animationRaf=null}function Qt(){et._currentFrame&&et._currentFrame.onComplete&&et._currentFrame.onComplete();var hr=et._currentFrame=et._frameQueue.shift();if(hr){var We=hr.name?hr.name.toString():null;Te._fullLayout._currentFrame=We,et._lastFrameAt=Date.now(),et._timeToNext=hr.frameOpts.duration,i.transition(Te,hr.frame.data,hr.frame.layout,A.coerceTraceIndices(Te,hr.frame.traces),hr.frameOpts,hr.transitionOpts).then(function(){hr.onComplete&&hr.onComplete()}),Te.emit("plotly_animatingframe",{name:We,frame:hr.frame,animation:{frame:hr.frameOpts,transition:hr.transitionOpts}})}else jt()}function gr(){Te.emit("plotly_animating"),et._lastFrameAt=-1/0,et._timeToNext=0,et._runningTransitions=0,et._currentFrame=null;var hr=function(){et._animationRaf=window.requestAnimationFrame(hr),Date.now()-et._lastFrameAt>et._timeToNext&&Qt()};hr()}var sr=0;function vt(hr){return Array.isArray(ft)?sr>=ft.length?hr.transitionOpts=ft[sr]:hr.transitionOpts=ft[0]:hr.transitionOpts=ft,sr++,hr}var at,xt,Mt=[],Dt=Ne==null,Lt=Array.isArray(Ne),Bt=!Dt&&!Lt&&L.isPlainObject(Ne);if(Bt)Mt.push({type:"object",data:vt(L.extendFlat({},Ne))});else if(Dt||["string","number"].indexOf(typeof Ne)!==-1)for(at=0;at<et._frames.length;at++)xt=et._frames[at],xt&&(Dt||String(xt.group)===String(Ne))&&Mt.push({type:"byname",name:String(xt.name),data:vt({name:xt.name})});else if(Lt)for(at=0;at<Ne.length;at++){var Nt=Ne[at];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),Mt.push({type:"byname",name:Nt,data:vt({name:Nt})})):L.isPlainObject(Nt)&&Mt.push({type:"object",data:vt(L.extendFlat({},Nt))})}for(at=0;at<Mt.length;at++)if(xt=Mt[at],xt.type==="byname"&&!et._frameHash[xt.data.name]){L.warn('animate failure: frame not found: "'+xt.data.name+'"'),$t();return}["next","immediate"].indexOf(Ye.mode)!==-1&&wr(),Ye.direction==="reverse"&&Mt.reverse();var Xt=Te._fullLayout._currentFrame;if(Xt&&Ye.fromcurrent){var lr=-1;for(at=0;at<Mt.length;at++)if(xt=Mt[at],xt.type==="byname"&&xt.name===Xt){lr=at;break}if(lr>0&&lr<Mt.length-1){var fr=[];for(at=0;at<Mt.length;at++)xt=Mt[at],(Mt[at].type!=="byname"||at>lr)&&fr.push(xt);Mt=fr}}Mt.length>0?yt(Mt):(Te.emit("plotly_animated"),_t())})}function Oe(Te,Ne,Ye){if(Te=L.getGraphDiv(Te),Ne==null)return Promise.resolve();if(!L.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var et,ft,pt,Yt,Jt=Te._transitionData._frames,Tt=Te._transitionData._frameHash;if(!Array.isArray(Ne))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ne);var _t=Jt.length+Ne.length*2,$t=[],wr={};for(et=Ne.length-1;et>=0;et--)if(L.isPlainObject(Ne[et])){var yt=Ne[et].name,jt=(Tt[yt]||wr[yt]||{}).name,Qt=Ne[et].name,gr=Tt[jt]||wr[jt];jt&&Qt&&typeof Qt=="number"&&gr&&S<m&&(S++,L.warn('addFrames: overwriting frame "'+(Tt[jt]||wr[jt]).name+'" with a frame whose name of type "number" also equates to "'+jt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===m&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),wr[yt]={name:yt},$t.push({frame:i.supplyFrameDefaults(Ne[et]),index:Ye&&Ye[et]!==void 0&&Ye[et]!==null?Ye[et]:_t+et})}$t.sort(function(Bt,Nt){return Bt.index>Nt.index?-1:Bt.index<Nt.index?1:0});var sr=[],vt=[],at=Jt.length;for(et=$t.length-1;et>=0;et--){if(ft=$t[et].frame,typeof ft.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ft.name)for(;Tt[ft.name="frame "+Te._transitionData._counter++];);if(Tt[ft.name]){for(pt=0;pt<Jt.length&&(Jt[pt]||{}).name!==ft.name;pt++);sr.push({type:"replace",index:pt,value:ft}),vt.unshift({type:"replace",index:pt,value:Jt[pt]})}else Yt=Math.max(0,Math.min($t[et].index,at)),sr.push({type:"insert",index:Yt,value:ft}),vt.unshift({type:"delete",index:Yt}),at++}var xt=i.modifyFrames,Mt=i.modifyFrames,Dt=[Te,vt],Lt=[Te,sr];return p&&p.add(Te,xt,Dt,Mt,Lt),i.modifyFrames(Te,sr)}function Le(Te,Ne){if(Te=L.getGraphDiv(Te),!L.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);var Ye,et,ft=Te._transitionData._frames,pt=[],Yt=[];if(!Ne)for(Ne=[],Ye=0;Ye<ft.length;Ye++)Ne.push(Ye);for(Ne=Ne.slice(),Ne.sort(),Ye=Ne.length-1;Ye>=0;Ye--)et=Ne[Ye],pt.push({type:"delete",index:et}),Yt.unshift({type:"insert",index:et,value:ft[et]});var Jt=i.modifyFrames,Tt=i.modifyFrames,_t=[Te,Yt],$t=[Te,pt];return p&&p.add(Te,Jt,_t,Tt,$t),i.modifyFrames(Te,pt)}function xe(Te){Te=L.getGraphDiv(Te);var Ne=Te._fullLayout||{},Ye=Te._fullData||[];return i.cleanPlot([],{},Ye,Ne),i.purge(Te),v.purge(Te),Ne._container&&Ne._container.remove(),delete Te._context,Te}function pe(Te){var Ne=Te._fullLayout,Ye=Te.getBoundingClientRect();if(!L.equalDomRects(Ye,Ne._lastBBox)){var et=Ne._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(Te));Ne._invScaleX=Math.sqrt(et[0][0]*et[0][0]+et[0][1]*et[0][1]+et[0][2]*et[0][2]),Ne._invScaleY=Math.sqrt(et[1][0]*et[1][0]+et[1][1]*et[1][1]+et[1][2]*et[1][2]),Ne._lastBBox=Ye}}function Ae(Te){var Ne=y.select(Te),Ye=Te._fullLayout;if(Ye._calcInverseTransform=pe,Ye._calcInverseTransform(Te),Ye._container=Ne.selectAll(".plot-container").data([0]),Ye._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ye._paperdiv=Ye._container.selectAll(".svg-container").data([0]),Ye._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ye._glcontainer=Ye._paperdiv.selectAll(".gl-container").data([{}]),Ye._glcontainer.enter().append("div").classed("gl-container",!0),Ye._paperdiv.selectAll(".main-svg").remove(),Ye._paperdiv.select(".modebar-container").remove(),Ye._paper=Ye._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ye._toppaper=Ye._paperdiv.append("svg").classed("main-svg",!0),Ye._modebardiv=Ye._paperdiv.append("div"),delete Ye._modeBar,Ye._hoverpaper=Ye._paperdiv.append("svg").classed("main-svg",!0),!Ye._uid){var et={};y.selectAll("defs").each(function(){this.id&&(et[this.id.split("-")[1]]=1)}),Ye._uid=L.randstr(et)}Ye._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),Ye._defs=Ye._paper.append("defs").attr("id","defs-"+Ye._uid),Ye._clips=Ye._defs.append("g").classed("clips",!0),Ye._topdefs=Ye._toppaper.append("defs").attr("id","topdefs-"+Ye._uid),Ye._topclips=Ye._topdefs.append("g").classed("clips",!0),Ye._bgLayer=Ye._paper.append("g").classed("bglayer",!0),Ye._draggers=Ye._paper.append("g").classed("draglayer",!0);var ft=Ye._paper.append("g").classed("layer-below",!0);Ye._imageLowerLayer=ft.append("g").classed("imagelayer",!0),Ye._shapeLowerLayer=ft.append("g").classed("shapelayer",!0),Ye._cartesianlayer=Ye._paper.append("g").classed("cartesianlayer",!0),Ye._polarlayer=Ye._paper.append("g").classed("polarlayer",!0),Ye._smithlayer=Ye._paper.append("g").classed("smithlayer",!0),Ye._ternarylayer=Ye._paper.append("g").classed("ternarylayer",!0),Ye._geolayer=Ye._paper.append("g").classed("geolayer",!0),Ye._funnelarealayer=Ye._paper.append("g").classed("funnelarealayer",!0),Ye._pielayer=Ye._paper.append("g").classed("pielayer",!0),Ye._iciclelayer=Ye._paper.append("g").classed("iciclelayer",!0),Ye._treemaplayer=Ye._paper.append("g").classed("treemaplayer",!0),Ye._sunburstlayer=Ye._paper.append("g").classed("sunburstlayer",!0),Ye._indicatorlayer=Ye._toppaper.append("g").classed("indicatorlayer",!0),Ye._glimages=Ye._paper.append("g").classed("glimages",!0);var pt=Ye._toppaper.append("g").classed("layer-above",!0);Ye._imageUpperLayer=pt.append("g").classed("imagelayer",!0),Ye._shapeUpperLayer=pt.append("g").classed("shapelayer",!0),Ye._selectionLayer=Ye._toppaper.append("g").classed("selectionlayer",!0),Ye._infolayer=Ye._toppaper.append("g").classed("infolayer",!0),Ye._menulayer=Ye._toppaper.append("g").classed("menulayer",!0),Ye._zoomlayer=Ye._toppaper.append("g").classed("zoomlayer",!0),Ye._hoverlayer=Ye._hoverpaper.append("g").classed("hoverlayer",!0),Ye._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Te.emit("plotly_framework")}V.animate=Ie,V.addFrames=Oe,V.deleteFrames=Le,V.addTraces=ae,V.deleteTraces=j,V.extendTraces=J,V.moveTraces=q,V.prependTraces=Y,V.newPlot=z,V._doPlot=a,V.purge=xe,V.react=At,V.redraw=F,V.relayout=Se,V.restyle=oe,V.setPlotConfig=x,V.update=Ue,V._guiRelayout=De(Se),V._guiRestyle=De(oe),V._guiUpdate=De(Ue),V._storeDirectGUIEdit=ne},72075:function(G){var V={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function y(P,o){for(var L in P){var M=P[L];M.valType?o[L]=M.dflt:(o[L]||(o[L]={}),y(M,o[L]))}}y(V,e),G.exports={configAttributes:V,dfltConfig:e}},86281:function(G,V,e){var y=e(73972),P=e(71828),o=e(9012),L=e(10820),M=e(31391),v=e(85594),p=e(72075).configAttributes,r=e(30962),t=P.extendDeepAll,i=P.isPlainObject,n=P.isArrayOrTypedArray,c=P.nestedProperty,u=P.valObjectMeta,l="_isSubplotObj",g="_isLinkedToArray",f="_arrayAttrRegexps",T="_deprecated",h=[l,g,f,T];V.IS_SUBPLOT_OBJ=l,V.IS_LINKED_TO_ARRAY=g,V.DEPRECATED=T,V.UNDERSCORE_ATTRS=h,V.get=function(){var N={};y.allTypes.forEach(function(z){N[z]=w(z)});var F={};return Object.keys(y.transformsRegistry).forEach(function(z){F[z]=b(z)}),{defs:{valObjects:u,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:N,layout:C(),transforms:F,frames:S(),animation:m(v),config:m(p)}},V.crawl=function(N,F,z,O){var _=z||0;O=O||"",Object.keys(N).forEach(function(B){var W=N[B];if(h.indexOf(B)===-1){var $=(O?O+".":"")+B;F(W,B,N,_,$),!V.isValObject(W)&&i(W)&&B!=="impliedEdits"&&V.crawl(W,F,_+1,$)}})},V.isValObject=function(N){return N&&N.valType!==void 0},V.findArrayAttributes=function(N){var F=[],z=[],O=[],_,B;function W(Y,ae,j,q){z=z.slice(0,q).concat([ae]),O=O.slice(0,q).concat([Y&&Y._isLinkedToArray]);var oe=Y&&(Y.valType==="data_array"||Y.arrayOk===!0)&&!(z[q-1]==="colorbar"&&(ae==="ticktext"||ae==="tickvals"));oe&&$(_,0,"")}function $(Y,ae,j){var q=Y[z[ae]],oe=j+z[ae];if(ae===z.length-1)n(q)&&F.push(B+oe);else if(O[ae]){if(Array.isArray(q))for(var Q=0;Q<q.length;Q++)i(q[Q])&&$(q[Q],ae+1,oe+"["+Q+"].")}else i(q)&&$(q,ae+1,oe+".")}_=N,B="",V.crawl(o,W),N._module&&N._module.attributes&&V.crawl(N._module.attributes,W);var te=N.transforms;if(te)for(var ie=0;ie<te.length;ie++){var ue=te[ie],J=ue._module;J&&(B="transforms["+ie+"].",_=ue,V.crawl(J.attributes,W))}return F},V.getTraceValObject=function(N,F){var z=F[0],O=1,_,B;if(z==="transforms"){if(F.length===1)return o.transforms;var W=N.transforms;if(!Array.isArray(W)||!W.length)return!1;var $=F[1];if(!A($)||$>=W.length)return!1;_=(y.transformsRegistry[W[$].type]||{}).attributes,B=_&&_[F[2]],O=3}else{var te=N._module;if(te||(te=(y.modules[N.type||o.type.dflt]||{})._module),!te)return!1;if(_=te.attributes,B=_&&_[z],!B){var ie=te.basePlotModule;ie&&ie.attributes&&(B=ie.attributes[z])}B||(B=o[z])}return d(B,F,O)},V.getLayoutValObject=function(N,F){var z=s(N,F[0]);return d(z,F,1)};function s(N,F){var z,O,_,B,W=N._basePlotModules;if(W){var $;for(z=0;z<W.length;z++){if(_=W[z],_.attrRegex&&_.attrRegex.test(F)){if(_.layoutAttrOverrides)return _.layoutAttrOverrides;!$&&_.layoutAttributes&&($=_.layoutAttributes)}var te=_.baseLayoutAttrOverrides;if(te&&F in te)return te[F]}if($)return $}var ie=N._modules;if(ie){for(z=0;z<ie.length;z++)if(B=ie[z].layoutAttributes,B&&F in B)return B[F]}for(O in y.componentsRegistry){if(_=y.componentsRegistry[O],_.name==="colorscale"&&F.indexOf("coloraxis")===0)return _.layoutAttributes[F];if(!_.schema&&F===_.name)return _.layoutAttributes}return F in L?L[F]:!1}function d(N,F,z){if(!N)return!1;if(N._isLinkedToArray){if(A(F[z]))z++;else if(z<F.length)return!1}for(;z<F.length;z++){var O=N[F[z]];if(i(O))N=O;else break;if(z===F.length-1)break;if(N._isLinkedToArray){if(z++,!A(F[z]))return!1}else if(N.valType==="info_array"){z++;var _=F[z];if(!A(_))return!1;var B=N.items;if(Array.isArray(B)){if(_>=B.length)return!1;if(N.dimensions===2){if(z++,F.length===z)return N;var W=F[z];if(!A(W))return!1;N=B[_][W]}else N=B[_]}else N=B}}return N}function A(N){return N===Math.round(N)&&N>=0}function w(N){var F,z;F=y.modules[N]._module,z=F.basePlotModule;var O={};O.type=null;var _=t({},o),B=t({},F.attributes);V.crawl(B,function(te,ie,ue,J,Y){c(_,Y).set(void 0),te===void 0&&c(B,Y).set(void 0)}),t(O,_),y.traceIs(N,"noOpacity")&&delete O.opacity,y.traceIs(N,"showLegend")||(delete O.showlegend,delete O.legendgroup),y.traceIs(N,"noHover")&&(delete O.hoverinfo,delete O.hoverlabel),F.selectPoints||delete O.selectedpoints,t(O,B),z.attributes&&t(O,z.attributes),O.type=N;var W={meta:F.meta||{},categories:F.categories||{},animatable:!!F.animatable,type:N,attributes:m(O)};if(F.layoutAttributes){var $={};t($,F.layoutAttributes),W.layoutAttributes=m($)}return F.animatable||V.crawl(W,function(te){V.isValObject(te)&&"anim"in te&&delete te.anim}),W}function C(){var N={},F,z;t(N,L);for(F in y.subplotsRegistry)if(z=y.subplotsRegistry[F],!!z.layoutAttributes)if(Array.isArray(z.attr))for(var O=0;O<z.attr.length;O++)k(N,z,z.attr[O]);else{var _=z.attr==="subplot"?z.name:z.attr;k(N,z,_)}for(F in y.componentsRegistry){z=y.componentsRegistry[F];var B=z.schema;if(B&&(B.subplots||B.layout)){var W=B.subplots;if(W&&W.xaxis&&!W.yaxis)for(var $ in W.xaxis)delete N.yaxis[$];delete N.xaxis.shift,delete N.xaxis.autoshift}else z.name==="colorscale"?t(N,z.layoutAttributes):z.layoutAttributes&&I(N,z.layoutAttributes,z.name)}return{layoutAttributes:m(N)}}function b(N){var F=y.transformsRegistry[N],z=t({},F.attributes);return Object.keys(y.componentsRegistry).forEach(function(O){var _=y.componentsRegistry[O];_.schema&&_.schema.transforms&&_.schema.transforms[N]&&Object.keys(_.schema.transforms[N]).forEach(function(B){I(z,_.schema.transforms[N][B],B)})}),{attributes:m(z)}}function S(){var N={frames:t({},M)};return m(N),N.frames}function m(N){return a(N),E(N),x(N),N}function a(N){function F(O){return{valType:"string",editType:"none"}}function z(O,_,B){V.isValObject(O)?(O.arrayOk===!0||O.valType==="data_array")&&(B[_+"src"]=F()):i(O)&&(O.role="object")}V.crawl(N,z)}function E(N){function F(z,O,_){if(z){var B=z[g];B&&(delete z[g],_[O]={items:{}},_[O].items[B]=z,_[O].role="object")}}V.crawl(N,F)}function x(N){function F(z){for(var O in z)if(i(z[O]))F(z[O]);else if(Array.isArray(z[O]))for(var _=0;_<z[O].length;_++)F(z[O][_]);else z[O]instanceof RegExp&&(z[O]=z[O].toString())}F(N)}function k(N,F,z){var O=c(N,z),_=t({},F.layoutAttributes);_[l]=!0,O.set(_)}function I(N,F,z){var O=c(N,z);O.set(t(O.get()||{},F))}},44467:function(G,V,e){var y=e(71828),P=e(9012),o="templateitemname",L={name:{valType:"string",editType:"none"}};L[o]={valType:"string",editType:"calc"},V.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=L.name,r[o]=L[o],r},V.traceTemplater=function(p){var r={},t,i;for(t in p)i=p[t],Array.isArray(i)&&i.length&&(r[t]=0);function n(c){t=y.coerce(c,{},P,"type");var u={type:t,_template:null};if(t in r){i=p[t];var l=r[t]%i.length;r[t]++,u._template=i[l]}return u}return{newTrace:n}},V.newContainer=function(p,r,t){var i=p._template,n=i&&(i[r]||t&&i[t]);y.isPlainObject(n)||(n=null);var c=p[r]={_template:n};return c},V.arrayTemplater=function(p,r,t){var i=p._template,n=i&&i[v(r)],c=i&&i[r];(!Array.isArray(c)||!c.length)&&(c=[]);var u={};function l(f){var T={name:f.name,_input:f},h=T[o]=f[o];if(!M(h))return T._template=n,T;for(var s=0;s<c.length;s++){var d=c[s];if(d.name===h)return u[h]=1,T._template=d,T}return T[t]=f[t]||!1,T._template=!1,T}function g(){for(var f=[],T=0;T<c.length;T++){var h=c[T],s=h.name;if(M(s)&&!u[s]){var d={_template:h,name:s,_input:{_templateitemname:s}};d[o]=h[o],f.push(d),u[s]=1}}return f}return{newItem:l,defaultItems:g}};function M(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&y.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}V.arrayDefaultKey=v,V.arrayEditor=function(p,r,t){var i=(y.nestedProperty(p,r).get()||[]).length,n=t._index,c=n>=i&&(t._input||{})._templateitemname;c&&(n=i);var u=r+"["+n+"]",l;function g(){l={},c&&(l[u]={},l[u][o]=c)}g();function f(d,A){l[d]=A}function T(d,A){c?y.nestedProperty(l[u],d).set(A):l[u+"."+d]=A}function h(){var d=l;return g(),d}function s(d,A){d&&T(d,A);var w=h();for(var C in w)y.nestedProperty(p,C).set(w[C])}return{modifyBase:f,modifyItem:T,getUpdateObj:h,applyUpdate:s}}},61549:function(G,V,e){var y=e(39898),P=e(73972),o=e(74875),L=e(71828),M=e(63893),v=e(33306),p=e(7901),r=e(91424),t=e(92998),i=e(64168),n=e(89298),c=e(18783),u=e(99082),l=u.enforce,g=u.clean,f=e(71739).doAutoRange,T="start",h="middle",s="end";V.layoutStyles=function(z){return L.syncOrAsync([o.doAutoMargin,A],z)};function d(z,O,_){for(var B=0;B<_.length;B++){var W=_[B][0],$=_[B][1];if(!(W[0]>=z[1]||W[1]<=z[0])&&$[0]<O[1]&&$[1]>O[0])return!0}return!1}function A(z){var O=z._fullLayout,_=O._size,B=_.p,W=n.list(z,"",!0),$,te,ie,ue,J,Y;if(O._paperdiv.style({width:z._context.responsive&&O.autosize&&!z._context._hasZeroWidth&&!z.layout.width?"100%":O.width+"px",height:z._context.responsive&&O.autosize&&!z._context._hasZeroHeight&&!z.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(r.setSize,O.width,O.height),z._context.setBackground(z,O.paper_bgcolor),V.drawMainTitle(z),i.manage(z),!O._has("cartesian"))return o.previousPromises(z);function ae(xe,pe,Ae){var Te=xe._lw/2;if(xe._id.charAt(0)==="x"){if(pe){if(Ae==="top")return pe._offset-B-Te}else return _.t+_.h*(1-(xe.position||0))+Te%1;return pe._offset+pe._length+B+Te}if(pe){if(Ae==="right")return pe._offset+pe._length+B+Te}else return _.l+_.w*(xe.position||0)+Te%1;return pe._offset-B-Te}for($=0;$<W.length;$++){ue=W[$];var j=ue._anchorAxis;ue._linepositions={},ue._lw=r.crispRound(z,ue.linewidth,1),ue._mainLinePosition=ae(ue,j,ue.side),ue._mainMirrorPosition=ue.mirror&&j?ae(ue,j,c.OPPOSITE_SIDE[ue.side]):null}var q=[],oe=[],Q=[],X=p.opacity(O.paper_bgcolor)===1&&p.opacity(O.plot_bgcolor)===1&&O.paper_bgcolor===O.plot_bgcolor;for(te in O._plots)if(ie=O._plots[te],ie.mainplot)ie.bg&&ie.bg.remove(),ie.bg=void 0;else{var se=ie.xaxis.domain,ne=ie.yaxis.domain,fe=ie.plotgroup;if(d(se,ne,Q)){var ye=fe.node(),Se=ie.bg=L.ensureSingle(fe,"rect","bg");ye.insertBefore(Se.node(),ye.childNodes[0]),oe.push(te)}else fe.select("rect.bg").remove(),Q.push([se,ne]),X||(q.push(te),oe.push(te))}var we=O._bgLayer.selectAll(".bg").data(q);for(we.enter().append("rect").classed("bg",!0),we.exit().remove(),we.each(function(xe){O._plots[xe].bg=y.select(this)}),$=0;$<oe.length;$++)ie=O._plots[oe[$]],J=ie.xaxis,Y=ie.yaxis,ie.bg&&J._offset!==void 0&&Y._offset!==void 0&&ie.bg.call(r.setRect,J._offset-B,Y._offset-B,J._length+2*B,Y._length+2*B).call(p.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(te in O._plots){ie=O._plots[te],J=ie.xaxis,Y=ie.yaxis;var _e=ie.clipId="clip"+O._uid+te+"plot",ke=L.ensureSingleById(O._clips,"clipPath",_e,function(xe){xe.classed("plotclip",!0).append("rect")});ie.clipRect=ke.select("rect").attr({width:J._length,height:Y._length}),r.setTranslate(ie.plot,J._offset,Y._offset);var Me,me;ie._hasClipOnAxisFalse?(Me=null,me=_e):(Me=_e,me=null),r.setClipUrl(ie.plot,Me,z),ie.layerClipId=me}var Ee,Be,Ue,De,He,nt,lt,$e,qe,ct,dt,gt,At;function Rt(xe){return"M"+Ee+","+xe+"H"+Be}function Vt(xe){return"M"+J._offset+","+xe+"h"+J._length}function Je(xe){return"M"+xe+","+$e+"V"+lt}function Ve(xe){return Y._shift!==void 0&&(xe+=Y._shift),"M"+xe+","+Y._offset+"v"+Y._length}function Ie(xe,pe,Ae){if(!xe.showline||te!==xe._mainSubplot)return"";if(!xe._anchorAxis)return Ae(xe._mainLinePosition);var Te=pe(xe._mainLinePosition);return xe.mirror&&(Te+=pe(xe._mainMirrorPosition)),Te}for(te in O._plots){ie=O._plots[te],J=ie.xaxis,Y=ie.yaxis;var Oe="M0,0";w(J,te)&&(He=b(J,"left",Y,W),Ee=J._offset-(He?B+He:0),nt=b(J,"right",Y,W),Be=J._offset+J._length+(nt?B+nt:0),Ue=ae(J,Y,"bottom"),De=ae(J,Y,"top"),At=!J._anchorAxis||te!==J._mainSubplot,At&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[te]=[Ue,De]),Oe=Ie(J,Rt,Vt),At&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(Oe+=Rt(Ue)+Rt(De)),ie.xlines.style("stroke-width",J._lw+"px").call(p.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),ie.xlines.attr("d",Oe);var Le="M0,0";w(Y,te)&&(dt=b(Y,"bottom",J,W),lt=Y._offset+Y._length+(dt?B:0),gt=b(Y,"top",J,W),$e=Y._offset-(gt?B:0),qe=ae(Y,J,"left"),ct=ae(Y,J,"right"),At=!Y._anchorAxis||te!==Y._mainSubplot,At&&(Y.mirror==="allticks"||Y.mirror==="all")&&(Y._linepositions[te]=[qe,ct]),Le=Ie(Y,Je,Ve),At&&Y.showline&&(Y.mirror==="all"||Y.mirror==="allticks")&&(Le+=Je(qe)+Je(ct)),ie.ylines.style("stroke-width",Y._lw+"px").call(p.stroke,Y.showline?Y.linecolor:"rgba(0,0,0,0)")),ie.ylines.attr("d",Le)}return n.makeClipPaths(z),o.previousPromises(z)}function w(z,O){return(z.ticks||z.showline)&&(O===z._mainSubplot||z.mirror==="all"||z.mirror==="allticks")}function C(z,O,_){if(!_.showline||!_._lw)return!1;if(_.mirror==="all"||_.mirror==="allticks")return!0;var B=_._anchorAxis;if(!B)return!1;var W=c.FROM_BL[O];return _.side===O?B.domain[W]===z.domain[W]:_.mirror&&B.domain[1-W]===z.domain[1-W]}function b(z,O,_,B){if(C(z,O,_))return _._lw;for(var W=0;W<B.length;W++){var $=B[W];if($._mainAxis===_._mainAxis&&C(z,O,$))return $._lw}return 0}V.drawMainTitle=function(z){var O=z._fullLayout.title,_=z._fullLayout,B=N(_),W=F(_),$=k(_,W),te=x(_,B);if(t.draw(z,"gtitle",{propContainer:_,propName:"title.text",placeholder:_._dfltTitle.plot,attributes:{x:te,y:$,"text-anchor":B,dy:W}}),O.text&&O.automargin){var ie=y.selectAll(".gtitle"),ue=r.bBox(ie.node()).height,J=a(z,O,ue);if(J>0){E(z,$,J,ue),ie.attr({x:te,y:$,"text-anchor":B,dy:I(O.yanchor)}).call(M.positionText,te,$);var Y=(O.text.match(M.BR_TAG_ALL)||[]).length;if(Y){var ae=c.LINE_SPACING*Y+c.MID_SHIFT;O.y===0&&(ae=-ae),ie.selectAll(".line").each(function(){var j=+this.getAttribute("dy").slice(0,-2)-ae+"em";this.setAttribute("dy",j)})}}}};function S(z,O,_,B,W){var $=O.yref==="paper"?z._fullLayout._size.h:z._fullLayout.height,te=L.isTopAnchor(O)?B:B-W,ie=_==="b"?$-te:te;return L.isTopAnchor(O)&&_==="t"||L.isBottomAnchor(O)&&_==="b"?!1:ie<W}function m(z,O,_,B,W){var $=0;return _==="middle"&&($+=W/2),z==="t"?(_==="top"&&($+=W),$+=B-O*B):(_==="bottom"&&($+=W),$+=O*B),$}function a(z,O,_){var B=O.y,W=O.yanchor,$=B>.5?"t":"b",te=z._fullLayout.margin[$],ie=0;return O.yref==="paper"?ie=_+O.pad.t+O.pad.b:O.yref==="container"&&(ie=m($,B,W,z._fullLayout.height,_)+O.pad.t+O.pad.b),ie>te?ie:0}function E(z,O,_,B){var W="title.automargin",$=z._fullLayout.title,te=$.y>.5?"t":"b",ie={x:$.x,y:$.y,t:0,b:0},ue={};$.yref==="paper"&&S(z,$,te,O,B)?ie[te]=_:$.yref==="container"&&(ue[te]=_,z._fullLayout._reservedMargin[W]=ue),o.allowAutoMargin(z,W),o.autoMargin(z,W,ie)}function x(z,O){var _=z.title,B=z._size,W=0;switch(O===T?W=_.pad.l:O===s&&(W=-_.pad.r),_.xref){case"paper":return B.l+B.w*_.x+W;case"container":default:return z.width*_.x+W}}function k(z,O){var _=z.title,B=z._size,W=0;if(O==="0em"||!O?W=-_.pad.b:O===c.CAP_SHIFT+"em"&&(W=_.pad.t),_.y==="auto")return B.t/2;switch(_.yref){case"paper":return B.t+B.h-B.h*_.y+W;case"container":default:return z.height-z.height*_.y+W}}function I(z){return z==="top"?c.CAP_SHIFT+.3+"em":z==="bottom"?"-0.3em":c.MID_SHIFT+"em"}function N(z){var O=z.title,_=h;return L.isRightAnchor(O)?_=s:L.isLeftAnchor(O)&&(_=T),_}function F(z){var O=z.title,_="0em";return L.isTopAnchor(O)?_=c.CAP_SHIFT+"em":L.isMiddleAnchor(O)&&(_=c.MID_SHIFT+"em"),_}V.doTraceStyle=function(z){var O=z.calcdata,_=[],B;for(B=0;B<O.length;B++){var W=O[B],$=W[0]||{},te=$.trace||{},ie=te._module||{},ue=ie.arraysToCalcdata;ue&&ue(W,te);var J=ie.editStyle;J&&_.push({fn:J,cd0:$})}if(_.length){for(B=0;B<_.length;B++){var Y=_[B];Y.fn(z,Y.cd0)}v(z),V.redrawReglTraces(z)}return o.style(z),P.getComponentMethod("legend","draw")(z),o.previousPromises(z)},V.doColorBars=function(z){return P.getComponentMethod("colorbar","draw")(z),o.previousPromises(z)},V.layoutReplot=function(z){var O=z.layout;return z.layout=void 0,P.call("_doPlot",z,"",O)},V.doLegend=function(z){return P.getComponentMethod("legend","draw")(z),o.previousPromises(z)},V.doTicksRelayout=function(z){return n.draw(z,"redraw"),z._fullLayout._hasOnlyLargeSploms&&(P.subplotsRegistry.splom.updateGrid(z),v(z),V.redrawReglTraces(z)),V.drawMainTitle(z),o.previousPromises(z)},V.doModeBar=function(z){var O=z._fullLayout;i.manage(z);for(var _=0;_<O._basePlotModules.length;_++){var B=O._basePlotModules[_].updateFx;B&&B(z)}return o.previousPromises(z)},V.doCamera=function(z){for(var O=z._fullLayout,_=O._subplots.gl3d,B=0;B<_.length;B++){var W=O[_[B]],$=W._scene;$.setViewport(W)}},V.drawData=function(z){var O=z._fullLayout;v(z);for(var _=O._basePlotModules,B=0;B<_.length;B++)_[B].plot(z);return V.redrawReglTraces(z),o.style(z),P.getComponentMethod("selections","draw")(z),P.getComponentMethod("shapes","draw")(z),P.getComponentMethod("annotations","draw")(z),P.getComponentMethod("images","draw")(z),O._replotting=!1,o.previousPromises(z)},V.redrawReglTraces=function(z){var O=z._fullLayout;if(O._has("regl")){var _=z._fullData,B=[],W=[],$,te;for(O._hasOnlyLargeSploms&&O._splomGrid.draw(),$=0;$<_.length;$++){var ie=_[$];ie.visible===!0&&ie._length!==0&&(ie.type==="splom"?O._splomScenes[ie.uid].draw():ie.type==="scattergl"?L.pushUnique(B,ie.xaxis+ie.yaxis):ie.type==="scatterpolargl"&&L.pushUnique(W,ie.subplot))}for($=0;$<B.length;$++)te=O._plots[B[$]],te._scene&&te._scene.draw();for($=0;$<W.length;$++)te=O[W[$]]._subplot,te._scene&&te._scene.draw()}},V.doAutoRangeAndConstraints=function(z){for(var O=n.list(z,"",!0),_,B={},W=0;W<O.length;W++)if(_=O[W],!B[_._id]){B[_._id]=1,g(z,_),f(z,_);var $=_._matchGroup;if($)for(var te in $){var ie=n.getFromId(z,te);f(z,ie,_.range),B[te]=1}}l(z)},V.finalDraw=function(z){P.getComponentMethod("rangeslider","draw")(z),P.getComponentMethod("rangeselector","draw")(z)},V.drawMarginPushers=function(z){P.getComponentMethod("legend","draw")(z),P.getComponentMethod("rangeselector","draw")(z),P.getComponentMethod("sliders","draw")(z),P.getComponentMethod("updatemenus","draw")(z),P.getComponentMethod("colorbar","draw")(z)}},96318:function(G,V,e){var y=e(71828),P=y.isPlainObject,o=e(86281),L=e(74875),M=e(9012),v=e(44467),p=e(72075).dfltConfig;V.makeTemplate=function(f){f=y.isPlainObject(f)?f:y.getGraphDiv(f),f=y.extendDeep({_context:p},{data:f.data,layout:f.layout}),L.supplyDefaults(f);var T=f.data||[],h=f.layout||{};h._basePlotModules=f._fullLayout._basePlotModules,h._modules=f._fullLayout._modules;var s={data:{},layout:{}};T.forEach(function(x){var k={};i(x,k,c.bind(null,x));var I=y.coerce(x,{},M,"type"),N=s.data[I];N||(N=s.data[I]=[]),N.push(k)}),i(h,s.layout,n.bind(null,h)),delete s.layout.template;var d=h.template;if(P(d)){var A=d.layout,w,C,b,S,m,a;P(A)&&r(A,s.layout);var E=d.data;if(P(E)){for(C in s.data)if(b=E[C],Array.isArray(b)){for(m=s.data[C],a=m.length,S=b.length,w=0;w<a;w++)r(b[w%S],m[w]);for(w=a;w<S;w++)m.push(y.extendDeep({},b[w]))}for(C in E)C in s.data||(s.data[C]=y.extendDeep([],E[C]))}}return s};function r(f,T){f=y.extendDeep({},f);var h=Object.keys(f).sort(),s,d;function A(m,a,E){if(P(a)&&P(m))r(m,a);else if(Array.isArray(a)&&Array.isArray(m)){var x=v.arrayTemplater({_template:f},E);for(d=0;d<a.length;d++){var k=a[d],I=x.newItem(k)._template;I&&r(I,k)}var N=x.defaultItems();for(d=0;d<N.length;d++)a.push(N[d]._template);for(d=0;d<a.length;d++)delete a[d].templateitemname}}for(s=0;s<h.length;s++){var w=h[s],C=f[w];if(w in T?A(C,T[w],w):T[w]=C,t(w)===w)for(var b in T){var S=t(b);b!==S&&S===w&&!(b in f)&&A(C,T[b],w)}}}function t(f){return f.replace(/[0-9]+$/,"")}function i(f,T,h,s,d){var A=d&&h(d);for(var w in f){var C=f[w],b=u(f,w,s),S=u(f,w,d),m=h(S);if(!m){var a=t(w);a!==w&&(S=u(f,a,d),m=h(S))}if(!(A&&A===m)&&!(!m||m._noTemplating||m.valType==="data_array"||m.arrayOk&&Array.isArray(C)))if(!m.valType&&P(C))i(C,T,h,b,S);else if(m._isLinkedToArray&&Array.isArray(C))for(var E=!1,x=0,k={},I=0;I<C.length;I++){var N=C[I];if(P(N)){var F=N.name;if(F)k[F]||(i(N,T,h,u(C,x,b),u(C,x,S)),x++,k[F]=1);else if(!E){var z=v.arrayDefaultKey(w),O=u(f,z,s),_=u(C,x,b);i(N,T,h,_,u(C,x,S));var B=y.nestedProperty(T,_),W=y.nestedProperty(T,O);W.set(B.get()),B.set(null),E=!0}}}else{var $=y.nestedProperty(T,b);$.set(C)}}}function n(f,T){return o.getLayoutValObject(f,y.nestedProperty({},T).parts)}function c(f,T){return o.getTraceValObject(f,y.nestedProperty({},T).parts)}function u(f,T,h){var s;return h?Array.isArray(f)?s=h+"["+T+"]":s=h+"."+T:s=T,s}V.validateTemplate=function(f,T){var h=y.extendDeep({},{_context:p,data:f.data,layout:f.layout}),s=h.layout||{};P(T)||(T=s.template||{});var d=T.layout,A=T.data,w=[];h.layout=s,h.layout.template=T,L.supplyDefaults(h);var C=h._fullLayout,b=h._fullData,S={};function m(O,_){for(var B in O)if(B.charAt(0)!=="_"&&P(O[B])){var W=t(B),$=[],te;for(te=0;te<_.length;te++)$.push(u(O,B,_[te])),W!==B&&$.push(u(O,W,_[te]));for(te=0;te<$.length;te++)S[$[te]]=1;m(O[B],$)}}function a(O,_){for(var B in O)if(B.indexOf("defaults")===-1&&P(O[B])){var W=u(O,B,_);S[W]?a(O[B],W):w.push({code:"unused",path:W})}}if(P(d)?(m(C,["layout"]),a(d,"layout")):w.push({code:"layout"}),!P(A))w.push({code:"data"});else{for(var E={},x,k=0;k<b.length;k++){var I=b[k];x=I.type,E[x]=(E[x]||0)+1,I._fullInput._template||w.push({code:"missing",index:I._fullInput.index,traceType:x})}for(x in A){var N=A[x].length,F=E[x]||0;N>F?w.push({code:"unused",traceType:x,templateCount:N,dataCount:F}):F>N&&w.push({code:"reused",traceType:x,templateCount:N,dataCount:F})}}function z(O,_){for(var B in O)if(B.charAt(0)!=="_"){var W=O[B],$=u(O,B,_);P(W)?(Array.isArray(O)&&W._template===!1&&W.templateitemname&&w.push({code:"missing",path:$,templateitemname:W.templateitemname}),z(W,$)):Array.isArray(W)&&l(W)&&z(W,$)}}if(z({data:b,layout:C},""),w.length)return w.map(g)};function l(f){for(var T=0;T<f.length;T++)if(P(f[T]))return!0}function g(f){var T;switch(f.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":f.path?T="There are no templates for item "+f.path+" with name "+f.templateitemname:T="There are no templates for trace "+f.index+", of type "+f.traceType+".";break;case"unused":f.path?T="The template item at "+f.path+" was not used in constructing the plot.":f.dataCount?T="Some of the templates of type "+f.traceType+" were not used. The template has "+f.templateCount+" traces, the data only has "+f.dataCount+" of this type.":T="The template has "+f.templateCount+" traces of type "+f.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+f.traceType+" were used more than once. The template has "+f.templateCount+" traces, the data has "+f.dataCount+" of this type.";break}return f.msg=T,f}},403:function(G,V,e){var y=e(92770),P=e(72391),o=e(74875),L=e(71828),M=e(25095),v=e(5900),p=e(70942),r=e(11506).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function i(n,c){c=c||{};var u,l,g,f;L.isPlainObject(n)?(u=n.data||[],l=n.layout||{},g=n.config||{},f={}):(n=L.getGraphDiv(n),u=L.extendDeep([],n.data),l=L.extendDeep({},n.layout),g=n._context,f=n._fullLayout||{});function T(F){return!(F in c)||L.validate(c[F],t[F])}if(!T("width")&&c.width!==null||!T("height")&&c.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+L.join2(t.format.values,", "," or ")+".");var h={};function s(F,z){return L.coerce(c,h,t,F,z)}var d=s("format"),A=s("width"),w=s("height"),C=s("scale"),b=s("setBackground"),S=s("imageDataOnly"),m=document.createElement("div");m.style.position="absolute",m.style.left="-5000px",document.body.appendChild(m);var a=L.extendFlat({},l);A?a.width=A:c.width===null&&y(f.width)&&(a.width=f.width),w?a.height=w:c.height===null&&y(f.height)&&(a.height=f.height);var E=L.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:b}),x=M.getRedrawFunc(m);function k(){return new Promise(function(F){setTimeout(F,M.getDelay(m._fullLayout))})}function I(){return new Promise(function(F,z){var O=v(m,d,C),_=m._fullLayout.width,B=m._fullLayout.height;function W(){P.purge(m),document.body.removeChild(m)}if(d==="full-json"){var $=o.graphJson(m,!1,"keepdata","object",!0,!0);return $.version=r,$=JSON.stringify($),W(),F(S?$:M.encodeJSON($))}if(W(),d==="svg")return F(S?O:M.encodeSVG(O));var te=document.createElement("canvas");te.id=L.randstr(),p({format:d,width:_,height:B,scale:C,canvas:te,svg:O,promise:!0}).then(F).catch(z)})}function N(F){return S?F.replace(M.IMAGE_URL_PREFIX,""):F}return new Promise(function(F,z){P.newPlot(m,u,a,E).then(x).then(k).then(I).then(function(O){F(N(O))}).catch(function(O){z(O)})})}G.exports=i},84936:function(G,V,e){var y=e(71828),P=e(74875),o=e(86281),L=e(72075).dfltConfig,M=y.isPlainObject,v=Array.isArray,p=y.isArrayOrTypedArray;G.exports=function(s,d){s===void 0&&(s=[]),d===void 0&&(d={});var A=o.get(),w=[],C={_context:y.extendFlat({},L)},b,S;v(s)?(C.data=y.extendDeep([],s),b=s):(C.data=[],b=[],w.push(c("array","data"))),M(d)?(C.layout=y.extendDeep({},d),S=d):(C.layout={},S={},arguments.length>1&&w.push(c("object","layout"))),P.supplyDefaults(C);for(var m=C._fullData,a=b.length,E=0;E<a;E++){var x=b[E],k=["data",E];if(!M(x)){w.push(c("object",k));continue}var I=m[E],N=I.type,F=A.traces[N].attributes;F.type={valType:"enumerated",values:[N]},I.visible===!1&&x.visible!==!1&&w.push(c("invisible",k)),r(x,I,F,w,k);var z=x.transforms,O=I.transforms;if(z){v(z)||w.push(c("array",k,["transforms"])),k.push("transforms");for(var _=0;_<z.length;_++){var B=["transforms",_],W=z[_].type;if(!M(z[_])){w.push(c("object",k,B));continue}var $=A.transforms[W]?A.transforms[W].attributes:{};$.type={valType:"enumerated",values:Object.keys(A.transforms)},r(z[_],O[_],$,w,k,B)}}}var te=C._fullLayout,ie=t(A,m);return r(S,te,ie,w,"layout"),w.length===0?void 0:w};function r(h,s,d,A,w,C){C=C||[];for(var b=Object.keys(h),S=0;S<b.length;S++){var m=b[S];if(m!=="transforms"){var a=C.slice();a.push(m);var E=h[m],x=s[m],k=l(d,m),I=(k||{}).valType,N=I==="info_array",F=I==="colorscale",z=(k||{}).items;if(!u(d,m))A.push(c("schema",w,a));else if(M(E)&&M(x)&&I!=="any")r(E,x,k,A,w,a);else if(N&&v(E)){E.length>x.length&&A.push(c("unused",w,a.concat(x.length)));var O=x.length,_=Array.isArray(z);_&&(O=Math.min(O,z.length));var B,W,$,te,ie;if(k.dimensions===2)for(W=0;W<O;W++)if(v(E[W])){E[W].length>x[W].length&&A.push(c("unused",w,a.concat(W,x[W].length)));var ue=x[W].length;for(B=0;B<(_?Math.min(ue,z[W].length):ue);B++)$=_?z[W][B]:z,te=E[W][B],ie=x[W][B],y.validate(te,$)?ie!==te&&ie!==+te&&A.push(c("dynamic",w,a.concat(W,B),te,ie)):A.push(c("value",w,a.concat(W,B),te))}else A.push(c("array",w,a.concat(W),E[W]));else for(W=0;W<O;W++)$=_?z[W]:z,te=E[W],ie=x[W],y.validate(te,$)?ie!==te&&ie!==+te&&A.push(c("dynamic",w,a.concat(W),te,ie)):A.push(c("value",w,a.concat(W),te))}else if(k.items&&!N&&v(E)){var J=z[Object.keys(z)[0]],Y=[],ae,j;for(ae=0;ae<x.length;ae++){var q=x[ae]._index||ae;if(j=a.slice(),j.push(q),M(E[q])&&M(x[ae])){Y.push(q);var oe=E[q],Q=x[ae];M(oe)&&oe.visible!==!1&&Q.visible===!1?A.push(c("invisible",w,j)):r(oe,Q,J,A,w,j)}}for(ae=0;ae<E.length;ae++)j=a.slice(),j.push(ae),M(E[ae])?Y.indexOf(ae)===-1&&A.push(c("unused",w,j)):A.push(c("object",w,j,E[ae]))}else!M(E)&&M(x)?A.push(c("object",w,a,E)):!p(E)&&p(x)&&!N&&!F?A.push(c("array",w,a,E)):m in s?y.validate(E,k)?k.valType==="enumerated"&&(k.coerceNumber&&E!==+x||E!==x)&&A.push(c("dynamic",w,a,E,x)):A.push(c("value",w,a,E)):A.push(c("unused",w,a,E))}}return A}function t(h,s){for(var d=h.layout.layoutAttributes,A=0;A<s.length;A++){var w=s[A],C=h.traces[w.type],b=C.layoutAttributes;b&&(w.subplot?y.extendFlat(d[C.attributes.subplot.dflt],b):y.extendFlat(d,b))}return d}var i={object:function(h,s){var d;return h==="layout"&&s===""?d="The layout argument":h[0]==="data"&&s===""?d="Trace "+h[1]+" in the data argument":d=n(h)+"key "+s,d+" must be linked to an object container"},array:function(h,s){var d;return h==="data"?d="The data argument":d=n(h)+"key "+s,d+" must be linked to an array container"},schema:function(h,s){return n(h)+"key "+s+" is not part of the schema"},unused:function(h,s,d){var A=M(d)?"container":"key";return n(h)+A+" "+s+" did not get coerced"},dynamic:function(h,s,d,A){return[n(h)+"key",s,"(set to '"+d+"')","got reset to","'"+A+"'","during defaults."].join(" ")},invisible:function(h,s){return(s?n(h)+"item "+s:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,s,d){return[n(h)+"key "+s,"is set to an invalid value ("+d+")"].join(" ")}};function n(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function c(h,s,d,A,w){d=d||"";var C,b;v(s)?(C=s[0],b=s[1]):(C=s,b=null);var S=T(d),m=i[h](s,S,A,w);return y.log(m),{code:h,container:C,trace:b,path:d,astr:S,msg:m}}function u(h,s){var d=f(s),A=d.keyMinusId,w=d.id;return A in h&&h[A]._isSubplotObj&&w?!0:s in h}function l(h,s){if(s in h)return h[s];var d=f(s);return h[d.keyMinusId]}var g=y.counterRegex("([a-z]+)");function f(h){var s=h.match(g);return{keyMinusId:s&&s[1],id:s&&s[2]}}function T(h){if(!v(h))return String(h);for(var s="",d=0;d<h.length;d++){var A=h[d];typeof A=="number"?s=s.substr(0,s.length-1)+"["+A+"]":s+=A,d<h.length-1&&(s+=".")}return s}},85594:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(G,V,e){var y=e(71828),P=e(44467);G.exports=function(L,M,v){var p=v.name,r=v.inclusionAttr||"visible",t=M[p],i=y.isArrayOrTypedArray(L[p])?L[p]:[],n=M[p]=[],c=P.arrayTemplater(M,p,r),u,l;for(u=0;u<i.length;u++){var g=i[u];y.isPlainObject(g)?l=c.newItem(g):(l=c.newItem({}),l[r]=!1),l._index=u,l[r]!==!1&&v.handleItemDefaults(g,l,M,v),n.push(l)}var f=c.defaultItems();for(u=0;u<f.length;u++)l=f[u],l._index=n.length,v.handleItemDefaults({},l,M,v,{}),n.push(l);if(y.isArrayOrTypedArray(t)){var T=Math.min(t.length,n.length);for(u=0;u<T;u++)y.relinkPrivateKeys(n[u],t[u])}return n}},9012:function(G,V,e){var y=e(41940),P=e(77914);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:y({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:P.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(G,V,e){var y=e(92770),P=e(71828),o=P.dateTime2ms,L=P.incrementMonth,M=e(50606),v=M.ONEAVGMONTH;G.exports=function(r,t,i,n){if(t.type!=="date")return{vals:n};var c=r[i+"periodalignment"];if(!c)return{vals:n};var u=r[i+"period"],l;if(y(u)){if(u=+u,u<=0)return{vals:n}}else if(typeof u=="string"&&u.charAt(0)==="M"){var g=+u.substring(1);if(g>0&&Math.round(g)===g)l=g;else return{vals:n}}for(var f=t.calendar,T=c==="start",h=c==="end",s=r[i+"period0"],d=o(s,f)||0,A=[],w=[],C=[],b=n.length,S=0;S<b;S++){var m=n[S],a,E,x;if(l){for(a=Math.round((m-d)/(l*v)),x=L(d,l*a,f);x>m;)x=L(x,-l,f);for(;x<=m;)x=L(x,l,f);E=L(x,-l,f)}else{for(a=Math.round((m-d)/u),x=d+a*u;x>m;)x-=u;for(;x<=m;)x+=u;E=x-u}A[S]=T?E:h?x:(E+x)/2,w[S]=E,C[S]=x}return{vals:A,starts:w,ends:C}}},89502:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(G,V,e){var y=e(39898),P=e(92770),o=e(71828),L=e(50606).FP_SAFE,M=e(73972),v=e(91424),p=e(41675),r=p.getFromId,t=p.isLinked;G.exports={applyAutorangeOptions:a,getAutoRange:i,makePadFn:c,doAutoRange:f,findExtremes:T,concatExtremes:g};function i(E,x){var k,I,N=[],F=E._fullLayout,z=c(F,x,0),O=c(F,x,1),_=g(E,x),B=_.min,W=_.max;if(B.length===0||W.length===0)return o.simpleMap(x.range,x.r2l);var $=B[0].val,te=W[0].val;for(k=1;k<B.length&&$===te;k++)$=Math.min($,B[k].val);for(k=1;k<W.length&&$===te;k++)te=Math.max(te,W[k].val);var ie=x.autorange,ue=ie==="reversed"||ie==="min reversed"||ie==="max reversed";if(!ue&&x.range){var J=o.simpleMap(x.range,x.r2l);ue=J[1]<J[0]}x.autorange==="reversed"&&(x.autorange=!0);var Y=x.rangemode,ae=Y==="tozero",j=Y==="nonnegative",q=x._length,oe=q/10,Q=0,X,se,ne,fe,ye,Se;for(k=0;k<B.length;k++)for(X=B[k],I=0;I<W.length;I++)se=W[I],Se=se.val-X.val-n(x,X.val,se.val),Se>0&&(ye=q-z(X)-O(se),ye>oe?Se/ye>Q&&(ne=X,fe=se,Q=Se/ye):Se/q>Q&&(ne={val:X.val,nopad:1},fe={val:se.val,nopad:1},Q=Se/q));function we(Ee,Be){return Math.max(Ee,O(Be))}if($===te){var _e=$-1,ke=$+1;if(ae)if($===0)N=[0,1];else{var Me=($>0?W:B).reduce(we,0),me=$/(1-Math.min(.5,Me/q));N=$>0?[0,me]:[me,0]}else j?N=[Math.max(0,_e),Math.max(1,ke)]:N=[_e,ke]}else ae?(ne.val>=0&&(ne={val:0,nopad:1}),fe.val<=0&&(fe={val:0,nopad:1})):j&&(ne.val-Q*z(ne)<0&&(ne={val:0,nopad:1}),fe.val<=0&&(fe={val:1,nopad:1})),Q=(fe.val-ne.val-n(x,X.val,se.val))/(q-z(ne)-O(fe)),N=[ne.val-Q*z(ne),fe.val+Q*O(fe)];return N=a(N,x),x.limitRange&&x.limitRange(),ue&&N.reverse(),o.simpleMap(N,x.l2r||Number)}function n(E,x,k){var I=0;if(E.rangebreaks)for(var N=E.locateBreaks(x,k),F=0;F<N.length;F++){var z=N[F];I+=z.max-z.min}return I}function c(E,x,k){var I=.05*x._length,N=x._anchorAxis||{};if((x.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var F=x.isReversed();if(!F){var z=o.simpleMap(x.range,x.r2l);F=z[1]<z[0]}F&&(k=!k)}var O=0;return t(E,x._id)||(O=l(E,x,k)),I=Math.max(O,I),x.constrain==="domain"&&x._inputDomain&&(I*=(x._inputDomain[1]-x._inputDomain[0])/(x.domain[1]-x.domain[0])),function(B){return B.nopad?0:B.pad+(B.extrapad?I:O)}}var u=3;function l(E,x,k){var I=0,N=x._id.charAt(0)==="x";for(var F in E._plots){var z=E._plots[F];if(!(x._id!==z.xaxis._id&&x._id!==z.yaxis._id)){var O=(N?z.yaxis:z.xaxis)||{};if((O.ticklabelposition||"").indexOf("inside")!==-1&&(!k&&(O.side==="left"||O.side==="bottom")||k&&(O.side==="top"||O.side==="right"))){if(O._vals){var _=o.deg2rad(O._tickAngles[O._id+"tick"]||0),B=Math.abs(Math.cos(_)),W=Math.abs(Math.sin(_));if(!O._vals[0].bb){var $=O._id+"tick",te=O._selections[$];te.each(function(j){var q=y.select(this),oe=q.select(".text-math-group");oe.empty()&&(j.bb=v.bBox(q.node()))})}for(var ie=0;ie<O._vals.length;ie++){var ue=O._vals[ie],J=ue.bb;if(J){var Y=2*u+J.width,ae=2*u+J.height;I=Math.max(I,N?Math.max(Y*B,ae*W):Math.max(ae*B,Y*W))}}}O.ticks==="inside"&&O.ticklabelposition==="inside"&&(I+=O.ticklen||0)}}}return I}function g(E,x,k){var I=x._id,N=E._fullData,F=E._fullLayout,z=[],O=[],_,B,W;function $(Y,ae){for(_=0;_<ae.length;_++){var j=Y[ae[_]],q=(j._extremes||{})[I];if(j.visible===!0&&q){for(B=0;B<q.min.length;B++)W=q.min[B],h(z,W.val,W.pad,{extrapad:W.extrapad});for(B=0;B<q.max.length;B++)W=q.max[B],s(O,W.val,W.pad,{extrapad:W.extrapad})}}}if($(N,x._traceIndices),$(F.annotations||[],x._annIndices||[]),$(F.shapes||[],x._shapeIndices||[]),x._matchGroup&&!k){for(var te in x._matchGroup)if(te!==x._id){var ie=r(E,te),ue=g(E,ie,!0),J=x._length/ie._length;for(B=0;B<ue.min.length;B++)W=ue.min[B],h(z,W.val,W.pad*J,{extrapad:W.extrapad});for(B=0;B<ue.max.length;B++)W=ue.max[B],s(O,W.val,W.pad*J,{extrapad:W.extrapad})}}return{min:z,max:O}}function f(E,x,k){if(x.setScale(),x.autorange){x.range=k?k.slice():i(E,x),x._r=x.range.slice(),x._rl=o.simpleMap(x._r,x.r2l);var I=x._input,N={};N[x._attr+".range"]=x.range,N[x._attr+".autorange"]=x.autorange,M.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,N),I.range=x.range.slice(),I.autorange=x.autorange}var F=x._anchorAxis;if(F&&F.rangeslider){var z=F.rangeslider[x._name];z&&z.rangemode==="auto"&&(z.range=i(E,x)),F._input.rangeslider[x._name]=o.extendFlat({},z)}}function T(E,x,k){k||(k={}),E._m||E.setScale();var I=[],N=[],F=x.length,z=k.padded||!1,O=k.tozero&&(E.type==="linear"||E.type==="-"),_=E.type==="log",B=!1,W=k.vpadLinearized||!1,$,te,ie,ue,J,Y,ae,j,q;function oe(we){if(Array.isArray(we))return B=!0,function(ke){return Math.max(Number(we[ke]||0),0)};var _e=Math.max(Number(we||0),0);return function(){return _e}}var Q=oe((E._m>0?k.ppadplus:k.ppadminus)||k.ppad||0),X=oe((E._m>0?k.ppadminus:k.ppadplus)||k.ppad||0),se=oe(k.vpadplus||k.vpad),ne=oe(k.vpadminus||k.vpad);if(!B){if(j=1/0,q=-1/0,_)for($=0;$<F;$++)te=x[$],te<j&&te>0&&(j=te),te>q&&te<L&&(q=te);else for($=0;$<F;$++)te=x[$],te<j&&te>-L&&(j=te),te>q&&te<L&&(q=te);x=[j,q],F=2}var fe={tozero:O,extrapad:z};function ye(we){ie=x[we],P(ie)&&(Y=Q(we),ae=X(we),W?(ue=E.c2l(ie)-ne(we),J=E.c2l(ie)+se(we)):(j=ie-ne(we),q=ie+se(we),_&&j<q/10&&(j=q/10),ue=E.c2l(j),J=E.c2l(q)),O&&(ue=Math.min(0,ue),J=Math.max(0,J)),A(ue)&&h(I,ue,ae,fe),A(J)&&s(N,J,Y,fe))}var Se=Math.min(6,F);for($=0;$<Se;$++)ye($);for($=F-1;$>=Se;$--)ye($);return{min:I,max:N,opts:k}}function h(E,x,k,I){d(E,x,k,I,w)}function s(E,x,k,I){d(E,x,k,I,C)}function d(E,x,k,I,N){for(var F=I.tozero,z=I.extrapad,O=!0,_=0;_<E.length&&O;_++){var B=E[_];if(N(B.val,x)&&B.pad>=k&&(B.extrapad||!z)){O=!1;break}else N(x,B.val)&&B.pad<=k&&(z||!B.extrapad)&&(E.splice(_,1),_--)}if(O){var W=F&&x===0;E.push({val:x,pad:W?0:k,extrapad:W?!1:z})}}function A(E){return P(E)&&Math.abs(E)<L}function w(E,x){return E<=x}function C(E,x){return E>=x}function b(E,x){var k=x.autorangeoptions;return k&&k.minallowed!==void 0&&m(x,k.minallowed,k.maxallowed)?k.minallowed:k&&k.clipmin!==void 0&&m(x,k.clipmin,k.clipmax)?Math.max(E,x.d2l(k.clipmin)):E}function S(E,x){var k=x.autorangeoptions;return k&&k.maxallowed!==void 0&&m(x,k.minallowed,k.maxallowed)?k.maxallowed:k&&k.clipmax!==void 0&&m(x,k.clipmin,k.clipmax)?Math.min(E,x.d2l(k.clipmax)):E}function m(E,x,k){return x!==void 0&&k!==void 0?(x=E.d2l(x),k=E.d2l(k),x<k):!0}function a(E,x){if(!x||!x.autorangeoptions)return E;var k=E[0],I=E[1],N=x.autorangeoptions.include;if(N!==void 0){var F=x.d2l(k),z=x.d2l(I);o.isArrayOrTypedArray(N)||(N=[N]);for(var O=0;O<N.length;O++){var _=x.d2l(N[O]);F>=_&&(F=_,k=_),z<=_&&(z=_,I=_)}}return k=b(k,x),I=S(I,x),[k,I]}},23074:function(G){G.exports=function(e,y,P){var o,L;if(P){var M=y==="reversed"||y==="min reversed"||y==="max reversed";o=P[M?1:0],L=P[M?0:1]}var v=e("autorangeoptions.minallowed",L===null?o:void 0),p=e("autorangeoptions.maxallowed",o===null?L:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(G,V,e){var y=e(39898),P=e(92770),o=e(74875),L=e(73972),M=e(71828),v=M.strTranslate,p=e(63893),r=e(92998),t=e(7901),i=e(91424),n=e(13838),c=e(66287),u=e(50606),l=u.ONEMAXYEAR,g=u.ONEAVGYEAR,f=u.ONEMINYEAR,T=u.ONEMAXQUARTER,h=u.ONEAVGQUARTER,s=u.ONEMINQUARTER,d=u.ONEMAXMONTH,A=u.ONEAVGMONTH,w=u.ONEMINMONTH,C=u.ONEWEEK,b=u.ONEDAY,S=b/2,m=u.ONEHOUR,a=u.ONEMIN,E=u.ONESEC,x=u.MINUS_SIGN,k=u.BADNUM,I={K:"zeroline"},N={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},z={K:"tick",L:"path"},O={K:"tick",L:"text"},_={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},B=e(18783),W=B.MID_SHIFT,$=B.CAP_SHIFT,te=B.LINE_SPACING,ie=B.OPPOSITE_SIDE,ue=3,J=G.exports={};J.setConvert=e(21994);var Y=e(4322),ae=e(41675),j=ae.idSort,q=ae.isLinked;J.id2name=ae.id2name,J.name2id=ae.name2id,J.cleanId=ae.cleanId,J.list=ae.list,J.listIds=ae.listIds,J.getFromId=ae.getFromId,J.getFromTrace=ae.getFromTrace;var oe=e(71739);J.getAutoRange=oe.getAutoRange,J.findExtremes=oe.findExtremes;var Q=1e-4;function X(We){var Ge=(We[1]-We[0])*Q;return[We[0]-Ge,We[1]+Ge]}J.coerceRef=function(We,Ge,kt,It,Zt,rr){var ur=It.charAt(It.length-1),er=kt._fullLayout._subplots[ur+"axis"],zt=It+"ref",vr={};return Zt||(Zt=er[0]||(typeof rr=="string"?rr:rr[0])),rr||(rr=Zt),er=er.concat(er.map(function(yr){return yr+" domain"})),vr[zt]={valType:"enumerated",values:er.concat(rr?typeof rr=="string"?[rr]:rr:[]),dflt:Zt},M.coerce(We,Ge,vr,zt)},J.getRefType=function(We){return We===void 0?We:We==="paper"?"paper":We==="pixel"?"pixel":/( domain)$/.test(We)?"domain":"range"},J.coercePosition=function(We,Ge,kt,It,Zt,rr){var ur,er,zt=J.getRefType(It);if(zt!=="range")ur=M.ensureNumber,er=kt(Zt,rr);else{var vr=J.getFromId(Ge,It);rr=vr.fraction2r(rr),er=kt(Zt,rr),ur=vr.cleanPos}We[Zt]=ur(er)},J.cleanPosition=function(We,Ge,kt){var It=kt==="paper"||kt==="pixel"?M.ensureNumber:J.getFromId(Ge,kt).cleanPos;return It(We)},J.redrawComponents=function(We,Ge){Ge=Ge||J.listIds(We);var kt=We._fullLayout;function It(Zt,rr,ur,er){for(var zt=L.getComponentMethod(Zt,rr),vr={},yr=0;yr<Ge.length;yr++)for(var pr=kt[J.id2name(Ge[yr])],cr=pr[ur],Ur=0;Ur<cr.length;Ur++){var kr=cr[Ur];if(!vr[kr]&&(zt(We,kr),vr[kr]=1,er))return}}It("annotations","drawOne","_annIndices"),It("shapes","drawOne","_shapeIndices"),It("images","draw","_imgIndices",!0),It("selections","drawOne","_selectionIndices")};var se=J.getDataConversions=function(We,Ge,kt,It){var Zt,rr=kt==="x"||kt==="y"||kt==="z"?kt:It;if(M.isArrayOrTypedArray(rr)){if(Zt={type:Y(It,void 0,{autotypenumbers:We._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(Zt),Zt.type==="category")for(var ur=0;ur<It.length;ur++)Zt.d2c(It[ur])}else Zt=J.getFromTrace(We,Ge,rr);return Zt?{d2c:Zt.d2c,c2d:Zt.c2d}:rr==="ids"?{d2c:fe,c2d:fe}:{d2c:ne,c2d:ne}};function ne(We){return+We}function fe(We){return String(We)}J.getDataToCoordFunc=function(We,Ge,kt,It){return se(We,Ge,kt,It).d2c},J.counterLetter=function(We){var Ge=We.charAt(0);if(Ge==="x")return"y";if(Ge==="y")return"x"},J.minDtick=function(We,Ge,kt,It){["log","category","multicategory"].indexOf(We.type)!==-1||!It?We._minDtick=0:We._minDtick===void 0?(We._minDtick=Ge,We._forceTick0=kt):We._minDtick&&((We._minDtick/Ge+1e-6)%1<2e-6&&((kt-We._forceTick0)/Ge%1+1.000001)%1<2e-6?(We._minDtick=Ge,We._forceTick0=kt):((Ge/We._minDtick+1e-6)%1>2e-6||((kt-We._forceTick0)/We._minDtick%1+1.000001)%1>2e-6)&&(We._minDtick=0))},J.saveRangeInitial=function(We,Ge){for(var kt=J.list(We,"",!0),It=!1,Zt=0;Zt<kt.length;Zt++){var rr=kt[Zt],ur=rr._rangeInitial0===void 0&&rr._rangeInitial1===void 0,er=ur||rr.range[0]!==rr._rangeInitial0||rr.range[1]!==rr._rangeInitial1,zt=rr.autorange;(ur&&zt!==!0||Ge&&er)&&(rr._rangeInitial0=zt==="min"||zt==="max reversed"?void 0:rr.range[0],rr._rangeInitial1=zt==="max"||zt==="min reversed"?void 0:rr.range[1],rr._autorangeInitial=zt,It=!0)}return It},J.saveShowSpikeInitial=function(We,Ge){for(var kt=J.list(We,"",!0),It=!1,Zt="on",rr=0;rr<kt.length;rr++){var ur=kt[rr],er=ur._showSpikeInitial===void 0,zt=er||ur.showspikes!==ur._showspikes;(er||Ge&&zt)&&(ur._showSpikeInitial=ur.showspikes,It=!0),Zt==="on"&&!ur.showspikes&&(Zt="off")}return We._fullLayout._cartesianSpikesEnabled=Zt,It},J.autoBin=function(We,Ge,kt,It,Zt,rr){var ur=M.aggNums(Math.min,null,We),er=M.aggNums(Math.max,null,We);if(Ge.type==="category"||Ge.type==="multicategory")return{start:ur-.5,end:er+.5,size:Math.max(1,Math.round(rr)||1),_dataSpan:er-ur};Zt||(Zt=Ge.calendar);var zt;if(Ge.type==="log"?zt={type:"linear",range:[ur,er]}:zt={type:Ge.type,range:M.simpleMap([ur,er],Ge.c2r,0,Zt),calendar:Zt},J.setConvert(zt),rr=rr&&c.dtick(rr,zt.type),rr)zt.dtick=rr,zt.tick0=c.tick0(void 0,zt.type,Zt);else{var vr;if(kt)vr=(er-ur)/kt;else{var yr=M.distinctVals(We),pr=Math.pow(10,Math.floor(Math.log(yr.minDiff)/Math.LN10)),cr=pr*M.roundUp(yr.minDiff/pr,[.9,1.9,4.9,9.9],!0);vr=Math.max(cr,2*M.stdev(We)/Math.pow(We.length,It?.25:.4)),P(vr)||(vr=1)}J.autoTicks(zt,vr)}var Ur=zt.dtick,kr=J.tickIncrement(J.tickFirst(zt),Ur,"reverse",Zt),Rr,vn;if(typeof Ur=="number")kr=ye(kr,We,zt,ur,er),vn=1+Math.floor((er-kr)/Ur),Rr=kr+vn*Ur;else for(zt.dtick.charAt(0)==="M"&&(kr=Se(kr,We,Ur,ur,Zt)),Rr=kr,vn=0;Rr<=er;)Rr=J.tickIncrement(Rr,Ur,!1,Zt),vn++;return{start:Ge.c2r(kr,0,Zt),end:Ge.c2r(Rr,0,Zt),size:Ur,_dataSpan:er-ur}};function ye(We,Ge,kt,It,Zt){var rr=0,ur=0,er=0,zt=0;function vr(Ur){return(1+(Ur-We)*100/kt.dtick)%100<2}for(var yr=0;yr<Ge.length;yr++)Ge[yr]%1===0?er++:P(Ge[yr])||zt++,vr(Ge[yr])&&rr++,vr(Ge[yr]+kt.dtick/2)&&ur++;var pr=Ge.length-zt;if(er===pr&&kt.type!=="date")kt.dtick<1?We=It-.5*kt.dtick:(We-=.5,We+kt.dtick<It&&(We+=kt.dtick));else if(ur<pr*.1&&(rr>pr*.3||vr(It)||vr(Zt))){var cr=kt.dtick/2;We+=We+cr<It?cr:-cr}return We}function Se(We,Ge,kt,It,Zt){var rr=M.findExactDates(Ge,Zt),ur=.8;if(rr.exactDays>ur){var er=Number(kt.substr(1));rr.exactYears>ur&&er%12===0?We=J.tickIncrement(We,"M6","reverse")+b*1.5:rr.exactMonths>ur?We=J.tickIncrement(We,"M1","reverse")+b*15.5:We-=S;var zt=J.tickIncrement(We,kt);if(zt<=It)return zt}return We}J.prepMinorTicks=function(We,Ge,kt){if(!Ge.minor.dtick){delete We.dtick;var It=Ge.dtick&&P(Ge._tmin),Zt;if(It){var rr=J.tickIncrement(Ge._tmin,Ge.dtick,!0);Zt=[Ge._tmin,rr*.99+Ge._tmin*.01]}else{var ur=M.simpleMap(Ge.range,Ge.r2l);Zt=[ur[0],.8*ur[0]+.2*ur[1]]}if(We.range=M.simpleMap(Zt,Ge.l2r),We._isMinor=!0,J.prepTicks(We,kt),It){var er=P(Ge.dtick),zt=P(We.dtick),vr=er?Ge.dtick:+Ge.dtick.substring(1),yr=zt?We.dtick:+We.dtick.substring(1);er&&zt?we(vr,yr)?vr===2*C&&yr===2*b&&(We.dtick=C):vr===2*C&&yr===3*b?We.dtick=C:vr===C&&!(Ge._input.minor||{}).nticks?We.dtick=b:_e(vr/yr,2.5)?We.dtick=vr/2:We.dtick=vr:String(Ge.dtick).charAt(0)==="M"?zt?We.dtick="M1":we(vr,yr)?vr>=12&&yr===2&&(We.dtick="M3"):We.dtick=Ge.dtick:String(We.dtick).charAt(0)==="L"?String(Ge.dtick).charAt(0)==="L"?we(vr,yr)||(We.dtick=_e(vr/yr,2.5)?Ge.dtick/2:Ge.dtick):We.dtick="D1":We.dtick==="D2"&&+Ge.dtick>1&&(We.dtick=1)}We.range=Ge.range}Ge.minor._tick0Init===void 0&&(We.tick0=Ge.tick0)};function we(We,Ge){return Math.abs((We/Ge+.5)%1-.5)<.001}function _e(We,Ge){return Math.abs(We/Ge-1)<.001}J.prepTicks=function(We,Ge){var kt=M.simpleMap(We.range,We.r2l,void 0,void 0,Ge);if(We.tickmode==="auto"||!We.dtick){var It=We.nticks,Zt;It||(We.type==="category"||We.type==="multicategory"?(Zt=We.tickfont?M.bigFont(We.tickfont.size||12):15,It=We._length/Zt):(Zt=We._id.charAt(0)==="y"?40:80,It=M.constrain(We._length/Zt,4,9)+1),We._name==="radialaxis"&&(It*=2)),We.minor&&We.minor.tickmode!=="array"||We.tickmode==="array"&&(It*=100),We._roughDTick=Math.abs(kt[1]-kt[0])/It,J.autoTicks(We,We._roughDTick),We._minDtick>0&&We.dtick<We._minDtick*2&&(We.dtick=We._minDtick,We.tick0=We.l2r(We._forceTick0))}We.ticklabelmode==="period"&&Me(We),We.tick0||(We.tick0=We.type==="date"?"2000-01-01":0),We.type==="date"&&We.dtick<.1&&(We.dtick=.1),gt(We)};function ke(We){return+We.substring(1)}function Me(We){var Ge;function kt(){return!(P(We.dtick)||We.dtick.charAt(0)!=="M")}var It=kt(),Zt=J.getTickFormat(We);if(Zt){var rr=We._dtickInit!==We.dtick;/%[fLQsSMX]/.test(Zt)||(/%[HI]/.test(Zt)?(Ge=m,rr&&!It&&We.dtick<m&&(We.dtick=m)):/%p/.test(Zt)?(Ge=S,rr&&!It&&We.dtick<S&&(We.dtick=S)):/%[Aadejuwx]/.test(Zt)?(Ge=b,rr&&!It&&We.dtick<b&&(We.dtick=b)):/%[UVW]/.test(Zt)?(Ge=C,rr&&!It&&We.dtick<C&&(We.dtick=C)):/%[Bbm]/.test(Zt)?(Ge=A,rr&&(It?ke(We.dtick)<1:We.dtick<w)&&(We.dtick="M1")):/%[q]/.test(Zt)?(Ge=h,rr&&(It?ke(We.dtick)<3:We.dtick<s)&&(We.dtick="M3")):/%[Yy]/.test(Zt)&&(Ge=g,rr&&(It?ke(We.dtick)<12:We.dtick<f)&&(We.dtick="M12")))}It=kt(),It&&We.tick0===We._dowTick0&&(We.tick0=We._rawTick0),We._definedDelta=Ge}function me(We,Ge,kt){for(var It=0;It<We.length;It++){var Zt=We[It].value,rr=It,ur=It+1;It<We.length-1?(rr=It,ur=It+1):It>0?(rr=It-1,ur=It):(rr=It,ur=It);var er=We[rr].value,zt=We[ur].value,vr=Math.abs(zt-er),yr=kt||vr,pr=0;yr>=f?vr>=f&&vr<=l?pr=vr:pr=g:kt===h&&yr>=s?vr>=s&&vr<=T?pr=vr:pr=h:yr>=w?vr>=w&&vr<=d?pr=vr:pr=A:kt===C&&yr>=C?pr=C:yr>=b?pr=b:kt===S&&yr>=S?pr=S:kt===m&&yr>=m&&(pr=m);var cr;pr>=vr&&(pr=vr,cr=!0);var Ur=Zt+pr;if(Ge.rangebreaks&&pr>0){for(var kr=84,Rr=0,vn=0;vn<kr;vn++){var tn=(vn+.5)/kr;Ge.maskBreaks(Zt*(1-tn)+tn*Ur)!==k&&Rr++}pr*=Rr/kr,pr||(We[It].drop=!0),cr&&vr>C&&(pr=vr)}(pr>0||It===0)&&(We[It].periodX=Zt+pr/2)}}J.calcTicks=function(Ge,kt){for(var It=Ge.type,Zt=Ge.calendar,rr=Ge.ticklabelstep,ur=Ge.ticklabelmode==="period",er=M.simpleMap(Ge.range,Ge.r2l,void 0,void 0,kt),zt=er[1]<er[0],vr=Math.min(er[0],er[1]),yr=Math.max(er[0],er[1]),pr=Math.max(1e3,Ge._length||0),cr=[],Ur=[],kr=[],Rr=[],vn=Ge.minor&&(Ge.minor.ticks||Ge.minor.showgrid),tn=1;tn>=(vn?0:1);tn--){var Bn=!tn;tn?(Ge._dtickInit=Ge.dtick,Ge._tick0Init=Ge.tick0):(Ge.minor._dtickInit=Ge.minor.dtick,Ge.minor._tick0Init=Ge.minor.tick0);var xn=tn?Ge:M.extendFlat({},Ge,Ge.minor);if(Bn?J.prepMinorTicks(xn,Ge,kt):J.prepTicks(xn,kt),xn.tickmode==="array"){tn?(kr=[],cr=Ue(Ge,!Bn)):(Rr=[],Ur=Ue(Ge,!Bn));continue}if(xn.tickmode==="sync"){kr=[],cr=Be(Ge);continue}var Mr=X(er),Er=Mr[0],Wr=Mr[1],Hr=P(xn.dtick),an=It==="log"&&!(Hr||xn.dtick.charAt(0)==="L"),dn=J.tickFirst(xn,kt);if(tn){if(Ge._tmin=dn,dn<Er!==zt)break;(It==="category"||It==="multicategory")&&(Wr=zt?Math.max(-.5,Wr):Math.min(Ge._categories.length-.5,Wr))}var gn=null,Cn=dn,_n;if(tn){var sa;Hr?sa=Ge.dtick:It==="date"?typeof Ge.dtick=="string"&&Ge.dtick.charAt(0)==="M"&&(sa=A*Ge.dtick.substring(1)):sa=Ge._roughDTick,_n=Math.round((Ge.r2l(Cn)-Ge.r2l(Ge.tick0))/sa)-1}var Qn=xn.dtick;for(xn.rangebreaks&&xn._tick0Init!==xn.tick0&&(Cn=Nt(Cn,Ge),zt||(Cn=J.tickIncrement(Cn,Qn,!zt,Zt))),tn&&ur&&(Cn=J.tickIncrement(Cn,Qn,!zt,Zt),_n--);zt?Cn>=Wr:Cn<=Wr;Cn=J.tickIncrement(Cn,Qn,zt,Zt)){if(tn&&_n++,xn.rangebreaks&&!zt){if(Cn<Er)continue;if(xn.maskBreaks(Cn)===k&&Nt(Cn,xn)>=yr)break}if(kr.length>pr||Cn===gn)break;gn=Cn;var ea={value:Cn};tn?(an&&Cn!==(Cn|0)&&(ea.simpleLabel=!0),rr>1&&_n%rr&&(ea.skipLabel=!0),kr.push(ea)):(ea.minor=!0,Rr.push(ea))}}if(vn){var Zn=Ge.minor.ticks==="inside"&&Ge.ticks==="outside"||Ge.minor.ticks==="outside"&&Ge.ticks==="inside";if(!Zn){for(var $n=kr.map(function(yn){return yn.value}),Tr=[],on=0;on<Rr.length;on++){var rn=Rr[on],pn=rn.value;if($n.indexOf(pn)===-1){for(var Wn=!1,An=0;!Wn&&An<kr.length;An++)1e7+kr[An].value===1e7+pn&&(Wn=!0);Wn||Tr.push(rn)}}Rr=Tr}}ur&&me(kr,Ge,Ge._definedDelta);var Sn;if(Ge.rangebreaks){var Hn=Ge._id.charAt(0)==="y",ta=1;Ge.tickmode==="auto"&&(ta=Ge.tickfont?Ge.tickfont.size:12);var wa=NaN;for(Sn=kr.length-1;Sn>-1;Sn--){if(kr[Sn].drop){kr.splice(Sn,1);continue}kr[Sn].value=Nt(kr[Sn].value,Ge);var Ga=Ge.c2p(kr[Sn].value);(Hn?wa>Ga-ta:wa<Ga+ta)?kr.splice(zt?Sn+1:Sn,1):wa=Ga}}Bt(Ge)&&Math.abs(er[1]-er[0])===360&&kr.pop(),Ge._tmax=(kr[kr.length-1]||{}).value,Ge._prevDateHead="",Ge._inCalcTicks=!0;var Sr,Nr=function(yn){yn.text="",Ge._prevDateHead=Sr};kr=kr.concat(Rr);var br,_r;for(Sn=0;Sn<kr.length;Sn++){var wn=kr[Sn].minor,Rn=kr[Sn].value;wn?Ur.push({x:Rn,minor:!0}):(Sr=Ge._prevDateHead,br=J.tickText(Ge,Rn,!1,kr[Sn].simpleLabel),_r=kr[Sn].periodX,_r!==void 0&&(br.periodX=_r,(_r>yr||_r<vr)&&(_r>yr&&(br.periodX=yr),_r<vr&&(br.periodX=vr),Nr(br))),kr[Sn].skipLabel&&Nr(br),cr.push(br))}return cr=cr.concat(Ur),Ge._inCalcTicks=!1,ur&&cr.length&&(cr[0].noTick=!0),cr};function Ee(We,Ge){return We.rangebreaks&&(Ge=Ge.filter(function(kt){return We.maskBreaks(kt.x)!==k})),Ge}function Be(We){var Ge=We._mainAxis,kt=[];if(Ge._vals){for(var It=0;It<Ge._vals.length;It++)if(!Ge._vals[It].noTick){var Zt=Ge.l2p(Ge._vals[It].x),rr=We.p2l(Zt),ur=J.tickText(We,rr);Ge._vals[It].minor&&(ur.minor=!0,ur.text=""),kt.push(ur)}}return kt=Ee(We,kt),kt}function Ue(We,Ge){var kt=M.simpleMap(We.range,We.r2l),It=X(kt),Zt=Math.min(It[0],It[1]),rr=Math.max(It[0],It[1]),ur=We.type==="category"?We.d2l_noadd:We.d2l;We.type==="log"&&String(We.dtick).charAt(0)!=="L"&&(We.dtick="L"+Math.pow(10,Math.floor(Math.min(We.range[0],We.range[1]))-1));for(var er=[],zt=0;zt<=1;zt++)if(!(Ge!==void 0&&(Ge&&zt||Ge===!1&&!zt))&&!(zt&&!We.minor)){var vr=zt?We.minor.tickvals:We.tickvals,yr=zt?[]:We.ticktext;if(vr){M.isArrayOrTypedArray(yr)||(yr=[]);for(var pr=0;pr<vr.length;pr++){var cr=ur(vr[pr]);if(cr>Zt&&cr<rr){var Ur=yr[pr]===void 0?J.tickText(We,cr):At(We,cr,String(yr[pr]));zt&&(Ur.minor=!0,Ur.text=""),er.push(Ur)}}}}return er=Ee(We,er),er}var De=[2,5,10],He=[1,2,3,6,12],nt=[1,2,5,10,15,30],lt=[1,2,3,7,14],$e=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],qe=[-.301,0,.301,.699,1],ct=[15,30,45,90,180];function dt(We,Ge,kt){return Ge*M.roundUp(We/Ge,kt)}J.autoTicks=function(We,Ge,kt){var It;function Zt(pr){return Math.pow(pr,Math.floor(Math.log(Ge)/Math.LN10))}if(We.type==="date"){We.tick0=M.dateTick0(We.calendar,0);var rr=2*Ge;if(rr>g)Ge/=g,It=Zt(10),We.dtick="M"+12*dt(Ge,It,De);else if(rr>A)Ge/=A,We.dtick="M"+dt(Ge,1,He);else if(rr>b){if(We.dtick=dt(Ge,b,We._hasDayOfWeekBreaks?[1,2,7,14]:lt),!kt){var ur=J.getTickFormat(We),er=We.ticklabelmode==="period";er&&(We._rawTick0=We.tick0),/%[uVW]/.test(ur)?We.tick0=M.dateTick0(We.calendar,2):We.tick0=M.dateTick0(We.calendar,1),er&&(We._dowTick0=We.tick0)}}else rr>m?We.dtick=dt(Ge,m,He):rr>a?We.dtick=dt(Ge,a,nt):rr>E?We.dtick=dt(Ge,E,nt):(It=Zt(10),We.dtick=dt(Ge,It,De))}else if(We.type==="log"){We.tick0=0;var zt=M.simpleMap(We.range,We.r2l);if(We._isMinor&&(Ge*=1.5),Ge>.7)We.dtick=Math.ceil(Ge);else if(Math.abs(zt[1]-zt[0])<1){var vr=1.5*Math.abs((zt[1]-zt[0])/Ge);Ge=Math.abs(Math.pow(10,zt[1])-Math.pow(10,zt[0]))/vr,It=Zt(10),We.dtick="L"+dt(Ge,It,De)}else We.dtick=Ge>.3?"D2":"D1"}else We.type==="category"||We.type==="multicategory"?(We.tick0=0,We.dtick=Math.ceil(Math.max(Ge,1))):Bt(We)?(We.tick0=0,It=1,We.dtick=dt(Ge,It,ct)):(We.tick0=0,It=Zt(10),We.dtick=dt(Ge,It,De));if(We.dtick===0&&(We.dtick=1),!P(We.dtick)&&typeof We.dtick!="string"){var yr=We.dtick;throw We.dtick=1,"ax.dtick error: "+String(yr)}};function gt(We){var Ge=We.dtick;if(We._tickexponent=0,!P(Ge)&&typeof Ge!="string"&&(Ge=1),(We.type==="category"||We.type==="multicategory")&&(We._tickround=null),We.type==="date"){var kt=We.r2l(We.tick0),It=We.l2r(kt).replace(/(^-|i)/g,""),Zt=It.length;if(String(Ge).charAt(0)==="M")Zt>10||It.substr(5)!=="01-01"?We._tickround="d":We._tickround=+Ge.substr(1)%12===0?"y":"m";else if(Ge>=b&&Zt<=10||Ge>=b*15)We._tickround="d";else if(Ge>=a&&Zt<=16||Ge>=m)We._tickround="M";else if(Ge>=E&&Zt<=19||Ge>=a)We._tickround="S";else{var rr=We.l2r(kt+Ge).replace(/^-/,"").length;We._tickround=Math.max(Zt,rr)-20,We._tickround<0&&(We._tickround=4)}}else if(P(Ge)||Ge.charAt(0)==="L"){var ur=We.range.map(We.r2d||Number);P(Ge)||(Ge=Number(Ge.substr(1))),We._tickround=2-Math.floor(Math.log(Ge)/Math.LN10+.01);var er=Math.max(Math.abs(ur[0]),Math.abs(ur[1])),zt=Math.floor(Math.log(er)/Math.LN10+.01),vr=We.minexponent===void 0?3:We.minexponent;Math.abs(zt)>vr&&(pe(We.exponentformat)&&!Ae(zt)?We._tickexponent=3*Math.round((zt-1)/3):We._tickexponent=zt)}else We._tickround=null}J.tickIncrement=function(We,Ge,kt,It){var Zt=kt?-1:1;if(P(Ge))return M.increment(We,Zt*Ge);var rr=Ge.charAt(0),ur=Zt*Number(Ge.substr(1));if(rr==="M")return M.incrementMonth(We,ur,It);if(rr==="L")return Math.log(Math.pow(10,We)+ur)/Math.LN10;if(rr==="D"){var er=Ge==="D2"?qe:$e,zt=We+Zt*.01,vr=M.roundUp(M.mod(zt,1),er,kt);return Math.floor(zt)+Math.log(y.round(Math.pow(10,vr),1))/Math.LN10}throw"unrecognized dtick "+String(Ge)},J.tickFirst=function(We,Ge){var kt=We.r2l||Number,It=M.simpleMap(We.range,kt,void 0,void 0,Ge),Zt=It[1]<It[0],rr=Zt?Math.floor:Math.ceil,ur=X(It)[0],er=We.dtick,zt=kt(We.tick0);if(P(er)){var vr=rr((ur-zt)/er)*er+zt;return(We.type==="category"||We.type==="multicategory")&&(vr=M.constrain(vr,0,We._categories.length-1)),vr}var yr=er.charAt(0),pr=Number(er.substr(1));if(yr==="M"){for(var cr=0,Ur=zt,kr,Rr,vn;cr<10;){if(kr=J.tickIncrement(Ur,er,Zt,We.calendar),(kr-ur)*(Ur-ur)<=0)return Zt?Math.min(Ur,kr):Math.max(Ur,kr);Rr=(ur-(Ur+kr)/2)/(kr-Ur),vn=yr+(Math.abs(Math.round(Rr))||1)*pr,Ur=J.tickIncrement(Ur,vn,Rr<0?!Zt:Zt,We.calendar),cr++}return M.error("tickFirst did not converge",We),Ur}else{if(yr==="L")return Math.log(rr((Math.pow(10,ur)-zt)/pr)*pr+zt)/Math.LN10;if(yr==="D"){var tn=er==="D2"?qe:$e,Bn=M.roundUp(M.mod(ur,1),tn,Zt);return Math.floor(ur)+Math.log(y.round(Math.pow(10,Bn),1))/Math.LN10}else throw"unrecognized dtick "+String(er)}},J.tickText=function(We,Ge,kt,It){var Zt=At(We,Ge),rr=We.tickmode==="array",ur=kt||rr,er=We.type,zt=er==="category"?We.d2l_noadd:We.d2l,vr;if(rr&&M.isArrayOrTypedArray(We.ticktext)){var yr=M.simpleMap(We.range,We.r2l),pr=(Math.abs(yr[1]-yr[0])-(We._lBreaks||0))/1e4;for(vr=0;vr<We.ticktext.length&&!(Math.abs(Ge-zt(We.tickvals[vr]))<pr);vr++);if(vr<We.ticktext.length)return Zt.text=String(We.ticktext[vr]),Zt}function cr(vn){if(vn===void 0)return!0;if(kt)return vn==="none";var tn={first:We._tmin,last:We._tmax}[vn];return vn!=="all"&&Ge!==tn}var Ur=kt?"never":We.exponentformat!=="none"&&cr(We.showexponent)?"hide":"";if(er==="date"?Rt(We,Zt,kt,ur):er==="log"?Vt(We,Zt,kt,ur,Ur):er==="category"?Je(We,Zt):er==="multicategory"?Ve(We,Zt,kt):Bt(We)?Oe(We,Zt,kt,ur,Ur):Ie(We,Zt,kt,ur,Ur),It||(We.tickprefix&&!cr(We.showtickprefix)&&(Zt.text=We.tickprefix+Zt.text),We.ticksuffix&&!cr(We.showticksuffix)&&(Zt.text+=We.ticksuffix)),We.labelalias&&We.labelalias.hasOwnProperty(Zt.text)){var kr=We.labelalias[Zt.text];typeof kr=="string"&&(Zt.text=kr)}if(We.tickson==="boundaries"||We.showdividers){var Rr=function(vn){var tn=We.l2p(vn);return tn>=0&&tn<=We._length?vn:null};Zt.xbnd=[Rr(Zt.x-.5),Rr(Zt.x+We.dtick-.5)]}return Zt},J.hoverLabelText=function(We,Ge,kt){kt&&(We=M.extendFlat({},We,{hoverformat:kt}));var It=M.isArrayOrTypedArray(Ge)?Ge[0]:Ge,Zt=M.isArrayOrTypedArray(Ge)?Ge[1]:void 0;if(Zt!==void 0&&Zt!==It)return J.hoverLabelText(We,It,kt)+" - "+J.hoverLabelText(We,Zt,kt);var rr=We.type==="log"&&It<=0,ur=J.tickText(We,We.c2l(rr?-It:It),"hover").text;return rr?It===0?"0":x+ur:ur};function At(We,Ge,kt){var It=We.tickfont||{};return{x:Ge,dx:0,dy:0,text:kt||"",fontSize:It.size,font:It.family,fontColor:It.color}}function Rt(We,Ge,kt,It){var Zt=We._tickround,rr=kt&&We.hoverformat||J.getTickFormat(We);It=!rr&&It,It&&(P(Zt)?Zt=4:Zt={y:"m",m:"d",d:"M",M:"S",S:4}[Zt]);var ur=M.formatDate(Ge.x,rr,Zt,We._dateFormat,We.calendar,We._extraFormat),er,zt=ur.indexOf(`
`);if(zt!==-1&&(er=ur.substr(zt+1),ur=ur.substr(0,zt)),It&&(er!==void 0&&(ur==="00:00:00"||ur==="00:00")?(ur=er,er=""):ur.length===8&&(ur=ur.replace(/:00$/,""))),er)if(kt)Zt==="d"?ur+=", "+er:ur=er+(ur?", "+ur:"");else if(!We._inCalcTicks||We._prevDateHead!==er)We._prevDateHead=er,ur+="<br>"+er;else{var vr=Xt(We),yr=We._trueSide||We.side;(!vr&&yr==="top"||vr&&yr==="bottom")&&(ur+="<br> ")}Ge.text=ur}function Vt(We,Ge,kt,It,Zt){var rr=We.dtick,ur=Ge.x,er=We.tickformat,zt=typeof rr=="string"&&rr.charAt(0);if(Zt==="never"&&(Zt=""),It&&zt!=="L"&&(rr="L3",zt="L"),er||zt==="L")Ge.text=Te(Math.pow(10,ur),We,Zt,It);else if(P(rr)||zt==="D"&&M.mod(ur+.01,1)<.1){var vr=Math.round(ur),yr=Math.abs(vr),pr=We.exponentformat;pr==="power"||pe(pr)&&Ae(vr)?(vr===0?Ge.text=1:vr===1?Ge.text="10":Ge.text="10<sup>"+(vr>1?"":x)+yr+"</sup>",Ge.fontSize*=1.25):(pr==="e"||pr==="E")&&yr>2?Ge.text="1"+pr+(vr>0?"+":x)+yr:(Ge.text=Te(Math.pow(10,ur),We,"","fakehover"),rr==="D1"&&We._id.charAt(0)==="y"&&(Ge.dy-=Ge.fontSize/6))}else if(zt==="D")Ge.text=String(Math.round(Math.pow(10,M.mod(ur,1)))),Ge.fontSize*=.75;else throw"unrecognized dtick "+String(rr);if(We.dtick==="D1"){var cr=String(Ge.text).charAt(0);(cr==="0"||cr==="1")&&(We._id.charAt(0)==="y"?Ge.dx-=Ge.fontSize/4:(Ge.dy+=Ge.fontSize/2,Ge.dx+=(We.range[1]>We.range[0]?1:-1)*Ge.fontSize*(ur<0?.5:.25)))}}function Je(We,Ge){var kt=We._categories[Math.round(Ge.x)];kt===void 0&&(kt=""),Ge.text=String(kt)}function Ve(We,Ge,kt){var It=Math.round(Ge.x),Zt=We._categories[It]||[],rr=Zt[1]===void 0?"":String(Zt[1]),ur=Zt[0]===void 0?"":String(Zt[0]);kt?Ge.text=ur+" - "+rr:(Ge.text=rr,Ge.text2=ur)}function Ie(We,Ge,kt,It,Zt){Zt==="never"?Zt="":We.showexponent==="all"&&Math.abs(Ge.x/We.dtick)<1e-6&&(Zt="hide"),Ge.text=Te(Ge.x,We,Zt,It)}function Oe(We,Ge,kt,It,Zt){if(We.thetaunit==="radians"&&!kt){var rr=Ge.x/180;if(rr===0)Ge.text="0";else{var ur=Le(rr);if(ur[1]>=100)Ge.text=Te(M.deg2rad(Ge.x),We,Zt,It);else{var er=Ge.x<0;ur[1]===1?ur[0]===1?Ge.text="":Ge.text=ur[0]+"":Ge.text=["<sup>",ur[0],"</sup>","","<sub>",ur[1],"</sub>",""].join(""),er&&(Ge.text=x+Ge.text)}}}else Ge.text=Te(Ge.x,We,Zt,It)}function Le(We){function Ge(er,zt){return Math.abs(er-zt)<=1e-6}function kt(er,zt){return Ge(zt,0)?er:kt(zt,er%zt)}function It(er){for(var zt=1;!Ge(Math.round(er*zt)/zt,er);)zt*=10;return zt}var Zt=It(We),rr=We*Zt,ur=Math.abs(kt(rr,Zt));return[Math.round(rr/ur),Math.round(Zt/ur)]}var xe=["f","p","n","","m","","k","M","G","T"];function pe(We){return We==="SI"||We==="B"}function Ae(We){return We>14||We<-15}function Te(We,Ge,kt,It){var Zt=We<0,rr=Ge._tickround,ur=kt||Ge.exponentformat||"B",er=Ge._tickexponent,zt=J.getTickFormat(Ge),vr=Ge.separatethousands;if(It){var yr={exponentformat:ur,minexponent:Ge.minexponent,dtick:Ge.showexponent==="none"?Ge.dtick:P(We)&&Math.abs(We)||1,range:Ge.showexponent==="none"?Ge.range.map(Ge.r2d):[0,We||1]};gt(yr),rr=(Number(yr._tickround)||0)+4,er=yr._tickexponent,Ge.hoverformat&&(zt=Ge.hoverformat)}if(zt)return Ge._numFormat(zt)(We).replace(/-/g,x);var pr=Math.pow(10,-rr)/2;if(ur==="none"&&(er=0),We=Math.abs(We),We<pr)We="0",Zt=!1;else{if(We+=pr,er&&(We*=Math.pow(10,-er),rr+=er),rr===0)We=String(Math.floor(We));else if(rr<0){We=String(Math.round(We)),We=We.substr(0,We.length+rr);for(var cr=rr;cr<0;cr++)We+="0"}else{We=String(We);var Ur=We.indexOf(".")+1;Ur&&(We=We.substr(0,Ur+rr).replace(/\.?0+$/,""))}We=M.numSeparate(We,Ge._separators,vr)}if(er&&ur!=="hide"){pe(ur)&&Ae(er)&&(ur="power");var kr;er<0?kr=x+-er:ur!=="power"?kr="+"+er:kr=String(er),ur==="e"||ur==="E"?We+=ur+kr:ur==="power"?We+="10<sup>"+kr+"</sup>":ur==="B"&&er===9?We+="B":pe(ur)&&(We+=xe[er/3+5])}return Zt?x+We:We}J.getTickFormat=function(We){var Ge;function kt(zt){return typeof zt!="string"?zt:Number(zt.replace("M",""))*A}function It(zt,vr){var yr=["L","D"];if(typeof zt==typeof vr){if(typeof zt=="number")return zt-vr;var pr=yr.indexOf(zt.charAt(0)),cr=yr.indexOf(vr.charAt(0));return pr===cr?Number(zt.replace(/(L|D)/g,""))-Number(vr.replace(/(L|D)/g,"")):pr-cr}else return typeof zt=="number"?1:-1}function Zt(zt,vr,yr){var pr=yr||function(kr){return kr},cr=vr[0],Ur=vr[1];return(!cr&&typeof cr!="number"||pr(cr)<=pr(zt))&&(!Ur&&typeof Ur!="number"||pr(Ur)>=pr(zt))}function rr(zt,vr){var yr=vr[0]===null,pr=vr[1]===null,cr=It(zt,vr[0])>=0,Ur=It(zt,vr[1])<=0;return(yr||cr)&&(pr||Ur)}var ur,er;if(We.tickformatstops&&We.tickformatstops.length>0)switch(We.type){case"date":case"linear":{for(Ge=0;Ge<We.tickformatstops.length;Ge++)if(er=We.tickformatstops[Ge],er.enabled&&Zt(We.dtick,er.dtickrange,kt)){ur=er;break}break}case"log":{for(Ge=0;Ge<We.tickformatstops.length;Ge++)if(er=We.tickformatstops[Ge],er.enabled&&rr(We.dtick,er.dtickrange)){ur=er;break}break}}return ur?ur.value:We.tickformat},J.getSubplots=function(We,Ge){var kt=We._fullLayout._subplots,It=kt.cartesian.concat(kt.gl2d||[]),Zt=Ge?J.findSubplotsWithAxis(It,Ge):It;return Zt.sort(function(rr,ur){var er=rr.substr(1).split("y"),zt=ur.substr(1).split("y");return er[0]===zt[0]?+er[1]-+zt[1]:+er[0]-+zt[0]}),Zt},J.findSubplotsWithAxis=function(We,Ge){for(var kt=new RegExp(Ge._id.charAt(0)==="x"?"^"+Ge._id+"y":Ge._id+"$"),It=[],Zt=0;Zt<We.length;Zt++){var rr=We[Zt];kt.test(rr)&&It.push(rr)}return It},J.makeClipPaths=function(We){var Ge=We._fullLayout;if(!Ge._hasOnlyLargeSploms){var kt={_offset:0,_length:Ge.width,_id:""},It={_offset:0,_length:Ge.height,_id:""},Zt=J.list(We,"x",!0),rr=J.list(We,"y",!0),ur=[],er,zt;for(er=0;er<Zt.length;er++)for(ur.push({x:Zt[er],y:It}),zt=0;zt<rr.length;zt++)er===0&&ur.push({x:kt,y:rr[zt]}),ur.push({x:Zt[er],y:rr[zt]});var vr=Ge._clips.selectAll(".axesclip").data(ur,function(yr){return yr.x._id+yr.y._id});vr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(yr){return"clip"+Ge._uid+yr.x._id+yr.y._id}).append("rect"),vr.exit().remove(),vr.each(function(yr){y.select(this).select("rect").attr({x:yr.x._offset||0,y:yr.y._offset||0,width:yr.x._length||1,height:yr.y._length||1})})}},J.draw=function(We,Ge,kt){var It=We._fullLayout;Ge==="redraw"&&It._paper.selectAll("g.subplot").each(function(zt){var vr=zt[0],yr=It._plots[vr];if(yr){var pr=yr.xaxis,cr=yr.yaxis;yr.xaxislayer.selectAll("."+pr._id+"tick").remove(),yr.yaxislayer.selectAll("."+cr._id+"tick").remove(),yr.xaxislayer.selectAll("."+pr._id+"tick2").remove(),yr.yaxislayer.selectAll("."+cr._id+"tick2").remove(),yr.xaxislayer.selectAll("."+pr._id+"divider").remove(),yr.yaxislayer.selectAll("."+cr._id+"divider").remove(),yr.minorGridlayer&&yr.minorGridlayer.selectAll("path").remove(),yr.gridlayer&&yr.gridlayer.selectAll("path").remove(),yr.zerolinelayer&&yr.zerolinelayer.selectAll("path").remove(),It._infolayer.select(".g-"+pr._id+"title").remove(),It._infolayer.select(".g-"+cr._id+"title").remove()}});var Zt=!Ge||Ge==="redraw"?J.listIds(We):Ge,rr=J.list(We),ur=rr.filter(function(zt){return zt.autoshift}).map(function(zt){return zt.overlaying});Zt.map(function(zt){var vr=J.getFromId(We,zt);if(vr.tickmode==="sync"&&vr.overlaying){var yr=Zt.findIndex(function(pr){return pr===vr.overlaying});yr>=0&&Zt.unshift(Zt.splice(yr,1).shift())}});var er={false:{left:0,right:0}};return M.syncOrAsync(Zt.map(function(zt){return function(){if(zt){var vr=J.getFromId(We,zt);kt||(kt={}),kt.axShifts=er,kt.overlayingShiftedAx=ur;var yr=J.drawOne(We,vr,kt);return vr._shiftPusher&&fr(vr,vr._fullDepth||0,er,!0),vr._r=vr.range.slice(),vr._rl=M.simpleMap(vr._r,vr.r2l),yr}}}))},J.drawOne=function(We,Ge,kt){kt=kt||{};var It=kt.axShifts||{},Zt=kt.overlayingShiftedAx||[],rr,ur,er;Ge.setScale();var zt=We._fullLayout,vr=Ge._id,yr=vr.charAt(0),pr=J.counterLetter(vr),cr=zt._plots[Ge._mainSubplot];if(!cr)return;if(Ge._shiftPusher=Ge.autoshift||Zt.indexOf(Ge._id)!==-1||Zt.indexOf(Ge.overlaying)!==-1,Ge._shiftPusher&Ge.anchor==="free"){var Ur=Ge.linewidth/2||0;Ge.ticks==="inside"&&(Ur+=Ge.ticklen),fr(Ge,Ur,It,!0),fr(Ge,Ge.shift||0,It,!1)}(kt.skipTitle!==!0||Ge._shift===void 0)&&(Ge._shift=hr(Ge,It));var kr=cr[yr+"axislayer"],Rr=Ge._mainLinePosition,vn=Rr+=Ge._shift,tn=Ge._mainMirrorPosition,Bn=Ge._vals=J.calcTicks(Ge),xn=[Ge.mirror,vn,tn].join("_");for(rr=0;rr<Bn.length;rr++)Bn[rr].axInfo=xn;Ge._selections={},Ge._tickAngles&&(Ge._prevTickAngles=Ge._tickAngles),Ge._tickAngles={},Ge._depth=null;var Mr={};function Er(Gr){var Qr=vr+(Gr||"tick");return Mr[Qr]||(Mr[Qr]=pt(Ge,Qr)),Mr[Qr]}if(Ge.visible){var Wr=J.makeTransTickFn(Ge),Hr=J.makeTransTickLabelFn(Ge),an,dn,gn=Ge.ticks==="inside",Cn=Ge.ticks==="outside";if(Ge.tickson==="boundaries"){var _n=Ye(Ge,Bn);dn=J.clipEnds(Ge,_n),an=gn?dn:_n}else dn=J.clipEnds(Ge,Bn),an=gn&&Ge.ticklabelmode!=="period"?dn:Bn;var sa=Ge._gridVals=dn,Qn=ft(Ge,Bn);if(!zt._hasOnlyLargeSploms){var ea=Ge._subplotsWith,Zn={};for(rr=0;rr<ea.length;rr++){ur=ea[rr],er=zt._plots[ur];var $n=er[pr+"axis"],Tr=$n._mainAxis._id;if(!Zn[Tr]){Zn[Tr]=1;var on=yr==="x"?"M0,"+$n._offset+"v"+$n._length:"M"+$n._offset+",0h"+$n._length;J.drawGrid(We,Ge,{vals:sa,counterAxis:$n,layer:er.gridlayer.select("."+vr),minorLayer:er.minorGridlayer.select("."+vr),path:on,transFn:Wr}),J.drawZeroLine(We,Ge,{counterAxis:$n,layer:er.zerolinelayer,path:on,transFn:Wr})}}}var rn,pn=J.getTickSigns(Ge),Wn=J.getTickSigns(Ge,"minor");if(Ge.ticks||Ge.minor&&Ge.minor.ticks){var An=J.makeTickPath(Ge,vn,pn[2]),Sn=J.makeTickPath(Ge,vn,Wn[2],{minor:!0}),Hn,ta,wa,Ga;if(Ge._anchorAxis&&Ge.mirror&&Ge.mirror!==!0?(Hn=J.makeTickPath(Ge,tn,pn[3]),ta=J.makeTickPath(Ge,tn,Wn[3],{minor:!0}),wa=An+Hn,Ga=Sn+ta):(Hn="",ta="",wa=An,Ga=Sn),Ge.showdividers&&Cn&&Ge.tickson==="boundaries"){var Sr={};for(rr=0;rr<Qn.length;rr++)Sr[Qn[rr].x]=1;rn=function(Gr){return Sr[Gr.x]?Hn:wa}}else rn=function(Gr){return Gr.minor?Ga:wa}}if(J.drawTicks(We,Ge,{vals:an,layer:kr,path:rn,transFn:Wr}),Ge.mirror==="allticks"){var Nr=Object.keys(Ge._linepositions||{});for(rr=0;rr<Nr.length;rr++){ur=Nr[rr],er=zt._plots[ur];var br=Ge._linepositions[ur]||[],_r=br[0],wn=br[1],Rn=br[2],yn=J.makeTickPath(Ge,_r,Rn?pn[0]:Wn[0],{minor:Rn})+J.makeTickPath(Ge,wn,Rn?pn[1]:Wn[1],{minor:Rn});J.drawTicks(We,Ge,{vals:an,layer:er[yr+"axislayer"],path:yn,transFn:Wr})}}var hn=[];if(hn.push(function(){return J.drawLabels(We,Ge,{vals:Bn,layer:kr,plotinfo:er,transFn:Hr,labelFns:J.makeLabelFns(Ge,vn)})}),Ge.type==="multicategory"){var Lr={x:2,y:10}[yr];hn.push(function(){var Gr={x:"height",y:"width"}[yr],Qr=Er()[Gr]+Lr+(Ge._tickAngles[vr+"tick"]?Ge.tickfont.size*te:0);return J.drawLabels(We,Ge,{vals:et(Ge,Bn),layer:kr,cls:vr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Wr,labelFns:J.makeLabelFns(Ge,vn+Qr*pn[4])})}),hn.push(function(){return Ge._depth=pn[4]*(Er("tick2")[Ge.side]-vn),_t(We,Ge,{vals:Qn,layer:kr,path:J.makeTickPath(Ge,vn,pn[4],{len:Ge._depth}),transFn:Wr})})}else Ge.title.hasOwnProperty("standoff")&&hn.push(function(){Ge._depth=pn[4]*(Er()[Ge.side]-vn)});var Xr=L.getComponentMethod("rangeslider","isVisible")(Ge);return!kt.skipTitle&&!(Xr&&Ge.side==="bottom")&&hn.push(function(){return wr(We,Ge)}),hn.push(function(){var Gr=Ge.side.charAt(0),Qr=ie[Ge.side].charAt(0),Tn=J.getPxPosition(We,Ge),Fn=Cn?Ge.ticklen:0,In,Un,On,ya;(Ge.automargin||Xr||Ge._shiftPusher)&&(Ge.type==="multicategory"?In=Er("tick2"):(In=Er(),yr==="x"&&Gr==="b"&&(Ge._depth=Math.max(In.width>0?In.bottom-Tn:0,Fn))));var ua=0,ga=0;if(Ge._shiftPusher&&(ua=Math.max(Fn,In.height>0?Gr==="l"?Tn-In.left:In.right-Tn:0),Ge.title.text!==zt._dfltTitle[yr]&&(ga=(Ge._titleStandoff||0)+(Ge._titleScoot||0),Gr==="l"&&(ga+=$t(Ge))),Ge._fullDepth=Math.max(ua,ga)),Ge.automargin){Un={x:0,y:0,r:0,l:0,t:0,b:0};var Pa=[0,1],pi=typeof Ge._shift=="number"?Ge._shift:0;if(yr==="x"){if(Gr==="b"?Un[Gr]=Ge._depth:(Un[Gr]=Ge._depth=Math.max(In.width>0?Tn-In.top:0,Fn),Pa.reverse()),In.width>0){var ri=In.right-(Ge._offset+Ge._length);ri>0&&(Un.xr=1,Un.r=ri);var _o=Ge._offset-In.left;_o>0&&(Un.xl=0,Un.l=_o)}}else if(Gr==="l"?(Ge._depth=Math.max(In.height>0?Tn-In.left:0,Fn),Un[Gr]=Ge._depth-pi):(Ge._depth=Math.max(In.height>0?In.right-Tn:0,Fn),Un[Gr]=Ge._depth+pi,Pa.reverse()),In.height>0){var Lo=In.bottom-(Ge._offset+Ge._length);Lo>0&&(Un.yb=0,Un.b=Lo);var to=Ge._offset-In.top;to>0&&(Un.yt=1,Un.t=to)}Un[pr]=Ge.anchor==="free"?Ge.position:Ge._anchorAxis.domain[Pa[0]],Ge.title.text!==zt._dfltTitle[yr]&&(Un[Gr]+=$t(Ge)+(Ge.title.standoff||0)),Ge.mirror&&Ge.anchor!=="free"&&(On={x:0,y:0,r:0,l:0,t:0,b:0},On[Qr]=Ge.linewidth,Ge.mirror&&Ge.mirror!==!0&&(On[Qr]+=Fn),Ge.mirror===!0||Ge.mirror==="ticks"?On[pr]=Ge._anchorAxis.domain[Pa[1]]:(Ge.mirror==="all"||Ge.mirror==="allticks")&&(On[pr]=[Ge._counterDomainMin,Ge._counterDomainMax][Pa[1]]))}Xr&&(ya=L.getComponentMethod("rangeslider","autoMarginOpts")(We,Ge)),typeof Ge.automargin=="string"&&(Ne(Un,Ge.automargin),Ne(On,Ge.automargin)),o.autoMargin(We,sr(Ge),Un),o.autoMargin(We,vt(Ge),On),o.autoMargin(We,at(Ge),ya)}),M.syncOrAsync(hn)}};function Ne(We,Ge){if(We){var kt=Object.keys(_).reduce(function(It,Zt){return Ge.indexOf(Zt)!==-1&&_[Zt].forEach(function(rr){It[rr]=1}),It},{});Object.keys(We).forEach(function(It){kt[It]||(It.length===1?We[It]=0:delete We[It])})}}function Ye(We,Ge){var kt=[],It,Zt=function(rr,ur){var er=rr.xbnd[ur];er!==null&&kt.push(M.extendFlat({},rr,{x:er}))};if(Ge.length){for(It=0;It<Ge.length;It++)Zt(Ge[It],0);Zt(Ge[It-1],1)}return kt}function et(We,Ge){for(var kt=[],It={},Zt=0;Zt<Ge.length;Zt++){var rr=Ge[Zt];It[rr.text2]?It[rr.text2].push(rr.x):It[rr.text2]=[rr.x]}for(var ur in It)kt.push(At(We,M.interp(It[ur],.5),ur));return kt}function ft(We,Ge){var kt=[],It,Zt,rr=Ge.length&&Ge[Ge.length-1].x<Ge[0].x,ur=function(zt,vr){var yr=zt.xbnd[vr];yr!==null&&kt.push(M.extendFlat({},zt,{x:yr}))};if(We.showdividers&&Ge.length){for(It=0;It<Ge.length;It++){var er=Ge[It];er.text2!==Zt&&ur(er,rr?1:0),Zt=er.text2}ur(Ge[It-1],rr?0:1)}return kt}function pt(We,Ge){var kt,It,Zt,rr;return We._selections[Ge].size()?(kt=1/0,It=-1/0,Zt=1/0,rr=-1/0,We._selections[Ge].each(function(){var ur=gr(this),er=i.bBox(ur.node().parentNode);kt=Math.min(kt,er.top),It=Math.max(It,er.bottom),Zt=Math.min(Zt,er.left),rr=Math.max(rr,er.right)})):(kt=0,It=0,Zt=0,rr=0),{top:kt,bottom:It,left:Zt,right:rr,height:It-kt,width:rr-Zt}}J.getTickSigns=function(We,Ge){var kt=We._id.charAt(0),It={x:"top",y:"right"}[kt],Zt=We.side===It?1:-1,rr=[-1,1,Zt,-Zt],ur=Ge?(We.minor||{}).ticks:We.ticks;return ur!=="inside"==(kt==="x")&&(rr=rr.map(function(er){return-er})),We.side&&rr.push({l:-1,t:-1,r:1,b:1}[We.side.charAt(0)]),rr},J.makeTransTickFn=function(We){return We._id.charAt(0)==="x"?function(Ge){return v(We._offset+We.l2p(Ge.x),0)}:function(Ge){return v(0,We._offset+We.l2p(Ge.x))}},J.makeTransTickLabelFn=function(We){var Ge=Jt(We),kt=Ge[0],It=Ge[1];return We._id.charAt(0)==="x"?function(Zt){return v(kt+We._offset+We.l2p(Yt(Zt)),It)}:function(Zt){return v(It,kt+We._offset+We.l2p(Yt(Zt)))}};function Yt(We){return We.periodX!==void 0?We.periodX:We.x}function Jt(We){var Ge=We.ticklabelposition||"",kt=function(Ur){return Ge.indexOf(Ur)!==-1},It=kt("top"),Zt=kt("left"),rr=kt("right"),ur=kt("bottom"),er=kt("inside"),zt=ur||Zt||It||rr;if(!zt&&!er)return[0,0];var vr=We.side,yr=zt?(We.tickwidth||0)/2:0,pr=ue,cr=We.tickfont?We.tickfont.size:12;return(ur||It)&&(yr+=cr*$,pr+=(We.linewidth||0)/2),(Zt||rr)&&(yr+=(We.linewidth||0)/2,pr+=ue),er&&vr==="top"&&(pr-=cr*(1-$)),(Zt||It)&&(yr=-yr),(vr==="bottom"||vr==="right")&&(pr=-pr),[zt?yr:0,er?pr:0]}J.makeTickPath=function(We,Ge,kt,It){It||(It={});var Zt=It.minor;if(Zt&&!We.minor)return"";var rr=It.len!==void 0?It.len:Zt?We.minor.ticklen:We.ticklen,ur=We._id.charAt(0),er=(We.linewidth||1)/2;return ur==="x"?"M0,"+(Ge+er*kt)+"v"+rr*kt:"M"+(Ge+er*kt)+",0h"+rr*kt},J.makeLabelFns=function(We,Ge,kt){var It=We.ticklabelposition||"",Zt=function(_n){return It.indexOf(_n)!==-1},rr=Zt("top"),ur=Zt("left"),er=Zt("right"),zt=Zt("bottom"),vr=zt||ur||rr||er,yr=Zt("inside"),pr=It==="inside"&&We.ticks==="inside"||!yr&&We.ticks==="outside"&&We.tickson!=="boundaries",cr=0,Ur=0,kr=pr?We.ticklen:0;if(yr?kr*=-1:vr&&(kr=0),pr&&(cr+=kr,kt)){var Rr=M.deg2rad(kt);cr=kr*Math.cos(Rr)+1,Ur=kr*Math.sin(Rr)}We.showticklabels&&(pr||We.showline)&&(cr+=.2*We.tickfont.size),cr+=(We.linewidth||1)/2*(yr?-1:1);var vn={labelStandoff:cr,labelShift:Ur},tn,Bn,xn,Mr,Er=0,Wr=We.side,Hr=We._id.charAt(0),an=We.tickangle,dn;if(Hr==="x")dn=!yr&&Wr==="bottom"||yr&&Wr==="top",Mr=dn?1:-1,yr&&(Mr*=-1),tn=Ur*Mr,Bn=Ge+cr*Mr,xn=dn?1:-.2,Math.abs(an)===90&&(yr?xn+=W:an===-90&&Wr==="bottom"?xn=$:an===90&&Wr==="top"?xn=W:xn=.5,Er=W/2*(an/90)),vn.xFn=function(_n){return _n.dx+tn+Er*_n.fontSize},vn.yFn=function(_n){return _n.dy+Bn+_n.fontSize*xn},vn.anchorFn=function(_n,sa){if(vr){if(ur)return"end";if(er)return"start"}return!P(sa)||sa===0||sa===180?"middle":sa*Mr<0!==yr?"end":"start"},vn.heightFn=function(_n,sa,Qn){return sa<-60||sa>60?-.5*Qn:We.side==="top"!==yr?-Qn:0};else if(Hr==="y"){if(dn=!yr&&Wr==="left"||yr&&Wr==="right",Mr=dn?1:-1,yr&&(Mr*=-1),tn=cr,Bn=Ur*Mr,xn=0,!yr&&Math.abs(an)===90&&(an===-90&&Wr==="left"||an===90&&Wr==="right"?xn=$:xn=.5),yr){var gn=P(an)?+an:0;if(gn!==0){var Cn=M.deg2rad(gn);Er=Math.abs(Math.sin(Cn))*$*Mr,xn=0}}vn.xFn=function(_n){return _n.dx+Ge-(tn+_n.fontSize*xn)*Mr+Er*_n.fontSize},vn.yFn=function(_n){return _n.dy+Bn+_n.fontSize*W},vn.anchorFn=function(_n,sa){return P(sa)&&Math.abs(sa)===90?"middle":dn?"end":"start"},vn.heightFn=function(_n,sa,Qn){return We.side==="right"&&(sa*=-1),sa<-30?-Qn:sa<30?-.5*Qn:0}}return vn};function Tt(We){return[We.text,We.x,We.axInfo,We.font,We.fontSize,We.fontColor].join("_")}J.drawTicks=function(We,Ge,kt){kt=kt||{};var It=Ge._id+"tick",Zt=[].concat(Ge.minor&&Ge.minor.ticks?kt.vals.filter(function(ur){return ur.minor&&!ur.noTick}):[]).concat(Ge.ticks?kt.vals.filter(function(ur){return!ur.minor&&!ur.noTick}):[]),rr=kt.layer.selectAll("path."+It).data(Zt,Tt);rr.exit().remove(),rr.enter().append("path").classed(It,1).classed("ticks",1).classed("crisp",kt.crisp!==!1).each(function(ur){return t.stroke(y.select(this),ur.minor?Ge.minor.tickcolor:Ge.tickcolor)}).style("stroke-width",function(ur){return i.crispRound(We,ur.minor?Ge.minor.tickwidth:Ge.tickwidth,1)+"px"}).attr("d",kt.path).style("display",null),lr(Ge,[z]),rr.attr("transform",kt.transFn)},J.drawGrid=function(We,Ge,kt){if(kt=kt||{},Ge.tickmode!=="sync"){var It=Ge._id+"grid",Zt=Ge.minor&&Ge.minor.showgrid,rr=Zt?kt.vals.filter(function(tn){return tn.minor}):[],ur=Ge.showgrid?kt.vals.filter(function(tn){return!tn.minor}):[],er=kt.counterAxis;if(er&&J.shouldShowZeroLine(We,Ge,er))for(var zt=Ge.tickmode==="array",vr=0;vr<ur.length;vr++){var yr=ur[vr].x;if(zt?!yr:Math.abs(yr)<Ge.dtick/100)if(ur=ur.slice(0,vr).concat(ur.slice(vr+1)),zt)vr--;else break}Ge._gw=i.crispRound(We,Ge.gridwidth,1);for(var pr=Zt?i.crispRound(We,Ge.minor.gridwidth,1):0,cr=kt.layer,Ur=kt.minorLayer,kr=1;kr>=0;kr--){var Rr=kr?cr:Ur;if(Rr){var vn=Rr.selectAll("path."+It).data(kr?ur:rr,Tt);vn.exit().remove(),vn.enter().append("path").classed(It,1).classed("crisp",kt.crisp!==!1),vn.attr("transform",kt.transFn).attr("d",kt.path).each(function(tn){return t.stroke(y.select(this),tn.minor?Ge.minor.gridcolor:Ge.gridcolor||"#ddd")}).style("stroke-dasharray",function(tn){return i.dashStyle(tn.minor?Ge.minor.griddash:Ge.griddash,tn.minor?Ge.minor.gridwidth:Ge.gridwidth)}).style("stroke-width",function(tn){return(tn.minor?pr:Ge._gw)+"px"}).style("display",null),typeof kt.path=="function"&&vn.attr("d",kt.path)}}lr(Ge,[N,F])}},J.drawZeroLine=function(We,Ge,kt){kt=kt||kt;var It=Ge._id+"zl",Zt=J.shouldShowZeroLine(We,Ge,kt.counterAxis),rr=kt.layer.selectAll("path."+It).data(Zt?[{x:0,id:Ge._id}]:[]);rr.exit().remove(),rr.enter().append("path").classed(It,1).classed("zl",1).classed("crisp",kt.crisp!==!1).each(function(){kt.layer.selectAll("path").sort(function(ur,er){return j(ur.id,er.id)})}),rr.attr("transform",kt.transFn).attr("d",kt.path).call(t.stroke,Ge.zerolinecolor||t.defaultLine).style("stroke-width",i.crispRound(We,Ge.zerolinewidth,Ge._gw||1)+"px").style("display",null),lr(Ge,[I])},J.drawLabels=function(We,Ge,kt){kt=kt||{};var It=We._fullLayout,Zt=Ge._id,rr=Zt.charAt(0),ur=kt.cls||Zt+"tick",er=kt.vals.filter(function(Qn){return Qn.text}),zt=kt.labelFns,vr=kt.secondary?0:Ge.tickangle,yr=(Ge._prevTickAngles||{})[ur],pr=kt.layer.selectAll("g."+ur).data(Ge.showticklabels?er:[],Tt),cr=[];pr.enter().append("g").classed(ur,1).append("text").attr("text-anchor","middle").each(function(Qn){var ea=y.select(this),Zn=We._promises.length;ea.call(p.positionText,zt.xFn(Qn),zt.yFn(Qn)).call(i.font,Qn.font,Qn.fontSize,Qn.fontColor).text(Qn.text).call(p.convertToTspans,We),We._promises[Zn]?cr.push(We._promises.pop().then(function(){Ur(ea,vr)})):Ur(ea,vr)}),lr(Ge,[O]),pr.exit().remove(),kt.repositionOnUpdate&&pr.each(function(Qn){y.select(this).select("text").call(p.positionText,zt.xFn(Qn),zt.yFn(Qn))});function Ur(Qn,ea){Qn.each(function(Zn){var $n=y.select(this),Tr=$n.select(".text-math-group"),on=zt.anchorFn(Zn,ea),rn=kt.transFn.call($n.node(),Zn)+(P(ea)&&+ea!=0?" rotate("+ea+","+zt.xFn(Zn)+","+(zt.yFn(Zn)-Zn.fontSize/2)+")":""),pn=p.lineCount($n),Wn=te*Zn.fontSize,An=zt.heightFn(Zn,P(ea)?+ea:0,(pn-1)*Wn);if(An&&(rn+=v(0,An)),Tr.empty()){var Sn=$n.select("text");Sn.attr({transform:rn,"text-anchor":on}),Sn.style("opacity",1),Ge._adjustTickLabelsOverflow&&Ge._adjustTickLabelsOverflow()}else{var Hn=i.bBox(Tr.node()).width,ta=Hn*{end:-.5,start:.5}[on];Tr.attr("transform",rn+v(ta,0))}})}Ge._adjustTickLabelsOverflow=function(){var Qn=Ge.ticklabeloverflow;if(!(!Qn||Qn==="allow")){var ea=Qn.indexOf("hide")!==-1,Zn=Ge._id.charAt(0)==="x",$n=0,Tr=Zn?We._fullLayout.width:We._fullLayout.height;if(Qn.indexOf("domain")!==-1){var on=M.simpleMap(Ge.range,Ge.r2l);$n=Ge.l2p(on[0])+Ge._offset,Tr=Ge.l2p(on[1])+Ge._offset}var rn=Math.min($n,Tr),pn=Math.max($n,Tr),Wn=Ge.side,An=1/0,Sn=-1/0;pr.each(function(Ga){var Sr=y.select(this),Nr=Sr.select(".text-math-group");if(Nr.empty()){var br=i.bBox(Sr.node()),_r=0;Zn?(br.right>pn||br.left<rn)&&(_r=1):(br.bottom>pn||br.top+(Ge.tickangle?0:Ga.fontSize/4)<rn)&&(_r=1);var wn=Sr.select("text");_r?ea&&wn.style("opacity",0):(wn.style("opacity",1),Wn==="bottom"||Wn==="right"?An=Math.min(An,Zn?br.top:br.left):An=-1/0,Wn==="top"||Wn==="left"?Sn=Math.max(Sn,Zn?br.bottom:br.right):Sn=1/0)}});for(var Hn in It._plots){var ta=It._plots[Hn];if(!(Ge._id!==ta.xaxis._id&&Ge._id!==ta.yaxis._id)){var wa=Zn?ta.yaxis:ta.xaxis;wa&&(wa["_visibleLabelMin_"+Ge._id]=An,wa["_visibleLabelMax_"+Ge._id]=Sn)}}}},Ge._hideCounterAxisInsideTickLabels=function(Qn){var ea=Ge._id.charAt(0)==="x",Zn=[];for(var $n in It._plots){var Tr=It._plots[$n];Ge._id!==Tr.xaxis._id&&Ge._id!==Tr.yaxis._id||Zn.push(ea?Tr.yaxis:Tr.xaxis)}Zn.forEach(function(on,rn){on&&Xt(on)&&(Qn||[I,F,N,z,O]).forEach(function(pn){var Wn=pn.K==="tick"&&pn.L==="text"&&Ge.ticklabelmode==="period",An=It._plots[Ge._mainSubplot],Sn;pn.K===I.K?Sn=An.zerolinelayer.selectAll("."+Ge._id+"zl"):pn.K===F.K?Sn=An.minorGridlayer.selectAll("."+Ge._id):pn.K===N.K?Sn=An.gridlayer.selectAll("."+Ge._id):Sn=An[Ge._id.charAt(0)+"axislayer"],Sn.each(function(){var Hn=y.select(this);pn.L&&(Hn=Hn.selectAll(pn.L)),Hn.each(function(ta){var wa=Ge.l2p(Wn?Yt(ta):ta.x)+Ge._offset,Ga=y.select(this);wa<Ge["_visibleLabelMax_"+on._id]&&wa>Ge["_visibleLabelMin_"+on._id]?Ga.style("display","none"):pn.K==="tick"&&!rn&&Ga.style("display",null)})})})})},Ur(pr,yr+1?yr:vr);function kr(){return cr.length&&Promise.all(cr)}var Rr=null;function vn(){if(Ur(pr,vr),er.length&&rr==="x"&&!P(vr)&&(Ge.type!=="log"||String(Ge.dtick).charAt(0)!=="D")){Rr=0;var Qn=0,ea=[],Zn;if(pr.each(function(br){Qn=Math.max(Qn,br.fontSize);var _r=Ge.l2p(br.x),wn=gr(this),Rn=i.bBox(wn.node());ea.push({top:0,bottom:10,height:10,left:_r-Rn.width/2,right:_r+Rn.width/2+2,width:Rn.width+2})}),(Ge.tickson==="boundaries"||Ge.showdividers)&&!kt.secondary){var $n=2;for(Ge.ticks&&($n+=Ge.tickwidth/2),Zn=0;Zn<ea.length;Zn++){var Tr=er[Zn].xbnd,on=ea[Zn];if(Tr[0]!==null&&on.left-Ge.l2p(Tr[0])<$n||Tr[1]!==null&&Ge.l2p(Tr[1])-on.right<$n){Rr=90;break}}}else{var rn=er.length,pn=Math.abs((er[rn-1].x-er[0].x)*Ge._m)/(rn-1),Wn=Ge.ticklabelposition||"",An=function(br){return Wn.indexOf(br)!==-1},Sn=An("top"),Hn=An("left"),ta=An("right"),wa=An("bottom"),Ga=wa||Hn||Sn||ta,Sr=Ga?(Ge.tickwidth||0)+2*ue:0,Nr=pn<Qn*2.5||Ge.type==="multicategory"||Ge._name==="realaxis";for(Zn=0;Zn<ea.length-1;Zn++)if(M.bBoxIntersect(ea[Zn],ea[Zn+1],Sr)){Rr=Nr?90:30;break}}Rr&&Ur(pr,Rr)}}Ge._selections&&(Ge._selections[ur]=pr);var tn=[kr];Ge.automargin&&It._redrawFromAutoMarginCount&&yr===90?(Rr=90,tn.push(function(){Ur(pr,yr)})):tn.push(vn),Ge._tickAngles&&tn.push(function(){Ge._tickAngles[ur]=Rr===null?P(vr)?vr:0:Rr});var Bn=function(){var Qn=0,ea=0;return pr.each(function(Zn,$n){var Tr=gr(this),on=Tr.select(".text-math-group");if(on.empty()){var rn;Ge._vals[$n]&&(rn=Ge._vals[$n].bb||i.bBox(Tr.node()),Ge._vals[$n].bb=rn),Qn=Math.max(Qn,rn.width),ea=Math.max(ea,rn.height)}}),{labelsMaxW:Qn,labelsMaxH:ea}},xn=Ge._anchorAxis;if(xn&&(xn.autorange||xn.insiderange)&&Xt(Ge)&&!q(It,Ge._id)&&(It._insideTickLabelsUpdaterange||(It._insideTickLabelsUpdaterange={}),xn.autorange&&(It._insideTickLabelsUpdaterange[xn._name+".autorange"]=xn.autorange,tn.push(Bn)),xn.insiderange)){var Mr=Bn(),Er=Ge._id.charAt(0)==="y"?Mr.labelsMaxW:Mr.labelsMaxH;Er+=2*ue,Ge.ticklabelposition==="inside"&&(Er+=Ge.ticklen||0);var Wr=Ge.side==="right"||Ge.side==="top"?1:-1,Hr=Wr===1?1:0,an=Wr===1?0:1,dn=[];dn[an]=xn.range[an];var gn=xn.d2p(xn.range[Hr]),Cn=xn.d2p(xn.range[an]),_n=Math.abs(Cn-gn);_n-Er>0?(_n-=Er,Er*=1+Er/_n):Er=0,Ge._id.charAt(0)!=="y"&&(Er=-Er),dn[Hr]=xn.p2d(xn.d2p(xn.range[Hr])+Wr*Er),xn.autorange==="min"||xn.autorange==="max reversed"?(dn[0]=null,xn._rangeInitial0=void 0,xn._rangeInitial1=void 0):(xn.autorange==="max"||xn.autorange==="min reversed")&&(dn[1]=null,xn._rangeInitial0=void 0,xn._rangeInitial1=void 0),It._insideTickLabelsUpdaterange[xn._name+".range"]=dn}var sa=M.syncOrAsync(tn);return sa&&sa.then&&We._promises.push(sa),sa};function _t(We,Ge,kt){var It=Ge._id+"divider",Zt=kt.vals,rr=kt.layer.selectAll("path."+It).data(Zt,Tt);rr.exit().remove(),rr.enter().insert("path",":first-child").classed(It,1).classed("crisp",1).call(t.stroke,Ge.dividercolor).style("stroke-width",i.crispRound(We,Ge.dividerwidth,1)+"px"),rr.attr("transform",kt.transFn).attr("d",kt.path)}J.getPxPosition=function(We,Ge){var kt=We._fullLayout._size,It=Ge._id.charAt(0),Zt=Ge.side,rr;if(Ge.anchor!=="free"?rr=Ge._anchorAxis:It==="x"?rr={_offset:kt.t+(1-(Ge.position||0))*kt.h,_length:0}:It==="y"&&(rr={_offset:kt.l+(Ge.position||0)*kt.w+Ge._shift,_length:0}),Zt==="top"||Zt==="left")return rr._offset;if(Zt==="bottom"||Zt==="right")return rr._offset+rr._length};function $t(We){var Ge=We.title.font.size,kt=(We.title.text.match(p.BR_TAG_ALL)||[]).length;return We.title.hasOwnProperty("standoff")?kt?Ge*($+kt*te):Ge*$:kt?Ge*(kt+1)*te:Ge}function wr(We,Ge){var kt=We._fullLayout,It=Ge._id,Zt=It.charAt(0),rr=Ge.title.font.size,ur;if(Ge.title.hasOwnProperty("standoff"))ur=Ge._depth+Ge.title.standoff+$t(Ge);else{var er=Xt(Ge);if(Ge.type==="multicategory")ur=Ge._depth;else{var zt=1.5*rr;er&&(zt=.5*rr,Ge.ticks==="outside"&&(zt+=Ge.ticklen)),ur=10+zt+(Ge.linewidth?Ge.linewidth-1:0)}er||(Zt==="x"?ur+=Ge.side==="top"?rr*(Ge.showticklabels?1:0):rr*(Ge.showticklabels?1.5:.5):ur+=Ge.side==="right"?rr*(Ge.showticklabels?1:.5):rr*(Ge.showticklabels?.5:0))}var vr=J.getPxPosition(We,Ge),yr,pr,cr;Zt==="x"?(pr=Ge._offset+Ge._length/2,cr=Ge.side==="top"?vr-ur:vr+ur):(cr=Ge._offset+Ge._length/2,pr=Ge.side==="right"?vr+ur:vr-ur,yr={rotate:"-90",offset:0});var Ur;if(Ge.type!=="multicategory"){var kr=Ge._selections[Ge._id+"tick"];if(Ur={selection:kr,side:Ge.side},kr&&kr.node()&&kr.node().parentNode){var Rr=i.getTranslate(kr.node().parentNode);Ur.offsetLeft=Rr.x,Ur.offsetTop=Rr.y}Ge.title.hasOwnProperty("standoff")&&(Ur.pad=0)}return Ge._titleStandoff=ur,r.draw(We,It+"title",{propContainer:Ge,propName:Ge._name+".title.text",placeholder:kt._dfltTitle[Zt],avoid:Ur,transform:yr,attributes:{x:pr,y:cr,"text-anchor":"middle"}})}J.shouldShowZeroLine=function(We,Ge,kt){var It=M.simpleMap(Ge.range,Ge.r2l);return It[0]*It[1]<=0&&Ge.zeroline&&(Ge.type==="linear"||Ge.type==="-")&&!(Ge.rangebreaks&&Ge.maskBreaks(0)===k)&&(yt(Ge,0)||!jt(We,Ge,kt,It)||Qt(We,Ge))},J.clipEnds=function(We,Ge){return Ge.filter(function(kt){return yt(We,kt.x)})};function yt(We,Ge){var kt=We.l2p(Ge);return kt>1&&kt<We._length-1}function jt(We,Ge,kt,It){var Zt=kt._mainAxis;if(!Zt)return;var rr=We._fullLayout,ur=Ge._id.charAt(0),er=J.counterLetter(Ge._id),zt=Ge._offset+(Math.abs(It[0])<Math.abs(It[1])==(ur==="x")?0:Ge._length);function vr(kr){if(!kr.showline||!kr.linewidth)return!1;var Rr=Math.max((kr.linewidth+Ge.zerolinewidth)/2,1);function vn(xn){return typeof xn=="number"&&Math.abs(xn-zt)<Rr}if(vn(kr._mainLinePosition)||vn(kr._mainMirrorPosition))return!0;var tn=kr._linepositions||{};for(var Bn in tn)if(vn(tn[Bn][0])||vn(tn[Bn][1]))return!0}var yr=rr._plots[kt._mainSubplot];if(!(yr.mainplotinfo||yr).overlays.length)return vr(kt);for(var pr=J.list(We,er),cr=0;cr<pr.length;cr++){var Ur=pr[cr];if(Ur._mainAxis===Zt&&vr(Ur))return!0}}function Qt(We,Ge){for(var kt=We._fullData,It=Ge._mainSubplot,Zt=Ge._id.charAt(0),rr=0;rr<kt.length;rr++){var ur=kt[rr];if(ur.visible===!0&&ur.xaxis+ur.yaxis===It&&(L.traceIs(ur,"bar-like")&&ur.orientation==={x:"h",y:"v"}[Zt]||ur.fill&&ur.fill.charAt(ur.fill.length-1)===Zt))return!0}return!1}function gr(We){var Ge=y.select(We),kt=Ge.select(".text-math-group");return kt.empty()?Ge.select("text"):kt}J.allowAutoMargin=function(We){for(var Ge=J.list(We,"",!0),kt=0;kt<Ge.length;kt++){var It=Ge[kt];It.automargin&&(o.allowAutoMargin(We,sr(It)),It.mirror&&o.allowAutoMargin(We,vt(It))),L.getComponentMethod("rangeslider","isVisible")(It)&&o.allowAutoMargin(We,at(It))}};function sr(We){return We._id+".automargin"}function vt(We){return sr(We)+".mirror"}function at(We){return We._id+".rangeslider"}J.swap=function(We,Ge){for(var kt=xt(We,Ge),It=0;It<kt.length;It++)Dt(We,kt[It].x,kt[It].y)};function xt(We,Ge){var kt=[],It,Zt;for(It=0;It<Ge.length;It++){var rr=[],ur=We._fullData[Ge[It]].xaxis,er=We._fullData[Ge[It]].yaxis;if(!(!ur||!er)){for(Zt=0;Zt<kt.length;Zt++)(kt[Zt].x.indexOf(ur)!==-1||kt[Zt].y.indexOf(er)!==-1)&&rr.push(Zt);if(!rr.length){kt.push({x:[ur],y:[er]});continue}var zt=kt[rr[0]],vr;if(rr.length>1)for(Zt=1;Zt<rr.length;Zt++)vr=kt[rr[Zt]],Mt(zt.x,vr.x),Mt(zt.y,vr.y);Mt(zt.x,[ur]),Mt(zt.y,[er])}}return kt}function Mt(We,Ge){for(var kt=0;kt<Ge.length;kt++)We.indexOf(Ge[kt])===-1&&We.push(Ge[kt])}function Dt(We,Ge,kt){var It=[],Zt=[],rr=We.layout,ur,er;for(ur=0;ur<Ge.length;ur++)It.push(J.getFromId(We,Ge[ur]));for(ur=0;ur<kt.length;ur++)Zt.push(J.getFromId(We,kt[ur]));var zt=Object.keys(n),vr=["anchor","domain","overlaying","position","side","tickangle","editType"],yr=["linear","log"];for(ur=0;ur<zt.length;ur++){var pr=zt[ur],cr=It[0][pr],Ur=Zt[0][pr],kr=!0,Rr=!1,vn=!1;if(!(pr.charAt(0)==="_"||typeof cr=="function"||vr.indexOf(pr)!==-1)){for(er=1;er<It.length&&kr;er++){var tn=It[er][pr];pr==="type"&&yr.indexOf(cr)!==-1&&yr.indexOf(tn)!==-1&&cr!==tn?Rr=!0:tn!==cr&&(kr=!1)}for(er=1;er<Zt.length&&kr;er++){var Bn=Zt[er][pr];pr==="type"&&yr.indexOf(Ur)!==-1&&yr.indexOf(Bn)!==-1&&Ur!==Bn?vn=!0:Zt[er][pr]!==Ur&&(kr=!1)}kr&&(Rr&&(rr[It[0]._name].type="linear"),vn&&(rr[Zt[0]._name].type="linear"),Lt(rr,pr,It,Zt,We._fullLayout._dfltTitle))}}for(ur=0;ur<We._fullLayout.annotations.length;ur++){var xn=We._fullLayout.annotations[ur];Ge.indexOf(xn.xref)!==-1&&kt.indexOf(xn.yref)!==-1&&M.swapAttrs(rr.annotations[ur],["?"])}}function Lt(We,Ge,kt,It,Zt){var rr=M.nestedProperty,ur=rr(We[kt[0]._name],Ge).get(),er=rr(We[It[0]._name],Ge).get(),zt;for(Ge==="title"&&(ur&&ur.text===Zt.x&&(ur.text=Zt.y),er&&er.text===Zt.y&&(er.text=Zt.x)),zt=0;zt<kt.length;zt++)rr(We,kt[zt]._name+"."+Ge).set(er);for(zt=0;zt<It.length;zt++)rr(We,It[zt]._name+"."+Ge).set(ur)}function Bt(We){return We._id==="angularaxis"}function Nt(We,Ge){for(var kt=Ge._rangebreaks.length,It=0;It<kt;It++){var Zt=Ge._rangebreaks[It];if(We>=Zt.min&&We<Zt.max)return Zt.max}return We}function Xt(We){return(We.ticklabelposition||"").indexOf("inside")!==-1}function lr(We,Ge){Xt(We._anchorAxis||{})&&We._hideCounterAxisInsideTickLabels&&We._hideCounterAxisInsideTickLabels(Ge)}function fr(We,Ge,kt,It){var Zt=We.anchor!=="free"&&(We.overlaying===void 0||We.overlaying===!1)?We._id:We.overlaying,rr;It?rr=We.side==="right"?Ge:-Ge:rr=Ge,Zt in kt||(kt[Zt]={}),We.side in kt[Zt]||(kt[Zt][We.side]=0),kt[Zt][We.side]+=rr}function hr(We,Ge){return We.autoshift?Ge[We.overlaying][We.side]:We.shift||0}},4322:function(G,V,e){var y=e(92770),P=e(71828),o=e(50606).BADNUM,L=P.isArrayOrTypedArray,M=P.isDateTime,v=P.cleanNumber,p=Math.round;G.exports=function(g,f,T){var h=g,s=T.noMultiCategory;if(L(h)&&!h.length)return"-";if(!s&&u(h))return"multicategory";if(s&&Array.isArray(h[0])){for(var d=[],A=0;A<h.length;A++)if(L(h[A]))for(var w=0;w<h[A].length;w++)d.push(h[A][w]);h=d}if(i(h,f))return"date";var C=T.autotypenumbers!=="strict";return c(h,C)?"category":t(h,C)?"linear":"-"};function r(l,g){return g?y(l):typeof l=="number"}function t(l,g){for(var f=l.length,T=0;T<f;T++)if(r(l[T],g))return!0;return!1}function i(l,g){for(var f=l.length,T=n(f),h=0,s=0,d={},A=0;A<f;A+=T){var w=p(A),C=l[w],b=String(C);d[b]||(d[b]=1,M(C,g)&&h++,y(C)&&s++)}return h>s*2}function n(l){return Math.max(1,(l-1)/1e3)}function c(l,g){for(var f=l.length,T=n(f),h=0,s=0,d={},A=0;A<f;A+=T){var w=p(A),C=l[w],b=String(C);if(!d[b]){d[b]=1;var S=typeof C;S==="boolean"?s++:(g?v(C)!==o:S==="number")?h++:S==="string"&&s++}}return s>h*2}function u(l){return L(l[0])&&L(l[1])}},71453:function(G,V,e){var y=e(92770),P=e(73972),o=e(71828),L=e(44467),M=e(85501),v=e(13838),p=e(26218),r=e(38701),t=e(96115),i=e(89426),n=e(15258),c=e(92128),u=e(23608),l=e(21994),g=e(85555).WEEKDAY_PATTERN,f=e(85555).HOUR_PATTERN;G.exports=function(A,w,C,b,S){var m=b.letter,a=b.font||{},E=b.splomStash||{},x=C("visible",!b.visibleDflt),k=w._template||{},I=w.type||k.type||"-",N;if(I==="date"){var F=P.getComponentMethod("calendars","handleDefaults");F(A,w,"calendar",b.calendar),b.noTicklabelmode||(N=C("ticklabelmode"))}var z="";(!b.noTicklabelposition||I==="multicategory")&&(z=o.coerce(A,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:N==="period"?["outside","inside"]:m==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),b.noTicklabeloverflow||C("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":I==="category"||I==="multicategory"?"allow":"hide past div"),l(w,S),u(A,w,C,b),n(A,w,C,b),I!=="category"&&!b.noHover&&C("hoverformat");var O=C("color"),_=O!==v.color.dflt?O:a.color,B=E.label||S._dfltTitle[m];if(i(A,w,C,I,b),!x)return w;C("title.text",B),o.coerceFont(C,"title.font",{family:a.family,size:o.bigFont(a.size),color:_}),p(A,w,C,I);var W=b.hasMinor;if(W&&(L.newContainer(w,"minor"),p(A,w,C,I,{isMinor:!0})),t(A,w,C,I,b),r(A,w,C,b),W){var $=b.isMinor;b.isMinor=!0,r(A,w,C,b),b.isMinor=$}c(A,w,C,{dfltColor:O,bgColor:b.bgColor,showGrid:b.showGrid,hasMinor:W,attributes:v}),W&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&C("mirror");var te=I==="multicategory";if(!b.noTickson&&(I==="category"||te)&&(w.ticks||w.showgrid)){var ie;te&&(ie="boundaries");var ue=C("tickson",ie);ue==="boundaries"&&delete w.ticklabelposition}if(te){var J=C("showdividers");J&&(C("dividercolor"),C("dividerwidth"))}if(I==="date")if(M(A,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var Y=0;Y<w.rangebreaks.length;Y++)if(w.rangebreaks[Y].pattern===g){w._hasDayOfWeekBreaks=!0;break}if(l(w,S),S._has("scattergl")||S._has("splom"))for(var ae=0;ae<b.data.length;ae++){var j=b.data[ae];(j.type==="scattergl"||j.type==="splom")&&(j.visible=!1,o.warn(j.type+" traces do not work on axes with rangebreaks. Setting trace "+j.index+" to `visible: false`."))}}return w};function T(d,A,w){function C(N,F){return o.coerce(d,A,v.rangebreaks,N,F)}var b=C("enabled");if(b){var S=C("bounds");if(S&&S.length>=2){var m="",a,E;if(S.length===2){for(a=0;a<2;a++)if(E=s(S[a]),E){m=g;break}}var x=C("pattern",m);if(x===g)for(a=0;a<2;a++)E=s(S[a]),E&&(A.bounds[a]=S[a]=E-1);if(x)for(a=0;a<2;a++)switch(E=S[a],x){case g:if(!y(E)){A.enabled=!1;return}if(E=+E,E!==Math.floor(E)||E<0||E>=7){A.enabled=!1;return}A.bounds[a]=S[a]=E;break;case f:if(!y(E)){A.enabled=!1;return}if(E=+E,E<0||E>24){A.enabled=!1;return}A.bounds[a]=S[a]=E;break}if(w.autorange===!1){var k=w.range;if(k[0]<k[1]){if(S[0]<k[0]&&S[1]>k[1]){A.enabled=!1;return}}else if(S[0]>k[0]&&S[1]<k[1]){A.enabled=!1;return}}}else{var I=C("values");if(I&&I.length)C("dvalue");else{A.enabled=!1;return}}}}var h={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function s(d){if(typeof d=="string")return h[d.substr(0,3).toLowerCase()]}},12663:function(G,V,e){var y=e(31562),P=y.FORMAT_LINK,o=y.DATE_FORMAT_LINK;function L(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?M:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function M(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+P+"."].join(" ")}function v(p,r){return M(p,r)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:L,descriptionOnlyNumbers:M,descriptionWithDates:v}},41675:function(G,V,e){var y=e(73972),P=e(85555);V.id2name=function(M){if(!(typeof M!="string"||!M.match(P.AX_ID_PATTERN))){var v=M.split(" ")[0].substr(1);return v==="1"&&(v=""),M.charAt(0)+"axis"+v}},V.name2id=function(M){if(M.match(P.AX_NAME_PATTERN)){var v=M.substr(5);return v==="1"&&(v=""),M.charAt(0)+v}},V.cleanId=function(M,v,p){var r=/( domain)$/.test(M);if(!(typeof M!="string"||!M.match(P.AX_ID_PATTERN))&&!(v&&M.charAt(0)!==v)&&!(r&&!p)){var t=M.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),M.charAt(0)+t+(r&&p?" domain":"")}},V.list=function(L,M,v){var p=L._fullLayout;if(!p)return[];var r=V.listIds(L,M),t=new Array(r.length),i;for(i=0;i<r.length;i++){var n=r[i];t[i]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var c=p._subplots.gl3d||[];for(i=0;i<c.length;i++){var u=p[c[i]];M?t.push(u[M+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},V.listIds=function(L,M){var v=L._fullLayout;if(!v)return[];var p=v._subplots;return M?p[M+"axis"]:p.xaxis.concat(p.yaxis)},V.getFromId=function(L,M,v){var p=L._fullLayout;return M=M===void 0||typeof M!="string"?M:M.replace(" domain",""),v==="x"?M=M.replace(/y[0-9]*/,""):v==="y"&&(M=M.replace(/x[0-9]*/,"")),p[V.id2name(M)]},V.getFromTrace=function(L,M,v){var p=L._fullLayout,r=null;if(y.traceIs(M,"gl3d")){var t=M.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=V.getFromId(L,M[v+"axis"]||v);return r},V.idSort=function(L,M){var v=L.charAt(0),p=M.charAt(0);return v!==p?v>p?1:-1:+(L.substr(1)||1)-+(M.substr(1)||1)},V.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function o(L,M){if(M&&M.length){for(var v=0;v<M.length;v++)if(M[v][L])return!0}return!1}V.isLinked=function(L,M){return o(M,L._axisMatchGroups)||o(M,L._axisConstraintGroups)}},15258:function(G,V,e){var y=e(73627).isTypedArraySpec;function P(o,L){var M=L.dataAttr||o._id.charAt(0),v={},p,r,t;if(L.axData)p=L.axData;else for(p=[],r=0;r<L.data.length;r++){var i=L.data[r];i[M+"axis"]===o._id&&p.push(i)}for(r=0;r<p.length;r++){var n=p[r][M];for(t=0;t<n.length;t++){var c=n[t];c!=null&&(v[c]=1)}}return Object.keys(v)}G.exports=function(L,M,v,p){if(M.type==="category"){var r=L.categoryarray,t=Array.isArray(r)&&r.length>0||y(r),i;t&&(i="array");var n=v("categoryorder",i),c;n==="array"&&(c=v("categoryarray")),!t&&n==="array"&&(n=M.categoryorder="trace"),n==="trace"?M._initialCategories=[]:n==="array"?M._initialCategories=c.slice():(c=P(M,p).sort(),n==="category ascending"?M._initialCategories=c:n==="category descending"&&(M._initialCategories=c.reverse()))}}},66287:function(G,V,e){var y=e(92770),P=e(71828),o=e(50606),L=o.ONEDAY,M=o.ONEWEEK;V.dtick=function(v,p){var r=p==="log",t=p==="date",i=p==="category",n=t?L:1;if(!v)return n;if(y(v))return v=Number(v),v<=0?n:i?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var c=v.charAt(0),u=v.substr(1);return u=y(u)?Number(u):0,u<=0||!(t&&c==="M"&&u===Math.round(u)||r&&c==="L"||r&&c==="D"&&(u===1||u===2))?n:v},V.tick0=function(v,p,r,t){if(p==="date")return P.cleanDate(v,P.dateTick0(r,t%M===0?1:0));if(!(t==="D1"||t==="D2"))return y(v)?Number(v):0}},85555:function(G,V,e){var y=e(30587).counter;G.exports={idRegex:{x:y("x","( domain)?"),y:y("y","( domain)?")},attrRegex:y("[xy]axis"),xAxisMatch:y("xaxis"),yAxisMatch:y("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(G,V,e){var y=e(71828),P=e(71739),o=e(41675).id2name,L=e(13838),M=e(42449),v=e(21994),p=e(50606).ALMOST_EQUAL,r=e(18783).FROM_BL;V.handleDefaults=function(f,T,h){var s=h.axIds,d=h.axHasImage,A=T._axisConstraintGroups=[],w=T._axisMatchGroups=[],C,b,S,m,a,E,x,k;for(C=0;C<s.length;C++)m=o(s[C]),a=f[m],E=T[m],t(a,E,{axIds:s,layoutOut:T,hasImage:d[m]});function I(te,ie){for(C=0;C<te.length;C++){b=te[C];for(S in b)T[o(S)][ie]=b}}for(I(w,"_matchGroup"),C=0;C<A.length;C++){b=A[C];for(S in b)if(E=T[o(S)],E.fixedrange){for(var N in b){var F=o(N);(f[F]||{}).fixedrange===!1&&y.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),T[F].fixedrange=!0}break}}for(C=0;C<A.length;){b=A[C];for(S in b){E=T[o(S)],E._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(b).length&&(A.splice(C,1),C--);break}C++}I(A,"_constraintGroup");var z=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],O=!1,_=!1;function B(){k=E[x],x==="rangebreaks"&&(_=E._hasDayOfWeekBreaks)}for(C=0;C<w.length;C++){b=w[C];for(var W=0;W<z.length;W++){x=z[W],k=null;var $;for(S in b)if(m=o(S),a=f[m],E=T[m],x in E){if(!E.matches&&($=E,x in a)){B();break}k===null&&x in a&&B()}if(x==="range"&&k&&a.range&&a.range.length===2&&a.range[0]!==null&&a.range[1]!==null&&(O=!0),x==="autorange"&&k===null&&O&&(k=!1),k===null&&x in $&&(k=$[x]),k!==null)for(S in b)E=T[o(S)],E[x]=x==="range"?k.slice():k,x==="rangebreaks"&&(E._hasDayOfWeekBreaks=_,v(E,T))}}};function t(f,T,h){var s=h.axIds,d=h.layoutOut,A=h.hasImage,w=d._axisConstraintGroups,C=d._axisMatchGroups,b=T._id,S=b.charAt(0),m=((d._splomAxes||{})[S]||{})[b]||{},a=T._id,E=a.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function x(Y,ae){return y.coerce(f,T,L,Y,ae)}x("constrain",A?"domain":"range"),y.coerce(f,T,{constraintoward:{valType:"enumerated",values:E?["left","center","right"]:["bottom","middle","top"],dflt:E?"center":"middle"}},"constraintoward");var k=T.type,I,N,F=[];for(I=0;I<s.length;I++)if(N=s[I],N!==a){var z=d[o(N)];z.type===k&&F.push(N)}var O=n(w,a);if(O){var _=[];for(I=0;I<F.length;I++)N=F[I],O[N]||_.push(N);F=_}var B=F.length,W,$;B&&(f.matches||m.matches)&&(W=y.coerce(f,T,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(m.matches)!==-1?m.matches:void 0}},"matches"));var te=A&&!E?T.anchor:void 0;if(B&&!W&&(f.scaleanchor||te)&&($=y.coerce(f,T,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",te)),W){T._matchGroup=c(C,a,W,1);var ie=d[o(W)],ue=i(d,T)/i(d,ie);E!==(W.charAt(0)==="x")&&(ue=(E?"x":"y")+ue),c(w,a,W,ue)}else f.matches&&s.indexOf(f.matches)!==-1&&y.warn("ignored "+T._name+'.matches: "'+f.matches+'" to avoid an infinite loop');if($){var J=x("scaleratio");J||(J=T.scaleratio=1),c(w,a,$,J)}else f.scaleanchor&&s.indexOf(f.scaleanchor)!==-1&&y.warn("ignored "+T._name+'.scaleanchor: "'+f.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function i(f,T){var h=T.domain;return h||(h=f[o(T.overlaying)].domain),h[1]-h[0]}function n(f,T){for(var h=0;h<f.length;h++)if(f[h][T])return f[h];return null}function c(f,T,h,s){var d,A,w,C,b,S=n(f,T);S===null?(S={},S[T]=1,b=f.length,f.push(S)):b=f.indexOf(S);var m=Object.keys(S);for(d=0;d<f.length;d++)if(w=f[d],d!==b&&w[h]){var a=w[h];for(A=0;A<m.length;A++)C=m[A],w[C]=u(a,u(s,S[C]));f.splice(b,1);return}if(s!==1)for(A=0;A<m.length;A++){var E=m[A];S[E]=u(s,S[E])}S[h]=1}function u(f,T){var h="",s="",d,A;typeof f=="string"&&(h=f.match(/^[xy]*/)[0],d=h.length,f=+f.substr(d)),typeof T=="string"&&(s=T.match(/^[xy]*/)[0],A=s.length,T=+T.substr(A));var w=f*T;return!d&&!A?w:!d||!A||h.charAt(0)===s.charAt(0)?h+s+f*T:d===A?w:(d>A?h.substr(A):s.substr(d))+w}function l(f,T){for(var h=T._size,s=h.h/h.w,d={},A=Object.keys(f),w=0;w<A.length;w++){var C=A[w],b=f[C];if(typeof b=="string"){var S=b.match(/^[xy]*/)[0],m=S.length;b=+b.substr(m);for(var a=S.charAt(0)==="y"?s:1/s,E=0;E<m;E++)b*=a}d[C]=b}return d}V.enforce=function(T){var h=T._fullLayout,s=h._axisConstraintGroups||[],d,A,w,C,b,S,m,a;for(d=0;d<s.length;d++){w=l(s[d],h);var E=Object.keys(w),x=1/0,k=0,I=1/0,N={},F={},z=!1;for(A=0;A<E.length;A++)C=E[A],F[C]=b=h[o(C)],b._inputDomain?b.domain=b._inputDomain.slice():b._inputDomain=b.domain.slice(),b._inputRange||(b._inputRange=b.range.slice()),b.setScale(),N[C]=S=Math.abs(b._m)/w[C],x=Math.min(x,S),(b.constrain==="domain"||!b._constraintShrinkable)&&(I=Math.min(I,S)),delete b._constraintShrinkable,k=Math.max(k,S),b.constrain==="domain"&&(z=!0);if(!(x>p*k&&!z)){for(A=0;A<E.length;A++)if(C=E[A],S=N[C],b=F[C],m=b.constrain,S!==I||m==="domain")if(a=S/I,m==="range")M(b,a);else{var O=b._inputDomain,_=(b.domain[1]-b.domain[0])/(O[1]-O[0]),B=(b.r2l(b.range[1])-b.r2l(b.range[0]))/(b.r2l(b._inputRange[1])-b.r2l(b._inputRange[0]));if(a/=_,a*B<1){b.domain=b._input.domain=O.slice(),M(b,a);continue}if(B<1&&(b.range=b._input.range=b._inputRange.slice(),a*=B),b.autorange){var W=b.r2l(b.range[0]),$=b.r2l(b.range[1]),te=(W+$)/2,ie=te,ue=te,J=Math.abs($-te),Y=te-J*a*1.0001,ae=te+J*a*1.0001,j=P.makePadFn(h,b,0),q=P.makePadFn(h,b,1);g(b,a);var oe=Math.abs(b._m),Q=P.concatExtremes(T,b),X=Q.min,se=Q.max,ne,fe;for(fe=0;fe<X.length;fe++)ne=X[fe].val-j(X[fe])/oe,ne>Y&&ne<ie&&(ie=ne);for(fe=0;fe<se.length;fe++)ne=se[fe].val+q(se[fe])/oe,ne<ae&&ne>ue&&(ue=ne);var ye=(ue-ie)/(2*J);a/=ye,ie=b.l2r(ie),ue=b.l2r(ue),b.range=b._input.range=W<$?[ie,ue]:[ue,ie]}g(b,a)}}}},V.getAxisGroup=function(T,h){for(var s=T._axisMatchGroups,d=0;d<s.length;d++){var A=s[d];if(A[h])return"g"+d}return h},V.clean=function(T,h){if(h._inputDomain){for(var s=!1,d=h._id,A=T._fullLayout._axisConstraintGroups,w=0;w<A.length;w++)if(A[w][d]){s=!0;break}(!s||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function g(f,T){var h=f._inputDomain,s=r[f.constraintoward],d=h[0]+(h[1]-h[0])*s;f.domain=f._input.domain=[d+(h[0]-d)/T,d+(h[1]-d)/T],f.setScale()}},29323:function(G,V,e){var y=e(39898),P=e(71828),o=P.numberFormat,L=e(84267),M=e(38520),v=e(73972),p=P.strTranslate,r=e(63893),t=e(7901),i=e(91424),n=e(30211),c=e(89298),u=e(6964),l=e(28569),g=e(64505),f=g.selectingOrDrawing,T=g.freeMode,h=e(18783).FROM_TL,s=e(33306),d=e(61549).redrawReglTraces,A=e(74875),w=e(41675).getFromId,C=e(47322).prepSelect,b=e(47322).clearOutline,S=e(47322).selectOnClick,m=e(42449),a=e(85555),E=a.MINDRAG,x=a.MINZOOM,k=!0;function I(ne,fe,ye,Se,we,_e,ke,Me){var me=ne._fullLayout._zoomlayer,Ee=ke+Me==="nsew",Be=(ke+Me).length===1,Ue,De,He,nt,lt,$e,qe,ct,dt,gt,At,Rt,Vt,Je,Ve,Ie,Oe,Le,xe,pe,Ae,Te,Ne;ye+=fe.yaxis._shift;function Ye(){if(Ue=fe.xaxis,De=fe.yaxis,dt=Ue._length,gt=De._length,qe=Ue._offset,ct=De._offset,He={},He[Ue._id]=Ue,nt={},nt[De._id]=De,ke&&Me)for(var er=fe.overlays,zt=0;zt<er.length;zt++){var vr=er[zt].xaxis;He[vr._id]=vr;var yr=er[zt].yaxis;nt[yr._id]=yr}lt=se(He),$e=se(nt),Vt=z(lt,Me),Je=z($e,ke),Ve=!Je&&!Vt,Rt=Q(ne,ne._fullLayout._axisMatchGroups,He,nt),At=Q(ne,ne._fullLayout._axisConstraintGroups,He,nt,Rt);var pr=At.isSubplotConstrained||Rt.isSubplotConstrained;Ie=Me||pr,Oe=ke||pr;var cr=ne._fullLayout;Le=cr._has("scattergl"),xe=cr._has("splom"),pe=cr._has("svg")}Ye();var et=$(Je+Vt,ne._fullLayout.dragmode,Ee),ft=F(fe,ke+Me+"drag",et,ye,Se,we,_e);if(Ve&&!Ee)return ft.onmousedown=null,ft.style.pointerEvents="none",ft;var pt={element:ft,gd:ne,plotinfo:fe};pt.prepFn=function(er,zt,vr){var yr=pt.dragmode,pr=ne._fullLayout.dragmode;pr!==yr&&(pt.dragmode=pr),Ye(),Te=ne._fullLayout._invScaleX,Ne=ne._fullLayout._invScaleY,Ve||(Ee?er.shiftKey?pr==="pan"?pr="zoom":f(pr)||(pr="pan"):er.ctrlKey&&(pr="pan"):pr="pan"),T(pr)?pt.minDrag=1:pt.minDrag=void 0,f(pr)?(pt.xaxes=lt,pt.yaxes=$e,C(er,zt,vr,pt,pr)):(pt.clickFn=Jt,f(yr)&&Yt(),Ve||(pr==="zoom"?(pt.moveFn=xt,pt.doneFn=Dt,pt.minDrag=1,at(er,zt,vr)):pr==="pan"&&(pt.moveFn=fr,pt.doneFn=kt))),ne._fullLayout._redrag=function(){var cr=ne._dragdata;if(cr&&cr.element===ft){var Ur=ne._fullLayout.dragmode;f(Ur)||(Ye(),It([0,0,dt,gt]),pt.moveFn(cr.dx,cr.dy))}}};function Yt(){pt.plotinfo.selection=!1,b(ne)}function Jt(er,zt){var vr=pt.gd;if(vr._fullLayout._activeShapeIndex>=0){vr._fullLayout._deactivateShape(vr);return}var yr=vr._fullLayout.clickmode;if(Y(vr),er===2&&!Be&&Ge(),Ee)yr.indexOf("select")>-1&&S(zt,vr,lt,$e,fe.id,pt),yr.indexOf("event")>-1&&n.click(vr,zt,fe.id);else if(er===1&&Be){var pr=ke?De:Ue,cr=ke==="s"||Me==="w"?0:1,Ur=pr._name+".range["+cr+"]",kr=O(pr,cr),Rr="left",vn="middle";if(pr.fixedrange)return;ke?(vn=ke==="n"?"top":"bottom",pr.side==="right"&&(Rr="right")):Me==="e"&&(Rr="right"),vr._context.showAxisRangeEntryBoxes&&y.select(ft).call(r.makeEditable,{gd:vr,immediate:!0,background:vr._fullLayout.paper_bgcolor,text:String(kr),fill:pr.tickfont?pr.tickfont.color:"#444",horizontalAlign:Rr,verticalAlign:vn}).on("edit",function(tn){var Bn=pr.d2r(tn);Bn!==void 0&&v.call("_guiRelayout",vr,Ur,Bn)})}}l.init(pt);var Tt,_t,$t,wr,yt,jt,Qt,gr,sr,vt;function at(er,zt,vr){var yr=ft.getBoundingClientRect();Tt=zt-yr.left,_t=vr-yr.top,ne._fullLayout._calcInverseTransform(ne);var pr=P.apply3DTransform(ne._fullLayout._invTransform)(Tt,_t);Tt=pr[0],_t=pr[1],$t={l:Tt,r:Tt,w:0,t:_t,b:_t,h:0},wr=ne._hmpixcount?ne._hmlumcount/ne._hmpixcount:L(ne._fullLayout.plot_bgcolor).getLuminance(),yt="M0,0H"+dt+"V"+gt+"H0V0",jt=!1,Qt="xy",vt=!1,gr=te(me,wr,qe,ct,yt),sr=ie(me,qe,ct)}function xt(er,zt){if(ne._transitioningWithDuration)return!1;var vr=Math.max(0,Math.min(dt,Te*er+Tt)),yr=Math.max(0,Math.min(gt,Ne*zt+_t)),pr=Math.abs(vr-Tt),cr=Math.abs(yr-_t);$t.l=Math.min(Tt,vr),$t.r=Math.max(Tt,vr),$t.t=Math.min(_t,yr),$t.b=Math.max(_t,yr);function Ur(){Qt="",$t.r=$t.l,$t.t=$t.b,sr.attr("d","M0,0Z")}if(At.isSubplotConstrained)pr>x||cr>x?(Qt="xy",pr/dt>cr/gt?(cr=pr*gt/dt,_t>yr?$t.t=_t-cr:$t.b=_t+cr):(pr=cr*dt/gt,Tt>vr?$t.l=Tt-pr:$t.r=Tt+pr),sr.attr("d",oe($t))):Ur();else if(Rt.isSubplotConstrained)if(pr>x||cr>x){Qt="xy";var kr=Math.min($t.l/dt,(gt-$t.b)/gt),Rr=Math.max($t.r/dt,(gt-$t.t)/gt);$t.l=kr*dt,$t.r=Rr*dt,$t.b=(1-kr)*gt,$t.t=(1-Rr)*gt,sr.attr("d",oe($t))}else Ur();else!Je||cr<Math.min(Math.max(pr*.6,E),x)?pr<E||!Vt?Ur():($t.t=0,$t.b=gt,Qt="x",sr.attr("d",j($t,_t))):!Vt||pr<Math.min(cr*.6,x)?($t.l=0,$t.r=dt,Qt="y",sr.attr("d",q($t,Tt))):(Qt="xy",sr.attr("d",oe($t)));$t.w=$t.r-$t.l,$t.h=$t.b-$t.t,Qt&&(vt=!0),ne._dragged=vt,ue(gr,sr,$t,yt,jt,wr),Mt(),ne.emit("plotly_relayouting",Ae),jt=!0}function Mt(){Ae={},(Qt==="xy"||Qt==="x")&&(_(lt,$t.l/dt,$t.r/dt,Ae,At.xaxes),hr("x",Ae)),(Qt==="xy"||Qt==="y")&&(_($e,(gt-$t.b)/gt,(gt-$t.t)/gt,Ae,At.yaxes),hr("y",Ae))}function Dt(){Mt(),Y(ne),kt(),ae(ne)}var Lt=[0,0,dt,gt],Bt=null,Nt=a.REDRAWDELAY,Xt=fe.mainplot?ne._fullLayout._plots[fe.mainplot]:fe;function lr(er){if(!ne._context._scrollZoom.cartesian&&!ne._fullLayout._enablescrollzoom)return;if(Yt(),ne._transitioningWithDuration){er.preventDefault(),er.stopPropagation();return}Ye(),clearTimeout(Bt);var zt=-er.deltaY;if(isFinite(zt)||(zt=er.wheelDelta/10),!isFinite(zt)){P.log("Did not find wheel motion attributes: ",er);return}var vr=Math.exp(-Math.min(Math.max(zt,-20),20)/200),yr=Xt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),pr=(er.clientX-yr.left)/yr.width,cr=(yr.bottom-er.clientY)/yr.height,Ur;function kr(Rr,vn,tn){if(Rr.fixedrange)return;var Bn=P.simpleMap(Rr.range,Rr.r2l),xn=Bn[0]+(Bn[1]-Bn[0])*vn;function Mr(Er){return Rr.l2r(xn+(Er-xn)*tn)}Rr.range=Bn.map(Mr)}if(Ie){for(Me||(pr=.5),Ur=0;Ur<lt.length;Ur++)kr(lt[Ur],pr,vr);hr("x"),Lt[2]*=vr,Lt[0]+=Lt[2]*pr*(1/vr-1)}if(Oe){for(ke||(cr=.5),Ur=0;Ur<$e.length;Ur++)kr($e[Ur],cr,vr);hr("y"),Lt[3]*=vr,Lt[1]+=Lt[3]*(1-cr)*(1/vr-1)}It(Lt),We(),ne.emit("plotly_relayouting",Ae),Bt=setTimeout(function(){ne._fullLayout&&(Lt=[0,0,dt,gt],kt())},Nt),er.preventDefault()}ke.length*Me.length!==1&&X(ft,lr);function fr(er,zt){if(er=er*Te,zt=zt*Ne,ne._transitioningWithDuration)return;if(ne._fullLayout._replotting=!0,Vt==="ew"||Je==="ns"){var vr=Vt?-er:0,yr=Je?-zt:0;if(Rt.isSubplotConstrained){if(Vt&&Je){var pr=(er/dt-zt/gt)/2;er=pr*dt,zt=-pr*gt,vr=-er,yr=-zt}Je?vr=-yr*dt/gt:yr=-vr*gt/dt}Vt&&(B(lt,er),hr("x")),Je&&(B($e,zt),hr("y")),It([vr,yr,dt,gt]),We(),ne.emit("plotly_relayouting",Ae);return}function cr(Mr,Er,Wr){for(var Hr=1-Er,an,dn,gn=0;gn<Mr.length;gn++){var Cn=Mr[gn];if(!Cn.fixedrange){an=Cn,dn=Cn._rl[Hr]+(Cn._rl[Er]-Cn._rl[Hr])/W(Wr/Cn._length);var _n=Cn.l2r(dn);_n!==!1&&_n!==void 0&&(Cn.range[Er]=_n)}}return an._length*(an._rl[Er]-dn)/(an._rl[Er]-an._rl[Hr])}var Ur=Vt==="w"==(Je==="n")?1:-1;if(Vt&&Je&&(At.isSubplotConstrained||Rt.isSubplotConstrained)){var kr=(er/dt+Ur*zt/gt)/2;er=kr*dt,zt=Ur*kr*gt}var Rr,vn;if(Vt==="w"?er=cr(lt,0,er):Vt==="e"?er=cr(lt,1,-er):Vt||(er=0),Je==="n"?zt=cr($e,1,zt):Je==="s"?zt=cr($e,0,-zt):Je||(zt=0),Rr=Vt==="w"?er:0,vn=Je==="n"?zt:0,At.isSubplotConstrained&&!Rt.isSubplotConstrained||Rt.isSubplotConstrained&&Vt&&Je&&Ur>0){var tn;if(Rt.isSubplotConstrained||!Vt&&Je.length===1){for(tn=0;tn<lt.length;tn++)lt[tn].range=lt[tn]._r.slice(),m(lt[tn],1-zt/gt);er=zt*dt/gt,Rr=er/2}if(Rt.isSubplotConstrained||!Je&&Vt.length===1){for(tn=0;tn<$e.length;tn++)$e[tn].range=$e[tn]._r.slice(),m($e[tn],1-er/dt);zt=er*gt/dt,vn=zt/2}}(!Rt.isSubplotConstrained||!Je)&&hr("x"),(!Rt.isSubplotConstrained||!Vt)&&hr("y");var Bn=dt-er,xn=gt-zt;Rt.isSubplotConstrained&&!(Vt&&Je)&&(Vt?(vn=Rr?0:er*gt/dt,xn=Bn*gt/dt):(Rr=vn?0:zt*dt/gt,Bn=xn*dt/gt)),It([Rr,vn,Bn,xn]),We(),ne.emit("plotly_relayouting",Ae)}function hr(er,zt){for(var vr=Rt.isSubplotConstrained?{x:$e,y:lt}[er]:Rt[er+"axes"],yr=Rt.isSubplotConstrained?{x:lt,y:$e}[er]:[],pr=0;pr<vr.length;pr++){var cr=vr[pr],Ur=cr._id,kr=Rt.xLinks[Ur]||Rt.yLinks[Ur],Rr=yr[0]||He[kr]||nt[kr];Rr&&(zt?(zt[cr._name+".range[0]"]=zt[Rr._name+".range[0]"],zt[cr._name+".range[1]"]=zt[Rr._name+".range[1]"]):cr.range=Rr.range.slice())}}function We(){var er=[],zt;function vr(Ur){for(zt=0;zt<Ur.length;zt++)Ur[zt].fixedrange||er.push(Ur[zt]._id)}function yr(Ur,kr){for(zt=0;zt<Ur.length;zt++){var Rr=Ur[zt],vn=Rr[kr];!Rr.fixedrange&&vn.tickmode==="sync"&&er.push(vn._id)}}for(Ie&&(vr(lt),vr(At.xaxes),vr(Rt.xaxes),yr(fe.overlays,"xaxis")),Oe&&(vr($e),vr(At.yaxes),vr(Rt.yaxes),yr(fe.overlays,"yaxis")),Ae={},zt=0;zt<er.length;zt++){var pr=er[zt],cr=w(ne,pr);c.drawOne(ne,cr,{skipTitle:!0}),Ae[cr._name+".range[0]"]=cr.range[0],Ae[cr._name+".range[1]"]=cr.range[1]}c.redrawComponents(ne,er)}function Ge(){if(!ne._transitioningWithDuration){var er=ne._context.doubleClick,zt=[];Vt&&(zt=zt.concat(lt)),Je&&(zt=zt.concat($e)),Rt.xaxes&&(zt=zt.concat(Rt.xaxes)),Rt.yaxes&&(zt=zt.concat(Rt.yaxes));var vr={},yr,pr;if(er==="reset+autosize")for(er="autosize",pr=0;pr<zt.length;pr++){yr=zt[pr];var cr=yr._rangeInitial0,Ur=yr._rangeInitial1,kr=cr!==void 0||Ur!==void 0;if(kr&&(cr!==void 0&&cr!==yr.range[0]||Ur!==void 0&&Ur!==yr.range[1])||!kr&&yr.autorange!==!0){er="reset";break}}if(er==="autosize")for(pr=0;pr<zt.length;pr++)yr=zt[pr],yr.fixedrange||(vr[yr._name+".autorange"]=!0);else if(er==="reset"){for((Vt||At.isSubplotConstrained)&&(zt=zt.concat(At.xaxes)),Je&&!At.isSubplotConstrained&&(zt=zt.concat(At.yaxes)),At.isSubplotConstrained&&(Vt?Je||(zt=zt.concat($e)):zt=zt.concat(lt)),pr=0;pr<zt.length;pr++)if(yr=zt[pr],!yr.fixedrange){var Rr=yr._name,vn=yr._autorangeInitial;yr._rangeInitial0===void 0&&yr._rangeInitial1===void 0?vr[Rr+".autorange"]=!0:yr._rangeInitial0===void 0?(vr[Rr+".autorange"]=vn,vr[Rr+".range"]=[null,yr._rangeInitial1]):yr._rangeInitial1===void 0?(vr[Rr+".range"]=[yr._rangeInitial0,null],vr[Rr+".autorange"]=vn):vr[Rr+".range"]=[yr._rangeInitial0,yr._rangeInitial1]}}ne.emit("plotly_doubleclick",null),v.call("_guiRelayout",ne,vr)}}function kt(){It([0,0,dt,gt]),P.syncOrAsync([A.previousPromises,function(){ne._fullLayout._replotting=!1,v.call("_guiRelayout",ne,Ae)}],ne)}function It(er){var zt=ne._fullLayout,vr=zt._plots,yr=zt._subplots.cartesian,pr,cr,Ur,kr;if(xe&&v.subplotsRegistry.splom.drag(ne),Le){for(pr=0;pr<yr.length;pr++)if(cr=vr[yr[pr]],Ur=cr.xaxis,kr=cr.yaxis,cr._scene){var Rr=P.simpleMap(Ur.range,Ur.r2l),vn=P.simpleMap(kr.range,kr.r2l);Ur.limitRange&&Ur.limitRange(),kr.limitRange&&kr.limitRange(),Rr=Ur.range,vn=kr.range,cr._scene.update({range:[Rr[0],vn[0],Rr[1],vn[1]]})}}if((xe||Le)&&(s(ne),d(ne)),pe){var tn=er[2]/Ue._length,Bn=er[3]/De._length;for(pr=0;pr<yr.length;pr++){cr=vr[yr[pr]],Ur=cr.xaxis,kr=cr.yaxis;var xn=(Ie||Rt.isSubplotConstrained)&&!Ur.fixedrange&&He[Ur._id],Mr=(Oe||Rt.isSubplotConstrained)&&!kr.fixedrange&&nt[kr._id],Er,Wr,Hr,an;if(xn?(Er=tn,Hr=Me||Rt.isSubplotConstrained?er[0]:ur(Ur,Er)):Rt.xaHash[Ur._id]?(Er=tn,Hr=er[0]*Ur._length/Ue._length):Rt.yaHash[Ur._id]?(Er=Bn,Hr=Je==="ns"?-er[1]*Ur._length/De._length:ur(Ur,Er,{n:"top",s:"bottom"}[Je])):(Er=Zt(Ur,tn,Bn),Hr=rr(Ur,Er)),Er>1&&(Ur.maxallowed!==void 0&&Ie===(Ur.range[0]<Ur.range[1]?"e":"w")||Ur.minallowed!==void 0&&Ie===(Ur.range[0]<Ur.range[1]?"w":"e"))&&(Er=1,Hr=0),Mr?(Wr=Bn,an=ke||Rt.isSubplotConstrained?er[1]:ur(kr,Wr)):Rt.yaHash[kr._id]?(Wr=Bn,an=er[1]*kr._length/De._length):Rt.xaHash[kr._id]?(Wr=tn,an=Vt==="ew"?-er[0]*kr._length/Ue._length:ur(kr,Wr,{e:"right",w:"left"}[Vt])):(Wr=Zt(kr,tn,Bn),an=rr(kr,Wr)),Wr>1&&(kr.maxallowed!==void 0&&Oe===(kr.range[0]<kr.range[1]?"n":"s")||kr.minallowed!==void 0&&Oe===(kr.range[0]<kr.range[1]?"s":"n"))&&(Wr=1,an=0),!(!Er&&!Wr)){Er||(Er=1),Wr||(Wr=1);var dn=Ur._offset-Hr/Er,gn=kr._offset-an/Wr;cr.clipRect.call(i.setTranslate,Hr,an).call(i.setScale,Er,Wr),cr.plot.call(i.setTranslate,dn,gn).call(i.setScale,1/Er,1/Wr),(Er!==cr.xScaleFactor||Wr!==cr.yScaleFactor)&&(i.setPointGroupScale(cr.zoomScalePts,Er,Wr),i.setTextPointsScale(cr.zoomScaleTxt,Er,Wr)),i.hideOutsideRangePoints(cr.clipOnAxisFalseTraces,cr),cr.xScaleFactor=Er,cr.yScaleFactor=Wr}}}}function Zt(er,zt,vr){return er.fixedrange?0:Ie&&At.xaHash[er._id]?zt:Oe&&(At.isSubplotConstrained?At.xaHash:At.yaHash)[er._id]?vr:0}function rr(er,zt){return zt?(er.range=er._r.slice(),m(er,zt),ur(er,zt)):0}function ur(er,zt,vr){return er._length*(1-zt)*h[vr||er.constraintoward||"middle"]}return ft}function N(ne,fe,ye,Se){var we=P.ensureSingle(ne.draglayer,fe,ye,function(_e){_e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ne.id)});return we.call(u,Se),we.node()}function F(ne,fe,ye,Se,we,_e,ke){var Me=N(ne,"rect",fe,ye);return y.select(Me).call(i.setRect,Se,we,_e,ke),Me}function z(ne,fe){for(var ye=0;ye<ne.length;ye++)if(!ne[ye].fixedrange)return fe;return""}function O(ne,fe){var ye=ne.range[fe],Se=Math.abs(ye-ne.range[1-fe]),we;return ne.type==="date"?ye:ne.type==="log"?(we=Math.ceil(Math.max(0,-Math.log(Se)/Math.LN10))+3,o("."+we+"g")(Math.pow(10,ye))):(we=Math.floor(Math.log(Math.abs(ye))/Math.LN10)-Math.floor(Math.log(Se)/Math.LN10)+4,o("."+String(we)+"g")(ye))}function _(ne,fe,ye,Se,we){for(var _e=0;_e<ne.length;_e++){var ke=ne[_e];if(!ke.fixedrange)if(ke.rangebreaks){var Me=ke._id.charAt(0)==="y",me=Me?1-fe:fe,Ee=Me?1-ye:ye;Se[ke._name+".range[0]"]=ke.l2r(ke.p2l(me*ke._length)),Se[ke._name+".range[1]"]=ke.l2r(ke.p2l(Ee*ke._length))}else{var Be=ke._rl[0],Ue=ke._rl[1]-Be;Se[ke._name+".range[0]"]=ke.l2r(Be+Ue*fe),Se[ke._name+".range[1]"]=ke.l2r(Be+Ue*ye)}}if(we&&we.length){var De=(fe+(1-ye))/2;_(we,De,1-De,Se,[])}}function B(ne,fe){for(var ye=0;ye<ne.length;ye++){var Se=ne[ye];if(!Se.fixedrange){if(Se.rangebreaks){var we=0,_e=Se._length,ke=Se.p2l(we+fe)-Se.p2l(we),Me=Se.p2l(_e+fe)-Se.p2l(_e),me=(ke+Me)/2;Se.range=[Se.l2r(Se._rl[0]-me),Se.l2r(Se._rl[1]-me)]}else Se.range=[Se.l2r(Se._rl[0]-fe/Se._m),Se.l2r(Se._rl[1]-fe/Se._m)];Se.limitRange&&Se.limitRange()}}}function W(ne){return 1-(ne>=0?Math.min(ne,.9):1/(1/Math.max(ne,-.3)+3.222))}function $(ne,fe,ye){return ne?ne==="nsew"?ye?"":fe==="pan"?"move":"crosshair":ne.toLowerCase()+"-resize":"pointer"}function te(ne,fe,ye,Se,we){return ne.append("path").attr("class","zoombox").style({fill:fe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(ye,Se)).attr("d",we+"Z")}function ie(ne,fe,ye){return ne.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(fe,ye)).attr("d","M0,0Z")}function ue(ne,fe,ye,Se,we,_e){ne.attr("d",Se+"M"+ye.l+","+ye.t+"v"+ye.h+"h"+ye.w+"v-"+ye.h+"h-"+ye.w+"Z"),J(ne,fe,we,_e)}function J(ne,fe,ye,Se){ye||(ne.transition().style("fill",Se>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),fe.transition().style("opacity",1).duration(200))}function Y(ne){y.select(ne).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ae(ne){k&&ne.data&&ne._context.showTips&&(P.notifier(P._(ne,"Double-click to zoom back out"),"long"),k=!1)}function j(ne,fe){return"M"+(ne.l-.5)+","+(fe-x-.5)+"h-3v"+(2*x+1)+"h3ZM"+(ne.r+.5)+","+(fe-x-.5)+"h3v"+(2*x+1)+"h-3Z"}function q(ne,fe){return"M"+(fe-x-.5)+","+(ne.t-.5)+"v-3h"+(2*x+1)+"v3ZM"+(fe-x-.5)+","+(ne.b+.5)+"v3h"+(2*x+1)+"v-3Z"}function oe(ne){var fe=Math.floor(Math.min(ne.b-ne.t,ne.r-ne.l,x)/2);return"M"+(ne.l-3.5)+","+(ne.t-.5+fe)+"h3v"+-fe+"h"+fe+"v-3h-"+(fe+3)+"ZM"+(ne.r+3.5)+","+(ne.t-.5+fe)+"h-3v"+-fe+"h"+-fe+"v-3h"+(fe+3)+"ZM"+(ne.r+3.5)+","+(ne.b+.5-fe)+"h-3v"+fe+"h"+-fe+"v3h"+(fe+3)+"ZM"+(ne.l-3.5)+","+(ne.b+.5-fe)+"h3v"+fe+"h"+fe+"v3h-"+(fe+3)+"Z"}function Q(ne,fe,ye,Se,we){for(var _e=!1,ke={},Me={},me,Ee,Be,Ue,De=(we||{}).xaHash,He=(we||{}).yaHash,nt=0;nt<fe.length;nt++){var lt=fe[nt];for(me in ye)if(lt[me]){for(Be in lt)!(we&&(De[Be]||He[Be]))&&!(Be.charAt(0)==="x"?ye:Se)[Be]&&(ke[Be]=me);for(Ee in Se)!(we&&(De[Ee]||He[Ee]))&&lt[Ee]&&(_e=!0)}for(Ee in Se)if(lt[Ee])for(Ue in lt)!(we&&(De[Ue]||He[Ue]))&&!(Ue.charAt(0)==="x"?ye:Se)[Ue]&&(Me[Ue]=Ee)}_e&&(P.extendFlat(ke,Me),Me={});var $e={},qe=[];for(Be in ke){var ct=w(ne,Be);qe.push(ct),$e[ct._id]=ct}var dt={},gt=[];for(Ue in Me){var At=w(ne,Ue);gt.push(At),dt[At._id]=At}return{xaHash:$e,yaHash:dt,xaxes:qe,yaxes:gt,xLinks:ke,yLinks:Me,isSubplotConstrained:_e}}function X(ne,fe){if(!M)ne.onwheel!==void 0?ne.onwheel=fe:ne.onmousewheel!==void 0?ne.onmousewheel=fe:ne.isAddedWheelEvent||(ne.isAddedWheelEvent=!0,ne.addEventListener("wheel",fe,{passive:!1}));else{var ye=ne.onwheel!==void 0?"wheel":"mousewheel";ne._onwheel&&ne.removeEventListener(ye,ne._onwheel),ne._onwheel=fe,ne.addEventListener(ye,fe,{passive:!1})}}function se(ne){var fe=[];for(var ye in ne)fe.push(ne[ye]);return fe}G.exports={makeDragBox:I,makeDragger:N,makeRectDragger:F,makeZoombox:te,makeCorners:ie,updateZoombox:ue,xyCorners:oe,transitionZoombox:J,removeZoombox:Y,showDoubleClickNotifier:ae,attachWheelEventHandler:X}},4305:function(G,V,e){var y=e(39898),P=e(30211),o=e(28569),L=e(6964),M=e(29323).makeDragBox,v=e(85555).DRAGGERSIZE;V.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){y.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var i=Object.keys(t._plots||{}).sort(function(c,u){if((t._plots[c].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var l=c.split("y"),g=u.split("y");return l[0]===g[0]?Number(l[1]||1)-Number(g[1]||1):Number(l[0]||1)-Number(g[0]||1)}return t._plots[c].mainplot?1:-1});i.forEach(function(c){var u=t._plots[c],l=u.xaxis,g=u.yaxis;if(!u.mainplot){var f=M(r,u,l._offset,g._offset,l._length,g._length,"ns","ew");f.onmousemove=function(s){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===c&&r._fullLayout._plots[c]&&P.hover(r,s,c)},P.hover(r,s,c),r._fullLayout._lasthover=f,r._fullLayout._hoversubplot=c},f.onmouseout=function(s){r._dragging||(r._fullLayout._hoversubplot=null,o.unhover(r,s))},r._context.showAxisDragHandles&&(M(r,u,l._offset-v,g._offset-v,v,v,"n","w"),M(r,u,l._offset+l._length,g._offset-v,v,v,"n","e"),M(r,u,l._offset-v,g._offset+g._length,v,v,"s","w"),M(r,u,l._offset+l._length,g._offset+g._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(c===l._mainSubplot){var T=l._mainLinePosition;l.side==="top"&&(T-=v),M(r,u,l._offset+l._length*.1,T,l._length*.8,v,"","ew"),M(r,u,l._offset,T,l._length*.1,v,"","w"),M(r,u,l._offset+l._length*.9,T,l._length*.1,v,"","e")}if(c===g._mainSubplot){var h=g._mainLinePosition;g.side!=="right"&&(h-=v),M(r,u,h,g._offset+g._length*.1,v,g._length*.8,"ns",""),M(r,u,h,g._offset+g._length*.9,v,g._length*.1,"s",""),M(r,u,h,g._offset,v,g._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(c){c.target=r._fullLayout._lasthover,P.hover(r,c,t._hoversubplot)},n.onclick=function(c){c.target=r._fullLayout._lasthover,P.click(r,c)},n.onmousedown=function(c){r._fullLayout._lasthover.onmousedown(c)},V.updateFx(r)}},V.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";L(r._draggers,t)}},76325:function(G,V,e){var y=e(73972),P=e(71828),o=e(41675);G.exports=function(M){return function(p,r){var t=p[M];if(Array.isArray(t))for(var i=y.subplotsRegistry.cartesian,n=i.idRegex,c=r._subplots,u=c.xaxis,l=c.yaxis,g=c.cartesian,f=r._has("cartesian")||r._has("gl2d"),T=0;T<t.length;T++){var h=t[T];if(P.isPlainObject(h)){var s=o.cleanId(h.xref,"x",!1),d=o.cleanId(h.yref,"y",!1),A=n.x.test(s),w=n.y.test(d);if(A||w){f||P.pushUnique(r._basePlotModules,i);var C=!1;A&&u.indexOf(s)===-1&&(u.push(s),C=!0),w&&l.indexOf(d)===-1&&(l.push(d),C=!0),C&&A&&w&&g.push(s+d)}}}}}},93612:function(G,V,e){var y=e(39898),P=e(73972),o=e(71828),L=e(74875),M=e(91424),v=e(27659).a0,p=e(41675),r=e(85555),t=e(77922),i=o.ensureSingle;function n(T,h,s){return o.ensureSingle(T,h,s,function(d){d.datum(s)})}V.name="cartesian",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=r.idRegex,V.attrRegex=r.attrRegex,V.attributes=e(89502),V.layoutAttributes=e(13838),V.supplyLayoutDefaults=e(86763),V.transitionAxes=e(66847),V.finalizeSubplots=function(T,h){var s=h._subplots,d=s.xaxis,A=s.yaxis,w=s.cartesian,C=w.concat(s.gl2d||[]),b={},S={},m,a,E;for(m=0;m<C.length;m++){var x=C[m].split("y");b[x[0]]=1,S["y"+x[1]]=1}for(m=0;m<d.length;m++)a=d[m],b[a]||(E=(T[p.id2name(a)]||{}).anchor,r.idRegex.y.test(E)||(E="y"),w.push(a+E),C.push(a+E),S[E]||(S[E]=1,o.pushUnique(A,E)));for(m=0;m<A.length;m++)E=A[m],S[E]||(a=(T[p.id2name(E)]||{}).anchor,r.idRegex.x.test(a)||(a="x"),w.push(a+E),C.push(a+E),b[a]||(b[a]=1,o.pushUnique(d,a)));if(!C.length){a="",E="";for(var k in T)if(r.attrRegex.test(k)){var I=k.charAt(0);I==="x"?(!a||+k.substr(5)<+a.substr(5))&&(a=k):(!E||+k.substr(5)<+E.substr(5))&&(E=k)}a=a?p.name2id(a):"x",E=E?p.name2id(E):"y",d.push(a),A.push(E),w.push(a+E)}},V.plot=function(T,h,s,d){var A=T._fullLayout,w=A._subplots.cartesian,C=T.calcdata,b;if(!Array.isArray(h))for(h=[],b=0;b<C.length;b++)h.push(b);for(b=0;b<w.length;b++){for(var S=w[b],m=A._plots[S],a=[],E,x=0;x<C.length;x++){var k=C[x],I=k[0].trace;I.xaxis+I.yaxis===S&&((h.indexOf(I.index)!==-1||I.carpet)&&(E&&E[0].trace.xaxis+E[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&a.indexOf(E)===-1&&a.push(E),a.push(k)),E=k)}c(T,m,a,s,d)}};function c(T,h,s,d,A){for(var w=r.traceLayerClasses,C=T._fullLayout,b=C._modules,S,m,a,E=[],x=[],k=0;k<b.length;k++){S=b[k];var I=S.name,N=P.modules[I].categories;if(N.svg){var F=S.layerName||I+"layer",z=S.plot;m=v(s,z),a=m[0],s=m[1],a.length&&E.push({i:w.indexOf(F),className:F,plotMethod:z,cdModule:a}),N.zoomScale&&x.push("."+F)}}E.sort(function(B,W){return B.i-W.i});var O=h.plot.selectAll("g.mlayer").data(E,function(B){return B.className});if(O.enter().append("g").attr("class",function(B){return B.className}).classed("mlayer",!0).classed("rangeplot",h.isRangePlot),O.exit().remove(),O.order(),O.each(function(B){var W=y.select(this),$=B.className;B.plotMethod(T,h,B.cdModule,W,d,A),r.clipOnAxisFalseQuery.indexOf("."+$)===-1&&M.setClipUrl(W,h.layerClipId,T)}),C._has("scattergl")&&(S=P.getModule("scattergl"),a=v(s,S)[0],S.plot(T,h,a)),!T._context.staticPlot&&(h._hasClipOnAxisFalse&&(h.clipOnAxisFalseTraces=h.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),x.length)){var _=h.plot.selectAll(x.join(",")).selectAll(".trace");h.zoomScalePts=_.selectAll("path.point"),h.zoomScaleTxt=_.selectAll(".textpoint")}}V.clean=function(T,h,s,d){var A=d._plots||{},w=h._plots||{},C=d._subplots||{},b,S,m;if(d._hasOnlyLargeSploms&&!h._hasOnlyLargeSploms)for(m in A)b=A[m],b.plotgroup&&b.plotgroup.remove();var a=d._has&&d._has("gl"),E=h._has&&h._has("gl");if(a&&!E)for(m in A)b=A[m],b._scene&&b._scene.destroy();if(C.xaxis&&C.yaxis){var x=p.listIds({_fullLayout:d});for(S=0;S<x.length;S++){var k=x[S];h[p.id2name(k)]||d._infolayer.selectAll(".g-"+k+"title").remove()}}var I=d._has&&d._has("cartesian"),N=h._has&&h._has("cartesian");if(I&&!N)g(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(C.cartesian)for(S=0;S<C.cartesian.length;S++){var F=C.cartesian[S];if(!w[F]){var z="."+F+",."+F+"-x,."+F+"-y";d._cartesianlayer.selectAll(z).remove(),f(F,d)}}},V.drawFramework=function(T){var h=T._fullLayout,s=u(T),d=h._cartesianlayer.selectAll(".subplot").data(s,String);d.enter().append("g").attr("class",function(A){return"subplot "+A[0]}),d.order(),d.exit().call(g,h),d.each(function(A){var w=A[0],C=h._plots[w];C.plotgroup=y.select(this),l(T,C),C.draglayer=i(h._draggers,"g",w)})},V.rangePlot=function(T,h,s){l(T,h),c(T,h,s),L.style(T)};function u(T){var h=T._fullLayout,s=h._subplots.cartesian,d=s.length,A,w,C,b,S,m,a=[],E=[];for(A=0;A<d;A++){C=s[A],b=h._plots[C],S=b.xaxis,m=b.yaxis;var x=S._mainAxis,k=m._mainAxis,I=x._id+k._id,N=h._plots[I];b.overlays=[],I!==C&&N?(b.mainplot=I,b.mainplotinfo=N,E.push(C)):(b.mainplot=void 0,b.mainplotinfo=void 0,a.push(C))}for(A=0;A<E.length;A++)C=E[A],b=h._plots[C],b.mainplotinfo.overlays.push(b);var F=a.concat(E),z=new Array(d);for(A=0;A<d;A++){C=F[A],b=h._plots[C],S=b.xaxis,m=b.yaxis;var O=[C,S.layer,m.layer,S.overlaying||"",m.overlaying||""];for(w=0;w<b.overlays.length;w++)O.push(b.overlays[w].id);z[A]=O}return z}function l(T,h){var s=h.plotgroup,d=h.id,A=r.layerValue2layerClass[h.xaxis.layer],w=r.layerValue2layerClass[h.yaxis.layer],C=T._fullLayout._hasOnlyLargeSploms;if(h.mainplot){var S=h.mainplotinfo,m=S.plotgroup,a=d+"-x",E=d+"-y";h.minorGridlayer=S.minorGridlayer,h.gridlayer=S.gridlayer,h.zerolinelayer=S.zerolinelayer,i(S.overlinesBelow,"path",a),i(S.overlinesBelow,"path",E),i(S.overaxesBelow,"g",a),i(S.overaxesBelow,"g",E),h.plot=i(S.overplot,"g",d),i(S.overlinesAbove,"path",a),i(S.overlinesAbove,"path",E),i(S.overaxesAbove,"g",a),i(S.overaxesAbove,"g",E),h.xlines=m.select(".overlines-"+A).select("."+a),h.ylines=m.select(".overlines-"+w).select("."+E),h.xaxislayer=m.select(".overaxes-"+A).select("."+a),h.yaxislayer=m.select(".overaxes-"+w).select("."+E)}else if(C)h.xlines=i(s,"path","xlines-above"),h.ylines=i(s,"path","ylines-above"),h.xaxislayer=i(s,"g","xaxislayer-above"),h.yaxislayer=i(s,"g","yaxislayer-above");else{var b=i(s,"g","layer-subplot");h.shapelayer=i(b,"g","shapelayer"),h.imagelayer=i(b,"g","imagelayer"),h.minorGridlayer=i(s,"g","minor-gridlayer"),h.gridlayer=i(s,"g","gridlayer"),h.zerolinelayer=i(s,"g","zerolinelayer"),i(s,"path","xlines-below"),i(s,"path","ylines-below"),h.overlinesBelow=i(s,"g","overlines-below"),i(s,"g","xaxislayer-below"),i(s,"g","yaxislayer-below"),h.overaxesBelow=i(s,"g","overaxes-below"),h.plot=i(s,"g","plot"),h.overplot=i(s,"g","overplot"),h.xlines=i(s,"path","xlines-above"),h.ylines=i(s,"path","ylines-above"),h.overlinesAbove=i(s,"g","overlines-above"),i(s,"g","xaxislayer-above"),i(s,"g","yaxislayer-above"),h.overaxesAbove=i(s,"g","overaxes-above"),h.xlines=s.select(".xlines-"+A),h.ylines=s.select(".ylines-"+w),h.xaxislayer=s.select(".xaxislayer-"+A),h.yaxislayer=s.select(".yaxislayer-"+w)}C||(n(h.minorGridlayer,"g",h.xaxis._id),n(h.minorGridlayer,"g",h.yaxis._id),h.minorGridlayer.selectAll("g").map(function(x){return x[0]}).sort(p.idSort),n(h.gridlayer,"g",h.xaxis._id),n(h.gridlayer,"g",h.yaxis._id),h.gridlayer.selectAll("g").map(function(x){return x[0]}).sort(p.idSort)),h.xlines.style("fill","none").classed("crisp",!0),h.ylines.style("fill","none").classed("crisp",!0)}function g(T,h){if(T){var s={};T.each(function(S){var m=S[0],a=y.select(this);a.remove(),f(m,h),s[m]=!0});for(var d in h._plots)for(var A=h._plots[d],w=A.overlays||[],C=0;C<w.length;C++){var b=w[C];s[b.id]&&b.plot.selectAll(".trace").remove()}}}function f(T,h){h._draggers.selectAll("g."+T).remove(),h._defs.select("#clip"+h._uid+T+"plot").remove()}V.toSVG=function(T){var h=T._fullLayout._glimages,s=y.select(T).selectAll(".svg-container"),d=s.filter(function(w,C){return C===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function A(){var w=this,C=w.toDataURL("image/png"),b=h.append("svg:image");b.attr({xmlns:t.svg,"xlink:href":C,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}d.each(A)},V.updateFx=e(4305).updateFx},13838:function(G,V,e){var y=e(41940),P=e(22399),o=e(79952).P,L=e(1426).extendFlat,M=e(44467).templatedArray,v=e(12663).descriptionWithDates,p=e(50606).ONEDAY,r=e(85555),t=r.HOUR_PATTERN,i=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},c=L({},n,{values:n.values.slice().concat(["sync"])});function u(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},f={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function h(S){var m={valType:"number",min:0,editType:"ticks"};return S||(m.dflt=5),m}function s(S){var m={valType:"number",min:0,editType:"ticks"};return S||(m.dflt=1),m}var d={valType:"color",dflt:P.defaultLine,editType:"ticks"},A={valType:"color",dflt:P.lightLine,editType:"ticks"};function w(S){var m={valType:"number",min:0,editType:"ticks"};return S||(m.dflt=1),m}var C=L({},o,{editType:"ticks"}),b={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:P.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:y({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:M("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[i,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:c,nticks:u(),tick0:l,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:f,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:h(),tickwidth:s(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:y({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:M("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:b,gridcolor:A,gridwidth:w(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:P.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:u("minor"),tick0:l,dtick:g,tickvals:f,ticks:T,ticklen:h("minor"),tickwidth:s("minor"),tickcolor:d,gridcolor:A,gridwidth:w("minor"),griddash:C,showgrid:b,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:y({editType:"ticks"})}}},86763:function(G,V,e){var y=e(71828),P=e(7901),o=e(23469).isUnifiedHover,L=e(98212),M=e(44467),v=e(10820),p=e(13838),r=e(951),t=e(71453),i=e(99082),n=e(52830),c=e(41675),u=c.id2name,l=c.name2id,g=e(85555).AX_ID_PATTERN,f=e(73972),T=f.traceIs,h=f.getComponentMethod;function s(d,A,w){Array.isArray(d[A])?d[A].push(w):d[A]=[w]}G.exports=function(A,w,C){var b=w.autotypenumbers,S={},m={},a={},E={},x={},k={},I={},N={},F={},z={},O,_;for(O=0;O<C.length;O++){var B=C[O];if(!(!T(B,"cartesian")&&!T(B,"gl2d"))){var W;if(B.xaxis)W=u(B.xaxis),s(S,W,B);else if(B.xaxes)for(_=0;_<B.xaxes.length;_++)s(S,u(B.xaxes[_]),B);var $;if(B.yaxis)$=u(B.yaxis),s(S,$,B);else if(B.yaxes)for(_=0;_<B.yaxes.length;_++)s(S,u(B.yaxes[_]),B);if(B.type==="funnel"?B.orientation==="h"?(W&&(m[W]=!0),$&&(I[$]=!0)):$&&(a[$]=!0):B.type==="image"?($&&(N[$]=!0),W&&(N[W]=!0)):($&&(x[$]=!0,k[$]=!0),(!T(B,"carpet")||B.type==="carpet"&&!B._cheater)&&W&&(E[W]=!0)),B.type==="carpet"&&B._cheater&&W&&(m[W]=!0),T(B,"2dMap")&&(F[W]=!0,F[$]=!0),T(B,"oriented")){var te=B.orientation==="h"?$:W;z[te]=!0}}}var ie=w._subplots,ue=ie.xaxis,J=ie.yaxis,Y=y.simpleMap(ue,u),ae=y.simpleMap(J,u),j=Y.concat(ae),q=P.background;ue.length&&J.length&&(q=y.coerce(A,w,v,"plot_bgcolor"));var oe=P.combine(q,w.paper_bgcolor),Q,X,se,ne,fe;function ye(){var Te=S[Q]||[];fe._traceIndices=Te.map(function(Ne){return Ne._expandedIndex}),fe._annIndices=[],fe._shapeIndices=[],fe._selectionIndices=[],fe._imgIndices=[],fe._subplotsWith=[],fe._counterAxes=[],fe._name=fe._attr=Q,fe._id=X}function Se(Te,Ne){return y.coerce(ne,fe,p,Te,Ne)}function we(Te,Ne){return y.coerce2(ne,fe,p,Te,Ne)}function _e(Te){return Te==="x"?J:ue}function ke(Te,Ne){for(var Ye=Te==="x"?Y:ae,et=[],ft=0;ft<Ye.length;ft++){var pt=Ye[ft];pt!==Ne&&!(A[pt]||{}).overlaying&&et.push(l(pt))}return et}var Me={x:_e("x"),y:_e("y")},me=Me.x.concat(Me.y),Ee={},Be=[];function Ue(){var Te=ne.matches;g.test(Te)&&me.indexOf(Te)===-1&&(Ee[Te]=ne.type,Be=Object.keys(Ee))}var De=L(A,w),He=o(De);for(O=0;O<j.length;O++){Q=j[O],X=l(Q),se=Q.charAt(0),y.isPlainObject(A[Q])||(A[Q]={}),ne=A[Q],fe=M.newContainer(w,Q,se+"axis"),ye();var nt=se==="x"&&!E[Q]&&m[Q]||se==="y"&&!x[Q]&&a[Q],lt=se==="y"&&(!k[Q]&&I[Q]||N[Q]),$e={hasMinor:!0,letter:se,font:w.font,outerTicks:F[Q],showGrid:!z[Q],data:S[Q]||[],bgColor:oe,calendar:w.calendar,automargin:!0,visibleDflt:nt,reverseDflt:lt,autotypenumbersDflt:b,splomStash:((w._splomAxes||{})[se]||{})[X]};Se("uirevision",w.uirevision),r(ne,fe,Se,$e),t(ne,fe,Se,$e,w);var qe=He&&se===De.charAt(0),ct=we("spikecolor",He?fe.color:void 0),dt=we("spikethickness",He?1.5:void 0),gt=we("spikedash",He?"dot":void 0),At=we("spikemode",He?"across":void 0),Rt=we("spikesnap"),Vt=Se("showspikes",!!qe||!!ct||!!dt||!!gt||!!At||!!Rt);Vt||(delete fe.spikecolor,delete fe.spikethickness,delete fe.spikedash,delete fe.spikemode,delete fe.spikesnap);var Je=u(ne.overlaying),Ve=[0,1];if(w[Je]!==void 0){var Ie=u(w[Je].anchor);w[Ie]!==void 0&&(Ve=w[Ie].domain)}n(ne,fe,Se,{letter:se,counterAxes:Me[se],overlayableAxes:ke(se,Q),grid:w.grid,overlayingDomain:Ve}),Se("title.standoff"),Ue(),fe._input=ne}for(O=0;O<Be.length;){X=Be[O++],Q=u(X),se=Q.charAt(0),y.isPlainObject(A[Q])||(A[Q]={}),ne=A[Q],fe=M.newContainer(w,Q,se+"axis"),ye();var Oe={letter:se,font:w.font,outerTicks:F[Q],showGrid:!z[Q],data:[],bgColor:oe,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:b,splomStash:((w._splomAxes||{})[se]||{})[X]};Se("uirevision",w.uirevision),fe.type=Ee[X]||"linear",t(ne,fe,Se,Oe,w),n(ne,fe,Se,{letter:se,counterAxes:Me[se],overlayableAxes:ke(se,Q),grid:w.grid}),Se("fixedrange"),Ue(),fe._input=ne}var Le=h("rangeslider","handleDefaults"),xe=h("rangeselector","handleDefaults");for(O=0;O<Y.length;O++)Q=Y[O],ne=A[Q],fe=w[Q],Le(A,w,Q),fe.type==="date"&&xe(ne,fe,w,ae,fe.calendar),Se("fixedrange");for(O=0;O<ae.length;O++){Q=ae[O],ne=A[Q],fe=w[Q];var pe=w[u(fe.anchor)],Ae=h("rangeslider","isVisible")(pe);Se("fixedrange",Ae)}i.handleDefaults(A,w,{axIds:me.concat(Be).sort(c.idSort),axHasImage:N})}},92128:function(G,V,e){var y=e(84267).mix,P=e(22399),o=e(71828);G.exports=function(M,v,p,r){r=r||{};var t=r.dfltColor;function i(a,E){return o.coerce2(M,v,r.attributes,a,E)}var n=i("linecolor",t),c=i("linewidth"),u=p("showline",r.showLine||!!n||!!c);u||(delete v.linecolor,delete v.linewidth);var l=y(t,r.bgColor,r.blend||P.lightFraction).toRgbString(),g=i("gridcolor",l),f=i("gridwidth"),T=i("griddash"),h=p("showgrid",r.showGrid||!!g||!!f||!!T);if(h||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var s=y(v.gridcolor,r.bgColor,67).toRgbString(),d=i("minor.gridcolor",s),A=i("minor.gridwidth",v.gridwidth||1),w=i("minor.griddash",v.griddash||"solid"),C=p("minor.showgrid",!!d||!!A||!!w);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var b=i("zerolinecolor",t),S=i("zerolinewidth"),m=p("zeroline",r.showGrid||!!b||!!S);m||(delete v.zerolinecolor,delete v.zerolinewidth)}}},52830:function(G,V,e){var y=e(92770),P=e(71828);G.exports=function(L,M,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],i=p.letter,n=p.grid,c=p.overlayingDomain,u,l,g,f,T,h;n&&(l=n._domains[i][n._axisMap[M._id]],u=n._anchors[M._id],l&&(g=n[i+"side"].split(" ")[0],f=n.domain[i][g==="right"||g==="top"?1:0])),l=l||[0,1],u=u||(y(L.position)?"free":r[0]||"free"),g=g||(i==="x"?"bottom":"left"),f=f||0,T=0,h=!1;var s=P.coerce(L,M,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),d=P.coerce(L,M,{side:{valType:"enumerated",values:i==="x"?["bottom","top"]:["left","right"],dflt:g}},"side");if(s==="free"){if(i==="y"){var A=v("autoshift");A&&(f=d==="left"?c[0]:c[1],h=M.automargin?M.automargin:!0,T=d==="left"?-3:3),v("shift",T)}v("position",f)}v("automargin",h);var w=!1;if(t.length&&(w=P.coerce(L,M,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var C=v("domain",l);C[0]>C[1]-.000244140625&&(M.domain=l),P.noneOrAll(L.domain,M.domain,l),M.tickmode==="sync"&&(M.tickmode="auto")}return v("layer"),M}},89426:function(G,V,e){var y=e(59652);G.exports=function(o,L,M,v,p){p||(p={});var r=p.tickSuffixDflt,t=y(o),i=M("tickprefix");i&&M("showtickprefix",t);var n=M("ticksuffix",r);n&&M("showticksuffix",t)}},23608:function(G,V,e){var y=e(23074);G.exports=function(o,L,M,v){var p=L._template||{},r=L.type||p.type||"-";M("minallowed"),M("maxallowed");var t=M("range");if(!t){var i;!v.noInsiderange&&r!=="log"&&(i=M("insiderange"),i&&(i[0]===null||i[1]===null)&&(L.insiderange=!1,i=void 0),i&&(t=M("range",i)))}var n=L.getAutorangeDflt(t,v),c=M("autorange",n),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(c==="reversed"||c===!0)||t[0]!==null&&(c==="min"||c==="max reversed")||t[1]!==null&&(c==="max"||c==="min reversed"))&&(t=void 0,delete L.range,L.autorange=!0,u=!0),u||(n=L.getAutorangeDflt(t,v),c=M("autorange",n)),c&&(y(M,c,t),(r==="linear"||r==="-")&&M("rangemode")),L.cleanRange()}},42449:function(G,V,e){var y=e(18783).FROM_BL;G.exports=function(o,L,M){M===void 0&&(M=y[o.constraintoward||"center"]);var v=[o.r2l(o.range[0]),o.r2l(o.range[1])],p=v[0]+(v[1]-v[0])*M;o.range=o._input.range=[o.l2r(p+(v[0]-p)*L),o.l2r(p+(v[1]-p)*L)],o.setScale()}},21994:function(G,V,e){var y=e(39898),P=e(84096).g0,o=e(71828),L=o.numberFormat,M=e(92770),v=o.cleanNumber,p=o.ms2DateTime,r=o.dateTime2ms,t=o.ensureNumber,i=o.isArrayOrTypedArray,n=e(50606),c=n.FP_SAFE,u=n.BADNUM,l=n.LOG_CLIP,g=n.ONEWEEK,f=n.ONEDAY,T=n.ONEHOUR,h=n.ONEMIN,s=n.ONESEC,d=e(41675),A=e(85555),w=A.HOUR_PATTERN,C=A.WEEKDAY_PATTERN;function b(m){return Math.pow(10,m)}function S(m){return m!=null}G.exports=function(a,E){E=E||{};var x=a._id||"x",k=x.charAt(0);function I(j,q){if(j>0)return Math.log(j)/Math.LN10;if(j<=0&&q&&a.range&&a.range.length===2){var oe=a.range[0],Q=a.range[1];return .5*(oe+Q-2*l*Math.abs(oe-Q))}else return u}function N(j,q,oe,Q){if((Q||{}).msUTC&&M(j))return+j;var X=r(j,oe||a.calendar);if(X===u)if(M(j)){j=+j;var se=Math.floor(o.mod(j+.05,1)*10),ne=Math.round(j-se/10);X=r(new Date(ne))+se/10}else return u;return X}function F(j,q,oe){return p(j,q,oe||a.calendar)}function z(j){return a._categories[Math.round(j)]}function O(j){if(S(j)){if(a._categoriesMap===void 0&&(a._categoriesMap={}),a._categoriesMap[j]!==void 0)return a._categoriesMap[j];a._categories.push(typeof j=="number"?String(j):j);var q=a._categories.length-1;return a._categoriesMap[j]=q,q}return u}function _(j,q){for(var oe=new Array(q),Q=0;Q<q;Q++){var X=(j[0]||[])[Q],se=(j[1]||[])[Q];oe[Q]=B([X,se])}return oe}function B(j){if(a._categoriesMap)return a._categoriesMap[j]}function W(j){var q=B(j);if(q!==void 0)return q;if(M(j))return+j}function $(j){return M(j)?+j:B(j)}function te(j,q,oe){return y.round(oe+q*j,2)}function ie(j,q,oe){return(j-oe)/q}var ue=function(q){return M(q)?te(q,a._m,a._b):u},J=function(j){return ie(j,a._m,a._b)};if(a.rangebreaks){var Y=k==="y";ue=function(j){if(!M(j))return u;var q=a._rangebreaks.length;if(!q)return te(j,a._m,a._b);var oe=Y;a.range[0]>a.range[1]&&(oe=!oe);for(var Q=oe?-1:1,X=Q*j,se=0,ne=0;ne<q;ne++){var fe=Q*a._rangebreaks[ne].min,ye=Q*a._rangebreaks[ne].max;if(X<fe)break;if(X>ye)se=ne+1;else{se=X<(fe+ye)/2?ne:ne+1;break}}var Se=a._B[se]||0;return isFinite(Se)?te(j,a._m2,Se):0},J=function(j){var q=a._rangebreaks.length;if(!q)return ie(j,a._m,a._b);for(var oe=0,Q=0;Q<q&&!(j<a._rangebreaks[Q].pmin);Q++)j>a._rangebreaks[Q].pmax&&(oe=Q+1);return ie(j,a._m2,a._B[oe])}}a.c2l=a.type==="log"?I:t,a.l2c=a.type==="log"?b:t,a.l2p=ue,a.p2l=J,a.c2p=a.type==="log"?function(j,q){return ue(I(j,q))}:ue,a.p2c=a.type==="log"?function(j){return b(J(j))}:J,["linear","-"].indexOf(a.type)!==-1?(a.d2r=a.r2d=a.d2c=a.r2c=a.d2l=a.r2l=v,a.c2d=a.c2r=a.l2d=a.l2r=t,a.d2p=a.r2p=function(j){return a.l2p(v(j))},a.p2d=a.p2r=J,a.cleanPos=t):a.type==="log"?(a.d2r=a.d2l=function(j,q){return I(v(j),q)},a.r2d=a.r2c=function(j){return b(v(j))},a.d2c=a.r2l=v,a.c2d=a.l2r=t,a.c2r=I,a.l2d=b,a.d2p=function(j,q){return a.l2p(a.d2r(j,q))},a.p2d=function(j){return b(J(j))},a.r2p=function(j){return a.l2p(v(j))},a.p2r=J,a.cleanPos=t):a.type==="date"?(a.d2r=a.r2d=o.identity,a.d2c=a.r2c=a.d2l=a.r2l=N,a.c2d=a.c2r=a.l2d=a.l2r=F,a.d2p=a.r2p=function(j,q,oe){return a.l2p(N(j,0,oe))},a.p2d=a.p2r=function(j,q,oe){return F(J(j),q,oe)},a.cleanPos=function(j){return o.cleanDate(j,u,a.calendar)}):a.type==="category"?(a.d2c=a.d2l=O,a.r2d=a.c2d=a.l2d=z,a.d2r=a.d2l_noadd=W,a.r2c=function(j){var q=$(j);return q!==void 0?q:a.fraction2r(.5)},a.l2r=a.c2r=t,a.r2l=$,a.d2p=function(j){return a.l2p(a.r2c(j))},a.p2d=function(j){return z(J(j))},a.r2p=a.d2p,a.p2r=J,a.cleanPos=function(j){return typeof j=="string"&&j!==""?j:t(j)}):a.type==="multicategory"&&(a.r2d=a.c2d=a.l2d=z,a.d2r=a.d2l_noadd=W,a.r2c=function(j){var q=W(j);return q!==void 0?q:a.fraction2r(.5)},a.r2c_just_indices=B,a.l2r=a.c2r=t,a.r2l=W,a.d2p=function(j){return a.l2p(a.r2c(j))},a.p2d=function(j){return z(J(j))},a.r2p=a.d2p,a.p2r=J,a.cleanPos=function(j){return Array.isArray(j)||typeof j=="string"&&j!==""?j:t(j)},a.setupMultiCategory=function(j){var q=a._traceIndices,oe,Q,X=a._matchGroup;if(X&&a._categories.length===0){for(var se in X)if(se!==x){var ne=E[d.id2name(se)];q=q.concat(ne._traceIndices)}}var fe=[[0,{}],[0,{}]],ye=[];for(oe=0;oe<q.length;oe++){var Se=j[q[oe]];if(k in Se){var we=Se[k],_e=Se._length||o.minRowLength(we);if(i(we[0])&&i(we[1]))for(Q=0;Q<_e;Q++){var ke=we[0][Q],Me=we[1][Q];S(ke)&&S(Me)&&(ye.push([ke,Me]),ke in fe[0][1]||(fe[0][1][ke]=fe[0][0]++),Me in fe[1][1]||(fe[1][1][Me]=fe[1][0]++))}}}for(ye.sort(function(me,Ee){var Be=fe[0][1],Ue=Be[me[0]]-Be[Ee[0]];if(Ue)return Ue;var De=fe[1][1];return De[me[1]]-De[Ee[1]]}),oe=0;oe<ye.length;oe++)O(ye[oe])}),a.fraction2r=function(j){var q=a.r2l(a.range[0]),oe=a.r2l(a.range[1]);return a.l2r(q+j*(oe-q))},a.r2fraction=function(j){var q=a.r2l(a.range[0]),oe=a.r2l(a.range[1]);return(a.r2l(j)-q)/(oe-q)},a.limitRange=function(j){var q=a.minallowed,oe=a.maxallowed;if(!(q===void 0&&oe===void 0)){j||(j="range");var Q=o.nestedProperty(a,j).get(),X=o.simpleMap(Q,a.r2l),se=X[1]<X[0];se&&X.reverse();var ne=o.simpleMap([q,oe],a.r2l);if(q!==void 0&&X[0]<ne[0]&&(Q[se?1:0]=q),oe!==void 0&&X[1]>ne[1]&&(Q[se?0:1]=oe),Q[0]===Q[1]){var fe=a.l2r(q),ye=a.l2r(oe);if(q!==void 0){var Se=fe+1;oe!==void 0&&(Se=Math.min(Se,ye)),Q[se?1:0]=Se}if(oe!==void 0){var we=ye+1;q!==void 0&&(we=Math.max(we,fe)),Q[se?0:1]=we}}}},a.cleanRange=function(j,q){a._cleanRange(j,q),a.limitRange(j)},a._cleanRange=function(j,q){q||(q={}),j||(j="range");var oe=o.nestedProperty(a,j).get(),Q,X;if(a.type==="date"?X=o.dfltRange(a.calendar):k==="y"?X=A.DFLTRANGEY:a._name==="realaxis"?X=[0,1]:X=q.dfltRange||A.DFLTRANGEX,X=X.slice(),(a.rangemode==="tozero"||a.rangemode==="nonnegative")&&(X[0]=0),!oe||oe.length!==2){o.nestedProperty(a,j).set(X);return}var se=oe[0]===null,ne=oe[1]===null;for(a.type==="date"&&!a.autorange&&(oe[0]=o.cleanDate(oe[0],u,a.calendar),oe[1]=o.cleanDate(oe[1],u,a.calendar)),Q=0;Q<2;Q++)if(a.type==="date"){if(!o.isDateTime(oe[Q],a.calendar)){a[j]=X;break}if(a.r2l(oe[0])===a.r2l(oe[1])){var fe=o.constrain(a.r2l(oe[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);oe[0]=a.l2r(fe-1e3),oe[1]=a.l2r(fe+1e3);break}}else{if(!M(oe[Q]))if(!(se||ne)&&M(oe[1-Q]))oe[Q]=oe[1-Q]*(Q?10:.1);else{a[j]=X;break}if(oe[Q]<-c?oe[Q]=-c:oe[Q]>c&&(oe[Q]=c),oe[0]===oe[1]){var ye=Math.max(1,Math.abs(oe[0]*1e-6));oe[0]-=ye,oe[1]+=ye}}},a.setScale=function(j){var q=E._size;if(a.overlaying){var oe=d.getFromId({_fullLayout:E},a.overlaying);a.domain=oe.domain}var Q=j&&a._r?"_r":"range",X=a.calendar;a.cleanRange(Q);var se=a.r2l(a[Q][0],X),ne=a.r2l(a[Q][1],X),fe=k==="y";if(fe?(a._offset=q.t+(1-a.domain[1])*q.h,a._length=q.h*(a.domain[1]-a.domain[0]),a._m=a._length/(se-ne),a._b=-a._m*ne):(a._offset=q.l+a.domain[0]*q.w,a._length=q.w*(a.domain[1]-a.domain[0]),a._m=a._length/(ne-se),a._b=-a._m*se),a._rangebreaks=[],a._lBreaks=0,a._m2=0,a._B=[],a.rangebreaks){var ye,Se;if(a._rangebreaks=a.locateBreaks(Math.min(se,ne),Math.max(se,ne)),a._rangebreaks.length){for(ye=0;ye<a._rangebreaks.length;ye++)Se=a._rangebreaks[ye],a._lBreaks+=Math.abs(Se.max-Se.min);var we=fe;se>ne&&(we=!we),we&&a._rangebreaks.reverse();var _e=we?-1:1;for(a._m2=_e*a._length/(Math.abs(ne-se)-a._lBreaks),a._B.push(-a._m2*(fe?ne:se)),ye=0;ye<a._rangebreaks.length;ye++)Se=a._rangebreaks[ye],a._B.push(a._B[a._B.length-1]-_e*a._m2*(Se.max-Se.min));for(ye=0;ye<a._rangebreaks.length;ye++)Se=a._rangebreaks[ye],Se.pmin=ue(Se.min),Se.pmax=ue(Se.max)}}if(!isFinite(a._m)||!isFinite(a._b)||a._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},a.maskBreaks=function(j){var q=a.rangebreaks||[],oe,Q,X,se,ne;q._cachedPatterns||(q._cachedPatterns=q.map(function(Be){return Be.enabled&&Be.bounds?o.simpleMap(Be.bounds,Be.pattern?v:a.d2c):null})),q._cachedValues||(q._cachedValues=q.map(function(Be){return Be.enabled&&Be.values?o.simpleMap(Be.values,a.d2c).sort(o.sorterAsc):null}));for(var fe=0;fe<q.length;fe++){var ye=q[fe];if(ye.enabled){if(ye.bounds){var Se=ye.pattern;switch(oe=q._cachedPatterns[fe],Q=oe[0],X=oe[1],Se){case C:ne=new Date(j),se=ne.getUTCDay(),Q>X&&(X+=7,se<Q&&(se+=7));break;case w:ne=new Date(j);var we=ne.getUTCHours(),_e=ne.getUTCMinutes(),ke=ne.getUTCSeconds(),Me=ne.getUTCMilliseconds();se=we+(_e/60+ke/3600+Me/36e5),Q>X&&(X+=24,se<Q&&(se+=24));break;case"":se=j;break}if(se>=Q&&se<X)return u}else for(var me=q._cachedValues[fe],Ee=0;Ee<me.length;Ee++)if(Q=me[Ee],X=Q+ye.dvalue,j>=Q&&j<X)return u}}return j},a.locateBreaks=function(j,q){var oe,Q,X,se,ne=[];if(!a.rangebreaks)return ne;var fe=a.rangebreaks.slice().sort(function(De,He){return De.pattern===C&&He.pattern===w?-1:He.pattern===C&&De.pattern===w?1:0}),ye=function(De,He){if(De=o.constrain(De,j,q),He=o.constrain(He,j,q),De!==He){for(var nt=!0,lt=0;lt<ne.length;lt++){var $e=ne[lt];De<$e.max&&He>=$e.min&&(De<$e.min&&($e.min=De),He>$e.max&&($e.max=He),nt=!1)}nt&&ne.push({min:De,max:He})}};for(oe=0;oe<fe.length;oe++){var Se=fe[oe];if(Se.enabled)if(Se.bounds){var we=j,_e=q;Se.pattern&&(we=Math.floor(we)),Q=o.simpleMap(Se.bounds,Se.pattern?v:a.r2l),X=Q[0],se=Q[1];var ke=new Date(we),Me,me;switch(Se.pattern){case C:me=g,Me=((se<X?7:0)+(se-X))*f,we+=X*f-(ke.getUTCDay()*f+ke.getUTCHours()*T+ke.getUTCMinutes()*h+ke.getUTCSeconds()*s+ke.getUTCMilliseconds());break;case w:me=f,Me=((se<X?24:0)+(se-X))*T,we+=X*T-(ke.getUTCHours()*T+ke.getUTCMinutes()*h+ke.getUTCSeconds()*s+ke.getUTCMilliseconds());break;default:we=Math.min(Q[0],Q[1]),_e=Math.max(Q[0],Q[1]),me=_e-we,Me=me}for(var Ee=we;Ee<_e;Ee+=me)ye(Ee,Ee+Me)}else for(var Be=o.simpleMap(Se.values,a.d2c),Ue=0;Ue<Be.length;Ue++)X=Be[Ue],se=X+Se.dvalue,ye(X,se)}return ne.sort(function(De,He){return De.min-He.min}),ne},a.makeCalcdata=function(j,q,oe){var Q,X,se,ne,fe=a.type,ye=fe==="date"&&j[q+"calendar"];if(q in j){if(Q=j[q],ne=j._length||o.minRowLength(Q),o.isTypedArray(Q)&&(fe==="linear"||fe==="log")){if(ne===Q.length)return Q;if(Q.subarray)return Q.subarray(0,ne)}if(fe==="multicategory")return _(Q,ne);for(X=new Array(ne),se=0;se<ne;se++)X[se]=a.d2c(Q[se],0,ye,oe)}else{var Se=q+"0"in j?a.d2c(j[q+"0"],0,ye):0,we=j["d"+q]?Number(j["d"+q]):1;for(Q=j[{x:"y",y:"x"}[q]],ne=j._length||Q.length,X=new Array(ne),se=0;se<ne;se++)X[se]=Se+se*we}if(a.rangebreaks)for(se=0;se<ne;se++)X[se]=a.maskBreaks(X[se]);return X},a.isValidRange=function(j,q){return Array.isArray(j)&&j.length===2&&(q&&j[0]===null||M(a.r2l(j[0])))&&(q&&j[1]===null||M(a.r2l(j[1])))},a.getAutorangeDflt=function(j,q){var oe=!a.isValidRange(j,"nullOk");return oe&&q&&q.reverseDflt?oe="reversed":j&&(j[0]===null&&j[1]===null?oe=!0:j[0]===null&&j[1]!==null?oe="min":j[0]!==null&&j[1]===null&&(oe="max")),oe},a.isReversed=function(){var j=a.autorange;return j==="reversed"||j==="min reversed"||j==="max reversed"},a.isPtWithinRange=function(j,q){var oe=a.c2l(j[k],null,q),Q=a.r2l(a.range[0]),X=a.r2l(a.range[1]);return Q<X?Q<=oe&&oe<=X:X<=oe&&oe<=Q},a._emptyCategories=function(){a._categories=[],a._categoriesMap={}},a.clearCalc=function(){var j=a._matchGroup;if(j){var q=null,oe=null;for(var Q in j){var X=E[d.id2name(Q)];if(X._categories){q=X._categories,oe=X._categoriesMap;break}}q&&oe?(a._categories=q,a._categoriesMap=oe):a._emptyCategories()}else a._emptyCategories();if(a._initialCategories)for(var se=0;se<a._initialCategories.length;se++)O(a._initialCategories[se])},a.sortByInitialCategories=function(){var j=[];if(a._emptyCategories(),a._initialCategories)for(var q=0;q<a._initialCategories.length;q++)O(a._initialCategories[q]);j=j.concat(a._traceIndices);var oe=a._matchGroup;for(var Q in oe)if(x!==Q){var X=E[d.id2name(Q)];X._categories=a._categories,X._categoriesMap=a._categoriesMap,j=j.concat(X._traceIndices)}return j};var ae=E._d3locale;a.type==="date"&&(a._dateFormat=ae?ae.timeFormat:P,a._extraFormat=E._extraFormat),a._separators=E.separators,a._numFormat=ae?ae.numberFormat:L,delete a._minDtick,delete a._forceTick0}},59652:function(G){G.exports=function(e){var y=["showexponent","showtickprefix","showticksuffix"],P=y.filter(function(L){return e[L]!==void 0}),o=function(L){return e[L]===e[P[0]]};if(P.every(o)||P.length===1)return e[P[0]]}},96115:function(G,V,e){var y=e(71828),P=e(7901).contrast,o=e(13838),L=e(59652),M=e(85501);G.exports=function(r,t,i,n,c){c||(c={});var u=i("labelalias");y.isPlainObject(u)||delete t.labelalias;var l=L(r),g=i("showticklabels");if(g){var f=c.font||{},T=t.color,h=t.ticklabelposition||"",s=h.indexOf("inside")!==-1?P(c.bgColor):T&&T!==o.color.dflt?T:f.color;if(y.coerceFont(i,"tickfont",{family:f.family,size:f.size,color:s}),!c.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&i("ticklabelstep"),c.noAng||i("tickangle"),n!=="category"){var d=i("tickformat");M(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!c.noExp&&!d&&n!=="date"&&(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}};function v(p,r){function t(n,c){return y.coerce(p,r,o.tickformatstops,n,c)}var i=t("enabled");i&&(t("dtickrange"),t("value"))}},38701:function(G,V,e){var y=e(71828),P=e(13838);G.exports=function(L,M,v,p){var r=p.isMinor,t=r?L.minor||{}:L,i=r?M.minor:M,n=r?P.minor:P,c=r?"minor.":"",u=y.coerce2(t,i,n,"ticklen",r?(M.ticklen||5)*.6:void 0),l=y.coerce2(t,i,n,"tickwidth",r?M.tickwidth||1:void 0),g=y.coerce2(t,i,n,"tickcolor",(r?M.tickcolor:void 0)||i.color),f=v(c+"ticks",!r&&p.outerTicks||u||l||g?"outside":"");f||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26218:function(G,V,e){var y=e(66287),P=e(71828).isArrayOrTypedArray,o=e(73627).isTypedArraySpec,L=e(73627).decodeTypedArraySpec;G.exports=function(v,p,r,t,i){i||(i={});var n=i.isMinor,c=n?v.minor||{}:v,u=n?p.minor:p,l=n?"minor.":"";function g(C){var b=c[C];return o(b)&&(b=L(b)),b!==void 0?b:(u._template||{})[C]}var f=g("tick0"),T=g("dtick"),h=g("tickvals"),s=P(h)?"array":T?"linear":"auto",d=r(l+"tickmode",s);if(d==="auto"||d==="sync")r(l+"nticks");else if(d==="linear"){var A=u.dtick=y.dtick(T,t);u.tick0=y.tick0(f,t,p.calendar,A)}else if(t!=="multicategory"){var w=r(l+"tickvals");w===void 0?u.tickmode="auto":n||r("ticktext")}}},66847:function(G,V,e){var y=e(39898),P=e(73972),o=e(71828),L=e(91424),M=e(89298);G.exports=function(p,r,t,i){var n=p._fullLayout;if(r.length===0){M.redrawComponents(p);return}function c(w){var C=w.xaxis,b=w.yaxis;n._defs.select("#"+w.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),w.plot.call(L.setTranslate,C._offset,b._offset).call(L.setScale,1,1);var S=w.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(L.setPointGroupScale,1,1),S.selectAll(".textpoint").call(L.setTextPointsScale,1,1),S.call(L.hideOutsideRangePoints,w)}function u(w,C){var b=w.plotinfo,S=b.xaxis,m=b.yaxis,a=S._length,E=m._length,x=!!w.xr1,k=!!w.yr1,I=[];if(x){var N=o.simpleMap(w.xr0,S.r2l),F=o.simpleMap(w.xr1,S.r2l),z=N[1]-N[0],O=F[1]-F[0];I[0]=(N[0]*(1-C)+C*F[0]-N[0])/(N[1]-N[0])*a,I[2]=a*(1-C+C*O/z),S.range[0]=S.l2r(N[0]*(1-C)+C*F[0]),S.range[1]=S.l2r(N[1]*(1-C)+C*F[1])}else I[0]=0,I[2]=a;if(k){var _=o.simpleMap(w.yr0,m.r2l),B=o.simpleMap(w.yr1,m.r2l),W=_[1]-_[0],$=B[1]-B[0];I[1]=(_[1]*(1-C)+C*B[1]-_[1])/(_[0]-_[1])*E,I[3]=E*(1-C+C*$/W),m.range[0]=S.l2r(_[0]*(1-C)+C*B[0]),m.range[1]=m.l2r(_[1]*(1-C)+C*B[1])}else I[1]=0,I[3]=E;M.drawOne(p,S,{skipTitle:!0}),M.drawOne(p,m,{skipTitle:!0}),M.redrawComponents(p,[S._id,m._id]);var te=x?a/I[2]:1,ie=k?E/I[3]:1,ue=x?I[0]:0,J=k?I[1]:0,Y=x?I[0]/I[2]*a:0,ae=k?I[1]/I[3]*E:0,j=S._offset-Y,q=m._offset-ae;b.clipRect.call(L.setTranslate,ue,J).call(L.setScale,1/te,1/ie),b.plot.call(L.setTranslate,j,q).call(L.setScale,te,ie),L.setPointGroupScale(b.zoomScalePts,1/te,1/ie),L.setTextPointsScale(b.zoomScaleTxt,1/te,1/ie)}var l;i&&(l=i());function g(){for(var w={},C=0;C<r.length;C++){var b=r[C],S=b.plotinfo.xaxis,m=b.plotinfo.yaxis;b.xr1&&(w[S._name+".range"]=b.xr1.slice()),b.yr1&&(w[m._name+".range"]=b.yr1.slice())}return l&&l(),P.call("relayout",p,w).then(function(){for(var a=0;a<r.length;a++)c(r[a].plotinfo)})}function f(){for(var w={},C=0;C<r.length;C++){var b=r[C],S=b.plotinfo.xaxis,m=b.plotinfo.yaxis;b.xr0&&(w[S._name+".range"]=b.xr0.slice()),b.yr0&&(w[m._name+".range"]=b.yr0.slice())}return P.call("relayout",p,w).then(function(){for(var a=0;a<r.length;a++)c(r[a].plotinfo)})}var T,h,s,d=y.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(s),s=null,f()});function A(){h=Date.now();for(var w=Math.min(1,(h-T)/t.duration),C=d(w),b=0;b<r.length;b++)u(r[b],C);h-T>t.duration?(g(),s=window.cancelAnimationFrame(A)):s=window.requestAnimationFrame(A)}return T=Date.now(),s=window.requestAnimationFrame(A),Promise.resolve()}},951:function(G,V,e){var y=e(73972).traceIs,P=e(4322);G.exports=function(r,t,i,n){i("autotypenumbers",n.autotypenumbersDflt);var c=i("type",(n.splomStash||{}).type);c==="-"&&(o(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function o(p,r){if(p.type==="-"){var t=p._id,i=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=i);var c=L(r,t,i);if(c){if(c.type==="histogram"&&i==={v:"y",h:"x"}[c.orientation||"v"]){p.type="linear";return}var u=i+"calendar",l=c[u],g={noMultiCategory:!y(c,"cartesian")||y(c,"noMultiCategory")};if(c.type==="box"&&c._hasPreCompStats&&i==={h:"x",v:"y"}[c.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=p.autotypenumbers,v(c,i)){var f=M(c),T=[];for(n=0;n<r.length;n++){var h=r[n];!y(h,"box-violin")||(h[i+"axis"]||i)!==t||(h[f]!==void 0?T.push(h[f][0]):h.name!==void 0?T.push(h.name):T.push("text"),h[u]!==l&&(l=void 0))}p.type=P(T,l,g)}else if(c.type==="splom"){var s=c.dimensions,d=s[c._axesDim[t]];d.visible&&(p.type=P(d.values,l,g))}else p.type=P(c[i]||[c[i+"0"]],l,g)}}}function L(p,r,t){for(var i=0;i<p.length;i++){var n=p[i];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function M(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=M(p),i=y(p,"box-violin"),n=y(p._fullInput||{},"candlestick");return i&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},31137:function(G,V,e){var y=e(73972),P=e(71828);V.manageCommandObserver=function(r,t,i,n){var c={},u=!0;t&&t._commandObserver&&(c=t._commandObserver),c.cache||(c.cache={}),c.lookupTable={};var l=V.hasSimpleAPICommandBindings(r,i,c.lookupTable);if(t&&t._commandObserver){if(l)return c;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,c}if(l){o(r,l,c.cache),c.check=function(){if(u){var h=o(r,l,c.cache);return h.changed&&n&&c.lookupTable[h.value]!==void 0&&(c.disable(),Promise.resolve(n({value:h.value,type:l.type,prop:l.prop,traces:l.traces,index:c.lookupTable[h.value]})).then(c.enable,c.enable)),h.changed}};for(var g=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<g.length;f++)r._internalOn(g[f],c.check);c.remove=function(){for(var T=0;T<g.length;T++)r._removeInternalListener(g[T],c.check)}}else P.log("Unable to automatically bind plot updates to API command"),c.lookupTable={},c.remove=function(){};return c.disable=function(){u=!1},c.enable=function(){u=!0},t&&(t._commandObserver=c),c},V.hasSimpleAPICommandBindings=function(r,t,i){var n,c=t.length,u;for(n=0;n<c;n++){var l,g=t[n],f=g.method,T=g.args;if(Array.isArray(T)||(T=[]),!f)return!1;var h=V.computeAPICommandBindings(r,f,T);if(h.length!==1)return!1;if(!u)u=h[0],Array.isArray(u.traces)&&u.traces.sort();else{if(l=h[0],l.type!==u.type||l.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var s=0;s<u.traces.length;s++)if(u.traces[s]!==l.traces[s])return!1}else return!1;else if(l.prop!==u.prop)return!1}l=h[0];var d=l.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;i&&(i[d]=n)}return u};function o(r,t,i){var n,c,u,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return c=P.nestedProperty(n,t.prop).get(),u=i[t.type]=i[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==c&&(l=!0),u[t.prop]=c,{changed:l,value:c}}V.executeAPICommand=function(r,t,i){if(t==="skip")return Promise.resolve();var n=y.apiMethodRegistry[t],c=[r];Array.isArray(i)||(i=[]);for(var u=0;u<i.length;u++)c.push(i[u]);return n.apply(null,c).catch(function(l){return P.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},V.computeAPICommandBindings=function(r,t,i){var n;switch(Array.isArray(i)||(i=[]),t){case"restyle":n=v(r,i);break;case"relayout":n=M(r,i);break;case"update":n=v(r,[i[0],i[2]]).concat(M(r,[i[1]]));break;case"animate":n=L(r,i);break;default:n=[]}return n};function L(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function M(r,t){var i=[],n=t[0],c={};if(typeof n=="string")c[n]=t[1];else if(P.isPlainObject(n))c=n;else return i;return p(c,function(u,l,g){i.push({type:"layout",prop:u,value:g})},"",0),i}function v(r,t){var i,n,c,u,l=[];if(n=t[0],c=t[1],i=t[2],u={},typeof n=="string")u[n]=c;else if(P.isPlainObject(n))u=n,i===void 0&&(i=c);else return l;return i===void 0&&(i=null),p(u,function(g,f,T){var h,s;if(Array.isArray(T)){s=T.slice();var d=Math.min(s.length,r.data.length);i&&(d=Math.min(d,i.length)),h=[];for(var A=0;A<d;A++)h[A]=i?i[A]:A}else s=T,h=i?i.slice():null;if(h===null)Array.isArray(s)&&(s=s[0]);else if(Array.isArray(h)){if(!Array.isArray(s)){var w=s;s=[];for(var C=0;C<h.length;C++)s[C]=w}s.length=Math.min(h.length,s.length)}l.push({type:"data",prop:g,traces:h,value:s})},"",0),l}function p(r,t,i,n){Object.keys(r).forEach(function(c){var u=r[c];if(c[0]!=="_"){var l=i+(n>0?".":"")+c;P.isPlainObject(u)?p(u,t,l,n+1):t(l,c,u)}})}},27670:function(G,V,e){var y=e(1426).extendFlat;V.Y=function(P,o){P=P||{},o=o||{};var L={valType:"info_array",editType:P.editType,items:[{valType:"number",min:0,max:1,editType:P.editType},{valType:"number",min:0,max:1,editType:P.editType}],dflt:[0,1]};P.name&&P.name+"",P.trace,o.description&&""+o.description;var M={x:y({},L,{}),y:y({},L,{}),editType:P.editType};return P.noGridCell||(M.row={valType:"integer",min:0,dflt:0,editType:P.editType},M.column={valType:"integer",min:0,dflt:0,editType:P.editType}),M},V.c=function(P,o,L,M){var v=M&&M.x||[0,1],p=M&&M.y||[0,1],r=o.grid;if(r){var t=L("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete P.domain.column);var i=L("domain.row");i!==void 0&&(i<r.rows?p=r._domains.y[i]:delete P.domain.row)}var n=L("domain.x",v),c=L("domain.y",p);n[0]<n[1]||(P.domain.x=v.slice()),c[0]<c[1]||(P.domain.y=p.slice())}},41940:function(G){G.exports=function(V){var e=V.editType,y=V.colorEditType;y===void 0&&(y=e);var P={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:y},editType:e};return V.autoSize&&(P.size.dflt="auto"),V.autoColor&&(P.color.dflt="auto"),V.arrayOk&&(P.family.arrayOk=!0,P.size.arrayOk=!0,P.color.arrayOk=!0),P}},31391:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(G,V){V.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},V.axesNames=["lonaxis","lataxis"],V.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},V.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},V.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},V.clipPad=.001,V.precision=.1,V.landColor="#F0DC82",V.waterColor="#3399FF",V.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},V.sphereSVG={type:"Sphere"},V.fillLayers={ocean:1,land:1,lakes:1},V.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},V.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],V.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],V.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(G,V,e){var y=e(39898),P=e(27362),o=P.geoPath,L=P.geoDistance,M=e(65704),v=e(73972),p=e(71828),r=p.strTranslate,t=e(7901),i=e(91424),n=e(30211),c=e(74875),u=e(89298),l=e(71739).getAutoRange,g=e(28569),f=e(47322).prepSelect,T=e(47322).clearOutline,h=e(47322).selectOnClick,s=e(74455),d=e(78776),A=e(41327),w=e(90973),C=e(96892).zL;function b(x){this.id=x.id,this.graphDiv=x.graphDiv,this.container=x.container,this.topojsonURL=x.topojsonURL,this.isStatic=x.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=b.prototype;G.exports=function(k){return new b(k)},S.plot=function(x,k,I,N){var F=this;if(N)return F.update(x,k,!0);F._geoCalcData=x,F._fullLayout=k;var z=k[this.id],O=[],_=!1;for(var B in d.layerNameToAdjective)if(B!=="frame"&&z["show"+B]){_=!0;break}for(var W=!1,$=0;$<x.length;$++){var te=x[0][0].trace;te._geo=F,te.locationmode&&(_=!0);var ie=te.marker;if(ie){var ue=ie.angle,J=ie.angleref;(ue||J==="north"||J==="previous")&&(W=!0)}}if(this._hasMarkerAngles=W,_){var Y=w.getTopojsonName(z);(F.topojson===null||Y!==F.topojsonName)&&(F.topojsonName=Y,PlotlyGeoAssets.topojson[F.topojsonName]===void 0&&O.push(F.fetchTopojson()))}O=O.concat(A.fetchTraceGeoData(x)),I.push(new Promise(function(ae,j){Promise.all(O).then(function(){F.topojson=PlotlyGeoAssets.topojson[F.topojsonName],F.update(x,k),ae()}).catch(j)}))},S.fetchTopojson=function(){var x=this,k=w.getTopojsonPath(x.topojsonURL,x.topojsonName);return new Promise(function(I,N){y.json(k,function(F,z){if(F)return F.status===404?N(new Error(["plotly.js could not find topojson file at",k+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",k].join(" ")));PlotlyGeoAssets.topojson[x.topojsonName]=z,I()})})},S.update=function(x,k,I){var N=k[this.id];this.hasChoropleth=!1;for(var F=0;F<x.length;F++){var z=x[F],O=z[0].trace;O.type==="choropleth"&&(this.hasChoropleth=!0),O.visible===!0&&O._length>0&&O._module.calcGeoJSON(z,k)}if(!I){var _=this.updateProjection(x,k);if(_)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(k,N),this.updateDims(k,N),this.updateFx(k,N),c.generalUpdatePerTraceModule(this.graphDiv,this,x,N);var B=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=B.selectAll(".point"),this.dataPoints.text=B.selectAll("text"),this.dataPaths.line=B.selectAll(".js-line");var W=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=W.selectAll("path"),this._render()},S.updateProjection=function(x,k){var I=this.graphDiv,N=k[this.id],F=k._size,z=N.domain,O=N.projection,_=N.lonaxis,B=N.lataxis,W=_._ax,$=B._ax,te=this.projection=m(N),ie=[[F.l+F.w*z.x[0],F.t+F.h*(1-z.y[1])],[F.l+F.w*z.x[1],F.t+F.h*(1-z.y[0])]],ue=N.center||{},J=O.rotation||{},Y=_.range||[],ae=B.range||[];if(N.fitbounds){W._length=ie[1][0]-ie[0][0],$._length=ie[1][1]-ie[0][1],W.range=l(I,W),$.range=l(I,$);var j=(W.range[0]+W.range[1])/2,q=($.range[0]+$.range[1])/2;if(N._isScoped)ue={lon:j,lat:q};else if(N._isClipped){ue={lon:j,lat:q},J={lon:j,lat:q,roll:J.roll};var oe=O.type,Q=d.lonaxisSpan[oe]/2||180,X=d.lataxisSpan[oe]/2||90;Y=[j-Q,j+Q],ae=[q-X,q+X]}else ue={lon:j,lat:q},J={lon:j,lat:J.lat,roll:J.roll}}te.center([ue.lon-J.lon,ue.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(O.parallels);var se=E(Y,ae);te.fitExtent(ie,se);var ne=this.bounds=te.getBounds(se),fe=this.fitScale=te.scale(),ye=te.translate();if(N.fitbounds){var Se=te.getBounds(E(W.range,$.range)),we=Math.min((ne[1][0]-ne[0][0])/(Se[1][0]-Se[0][0]),(ne[1][1]-ne[0][1])/(Se[1][1]-Se[0][1]));isFinite(we)?te.scale(we*fe):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else te.scale(O.scale*fe);var _e=this.midPt=[(ne[0][0]+ne[1][0])/2,(ne[0][1]+ne[1][1])/2];if(te.translate([ye[0]+(_e[0]-ye[0]),ye[1]+(_e[1]-ye[1])]).clipExtent(ne),N._isAlbersUsa){var ke=te([ue.lon,ue.lat]),Me=te.translate();te.translate([Me[0]-(ke[0]-Me[0]),Me[1]-(ke[1]-Me[1])])}},S.updateBaseLayers=function(x,k){var I=this,N=I.topojson,F=I.layers,z=I.basePaths;function O(ie){return ie==="lonaxis"||ie==="lataxis"}function _(ie){return!!d.lineLayers[ie]}function B(ie){return!!d.fillLayers[ie]}var W=this.hasChoropleth?d.layersForChoropleth:d.layers,$=W.filter(function(ie){return _(ie)||B(ie)?k["show"+ie]:O(ie)?k[ie].showgrid:!0}),te=I.framework.selectAll(".layer").data($,String);te.exit().each(function(ie){delete F[ie],delete z[ie],y.select(this).remove()}),te.enter().append("g").attr("class",function(ie){return"layer "+ie}).each(function(ie){var ue=F[ie]=y.select(this);ie==="bg"?I.bgRect=ue.append("rect").style("pointer-events","all"):O(ie)?z[ie]=ue.append("path").style("fill","none"):ie==="backplot"?ue.append("g").classed("choroplethlayer",!0):ie==="frontplot"?ue.append("g").classed("scatterlayer",!0):_(ie)?z[ie]=ue.append("path").style("fill","none").style("stroke-miterlimit",2):B(ie)&&(z[ie]=ue.append("path").style("stroke","none"))}),te.order(),te.each(function(ie){var ue=z[ie],J=d.layerNameToAdjective[ie];ie==="frame"?ue.datum(d.sphereSVG):_(ie)||B(ie)?ue.datum(C(N,N.objects[ie])):O(ie)&&ue.datum(a(ie,k,x)).call(t.stroke,k[ie].gridcolor).call(i.dashLine,k[ie].griddash,k[ie].gridwidth),_(ie)?ue.call(t.stroke,k[J+"color"]).call(i.dashLine,"",k[J+"width"]):B(ie)&&ue.call(t.fill,k[J+"color"])})},S.updateDims=function(x,k){var I=this.bounds,N=(k.framewidth||0)/2,F=I[0][0]-N,z=I[0][1]-N,O=I[1][0]-F+N,_=I[1][1]-z+N;i.setRect(this.clipRect,F,z,O,_),this.bgRect.call(i.setRect,F,z,O,_).call(t.fill,k.bgcolor),this.xaxis._offset=F,this.xaxis._length=O,this.yaxis._offset=z,this.yaxis._length=_},S.updateFx=function(x,k){var I=this,N=I.graphDiv,F=I.bgRect,z=x.dragmode,O=x.clickmode;if(I.isStatic)return;function _(){var te=I.viewInitial,ie={};for(var ue in te)ie[I.id+"."+ue]=te[ue];v.call("_guiRelayout",N,ie),N.emit("plotly_doubleclick",null)}function B(te){return I.projection.invert([te[0]+I.xaxis._offset,te[1]+I.yaxis._offset])}var W=function(te,ie){if(ie.isRect){var ue=te.range={};ue[I.id]=[B([ie.xmin,ie.ymin]),B([ie.xmax,ie.ymax])]}else{var J=te.lassoPoints={};J[I.id]=ie.map(B)}},$={element:I.bgRect.node(),gd:N,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:W},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(te){te===2&&T(N)}};z==="pan"?(F.node().onmousedown=null,F.call(s(I,k)),F.on("dblclick.zoom",_),N._context._scrollZoom.geo||F.on("wheel.zoom",null)):(z==="select"||z==="lasso")&&(F.on(".zoom",null),$.prepFn=function(te,ie,ue){f(te,ie,ue,$,z)},g.init($)),F.on("mousemove",function(){var te=I.projection.invert(p.getPositionFromD3Event());if(!te)return g.unhover(N,y.event);I.xaxis.p2c=function(){return te[0]},I.yaxis.p2c=function(){return te[1]},n.hover(N,y.event,I.id)}),F.on("mouseout",function(){N._dragging||g.unhover(N,y.event)}),F.on("click",function(){z!=="select"&&z!=="lasso"&&(O.indexOf("select")>-1&&h(y.event,N,[I.xaxis],[I.yaxis],I.id,$),O.indexOf("event")>-1&&n.click(N,y.event))})},S.makeFramework=function(){var x=this,k=x.graphDiv,I=k._fullLayout,N="clip"+I._uid+x.id;x.clipDef=I._clips.append("clipPath").attr("id",N),x.clipRect=x.clipDef.append("rect"),x.framework=y.select(x.container).append("g").attr("class","geo "+x.id).call(i.setClipUrl,N,k),x.project=function(F){var z=x.projection(F);return z?[z[0]-x.xaxis._offset,z[1]-x.yaxis._offset]:[null,null]},x.xaxis={_id:"x",c2p:function(F){return x.project(F)[0]}},x.yaxis={_id:"y",c2p:function(F){return x.project(F)[1]}},x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(x.mockAxis,I)},S.saveViewInitial=function(x){var k=x.center||{},I=x.projection,N=I.rotation||{};this.viewInitial={fitbounds:x.fitbounds,"projection.scale":I.scale};var F;x._isScoped?F={"center.lon":k.lon,"center.lat":k.lat}:x._isClipped?F={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:F={"center.lon":k.lon,"center.lat":k.lat,"projection.rotation.lon":N.lon},p.extendFlat(this.viewInitial,F)},S.render=function(x){this._hasMarkerAngles&&x?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var x=this.projection,k=x.getPath(),I;function N(z){var O=x(z.lonlat);return O?r(O[0],O[1]):null}function F(z){return x.isLonLatOverEdges(z.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",k);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(z){return k(z.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",F).attr("transform",N)};function m(x){var k=x.projection,I=k.type,N=d.projNames[I];N="geo"+p.titleCase(N);for(var F=P[N]||M[N],z=F(),O=x._isSatellite?Math.acos(1/k.distance)*180/Math.PI:x._isClipped?d.lonaxisSpan[I]/2:null,_=["center","rotate","parallels","clipExtent"],B=function(te){return te?z:[]},W=0;W<_.length;W++){var $=_[W];typeof z[$]!="function"&&(z[$]=B)}return z.isLonLatOverEdges=function(te){if(z(te)===null)return!0;if(O){var ie=z.rotate(),ue=L(te,[-ie[0],-ie[1]]),J=O*Math.PI/180;return ue>J}else return!1},z.getPath=function(){return o().projection(z)},z.getBounds=function(te){return z.getPath().bounds(te)},z.precision(d.precision),x._isSatellite&&z.tilt(k.tilt).distance(k.distance),O&&z.clipAngle(O-d.clipPad),z}function a(x,k,I){var N=1e-6,F=2.5,z=k[x],O=d.scopeDefaults[k.scope],_,B,W;x==="lonaxis"?(_=O.lonaxisRange,B=O.lataxisRange,W=function(q,oe){return[q,oe]}):x==="lataxis"&&(_=O.lataxisRange,B=O.lonaxisRange,W=function(q,oe){return[oe,q]});var $={type:"linear",range:[_[0],_[1]-N],tick0:z.tick0,dtick:z.dtick};u.setConvert($,I);var te=u.calcTicks($);!k.isScoped&&x==="lonaxis"&&te.pop();for(var ie=te.length,ue=new Array(ie),J=0;J<ie;J++)for(var Y=te[J].x,ae=ue[J]=[],j=B[0];j<B[1]+F;j+=F)ae.push(W(Y,j));return{type:"MultiLineString",coordinates:ue}}function E(x,k){var I=d.clipPad,N=x[0]+I,F=x[1]-I,z=k[0]+I,O=k[1]-I;N>0&&F<0&&(F+=360);var _=(F-N)/4;return{type:"Polygon",coordinates:[[[N,z],[N,O],[N+_,O],[N+2*_,O],[N+3*_,O],[F,O],[F,z],[F-_,z],[F-2*_,z],[F-3*_,z],[N,z]]]}}},44622:function(G,V,e){var y=e(27659).AU,P=e(71828).counterRegex,o=e(69082),L="geo",M=P(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function p(i){for(var n=i._fullLayout,c=i.calcdata,u=n._subplots[L],l=0;l<u.length;l++){var g=u[l],f=y(c,L,g),T=n[g],h=T._subplot;h||(h=o({id:g,graphDiv:i,container:n._geolayer.node(),topojsonURL:i._context.topojsonURL,staticPlot:i._context.staticPlot}),n[g]._subplot=h),h.plot(f,n,i._promises)}}function r(i,n,c,u){for(var l=u._subplots[L]||[],g=0;g<l.length;g++){var f=l[g],T=u[f]._subplot;!n[f]&&T&&(T.framework.remove(),T.clipDef.remove())}}function t(i){for(var n=i._fullLayout,c=n._subplots[L],u=0;u<c.length;u++){var l=n[c[u]],g=l._subplot;g.updateFx(n,l)}}G.exports={attr:L,name:L,idRoot:L,idRegex:M,attrRegex:M,attributes:v,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:p,updateFx:t,clean:r}},77519:function(G,V,e){var y=e(22399),P=e(27670).Y,o=e(79952).P,L=e(78776),M=e(30962).overrideAll,v=e(78607),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:y.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:o},r=G.exports=M({domain:P({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:y.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:y.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:y.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:y.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:y.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},82161:function(G,V,e){var y=e(71828),P=e(49119),o=e(27659).NG,L=e(78776),M=e(77519),v=L.axesNames;G.exports=function(t,i,n){P(t,i,n,{type:"geo",attributes:M,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,i,n){var c=o(n.fullData,"geo",n.id),u=c.map(function(ae){return ae._expandedIndex}),l=i("resolution"),g=i("scope"),f=L.scopeDefaults[g],T=i("projection.type",f.projType),h=t._isAlbersUsa=T==="albers usa";h&&(g=t.scope="usa");var s=t._isScoped=g!=="world",d=t._isSatellite=T==="satellite",A=t._isConic=T.indexOf("conic")!==-1||T==="albers",w=t._isClipped=!!L.lonaxisSpan[T];if(r.visible===!1){var C=y.extendDeep({},t._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),t._template=C}for(var b=i("visible"),S,m=0;m<v.length;m++){var a=v[m],E=[30,10][m],x;if(s)x=f[a+"Range"];else{var k=L[a+"Span"],I=(k[T]||k["*"])/2,N=i("projection.rotation."+a.substr(0,3),f.projRotate[m]);x=[N-I,N+I]}var F=i(a+".range",x);i(a+".tick0"),i(a+".dtick",E),S=i(a+".showgrid",b?void 0:!1),S&&(i(a+".gridcolor"),i(a+".gridwidth"),i(a+".griddash")),t[a]._ax={type:"linear",_id:a.slice(0,3),_traceIndices:u,setScale:y.identity,c2l:y.identity,r2l:y.identity,autorange:!0,range:F.slice(),_m:1,_input:{}}}var z=t.lonaxis.range,O=t.lataxis.range,_=z[0],B=z[1];_>0&&B<0&&(B+=360);var W=(_+B)/2,$;if(!h){var te=s?f.projRotate:[W,0,0];$=i("projection.rotation.lon",te[0]),i("projection.rotation.lat",te[1]),i("projection.rotation.roll",te[2]),S=i("showcoastlines",!s&&b),S&&(i("coastlinecolor"),i("coastlinewidth")),S=i("showocean",b?void 0:!1),S&&i("oceancolor")}var ie,ue;if(h?(ie=-96.6,ue=38.7):(ie=s?W:$,ue=(O[0]+O[1])/2),i("center.lon",ie),i("center.lat",ue),d&&(i("projection.tilt"),i("projection.distance")),A){var J=f.projParallels||[0,60];i("projection.parallels",J)}i("projection.scale"),S=i("showland",b?void 0:!1),S&&i("landcolor"),S=i("showlakes",b?void 0:!1),S&&i("lakecolor"),S=i("showrivers",b?void 0:!1),S&&(i("rivercolor"),i("riverwidth")),S=i("showcountries",s&&g!=="usa"&&b),S&&(i("countrycolor"),i("countrywidth")),(g==="usa"||g==="north america"&&l===50)&&(i("showsubunits",b),i("subunitcolor"),i("subunitwidth")),s||(S=i("showframe",b),S&&(i("framecolor"),i("framewidth"))),i("bgcolor");var Y=i("fitbounds");Y&&(delete t.projection.scale,s?(delete t.center.lon,delete t.center.lat):w?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},74455:function(G,V,e){var y=e(39898),P=e(71828),o=e(73972),L=Math.PI/180,M=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(a,E){var x=a.projection,k;return E._isScoped?k=n:E._isClipped?k=u:k=c,k(a,x)}G.exports=r;function t(a,E){return y.behavior.zoom().translate(E.translate()).scale(E.scale())}function i(a,E,x){var k=a.id,I=a.graphDiv,N=I.layout,F=N[k],z=I._fullLayout,O=z[k],_={},B={};function W($,te){_[k+"."+$]=P.nestedProperty(F,$).get(),o.call("_storeDirectGUIEdit",N,z._preGUI,_);var ie=P.nestedProperty(O,$);ie.get()!==te&&(ie.set(te),P.nestedProperty(F,$).set(te),B[k+"."+$]=te)}x(W),W("projection.scale",E.scale()/a.fitScale),W("fitbounds",!1),I.emit("plotly_relayout",B)}function n(a,E){var x=t(a,E);function k(){y.select(this).style(v)}function I(){E.scale(y.event.scale).translate(y.event.translate),a.render(!0);var z=E.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/a.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1]})}function N(z){var O=E.invert(a.midPt);z("center.lon",O[0]),z("center.lat",O[1])}function F(){y.select(this).style(p),i(a,E,N)}return x.on("zoomstart",k).on("zoom",I).on("zoomend",F),x}function c(a,E){var x=t(a,E),k=2,I,N,F,z,O,_,B,W,$;function te(j){return E.invert(j)}function ie(j){var q=te(j);if(!q)return!0;var oe=E(q);return Math.abs(oe[0]-j[0])>k||Math.abs(oe[1]-j[1])>k}function ue(){y.select(this).style(v),I=y.mouse(this),N=E.rotate(),F=E.translate(),z=N,O=te(I)}function J(){if(_=y.mouse(this),ie(I)){x.scale(E.scale()),x.translate(E.translate());return}E.scale(y.event.scale),E.translate([F[0],y.event.translate[1]]),O?te(_)&&(W=te(_),B=[z[0]+(W[0]-O[0]),N[1],N[2]],E.rotate(B),z=B):(I=_,O=te(I)),$=!0,a.render(!0);var j=E.rotate(),q=E.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/a.fitScale,"geo.center.lon":q[0],"geo.center.lat":q[1],"geo.projection.rotation.lon":-j[0]})}function Y(){y.select(this).style(p),$&&i(a,E,ae)}function ae(j){var q=E.rotate(),oe=E.invert(a.midPt);j("projection.rotation.lon",-q[0]),j("center.lon",oe[0]),j("center.lat",oe[1])}return x.on("zoomstart",ue).on("zoom",J).on("zoomend",Y),x}function u(a,E){E.rotate(),E.scale();var x=t(a,E),k=m(x,"zoomstart","zoom","zoomend"),I=0,N=x.on,F;x.on("zoomstart",function(){y.select(this).style(v);var W=y.mouse(this),$=E.rotate(),te=$,ie=E.translate(),ue=g($);F=l(E,W),N.call(x,"zoom",function(){var J=y.mouse(this);if(E.scale(y.event.scale),!F)W=J,F=l(E,W);else if(l(E,J)){E.rotate($).translate(ie);var Y=l(E,J),ae=T(F,Y),j=w(f(ue,ae)),q=h(j,F,te);(!isFinite(q[0])||!isFinite(q[1])||!isFinite(q[2]))&&(q=te),E.rotate(q),te=q}O(k.of(this,arguments))}),z(k.of(this,arguments))}).on("zoomend",function(){y.select(this).style(p),N.call(x,"zoom",null),_(k.of(this,arguments)),i(a,E,B)}).on("zoom.redraw",function(){a.render(!0);var W=E.rotate();a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/a.fitScale,"geo.projection.rotation.lon":-W[0],"geo.projection.rotation.lat":-W[1]})});function z(W){I++||W({type:"zoomstart"})}function O(W){W({type:"zoom"})}function _(W){--I||W({type:"zoomend"})}function B(W){var $=E.rotate();W("projection.rotation.lon",-$[0]),W("projection.rotation.lat",-$[1])}return y.rebind(x,k,"on")}function l(a,E){var x=a.invert(E);return x&&isFinite(x[0])&&isFinite(x[1])&&C(x)}function g(a){var E=.5*a[0]*L,x=.5*a[1]*L,k=.5*a[2]*L,I=Math.sin(E),N=Math.cos(E),F=Math.sin(x),z=Math.cos(x),O=Math.sin(k),_=Math.cos(k);return[N*z*_+I*F*O,I*z*_-N*F*O,N*F*_+I*z*O,N*z*O-I*F*_]}function f(a,E){var x=a[0],k=a[1],I=a[2],N=a[3],F=E[0],z=E[1],O=E[2],_=E[3];return[x*F-k*z-I*O-N*_,x*z+k*F+I*_-N*O,x*O-k*_+I*F+N*z,x*_+k*O-I*z+N*F]}function T(a,E){if(!(!a||!E)){var x=S(a,E),k=Math.sqrt(b(x,x)),I=.5*Math.acos(Math.max(-1,Math.min(1,b(a,E)))),N=Math.sin(I)/k;return k&&[Math.cos(I),x[2]*N,-x[1]*N,x[0]*N]}}function h(a,E,x){var k=A(E,2,a[0]);k=A(k,1,a[1]),k=A(k,0,a[2]-x[2]);var I=E[0],N=E[1],F=E[2],z=k[0],O=k[1],_=k[2],B=Math.atan2(N,I)*M,W=Math.sqrt(I*I+N*N),$,te;Math.abs(O)>W?(te=(O>0?90:-90)-B,$=0):(te=Math.asin(O/W)*M-B,$=Math.sqrt(W*W-O*O));var ie=180-te-2*B,ue=(Math.atan2(_,z)-Math.atan2(F,$))*M,J=(Math.atan2(_,z)-Math.atan2(F,-$))*M,Y=s(x[0],x[1],te,ue),ae=s(x[0],x[1],ie,J);return Y<=ae?[te,ue,x[2]]:[ie,J,x[2]]}function s(a,E,x,k){var I=d(x-a),N=d(k-E);return Math.sqrt(I*I+N*N)}function d(a){return(a%360+540)%360-180}function A(a,E,x){var k=x*L,I=a.slice(),N=E===0?1:0,F=E===2?1:2,z=Math.cos(k),O=Math.sin(k);return I[N]=a[N]*z-a[F]*O,I[F]=a[F]*z+a[N]*O,I}function w(a){return[Math.atan2(2*(a[0]*a[1]+a[2]*a[3]),1-2*(a[1]*a[1]+a[2]*a[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(a[0]*a[2]-a[3]*a[1]))))*M,Math.atan2(2*(a[0]*a[3]+a[1]*a[2]),1-2*(a[2]*a[2]+a[3]*a[3]))*M]}function C(a){var E=a[0]*L,x=a[1]*L,k=Math.cos(x);return[k*Math.cos(E),k*Math.sin(E),Math.sin(x)]}function b(a,E){for(var x=0,k=0,I=a.length;k<I;++k)x+=a[k]*E[k];return x}function S(a,E){return[a[1]*E[2]-a[2]*E[1],a[2]*E[0]-a[0]*E[2],a[0]*E[1]-a[1]*E[0]]}function m(a){for(var E=0,x=arguments.length,k=[];++E<x;)k.push(arguments[E]);var I=y.dispatch.apply(null,k);return I.of=function(N,F){return function(z){var O;try{O=z.sourceEvent=y.event,z.target=a,y.event=z,I[z.type].apply(N,F)}finally{y.event=O}}},I}},27659:function(G,V,e){var y=e(73972),P=e(85555).SUBPLOT_PATTERN;V.AU=function(o,L,M){var v=y.subplotsRegistry[L];if(!v)return[];for(var p=v.attr,r=[],t=0;t<o.length;t++){var i=o[t],n=i[0].trace;n[p]===M&&r.push(i)}return r},V.a0=function(o,L){var M=[],v=[],p;if(typeof L=="string"?p=y.getModule(L).plot:typeof L=="function"?p=L:p=L.plot,!p)return[M,o];for(var r=0;r<o.length;r++){var t=o[r],i=t[0].trace;i.visible!==!0||i._length===0||(i._module&&i._module.plot===p?M.push(t):v.push(t))}return[M,v]},V.NG=function(L,M,v){if(!y.subplotsRegistry[M])return[];var p=y.subplotsRegistry[M].attr,r=[],t,i,n;if(M==="gl2d"){var c=v.match(P);i="x"+c[1],n="y"+c[2]}for(var u=0;u<L.length;u++)t=L[u],M==="gl2d"&&y.traceIs(t,"gl2d")?t[p[0]]===i&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},75071:function(G,V,e){var y=e(16825),P=e(1195),o=e(48956),L=e(85555),M=e(38520);G.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,i=r.glplot,n=new v(t,i);function c(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var g=r.graphDiv._fullLayout._axisConstraintGroups,f=r.xaxis._id,T=r.yaxis._id,h=0;h<g.length;h++)if(g[h][f]!==-1){if(g[h][T]!==-1)return!0;break}return!1}n.mouseListener=y(t,l),t.addEventListener("touchstart",function(g){var f=o(g.changedTouches[0],t);l(0,f[0],f[1]),l(1,f[0],f[1]),g.preventDefault()},M?{passive:!1}:!1),t.addEventListener("touchmove",function(g){g.preventDefault();var f=o(g.changedTouches[0],t);l(1,f[0],f[1]),g.preventDefault()},M?{passive:!1}:!1),t.addEventListener("touchend",function(g){l(0,n.lastPos[0],n.lastPos[1]),g.preventDefault()},M?{passive:!1}:!1);function l(g,f,T){var h=r.calcDataBox(),s=i.viewBox,d=n.lastPos[0],A=n.lastPos[1],w=L.MINDRAG*i.pixelRatio,C=L.MINZOOM*i.pixelRatio,b,S;f*=i.pixelRatio,T*=i.pixelRatio,T=s[3]-s[1]-T;function m(N,F,z){var O=Math.min(F,z),_=Math.max(F,z);O!==_?(h[N]=O,h[N+2]=_,n.dataBox=h,r.setRanges(h)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(g){var a=f/(s[2]-s[0])*(h[2]-h[0])+h[0],E=T/(s[3]-s[1])*(h[3]-h[1])+h[1];n.boxInited||(n.boxStart[0]=a,n.boxStart[1]=E,n.dragStart[0]=f,n.dragStart[1]=T),n.boxEnd[0]=a,n.boxEnd[1]=E,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var x=Math.abs(n.dragStart[0]-f)<C,k=Math.abs(n.dragStart[1]-T)<C;if(u()&&!(x&&k)){b=n.boxEnd[0]-n.boxStart[0],S=n.boxEnd[1]-n.boxStart[1];var I=(h[3]-h[1])/(h[2]-h[0]);Math.abs(b*I)>Math.abs(S)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(b)*I*(S>=0?1:-1),n.boxEnd[1]<h[1]?(n.boxEnd[1]=h[1],n.boxEnd[0]=n.boxStart[0]+(h[1]-n.boxStart[1])/Math.abs(I)):n.boxEnd[1]>h[3]&&(n.boxEnd[1]=h[3],n.boxEnd[0]=n.boxStart[0]+(h[3]-n.boxStart[1])/Math.abs(I))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(S)/I*(b>=0?1:-1),n.boxEnd[0]<h[0]?(n.boxEnd[0]=h[0],n.boxEnd[1]=n.boxStart[1]+(h[0]-n.boxStart[0])*Math.abs(I)):n.boxEnd[0]>h[2]&&(n.boxEnd[0]=h[2],n.boxEnd[1]=n.boxStart[1]+(h[2]-n.boxStart[0])*Math.abs(I)))}else x&&(n.boxEnd[0]=n.boxStart[0]),k&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(b=n.boxStart[0]!==n.boxEnd[0],S=n.boxStart[1]!==n.boxEnd[1],b||S?(b&&(m(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),S&&(m(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,g?(n.panning||(n.dragStart[0]=f,n.dragStart[1]=T),Math.abs(n.dragStart[0]-f)<w&&(f=n.dragStart[0]),Math.abs(n.dragStart[1]-T)<w&&(T=n.dragStart[1]),b=(d-f)*(h[2]-h[0])/(i.viewBox[2]-i.viewBox[0]),S=(A-T)*(h[3]-h[1])/(i.viewBox[3]-i.viewBox[1]),h[0]+=b,h[2]+=b,h[1]+=S,h[3]+=S,r.setRanges(h),n.panning=!0,n.lastInputTime=Date.now(),c(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=f,n.lastPos[1]=T}return n.wheelListener=P(t,function(g,f){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),h=i.viewBox,s=n.lastPos[0],d=n.lastPos[1],A=Math.exp(5*f/(h[3]-h[1])),w=s/(h[2]-h[0])*(T[2]-T[0])+T[0],C=d/(h[3]-h[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-w)*A+w,T[2]=(T[2]-w)*A+w,T[1]=(T[1]-C)*A+C,T[3]=(T[3]-C)*A+C,r.setRanges(T),n.lastInputTime=Date.now(),c(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},82961:function(G,V,e){var y=e(89298),P=e(78614);function o(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=o.prototype,M=["xaxis","yaxis"];L.merge=function(p){this.titleEnable=!1,this.backgroundColor=P(p.plot_bgcolor);var r,t,i,n,c,u,l,g,f,T,h;for(T=0;T<2;++T){r=M[T];var s=r.charAt(0);for(t=p[this.scene[r]._name],i=t.title.text===this.scene.fullLayout._dfltTitle[s]?"":t.title.text,h=0;h<=2;h+=2)this.labelEnable[T+h]=!1,this.labels[T+h]=i,this.labelColor[T+h]=P(t.title.font.color),this.labelFont[T+h]=t.title.font.family,this.labelSize[T+h]=t.title.font.size,this.labelPad[T+h]=this.getLabelPad(r,t),this.tickEnable[T+h]=!1,this.tickColor[T+h]=P((t.tickfont||{}).color),this.tickAngle[T+h]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[T+h]=this.getTickPad(t),this.tickMarkLength[T+h]=0,this.tickMarkWidth[T+h]=t.tickwidth||0,this.tickMarkColor[T+h]=P(t.tickcolor),this.borderLineEnable[T+h]=!1,this.borderLineColor[T+h]=P(t.linecolor),this.borderLineWidth[T+h]=t.linewidth||0;l=this.hasSharedAxis(t),c=this.hasAxisInDfltPos(r,t)&&!l,u=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,g=l?String(n).indexOf("all")!==-1:!!n,f=l?n==="allticks":String(n).indexOf("ticks")!==-1,c?this.labelEnable[T]=!0:u&&(this.labelEnable[T+2]=!0),c?this.tickEnable[T]=t.showticklabels:u&&(this.tickEnable[T+2]=t.showticklabels),(c||g)&&(this.borderLineEnable[T]=t.showline),(u||g)&&(this.borderLineEnable[T+2]=t.showline),(c||f)&&(this.tickMarkLength[T]=this.getTickMarkLength(t)),(u||f)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(t)),this.gridLineEnable[T]=t.showgrid,this.gridLineColor[T]=P(t.gridcolor),this.gridLineWidth[T]=t.gridwidth,this.zeroLineEnable[T]=t.zeroline,this.zeroLineColor[T]=P(t.zerolinecolor),this.zeroLineWidth[T]=t.zerolinewidth}},L.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,i=y.findSubplotsWithAxis(t,p);return i.indexOf(r.id)!==0},L.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},L.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},L.getLabelPad=function(p,r){var t=1.5,i=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+i*(t+(n?1:0)):-10+i*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+i*(t+(n?1:.5)):10+i*(t+(n?.5:0))},L.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},L.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new o(p)}G.exports=v},4796:function(G,V,e){var y=e(30962).overrideAll,P=e(92918),o=e(10820),L=e(77922),M=e(85555),v=e(93612),p=e(528),r=e(27659).NG;V.name="gl2d",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=M.idRegex,V.attrRegex=M.attrRegex,V.attributes=e(89502),V.supplyLayoutDefaults=function(t,i,n){i._has("cartesian")||v.supplyLayoutDefaults(t,i,n)},V.layoutAttrOverrides=y(v.layoutAttributes,"plot","from-root"),V.baseLayoutAttrOverrides=y({plot_bgcolor:o.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),V.plot=function(i){for(var n=i._fullLayout,c=i._fullData,u=n._subplots.gl2d,l=0;l<u.length;l++){var g=u[l],f=n._plots[g],T=r(c,"gl2d",g),h=f._scene2d;h===void 0&&(h=new P({id:g,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},n),f._scene2d=h),h.plot(T,i.calcdata,n,i.layout)}},V.clean=function(t,i,n,c){for(var u=c._subplots.gl2d||[],l=0;l<u.length;l++){var g=u[l],f=c._plots[g];if(f._scene2d){var T=r(t,"gl2d",g);T.length===0&&(f._scene2d.destroy(),delete c._plots[g])}}v.clean.apply(this,arguments)},V.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},V.toSVG=function(t){for(var i=t._fullLayout,n=i._subplots.gl2d,c=0;c<n.length;c++){var u=i._plots[n[c]],l=u._scene2d,g=l.toImage("png"),f=i._glimages.append("svg:image");f.attr({xmlns:L.svg,"xlink:href":g,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},V.updateFx=function(t){for(var i=t._fullLayout,n=i._subplots.gl2d,c=0;c<n.length;c++){var u=i._plots[n[c]]._scene2d;u.updateFx(i.dragmode)}}},92918:function(G,V,e){var y=e(73972),P=e(89298),o=e(30211),L=e(9330).gl_plot2d,M=e(9330).gl_spikes2d,v=e(9330).gl_select_box,p=e(40372),r=e(82961),t=e(75071),i=e(58617),n=e(99082),c=n.enforce,u=n.clean,l=e(71739).doAutoRange,g=e(64505),f=g.drawMode,T=g.selectMode,h=["xaxis","yaxis"],s,d,A=e(85555).SUBPLOT_PATTERN;function w(S,m){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(m),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(m),this.glplot=L(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=M(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=w;var C=w.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(s=document.createElement("canvas"),d=p({canvas:s,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=s,this.gl=d}else{var S=this.container.querySelector(".gl-canvas-focus"),m=p({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!m){i(this),this.stopped=!0;return}this.canvas=S,this.gl=m}var a=this.canvas;a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style["pointer-events"]="none",this.updateSize(a);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var x=this.mouseContainer=document.createElement("div");x.style.position="absolute",x.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var k=this.container;k.appendChild(E),k.appendChild(x);var I=this;x.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),x.addEventListener("mouseover",function(){I.isMouseOver=!0})},C.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(s),this.updateSize(this.canvas);var m=this.glplot.gl,a=m.drawingBufferWidth,E=m.drawingBufferHeight;m.clearColor(1,1,1,0),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),m.bindFramebuffer(m.FRAMEBUFFER,null);var x=new Uint8Array(a*E*4);m.readPixels(0,0,a,E,m.RGBA,m.UNSIGNED_BYTE,x);for(var k=0,I=E-1;k<I;++k,--I)for(var N=0;N<a;++N)for(var F=0;F<4;++F){var z=x[4*(a*k+N)+F];x[4*(a*k+N)+F]=x[4*(a*I+N)+F],x[4*(a*I+N)+F]=z}var O=document.createElement("canvas");O.width=a,O.height=E;var _=O.getContext("2d",{willReadFrequently:!0}),B=_.createImageData(a,E);B.data.set(x),_.putImageData(B,0,0);var W;switch(S){case"jpeg":W=O.toDataURL("image/jpeg");break;case"webp":W=O.toDataURL("image/webp");break;default:W=O.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(s),W},C.updateSize=function(S){S||(S=this.canvas);var m=this.pixelRatio,a=this.fullLayout,E=a.width,x=a.height,k=Math.ceil(m*E)|0,I=Math.ceil(m*x)|0;return(S.width!==k||S.height!==I)&&(S.width=k,S.height=I),S},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[P.calcTicks(this.xaxis),P.calcTicks(this.yaxis)],m=0;m<2;++m)for(var a=0;a<S[m].length;++a)S[m][a].text=S[m][a].text+"";return S};function b(S,m){for(var a=0;a<2;++a){var E=S[a],x=m[a];if(E.length!==x.length)return!0;for(var k=0;k<E.length;++k)if(E[k].x!==x[k].x)return!0}return!1}C.updateRefs=function(S){this.fullLayout=S;var m=this.id.match(A),a="xaxis"+m[1],E="yaxis"+m[2];this.xaxis=this.fullLayout[a],this.yaxis=this.fullLayout[E]},C.relayoutCallback=function(){var S=this.graphDiv,m=this.xaxis,a=this.yaxis,E=S.layout,x={},k=x[m._name+".range"]=m.range.slice(),I=x[a._name+".range"]=a.range.slice();x[m._name+".autorange"]=m.autorange,x[a._name+".autorange"]=a.autorange,y.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,x);var N=E[m._name];N.range=k,N.autorange=m.autorange;var F=E[a._name];F.range=I,F.autorange=a.autorange,x.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",x)},C.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var m=this.computeTickMarks(),a=this.glplotOptions.ticks;b(m,a)&&(this.glplotOptions.ticks=m,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var S=this.graphDiv,m=this.fullLayout.annotations,a=0;a<m.length;a++){var E=m[a];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&y.getComponentMethod("annotations","drawOne")(S,a)}},C.destroy=function(){if(this.glplot){var S=this.traces;S&&Object.keys(S).map(function(m){S[m].dispose(),delete S[m]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(S,m,a){var E=this.glplot;this.updateRefs(a),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,m),this.updateFx(a.dragmode);var x=a.width,k=a.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(a),I.screenBox=[0,0,x,k];var N={_fullLayout:{_axisConstraintGroups:a._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:a._size}};u(N,this.xaxis),u(N,this.yaxis);var F=a._size,z=this.xaxis.domain,O=this.yaxis.domain;I.viewBox=[F.l+z[0]*F.w,F.b+O[0]*F.h,x-F.r-(1-z[1])*F.w,k-F.t-(1-O[1])*F.h],this.mouseContainer.style.width=F.w*(z[1]-z[0])+"px",this.mouseContainer.style.height=F.h*(O[1]-O[0])+"px",this.mouseContainer.height=F.h*(O[1]-O[0]),this.mouseContainer.style.left=F.l+z[0]*F.w+"px",this.mouseContainer.style.top=F.t+(1-O[1])*F.h+"px";var _,B;for(B=0;B<2;++B)_=this[h[B]],_._length=I.viewBox[B+2]-I.viewBox[B],l(this.graphDiv,_),_.setScale();c(N),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(a),E.update(I),this.glplot.draw()},C.calcDataBox=function(){var S=this.xaxis,m=this.yaxis,a=S.range,E=m.range,x=S.r2l,k=m.r2l;return[x(a[0]),k(E[0]),x(a[1]),k(E[1])]},C.setRanges=function(S){var m=this.xaxis,a=this.yaxis,E=m.l2r,x=a.l2r;m.range=[E(S[0]),E(S[2])],a.range=[x(S[1]),x(S[3])]},C.updateTraces=function(S,m){var a=Object.keys(this.traces),E,x,k;this.fullData=S;e:for(E=0;E<a.length;E++){var I=a[E],N=this.traces[I];for(x=0;x<S.length;x++)if(k=S[x],k.uid===I&&k.type===N.type)continue e;N.dispose(),delete this.traces[I]}for(E=0;E<S.length;E++){k=S[E];var F=m[E],z=this.traces[k.uid];z?z.update(k,F):(z=k._module.plot(this,k,F),this.traces[k.uid]=z)}this.glplot.objects.sort(function(O,_){return O._trace.index-_._trace.index})},C.updateFx=function(S){T(S)||f(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),S==="pan"?this.mouseContainer.style.cursor="move":S==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(S,m){for(var a=S.trace.uid,E=S.pointIndex,x,k=0;k<this.fullData.length;k++)this.fullData[k].uid===a&&(x=this.fullData[k]);var I={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:x.index,pointNumber:E,data:x._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};o.appendArrayPointValue(I,x,E),this.graphDiv.emit(m,{points:[I]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,m=this.camera,a=m.mouseListener,E=this.lastButtonState===1&&a.buttons===0,x=this.fullLayout;this.lastButtonState=a.buttons,this.cameraChanged();var k=a.x*S.pixelRatio,I=this.canvas.height-S.pixelRatio*a.y,N;if(m.boxEnabled&&x.dragmode==="zoom"){this.selectBox.enabled=!0;for(var F=this.selectBox.selectBox=[Math.min(m.boxStart[0],m.boxEnd[0]),Math.min(m.boxStart[1],m.boxEnd[1]),Math.max(m.boxStart[0],m.boxEnd[0]),Math.max(m.boxStart[1],m.boxEnd[1])],z=0;z<2;z++)m.boxStart[z]===m.boxEnd[z]&&(F[z]=S.dataBox[z],F[z+2]=S.dataBox[z+2]);S.setDirty()}else if(!m.panning&&this.isMouseOver){this.selectBox.enabled=!1;var O=x._size,_=this.xaxis.domain,B=this.yaxis.domain;N=S.pick(k/S.pixelRatio+O.l+_[0]*O.w,I/S.pixelRatio-(O.t+(1-B[1])*O.h));var W=N&&N.object._trace.handlePick(N);if(W&&E&&this.emitPointAction(W,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&x.hovermode&&W&&(!this.lastPickResult||this.lastPickResult.traceUid!==W.trace.uid||this.lastPickResult.dataCoord[0]!==W.dataCoord[0]||this.lastPickResult.dataCoord[1]!==W.dataCoord[1])){var $=W;this.lastPickResult={traceUid:W.trace?W.trace.uid:null,dataCoord:W.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),$.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(N.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(N.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(W,"plotly_hover");var te=this.fullData[$.trace.index]||{},ie=$.pointIndex,ue=o.castHoverinfo(te,x,ie);if(ue&&ue!=="all"){var J=ue.split("+");J.indexOf("x")===-1&&($.traceCoord[0]=void 0),J.indexOf("y")===-1&&($.traceCoord[1]=void 0),J.indexOf("z")===-1&&($.traceCoord[2]=void 0),J.indexOf("text")===-1&&($.textLabel=void 0),J.indexOf("name")===-1&&($.name=void 0)}o.loneHover({x:$.screenCoord[0],y:$.screenCoord[1],xLabel:this.hoverFormatter("xaxis",$.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",$.traceCoord[1]),zLabel:$.traceCoord[2],text:$.textLabel,name:$.name,color:o.castHoverOption(te,ie,"bgcolor")||$.color,borderColor:o.castHoverOption(te,ie,"bordercolor"),fontFamily:o.castHoverOption(te,ie,"font.family"),fontSize:o.castHoverOption(te,ie,"font.size"),fontColor:o.castHoverOption(te,ie,"font.color"),nameLength:o.castHoverOption(te,ie,"namelength"),textAlign:o.castHoverOption(te,ie,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),S.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),o.loneUnhover(this.svgContainer))},C.hoverFormatter=function(S,m){if(m!==void 0){var a=this[S];return P.tickText(a,a.c2l(m),"hover").text}}},58547:function(G,V,e){var y=e(30962).overrideAll,P=e(528),o=e(33539),L=e(27659).NG,M=e(71828),v=e(77922),p="gl3d",r="scene";V.name=p,V.attr=r,V.idRoot=r,V.idRegex=V.attrRegex=M.counterRegex("scene"),V.attributes=e(59084),V.layoutAttributes=e(65500),V.baseLayoutAttrOverrides=y({hoverlabel:P.hoverlabel},"plot","nested"),V.supplyLayoutDefaults=e(24682),V.plot=function(i){for(var n=i._fullLayout,c=i._fullData,u=n._subplots[p],l=0;l<u.length;l++){var g=u[l],f=L(c,p,g),T=n[g],h=T.camera,s=T._scene;s||(s=new o({id:g,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:h},n),T._scene=s),s.viewInitial||(s.viewInitial={up:{x:h.up.x,y:h.up.y,z:h.up.z},eye:{x:h.eye.x,y:h.eye.y,z:h.eye.z},center:{x:h.center.x,y:h.center.y,z:h.center.z}}),s.plot(f,n,i.layout)}},V.clean=function(t,i,n,c){for(var u=c._subplots[p]||[],l=0;l<u.length;l++){var g=u[l];!i[g]&&c[g]._scene&&(c[g]._scene.destroy(),c._infolayer&&c._infolayer.selectAll(".annotation-"+g).remove())}},V.toSVG=function(t){for(var i=t._fullLayout,n=i._subplots[p],c=i._size,u=0;u<n.length;u++){var l=i[n[u]],g=l.domain,f=l._scene,T=f.toImage("png"),h=i._glimages.append("svg:image");h.attr({xmlns:v.svg,"xlink:href":T,x:c.l+c.w*g.x[0],y:c.t+c.h*(1-g.y[1]),width:c.w*(g.x[1]-g.x[0]),height:c.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"}),f.destroy()}},V.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var n=i.substr(5);return n==="1"&&(n=""),r+n}},V.updateFx=function(t){for(var i=t._fullLayout,n=i._subplots[p],c=0;c<n.length;c++){var u=i[n[c]]._scene;u.updateFx(i.dragmode,i.hovermode)}}},59084:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(G,V,e){var y=e(7901),P=e(13838),o=e(1426).extendFlat,L=e(30962).overrideAll;G.exports=L({visible:P.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:y.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:P.color,categoryorder:P.categoryorder,categoryarray:P.categoryarray,title:{text:P.title.text,font:P.title.font},type:o({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorange:P.autorange,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},rangemode:P.rangemode,minallowed:P.minallowed,maxallowed:P.maxallowed,range:o({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,mirror:P.mirror,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,tickfont:P.tickfont,tickangle:P.tickangle,tickprefix:P.tickprefix,showtickprefix:P.showtickprefix,ticksuffix:P.ticksuffix,showticksuffix:P.showticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickformat:P.tickformat,tickformatstops:P.tickformatstops,hoverformat:P.hoverformat,showline:P.showline,linecolor:P.linecolor,linewidth:P.linewidth,showgrid:P.showgrid,gridcolor:o({},P.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:P.gridwidth,zeroline:P.zeroline,zerolinecolor:P.zerolinecolor,zerolinewidth:P.zerolinewidth,_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}},"plot","from-root")},3277:function(G,V,e){var y=e(84267).mix,P=e(71828),o=e(44467),L=e(77894),M=e(951),v=e(71453),p=["xaxis","yaxis","zaxis"],r=100*(204-68)/(255-68);G.exports=function(i,n,c){var u,l;function g(h,s){return P.coerce(u,l,L,h,s)}for(var f=0;f<p.length;f++){var T=p[f];u=i[T]||{},l=o.newContainer(n,T),l._id=T[0]+c.scene,l._name=T,M(u,l,g,c),v(u,l,g,{font:c.font,letter:T[0],data:c.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:c.bgColor,calendar:c.calendar},c.fullLayout),g("gridcolor",y(l.color,c.bgColor,r).toRgbString()),g("title.text",T[0]),l.setScale=P.noop,g("showspikes")&&(g("spikesides"),g("spikethickness"),g("spikecolor",l.color)),g("showaxeslabels"),g("showbackground")&&g("backgroundcolor")}}},30422:function(G,V,e){var y=e(78614),P=e(71828),o=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var M=L.prototype;M.merge=function(p,r){for(var t=this,i=0;i<3;++i){var n=r[o[i]];if(!n.visible){t.tickEnable[i]=!1,t.labelEnable[i]=!1,t.lineEnable[i]=!1,t.lineTickEnable[i]=!1,t.gridEnable[i]=!1,t.zeroEnable[i]=!1,t.backgroundEnable[i]=!1;continue}t.labels[i]=p._meta?P.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[i]=y(n.title.font.color)),n.title.font.family&&(t.labelFont[i]=n.title.font.family),n.title.font.size&&(t.labelSize[i]=n.title.font.size)),"showline"in n&&(t.lineEnable[i]=n.showline),"linecolor"in n&&(t.lineColor[i]=y(n.linecolor)),"linewidth"in n&&(t.lineWidth[i]=n.linewidth),"showgrid"in n&&(t.gridEnable[i]=n.showgrid),"gridcolor"in n&&(t.gridColor[i]=y(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[i]=n.gridwidth),n.type==="log"?t.zeroEnable[i]=!1:"zeroline"in n&&(t.zeroEnable[i]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[i]=y(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[i]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[i]=!0:t.lineTickEnable[i]=!1,"ticklen"in n&&(t.lineTickLength[i]=t._defaultLineTickLength[i]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[i]=y(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[i]=n.tickwidth),"tickangle"in n&&(t.tickAngle[i]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[i]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[i]=y(n.tickfont.color)),n.tickfont.family&&(t.tickFont[i]=n.tickfont.family),n.tickfont.size&&(t.tickSize[i]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[i]=!0,t.lineMirror[i]=!0):n.mirror===!0?(t.lineTickMirror[i]=!1,t.lineMirror[i]=!0):(t.lineTickMirror[i]=!1,t.lineMirror[i]=!1):t.lineMirror[i]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[i]=!0,t.backgroundColor[i]=y(n.backgroundcolor)):t.backgroundEnable[i]=!1}};function v(p,r){var t=new L;return t.merge(p,r),t}G.exports=v},24682:function(G,V,e){var y=e(71828),P=e(7901),o=e(73972),L=e(49119),M=e(3277),v=e(65500),p=e(27659).NG,r="gl3d";G.exports=function(n,c,u){var l=c._basePlotModules.length>1;function g(f){if(!l){var T=y.validate(n[f],v[f]);if(T)return n[f]}}L(n,c,u,{type:r,attributes:v,handleDefaults:t,fullLayout:c,font:c.font,fullData:u,getDfltFromLayout:g,autotypenumbersDflt:c.autotypenumbers,paper_bgcolor:c.paper_bgcolor,calendar:c.calendar})};function t(i,n,c,u){for(var l=c("bgcolor"),g=P.combine(l,u.paper_bgcolor),f=["up","center","eye"],T=0;T<f.length;T++)c("camera."+f[T]+".x"),c("camera."+f[T]+".y"),c("camera."+f[T]+".z");c("camera.projection.type");var h=!!c("aspectratio.x")&&!!c("aspectratio.y")&&!!c("aspectratio.z"),s=h?"manual":"auto",d=c("aspectmode",s);h||(i.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),i.aspectmode=n.aspectmode);var A=p(u.fullData,r,u.id);M(i,n,{font:u.font,scene:u.id,data:A,bgColor:g,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),o.getComponentMethod("annotations3d","handleDefaults")(i,n,u);var w=u.getDfltFromLayout("dragmode");if(w!==!1&&!w)if(w="orbit",i.camera&&i.camera.up){var C=i.camera.up.x,b=i.camera.up.y,S=i.camera.up.z;S!==0&&(!C||!b||!S||S/Math.sqrt(C*C+b*b+S*S)>.999)&&(w="turntable")}else w="turntable";c("dragmode",w),c("hovermode",u.getDfltFromLayout("hovermode"))}},65500:function(G,V,e){var y=e(77894),P=e(27670).Y,o=e(1426).extendFlat,L=e(71828).counterRegex;function M(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:o(M(0,0,1),{}),center:o(M(0,0,0),{}),eye:o(M(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:P({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:y,yaxis:y,zaxis:y,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(G,V,e){var y=e(78614),P=["xaxis","yaxis","zaxis"];function o(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=o.prototype;L.merge=function(v){for(var p=0;p<3;++p){var r=v[P[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=y(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function M(v){var p=new o;return p.merge(v),p}G.exports=M},96085:function(G,V,e){G.exports=M;var y=e(89298),P=e(71828),o=["xaxis","yaxis","zaxis"];function L(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],i=new Array(t.length),n=0;n<t.length;++n)i[n]=t[n].x;p[r]=i}return p}function M(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,i=[[],[],[]],n=0;n<3;++n){var c=t[o[n]];if(c._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(c._length)===1/0||isNaN(c._length))i[n]=[];else{c._input_range=c.range.slice(),c.range[0]=r[n].lo/v.dataScale[n],c.range[1]=r[n].hi/v.dataScale[n],c._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),c.range[0]===c.range[1]&&(c.range[0]-=1,c.range[1]+=1);var u=c.tickmode;if(c.tickmode==="auto"){c.tickmode="linear";var l=c.nticks||P.constrain(c._length/40,4,9);y.autoTicks(c,Math.abs(c.range[1]-c.range[0])/l)}for(var g=y.calcTicks(c,{msUTC:!0}),f=0;f<g.length;++f)g[f].x=g[f].x*v.dataScale[n],c.type==="date"&&(g[f].text=g[f].text.replace(/\<br\>/g," "));i[n]=g,c.tickmode=u}}p.ticks=i;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var f=0;f<2;++f)p.bounds[f][n]=v.glplot.bounds[f][n]}v.contourLevels=L(i)}},63538:function(G){function V(y,P){var o=[0,0,0,0],L,M;for(L=0;L<4;++L)for(M=0;M<4;++M)o[M]+=y[4*L+M]*P[L];return o}function e(y,P){var o=V(y.projection,V(y.view,V(y.model,[P[0],P[1],P[2],1])));return o}G.exports=e},33539:function(G,V,e){var y=e(9330).gl_plot3d,P=y.createCamera,o=y.createScene,L=e(40372),M=e(38520),v=e(73972),p=e(71828),r=p.preserveDrawingBuffer(),t=e(89298),i=e(30211),n=e(78614),c=e(58617),u=e(63538),l=e(30422),g=e(13133),f=e(96085),T=e(71739).applyAutorangeOptions,h,s,d=!1;function A(I,N){var F=document.createElement("div"),z=I.container;this.graphDiv=I.graphDiv;var O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none",F.appendChild(O),this.svgContainer=O,F.id=I.id,F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",z.appendChild(F),this.fullLayout=N,this.id=I.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(N,N[this.id]),this.spikeOptions=g(N[this.id]),this.container=F,this.staticMode=!!I.staticPlot,this.pixelRatio=this.pixelRatio||I.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=A.prototype;w.prepareOptions=function(){var I=this,N={canvas:I.canvas,gl:I.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:I.container,axes:I.axesOptions,spikes:I.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:I.camera,pixelRatio:I.pixelRatio};if(I.staticMode){if(!s&&(h=document.createElement("canvas"),s=L({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!s))throw new Error("error creating static canvas/context for image server");N.gl=s,N.canvas=h}return N};var C=!0;w.tryCreatePlot=function(){var I=this,N=I.prepareOptions(),F=!0;try{I.glplot=o(N)}catch{if(I.staticMode||!C||r)F=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=N.glOptions.preserveDrawingBuffer=!0,I.glplot=o(N)}catch{r=N.glOptions.preserveDrawingBuffer=!1,F=!1}}}return C=!1,F},w.initializeGLCamera=function(){var I=this,N=I.fullSceneLayout.camera,F=N.projection.type==="orthographic";I.camera=P(I.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:F,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var I=this;I.initializeGLCamera();var N=I.tryCreatePlot();if(!N)return c(I);I.traces={},I.make4thDimension();var F=I.graphDiv,z=F.layout,O=function(){var B={};return I.isCameraChanged(z)&&(B[I.id+".camera"]=I.getCamera()),I.isAspectChanged(z)&&(B[I.id+".aspectratio"]=I.glplot.getAspectratio(),z[I.id].aspectmode!=="manual"&&(I.fullSceneLayout.aspectmode=z[I.id].aspectmode=B[I.id+".aspectmode"]="manual")),B},_=function(B){if(B.fullSceneLayout.dragmode!==!1){var W=O();B.saveLayout(z),B.graphDiv.emit("plotly_relayout",W)}};return I.glplot.canvas&&(I.glplot.canvas.addEventListener("mouseup",function(){_(I)}),I.glplot.canvas.addEventListener("touchstart",function(){d=!0}),I.glplot.canvas.addEventListener("wheel",function(B){if(F._context._scrollZoom.gl3d){if(I.camera._ortho){var W=B.deltaX>B.deltaY?1.1:.9090909090909091,$=I.glplot.getAspectratio();I.glplot.setAspectratio({x:W*$.x,y:W*$.y,z:W*$.z})}_(I)}},M?{passive:!1}:!1),I.glplot.canvas.addEventListener("mousemove",function(){if(I.fullSceneLayout.dragmode!==!1&&I.camera.mouseListener.buttons!==0){var B=O();I.graphDiv.emit("plotly_relayouting",B)}}),I.staticMode||I.glplot.canvas.addEventListener("webglcontextlost",function(B){F&&F.emit&&F.emit("plotly_webglcontextlost",{event:B,layer:I.id})},!1)),I.glplot.oncontextloss=function(){I.recoverContext()},I.glplot.onrender=function(){I.render()},!0},w.render=function(){var I=this,N=I.graphDiv,F,z=I.svgContainer,O=I.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var _=N._fullLayout._invScaleX,B=N._fullLayout._invScaleY,W=O.width*_,$=O.height*B;z.setAttributeNS(null,"viewBox","0 0 "+W+" "+$),z.setAttributeNS(null,"width",W),z.setAttributeNS(null,"height",$),f(I),I.glplot.axes.update(I.axesOptions);for(var te=Object.keys(I.traces),ie=null,ue=I.glplot.selection,J=0;J<te.length;++J)F=I.traces[te[J]],F.data.hoverinfo!=="skip"&&F.handlePick(ue)&&(ie=F),F.setContourLevels&&F.setContourLevels();function Y(_e,ke,Me){var me=I.fullSceneLayout[_e+"axis"];return me.type!=="log"&&(ke=me.d2l(ke)),t.hoverLabelText(me,ke,Me)}if(ie!==null){var ae=u(I.glplot.cameraParams,ue.dataCoordinate);F=ie.data;var j=N._fullData[F.index],q=ue.index,oe={xLabel:Y("x",ue.traceCoordinate[0],F.xhoverformat),yLabel:Y("y",ue.traceCoordinate[1],F.yhoverformat),zLabel:Y("z",ue.traceCoordinate[2],F.zhoverformat)},Q=i.castHoverinfo(j,I.fullLayout,q),X=(Q||"").split("+"),se=Q&&Q==="all";!j.hovertemplate&&!se&&(X.indexOf("x")===-1&&(oe.xLabel=void 0),X.indexOf("y")===-1&&(oe.yLabel=void 0),X.indexOf("z")===-1&&(oe.zLabel=void 0),X.indexOf("text")===-1&&(ue.textLabel=void 0),X.indexOf("name")===-1&&(ie.name=void 0));var ne,fe=[];F.type==="cone"||F.type==="streamtube"?(oe.uLabel=Y("x",ue.traceCoordinate[3],F.uhoverformat),(se||X.indexOf("u")!==-1)&&fe.push("u: "+oe.uLabel),oe.vLabel=Y("y",ue.traceCoordinate[4],F.vhoverformat),(se||X.indexOf("v")!==-1)&&fe.push("v: "+oe.vLabel),oe.wLabel=Y("z",ue.traceCoordinate[5],F.whoverformat),(se||X.indexOf("w")!==-1)&&fe.push("w: "+oe.wLabel),oe.normLabel=ue.traceCoordinate[6].toPrecision(3),(se||X.indexOf("norm")!==-1)&&fe.push("norm: "+oe.normLabel),F.type==="streamtube"&&(oe.divergenceLabel=ue.traceCoordinate[7].toPrecision(3),(se||X.indexOf("divergence")!==-1)&&fe.push("divergence: "+oe.divergenceLabel)),ue.textLabel&&fe.push(ue.textLabel),ne=fe.join("<br>")):F.type==="isosurface"||F.type==="volume"?(oe.valueLabel=t.hoverLabelText(I._mockAxis,I._mockAxis.d2l(ue.traceCoordinate[3]),F.valuehoverformat),fe.push("value: "+oe.valueLabel),ue.textLabel&&fe.push(ue.textLabel),ne=fe.join("<br>")):ne=ue.textLabel;var ye={x:ue.traceCoordinate[0],y:ue.traceCoordinate[1],z:ue.traceCoordinate[2],data:j._input,fullData:j,curveNumber:j.index,pointNumber:q};i.appendArrayPointValue(ye,j,q),F._module.eventData&&(ye=j._module.eventData(ye,ue,j,{},q));var Se={points:[ye]};if(I.fullSceneLayout.hovermode){var we=[];i.loneHover({trace:j,x:(.5+.5*ae[0]/ae[3])*W,y:(.5-.5*ae[1]/ae[3])*$,xLabel:oe.xLabel,yLabel:oe.yLabel,zLabel:oe.zLabel,text:ne,name:ie.name,color:i.castHoverOption(j,q,"bgcolor")||ie.color,borderColor:i.castHoverOption(j,q,"bordercolor"),fontFamily:i.castHoverOption(j,q,"font.family"),fontSize:i.castHoverOption(j,q,"font.size"),fontColor:i.castHoverOption(j,q,"font.color"),nameLength:i.castHoverOption(j,q,"namelength"),textAlign:i.castHoverOption(j,q,"align"),hovertemplate:p.castOption(j,q,"hovertemplate"),hovertemplateLabels:p.extendFlat({},ye,oe),eventData:[ye]},{container:z,gd:N,inOut_bbox:we}),ye.bbox=we[0]}ue.distance<5&&(ue.buttons||d)?N.emit("plotly_click",Se):N.emit("plotly_hover",Se),this.oldEventData=Se}else i.loneUnhover(z),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;I.drawAnnotations(I)},w.recoverContext=function(){var I=this;I.glplot.dispose();var N=function(){if(I.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!I.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}I.plot.apply(I,I.plotArgs)};requestAnimationFrame(N)};var b=["xaxis","yaxis","zaxis"];function S(I,N,F){for(var z=I.fullSceneLayout,O=0;O<3;O++){var _=b[O],B=_.charAt(0),W=z[_],$=N[B],te=N[B+"calendar"],ie=N["_"+B+"length"];if(!p.isArrayOrTypedArray($))F[0][O]=Math.min(F[0][O],0),F[1][O]=Math.max(F[1][O],ie-1);else for(var ue,J=0;J<(ie||$.length);J++)if(p.isArrayOrTypedArray($[J]))for(var Y=0;Y<$[J].length;++Y)ue=W.d2l($[J][Y],0,te),!isNaN(ue)&&isFinite(ue)&&(F[0][O]=Math.min(F[0][O],ue),F[1][O]=Math.max(F[1][O],ue));else ue=W.d2l($[J],0,te),!isNaN(ue)&&isFinite(ue)&&(F[0][O]=Math.min(F[0][O],ue),F[1][O]=Math.max(F[1][O],ue))}}function m(I,N){for(var F=I.fullSceneLayout,z=F.annotations||[],O=0;O<3;O++)for(var _=b[O],B=_.charAt(0),W=F[_],$=0;$<z.length;$++){var te=z[$];if(te.visible){var ie=W.r2l(te[B]);!isNaN(ie)&&isFinite(ie)&&(N[0][O]=Math.min(N[0][O],ie),N[1][O]=Math.max(N[1][O],ie))}}}w.plot=function(I,N,F){var z=this;if(z.plotArgs=[I,N,F],!z.glplot.contextLost){var O,_,B,W,$,te,ie=N[z.id],ue=F[z.id];z.fullLayout=N,z.fullSceneLayout=ie,z.axesOptions.merge(N,ie),z.spikeOptions.merge(ie),z.setViewport(ie),z.updateFx(ie.dragmode,ie.hovermode),z.camera.enableWheel=z.graphDiv._context._scrollZoom.gl3d,z.glplot.setClearColor(n(ie.bgcolor)),z.setConvert($),I?Array.isArray(I)||(I=[I]):I=[];var J=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(B=0;B<I.length;++B)O=I[B],!(O.visible!==!0||O._length===0)&&S(this,O,J);m(this,J);var Y=[1,1,1];for(W=0;W<3;++W)J[1][W]===J[0][W]?Y[W]=1:Y[W]=1/(J[1][W]-J[0][W]);for(z.dataScale=Y,z.convertAnnotations(this),B=0;B<I.length;++B)O=I[B],!(O.visible!==!0||O._length===0)&&(_=z.traces[O.uid],_?_.data.type===O.type?_.update(O):(_.dispose(),_=O._module.plot(this,O),z.traces[O.uid]=_):(_=O._module.plot(this,O),z.traces[O.uid]=_),_.name=O.name);var ae=Object.keys(z.traces);e:for(B=0;B<ae.length;++B){for(W=0;W<I.length;++W)if(I[W].uid===ae[B]&&I[W].visible===!0&&I[W]._length!==0)continue e;_=z.traces[ae[B]],_.dispose(),delete z.traces[ae[B]]}z.glplot.objects.sort(function(lt,$e){return lt._trace.data.index-$e._trace.data.index});var j=[[0,0,0],[0,0,0]],q={};for(B=0;B<3;++B){$=ie[b[B]],te=$.type,te in q?(q[te].acc*=Y[B],q[te].count+=1):q[te]={acc:Y[B],count:1};var oe;if($.autorange){j[0][B]=1/0,j[1][B]=-1/0;var Q=z.glplot.objects,X=z.fullSceneLayout.annotations||[],se=$._name.charAt(0);for(W=0;W<Q.length;W++){var ne=Q[W],fe=ne.bounds,ye=ne._trace.data._pad||0;ne.constructor.name==="ErrorBars"&&$._lowerLogErrorBound?j[0][B]=Math.min(j[0][B],$._lowerLogErrorBound):j[0][B]=Math.min(j[0][B],fe[0][B]/Y[B]-ye),j[1][B]=Math.max(j[1][B],fe[1][B]/Y[B]+ye)}for(W=0;W<X.length;W++){var Se=X[W];if(Se.visible){var we=$.r2l(Se[se]);j[0][B]=Math.min(j[0][B],we),j[1][B]=Math.max(j[1][B],we)}}if("rangemode"in $&&$.rangemode==="tozero"&&(j[0][B]=Math.min(j[0][B],0),j[1][B]=Math.max(j[1][B],0)),j[0][B]>j[1][B])j[0][B]=-1,j[1][B]=1;else{var _e=j[1][B]-j[0][B];j[0][B]-=_e/32,j[1][B]+=_e/32}if(oe=[j[0][B],j[1][B]],oe=T(oe,$),j[0][B]=oe[0],j[1][B]=oe[1],$.isReversed()){var ke=j[0][B];j[0][B]=j[1][B],j[1][B]=ke}}else oe=$.range,j[0][B]=$.r2l(oe[0]),j[1][B]=$.r2l(oe[1]);j[0][B]===j[1][B]&&(j[0][B]-=1,j[1][B]+=1),$.range=[j[0][B],j[1][B]],$.limitRange(),z.glplot.setBounds(B,{min:$.range[0]*Y[B],max:$.range[1]*Y[B]})}var Me,me=ie.aspectmode;if(me==="cube")Me=[1,1,1];else if(me==="manual"){var Ee=ie.aspectratio;Me=[Ee.x,Ee.y,Ee.z]}else if(me==="auto"||me==="data"){var Be=[1,1,1];for(B=0;B<3;++B){$=ie[b[B]],te=$.type;var Ue=q[te];Be[B]=Math.pow(Ue.acc,1/Ue.count)/Y[B]}me==="data"||Math.max.apply(null,Be)/Math.min.apply(null,Be)<=4?Me=Be:Me=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ie.aspectratio.x=ue.aspectratio.x=Me[0],ie.aspectratio.y=ue.aspectratio.y=Me[1],ie.aspectratio.z=ue.aspectratio.z=Me[2],z.glplot.setAspectratio(ie.aspectratio),z.viewInitial.aspectratio||(z.viewInitial.aspectratio={x:ie.aspectratio.x,y:ie.aspectratio.y,z:ie.aspectratio.z}),z.viewInitial.aspectmode||(z.viewInitial.aspectmode=ie.aspectmode);var De=ie.domain||null,He=N._size||null;if(De&&He){var nt=z.container.style;nt.position="absolute",nt.left=He.l+De.x[0]*He.w+"px",nt.top=He.t+(1-De.y[1])*He.h+"px",nt.width=He.w*(De.x[1]-De.x[0])+"px",nt.height=He.h*(De.y[1]-De.y[0])+"px"}z.glplot.redraw()}},w.destroy=function(){var I=this;I.glplot&&(I.camera.mouseListener.enabled=!1,I.container.removeEventListener("wheel",I.camera.wheelListener),I.camera=null,I.glplot.dispose(),I.container.parentNode.removeChild(I.container),I.glplot=null)};function a(I){return[[I.eye.x,I.eye.y,I.eye.z],[I.center.x,I.center.y,I.center.z],[I.up.x,I.up.y,I.up.z]]}function E(I){return{up:{x:I.up[0],y:I.up[1],z:I.up[2]},center:{x:I.center[0],y:I.center[1],z:I.center[2]},eye:{x:I.eye[0],y:I.eye[1],z:I.eye[2]},projection:{type:I._ortho===!0?"orthographic":"perspective"}}}w.getCamera=function(){var I=this;return I.camera.view.recalcMatrix(I.camera.view.lastT()),E(I.camera)},w.setViewport=function(I){var N=this,F=I.camera;N.camera.lookAt.apply(this,a(F)),N.glplot.setAspectratio(I.aspectratio);var z=F.projection.type==="orthographic",O=N.camera._ortho;z!==O&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},w.isCameraChanged=function(I){var N=this,F=N.getCamera(),z=p.nestedProperty(I,N.id+".camera"),O=z.get();function _(te,ie,ue,J){var Y=["up","center","eye"],ae=["x","y","z"];return ie[Y[ue]]&&te[Y[ue]][ae[J]]===ie[Y[ue]][ae[J]]}var B=!1;if(O===void 0)B=!0;else{for(var W=0;W<3;W++)for(var $=0;$<3;$++)if(!_(F,O,W,$)){B=!0;break}(!O.projection||F.projection&&F.projection.type!==O.projection.type)&&(B=!0)}return B},w.isAspectChanged=function(I){var N=this,F=N.glplot.getAspectratio(),z=p.nestedProperty(I,N.id+".aspectratio"),O=z.get();return O===void 0||O.x!==F.x||O.y!==F.y||O.z!==F.z},w.saveLayout=function(I){var N=this,F=N.fullLayout,z,O,_,B,W,$,te=N.isCameraChanged(I),ie=N.isAspectChanged(I),ue=te||ie;if(ue){var J={};if(te&&(z=N.getCamera(),O=p.nestedProperty(I,N.id+".camera"),_=O.get(),J[N.id+".camera"]=_),ie&&(B=N.glplot.getAspectratio(),W=p.nestedProperty(I,N.id+".aspectratio"),$=W.get(),J[N.id+".aspectratio"]=$),v.call("_storeDirectGUIEdit",I,F._preGUI,J),te){O.set(z);var Y=p.nestedProperty(F,N.id+".camera");Y.set(z)}if(ie){W.set(B);var ae=p.nestedProperty(F,N.id+".aspectratio");ae.set(B),N.glplot.redraw()}}return ue},w.updateFx=function(I,N){var F=this,z=F.camera;if(z)if(I==="orbit")z.mode="orbit",z.keyBindingMode="rotate";else if(I==="turntable"){z.up=[0,0,1],z.mode="turntable",z.keyBindingMode="rotate";var O=F.graphDiv,_=O._fullLayout,B=F.fullSceneLayout.camera,W=B.up.x,$=B.up.y,te=B.up.z;if(te/Math.sqrt(W*W+$*$+te*te)<.999){var ie=F.id+".camera.up",ue={x:0,y:0,z:1},J={};J[ie]=ue;var Y=O.layout;v.call("_storeDirectGUIEdit",Y,_._preGUI,J),B.up=ue,p.nestedProperty(Y,ie).set(ue)}}else z.keyBindingMode=I;F.fullSceneLayout.hovermode=N};function x(I,N,F){for(var z=0,O=F-1;z<O;++z,--O)for(var _=0;_<N;++_)for(var B=0;B<4;++B){var W=4*(N*z+_)+B,$=4*(N*O+_)+B,te=I[W];I[W]=I[$],I[$]=te}}function k(I,N,F){for(var z=0;z<F;++z)for(var O=0;O<N;++O){var _=4*(N*z+O),B=I[_+3];if(B>0)for(var W=255/B,$=0;$<3;++$)I[_+$]=Math.min(W*I[_+$],255)}}w.toImage=function(I){var N=this;I||(I="png"),N.staticMode&&N.container.appendChild(h),N.glplot.redraw();var F=N.glplot.gl,z=F.drawingBufferWidth,O=F.drawingBufferHeight;F.bindFramebuffer(F.FRAMEBUFFER,null);var _=new Uint8Array(z*O*4);F.readPixels(0,0,z,O,F.RGBA,F.UNSIGNED_BYTE,_),x(_,z,O),k(_,z,O);var B=document.createElement("canvas");B.width=z,B.height=O;var W=B.getContext("2d",{willReadFrequently:!0}),$=W.createImageData(z,O);$.data.set(_),W.putImageData($,0,0);var te;switch(I){case"jpeg":te=B.toDataURL("image/jpeg");break;case"webp":te=B.toDataURL("image/webp");break;default:te=B.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(h),te},w.setConvert=function(){for(var I=this,N=0;N<3;N++){var F=I.fullSceneLayout[b[N]];t.setConvert(F,I.fullLayout),F.setScale=p.noop}},w.make4thDimension=function(){var I=this,N=I.graphDiv,F=N._fullLayout;I._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(I._mockAxis,F)},G.exports=A},90060:function(G){G.exports=function(e,y,P,o){o=o||e.length;for(var L=new Array(o),M=0;M<o;M++)L[M]=[e[M],y[M],P[M]];return L}},10820:function(G,V,e){var y=e(41940),P=e(85594),o=e(22399),L=e(29241),M=e(53777),v=e(35025),p=e(1426).extendFlat,r=y({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=o.defaultLine,G.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:y({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:M.newselection,activeselection:M.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},P.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:y({editType:"layoutstyle"})}}},77734:function(G,V,e){var y=e(78607),P="1.13.4",o=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=[' <a target="_blank" href="https://carto.com/">Carto</a>',o].join(" "),M=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:o,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:M,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=y(p);G.exports={requiredVersion:P,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+P+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(G,V,e){var y=e(71828);G.exports=function(o,L){var M=o.split(" "),v=M[0],p=M[1],r=y.isArrayOrTypedArray(L)?y.mean(L):L,t=.5+r/100,i=1.5+r/100,n=["",""],c=[0,0];switch(v){case"top":n[0]="top",c[1]=-i;break;case"bottom":n[0]="bottom",c[1]=i;break}switch(p){case"left":n[1]="right",c[0]=-t;break;case"right":n[1]="left",c[0]=t;break}var u;return n[0]&&n[1]?u=n.join("-"):n[0]?u=n[0]:n[1]?u=n[1]:u="center",{anchor:u,offset:c}}},50101:function(G,V,e){var y=e(97433),P=e(71828),o=P.strTranslate,L=P.strScale,M=e(27659).AU,v=e(77922),p=e(39898),r=e(91424),t=e(63893),i=e(10481),n="mapbox",c=V.constants=e(77734);V.name=n,V.attr="subplot",V.idRoot=n,V.idRegex=V.attrRegex=P.counterRegex(n),V.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},V.layoutAttributes=e(23585),V.supplyLayoutDefaults=e(77882),V.plot=function(f){var T=f._fullLayout,h=f.calcdata,s=T._subplots[n];if(y.version!==c.requiredVersion)throw new Error(c.wrongVersionErrorMsg);var d=u(f,s);y.accessToken=d;for(var A=0;A<s.length;A++){var w=s[A],C=M(h,n,w),b=T[w],S=b._subplot;S||(S=new i(f,w),T[w]._subplot=S),S.viewInitial||(S.viewInitial={center:P.extendFlat({},b.center),zoom:b.zoom,bearing:b.bearing,pitch:b.pitch}),S.plot(C,T,f._promises)}},V.clean=function(g,f,T,h){for(var s=h._subplots[n]||[],d=0;d<s.length;d++){var A=s[d];!f[A]&&h[A]._subplot&&h[A]._subplot.destroy()}},V.toSVG=function(g){for(var f=g._fullLayout,T=f._subplots[n],h=f._size,s=0;s<T.length;s++){var d=f[T[s]],A=d.domain,w=d._subplot,C=w.toImage("png"),b=f._glimages.append("svg:image");b.attr({xmlns:v.svg,"xlink:href":C,x:h.l+h.w*A.x[0],y:h.t+h.h*(1-A.y[1]),width:h.w*(A.x[1]-A.x[0]),height:h.h*(A.y[1]-A.y[0]),preserveAspectRatio:"none"});var S=p.select(d._subplot.div),m=S.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!m){var a=f._glimages.append("g");a.attr("transform",o(h.l+h.w*A.x[0]+10,h.t+h.h*(1-A.y[0])-31)),a.append("path").attr("d",c.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),a.append("path").attr("d",c.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),a.append("path").attr("d",c.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),a.append("polygon").attr("points",c.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var E=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),x=f._glimages.append("g"),k=x.append("text");k.text(E).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":E});var I=r.bBox(k.node()),N=h.w*(A.x[1]-A.x[0]);if(I.width>N/2){var F=E.split("|").join("<br>");k.text(F).attr("data-unformatted",F).call(t.convertToTspans,g),I=r.bBox(k.node())}k.attr("transform",o(-3,-I.height+8)),x.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var z=1;I.width+6>N&&(z=N/(I.width+6));var O=[h.l+h.w*A.x[1],h.t+h.h*(1-A.y[0])];x.attr("transform",o(O[0],O[1])+L(z))}};function u(g,f){var T=g._fullLayout,h=g._context;if(h.mapboxAccessToken==="")return"";for(var s=[],d=[],A=!1,w=!1,C=0;C<f.length;C++){var b=T[f[C]],S=b.accesstoken;l(b.style)&&(S?P.pushUnique(s,S):(l(b._input.style)&&(P.error("Uses Mapbox map style, but did not set an access token."),A=!0),w=!0)),S&&P.pushUnique(d,S)}if(w){var m=A?c.noAccessTokenErrorMsg:c.missingStyleErrorMsg;throw P.error(m),new Error(m)}return s.length?(s.length>1&&P.warn(c.multipleTokensErrorMsg),s[0]):(d.length&&P.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(g){return typeof g=="string"&&(c.styleValuesMapbox.indexOf(g)!==-1||g.indexOf("mapbox://")===0||g.indexOf("stamen")===0)}V.updateFx=function(g){for(var f=g._fullLayout,T=f._subplots[n],h=0;h<T.length;h++){var s=f[T[h]]._subplot;s.updateFx(f)}}},67911:function(G,V,e){var y=e(71828),P=e(63893).sanitizeHTML,o=e(13056),L=e(77734);function M(i,n){this.subplot=i,this.uid=i.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=M.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(i){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},v.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},v.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(i){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var c=this.findFollowingMapboxLayerId(this.lookupBelow());c!==null&&this.subplot.map.moveLayer(this.idLayer,c)},v.updateSource=function(i){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,!!p(i)){var c=t(i);n.addSource(this.idSource,c)}},v.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var n=this.subplot.getMapLayers(),c=0;c<n.length;c++){var u=n[c].id;if(typeof u=="string"&&u.indexOf(L.traceLayerPrefix)===0){i=u;break}}return i},v.updateLayer=function(i){var n=this.subplot,c=r(i),u=this.lookupBelow(),l=this.findFollowingMapboxLayerId(u);this.removeLayer(),p(i)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:c.layout,paint:c.paint},l),this.layerType=i.type,this.below=u},v.updateStyle=function(i){if(p(i)){var n=r(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},v.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)};function p(i){if(!i.visible)return!1;var n=i.source;if(Array.isArray(n)&&n.length>0){for(var c=0;c<n.length;c++)if(typeof n[c]!="string"||n[c].length===0)return!1;return!0}return y.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(i){var n={},c={};switch(i.type){case"circle":y.extendFlat(c,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":y.extendFlat(c,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":y.extendFlat(c,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var u=i.symbol,l=o(u.textposition,u.iconsize);y.extendFlat(n,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":u.placement}),y.extendFlat(c,{"icon-color":i.color,"text-color":u.textfont.color,"text-opacity":i.opacity});break;case"raster":y.extendFlat(c,{"raster-fade-duration":0,"raster-opacity":i.opacity});break}return{layout:n,paint:c}}function t(i){var n=i.sourcetype,c=i.source,u={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof c=="string"?"url":"tiles":n==="raster"?(l="tiles",u.tileSize=256):n==="image"&&(l="url",u.coordinates=i.coordinates),u[l]=c,i.sourceattribution&&(u.attribution=P(i.sourceattribution)),u}G.exports=function(n,c,u){var l=new M(n,c);return l.update(u),l}},23585:function(G,V,e){var y=e(71828),P=e(7901).defaultLine,o=e(27670).Y,L=e(41940),M=e(82196).textposition,v=e(30962).overrideAll,p=e(44467).templatedArray,r=e(77734),t=L({});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var i=G.exports=v({_arrayAttrRegexps:[y.counterRegex("mapbox",".layers",!0)],domain:o({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:P},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:P}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:y.extendFlat({},M,{arrayOk:!1})}})},"plot","from-root");i.uirevision={valType:"any",editType:"none"}},77882:function(G,V,e){var y=e(71828),P=e(49119),o=e(85501),L=e(23585);G.exports=function(r,t,i){P(r,t,i,{type:"mapbox",attributes:L,handleDefaults:M,partition:"y",accessToken:t._mapboxAccessToken})};function M(p,r,t,i){t("accesstoken",i.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),c=t("bounds.east"),u=t("bounds.south"),l=t("bounds.north");(n===void 0||c===void 0||u===void 0||l===void 0)&&delete r.bounds,o(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(g,f){return y.coerce(p,r,L.layers,g,f)}var i=t("visible");if(i){var n=t("sourcetype"),c=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var u;c&&(u="raster");var l=t("type",u);c&&l!=="raster"&&(l=r.type="raster",y.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),y.coerceFont(t,"symbol.textfont"),t("symbol.textposition"),t("symbol.placement"))}}},10481:function(G,V,e){var y=e(97433),P=e(71828),o=e(41327),L=e(73972),M=e(89298),v=e(28569),p=e(30211),r=e(64505),t=r.drawMode,i=r.selectMode,n=e(47322).prepSelect,c=e(47322).clearOutline,u=e(47322).clearSelectionsCache,l=e(47322).selectOnClick,g=e(77734),f=e(67911);function T(C,b){this.id=b,this.gd=C;var S=C._fullLayout,m=C._context;this.container=S._glcontainer.node(),this.isStatic=m.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var h=T.prototype;h.plot=function(C,b,S){var m=this,a=b[m.id];m.map&&a.accesstoken!==m.accessToken&&(m.map.remove(),m.map=null,m.styleObj=null,m.traceHash={},m.layerList=[]);var E;m.map?E=new Promise(function(x,k){m.updateMap(C,b,x,k)}):E=new Promise(function(x,k){m.createMap(C,b,x,k)}),S.push(E)},h.createMap=function(C,b,S,m){var a=this,E=b[a.id],x=a.styleObj=d(E.style,b);a.accessToken=E.accesstoken;var k=E.bounds,I=k?[[k.west,k.south],[k.east,k.north]]:null,N=a.map=new y.Map({container:a.div,style:x.style,center:w(E.center),zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,maxBounds:I,interactive:!a.isStatic,preserveDrawingBuffer:a.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new y.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",a.rejectOnError(m),a.isStatic||a.initFx(C,b);var F=[];F.push(new Promise(function(z){N.once("load",z)})),F=F.concat(o.fetchTraceGeoData(C)),Promise.all(F).then(function(){a.fillBelowLookup(C,b),a.updateData(C),a.updateLayout(b),a.resolveOnRender(S)}).catch(m)},h.updateMap=function(C,b,S,m){var a=this,E=a.map,x=b[this.id];a.rejectOnError(m);var k=[],I=d(x.style,b);JSON.stringify(a.styleObj)!==JSON.stringify(I)&&(a.styleObj=I,E.setStyle(I.style),a.traceHash={},k.push(new Promise(function(N){E.once("styledata",N)}))),k=k.concat(o.fetchTraceGeoData(C)),Promise.all(k).then(function(){a.fillBelowLookup(C,b),a.updateData(C),a.updateLayout(b),a.resolveOnRender(S)}).catch(m)},h.fillBelowLookup=function(C,b){var S=b[this.id],m=S.layers,a,E,x=this.belowLookup={},k=!1;for(a=0;a<C.length;a++){var I=C[a][0].trace,N=I._module;typeof I.below=="string"?E=I.below:N.getBelow&&(E=N.getBelow(I,this)),E===""&&(k=!0),x["trace-"+I.uid]=E||""}for(a=0;a<m.length;a++){var F=m[a];typeof F.below=="string"?E=F.below:k?E="traces":E="",x["layout-"+a]=E}var z={},O,_;for(O in x)E=x[O],z[E]?z[E].push(O):z[E]=[O];for(E in z){var B=z[E];if(B.length>1)for(a=0;a<B.length;a++)O=B[a],O.indexOf("trace-")===0?(_=O.split("trace-")[1],this.traceHash[_]&&(this.traceHash[_].below=null)):O.indexOf("layout-")===0&&(_=O.split("layout-")[1],this.layerList[_]&&(this.layerList[_].below=null))}};var s={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};h.updateData=function(C){var b=this.traceHash,S,m,a,E,x=C.slice().sort(function(z,O){return s[z[0].trace.type]-s[O[0].trace.type]});for(a=0;a<x.length;a++){var k=x[a];m=k[0].trace,S=b[m.uid];var I=!1;S&&(S.type===m.type?(S.update(k),I=!0):S.dispose()),!I&&m._module&&(b[m.uid]=m._module.plot(this,k))}var N=Object.keys(b);e:for(a=0;a<N.length;a++){var F=N[a];for(E=0;E<C.length;E++)if(m=C[E][0].trace,F===m.uid)continue e;S=b[F],S.dispose(),delete b[F]}},h.updateLayout=function(C){var b=this.map,S=C[this.id];!this.dragging&&!this.wheeling&&(b.setCenter(w(S.center)),b.setZoom(S.zoom),b.setBearing(S.bearing),b.setPitch(S.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?b.scrollZoom.enable():b.scrollZoom.disable()},h.resolveOnRender=function(C){var b=this.map;b.on("render",function S(){b.loaded()&&(b.off("render",S),setTimeout(C,10))})},h.rejectOnError=function(C){var b=this.map;function S(){C(new Error(g.mapOnErrorMsg))}b.once("error",S),b.once("style.error",S),b.once("source.error",S),b.once("tile.error",S),b.once("layer.error",S)},h.createFramework=function(C){var b=this,S=b.div=document.createElement("div");S.id=b.uid,S.style.position="absolute",b.container.appendChild(S),b.xaxis={_id:"x",c2p:function(m){return b.project(m).x}},b.yaxis={_id:"y",c2p:function(m){return b.project(m).y}},b.updateFramework(C),b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(b.mockAxis,C)},h.initFx=function(C,b){var S=this,m=S.gd,a=S.map;a.on("moveend",function(k){if(S.map){var I=m._fullLayout;if(k.originalEvent||S.wheeling){var N=I[S.id];L.call("_storeDirectGUIEdit",m.layout,I._preGUI,S.getViewEdits(N));var F=S.getView();N._input.center=N.center=F.center,N._input.zoom=N.zoom=F.zoom,N._input.bearing=N.bearing=F.bearing,N._input.pitch=N.pitch=F.pitch,m.emit("plotly_relayout",S.getViewEditsWithDerived(F))}k.originalEvent&&k.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),I._rehover&&I._rehover()}}),a.on("wheel",function(){S.wheeling=!0}),a.on("mousemove",function(k){var I=S.div.getBoundingClientRect(),N=[k.originalEvent.offsetX,k.originalEvent.offsetY];k.target.getBoundingClientRect=function(){return I},S.xaxis.p2c=function(){return a.unproject(N).lng},S.yaxis.p2c=function(){return a.unproject(N).lat},m._fullLayout._rehover=function(){m._fullLayout._hoversubplot===S.id&&m._fullLayout[S.id]&&p.hover(m,k,S.id)},p.hover(m,k,S.id),m._fullLayout._hoversubplot=S.id});function E(){p.loneUnhover(b._hoverlayer)}a.on("dragstart",function(){S.dragging=!0,E()}),a.on("zoomstart",E),a.on("mouseout",function(){m._fullLayout._hoversubplot=null});function x(){var k=S.getView();m.emit("plotly_relayouting",S.getViewEditsWithDerived(k))}a.on("drag",x),a.on("zoom",x),a.on("dblclick",function(){var k=m._fullLayout[S.id];L.call("_storeDirectGUIEdit",m.layout,m._fullLayout._preGUI,S.getViewEdits(k));var I=S.viewInitial;a.setCenter(w(I.center)),a.setZoom(I.zoom),a.setBearing(I.bearing),a.setPitch(I.pitch);var N=S.getView();k._input.center=k.center=N.center,k._input.zoom=k.zoom=N.zoom,k._input.bearing=k.bearing=N.bearing,k._input.pitch=k.pitch=N.pitch,m.emit("plotly_doubleclick",null),m.emit("plotly_relayout",S.getViewEditsWithDerived(N))}),S.clearOutline=function(){u(S.dragOptions),c(S.dragOptions.gd)},S.onClickInPanFn=function(k){return function(I){var N=m._fullLayout.clickmode;N.indexOf("select")>-1&&l(I.originalEvent,m,[S.xaxis],[S.yaxis],S.id,k),N.indexOf("event")>-1&&p.click(m,I.originalEvent)}}},h.updateFx=function(C){var b=this,S=b.map,m=b.gd;if(b.isStatic)return;function a(I){var N=b.map.unproject(I);return[N.lng,N.lat]}var E=C.dragmode,x;x=function(I,N){if(N.isRect){var F=I.range={};F[b.id]=[a([N.xmin,N.ymin]),a([N.xmax,N.ymax])]}else{var z=I.lassoPoints={};z[b.id]=N.map(a)}};var k=b.dragOptions;b.dragOptions=P.extendDeep(k||{},{dragmode:C.dragmode,element:b.div,gd:m,plotinfo:{id:b.id,domain:C[b.id].domain,xaxis:b.xaxis,yaxis:b.yaxis,fillRangeItems:x},xaxes:[b.xaxis],yaxes:[b.yaxis],subplot:b.id}),S.off("click",b.onClickInPanHandler),i(E)||t(E)?(S.dragPan.disable(),S.on("zoomstart",b.clearOutline),b.dragOptions.prepFn=function(I,N,F){n(I,N,F,b.dragOptions,E)},v.init(b.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",b.clearOutline),b.div.onmousedown=null,b.div.ontouchstart=null,b.div.removeEventListener("touchstart",b.div._ontouchstart),b.onClickInPanHandler=b.onClickInPanFn(b.dragOptions),S.on("click",b.onClickInPanHandler))},h.updateFramework=function(C){var b=C[this.id].domain,S=C._size,m=this.div.style;m.width=S.w*(b.x[1]-b.x[0])+"px",m.height=S.h*(b.y[1]-b.y[0])+"px",m.left=S.l+b.x[0]*S.w+"px",m.top=S.t+(1-b.y[1])*S.h+"px",this.xaxis._offset=S.l+b.x[0]*S.w,this.xaxis._length=S.w*(b.x[1]-b.x[0]),this.yaxis._offset=S.t+(1-b.y[1])*S.h,this.yaxis._length=S.h*(b.y[1]-b.y[0])},h.updateLayers=function(C){var b=C[this.id],S=b.layers,m=this.layerList,a;if(S.length!==m.length){for(a=0;a<m.length;a++)m[a].dispose();for(m=this.layerList=[],a=0;a<S.length;a++)m.push(f(this,a,S[a]))}else for(a=0;a<S.length;a++)m[a].update(S[a])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},h.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},h.setOptions=function(C,b,S){for(var m in S)this.map[b](C,m,S[m])},h.getMapLayers=function(){return this.map.getStyle().layers},h.addLayer=function(C,b){var S=this.map;if(typeof b=="string"){if(b===""){S.addLayer(C,b);return}for(var m=this.getMapLayers(),a=0;a<m.length;a++)if(b===m[a].id){S.addLayer(C,b);return}P.warn(["Trying to add layer with *below* value",b,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(C)},h.project=function(C){return this.map.project(new y.LngLat(C[0],C[1]))},h.getView=function(){var C=this.map,b=C.getCenter(),S=b.lng,m=b.lat,a={lon:S,lat:m},E=C.getCanvas(),x=parseInt(E.style.width),k=parseInt(E.style.height);return{center:a,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([x,0]).toArray(),C.unproject([x,k]).toArray(),C.unproject([0,k]).toArray()]}}},h.getViewEdits=function(C){for(var b=this.id,S=["center","zoom","bearing","pitch"],m={},a=0;a<S.length;a++){var E=S[a];m[b+"."+E]=C[E]}return m},h.getViewEditsWithDerived=function(C){var b=this.id,S=this.getViewEdits(C);return S[b+"._derived"]=C._derived,S};function d(C,b){var S={};if(P.isPlainObject(C))S.id=C.id,S.style=C;else if(typeof C=="string")if(S.id=C,g.styleValuesMapbox.indexOf(C)!==-1)S.style=A(C);else if(g.stylesNonMapbox[C]){S.style=g.stylesNonMapbox[C];var m=S.style.sources["plotly-"+C],a=m?m.tiles:void 0;a&&a[0]&&a[0].slice(-9)==="?api_key="&&(a[0]+=b._mapboxAccessToken)}else S.style=C;else S.id=g.styleValueDflt,S.style=A(g.styleValueDflt);return S.transition={duration:0,delay:0},S}function A(C){return g.styleUrlPrefix+C+"-"+g.styleUrlSuffix}function w(C){return[C.lon,C.lat]}G.exports=T},35025:function(G){G.exports=function(V){var e=V.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(G,V,e){var y=e(39898),P=e(84096).Dq,o=e(60721).FF,L=e(92770),M=e(11631),v=e(73972),p=e(86281),r=e(44467),t=e(71828),i=e(7901),n=e(50606).BADNUM,c=e(41675),u=e(51873).clearOutline,l=e(21479),g=e(85594),f=e(31391),T=e(27659).a0,h=t.relinkPrivateKeys,s=t._,d=G.exports={};t.extendFlat(d,v),d.attributes=e(9012),d.attributes.type.values=d.allTypes,d.fontAttrs=e(41940),d.layoutAttributes=e(10820),d.fontWeight="normal";var A=d.transformsRegistry,w=e(31137);d.executeAPICommand=w.executeAPICommand,d.computeAPICommandBindings=w.computeAPICommandBindings,d.manageCommandObserver=w.manageCommandObserver,d.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,d.redrawText=function(j){return j=t.getGraphDiv(j),new Promise(function(q){setTimeout(function(){j._fullLayout&&(v.getComponentMethod("annotations","draw")(j),v.getComponentMethod("legend","draw")(j),v.getComponentMethod("colorbar","draw")(j),q(d.previousPromises(j)))},300)})},d.resize=function(j){j=t.getGraphDiv(j);var q,oe=new Promise(function(Q,X){(!j||t.isHidden(j))&&X(new Error("Resize must be passed a displayed plot div element.")),j._redrawTimer&&clearTimeout(j._redrawTimer),j._resolveResize&&(q=j._resolveResize),j._resolveResize=Q,j._redrawTimer=setTimeout(function(){if(!j.layout||j.layout.width&&j.layout.height||t.isHidden(j)){Q(j);return}delete j.layout.width,delete j.layout.height;var se=j.changed;j.autoplay=!0,v.call("relayout",j,{autosize:!0}).then(function(){j.changed=se,j._resolveResize===Q&&(delete j._resolveResize,Q(j))})},100)});return q&&q(oe),oe},d.previousPromises=function(j){if((j._promises||[]).length)return Promise.all(j._promises).then(function(){j._promises=[]})},d.addLinks=function(j){if(!(!j._context.showLink&&!j._context.showSources)){var q=j._fullLayout,oe=t.ensureSingle(q._paper,"text","js-plot-link-container",function(ye){ye.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:i.defaultLine,"pointer-events":"all"}).each(function(){var Se=y.select(this);Se.append("tspan").classed("js-link-to-tool",!0),Se.append("tspan").classed("js-link-spacer",!0),Se.append("tspan").classed("js-sourcelinks",!0)})}),Q=oe.node(),X={y:q._paper.attr("height")-9};document.body.contains(Q)&&Q.getComputedTextLength()>=q.width-20?(X["text-anchor"]="start",X.x=5):(X["text-anchor"]="end",X.x=q._paper.attr("width")-7),oe.attr(X);var se=oe.select(".js-link-to-tool"),ne=oe.select(".js-link-spacer"),fe=oe.select(".js-sourcelinks");j._context.showSources&&j._context.showSources(j),j._context.showLink&&C(j,se),ne.text(se.text()&&fe.text()?" - ":"")}};function C(j,q){q.text("");var oe=q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(j._context.linkText+" "+String.fromCharCode(187));if(j._context.sendData)oe.on("click",function(){d.sendDataToCloud(j)});else{var Q=window.location.pathname.split("/"),X=window.location.search;oe.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Q[2].split(".")[0]+"/"+Q[1]+X})}}d.sendDataToCloud=function(j){var q=(window.PLOTLYENV||{}).BASE_URL||j._context.plotlyServerURL;if(q){j.emit("plotly_beforeexport");var oe=y.select(j).append("div").attr("id","hiddenform").style("display","none"),Q=oe.append("form").attr({action:q+"/external",method:"post",target:"_blank"}),X=Q.append("input").attr({type:"text",name:"data"});return X.node().value=d.graphJson(j,!1,"keepdata"),Q.node().submit(),oe.remove(),j.emit("plotly_afterexport"),!1}};var b=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],S=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(j,q){var oe=q&&q.skipUpdateCalc,Q=j._fullLayout||{};if(Q._skipDefaults){delete Q._skipDefaults;return}var X=j._fullLayout={},se=j.layout||{},ne=j._fullData||[],fe=j._fullData=[],ye=j.data||[],Se=j.calcdata||[],we=j._context||{},_e;j._transitionData||d.createTransitionData(j),X._dfltTitle={plot:s(j,"Click to enter Plot title"),x:s(j,"Click to enter X axis title"),y:s(j,"Click to enter Y axis title"),colorbar:s(j,"Click to enter Colorscale title"),annotation:s(j,"new text")},X._traceWord=s(j,"trace");var ke=E(j,b);if(X._mapboxAccessToken=we.mapboxAccessToken,Q._initialAutoSizeIsDone){var Me=Q.width,me=Q.height;d.supplyLayoutGlobalDefaults(se,X,ke),se.width||(X.width=Me),se.height||(X.height=me),d.sanitizeMargins(X)}else{d.supplyLayoutGlobalDefaults(se,X,ke);var Ee=!se.width||!se.height,Be=X.autosize,Ue=we.autosizable,De=Ee&&(Be||Ue);De?d.plotAutoSize(j,se,X):Ee&&d.sanitizeMargins(X),!Be&&Ee&&(se.width=X.width,se.height=X.height)}X._d3locale=x(ke,X.separators),X._extraFormat=E(j,S),X._initialAutoSizeIsDone=!0,X._dataLength=ye.length,X._modules=[],X._visibleModules=[],X._basePlotModules=[];var He=X._subplots=a(),nt=X._splomAxes={x:{},y:{}},lt=X._splomSubplots={};X._splomGridDflt={},X._scatterStackOpts={},X._firstScatter={},X._alignmentOpts={},X._colorAxes={},X._requestRangeslider={},X._traceUids=m(ne,ye),X._globalTransforms=(j._context||{}).globalTransforms,d.supplyDataDefaults(ye,fe,se,X);var $e=Object.keys(nt.x),qe=Object.keys(nt.y);if($e.length>1&&qe.length>1){for(v.getComponentMethod("grid","sizeDefaults")(se,X),_e=0;_e<$e.length;_e++)t.pushUnique(He.xaxis,$e[_e]);for(_e=0;_e<qe.length;_e++)t.pushUnique(He.yaxis,qe[_e]);for(var ct in lt)t.pushUnique(He.cartesian,ct)}if(X._has=d._hasPlotType.bind(X),ne.length===fe.length)for(_e=0;_e<fe.length;_e++)h(fe[_e],ne[_e]);d.supplyLayoutModuleDefaults(se,X,fe,j._transitionData);var dt=X._visibleModules,gt=[];for(_e=0;_e<dt.length;_e++){var At=dt[_e].crossTraceDefaults;At&&t.pushUnique(gt,At)}for(_e=0;_e<gt.length;_e++)gt[_e](fe,X);X._hasOnlyLargeSploms=X._basePlotModules.length===1&&X._basePlotModules[0].name==="splom"&&$e.length>15&&qe.length>15&&X.shapes.length===0&&X.images.length===0,d.linkSubplots(fe,X,ne,Q),d.cleanPlot(fe,X,ne,Q);var Rt=!!(Q._has&&Q._has("gl2d")),Vt=!!(X._has&&X._has("gl2d")),Je=!!(Q._has&&Q._has("cartesian")),Ve=!!(X._has&&X._has("cartesian")),Ie=Je||Rt,Oe=Ve||Vt;Ie&&!Oe?Q._bgLayer.remove():Oe&&!Ie&&(X._shouldCreateBgLayer=!0),Q._zoomlayer&&!j._dragging&&u({_fullLayout:Q}),k(fe,X),h(X,Q),v.getComponentMethod("colorscale","crossTraceDefaults")(fe,X),X._preGUI||(X._preGUI={}),X._tracePreGUI||(X._tracePreGUI={});var Le=X._tracePreGUI,xe={},pe;for(pe in Le)xe[pe]="old";for(_e=0;_e<fe.length;_e++)pe=fe[_e]._fullInput.uid,xe[pe]||(Le[pe]={}),xe[pe]="new";for(pe in xe)xe[pe]==="old"&&delete Le[pe];O(X),v.getComponentMethod("rangeslider","makeData")(X),!oe&&Se.length===fe.length&&d.supplyDefaultsUpdateCalc(Se,fe)},d.supplyDefaultsUpdateCalc=function(j,q){for(var oe=0;oe<q.length;oe++){var Q=q[oe],X=(j[oe]||[])[0];if(X&&X.trace){var se=X.trace;if(se._hasCalcTransform){var ne=se._arrayAttrs,fe,ye,Se;for(fe=0;fe<ne.length;fe++)ye=ne[fe],Se=t.nestedProperty(se,ye).get().slice(),t.nestedProperty(Q,ye).set(Se)}X.trace=Q}}};function m(j,q){var oe=q.length,Q=[],X,se;for(X=0;X<j.length;X++){var ne=j[X]._fullInput;ne!==se&&Q.push(ne),se=ne}var fe=Q.length,ye=new Array(oe),Se={};function we(Me,me){ye[me]=Me,Se[Me]=1}function _e(Me,me){if(Me&&typeof Me=="string"&&!Se[Me])return we(Me,me),!0}for(X=0;X<oe;X++){var ke=q[X].uid;typeof ke=="number"&&(ke=String(ke)),!_e(ke,X)&&(X<fe&&_e(Q[X].uid,X)||we(t.randstr(Se),X))}return ye}function a(){var j=v.collectableSubplotTypes,q={},oe,Q;if(!j){j=[];var X=v.subplotsRegistry;for(var se in X){var ne=X[se],fe=ne.attr;if(fe&&(j.push(se),Array.isArray(fe)))for(Q=0;Q<fe.length;Q++)t.pushUnique(j,fe[Q])}}for(oe=0;oe<j.length;oe++)q[j[oe]]=[];return q}function E(j,q){var oe=j._context.locale;oe||(oe="en-US");var Q=!1,X={};function se(_e){for(var ke=!0,Me=0;Me<q.length;Me++){var me=q[Me];X[me]||(_e[me]?X[me]=_e[me]:ke=!1)}ke&&(Q=!0)}for(var ne=0;ne<2;ne++){for(var fe=j._context.locales,ye=0;ye<2;ye++){var Se=(fe[oe]||{}).format;if(Se&&(se(Se),Q))break;fe=v.localeRegistry}var we=oe.split("-")[0];if(Q||we===oe)break;oe=we}return Q||se(v.localeRegistry.en.format),X}function x(j,q){return j.decimal=q.charAt(0),j.thousands=q.charAt(1),{numberFormat:function(oe){try{oe=o(j).format(t.adjustFormat(oe))}catch{return t.warnBadFormat(oe),t.noFormat}return oe},timeFormat:P(j).utcFormat}}function k(j,q){var oe,Q=[];q.meta&&(oe=q._meta={meta:q.meta,layout:{meta:q.meta}});for(var X=0;X<j.length;X++){var se=j[X];se.meta?Q[se.index]=se._meta={meta:se.meta}:q.meta&&(se._meta={meta:q.meta}),q.meta&&(se._meta.layout={meta:q.meta})}Q.length&&(oe||(oe=q._meta={}),oe.data=Q)}d.createTransitionData=function(j){j._transitionData||(j._transitionData={}),j._transitionData._frames||(j._transitionData._frames=[]),j._transitionData._frameHash||(j._transitionData._frameHash={}),j._transitionData._counter||(j._transitionData._counter=0),j._transitionData._interruptCallbacks||(j._transitionData._interruptCallbacks=[])},d._hasPlotType=function(j){var q,oe=this._basePlotModules||[];for(q=0;q<oe.length;q++)if(oe[q].name===j)return!0;var Q=this._modules||[];for(q=0;q<Q.length;q++){var X=Q[q].name;if(X===j)return!0;var se=v.modules[X];if(se&&se.categories[j])return!0}return!1},d.cleanPlot=function(j,q,oe,Q){var X,se,ne=Q._basePlotModules||[];for(X=0;X<ne.length;X++){var fe=ne[X];fe.clean&&fe.clean(j,q,oe,Q)}var ye=Q._has&&Q._has("gl"),Se=q._has&&q._has("gl");ye&&!Se&&Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.selectAll(".no-webgl").remove(),Q._glcanvas=null);var we=!!Q._infolayer;e:for(X=0;X<oe.length;X++){var _e=oe[X],ke=_e.uid;for(se=0;se<j.length;se++){var Me=j[se];if(ke===Me.uid)continue e}we&&Q._infolayer.select(".cb"+ke).remove()}},d.linkSubplots=function(j,q,oe,Q){var X,se,ne=Q._plots||{},fe=q._plots={},ye=q._subplots,Se={_fullData:j,_fullLayout:q},we=ye.cartesian.concat(ye.gl2d||[]);for(X=0;X<we.length;X++){var _e=we[X],ke=ne[_e],Me=c.getFromId(Se,_e,"x"),me=c.getFromId(Se,_e,"y"),Ee;for(ke?Ee=fe[_e]=ke:(Ee=fe[_e]={},Ee.id=_e),Me._counterAxes.push(me._id),me._counterAxes.push(Me._id),Me._subplotsWith.push(_e),me._subplotsWith.push(_e),Ee.xaxis=Me,Ee.yaxis=me,Ee._hasClipOnAxisFalse=!1,se=0;se<j.length;se++){var Be=j[se];if(Be.xaxis===Ee.xaxis._id&&Be.yaxis===Ee.yaxis._id&&Be.cliponaxis===!1){Ee._hasClipOnAxisFalse=!0;break}}}var Ue=c.list(Se,null,!0),De;for(X=0;X<Ue.length;X++){De=Ue[X];var He=null;De.overlaying&&(He=c.getFromId(Se,De.overlaying),He&&He.overlaying&&(De.overlaying=!1,He=null)),De._mainAxis=He||De,He&&(De.domain=He.domain.slice()),De._anchorAxis=De.anchor==="free"?null:c.getFromId(Se,De.anchor)}for(X=0;X<Ue.length;X++)if(De=Ue[X],De._counterAxes.sort(c.idSort),De._subplotsWith.sort(t.subplotSort),De._mainSubplot=I(De,q),De._counterAxes.length&&(De.spikemode&&De.spikemode.indexOf("across")!==-1||De.automargin&&De.mirror&&De.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(De))){var nt=1,lt=0;for(se=0;se<De._counterAxes.length;se++){var $e=c.getFromId(Se,De._counterAxes[se]);nt=Math.min(nt,$e.domain[0]),lt=Math.max(lt,$e.domain[1])}nt<lt&&(De._counterDomainMin=nt,De._counterDomainMax=lt)}};function I(j,q){var oe={_fullLayout:q},Q=j._id.charAt(0)==="x",X=j._mainAxis._anchorAxis,se="",ne="",fe="";if(X&&(fe=X._mainAxis._id,se=Q?j._id+fe:fe+j._id),!se||!q._plots[se]){se="";for(var ye=j._counterAxes,Se=0;Se<ye.length;Se++){var we=ye[Se],_e=Q?j._id+we:we+j._id;ne||(ne=_e);var ke=c.getFromId(oe,we);if(fe&&ke.overlaying===fe){se=_e;break}}}return se||ne}d.clearExpandedTraceDefaultColors=function(j){var q,oe,Q;function X(ne,fe,ye,Se){oe[Se]=fe,oe.length=Se+1,ne.valType==="color"&&ne.dflt===void 0&&q.push(oe.join("."))}for(oe=[],q=j._module._colorAttrs,q||(j._module._colorAttrs=q=[],p.crawl(j._module.attributes,X)),Q=0;Q<q.length;Q++){var se=t.nestedProperty(j,"_input."+q[Q]);se.get()||t.nestedProperty(j,q[Q]).set(null)}},d.supplyDataDefaults=function(j,q,oe,Q){var X=Q._modules,se=Q._visibleModules,ne=Q._basePlotModules,fe=0,ye=0,Se,we,_e;Q._transformModules=[];function ke(qe){q.push(qe);var ct=qe._module;ct&&(t.pushUnique(X,ct),qe.visible===!0&&t.pushUnique(se,ct),t.pushUnique(ne,qe._module.basePlotModule),fe++,qe._input.visible!==!1&&ye++)}var Me={},me=[],Ee=(oe.template||{}).data||{},Be=r.traceTemplater(Ee);for(Se=0;Se<j.length;Se++){if(_e=j[Se],we=Be.newTrace(_e),we.uid=Q._traceUids[Se],d.supplyTraceDefaults(_e,we,ye,Q,Se),we.index=Se,we._input=_e,we._expandedIndex=fe,we.transforms&&we.transforms.length)for(var Ue=_e.visible!==!1&&we.visible===!1,De=F(we,q,oe,Q),He=0;He<De.length;He++){var nt=De[He],lt={_template:we._template,type:we.type,uid:we.uid+He};Ue&&nt.visible===!1&&delete nt.visible,d.supplyTraceDefaults(nt,lt,fe,Q,Se),h(lt,nt),lt.index=Se,lt._input=_e,lt._fullInput=we,lt._expandedIndex=fe,lt._expandedInput=nt,ke(lt)}else we._fullInput=we,we._expandedInput=we,ke(we);v.traceIs(we,"carpetAxis")&&(Me[we.carpet]=we),v.traceIs(we,"carpetDependent")&&me.push(Se)}for(Se=0;Se<me.length;Se++)if(we=q[me[Se]],!!we.visible){var $e=Me[we.carpet];if(we._carpet=$e,!$e||!$e.visible){we.visible=!1;continue}we.xaxis=$e.xaxis,we.yaxis=$e.yaxis}},d.supplyAnimationDefaults=function(j){j=j||{};var q,oe={};function Q(X,se){return t.coerce(j||{},oe,g,X,se)}if(Q("mode"),Q("direction"),Q("fromcurrent"),Array.isArray(j.frame))for(oe.frame=[],q=0;q<j.frame.length;q++)oe.frame[q]=d.supplyAnimationFrameDefaults(j.frame[q]||{});else oe.frame=d.supplyAnimationFrameDefaults(j.frame||{});if(Array.isArray(j.transition))for(oe.transition=[],q=0;q<j.transition.length;q++)oe.transition[q]=d.supplyAnimationTransitionDefaults(j.transition[q]||{});else oe.transition=d.supplyAnimationTransitionDefaults(j.transition||{});return oe},d.supplyAnimationFrameDefaults=function(j){var q={};function oe(Q,X){return t.coerce(j||{},q,g.frame,Q,X)}return oe("duration"),oe("redraw"),q},d.supplyAnimationTransitionDefaults=function(j){var q={};function oe(Q,X){return t.coerce(j||{},q,g.transition,Q,X)}return oe("duration"),oe("easing"),q},d.supplyFrameDefaults=function(j){var q={};function oe(Q,X){return t.coerce(j,q,f,Q,X)}return oe("group"),oe("name"),oe("traces"),oe("baseframe"),oe("data"),oe("layout"),q},d.supplyTraceDefaults=function(j,q,oe,Q,X){var se=Q.colorway||i.defaults,ne=se[oe%se.length],fe;function ye(He,nt){return t.coerce(j,q,d.attributes,He,nt)}var Se=ye("visible");ye("type"),ye("name",Q._traceWord+" "+X),ye("uirevision",Q.uirevision);var we=d.getModule(q);if(q._module=we,we){var _e=we.basePlotModule,ke=_e.attr,Me=_e.attributes;if(ke&&Me){var me=Q._subplots,Ee="";if(Se||_e.name!=="gl2d"){if(Array.isArray(ke))for(fe=0;fe<ke.length;fe++){var Be=ke[fe],Ue=t.coerce(j,q,Me,Be);me[Be]&&t.pushUnique(me[Be],Ue),Ee+=Ue}else Ee=t.coerce(j,q,Me,ke);me[_e.name]&&t.pushUnique(me[_e.name],Ee)}}}if(Se){if(ye("customdata"),ye("ids"),ye("meta"),v.traceIs(q,"showLegend")?(t.coerce(j,q,we.attributes.showlegend?we.attributes:d.attributes,"showlegend"),ye("legend"),ye("legendwidth"),ye("legendgroup"),ye("legendgrouptitle.text"),ye("legendrank"),q._dfltShowLegend=!0):q._dfltShowLegend=!1,we&&we.supplyDefaults(j,q,ne,Q),v.traceIs(q,"noOpacity")||ye("opacity"),v.traceIs(q,"notLegendIsolatable")&&(q.visible=!!q.visible),v.traceIs(q,"noHover")||(q.hovertemplate||t.coerceHoverinfo(j,q,Q),q.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(j,q,ne,Q)),we&&we.selectPoints){var De=ye("selectedpoints");t.isTypedArray(De)&&(q.selectedpoints=Array.from(De))}d.supplyTransformDefaults(j,q,Q)}return q};function N(j){var q=j.transforms;if(Array.isArray(q)&&q.length)for(var oe=0;oe<q.length;oe++){var Q=q[oe],X=Q._module||A[Q.type];if(X&&X.makesData)return!0}return!1}d.hasMakesDataTransform=N,d.supplyTransformDefaults=function(j,q,oe){if(q._length||N(j)){var Q=oe._globalTransforms||[],X=oe._transformModules||[];if(!(!Array.isArray(j.transforms)&&Q.length===0))for(var se=j.transforms||[],ne=Q.concat(se),fe=q.transforms=[],ye=0;ye<ne.length;ye++){var Se=ne[ye],we=Se.type,_e=A[we],ke,Me=!(Se._module&&Se._module===_e),me=_e&&typeof _e.transform=="function";_e||t.warn("Unrecognized transform type "+we+"."),_e&&_e.supplyDefaults&&(Me||me)?(ke=_e.supplyDefaults(Se,q,oe,j),ke.type=we,ke._module=_e,t.pushUnique(X,_e)):ke=t.extendFlat({},Se),fe.push(ke)}}};function F(j,q,oe,Q){for(var X=j.transforms,se=[j],ne=0;ne<X.length;ne++){var fe=X[ne],ye=A[fe.type];ye&&ye.transform&&(se=ye.transform(se,{transform:fe,fullTrace:j,fullData:q,layout:oe,fullLayout:Q,transformIndex:ne}))}return se}d.supplyLayoutGlobalDefaults=function(j,q,oe){function Q(_e,ke){return t.coerce(j,q,d.layoutAttributes,_e,ke)}var X=j.template;t.isPlainObject(X)&&(q.template=X,q._template=X.layout,q._dataTemplate=X.data),Q("autotypenumbers");var se=t.coerceFont(Q,"font"),ne=se.size;t.coerceFont(Q,"title.font",t.extendFlat({},se,{size:Math.round(ne*1.4)})),Q("title.text",q._dfltTitle.plot),Q("title.xref");var fe=Q("title.yref");Q("title.pad.t"),Q("title.pad.r"),Q("title.pad.b"),Q("title.pad.l");var ye=Q("title.automargin");Q("title.x"),Q("title.xanchor"),Q("title.y"),Q("title.yanchor"),ye&&(fe==="paper"&&(q.title.y!==0&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y===0?"top":"bottom")),fe==="container"&&(q.title.y==="auto"&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y<.5?"bottom":"top")));var Se=Q("uniformtext.mode");Se&&Q("uniformtext.minsize"),Q("autosize",!(j.width&&j.height)),Q("width"),Q("height"),Q("minreducedwidth"),Q("minreducedheight"),Q("margin.l"),Q("margin.r"),Q("margin.t"),Q("margin.b"),Q("margin.pad"),Q("margin.autoexpand"),j.width&&j.height&&d.sanitizeMargins(q),v.getComponentMethod("grid","sizeDefaults")(j,q),Q("paper_bgcolor"),Q("separators",oe.decimal+oe.thousands),Q("hidesources"),Q("colorway"),Q("datarevision");var we=Q("uirevision");Q("editrevision",we),Q("selectionrevision",we),v.getComponentMethod("modebar","supplyLayoutDefaults")(j,q),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(j,q,Q),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(j,q,Q),Q("meta"),t.isPlainObject(j.transition)&&(Q("transition.duration"),Q("transition.easing"),Q("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(j,q,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(j,q,Q),t.coerce(j,q,l,"scattermode")};function z(j){return typeof j=="string"&&j.substr(j.length-2)==="px"&&parseFloat(j)}d.plotAutoSize=function(q,oe,Q){var X=q._context||{},se=X.frameMargins,ne,fe,ye=t.isPlotDiv(q);if(ye&&q.emit("plotly_autosize"),X.fillFrame)ne=window.innerWidth,fe=window.innerHeight,document.body.style.overflow="hidden";else{var Se=ye?window.getComputedStyle(q):{};if(ne=z(Se.width)||z(Se.maxWidth)||Q.width,fe=z(Se.height)||z(Se.maxHeight)||Q.height,L(se)&&se>0){var we=1-2*se;ne=Math.round(we*ne),fe=Math.round(we*fe)}}var _e=d.layoutAttributes.width.min,ke=d.layoutAttributes.height.min;ne<_e&&(ne=_e),fe<ke&&(fe=ke);var Me=!oe.width&&Math.abs(Q.width-ne)>1,me=!oe.height&&Math.abs(Q.height-fe)>1;(me||Me)&&(Me&&(Q.width=ne),me&&(Q.height=fe)),q._initialAutoSize||(q._initialAutoSize={width:ne,height:fe}),d.sanitizeMargins(Q)},d.supplyLayoutModuleDefaults=function(j,q,oe,Q){var X=v.componentsRegistry,se=q._basePlotModules,ne,fe,ye,Se=v.subplotsRegistry.cartesian;for(ne in X)ye=X[ne],ye.includeBasePlot&&ye.includeBasePlot(j,q);se.length||se.push(Se),q._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(j,q),Se.finalizeSubplots(j,q));for(var we in q._subplots)q._subplots[we].sort(t.subplotSort);for(fe=0;fe<se.length;fe++)ye=se[fe],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(j,q,oe);var _e=q._modules;for(fe=0;fe<_e.length;fe++)ye=_e[fe],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(j,q,oe);var ke=q._transformModules;for(fe=0;fe<ke.length;fe++)ye=ke[fe],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(j,q,oe,Q);for(ne in X)ye=X[ne],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(j,q,oe)},d.purge=function(j){var q=j._fullLayout||{};q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.remove(),q._glcanvas=null),q._modeBar&&q._modeBar.destroy(),j._transitionData&&(j._transitionData._interruptCallbacks&&(j._transitionData._interruptCallbacks.length=0),j._transitionData._animationRaf&&window.cancelAnimationFrame(j._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(j),delete j.data,delete j.layout,delete j._fullData,delete j._fullLayout,delete j.calcdata,delete j.empty,delete j.fid,delete j.undoqueue,delete j.undonum,delete j.autoplay,delete j.changed,delete j._promises,delete j._redrawTimer,delete j._hmlumcount,delete j._hmpixcount,delete j._transitionData,delete j._transitioning,delete j._initialAutoSize,delete j._transitioningWithDuration,delete j._dragging,delete j._dragged,delete j._dragdata,delete j._hoverdata,delete j._snapshotInProgress,delete j._editing,delete j._mouseDownTime,delete j._legendMouseDownTime,j.removeAllListeners&&j.removeAllListeners()},d.style=function(j){var q=j._fullLayout._visibleModules,oe=[],Q;for(Q=0;Q<q.length;Q++){var X=q[Q];X.style&&t.pushUnique(oe,X.style)}for(Q=0;Q<oe.length;Q++)oe[Q](j)},d.sanitizeMargins=function(j){if(!(!j||!j.margin)){var q=j.width,oe=j.height,Q=j.margin,X=q-(Q.l+Q.r),se=oe-(Q.t+Q.b),ne;X<0&&(ne=(q-1)/(Q.l+Q.r),Q.l=Math.floor(ne*Q.l),Q.r=Math.floor(ne*Q.r)),se<0&&(ne=(oe-1)/(Q.t+Q.b),Q.t=Math.floor(ne*Q.t),Q.b=Math.floor(ne*Q.b))}},d.clearAutoMarginIds=function(j){j._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(j,q){j._fullLayout._pushmarginIds[q]=1};function O(j){var q=j.margin;if(!j._size){var oe=j._size={l:Math.round(q.l),r:Math.round(q.r),t:Math.round(q.t),b:Math.round(q.b),p:Math.round(q.pad)};oe.w=Math.round(j.width)-oe.l-oe.r,oe.h=Math.round(j.height)-oe.t-oe.b}j._pushmargin||(j._pushmargin={}),j._pushmarginIds||(j._pushmarginIds={}),j._reservedMargin||(j._reservedMargin={})}var _=2,B=2;d.autoMargin=function(j,q,oe){var Q=j._fullLayout,X=Q.width,se=Q.height,ne=Q.margin,fe=Q.minreducedwidth,ye=Q.minreducedheight,Se=t.constrain(X-ne.l-ne.r,_,fe),we=t.constrain(se-ne.t-ne.b,B,ye),_e=Math.max(0,X-Se),ke=Math.max(0,se-we),Me=Q._pushmargin,me=Q._pushmarginIds;if(ne.autoexpand!==!1){if(!oe)delete Me[q],delete me[q];else{var Ee=oe.pad;if(Ee===void 0&&(Ee=Math.min(12,ne.l,ne.r,ne.t,ne.b)),_e){var Be=(oe.l+oe.r)/_e;Be>1&&(oe.l/=Be,oe.r/=Be)}if(ke){var Ue=(oe.t+oe.b)/ke;Ue>1&&(oe.t/=Ue,oe.b/=Ue)}var De=oe.xl!==void 0?oe.xl:oe.x,He=oe.xr!==void 0?oe.xr:oe.x,nt=oe.yt!==void 0?oe.yt:oe.y,lt=oe.yb!==void 0?oe.yb:oe.y;Me[q]={l:{val:De,size:oe.l+Ee},r:{val:He,size:oe.r+Ee},b:{val:lt,size:oe.b+Ee},t:{val:nt,size:oe.t+Ee}},me[q]=1}if(!Q._replotting)return d.doAutoMargin(j)}};function W(j){if("_redrawFromAutoMarginCount"in j._fullLayout)return!1;var q=c.list(j,"",!0);for(var oe in q)if(q[oe].autoshift||q[oe].shift)return!0;return!1}d.doAutoMargin=function(j){var q=j._fullLayout,oe=q.width,Q=q.height;q._size||(q._size={}),O(q);var X=q._size,se=q.margin,ne={t:0,b:0,l:0,r:0},fe=t.extendFlat({},X),ye=se.l,Se=se.r,we=se.t,_e=se.b,ke=q._pushmargin,Me=q._pushmarginIds,me=q.minreducedwidth,Ee=q.minreducedheight;if(se.autoexpand!==!1){for(var Be in ke)Me[Be]||delete ke[Be];var Ue=j._fullLayout._reservedMargin;for(var De in Ue)for(var He in Ue[De]){var nt=Ue[De][He];ne[He]=Math.max(ne[He],nt)}ke.base={l:{val:0,size:ye},r:{val:1,size:Se},t:{val:1,size:we},b:{val:0,size:_e}};for(var lt in ne){var $e=0;for(var qe in ke)qe!=="base"&&L(ke[qe][lt].size)&&($e=ke[qe][lt].size>$e?ke[qe][lt].size:$e);var ct=Math.max(0,se[lt]-$e);ne[lt]=Math.max(0,ne[lt]-ct)}for(var dt in ke){var gt=ke[dt].l||{},At=ke[dt].b||{},Rt=gt.val,Vt=gt.size,Je=At.val,Ve=At.size,Ie=oe-ne.r-ne.l,Oe=Q-ne.t-ne.b;for(var Le in ke){if(L(Vt)&&ke[Le].r){var xe=ke[Le].r.val,pe=ke[Le].r.size;if(xe>Rt){var Ae=(Vt*xe+(pe-Ie)*Rt)/(xe-Rt),Te=(pe*(1-Rt)+(Vt-Ie)*(1-xe))/(xe-Rt);Ae+Te>ye+Se&&(ye=Ae,Se=Te)}}if(L(Ve)&&ke[Le].t){var Ne=ke[Le].t.val,Ye=ke[Le].t.size;if(Ne>Je){var et=(Ve*Ne+(Ye-Oe)*Je)/(Ne-Je),ft=(Ye*(1-Je)+(Ve-Oe)*(1-Ne))/(Ne-Je);et+ft>_e+we&&(_e=et,we=ft)}}}}}var pt=t.constrain(oe-se.l-se.r,_,me),Yt=t.constrain(Q-se.t-se.b,B,Ee),Jt=Math.max(0,oe-pt),Tt=Math.max(0,Q-Yt);if(Jt){var _t=(ye+Se)/Jt;_t>1&&(ye/=_t,Se/=_t)}if(Tt){var $t=(_e+we)/Tt;$t>1&&(_e/=$t,we/=$t)}if(X.l=Math.round(ye)+ne.l,X.r=Math.round(Se)+ne.r,X.t=Math.round(we)+ne.t,X.b=Math.round(_e)+ne.b,X.p=Math.round(se.pad),X.w=Math.round(oe)-X.l-X.r,X.h=Math.round(Q)-X.t-X.b,!q._replotting&&(d.didMarginChange(fe,X)||W(j))){"_redrawFromAutoMarginCount"in q?q._redrawFromAutoMarginCount++:q._redrawFromAutoMarginCount=1;var wr=3*(1+Object.keys(Me).length);if(q._redrawFromAutoMarginCount<wr)return v.call("_doPlot",j);q._size=fe,t.warn("Too many auto-margin redraws.")}$(j)};function $(j){var q=c.list(j,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(oe){for(var Q=0;Q<q.length;Q++){var X=q[Q][oe];X&&X()}})}var te=["l","r","t","b","p","w","h"];d.didMarginChange=function(j,q){for(var oe=0;oe<te.length;oe++){var Q=te[oe],X=j[Q],se=q[Q];if(!L(X)||Math.abs(se-X)>1)return!0}return!1},d.graphJson=function(j,q,oe,Q,X,se){(X&&q&&!j._fullData||X&&!q&&!j._fullLayout)&&d.supplyDefaults(j);var ne=X?j._fullData:j.data,fe=X?j._fullLayout:j.layout,ye=(j._transitionData||{})._frames;function Se(ke,Me){if(typeof ke=="function")return Me?"_function_":null;if(t.isPlainObject(ke)){var me={},Ee;return Object.keys(ke).sort().forEach(function(He){if(["_","["].indexOf(He.charAt(0))===-1){if(typeof ke[He]=="function"){Me&&(me[He]="_function");return}if(oe==="keepdata"){if(He.substr(He.length-3)==="src")return}else if(oe==="keepstream"){if(Ee=ke[He+"src"],typeof Ee=="string"&&Ee.indexOf(":")>0&&!t.isPlainObject(ke.stream))return}else if(oe!=="keepall"&&(Ee=ke[He+"src"],typeof Ee=="string"&&Ee.indexOf(":")>0))return;me[He]=Se(ke[He],Me)}}),me}var Be=Array.isArray(ke),Ue=t.isTypedArray(ke);if((Be||Ue)&&ke.dtype&&ke.shape){var De=ke.bdata;return Se({dtype:ke.dtype,shape:ke.shape,bdata:t.isArrayBuffer(De)?M.encode(De):De},Me)}return Be?ke.map(function(He){return Se(He,Me)}):Ue?t.simpleMap(ke,t.identity):t.isJSDate(ke)?t.ms2DateTimeLocal(+ke):ke}var we={data:(ne||[]).map(function(ke){var Me=Se(ke);return q&&delete Me.fit,Me})};if(!q&&(we.layout=Se(fe),X)){var _e=fe._size;we.layout.computed={margin:{b:_e.b,l:_e.l,r:_e.r,t:_e.t}}}return ye&&(we.frames=Se(ye)),se&&(we.config=Se(j._context,!0)),Q==="object"?we:JSON.stringify(we)},d.modifyFrames=function(j,q){var oe,Q,X,se=j._transitionData._frames,ne=j._transitionData._frameHash;for(oe=0;oe<q.length;oe++)switch(Q=q[oe],Q.type){case"replace":X=Q.value;var fe=(se[Q.index]||{}).name,ye=X.name;se[Q.index]=ne[ye]=X,ye!==fe&&(delete ne[fe],ne[ye]=X);break;case"insert":X=Q.value,ne[X.name]=X,se.splice(Q.index,0,X);break;case"delete":X=se[Q.index],delete ne[X.name],se.splice(Q.index,1);break}return Promise.resolve()},d.computeFrame=function(j,q){var oe=j._transitionData._frameHash,Q,X,se,ne;if(!q)throw new Error("computeFrame must be given a string frame name");var fe=oe[q.toString()];if(!fe)return!1;for(var ye=[fe],Se=[fe.name];fe.baseframe&&(fe=oe[fe.baseframe.toString()])&&Se.indexOf(fe.name)===-1;)ye.push(fe),Se.push(fe.name);for(var we={};fe=ye.pop();)if(fe.layout&&(we.layout=d.extendLayout(we.layout,fe.layout)),fe.data){if(we.data||(we.data=[]),X=fe.traces,!X)for(X=[],Q=0;Q<fe.data.length;Q++)X[Q]=Q;for(we.traces||(we.traces=[]),Q=0;Q<fe.data.length;Q++)se=X[Q],se!=null&&(ne=we.traces.indexOf(se),ne===-1&&(ne=we.data.length,we.traces[ne]=se),we.data[ne]=d.extendTrace(we.data[ne],fe.data[Q]))}return we},d.recomputeFrameHash=function(j){for(var q=j._transitionData._frameHash={},oe=j._transitionData._frames,Q=0;Q<oe.length;Q++){var X=oe[Q];X&&X.name&&(q[X.name]=X)}},d.extendObjectWithContainers=function(j,q,oe){var Q,X,se,ne,fe,ye,Se,we,_e=t.extendDeepNoArrays({},q||{}),ke=t.expandObjectPaths(_e),Me={};if(oe&&oe.length)for(se=0;se<oe.length;se++)Q=t.nestedProperty(ke,oe[se]),X=Q.get(),X===void 0?t.nestedProperty(Me,oe[se]).set(null):(Q.set(null),t.nestedProperty(Me,oe[se]).set(X));if(j=t.extendDeepNoArrays(j||{},ke),oe&&oe.length){for(se=0;se<oe.length;se++)if(fe=t.nestedProperty(Me,oe[se]),Se=fe.get(),!!Se){for(ye=t.nestedProperty(j,oe[se]),we=ye.get(),Array.isArray(we)||(we=[],ye.set(we)),ne=0;ne<Se.length;ne++){var me=Se[ne];me===null?we[ne]=null:we[ne]=d.extendObjectWithContainers(we[ne],me)}ye.set(we)}}return j},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(j,q){return d.extendObjectWithContainers(j,q,d.dataArrayContainers)},d.extendLayout=function(j,q){return d.extendObjectWithContainers(j,q,d.layoutArrayContainers)},d.transition=function(j,q,oe,Q,X,se){var ne={redraw:X.redraw},fe={},ye=[];return ne.prepareFn=function(){for(var Se=Array.isArray(q)?q.length:0,we=Q.slice(0,Se),_e=0;_e<we.length;_e++){var ke=we[_e],Me=j._fullData[ke],me=Me._module;if(me){if(me.animatable){var Ee=me.basePlotModule.name;fe[Ee]||(fe[Ee]=[]),fe[Ee].push(ke)}j.data[we[_e]]=d.extendTrace(j.data[we[_e]],q[_e])}}var Be=t.expandObjectPaths(t.extendDeepNoArrays({},oe)),Ue=/^[xy]axis[0-9]*$/;for(var De in Be)Ue.test(De)&&delete Be[De].range;d.extendLayout(j.layout,Be),delete j.calcdata,d.supplyDefaults(j),d.doCalcdata(j);var He=t.expandObjectPaths(oe);if(He){var nt=j._fullLayout._plots;for(var lt in nt){var $e=nt[lt],qe=$e.xaxis,ct=$e.yaxis,dt=qe.range.slice(),gt=ct.range.slice(),At=null,Rt=null,Vt=null,Je=null;Array.isArray(He[qe._name+".range"])?At=He[qe._name+".range"].slice():Array.isArray((He[qe._name]||{}).range)&&(At=He[qe._name].range.slice()),Array.isArray(He[ct._name+".range"])?Rt=He[ct._name+".range"].slice():Array.isArray((He[ct._name]||{}).range)&&(Rt=He[ct._name].range.slice()),dt&&At&&(qe.r2l(dt[0])!==qe.r2l(At[0])||qe.r2l(dt[1])!==qe.r2l(At[1]))&&(Vt={xr0:dt,xr1:At}),gt&&Rt&&(ct.r2l(gt[0])!==ct.r2l(Rt[0])||ct.r2l(gt[1])!==ct.r2l(Rt[1]))&&(Je={yr0:gt,yr1:Rt}),(Vt||Je)&&ye.push(t.extendFlat({plotinfo:$e},Vt,Je))}}return Promise.resolve()},ne.runFn=function(Se){var we,_e=j._fullLayout._basePlotModules,ke=ye.length,Me;if(oe)for(Me=0;Me<_e.length;Me++)_e[Me].transitionAxes&&_e[Me].transitionAxes(j,ye,se,Se);ke?(we=t.extendFlat({},se),we.duration=0,delete fe.cartesian):we=se;for(var me in fe){var Ee=fe[me],Be=j._fullData[Ee[0]]._module;Be.basePlotModule.plot(j,Ee,we,Se)}},ie(j,se,ne)},d.transitionFromReact=function(j,q,oe,Q){var X=j._fullLayout,se=X.transition,ne={},fe=[];return ne.prepareFn=function(){var ye=X._plots;ne.redraw=!1,q.anim==="some"&&(ne.redraw=!0),oe.anim==="some"&&(ne.redraw=!0);for(var Se in ye){var we=ye[Se],_e=we.xaxis,ke=we.yaxis,Me=Q[_e._name].range.slice(),me=Q[ke._name].range.slice(),Ee=_e.range.slice(),Be=ke.range.slice();_e.setScale(),ke.setScale();var Ue=null,De=null;(_e.r2l(Me[0])!==_e.r2l(Ee[0])||_e.r2l(Me[1])!==_e.r2l(Ee[1]))&&(Ue={xr0:Me,xr1:Ee}),(ke.r2l(me[0])!==ke.r2l(Be[0])||ke.r2l(me[1])!==ke.r2l(Be[1]))&&(De={yr0:me,yr1:Be}),(Ue||De)&&fe.push(t.extendFlat({plotinfo:we},Ue,De))}return Promise.resolve()},ne.runFn=function(ye){for(var Se=j._fullData,we=j._fullLayout,_e=we._basePlotModules,ke,Me,me,Ee=[],Be=0;Be<Se.length;Be++)Ee.push(Be);function Ue(){if(j._fullLayout)for(var He=0;He<_e.length;He++)_e[He].transitionAxes&&_e[He].transitionAxes(j,fe,ke,ye)}function De(){if(j._fullLayout)for(var He=0;He<_e.length;He++)_e[He].plot(j,me,Me,ye)}fe.length&&q.anim?se.ordering==="traces first"?(ke=t.extendFlat({},se,{duration:0}),me=Ee,Me=se,setTimeout(Ue,se.duration),De()):(ke=se,me=null,Me=t.extendFlat({},se,{duration:0}),setTimeout(De,ke.duration),Ue()):fe.length?(ke=se,Ue()):q.anim&&(me=Ee,Me=se,De())},ie(j,se,ne)};function ie(j,q,oe){var Q=!1;function X(_e){var ke=Promise.resolve();if(!_e)return ke;for(;_e.length;)ke=ke.then(_e.shift());return ke}function se(_e){if(_e)for(;_e.length;)_e.shift()}function ne(){return j.emit("plotly_transitioning",[]),new Promise(function(_e){j._transitioning=!0,q.duration>0&&(j._transitioningWithDuration=!0),j._transitionData._interruptCallbacks.push(function(){Q=!0}),oe.redraw&&j._transitionData._interruptCallbacks.push(function(){return v.call("redraw",j)}),j._transitionData._interruptCallbacks.push(function(){j.emit("plotly_transitioninterrupted",[])});var ke=0,Me=0;function me(){return ke++,function(){Me++,!Q&&Me===ke&&fe(_e)}}oe.runFn(me),setTimeout(me())})}function fe(_e){if(j._transitionData)return se(j._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(oe.redraw)return v.call("redraw",j)}).then(function(){j._transitioning=!1,j._transitioningWithDuration=!1,j.emit("plotly_transitioned",[])}).then(_e)}function ye(){if(j._transitionData)return j._transitioning=!1,X(j._transitionData._interruptCallbacks)}var Se=[d.previousPromises,ye,oe.prepareFn,d.rehover,d.reselect,ne],we=t.syncOrAsync(Se,j);return(!we||!we.then)&&(we=Promise.resolve()),we.then(function(){return j})}d.doCalcdata=function(j,q){var oe=c.list(j),Q=j._fullData,X=j._fullLayout,se,ne,fe,ye,Se=new Array(Q.length),we=(j.calcdata||[]).slice();for(j.calcdata=Se,X._numBoxes=0,X._numViolins=0,X._violinScaleGroupStats={},j._hmpixcount=0,j._hmlumcount=0,X._piecolormap={},X._sunburstcolormap={},X._treemapcolormap={},X._iciclecolormap={},X._funnelareacolormap={},fe=0;fe<Q.length;fe++)if(Array.isArray(q)&&q.indexOf(fe)===-1){Se[fe]=we[fe];continue}for(fe=0;fe<Q.length;fe++)se=Q[fe],se._arrayAttrs=p.findArrayAttributes(se),se._extremes={};var _e=X._subplots.polar||[];for(fe=0;fe<_e.length;fe++)oe.push(X[_e[fe]].radialaxis,X[_e[fe]].angularaxis);for(var ke in X._colorAxes){var Me=X[ke];Me.cauto!==!1&&(delete Me.cmin,delete Me.cmax)}var me=!1;function Ee(De){if(se=Q[De],ne=se._module,se.visible===!0&&se.transforms){if(ne&&ne.calc){var He=ne.calc(j,se);He[0]&&He[0].t&&He[0].t._scene&&delete He[0].t._scene.dirty}for(ye=0;ye<se.transforms.length;ye++){var nt=se.transforms[ye];ne=A[nt.type],ne&&ne.calcTransform&&(se._hasCalcTransform=!0,me=!0,ne.calcTransform(j,se,nt))}}}function Be(De,He){if(se=Q[De],ne=se._module,!!ne.isContainer===He){var nt=[];if(se.visible===!0&&se._length!==0){delete se._indexToPoints;var lt=se.transforms||[];for(ye=lt.length-1;ye>=0;ye--)if(lt[ye].enabled){se._indexToPoints=lt[ye]._indexToPoints;break}ne&&ne.calc&&(nt=ne.calc(j,se))}(!Array.isArray(nt)||!nt[0])&&(nt=[{x:n,y:n}]),nt[0].t||(nt[0].t={}),nt[0].trace=se,Se[De]=nt}}for(Y(oe,Q,X),fe=0;fe<Q.length;fe++)Be(fe,!0);for(fe=0;fe<Q.length;fe++)Ee(fe);for(me&&Y(oe,Q,X),fe=0;fe<Q.length;fe++)Be(fe,!0);for(fe=0;fe<Q.length;fe++)Be(fe,!1);ae(j);var Ue=J(oe,j);if(Ue.length){for(X._numBoxes=0,X._numViolins=0,fe=0;fe<Ue.length;fe++)Be(Ue[fe],!0);for(fe=0;fe<Ue.length;fe++)Be(Ue[fe],!1);ae(j)}v.getComponentMethod("fx","calc")(j),v.getComponentMethod("errorbars","calc")(j)};var ue=/(total|sum|min|max|mean|median) (ascending|descending)/;function J(j,q){var oe=[],Q,X,se,ne,fe;function ye(Le,xe,pe){var Ae=xe._id.charAt(0);if(Le==="histogram2dcontour"){var Te=xe._counterAxes[0],Ne=c.getFromId(q,Te),Ye=Ae==="x"||Te==="x"&&Ne.type==="category",et=Ae==="y"||Te==="y"&&Ne.type==="category";return function(ft,pt){return ft===0||pt===0||Ye&&ft===pe[pt].length-1||et&&pt===pe.length-1?-1:(Ae==="y"?pt:ft)-1}}else return function(ft,pt){return Ae==="y"?pt:ft}}var Se={min:function(Le){return t.aggNums(Math.min,null,Le)},max:function(Le){return t.aggNums(Math.max,null,Le)},sum:function(Le){return t.aggNums(function(xe,pe){return xe+pe},null,Le)},total:function(Le){return t.aggNums(function(xe,pe){return xe+pe},null,Le)},mean:function(Le){return t.mean(Le)},median:function(Le){return t.median(Le)}};function we(Le,xe){return Le[1]-xe[1]}function _e(Le,xe){return xe[1]-Le[1]}for(Q=0;Q<j.length;Q++){var ke=j[Q];if(ke.type==="category"){var Me=ke.categoryorder.match(ue);if(Me){var me=Me[1],Ee=Me[2],Be=ke._id.charAt(0),Ue=Be==="x",De=[];for(X=0;X<ke._categories.length;X++)De.push([ke._categories[X],[]]);for(X=0;X<ke._traceIndices.length;X++){var He=ke._traceIndices[X],nt=q._fullData[He];if(nt.visible===!0){var lt=nt.type;v.traceIs(nt,"histogram")&&(delete nt._xautoBinFinished,delete nt._yautoBinFinished);var $e=lt==="splom",qe=lt==="scattergl",ct=q.calcdata[He];for(se=0;se<ct.length;se++){var dt=ct[se],gt,At;if($e){var Rt=nt._axesDim[ke._id];if(!Ue){var Vt=nt._diag[Rt][0];Vt&&(ke=q._fullLayout[c.id2name(Vt)])}var Je=dt.trace.dimensions[Rt].values;for(ne=0;ne<Je.length;ne++)for(gt=ke._categoriesMap[Je[ne]],fe=0;fe<dt.trace.dimensions.length;fe++)if(fe!==Rt){var Ve=dt.trace.dimensions[fe];De[gt][1].push(Ve.values[ne])}}else if(qe){for(ne=0;ne<dt.t.x.length;ne++)Ue?(gt=dt.t.x[ne],At=dt.t.y[ne]):(gt=dt.t.y[ne],At=dt.t.x[ne]),De[gt][1].push(At);dt.t&&dt.t._scene&&delete dt.t._scene.dirty}else if(dt.hasOwnProperty("z")){At=dt.z;var Ie=ye(nt.type,ke,At);for(ne=0;ne<At.length;ne++)for(fe=0;fe<At[ne].length;fe++)gt=Ie(fe,ne),gt+1&&De[gt][1].push(At[ne][fe])}else for(gt=dt.p,gt===void 0&&(gt=dt[Be]),At=dt.s,At===void 0&&(At=dt.v),At===void 0&&(At=Ue?dt.y:dt.x),Array.isArray(At)||(At===void 0?At=[]:At=[At]),ne=0;ne<At.length;ne++)De[gt][1].push(At[ne])}}}ke._categoriesValue=De;var Oe=[];for(X=0;X<De.length;X++)Oe.push([De[X][0],Se[me](De[X][1])]);Oe.sort(Ee==="descending"?_e:we),ke._categoriesAggregatedValue=Oe,ke._initialCategories=Oe.map(function(Le){return Le[0]}),oe=oe.concat(ke.sortByInitialCategories())}}}return oe}function Y(j,q,oe){var Q={};function X(ye){ye.clearCalc(),ye.type==="multicategory"&&ye.setupMultiCategory(q),Q[ye._id]=1}t.simpleMap(j,X);for(var se=oe._axisMatchGroups||[],ne=0;ne<se.length;ne++)for(var fe in se[ne])Q[fe]||X(oe[c.id2name(fe)])}function ae(j){var q=j._fullLayout,oe=q._visibleModules,Q={},X,se,ne;for(se=0;se<oe.length;se++){var fe=oe[se],ye=fe.crossTraceCalc;if(ye){var Se=fe.basePlotModule.name;Q[Se]?t.pushUnique(Q[Se],ye):Q[Se]=[ye]}}for(ne in Q){var we=Q[ne],_e=q._subplots[ne];if(Array.isArray(_e))for(X=0;X<_e.length;X++){var ke=_e[X],Me=ne==="cartesian"?q._plots[ke]:q[ke];for(se=0;se<we.length;se++)we[se](j,Me,ke)}else for(se=0;se<we.length;se++)we[se](j)}}d.rehover=function(j){j._fullLayout._rehover&&j._fullLayout._rehover()},d.redrag=function(j){j._fullLayout._redrag&&j._fullLayout._redrag()},d.reselect=function(j){var q=j._fullLayout,oe=(j.layout||{}).selections,Q=q._previousSelections;q._previousSelections=oe;var X=q._reselect||JSON.stringify(oe)!==JSON.stringify(Q);v.getComponentMethod("selections","reselect")(j,X)},d.generalUpdatePerTraceModule=function(j,q,oe,Q){var X=q.traceHash,se={},ne;for(ne=0;ne<oe.length;ne++){var fe=oe[ne],ye=fe[0].trace;ye.visible&&(se[ye.type]=se[ye.type]||[],se[ye.type].push(fe))}for(var Se in X)if(!se[Se]){var we=X[Se][0],_e=we[0].trace;_e.visible=!1,se[Se]=[we]}for(var ke in se){var Me=se[ke],me=Me[0][0].trace._module;me.plot(j,q,t.filterVisible(Me),Q)}q.traceHash=se},d.plotBasePlot=function(j,q,oe,Q,X){var se=v.getModule(j),ne=T(q.calcdata,se)[0];se.plot(q,ne,Q,X)},d.cleanBasePlot=function(j,q,oe,Q,X){var se=X._has&&X._has(j),ne=oe._has&&oe._has(j);se&&!ne&&X["_"+j+"layer"].selectAll("g.trace").remove()}},9813:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(G,V,e){var y=e(71828),P=e(61082).tester,o=y.findIndexOfMin,L=y.isAngleInsideSector,M=y.angleDelta,v=y.angleDist;function p(s,d,A,w,C){if(!L(d,w))return!1;var b,S;A[0]<A[1]?(b=A[0],S=A[1]):(b=A[1],S=A[0]);var m=P(c(b,w[0],w[1],C)),a=P(c(S,w[0],w[1],C)),E=[s*Math.cos(d),s*Math.sin(d)];return a.contains(E)&&!m.contains(E)}function r(s,d,A,w){var C,b,S=w[0],m=w[1],a=g(Math.sin(d)-Math.sin(s)),E=g(Math.cos(d)-Math.cos(s)),x=Math.tan(A),k=g(1/x),I=a/E,N=m-I*S;return k?a&&E?(C=N/(x-I),b=x*C):E?(C=m*k,b=m):(C=S,b=S*x):a&&E?(C=0,b=N):E?(C=0,b=m):C=b=NaN,[C,b]}function t(s,d,A,w){var C=-d*A,b=d*d+1,S=2*(d*C-A),m=C*C+A*A-s*s,a=Math.sqrt(S*S-4*b*m),E=(-S+a)/(2*b),x=(-S-a)/(2*b);return[[E,d*E+C+w],[x,d*x+C+w]]}function i(s,d){var A=d.length,w=new Array(A+1),C;for(C=0;C<A;C++){var b=d[C];w[C]=[s*Math.cos(b),s*Math.sin(b)]}return w[C]=w[0].slice(),w}function n(s,d,A,w){var C=w.length,b=[],S,m;function a(_){return[s*Math.cos(_),s*Math.sin(_)]}function E(_,B,W){return r(_,B,W,a(_))}function x(_){return y.mod(_,C)}function k(_){return L(_,[d,A])}var I=o(w,function(_){return k(_)?v(_,d):1/0}),N=E(w[I],w[x(I-1)],d);for(b.push(N),S=I,m=0;m<C;S++,m++){var F=w[x(S)];if(!k(F))break;b.push(a(F))}var z=o(w,function(_){return k(_)?v(_,A):1/0}),O=E(w[z],w[x(z+1)],A);return b.push(O),b.push([0,0]),b.push(b[0].slice()),b}function c(s,d,A,w){return y.isFullCircle([d,A])?i(s,w):n(s,d,A,w)}function u(s,d,A,w){for(var C=1/0,b=1/0,S=c(s,d,A,w),m=0;m<S.length;m++){var a=S[m];C=Math.min(C,a[0]),b=Math.min(b,-a[1])}return[C,b]}function l(s,d){var A=function(b){var S=M(b,s);return S>0?S:1/0},w=o(d,A),C=y.mod(w+1,d.length);return[d[w],d[C]]}function g(s){return Math.abs(s)>1e-10?s:0}function f(s,d,A){d=d||0,A=A||0;for(var w=s.length,C=new Array(w),b=0;b<w;b++){var S=s[b];C[b]=[d+S[0],A-S[1]]}return C}function T(s,d,A,w,C,b){var S=c(s,d,A,w);return"M"+f(S,C,b).join("L")}function h(s,d,A,w,C,b,S){var m,a;s<d?(m=s,a=d):(m=d,a=s);var E=f(c(m,A,w,C),b,S),x=f(c(a,A,w,C),b,S);return"M"+x.reverse().join("L")+"M"+E.join("L")}G.exports={isPtInsidePolygon:p,findPolygonOffset:u,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:g,pathPolygon:T,pathPolygonAnnulus:h}},23580:function(G,V,e){var y=e(27659).AU,P=e(71828).counterRegex,o=e(77997),L=e(9813),M=L.attr,v=L.name,p=P(v),r={};r[M]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var c=n._fullLayout,u=n.calcdata,l=c._subplots[v],g=0;g<l.length;g++){var f=l[g],T=y(u,v,f),h=c[f]._subplot;h||(h=o(n,f),c[f]._subplot=h),h.plot(T,c,n._promises)}}function i(n,c,u,l){for(var g=l._subplots[v]||[],f=l._has&&l._has("gl"),T=c._has&&c._has("gl"),h=f&&!T,s=0;s<g.length;s++){var d=g[s],A=l[d]._subplot;if(!c[d]&&A){A.framework.remove(),A.layers["radial-axis-title"].remove();for(var w in A.clipPaths)A.clipPaths[w].remove()}h&&A._scene&&(A._scene.destroy(),A._scene=null)}}G.exports={attr:M,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:t,clean:i,toSVG:e(93612).toSVG}},73812:function(G,V,e){var y=e(22399),P=e(13838),o=e(27670).Y,L=e(71828).extendFlat,M=e(30962).overrideAll,v=M({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=M({tickmode:P.minor.tickmode,nticks:P.nticks,tick0:P.tick0,dtick:P.dtick,tickvals:P.tickvals,ticktext:P.ticktext,ticks:P.ticks,ticklen:P.ticklen,tickwidth:P.tickwidth,tickcolor:P.tickcolor,ticklabelstep:P.ticklabelstep,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,showexponent:P.showexponent,exponentformat:P.exponentformat,minexponent:P.minexponent,separatethousands:P.separatethousands,tickfont:P.tickfont,tickangle:P.tickangle,tickformat:P.tickformat,tickformatstops:P.tickformatstops,layer:P.layer},"plot","from-root"),r={visible:L({},P.visible,{dflt:!0}),type:L({},P.type,{values:["-","linear","log","date","category"]}),autotypenumbers:P.autotypenumbers,autorangeoptions:{minallowed:P.autorangeoptions.minallowed,maxallowed:P.autorangeoptions.maxallowed,clipmin:P.autorangeoptions.clipmin,clipmax:P.autorangeoptions.clipmax,include:P.autorangeoptions.include,editType:"plot"},autorange:L({},P.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:L({},P.minallowed,{editType:"plot"}),maxallowed:L({},P.maxallowed,{editType:"plot"}),range:L({},P.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:P.categoryorder,categoryarray:P.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},P.title.text,{editType:"plot",dflt:""}),font:L({},P.title.font,{editType:"plot"}),editType:"plot"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:P._deprecated.title,titlefont:P._deprecated.titlefont}};L(r,v,p);var t={visible:L({},P.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:P.autotypenumbers,categoryorder:P.categoryorder,categoryarray:P.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:P.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(t,v,p),G.exports={domain:o({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:y.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(G,V,e){var y=e(71828),P=e(7901),o=e(44467),L=e(49119),M=e(27659).NG,v=e(26218),p=e(38701),r=e(96115),t=e(89426),i=e(15258),n=e(92128),c=e(23074),u=e(4322),l=e(73812),g=e(12101),f=e(9813),T=f.axisNames;function h(d,A,w,C){var b=w("bgcolor");C.bgColor=P.combine(b,C.paper_bgcolor);var S=w("sector");w("hole");var m=M(C.fullData,f.name,C.id),a=C.layoutOut,E;function x(q,oe){return w(E+"."+q,oe)}for(var k=0;k<T.length;k++){E=T[k],y.isPlainObject(d[E])||(d[E]={});var I=d[E],N=o.newContainer(A,E);N._id=N._name=E,N._attr=C.id+"."+E,N._traceIndices=m.map(function(q){return q._expandedIndex});var F=f.axisName2dataArray[E],z=s(I,N,x,m,F,C);i(I,N,x,{axData:m,dataAttr:F});var O=x("visible");switch(g(N,A,a),x("uirevision",A.uirevision),N._m=1,E){case"radialaxis":x("minallowed"),x("maxallowed");var _=x("range"),B=N.getAutorangeDflt(_),W=x("autorange",B),$;_&&(_[0]===null&&_[1]===null||(_[0]===null||_[1]===null)&&(W==="reversed"||W===!0)||_[0]!==null&&(W==="min"||W==="max reversed")||_[1]!==null&&(W==="max"||W==="min reversed"))&&(_=void 0,delete N.range,N.autorange=!0,$=!0),$||(B=N.getAutorangeDflt(_),W=x("autorange",B)),I.autorange=W,W&&(c(x,W,_),(z==="linear"||z==="-")&&x("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(z==="date"){y.log("Polar plots do not support date angular axes yet.");for(var te=0;te<m.length;te++)m[te].visible=!1;z=I.type=N.type="linear"}x(z==="linear"?"thetaunit":"period");var ie=x("direction");x("rotation",{counterclockwise:0,clockwise:90}[ie]);break}if(t(I,N,x,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"":void 0}),O){var ue,J,Y,ae,j=C.font||{};ue=x("color"),J=ue===I.color?ue:j.color,Y=j.size,ae=j.family,v(I,N,x,N.type),r(I,N,x,N.type,{font:{color:J,size:Y,family:ae}}),p(I,N,x,{outerTicks:!0}),n(I,N,x,{dfltColor:ue,bgColor:C.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[E]}),x("layer"),E==="radialaxis"&&(x("side"),x("angle",S[0]),x("title.text"),y.coerceFont(x,"title.font",{color:J,size:y.bigFont(Y),family:ae}))}z!=="category"&&x("hoverformat"),N._input=I}A.angularaxis.type==="category"&&w("gridshape")}function s(d,A,w,C,b,S){var m=w("autotypenumbers",S.autotypenumbersDflt),a=w("type");if(a==="-"){for(var E,x=0;x<C.length;x++)if(C[x].visible){E=C[x];break}E&&E[b]&&(A.type=u(E[b],"gregorian",{noMultiCategory:!0,autotypenumbers:m})),A.type==="-"?A.type="linear":d.type=A.type}return A.type}G.exports=function(A,w,C){L(A,w,C,{type:f.name,attributes:l,handleDefaults:h,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:C,layoutOut:w})}},77997:function(G,V,e){var y=e(39898),P=e(84267),o=e(73972),L=e(71828),M=L.strRotate,v=L.strTranslate,p=e(7901),r=e(91424),t=e(74875),i=e(89298),n=e(21994),c=e(12101),u=e(71739).doAutoRange,l=e(29323),g=e(28569),f=e(30211),T=e(92998),h=e(47322).prepSelect,s=e(47322).selectOnClick,d=e(47322).clearOutline,A=e(6964),w=e(33306),C=e(61549).redrawReglTraces,b=e(18783).MID_SHIFT,S=e(9813),m=e(10869),a=e(23893),E=a.smith,x=a.reactanceArc,k=a.resistanceArc,I=a.smithTransform,N=L._,F=L.mod,z=L.deg2rad,O=L.rad2deg;function _(ue,J,Y){this.isSmith=Y||!1,this.id=J,this.gd=ue,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ae=ue._fullLayout,j="clip"+ae._uid+J;this.clipIds.forTraces=j+"-for-traces",this.clipPaths.forTraces=ae._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ae["_"+(Y?"smith":"polar")+"layer"].append("g").attr("class",J),this.getHole=function(q){return this.isSmith?0:q.hole},this.getSector=function(q){return this.isSmith?[0,360]:q.sector},this.getRadial=function(q){return this.isSmith?q.realaxis:q.radialaxis},this.getAngular=function(q){return this.isSmith?q.imaginaryaxis:q.angularaxis},Y||(this.radialTickLayout=null,this.angularTickLayout=null)}var B=_.prototype;G.exports=function(J,Y,ae){return new _(J,Y,ae)},B.plot=function(ue,J){for(var Y=this,ae=J[Y.id],j=!1,q=0;q<ue.length;q++){var oe=ue[q][0].trace;if(oe.cliponaxis===!1){j=!0;break}}Y._hasClipOnAxisFalse=j,Y.updateLayers(J,ae),Y.updateLayout(J,ae),t.generalUpdatePerTraceModule(Y.gd,Y,ue,ae),Y.updateFx(J,ae),Y.isSmith&&(delete ae.realaxis.range,delete ae.imaginaryaxis.range)},B.updateLayers=function(ue,J){var Y=this,ae=Y.isSmith,j=Y.layers,q=Y.getRadial(J),oe=Y.getAngular(J),Q=S.layerNames,X=Q.indexOf("frontplot"),se=Q.slice(0,X),ne=oe.layer==="below traces",fe=q.layer==="below traces";ne&&se.push("angular-line"),fe&&se.push("radial-line"),ne&&se.push("angular-axis"),fe&&se.push("radial-axis"),se.push("frontplot"),ne||se.push("angular-line"),fe||se.push("radial-line"),ne||se.push("angular-axis"),fe||se.push("radial-axis");var ye=(ae?"smith":"polar")+"sublayer",Se=Y.framework.selectAll("."+ye).data(se,String);Se.enter().append("g").attr("class",function(we){return ye+" "+we}).each(function(we){var _e=j[we]=y.select(this);switch(we){case"frontplot":ae||_e.append("g").classed("barlayer",!0),_e.append("g").classed("scatterlayer",!0);break;case"backplot":_e.append("g").classed("maplayer",!0);break;case"plotbg":j.bg=_e.append("path");break;case"radial-grid":_e.style("fill","none");break;case"angular-grid":_e.style("fill","none");break;case"radial-line":_e.append("line").style("fill","none");break;case"angular-line":_e.append("path").style("fill","none");break}}),Se.order()},B.updateLayout=function(ue,J){var Y=this,ae=Y.layers,j=ue._size,q=Y.getRadial(J),oe=Y.getAngular(J),Q=J.domain.x,X=J.domain.y;Y.xOffset=j.l+j.w*Q[0],Y.yOffset=j.t+j.h*(1-X[1]);var se=Y.xLength=j.w*(Q[1]-Q[0]),ne=Y.yLength=j.h*(X[1]-X[0]),fe=Y.getSector(J);Y.sectorInRad=fe.map(z);var ye=Y.sectorBBox=$(fe),Se=ye[2]-ye[0],we=ye[3]-ye[1],_e=ne/se,ke=Math.abs(we/Se),Me,me,Ee,Be,Ue;_e>ke?(Me=se,me=se*ke,Ue=(ne-me)/j.h/2,Ee=[Q[0],Q[1]],Be=[X[0]+Ue,X[1]-Ue]):(Me=ne/ke,me=ne,Ue=(se-Me)/j.w/2,Ee=[Q[0]+Ue,Q[1]-Ue],Be=[X[0],X[1]]),Y.xLength2=Me,Y.yLength2=me,Y.xDomain2=Ee,Y.yDomain2=Be;var De=Y.xOffset2=j.l+j.w*Ee[0],He=Y.yOffset2=j.t+j.h*(1-Be[1]),nt=Y.radius=Me/Se,lt=Y.innerRadius=Y.getHole(J)*nt,$e=Y.cx=De-nt*ye[0],qe=Y.cy=He+nt*ye[3],ct=Y.cxx=$e-De,dt=Y.cyy=qe-He,gt=q.side,At;gt==="counterclockwise"?(At=gt,gt="top"):gt==="clockwise"&&(At=gt,gt="bottom"),Y.radialAxis=Y.mockAxis(ue,J,q,{_id:"x",side:gt,_trueSide:At,domain:[lt/j.w,nt/j.w]}),Y.angularAxis=Y.mockAxis(ue,J,oe,{side:"right",domain:[0,Math.PI],autorange:!1}),Y.doAutoRange(ue,J),Y.updateAngularAxis(ue,J),Y.updateRadialAxis(ue,J),Y.updateRadialAxisTitle(ue,J),Y.xaxis=Y.mockCartesianAxis(ue,J,{_id:"x",domain:Ee}),Y.yaxis=Y.mockCartesianAxis(ue,J,{_id:"y",domain:Be});var Rt=Y.pathSubplot();Y.clipPaths.forTraces.select("path").attr("d",Rt).attr("transform",v(ct,dt)),ae.frontplot.attr("transform",v(De,He)).call(r.setClipUrl,Y._hasClipOnAxisFalse?null:Y.clipIds.forTraces,Y.gd),ae.bg.attr("d",Rt).attr("transform",v($e,qe)).call(p.fill,J.bgcolor)},B.mockAxis=function(ue,J,Y,ae){var j=L.extendFlat({},Y,ae);return c(j,J,ue),j},B.mockCartesianAxis=function(ue,J,Y){var ae=this,j=ae.isSmith,q=Y._id,oe=L.extendFlat({type:"linear"},Y);n(oe,ue);var Q={x:[0,2],y:[1,3]};return oe.setRange=function(){var X=ae.sectorBBox,se=Q[q],ne=ae.radialAxis._rl,fe=(ne[1]-ne[0])/(1-ae.getHole(J));oe.range=[X[se[0]]*fe,X[se[1]]*fe]},oe.isPtWithinRange=q==="x"&&!j?function(X){return ae.isPtInside(X)}:function(){return!0},oe.setRange(),oe.setScale(),oe},B.doAutoRange=function(ue,J){var Y=this,ae=Y.gd,j=Y.radialAxis,q=Y.getRadial(J);u(ae,j);var oe=j.range;if(q.range=oe.slice(),q._input.range=oe.slice(),j._rl=[j.r2l(oe[0],null,"gregorian"),j.r2l(oe[1],null,"gregorian")],j.minallowed!==void 0){var Q=j.r2l(j.minallowed);j._rl[0]>j._rl[1]?j._rl[1]=Math.max(j._rl[1],Q):j._rl[0]=Math.max(j._rl[0],Q)}if(j.maxallowed!==void 0){var X=j.r2l(j.maxallowed);j._rl[0]<j._rl[1]?j._rl[1]=Math.min(j._rl[1],X):j._rl[0]=Math.min(j._rl[0],X)}},B.updateRadialAxis=function(ue,J){var Y=this,ae=Y.gd,j=Y.layers,q=Y.radius,oe=Y.innerRadius,Q=Y.cx,X=Y.cy,se=Y.getRadial(J),ne=F(Y.getSector(J)[0],360),fe=Y.radialAxis,ye=oe<q,Se=Y.isSmith;Se||(Y.fillViewInitialKey("radialaxis.angle",se.angle),Y.fillViewInitialKey("radialaxis.range",fe.range.slice()),fe.setGeometry()),fe.tickangle==="auto"&&ne>90&&ne<=270&&(fe.tickangle=180);var we=Se?function(nt){var lt=I(Y,E([nt.x,0]));return v(lt[0]-Q,lt[1]-X)}:function(nt){return v(fe.l2p(nt.x)+oe,0)},_e=Se?function(nt){return k(Y,nt.x,-1/0,1/0)}:function(nt){return Y.pathArc(fe.r2p(nt.x)+oe)},ke=W(se);if(Y.radialTickLayout!==ke&&(j["radial-axis"].selectAll(".xtick").remove(),Y.radialTickLayout=ke),ye){fe.setScale();var Me=0,me=Se?(fe.tickvals||[]).filter(function(nt){return nt>=0}).map(function(nt){return i.tickText(fe,nt,!0,!1)}):i.calcTicks(fe),Ee=Se?me:i.clipEnds(fe,me),Be=i.getTickSigns(fe)[2];Se&&((fe.ticks==="top"&&fe.side==="bottom"||fe.ticks==="bottom"&&fe.side==="top")&&(Be=-Be),fe.ticks==="top"&&fe.side==="top"&&(Me=-fe.ticklen),fe.ticks==="bottom"&&fe.side==="bottom"&&(Me=fe.ticklen)),i.drawTicks(ae,fe,{vals:me,layer:j["radial-axis"],path:i.makeTickPath(fe,0,Be),transFn:we,crisp:!1}),i.drawGrid(ae,fe,{vals:Ee,layer:j["radial-grid"],path:_e,transFn:L.noop,crisp:!1}),i.drawLabels(ae,fe,{vals:me,layer:j["radial-axis"],transFn:we,labelFns:i.makeLabelFns(fe,Me)})}var Ue=Y.radialAxisAngle=Y.vangles?O(te(z(se.angle),Y.vangles)):se.angle,De=v(Q,X),He=De+M(-Ue);ie(j["radial-axis"],ye&&(se.showticklabels||se.ticks),{transform:He}),ie(j["radial-grid"],ye&&se.showgrid,{transform:Se?"":De}),ie(j["radial-line"].select("line"),ye&&se.showline,{x1:Se?-q:oe,y1:0,x2:q,y2:0,transform:He}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},B.updateRadialAxisTitle=function(ue,J,Y){if(!this.isSmith){var ae=this,j=ae.gd,q=ae.radius,oe=ae.cx,Q=ae.cy,X=ae.getRadial(J),se=ae.id+"title",ne=0;if(X.title){var fe=r.bBox(ae.layers["radial-axis"].node()).height,ye=X.title.font.size,Se=X.side;ne=Se==="top"?ye:Se==="counterclockwise"?-(fe+ye*.4):fe+ye*.8}var we=Y!==void 0?Y:ae.radialAxisAngle,_e=z(we),ke=Math.cos(_e),Me=Math.sin(_e),me=oe+q/2*ke+ne*Me,Ee=Q-q/2*Me+ne*ke;ae.layers["radial-axis-title"]=T.draw(j,se,{propContainer:X,propName:ae.id+".radialaxis.title",placeholder:N(j,"Click to enter radial axis title"),attributes:{x:me,y:Ee,"text-anchor":"middle"},transform:{rotate:-we}})}},B.updateAngularAxis=function(ue,J){var Y=this,ae=Y.gd,j=Y.layers,q=Y.radius,oe=Y.innerRadius,Q=Y.cx,X=Y.cy,se=Y.getAngular(J),ne=Y.angularAxis,fe=Y.isSmith;fe||(Y.fillViewInitialKey("angularaxis.rotation",se.rotation),ne.setGeometry(),ne.setScale());var ye=fe?function(lt){var $e=I(Y,E([0,lt.x]));return Math.atan2($e[0]-Q,$e[1]-X)-Math.PI/2}:function(lt){return ne.t2g(lt.x)};ne.type==="linear"&&ne.thetaunit==="radians"&&(ne.tick0=O(ne.tick0),ne.dtick=O(ne.dtick));var Se=function(lt){return v(Q+q*Math.cos(lt),X-q*Math.sin(lt))},we=fe?function(lt){var $e=I(Y,E([0,lt.x]));return v($e[0],$e[1])}:function(lt){return Se(ye(lt))},_e=fe?function(lt){var $e=I(Y,E([0,lt.x])),qe=Math.atan2($e[0]-Q,$e[1]-X)-Math.PI/2;return v($e[0],$e[1])+M(-O(qe))}:function(lt){var $e=ye(lt);return Se($e)+M(-O($e))},ke=fe?function(lt){return x(Y,lt.x,0,1/0)}:function(lt){var $e=ye(lt),qe=Math.cos($e),ct=Math.sin($e);return"M"+[Q+oe*qe,X-oe*ct]+"L"+[Q+q*qe,X-q*ct]},Me=i.makeLabelFns(ne,0),me=Me.labelStandoff,Ee={};Ee.xFn=function(lt){var $e=ye(lt);return Math.cos($e)*me},Ee.yFn=function(lt){var $e=ye(lt),qe=Math.sin($e)>0?.2:1;return-Math.sin($e)*(me+lt.fontSize*qe)+Math.abs(Math.cos($e))*(lt.fontSize*b)},Ee.anchorFn=function(lt){var $e=ye(lt),qe=Math.cos($e);return Math.abs(qe)<.1?"middle":qe>0?"start":"end"},Ee.heightFn=function(lt,$e,qe){var ct=ye(lt);return-.5*(1+Math.sin(ct))*qe};var Be=W(se);Y.angularTickLayout!==Be&&(j["angular-axis"].selectAll("."+ne._id+"tick").remove(),Y.angularTickLayout=Be);var Ue=fe?[1/0].concat(ne.tickvals||[]).map(function(lt){return i.tickText(ne,lt,!0,!1)}):i.calcTicks(ne);fe&&(Ue[0].text="",Ue[0].fontSize*=1.75);var De;if(J.gridshape==="linear"?(De=Ue.map(ye),L.angleDelta(De[0],De[1])<0&&(De=De.slice().reverse())):De=null,Y.vangles=De,ne.type==="category"&&(Ue=Ue.filter(function(lt){return L.isAngleInsideSector(ye(lt),Y.sectorInRad)})),ne.visible){var He=ne.ticks==="inside"?-1:1,nt=(ne.linewidth||1)/2;i.drawTicks(ae,ne,{vals:Ue,layer:j["angular-axis"],path:"M"+He*nt+",0h"+He*ne.ticklen,transFn:_e,crisp:!1}),i.drawGrid(ae,ne,{vals:Ue,layer:j["angular-grid"],path:ke,transFn:L.noop,crisp:!1}),i.drawLabels(ae,ne,{vals:Ue,layer:j["angular-axis"],repositionOnUpdate:!0,transFn:we,labelFns:Ee})}ie(j["angular-line"].select("path"),se.showline,{d:Y.pathSubplot(),transform:v(Q,X)}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},B.updateFx=function(ue,J){if(!this.gd._context.staticPlot){var Y=!this.isSmith;Y&&(this.updateAngularDrag(ue),this.updateRadialDrag(ue,J,0),this.updateRadialDrag(ue,J,1)),this.updateHoverAndMainDrag(ue)}},B.updateHoverAndMainDrag=function(ue){var J=this,Y=J.isSmith,ae=J.gd,j=J.layers,q=ue._zoomlayer,oe=S.MINZOOM,Q=S.OFFEDGE,X=J.radius,se=J.innerRadius,ne=J.cx,fe=J.cy,ye=J.cxx,Se=J.cyy,we=J.sectorInRad,_e=J.vangles,ke=J.radialAxis,Me=m.clampTiny,me=m.findXYatLength,Ee=m.findEnclosingVertexAngles,Be=S.cornerHalfWidth,Ue=S.cornerLen/2,De,He,nt=l.makeDragger(j,"path","maindrag",ue.dragmode===!1?"none":"crosshair");y.select(nt).attr("d",J.pathSubplot()).attr("transform",v(ne,fe)),nt.onmousemove=function(Tt){f.hover(ae,Tt,J.id),ae._fullLayout._lasthover=nt,ae._fullLayout._hoversubplot=J.id},nt.onmouseout=function(Tt){ae._dragging||g.unhover(ae,Tt)};var lt={element:nt,gd:ae,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]},$e,qe,ct,dt,gt,At,Rt,Vt,Je;function Ve(Tt,_t){return Math.sqrt(Tt*Tt+_t*_t)}function Ie(Tt,_t){return Ve(Tt-ye,_t-Se)}function Oe(Tt,_t){return Math.atan2(Se-_t,Tt-ye)}function Le(Tt,_t){return[Tt*Math.cos(_t),Tt*Math.sin(-_t)]}function xe(Tt,_t){if(Tt===0)return J.pathSector(2*Be);var $t=Ue/Tt,wr=_t-$t,yt=_t+$t,jt=Math.max(0,Math.min(Tt,X)),Qt=jt-Be,gr=jt+Be;return"M"+Le(Qt,wr)+"A"+[Qt,Qt]+" 0,0,0 "+Le(Qt,yt)+"L"+Le(gr,yt)+"A"+[gr,gr]+" 0,0,1 "+Le(gr,wr)+"Z"}function pe(Tt,_t,$t){if(Tt===0)return J.pathSector(2*Be);var wr=Le(Tt,_t),yt=Le(Tt,$t),jt=Me((wr[0]+yt[0])/2),Qt=Me((wr[1]+yt[1])/2),gr,sr;if(jt&&Qt){var vt=Qt/jt,at=-1/vt,xt=me(Be,vt,jt,Qt);gr=me(Ue,at,xt[0][0],xt[0][1]),sr=me(Ue,at,xt[1][0],xt[1][1])}else{var Mt,Dt;Qt?(Mt=Ue,Dt=Be):(Mt=Be,Dt=Ue),gr=[[jt-Mt,Qt-Dt],[jt+Mt,Qt-Dt]],sr=[[jt-Mt,Qt+Dt],[jt+Mt,Qt+Dt]]}return"M"+gr.join("L")+"L"+sr.reverse().join("L")+"Z"}function Ae(){ct=null,dt=null,gt=J.pathSubplot(),At=!1;var Tt=ae._fullLayout[J.id];Rt=P(Tt.bgcolor).getLuminance(),Vt=l.makeZoombox(q,Rt,ne,fe,gt),Vt.attr("fill-rule","evenodd"),Je=l.makeCorners(q,ne,fe),d(ae)}function Te(Tt,_t){return _t=Math.max(Math.min(_t,X),se),Tt<Q?Tt=0:X-Tt<Q?Tt=X:_t<Q?_t=0:X-_t<Q&&(_t=X),Math.abs(_t-Tt)>oe?(Tt<_t?(ct=Tt,dt=_t):(ct=_t,dt=Tt),!0):(ct=null,dt=null,!1)}function Ne(Tt,_t){Tt=Tt||gt,_t=_t||"M0,0Z",Vt.attr("d",Tt),Je.attr("d",_t),l.transitionZoombox(Vt,Je,At,Rt),At=!0;var $t={};Yt($t),ae.emit("plotly_relayouting",$t)}function Ye(Tt,_t){Tt=Tt*De,_t=_t*He;var $t=$e+Tt,wr=qe+_t,yt=Ie($e,qe),jt=Math.min(Ie($t,wr),X),Qt=Oe($e,qe),gr,sr;Te(yt,jt)&&(gr=gt+J.pathSector(dt),ct&&(gr+=J.pathSector(ct)),sr=xe(ct,Qt)+xe(dt,Qt)),Ne(gr,sr)}function et(Tt,_t,$t,wr){var yt=m.findIntersectionXY($t,wr,$t,[Tt-ye,Se-_t]);return Ve(yt[0],yt[1])}function ft(Tt,_t){var $t=$e+Tt,wr=qe+_t,yt=Oe($e,qe),jt=Oe($t,wr),Qt=Ee(yt,_e),gr=Ee(jt,_e),sr=et($e,qe,Qt[0],Qt[1]),vt=Math.min(et($t,wr,gr[0],gr[1]),X),at,xt;Te(sr,vt)&&(at=gt+J.pathSector(dt),ct&&(at+=J.pathSector(ct)),xt=[pe(ct,Qt[0],Qt[1]),pe(dt,Qt[0],Qt[1])].join(" ")),Ne(at,xt)}function pt(){if(l.removeZoombox(ae),!(ct===null||dt===null)){var Tt={};Yt(Tt),l.showDoubleClickNotifier(ae),o.call("_guiRelayout",ae,Tt)}}function Yt(Tt){var _t=ke._rl,$t=(_t[1]-_t[0])/(1-se/X)/X,wr=[_t[0]+(ct-se)*$t,_t[0]+(dt-se)*$t];Tt[J.id+".radialaxis.range"]=wr}function Jt(Tt,_t){var $t=ae._fullLayout.clickmode;if(l.removeZoombox(ae),Tt===2){var wr={};for(var yt in J.viewInitial)wr[J.id+"."+yt]=J.viewInitial[yt];ae.emit("plotly_doubleclick",null),o.call("_guiRelayout",ae,wr)}$t.indexOf("select")>-1&&Tt===1&&s(_t,ae,[J.xaxis],[J.yaxis],J.id,lt),$t.indexOf("event")>-1&&f.click(ae,_t,J.id)}lt.prepFn=function(Tt,_t,$t){var wr=ae._fullLayout.dragmode,yt=nt.getBoundingClientRect();ae._fullLayout._calcInverseTransform(ae);var jt=ae._fullLayout._invTransform;De=ae._fullLayout._invScaleX,He=ae._fullLayout._invScaleY;var Qt=L.apply3DTransform(jt)(_t-yt.left,$t-yt.top);if($e=Qt[0],qe=Qt[1],_e){var gr=m.findPolygonOffset(X,we[0],we[1],_e);$e+=ye+gr[0],qe+=Se+gr[1]}switch(wr){case"zoom":lt.clickFn=Jt,Y||(_e?lt.moveFn=ft:lt.moveFn=Ye,lt.doneFn=pt,Ae());break;case"select":case"lasso":h(Tt,_t,$t,lt,wr);break}},g.init(lt)},B.updateRadialDrag=function(ue,J,Y){var ae=this,j=ae.gd,q=ae.layers,oe=ae.radius,Q=ae.innerRadius,X=ae.cx,se=ae.cy,ne=ae.radialAxis,fe=S.radialDragBoxSize,ye=fe/2;if(!ne.visible)return;var Se=z(ae.radialAxisAngle),we=ne._rl,_e=we[0],ke=we[1],Me=we[Y],me=.75*(we[1]-we[0])/(1-ae.getHole(J))/oe,Ee,Be,Ue;Y?(Ee=X+(oe+ye)*Math.cos(Se),Be=se-(oe+ye)*Math.sin(Se),Ue="radialdrag"):(Ee=X+(Q-ye)*Math.cos(Se),Be=se-(Q-ye)*Math.sin(Se),Ue="radialdrag-inner");var De=l.makeRectDragger(q,Ue,"crosshair",-ye,-ye,fe,fe),He={element:De,gd:j};ue.dragmode===!1&&(He.dragmode=!1),ie(y.select(De),ne.visible&&Q<oe,{transform:v(Ee,Be)});var nt,lt,$e;function qe(Rt,Vt){if(nt)nt(Rt,Vt);else{var Je=[Rt,-Vt],Ve=[Math.cos(Se),Math.sin(Se)],Ie=Math.abs(L.dot(Je,Ve)/Math.sqrt(L.dot(Je,Je)));isNaN(Ie)||(nt=Ie<.5?gt:At)}var Oe={};ct(Oe),j.emit("plotly_relayouting",Oe)}function ct(Rt){lt!==null?Rt[ae.id+".radialaxis.angle"]=lt:$e!==null&&(Rt[ae.id+".radialaxis.range["+Y+"]"]=$e)}function dt(){lt!==null?o.call("_guiRelayout",j,ae.id+".radialaxis.angle",lt):$e!==null&&o.call("_guiRelayout",j,ae.id+".radialaxis.range["+Y+"]",$e)}function gt(Rt,Vt){if(Y!==0){var Je=Ee+Rt,Ve=Be+Vt;lt=Math.atan2(se-Ve,Je-X),ae.vangles&&(lt=te(lt,ae.vangles)),lt=O(lt);var Ie=v(X,se)+M(-lt);q["radial-axis"].attr("transform",Ie),q["radial-line"].select("line").attr("transform",Ie);var Oe=ae.gd._fullLayout,Le=Oe[ae.id];ae.updateRadialAxisTitle(Oe,Le,lt)}}function At(Rt,Vt){var Je=L.dot([Rt,-Vt],[Math.cos(Se),Math.sin(Se)]);if($e=Me-me*Je,me>0!=(Y?$e>_e:$e<ke)){$e=null;return}var Ve=j._fullLayout,Ie=Ve[ae.id];ne.range[Y]=$e,ne._rl[Y]=$e,ae.updateRadialAxis(Ve,Ie),ae.xaxis.setRange(),ae.xaxis.setScale(),ae.yaxis.setRange(),ae.yaxis.setScale();var Oe=!1;for(var Le in ae.traceHash){var xe=ae.traceHash[Le],pe=L.filterVisible(xe),Ae=xe[0][0].trace._module;Ae.plot(j,ae,pe,Ie),o.traceIs(Le,"gl")&&pe.length&&(Oe=!0)}Oe&&(w(j),C(j))}He.prepFn=function(){nt=null,lt=null,$e=null,He.moveFn=qe,He.doneFn=dt,d(j)},He.clampFn=function(Rt,Vt){return Math.sqrt(Rt*Rt+Vt*Vt)<S.MINDRAG&&(Rt=0,Vt=0),[Rt,Vt]},g.init(He)},B.updateAngularDrag=function(ue){var J=this,Y=J.gd,ae=J.layers,j=J.radius,q=J.angularAxis,oe=J.cx,Q=J.cy,X=J.cxx,se=J.cyy,ne=S.angularDragBoxSize,fe=l.makeDragger(ae,"path","angulardrag",ue.dragmode===!1?"none":"move"),ye={element:fe,gd:Y};ue.dragmode===!1?ye.dragmode=!1:y.select(fe).attr("d",J.pathAnnulus(j,j+ne)).attr("transform",v(oe,Q)).call(A,"move");function Se($e,qe){return Math.atan2(se+ne-qe,$e-X-ne)}var we=ae.frontplot.select(".scatterlayer").selectAll(".trace"),_e=we.selectAll(".point"),ke=we.selectAll(".textpoint"),Me,me,Ee,Be,Ue,De;function He($e,qe){var ct=J.gd._fullLayout,dt=ct[J.id],gt=Me+$e*ue._invScaleX,At=me+qe*ue._invScaleY,Rt=Se(gt,At),Vt=O(Rt-De);if(Be=Ee+Vt,ae.frontplot.attr("transform",v(J.xOffset2,J.yOffset2)+M([-Vt,X,se])),J.vangles){Ue=J.radialAxisAngle+Vt;var Je=v(oe,Q)+M(-Vt),Ve=v(oe,Q)+M(-Ue);ae.bg.attr("transform",Je),ae["radial-grid"].attr("transform",Je),ae["radial-axis"].attr("transform",Ve),ae["radial-line"].select("line").attr("transform",Ve),J.updateRadialAxisTitle(ct,dt,Ue)}else J.clipPaths.forTraces.select("path").attr("transform",v(X,se)+M(Vt));_e.each(function(){var Te=y.select(this),Ne=r.getTranslate(Te);Te.attr("transform",v(Ne.x,Ne.y)+M([Vt]))}),ke.each(function(){var Te=y.select(this),Ne=Te.select("text"),Ye=r.getTranslate(Te);Te.attr("transform",M([Vt,Ne.attr("x"),Ne.attr("y")])+v(Ye.x,Ye.y))}),q.rotation=L.modHalf(Be,360),J.updateAngularAxis(ct,dt),J._hasClipOnAxisFalse&&!L.isFullCircle(J.sectorInRad)&&we.call(r.hideOutsideRangePoints,J);var Ie=!1;for(var Oe in J.traceHash)if(o.traceIs(Oe,"gl")){var Le=J.traceHash[Oe],xe=L.filterVisible(Le),pe=Le[0][0].trace._module;pe.plot(Y,J,xe,dt),xe.length&&(Ie=!0)}Ie&&(w(Y),C(Y));var Ae={};nt(Ae),Y.emit("plotly_relayouting",Ae)}function nt($e){$e[J.id+".angularaxis.rotation"]=Be,J.vangles&&($e[J.id+".radialaxis.angle"]=Ue)}function lt(){ke.select("text").attr("transform",null);var $e={};nt($e),o.call("_guiRelayout",Y,$e)}ye.prepFn=function($e,qe,ct){var dt=ue[J.id];Ee=dt.angularaxis.rotation;var gt=fe.getBoundingClientRect();Me=qe-gt.left,me=ct-gt.top,Y._fullLayout._calcInverseTransform(Y);var At=L.apply3DTransform(ue._invTransform)(Me,me);Me=At[0],me=At[1],De=Se(Me,me),ye.moveFn=He,ye.doneFn=lt,d(Y)},J.vangles&&!L.isFullCircle(J.sectorInRad)&&(ye.prepFn=L.noop,A(y.select(fe),null)),g.init(ye)},B.isPtInside=function(ue){if(this.isSmith)return!0;var J=this.sectorInRad,Y=this.vangles,ae=this.angularAxis.c2g(ue.theta),j=this.radialAxis,q=j.c2l(ue.r),oe=j._rl,Q=Y?m.isPtInsidePolygon:L.isPtInsideSector;return Q(q,ae,oe,J,Y)},B.pathArc=function(ue){var J=this.sectorInRad,Y=this.vangles,ae=Y?m.pathPolygon:L.pathArc;return ae(ue,J[0],J[1],Y)},B.pathSector=function(ue){var J=this.sectorInRad,Y=this.vangles,ae=Y?m.pathPolygon:L.pathSector;return ae(ue,J[0],J[1],Y)},B.pathAnnulus=function(ue,J){var Y=this.sectorInRad,ae=this.vangles,j=ae?m.pathPolygonAnnulus:L.pathAnnulus;return j(ue,J,Y[0],Y[1],ae)},B.pathSubplot=function(){var ue=this.innerRadius,J=this.radius;return ue?this.pathAnnulus(ue,J):this.pathSector(J)},B.fillViewInitialKey=function(ue,J){ue in this.viewInitial||(this.viewInitial[ue]=J)};function W(ue){var J=ue.ticks+String(ue.ticklen)+String(ue.showticklabels);return"side"in ue&&(J+=ue.side),J}function $(ue){var J=ue[0],Y=ue[1],ae=Y-J,j=F(J,360),q=j+ae,oe=Math.cos(z(j)),Q=Math.sin(z(j)),X=Math.cos(z(q)),se=Math.sin(z(q)),ne,fe,ye,Se;return j<=90&&q>=90||j>90&&q>=450?Se=1:Q<=0&&se<=0?Se=0:Se=Math.max(Q,se),j<=180&&q>=180||j>180&&q>=540?ne=-1:oe>=0&&X>=0?ne=0:ne=Math.min(oe,X),j<=270&&q>=270||j>270&&q>=630?fe=-1:Q>=0&&se>=0?fe=0:fe=Math.min(Q,se),q>=360?ye=1:oe<=0&&X<=0?ye=0:ye=Math.max(oe,X),[ne,fe,ye,Se]}function te(ue,J){var Y=function(j){return L.angleDist(ue,j)},ae=L.findIndexOfMin(J,Y);return J[ae]}function ie(ue,J,Y){return J?(ue.attr("display",null),ue.attr(Y)):ue&&ue.attr("display","none"),ue}},12101:function(G,V,e){var y=e(71828),P=e(21994),o=y.deg2rad,L=y.rad2deg;G.exports=function(i,n,c){switch(P(i,c),i._id){case"x":case"radialaxis":M(i,n);break;case"angularaxis":r(i,n);break}};function M(t,i){var n=i._subplot;t.setGeometry=function(){var c=t._rl[0],u=t._rl[1],l=n.innerRadius,g=(n.radius-l)/(u-c),f=l/g,T=c>u?function(h){return h<=0}:function(h){return h>=0};t.c2g=function(h){var s=t.c2l(h)-c;return(T(s)?s:0)+f},t.g2c=function(h){return t.l2c(h+c-f)},t.g2p=function(h){return h*g},t.c2p=function(h){return t.g2p(t.c2g(h))}}}function v(t,i){return i==="degrees"?o(t):t}function p(t,i){return i==="degrees"?L(t):t}function r(t,i){var n=t.type;if(n==="linear"){var c=t.d2c,u=t.c2d;t.d2c=function(l,g){return v(c(l),g)},t.c2d=function(l,g){return u(p(l,g))}}t.makeCalcdata=function(l,g){var f=l[g],T=l._length,h,s,d=function(S){return t.d2c(S,l.thetaunit)};if(f)for(h=new Array(T),s=0;s<T;s++)h[s]=d(f[s]);else{var A=g+"0",w="d"+g,C=A in l?d(l[A]):0,b=l[w]?d(l[w]):(t.period||2*Math.PI)/T;for(h=new Array(T),s=0;s<T;s++)h[s]=C+s*b}return h},t.setGeometry=function(){var l=i.sector,g=l.map(o),f={clockwise:-1,counterclockwise:1}[t.direction],T=o(t.rotation),h=function(m){return f*m+T},s=function(m){return(m-T)/f},d,A,w,C;switch(n){case"linear":A=d=y.identity,C=o,w=L,t.range=y.isFullCircle(g)?[l[0],l[0]+360]:g.map(s).map(L);break;case"category":var b=t._categories.length,S=t.period?Math.max(t.period,b):b;S===0&&(S=1),A=C=function(m){return m*2*Math.PI/S},d=w=function(m){return m*S/Math.PI/2},t.range=[0,S];break}t.c2g=function(m){return h(A(m))},t.g2c=function(m){return d(s(m))},t.t2g=function(m){return h(C(m))},t.g2t=function(m){return w(s(m))}}}},39779:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(G){function V(M){return M<0?-1:M>0?1:0}function e(M){var v=M[0],p=M[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function y(M,v){var p=v[0],r=v[1];return[p*M.radius+M.cx,-r*M.radius+M.cy]}function P(M,v){return v*M.radius}function o(M,v,p,r){var t=y(M,e([p,v])),i=t[0],n=t[1],c=y(M,e([r,v])),u=c[0],l=c[1];if(v===0)return["M"+i+","+n,"L"+u+","+l].join(" ");var g=P(M,1/Math.abs(v));return["M"+i+","+n,"A"+g+","+g+" 0 0,"+(v<0?1:0)+" "+u+","+l].join(" ")}function L(M,v,p,r){var t=P(M,1/(v+1)),i=y(M,e([v,p])),n=i[0],c=i[1],u=y(M,e([v,r])),l=u[0],g=u[1];if(V(p)!==V(r)){var f=y(M,e([v,0])),T=f[0],h=f[1];return["M"+n+","+c,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+T+","+h,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+g].join(" ")}return["M"+n+","+c,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+l+","+g].join(" ")}G.exports={smith:e,reactanceArc:o,resistanceArc:L,smithTransform:y}},7504:function(G,V,e){var y=e(27659).AU,P=e(71828).counterRegex,o=e(77997),L=e(39779),M=L.attr,v=L.name,p=P(v),r={};r[M]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var c=n._fullLayout,u=n.calcdata,l=c._subplots[v],g=0;g<l.length;g++){var f=l[g],T=y(u,v,f),h=c[f]._subplot;h||(h=o(n,f,!0),c[f]._subplot=h),h.plot(T,c,n._promises)}}function i(n,c,u,l){for(var g=l._subplots[v]||[],f=0;f<g.length;f++){var T=g[f],h=l[T]._subplot;if(!c[T]&&h){h.framework.remove();for(var s in h.clipPaths)h.clipPaths[s].remove()}}}G.exports={attr:M,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:t,clean:i,toSVG:e(93612).toSVG}},33419:function(G,V,e){var y=e(22399),P=e(13838),o=e(27670).Y,L=e(71828).extendFlat,M=e(30962).overrideAll,v=M({color:P.color,showline:L({},P.showline,{dflt:!0}),linecolor:P.linecolor,linewidth:P.linewidth,showgrid:L({},P.showgrid,{dflt:!0}),gridcolor:P.gridcolor,gridwidth:P.gridwidth,griddash:P.griddash},"plot","from-root"),p=M({ticklen:P.ticklen,tickwidth:L({},P.tickwidth,{dflt:2}),tickcolor:P.tickcolor,showticklabels:P.showticklabels,labelalias:P.labelalias,showtickprefix:P.showtickprefix,tickprefix:P.tickprefix,showticksuffix:P.showticksuffix,ticksuffix:P.ticksuffix,tickfont:P.tickfont,tickformat:P.tickformat,hoverformat:P.hoverformat,layer:P.layer},"plot","from-root"),r=L({visible:L({},P.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},P.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=L({visible:L({},P.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:P.ticks,editType:"calc"},v,p);G.exports={domain:o({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:y.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},9558:function(G,V,e){var y=e(71828),P=e(7901),o=e(44467),L=e(49119),M=e(27659).NG,v=e(89426),p=e(96115),r=e(92128),t=e(21994),i=e(33419),n=e(39779),c=n.axisNames,u=g(function(f){return y.isTypedArray(f)&&(f=Array.from(f)),f.slice().reverse().map(function(T){return-T}).concat([0]).concat(f)},String);function l(f,T,h,s){var d=h("bgcolor");s.bgColor=P.combine(d,s.paper_bgcolor);var A=M(s.fullData,n.name,s.id),w=s.layoutOut,C;function b(B,W){return h(C+"."+B,W)}for(var S=0;S<c.length;S++){C=c[S],y.isPlainObject(f[C])||(f[C]={});var m=f[C],a=o.newContainer(T,C);a._id=a._name=C,a._attr=s.id+"."+C,a._traceIndices=A.map(function(B){return B._expandedIndex});var E=b("visible");if(a.type="linear",t(a,w),v(m,a,b,a.type),E){var x=C==="realaxis";if(x&&b("side"),x)b("tickvals");else{var k=u(T.realaxis.tickvals||i.realaxis.tickvals.dflt);b("tickvals",k)}y.isTypedArray(a.tickvals)&&(a.tickvals=Array.from(a.tickvals));var I,N,F,z,O=s.font||{};E&&(I=b("color"),N=I===m.color?I:O.color,F=O.size,z=O.family),p(m,a,b,a.type,{noTicklabelstep:!0,noAng:!x,noExp:!0,font:{color:N,size:F,family:z}}),y.coerce2(f,T,i,C+".ticklen"),y.coerce2(f,T,i,C+".tickwidth"),y.coerce2(f,T,i,C+".tickcolor",T.color);var _=b("ticks");_||(delete T[C].ticklen,delete T[C].tickwidth,delete T[C].tickcolor),r(m,a,b,{dfltColor:I,bgColor:s.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i[C]}),b("layer")}b("hoverformat"),delete a.type,a._input=m}}G.exports=function(T,h,s){L(T,h,s,{noUirevision:!0,type:n.name,attributes:i,handleDefaults:l,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:s,layoutOut:h})};function g(f,T){var h={};return function(s){var d=T?T(s):s;if(d in h)return h[d];var A=f(s);return h[d]=A,A}}},49119:function(G,V,e){var y=e(71828),P=e(44467),o=e(27670).c;G.exports=function(M,v,p,r){var t=r.type,i=r.attributes,n=r.handleDefaults,c=r.partition||"x",u=v._subplots[t],l=u.length,g=l&&u[0].replace(/\d+$/,""),f,T;function h(w,C){return y.coerce(f,T,i,w,C)}for(var s=0;s<l;s++){var d=u[s];M[d]?f=M[d]:f=M[d]={},T=P.newContainer(v,d,g),r.noUirevision||h("uirevision",v.uirevision);var A={};A[c]=[s/l,(s+1)/l],o(T,v,h,A),r.id=d,n(f,T,h,r)}}},5386:function(G,V,e){var y=e(31562);y.FORMAT_LINK,y.DATE_FORMAT_LINK;function P(o){var L=o.description?" "+o.description:"",M=o.keys||[];if(M.length>0){for(var v=[],p=0;p<M.length;p++)v[p]="`"+M[p]+"`";L=L+"Finally, the template string has access to ",M.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}V.fF=function(o,L){o=o||{},L=L||{},P(L);var M={valType:"string",dflt:"",editType:o.editType||"none"};return o.arrayOk!==!1&&(M.arrayOk=!0),M},V.si=function(o,L){o=o||{},L=L||{},P(L);var M={valType:"string",dflt:"",editType:o.editType||"calc"};return o.arrayOk!==!1&&(M.arrayOk=!0),M},V.R=function(o,L){o=o||{},L=L||{},o.newshape,P(L);var M={valType:"string",dflt:"",editType:o.editType||"arraydraw"};return M}},61639:function(G,V,e){var y=e(64380),P=e(27659).AU,o=e(71828).counterRegex,L="ternary";V.name=L;var M=V.attr="subplot";V.idRoot=L,V.idRegex=V.attrRegex=o(L);var v=V.attributes={};v[M]={valType:"subplotid",dflt:"ternary",editType:"calc"},V.layoutAttributes=e(81367),V.supplyLayoutDefaults=e(25369),V.plot=function(r){for(var t=r._fullLayout,i=r.calcdata,n=t._subplots[L],c=0;c<n.length;c++){var u=n[c],l=P(i,L,u),g=t[u]._subplot;g||(g=new y({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=g),g.plot(l,t,r._promises)}},V.clean=function(p,r,t,i){for(var n=i._subplots[L]||[],c=0;c<n.length;c++){var u=n[c],l=i[u]._subplot;!r[u]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},81367:function(G,V,e){var y=e(22399),P=e(27670).Y,o=e(13838),L=e(30962).overrideAll,M=e(1426).extendFlat,v={title:{text:o.title.text,font:o.title.font},color:o.color,tickmode:o.minor.tickmode,nticks:M({},o.nticks,{dflt:6,min:1}),tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:o.ticks,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,labelalias:o.labelalias,showtickprefix:o.showtickprefix,tickprefix:o.tickprefix,showticksuffix:o.showticksuffix,ticksuffix:o.ticksuffix,showexponent:o.showexponent,exponentformat:o.exponentformat,minexponent:o.minexponent,separatethousands:o.separatethousands,tickfont:o.tickfont,tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,hoverformat:o.hoverformat,showline:M({},o.showline,{dflt:!0}),linecolor:o.linecolor,linewidth:o.linewidth,showgrid:M({},o.showgrid,{dflt:!0}),gridcolor:o.gridcolor,gridwidth:o.gridwidth,griddash:o.griddash,layer:o.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:o._deprecated.title,titlefont:o._deprecated.titlefont}},p=G.exports=L({domain:P({name:"ternary"}),bgcolor:{valType:"color",dflt:y.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},25369:function(G,V,e){var y=e(7901),P=e(44467),o=e(71828),L=e(49119),M=e(96115),v=e(89426),p=e(38701),r=e(26218),t=e(92128),i=e(81367),n=["aaxis","baxis","caxis"];G.exports=function(g,f,T){L(g,f,T,{type:"ternary",attributes:i,handleDefaults:c,font:f.font,paper_bgcolor:f.paper_bgcolor})};function c(l,g,f,T){var h=f("bgcolor"),s=f("sum");T.bgColor=y.combine(h,T.paper_bgcolor);for(var d,A,w,C=0;C<n.length;C++)d=n[C],A=l[d]||{},w=P.newContainer(g,d),w._name=d,u(A,w,T,g);var b=g.aaxis,S=g.baxis,m=g.caxis;b.min+S.min+m.min>=s&&(b.min=0,S.min=0,m.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function u(l,g,f,T){var h=i[g._name];function s(a,E){return o.coerce(l,g,h,a,E)}s("uirevision",T.uirevision),g.type="linear";var d=s("color"),A=d!==h.color.dflt?d:f.font.color,w=g._name,C=w.charAt(0).toUpperCase(),b="Component "+C,S=s("title.text",b);g._hovertitle=S===b?S:C,o.coerceFont(s,"title.font",{family:f.font.family,size:o.bigFont(f.font.size),color:A}),s("min"),r(l,g,s,"linear"),v(l,g,s,"linear"),M(l,g,s,"linear"),p(l,g,s,{outerTicks:!0});var m=s("showticklabels");m&&(o.coerceFont(s,"tickfont",{family:f.font.family,size:f.font.size,color:A}),s("tickangle"),s("tickformat")),t(l,g,s,{dfltColor:d,bgColor:f.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h}),s("hoverformat"),s("layer")}},64380:function(G,V,e){var y=e(39898),P=e(84267),o=e(73972),L=e(71828),M=L.strTranslate,v=L._,p=e(7901),r=e(91424),t=e(21994),i=e(1426).extendFlat,n=e(74875),c=e(89298),u=e(28569),l=e(30211),g=e(64505),f=g.freeMode,T=g.rectMode,h=e(92998),s=e(47322).prepSelect,d=e(47322).selectOnClick,A=e(47322).clearOutline,w=e(47322).clearSelectionsCache,C=e(85555);function b(O,_){this.id=O.id,this.graphDiv=O.graphDiv,this.init(_),this.makeFramework(_),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=b;var S=b.prototype;S.init=function(O){this.container=O._ternarylayer,this.defs=O._defs,this.layoutId=O._uid,this.traceHash={},this.layers={}},S.plot=function(O,_){var B=this,W=_[B.id],$=_._size;B._hasClipOnAxisFalse=!1;for(var te=0;te<O.length;te++){var ie=O[te][0].trace;if(ie.cliponaxis===!1){B._hasClipOnAxisFalse=!0;break}}B.updateLayers(W),B.adjustLayout(W,$),n.generalUpdatePerTraceModule(B.graphDiv,B,O,W),B.layers.plotbg.select("path").call(p.fill,W.bgcolor)},S.makeFramework=function(O){var _=this,B=_.graphDiv,W=O[_.id],$=_.clipId="clip"+_.layoutId+_.id,te=_.clipIdRelative="clip-relative"+_.layoutId+_.id;_.clipDef=L.ensureSingleById(O._clips,"clipPath",$,function(ie){ie.append("path").attr("d","M0,0Z")}),_.clipDefRelative=L.ensureSingleById(O._clips,"clipPath",te,function(ie){ie.append("path").attr("d","M0,0Z")}),_.plotContainer=L.ensureSingle(_.container,"g",_.id),_.updateLayers(W),r.setClipUrl(_.layers.backplot,$,B),r.setClipUrl(_.layers.grids,$,B)},S.updateLayers=function(O){var _=this,B=_.layers,W=["draglayer","plotbg","backplot","grids"];O.aaxis.layer==="below traces"&&W.push("aaxis","aline"),O.baxis.layer==="below traces"&&W.push("baxis","bline"),O.caxis.layer==="below traces"&&W.push("caxis","cline"),W.push("frontplot"),O.aaxis.layer==="above traces"&&W.push("aaxis","aline"),O.baxis.layer==="above traces"&&W.push("baxis","bline"),O.caxis.layer==="above traces"&&W.push("caxis","cline");var $=_.plotContainer.selectAll("g.toplevel").data(W,String),te=["agrid","bgrid","cgrid"];$.enter().append("g").attr("class",function(ie){return"toplevel "+ie}).each(function(ie){var ue=y.select(this);B[ie]=ue,ie==="frontplot"?ue.append("g").classed("scatterlayer",!0):ie==="backplot"?ue.append("g").classed("maplayer",!0):ie==="plotbg"?ue.append("path").attr("d","M0,0Z"):ie==="aline"||ie==="bline"||ie==="cline"?ue.append("path"):ie==="grids"&&te.forEach(function(J){B[J]=ue.append("g").classed("grid "+J,!0)})}),$.order()};var m=Math.sqrt(4/3);S.adjustLayout=function(O,_){var B=this,W=O.domain,$=(W.x[0]+W.x[1])/2,te=(W.y[0]+W.y[1])/2,ie=W.x[1]-W.x[0],ue=W.y[1]-W.y[0],J=ie*_.w,Y=ue*_.h,ae=O.sum,j=O.aaxis.min,q=O.baxis.min,oe=O.caxis.min,Q,X,se,ne,fe,ye;J>m*Y?(ne=Y,se=ne*m):(se=J,ne=se/m),fe=ie*se/J,ye=ue*ne/Y,Q=_.l+_.w*$-se/2,X=_.t+_.h*(1-te)-ne/2,B.x0=Q,B.y0=X,B.w=se,B.h=ne,B.sum=ae,B.xaxis={type:"linear",range:[j+2*oe-ae,ae-j-2*q],domain:[$-fe/2,$+fe/2],_id:"x"},t(B.xaxis,B.graphDiv._fullLayout),B.xaxis.setScale(),B.xaxis.isPtWithinRange=function(He){return He.a>=B.aaxis.range[0]&&He.a<=B.aaxis.range[1]&&He.b>=B.baxis.range[1]&&He.b<=B.baxis.range[0]&&He.c>=B.caxis.range[1]&&He.c<=B.caxis.range[0]},B.yaxis={type:"linear",range:[j,ae-q-oe],domain:[te-ye/2,te+ye/2],_id:"y"},t(B.yaxis,B.graphDiv._fullLayout),B.yaxis.setScale(),B.yaxis.isPtWithinRange=function(){return!0};var Se=B.yaxis.domain[0],we=B.aaxis=i({},O.aaxis,{range:[j,ae-q-oe],side:"left",tickangle:(+O.aaxis.tickangle||0)-30,domain:[Se,Se+ye*m],anchor:"free",position:0,_id:"y",_length:se});t(we,B.graphDiv._fullLayout),we.setScale();var _e=B.baxis=i({},O.baxis,{range:[ae-j-oe,q],side:"bottom",domain:B.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});t(_e,B.graphDiv._fullLayout),_e.setScale();var ke=B.caxis=i({},O.caxis,{range:[ae-j-q,oe],side:"right",tickangle:(+O.caxis.tickangle||0)+30,domain:[Se,Se+ye*m],anchor:"free",position:0,_id:"y",_length:se});t(ke,B.graphDiv._fullLayout),ke.setScale();var Me="M"+Q+","+(X+ne)+"h"+se+"l-"+se/2+",-"+ne+"Z";B.clipDef.select("path").attr("d",Me),B.layers.plotbg.select("path").attr("d",Me);var me="M0,"+ne+"h"+se+"l-"+se/2+",-"+ne+"Z";B.clipDefRelative.select("path").attr("d",me);var Ee=M(Q,X);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ee),B.clipDefRelative.select("path").attr("transform",null);var Be=M(Q-_e._offset,X+ne);B.layers.baxis.attr("transform",Be),B.layers.bgrid.attr("transform",Be);var Ue=M(Q+se/2,X)+"rotate(30)"+M(0,-we._offset);B.layers.aaxis.attr("transform",Ue),B.layers.agrid.attr("transform",Ue);var De=M(Q+se/2,X)+"rotate(-30)"+M(0,-ke._offset);B.layers.caxis.attr("transform",De),B.layers.cgrid.attr("transform",De),B.drawAxes(!0),B.layers.aline.select("path").attr("d",we.showline?"M"+Q+","+(X+ne)+"l"+se/2+",-"+ne:"M0,0").call(p.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),B.layers.bline.select("path").attr("d",_e.showline?"M"+Q+","+(X+ne)+"h"+se:"M0,0").call(p.stroke,_e.linecolor||"#000").style("stroke-width",(_e.linewidth||0)+"px"),B.layers.cline.select("path").attr("d",ke.showline?"M"+(Q+se/2)+","+X+"l"+se/2+","+ne:"M0,0").call(p.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),B.graphDiv._context.staticPlot||B.initInteractions(),r.setClipUrl(B.layers.frontplot,B._hasClipOnAxisFalse?null:B.clipId,B.graphDiv)},S.drawAxes=function(O){var _=this,B=_.graphDiv,W=_.id.substr(7)+"title",$=_.layers,te=_.aaxis,ie=_.baxis,ue=_.caxis;if(_.drawAx(te),_.drawAx(ie),_.drawAx(ue),O){var J=Math.max(te.showticklabels?te.tickfont.size/2:0,(ue.showticklabels?ue.tickfont.size*.75:0)+(ue.ticks==="outside"?ue.ticklen*.87:0)),Y=(ie.showticklabels?ie.tickfont.size:0)+(ie.ticks==="outside"?ie.ticklen:0)+3;$["a-title"]=h.draw(B,"a"+W,{propContainer:te,propName:_.id+".aaxis.title",placeholder:v(B,"Click to enter Component A title"),attributes:{x:_.x0+_.w/2,y:_.y0-te.title.font.size/3-J,"text-anchor":"middle"}}),$["b-title"]=h.draw(B,"b"+W,{propContainer:ie,propName:_.id+".baxis.title",placeholder:v(B,"Click to enter Component B title"),attributes:{x:_.x0-Y,y:_.y0+_.h+ie.title.font.size*.83+Y,"text-anchor":"middle"}}),$["c-title"]=h.draw(B,"c"+W,{propContainer:ue,propName:_.id+".caxis.title",placeholder:v(B,"Click to enter Component C title"),attributes:{x:_.x0+_.w+Y,y:_.y0+_.h+ue.title.font.size*.83+Y,"text-anchor":"middle"}})}},S.drawAx=function(O){var _=this,B=_.graphDiv,W=O._name,$=W.charAt(0),te=O._id,ie=_.layers[W],ue=30,J=$+"tickLayout",Y=a(O);_[J]!==Y&&(ie.selectAll("."+te+"tick").remove(),_[J]=Y),O.setScale();var ae=c.calcTicks(O),j=c.clipEnds(O,ae),q=c.makeTransTickFn(O),oe=c.getTickSigns(O)[2],Q=L.deg2rad(ue),X=oe*(O.linewidth||1)/2,se=oe*O.ticklen,ne=_.w,fe=_.h,ye=$==="b"?"M0,"+X+"l"+Math.sin(Q)*se+","+Math.cos(Q)*se:"M"+X+",0l"+Math.cos(Q)*se+","+-Math.sin(Q)*se,Se={a:"M0,0l"+fe+",-"+ne/2,b:"M0,0l-"+ne/2+",-"+fe,c:"M0,0l-"+fe+","+ne/2}[$];c.drawTicks(B,O,{vals:O.ticks==="inside"?j:ae,layer:ie,path:ye,transFn:q,crisp:!1}),c.drawGrid(B,O,{vals:j,layer:_.layers[$+"grid"],path:Se,transFn:q,crisp:!1}),c.drawLabels(B,O,{vals:ae,layer:ie,transFn:q,labelFns:c.makeLabelFns(O,0,ue)})};function a(O){return O.ticks+String(O.ticklen)+String(O.showticklabels)}var E=C.MINZOOM/2+.87,x="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(E*.87+4.5)+"l2.6,1.5l-"+E/2+","+E*.87+"Z",k="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-2.6,1.5l"+E/2+","+E*.87+"Z",I="m0,1l"+E/2+","+E*.87+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-"+(E/2+2.6)+","+(E*.87+4.5)+"l2.6,1.5l"+E/2+",-"+E*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",F=!0;S.clearOutline=function(){w(this.dragOptions),A(this.dragOptions.gd)},S.initInteractions=function(){var O=this,_=O.layers.plotbg.select("path").node(),B=O.graphDiv,W=B._fullLayout._zoomlayer,$,te;this.dragOptions={element:_,gd:B,plotinfo:{id:O.id,domain:B._fullLayout[O.id].domain,xaxis:O.xaxis,yaxis:O.yaxis},subplot:O.id,prepFn:function(Be,Ue,De){O.dragOptions.xaxes=[O.xaxis],O.dragOptions.yaxes=[O.yaxis],$=B._fullLayout._invScaleX,te=B._fullLayout._invScaleY;var He=O.dragOptions.dragmode=B._fullLayout.dragmode;f(He)?O.dragOptions.minDrag=1:O.dragOptions.minDrag=void 0,He==="zoom"?(O.dragOptions.moveFn=_e,O.dragOptions.clickFn=ne,O.dragOptions.doneFn=ke,fe(Be,Ue,De)):He==="pan"?(O.dragOptions.moveFn=me,O.dragOptions.clickFn=ne,O.dragOptions.doneFn=Ee,Me(),O.clearOutline(B)):(T(He)||f(He))&&s(Be,Ue,De,O.dragOptions,He)}};var ie,ue,J,Y,ae,j,q,oe,Q,X;function se(Be){var Ue={};return Ue[O.id+".aaxis.min"]=Be.a,Ue[O.id+".baxis.min"]=Be.b,Ue[O.id+".caxis.min"]=Be.c,Ue}function ne(Be,Ue){var De=B._fullLayout.clickmode;z(B),Be===2&&(B.emit("plotly_doubleclick",null),o.call("_guiRelayout",B,se({a:0,b:0,c:0}))),De.indexOf("select")>-1&&Be===1&&d(Ue,B,[O.xaxis],[O.yaxis],O.id,O.dragOptions),De.indexOf("event")>-1&&l.click(B,Ue,O.id)}function fe(Be,Ue,De){var He=_.getBoundingClientRect();ie=Ue-He.left,ue=De-He.top,B._fullLayout._calcInverseTransform(B);var nt=B._fullLayout._invTransform,lt=L.apply3DTransform(nt)(ie,ue);ie=lt[0],ue=lt[1],J={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},ae=J,Y=O.aaxis.range[1]-J.a,j=P(O.graphDiv._fullLayout[O.id].bgcolor).getLuminance(),q="M0,"+O.h+"L"+O.w/2+", 0L"+O.w+","+O.h+"Z",oe=!1,Q=W.append("path").attr("class","zoombox").attr("transform",M(O.x0,O.y0)).style({fill:j>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",q),X=W.append("path").attr("class","zoombox-corners").attr("transform",M(O.x0,O.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),O.clearOutline(B)}function ye(Be,Ue){return 1-Ue/O.h}function Se(Be,Ue){return 1-(Be+(O.h-Ue)/Math.sqrt(3))/O.w}function we(Be,Ue){return(Be-(O.h-Ue)/Math.sqrt(3))/O.w}function _e(Be,Ue){var De=ie+Be*$,He=ue+Ue*te,nt=Math.max(0,Math.min(1,ye(ie,ue),ye(De,He))),lt=Math.max(0,Math.min(1,Se(ie,ue),Se(De,He))),$e=Math.max(0,Math.min(1,we(ie,ue),we(De,He))),qe=(nt/2+$e)*O.w,ct=(1-nt/2-lt)*O.w,dt=(qe+ct)/2,gt=ct-qe,At=(1-nt)*O.h,Rt=At-gt/m;gt<C.MINZOOM?(ae=J,Q.attr("d",q),X.attr("d","M0,0Z")):(ae={a:J.a+nt*Y,b:J.b+lt*Y,c:J.c+$e*Y},Q.attr("d",q+"M"+qe+","+At+"H"+ct+"L"+dt+","+Rt+"L"+qe+","+At+"Z"),X.attr("d","M"+ie+","+ue+N+"M"+qe+","+At+x+"M"+ct+","+At+k+"M"+dt+","+Rt+I)),oe||(Q.transition().style("fill",j>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),X.transition().style("opacity",1).duration(200),oe=!0),B.emit("plotly_relayouting",se(ae))}function ke(){z(B),ae!==J&&(o.call("_guiRelayout",B,se(ae)),F&&B.data&&B._context.showTips&&(L.notifier(v(B,"Double-click to zoom back out"),"long"),F=!1))}function Me(){J={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},ae=J}function me(Be,Ue){var De=Be/O.xaxis._m,He=Ue/O.yaxis._m;ae={a:J.a-He,b:J.b+(De+He)/2,c:J.c-(De-He)/2};var nt=[ae.a,ae.b,ae.c].sort(L.sorterAsc),lt={a:nt.indexOf(ae.a),b:nt.indexOf(ae.b),c:nt.indexOf(ae.c)};nt[0]<0&&(nt[1]+nt[0]/2<0?(nt[2]+=nt[0]+nt[1],nt[0]=nt[1]=0):(nt[2]+=nt[0]/2,nt[1]+=nt[0]/2,nt[0]=0),ae={a:nt[lt.a],b:nt[lt.b],c:nt[lt.c]},Ue=(J.a-ae.a)*O.yaxis._m,Be=(J.c-ae.c-J.b+ae.b)*O.xaxis._m);var $e=M(O.x0+Be,O.y0+Ue);O.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",$e);var qe=M(-Be,-Ue);O.clipDefRelative.select("path").attr("transform",qe),O.aaxis.range=[ae.a,O.sum-ae.b-ae.c],O.baxis.range=[O.sum-ae.a-ae.c,ae.b],O.caxis.range=[O.sum-ae.a-ae.b,ae.c],O.drawAxes(!1),O._hasClipOnAxisFalse&&O.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,O),B.emit("plotly_relayouting",se(ae))}function Ee(){o.call("_guiRelayout",B,se(ae))}_.onmousemove=function(Be){l.hover(B,Be,O.id),B._fullLayout._lasthover=_,B._fullLayout._hoversubplot=O.id},_.onmouseout=function(Be){B._dragging||u.unhover(B,Be)},u.init(this.dragOptions)};function z(O){y.select(O).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(G,V,e){var y=e(47769),P=e(64213),o=e(75138),L=e(41965),M=e(24401).addStyleRule,v=e(1426),p=e(9012),r=e(10820),t=v.extendFlat,i=v.extendDeepAll;V.modules={},V.allCategories={},V.allTypes=[],V.subplotsRegistry={},V.transformsRegistry={},V.componentsRegistry={},V.layoutArrayContainers=[],V.layoutArrayRegexes=[],V.traceLayoutAttributes={},V.localeRegistry={},V.apiMethodRegistry={},V.collectableSubplotTypes=null,V.register=function(w){if(V.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<w.length;C++){var b=w[C];if(!b)throw new Error("Invalid module was attempted to be registered!");switch(b.moduleType){case"trace":n(b);break;case"transform":l(b);break;case"component":u(b);break;case"locale":g(b);break;case"apiMethod":var S=b.name;V.apiMethodRegistry[S]=b.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},V.getModule=function(A){var w=V.modules[d(A)];return w?w._module:!1},V.traceIs=function(A,w){if(A=d(A),A==="various")return!1;var C=V.modules[A];return C||(A&&y.log("Unrecognized trace type "+A+"."),C=V.modules[p.type.dflt]),!!C.categories[w]},V.getTransformIndices=function(A,w){for(var C=[],b=A.transforms||[],S=0;S<b.length;S++)b[S].type===w&&C.push(S);return C},V.hasTransform=function(A,w){for(var C=A.transforms||[],b=0;b<C.length;b++)if(C[b].type===w)return!0;return!1},V.getComponentMethod=function(A,w){var C=V.componentsRegistry[A];return C&&C[w]||P},V.call=function(){var A=arguments[0],w=[].slice.call(arguments,1);return V.apiMethodRegistry[A].apply(null,w)};function n(A){var w=A.name,C=A.categories,b=A.meta;if(V.modules[w]){y.log("Type "+w+" already registered");return}V.subplotsRegistry[A.basePlotModule.name]||c(A.basePlotModule);for(var S={},m=0;m<C.length;m++)S[C[m]]=!0,V.allCategories[C[m]]=!0;V.modules[w]={_module:A,categories:S},b&&Object.keys(b).length&&(V.modules[w].meta=b),V.allTypes.push(w);for(var a in V.componentsRegistry)T(a,w);A.layoutAttributes&&t(V.traceLayoutAttributes,A.layoutAttributes);var E=A.basePlotModule,x=E.name;if(x==="mapbox"){var k=E.constants.styleRules;for(var I in k)M(".js-plotly-plot .plotly .mapboxgl-"+I,k[I])}(x==="geo"||x==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function c(A){var w=A.name;if(V.subplotsRegistry[w]){y.log("Plot type "+w+" already registered.");return}f(A),V.subplotsRegistry[w]=A;for(var C in V.componentsRegistry)s(C,A.name)}function u(A){if(typeof A.name!="string")throw new Error("Component module *name* must be a string.");var w=A.name;V.componentsRegistry[w]=A,A.layoutAttributes&&(A.layoutAttributes._isLinkedToArray&&o(V.layoutArrayContainers,w),f(A));for(var C in V.modules)T(w,C);for(var b in V.subplotsRegistry)s(w,b);for(var S in V.transformsRegistry)h(w,S);A.schema&&A.schema.layout&&i(r,A.schema.layout)}function l(A){if(typeof A.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+A.name,C=typeof A.transform=="function",b=typeof A.calcTransform=="function";if(!C&&!b)throw new Error(w+" is missing a *transform* or *calcTransform* method.");C&&b&&y.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(A.attributes)||y.log(w+" registered without an *attributes* object."),typeof A.supplyDefaults!="function"&&y.log(w+" registered without a *supplyDefaults* method."),V.transformsRegistry[A.name]=A;for(var S in V.componentsRegistry)h(S,A.name)}function g(A){var w=A.name,C=w.split("-")[0],b=A.dictionary,S=A.format,m=b&&Object.keys(b).length,a=S&&Object.keys(S).length,E=V.localeRegistry,x=E[w];if(x||(E[w]=x={}),C!==w){var k=E[C];k||(E[C]=k={}),m&&k.dictionary===x.dictionary&&(k.dictionary=b),a&&k.format===x.format&&(k.format=S)}m&&(x.dictionary=b),a&&(x.format=S)}function f(A){if(A.layoutAttributes){var w=A.layoutAttributes._arrayAttrRegexps;if(w)for(var C=0;C<w.length;C++)o(V.layoutArrayRegexes,w[C])}}function T(A,w){var C=V.componentsRegistry[A].schema;if(!(!C||!C.traces)){var b=C.traces[w];b&&i(V.modules[w]._module.attributes,b)}}function h(A,w){var C=V.componentsRegistry[A].schema;if(!(!C||!C.transforms)){var b=C.transforms[w];b&&i(V.transformsRegistry[w].attributes,b)}}function s(A,w){var C=V.componentsRegistry[A].schema;if(!(!C||!C.subplots)){var b=V.subplotsRegistry[w],S=b.layoutAttributes,m=b.attr==="subplot"?b.name:b.attr;Array.isArray(m)&&(m=m[0]);var a=C.subplots[m];S&&a&&i(S,a)}}function d(A){return typeof A=="object"&&(A=A.type),A}},61914:function(G,V,e){var y=e(73972),P=e(71828),o=P.extendFlat,L=P.extendDeep;function M(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}G.exports=function(r,t){var i,n=r.data,c=r.layout,u=L([],n),l=L({},c,M(t.tileClass)),g=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var f=Object.keys(l);for(i=0;i<f.length;i++)v(f[i])&&(l[f[i]].title={text:""});for(i=0;i<u.length;i++){var T=u[i];T.showscale=!1,T.marker&&(T.marker.showscale=!1),y.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(t.annotations))for(i=0;i<t.annotations.length;i++)l.annotations.push(t.annotations[i]);var h=Object.keys(l).filter(function(C){return C.match(/^scene\d*$/)});if(h.length){var s={};for(t.tileClass==="thumbnail"&&(s={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<h.length;i++){var d=l[h[i]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),o(d.xaxis,s),o(d.yaxis,s),o(d.zaxis,s),d._scene=null}}var A=document.createElement("div");t.tileClass&&(A.className=t.tileClass);var w={gd:A,td:A,layout:l,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:g.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=M(t.tileClass),w}},7239:function(G,V,e){var y=e(71828),P=e(403),o=e(22435),L=e(25095);function M(v,p){var r;return y.isPlainObject(v)||(r=y.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,i){r&&r._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),y.isIE()&&p.format!=="svg"&&i(new Error(L.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=P(v,p),c=p.filename||v.fn||"newplot";c+="."+p.format.replace("-","."),n.then(function(u){return r&&(r._snapshotInProgress=!1),o(u,c,p.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),i(u)})})}G.exports=M},22435:function(G,V,e){var y=e(71828),P=e(25095);function o(L,M,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(i,n){var c,u;if(y.isIE())return c=P.createBlob(L,"svg"),window.navigator.msSaveBlob(c,M),c=null,i(M);if(r)return c=P.createBlob(L,v),u=P.createObjectURL(c),p.href=u,p.download=M,document.body.appendChild(p),p.click(),document.body.removeChild(p),P.revokeObjectURL(u),c=null,i(M);if(y.isSafari()){var l=v==="svg"?",":";base64,";return P.octetStream(l+encodeURIComponent(L)),i(M)}n(new Error("download error"))});return t}G.exports=o},25095:function(G,V,e){var y=e(73972);V.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},V.getRedrawFunc=function(L){return function(){y.getComponentMethod("colorbar","draw")(L)}},V.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},V.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var P=window.URL||window.webkitURL;V.createObjectURL=function(L){return P.createObjectURL(L)},V.revokeObjectURL=function(L){return P.revokeObjectURL(L)},V.createBlob=function(L,M){if(M==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(M==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=o(window.atob(L));return new window.Blob([v],{type:"image/"+M})},V.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function o(L){for(var M=L.length,v=new ArrayBuffer(M),p=new Uint8Array(v),r=0;r<M;r++)p[r]=L.charCodeAt(r);return v}V.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,V.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(G,V,e){var y=e(25095),P={getDelay:y.getDelay,getRedrawFunc:y.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};G.exports=P},70942:function(G,V,e){var y=e(71828),P=e(15398).EventEmitter,o=e(25095);function L(M){var v=M.emitter||new P,p=new Promise(function(r,t){var i=window.Image,n=M.svg,c=M.format||"png";if(y.isIE()&&c!=="svg"){var u=new Error(o.MSG_IE_BAD_FORMAT);return t(u),M.promise?p:v.emit("error",u)}var l=M.canvas,g=M.scale||1,f=M.width||300,T=M.height||150,h=g*f,s=g*T,d=l.getContext("2d",{willReadFrequently:!0}),A=new i,w,C;c==="svg"||y.isSafari()?C=o.encodeSVG(n):(w=o.createBlob(n,"svg"),C=o.createObjectURL(w)),l.width=h,l.height=s,A.onload=function(){var b;switch(w=null,o.revokeObjectURL(C),c!=="svg"&&d.drawImage(A,0,0,h,s),c){case"jpeg":b=l.toDataURL("image/jpeg");break;case"png":b=l.toDataURL("image/png");break;case"webp":b=l.toDataURL("image/webp");break;case"svg":b=C;break;default:var S="Image format is not jpeg, png, svg or webp.";if(t(new Error(S)),!M.promise)return v.emit("error",S)}r(b),M.promise||v.emit("success",b)},A.onerror=function(b){if(w=null,o.revokeObjectURL(C),t(b),!M.promise)return v.emit("error",b)},A.src=C});return M.promise?p:v}G.exports=L},56395:function(G,V,e){var y=e(15398).EventEmitter,P=e(73972),o=e(71828),L=e(25095),M=e(61914),v=e(5900),p=e(70942);function r(t,i){var n=new y,c=M(t,{format:"png"}),u=c.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function l(){var f=L.getDelay(u._fullLayout);setTimeout(function(){var T=v(u),h=document.createElement("canvas");h.id=o.randstr(),n=p({format:i.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:h,emitter:n,svg:T}),n.clean=function(){u&&document.body.removeChild(u)}},f)}var g=L.getRedrawFunc(u);return P.call("_doPlot",u,c.data,c.layout,c.config).then(g).then(l).catch(function(f){n.emit("error",f)}),n}G.exports=r},5900:function(G,V,e){var y=e(39898),P=e(71828),o=e(91424),L=e(7901),M=e(77922),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var c=y.select("body").append("div").style({display:"none"}).html(""),u=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":c.html(l).text()});return c.remove(),u}function i(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(c,u,l){var g=c._fullLayout,f=g._paper,T=g._toppaper,h=g.width,s=g.height,d;f.insert("rect",":first-child").call(o.setRect,0,0,h,s).call(L.fill,g.paper_bgcolor);var A=g._basePlotModules||[];for(d=0;d<A.length;d++){var w=A[d];w.toSVG&&w.toSVG(c)}if(T){var C=T.node().childNodes,b=Array.prototype.slice.call(C);for(d=0;d<b.length;d++){var S=b[d];S.childNodes.length&&f.node().appendChild(S)}}g._draggers&&g._draggers.remove(),f.node().style.background="",f.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var a=y.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){a.remove();return}else a.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&a.style("font-family",E.replace(v,p))}),f.selectAll(".gradient_filled,.pattern_filled").each(function(){var a=y.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&a.style("fill",E.replace(v,p));var x=this.style.stroke;x&&x.indexOf("url(")!==-1&&a.style("stroke",x.replace(v,p))}),(u==="pdf"||u==="eps")&&f.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),f.node().setAttributeNS(M.xmlns,"xmlns",M.svg),f.node().setAttributeNS(M.xmlns,"xmlns:xlink",M.xlink),u==="svg"&&l&&(f.attr("width",l*h),f.attr("height",l*s),f.attr("viewBox","0 0 "+h+" "+s));var m=new window.XMLSerializer().serializeToString(f.node());return m=t(m),m=i(m),m=m.replace(r,"'"),P.isIE()&&(m=m.replace(/"/gi,"'"),m=m.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),m=m.replace(/(\\')/gi,'"')),m}},75341:function(G,V,e){var y=e(71828);G.exports=function(o,L){for(var M=0;M<o.length;M++)o[M].i=M;y.mergeArray(L.text,o,"tx"),y.mergeArray(L.hovertext,o,"htx");var v=L.marker;if(v){y.mergeArray(v.opacity,o,"mo",!0),y.mergeArray(v.color,o,"mc");var p=v.line;p&&(y.mergeArray(p.color,o,"mlc"),y.mergeArrayCastPositive(p.width,o,"mlw"))}}},1486:function(G,V,e){var y=e(82196),P=e(12663).axisHoverFormat,o=e(5386).fF,L=e(5386).si,M=e(50693),v=e(41940),p=e(97313),r=e(79952).u,t=e(1426).extendFlat,i=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=y.marker,c=n.line,u=t({},c.width,{dflt:0}),l=t({width:u,editType:"calc"},M("marker.line")),g=t({line:l,editType:"calc"},M("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r});G.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),text:y.text,texttemplate:L({editType:"plot"},{keys:p.eventDataKeys}),hovertext:y.hovertext,hovertemplate:o({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},i,{}),insidetextfont:t({},i,{}),outsidetextfont:t({},i,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},y.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:{marker:{opacity:y.selected.marker.opacity,color:y.selected.marker.color,editType:"style"},textfont:y.selected.textfont,editType:"style"},unselected:{marker:{opacity:y.unselected.marker.opacity,color:y.unselected.marker.color,editType:"style"},textfont:y.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(G,V,e){var y=e(89298),P=e(42973),o=e(52075).hasColorscale,L=e(78803),M=e(75341),v=e(66279);G.exports=function(r,t){var i=y.getFromId(r,t.xaxis||"x"),n=y.getFromId(r,t.yaxis||"y"),c,u,l,g,f,T,h={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(c=i.makeCalcdata(t,"x",h),l=n.makeCalcdata(t,"y"),g=P(t,n,"y",l),f=!!t.yperiodalignment,T="y"):(c=n.makeCalcdata(t,"y",h),l=i.makeCalcdata(t,"x"),g=P(t,i,"x",l),f=!!t.xperiodalignment,T="x"),u=g.vals;for(var s=Math.min(u.length,c.length),d=new Array(s),A=0;A<s;A++)d[A]={p:u[A],s:c[A]},f&&(d[A].orig_p=l[A],d[A][T+"End"]=g.ends[A],d[A][T+"Start"]=g.starts[A]),t.ids&&(d[A].id=String(t.ids[A]));return o(t,"marker")&&L(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),o(t,"marker.line")&&L(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(d,t),v(d,t),d}},97313:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(G,V,e){var y=e(92770),P=e(71828).isArrayOrTypedArray,o=e(50606).BADNUM,L=e(73972),M=e(89298),v=e(99082).getAxisGroup,p=e(61546);function r(m,a){for(var E=a.xaxis,x=a.yaxis,k=m._fullLayout,I=m._fullData,N=m.calcdata,F=[],z=[],O=0;O<I.length;O++){var _=I[O];if(_.visible===!0&&L.traceIs(_,"bar")&&_.xaxis===E._id&&_.yaxis===x._id&&(_.orientation==="h"?F.push(N[O]):z.push(N[O]),_._computePh))for(var B=m.calcdata[O],W=0;W<B.length;W++)typeof B[W].ph0=="function"&&(B[W].ph0=B[W].ph0()),typeof B[W].ph1=="function"&&(B[W].ph1=B[W].ph1())}var $={xCat:E.type==="category"||E.type==="multicategory",yCat:x.type==="category"||x.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};t(m,E,x,z,$),t(m,x,E,F,$)}function t(m,a,E,x,k){if(x.length){var I,N,F,z,O;switch(i(E,x),k.mode){case"overlay":n(a,E,x,k);break;case"group":for(I=[],N=[],F=0;F<x.length;F++)z=x[F],O=z[0].trace,O.offset===void 0?N.push(z):I.push(z);N.length&&c(m,a,E,N,k),I.length&&n(a,E,I,k);break;case"stack":case"relative":for(I=[],N=[],F=0;F<x.length;F++)z=x[F],O=z[0].trace,O.base===void 0?N.push(z):I.push(z);N.length&&u(m,a,E,N,k),I.length&&n(a,E,I,k);break}b(x,a)}}function i(m,a){var E,x;for(E=0;E<a.length;E++){var k=a[E],I=k[0].trace,N=I.type==="funnel"?I._base:I.base,F,z=I.orientation==="h"?I.xcalendar:I.ycalendar,O=m.type==="category"||m.type==="multicategory"?function(){return null}:m.d2c;if(P(N)){for(x=0;x<Math.min(N.length,k.length);x++)F=O(N[x],0,z),y(F)?(k[x].b=+F,k[x].hasB=1):k[x].b=0;for(;x<k.length;x++)k[x].b=0}else{F=O(N,0,z);var _=y(F);for(F=_?F:0,x=0;x<k.length;x++)k[x].b=F,_&&(k[x].hasB=1)}}}function n(m,a,E,x){for(var k=0;k<E.length;k++){var I=E[k],N=new p([I],{posAxis:m,sepNegVal:!1,overlapNoMerge:!x.norm});l(m,N,x),x.norm?(A(N),C(a,N,x)):s(a,N)}}function c(m,a,E,x,k){var I=new p(x,{posAxis:a,sepNegVal:!1,overlapNoMerge:!k.norm});g(m,a,I,k),w(I,a),k.norm?(A(I),C(E,I,k)):s(E,I)}function u(m,a,E,x,k){var I=new p(x,{posAxis:a,sepNegVal:k.mode==="relative",overlapNoMerge:!(k.norm||k.mode==="stack"||k.mode==="relative")});l(a,I,k),d(E,I,k);for(var N=0;N<x.length;N++)for(var F=x[N],z=0;z<F.length;z++){var O=F[z];if(O.s!==o){var _=O.b+O.s===I.get(O.p,O.s);_&&(O._outmost=!0)}}k.norm&&C(E,I,k)}function l(m,a,E){for(var x=a.minDiff,k=a.traces,I=x*(1-E.gap),N=I,F=N*(1-(E.groupgap||0)),z=-F/2,O=0;O<k.length;O++){var _=k[O],B=_[0].t;B.barwidth=F,B.poffset=z,B.bargroupwidth=I,B.bardelta=x}a.binWidth=k[0][0].t.barwidth/100,f(a),T(m,a),h(m,a)}function g(m,a,E,x){for(var k=m._fullLayout,I=E.positions,N=E.distinctPositions,F=E.minDiff,z=E.traces,O=z.length,_=I.length!==N.length,B=F*(1-x.gap),W=v(k,a._id)+z[0][0].trace.orientation,$=k._alignmentOpts[W]||{},te=0;te<O;te++){var ie=z[te],ue=ie[0].trace,J=$[ue.alignmentgroup]||{},Y=Object.keys(J.offsetGroups||{}).length,ae;Y?ae=B/Y:ae=_?B/O:B;var j=ae*(1-(x.groupgap||0)),q;Y?q=((2*ue._offsetIndex+1-Y)*ae-j)/2:q=_?((2*te+1-O)*ae-j)/2:-j/2;var oe=ie[0].t;oe.barwidth=j,oe.poffset=q,oe.bargroupwidth=B,oe.bardelta=F}E.binWidth=z[0][0].t.barwidth/100,f(E),T(a,E),h(a,E,_)}function f(m){var a=m.traces,E,x;for(E=0;E<a.length;E++){var k=a[E],I=k[0],N=I.trace,F=I.t,z=N._offset||N.offset,O=F.poffset,_;if(P(z)){for(_=Array.prototype.slice.call(z,0,k.length),x=0;x<_.length;x++)y(_[x])||(_[x]=O);for(x=_.length;x<k.length;x++)_.push(O);F.poffset=_}else z!==void 0&&(F.poffset=z);var B=N._width||N.width,W=F.barwidth;if(P(B)){var $=Array.prototype.slice.call(B,0,k.length);for(x=0;x<$.length;x++)y($[x])||($[x]=W);for(x=$.length;x<k.length;x++)$.push(W);if(F.barwidth=$,z===void 0){for(_=[],x=0;x<k.length;x++)_.push(O+(W-$[x])/2);F.poffset=_}}else B!==void 0&&(F.barwidth=B,z===void 0&&(F.poffset=O+(W-B)/2))}}function T(m,a){for(var E=a.traces,x=S(m),k=0;k<E.length;k++)for(var I=E[k],N=I[0].t,F=N.poffset,z=P(F),O=N.barwidth,_=P(O),B=0;B<I.length;B++){var W=I[B],$=W.w=_?O[B]:O;W.p===void 0&&(W.p=W[x],W["orig_"+x]=W[x]);var te=(z?F[B]:F)+$/2;W[x]=W.p+te}}function h(m,a,E){var x=a.traces,k=a.minDiff,I=k/2;M.minDtick(m,a.minDiff,a.distinctPositions[0],E);for(var N=0;N<x.length;N++){var F=x[N],z=F[0],O=z.trace,_=[],B,W,$,te;for(te=0;te<F.length;te++)B=F[te],W=B.p-I,$=B.p+I,_.push(W,$);if(O.width||O.offset){var ie=z.t,ue=ie.poffset,J=ie.barwidth,Y=P(ue),ae=P(J);for(te=0;te<F.length;te++){B=F[te];var j=Y?ue[te]:ue,q=ae?J[te]:J;W=B.p+j,$=W+q,_.push(W,$)}}O._extremes[m._id]=M.findExtremes(m,_,{padded:!1})}}function s(m,a){for(var E=a.traces,x=S(m),k=0;k<E.length;k++){for(var I=E[k],N=I[0].trace,F=N.type==="scatter",z=N.orientation==="v",O=[],_=!1,B=0;B<I.length;B++){var W=I[B],$=F?0:W.b,te=F?z?W.y:W.x:$+W.s;W[x]=te,O.push(te),W.hasB&&O.push($),(!W.hasB||!W.b)&&(_=!0)}N._extremes[m._id]=M.findExtremes(m,O,{tozero:_,padded:!0})}}function d(m,a,E){var x=S(m),k=a.traces,I,N,F,z,O,_;for(z=0;z<k.length;z++)if(I=k[z],N=I[0].trace,N.type==="funnel")for(O=0;O<I.length;O++)_=I[O],_.s!==o&&a.put(_.p,-.5*_.s);for(z=0;z<k.length;z++){I=k[z],N=I[0].trace,F=N.type==="funnel";var B=[];for(O=0;O<I.length;O++)if(_=I[O],_.s!==o){var W;F?W=_.s:W=_.s+_.b;var $=a.put(_.p,W),te=$+W;_.b=$,_[x]=te,E.norm||(B.push(te),_.hasB&&B.push($))}E.norm||(N._extremes[m._id]=M.findExtremes(m,B,{tozero:!0,padded:!0}))}}function A(m){for(var a=m.traces,E=0;E<a.length;E++)for(var x=a[E],k=0;k<x.length;k++){var I=x[k];I.s!==o&&m.put(I.p,I.b+I.s)}}function w(m,a){for(var E=m.traces,x=0;x<E.length;x++){var k=E[x],I=k[0].trace;if(I.base===void 0)for(var N=new p([k],{posAxis:a,sepNegVal:!0,overlapNoMerge:!0}),F=0;F<k.length;F++){var z=k[F];if(z.p!==o){var O=N.put(z.p,z.b+z.s);O&&(z.b=O)}}}}function C(m,a,E){var x=a.traces,k=S(m),I=E.norm==="fraction"?1:100,N=I/1e9,F=m.l2c(m.c2l(0)),z=E.mode==="stack"?I:F;function O(q){return y(m.c2l(q))&&(q<F-N||q>z+N||!y(F))}for(var _=0;_<x.length;_++){for(var B=x[_],W=B[0].trace,$=[],te=!1,ie=!1,ue=0;ue<B.length;ue++){var J=B[ue];if(J.s!==o){var Y=Math.abs(I/a.get(J.p,J.s));J.b*=Y,J.s*=Y;var ae=J.b,j=ae+J.s;J[k]=j,$.push(j),ie=ie||O(j),J.hasB&&($.push(ae),ie=ie||O(ae)),(!J.hasB||!J.b)&&(te=!0)}}W._extremes[m._id]=M.findExtremes(m,$,{tozero:te,padded:ie})}}function b(m,a){var E=S(a),x={},k,I,N,F=1/0,z=-1/0;for(k=0;k<m.length;k++)for(N=m[k],I=0;I<N.length;I++){var O=N[I].p;y(O)&&(F=Math.min(F,O),z=Math.max(z,O))}var _=1e4/(z-F),B=x.round=function(Y){return String(Math.round(_*(Y-F)))};for(k=0;k<m.length;k++){N=m[k],N[0].t.extents=x;var W=N[0].t.poffset,$=P(W);for(I=0;I<N.length;I++){var te=N[I],ie=te[E]-te.w/2;if(y(ie)){var ue=te[E]+te.w/2,J=B(te.p);x[J]?x[J]=[Math.min(ie,x[J][0]),Math.max(ue,x[J][1])]:x[J]=[ie,ue]}te.p0=te.p+($?W[I]:W),te.p1=te.p0+te.w,te.s0=te.b,te.s1=te.s0+te.s}}}function S(m){return m._id.charAt(0)}G.exports={crossTraceCalc:r,setGroupPositions:t}},90769:function(G,V,e){var y=e(71828),P=e(7901),o=e(73972),L=e(67513),M=e(73927),v=e(98340),p=e(26125),r=e(1486),t=y.coerceFont;function i(u,l,g,f){function T(w,C){return y.coerce(u,l,r,w,C)}var h=L(u,l,f,T);if(!h){l.visible=!1;return}M(u,l,f,T),T("xhoverformat"),T("yhoverformat"),T("orientation",l.x&&!l.y?"h":"v"),T("base"),T("offset"),T("width"),T("text"),T("hovertext"),T("hovertemplate");var s=T("textposition");c(u,l,f,T,s,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(u,l,T,g,f);var d=(l.marker.line||{}).color,A=o.getComponentMethod("errorbars","supplyDefaults");A(u,l,d||P.defaultLine,{axis:"y"}),A(u,l,d||P.defaultLine,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(l,T)}function n(u,l){var g,f;function T(s){return y.coerce(f._input,f,r,s)}if(l.barmode==="group")for(var h=0;h<u.length;h++)f=u[h],f.type==="bar"&&(g=f._input,p(g,f,l,T))}function c(u,l,g,f,T,h){h=h||{};var s=h.moduleHasSelected!==!1,d=h.moduleHasUnselected!==!1,A=h.moduleHasConstrain!==!1,w=h.moduleHasCliponaxis!==!1,C=h.moduleHasTextangle!==!1,b=h.moduleHasInsideanchor!==!1,S=!!h.hasPathbar,m=Array.isArray(T)||T==="auto",a=m||T==="inside",E=m||T==="outside";if(a||E){var x=t(f,"textfont",g.font),k=y.extendFlat({},x),I=u.textfont&&u.textfont.color,N=!I;if(N&&delete k.color,t(f,"insidetextfont",k),S){var F=y.extendFlat({},x);N&&delete F.color,t(f,"pathbar.textfont",F)}E&&t(f,"outsidetextfont",x),s&&f("selected.textfont.color"),d&&f("unselected.textfont.color"),A&&f("constraintext"),w&&f("cliponaxis"),C&&f("textangle"),f("texttemplate")}a&&b&&f("insidetextanchor")}G.exports={supplyDefaults:i,crossTraceDefaults:n,handleText:c}},58065:function(G){G.exports=function(e,y,P){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),P.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(G,V,e){var y=e(92770),P=e(84267),o=e(71828).isArrayOrTypedArray;V.coerceString=function(L,M,v){if(typeof M=="string"){if(M||!L.noBlank)return M}else if((typeof M=="number"||M===!0)&&!L.strict)return String(M);return v!==void 0?v:L.dflt},V.coerceNumber=function(L,M,v){if(y(M)){M=+M;var p=L.min,r=L.max,t=p!==void 0&&M<p||r!==void 0&&M>r;if(!t)return M}return v!==void 0?v:L.dflt},V.coerceColor=function(L,M,v){return P(M).isValid()?M:v!==void 0?v:L.dflt},V.coerceEnumerated=function(L,M,v){return L.coerceNumber&&(M=+M),L.values.indexOf(M)!==-1?M:v!==void 0?v:L.dflt},V.getValue=function(L,M){var v;return o(L)?M<L.length&&(v=L[M]):v=L,v},V.getLineWidth=function(L,M){var v=0<M.mlw?M.mlw:o(L.marker.line.width)?0:L.marker.line.width;return v}},95423:function(G,V,e){var y=e(30211),P=e(73972),o=e(7901),L=e(71828).fillText,M=e(69383).getLineWidth,v=e(89298).hoverLabelText,p=e(50606).BADNUM;function r(n,c,u,l,g){var f=t(n,c,u,l,g);if(f){var T=f.cd,h=T[0].trace,s=T[f.index];return f.color=i(h,s),P.getComponentMethod("errorbars","hoverInfo")(s,h,f),[f]}}function t(n,c,u,l,g){var f=n.cd,T=f[0].trace,h=f[0].t,s=l==="closest",d=T.type==="waterfall",A=n.maxHoverDistance,w=n.maxSpikeDistance,C,b,S,m,a,E,x;T.orientation==="h"?(C=u,b=c,S="y",m="x",a=ue,E=$):(C=c,b=u,S="x",m="y",E=ue,a=$);var k=T[S+"period"],I=s||k;function N(fe){return z(fe,-1)}function F(fe){return z(fe,1)}function z(fe,ye){var Se=fe.w;return fe[S]+ye*Se/2}function O(fe){return fe[S+"End"]-fe[S+"Start"]}var _=s?N:k?function(fe){return fe.p-O(fe)/2}:function(fe){return Math.min(N(fe),fe.p-h.bardelta/2)},B=s?F:k?function(fe){return fe.p+O(fe)/2}:function(fe){return Math.max(F(fe),fe.p+h.bardelta/2)};function W(fe,ye,Se){return g.finiteRange&&(Se=0),y.inbox(fe-C,ye-C,Se+Math.min(1,Math.abs(ye-fe)/x)-1)}function $(fe){return W(_(fe),B(fe),A)}function te(fe){return W(N(fe),F(fe),w)}function ie(fe){var ye=fe[m];if(d){var Se=Math.abs(fe.rawS)||0;b>0?ye+=Se:b<0&&(ye-=Se)}return ye}function ue(fe){var ye=b,Se=fe.b,we=ie(fe);return y.inbox(Se-ye,we-ye,A+(we-ye)/(we-Se)-1)}function J(fe){var ye=b,Se=fe.b,we=ie(fe);return y.inbox(Se-ye,we-ye,w+(we-ye)/(we-Se)-1)}var Y=n[S+"a"],ae=n[m+"a"];x=Math.abs(Y.r2c(Y.range[1])-Y.r2c(Y.range[0]));function j(fe){return(a(fe)+E(fe))/2}var q=y.getDistanceFunction(l,a,E,j);if(y.getClosest(f,q,n),n.index!==!1&&f[n.index].p!==p){I||(_=function(fe){return Math.min(N(fe),fe.p-h.bargroupwidth/2)},B=function(fe){return Math.max(F(fe),fe.p+h.bargroupwidth/2)});var oe=n.index,Q=f[oe],X=T.base?Q.b+Q.s:Q.s;n[m+"0"]=n[m+"1"]=ae.c2p(Q[m],!0),n[m+"LabelVal"]=X;var se=h.extents[h.extents.round(Q.p)];n[S+"0"]=Y.c2p(s?_(Q):se[0],!0),n[S+"1"]=Y.c2p(s?B(Q):se[1],!0);var ne=Q.orig_p!==void 0;return n[S+"LabelVal"]=ne?Q.orig_p:Q.p,n.labelLabel=v(Y,n[S+"LabelVal"],T[S+"hoverformat"]),n.valueLabel=v(ae,n[m+"LabelVal"],T[m+"hoverformat"]),n.baseLabel=v(ae,Q.b,T[m+"hoverformat"]),n.spikeDistance=(J(Q)+te(Q))/2,n[S+"Spike"]=Y.c2p(Q.p,!0),L(Q,T,n),n.hovertemplate=T.hovertemplate,n}}function i(n,c){var u=c.mcc||n.marker.color,l=c.mlcc||n.marker.line.color,g=M(n,c);if(o.opacity(u))return u;if(o.opacity(l)&&g)return l}G.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:i}},60822:function(G,V,e){G.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(G,V,e){var y=e(73972),P=e(89298),o=e(71828),L=e(43641);G.exports=function(M,v,p){function r(h,s){return o.coerce(M,v,L,h,s)}for(var t=!1,i=!1,n=!1,c={},u=r("barmode"),l=0;l<p.length;l++){var g=p[l];if(y.traceIs(g,"bar")&&g.visible)t=!0;else continue;if(u==="group"){var f=g.xaxis+g.yaxis;c[f]&&(n=!0),c[f]=!0}if(g.visible&&g.type==="histogram"){var T=P.getFromId({_fullLayout:v},g[g.orientation==="v"?"xaxis":"yaxis"]);T.type!=="category"&&(i=!0)}}if(!t){delete v.barmode;return}u!=="overlay"&&r("barnorm"),r("bargap",i&&!n?0:.2),r("bargroupgap")}},17295:function(G,V,e){var y=e(39898),P=e(92770),o=e(71828),L=e(63893),M=e(7901),v=e(91424),p=e(73972),r=e(89298).tickText,t=e(72597),i=t.recordMinTextSize,n=t.clearMinTextSize,c=e(16688),u=e(69383),l=e(97313),g=e(1486),f=g.text,T=g.textposition,h=e(23469).appendArrayPointValue,s=l.TEXTPAD;function d(_){return _.id}function A(_){if(_.ids)return d}function w(_,B){return _<B?1:-1}function C(_,B,W,$){var te=[],ie=[],ue=$?B:W,J=$?W:B;return te[0]=ue.c2p(_.s0,!0),ie[0]=J.c2p(_.p0,!0),te[1]=ue.c2p(_.s1,!0),ie[1]=J.c2p(_.p1,!0),$?[te,ie]:[ie,te]}function b(_,B,W,$){if(!B.uniformtext.mode&&S(W)){var te;return $&&(te=$()),_.transition().duration(W.duration).ease(W.easing).each("end",function(){te&&te()}).each("interrupt",function(){te&&te()})}else return _}function S(_){return _&&_.duration>0}function m(_,B,W,$,te,ie){var ue=B.xaxis,J=B.yaxis,Y=_._fullLayout,ae=_._context.staticPlot;te||(te={mode:Y.barmode,norm:Y.barmode,gap:Y.bargap,groupgap:Y.bargroupgap},n("bar",Y));var j=o.makeTraceGroups($,W,"trace bars").each(function(q){var oe=y.select(this),Q=q[0].trace,X=Q.type==="waterfall",se=Q.type==="funnel",ne=Q.type==="bar",fe=ne||se,ye=0;X&&Q.connector.visible&&Q.connector.mode==="between"&&(ye=Q.connector.line.width/2);var Se=Q.orientation==="h",we=S(te),_e=o.ensureSingle(oe,"g","points"),ke=A(Q),Me=_e.selectAll("g.point").data(o.identity,ke);Me.enter().append("g").classed("point",!0),Me.exit().remove(),Me.each(function(Ee,Be){var Ue=y.select(this),De=C(Ee,ue,J,Se),He=De[0][0],nt=De[0][1],lt=De[1][0],$e=De[1][1],qe=(Se?nt-He:$e-lt)===0;qe&&fe&&u.getLineWidth(Q,Ee)&&(qe=!1),qe||(qe=!P(He)||!P(nt)||!P(lt)||!P($e)),Ee.isBlank=qe,qe&&(Se?nt=He:$e=lt),ye&&!qe&&(Se?(He-=w(He,nt)*ye,nt+=w(He,nt)*ye):(lt-=w(lt,$e)*ye,$e+=w(lt,$e)*ye));var ct,dt;if(Q.type==="waterfall"){if(!qe){var gt=Q[Ee.dir].marker;ct=gt.line.width,dt=gt.color}}else ct=u.getLineWidth(Q,Ee),dt=Ee.mc||Q.marker.color;function At(Oe){var Le=y.round(ct/2%1,2);return te.gap===0&&te.groupgap===0?y.round(Math.round(Oe)-Le,2):Oe}function Rt(Oe,Le,xe){return xe&&Oe===Le?Oe:Math.abs(Oe-Le)>=2?At(Oe):Oe>Le?Math.ceil(Oe):Math.floor(Oe)}if(!_._context.staticPlot){var Vt=M.opacity(dt),Je=Vt<1||ct>.01?At:Rt;He=Je(He,nt,Se),nt=Je(nt,He,Se),lt=Je(lt,$e,!Se),$e=Je($e,lt,!Se)}var Ve=b(o.ensureSingle(Ue,"path"),Y,te,ie);if(Ve.style("vector-effect",ae?"none":"non-scaling-stroke").attr("d",isNaN((nt-He)*($e-lt))||qe&&_._context.staticPlot?"M0,0Z":"M"+He+","+lt+"V"+$e+"H"+nt+"V"+lt+"Z").call(v.setClipUrl,B.layerClipId,_),!Y.uniformtext.mode&&we){var Ie=v.makePointStyleFns(Q);v.singlePointStyle(Ee,Ve,Q,Ie,_)}a(_,B,Ue,q,Be,He,nt,lt,$e,te,ie),B.layerClipId&&v.hideOutsideRangePoint(Ee,Ue.select("text"),ue,J,Q.xcalendar,Q.ycalendar)});var me=Q.cliponaxis===!1;v.setClipUrl(oe,me?null:B.layerClipId,_)});p.getComponentMethod("errorbars","plot")(_,j,B,te)}function a(_,B,W,$,te,ie,ue,J,Y,ae,j){var q=B.xaxis,oe=B.yaxis,Q=_._fullLayout,X;function se(Oe,Le,xe){var pe=o.ensureSingle(Oe,"text").text(Le).attr({class:"bartext bartext-"+X,"text-anchor":"middle","data-notex":1}).call(v.font,xe).call(L.convertToTspans,_);return pe}var ne=$[0].trace,fe=ne.orientation==="h",ye=N(Q,$,te,q,oe);X=F(ne,te);var Se=ae.mode==="stack"||ae.mode==="relative",we=$[te],_e=!Se||we._outmost;if(!ye||X==="none"||(we.isBlank||ie===ue||J===Y)&&(X==="auto"||X==="inside")){W.select("text").remove();return}var ke=Q.font,Me=c.getBarColor($[te],ne),me=c.getInsideTextFont(ne,te,ke,Me),Ee=c.getOutsideTextFont(ne,te,ke),Be=W.datum();fe?q.type==="log"&&Be.s0<=0&&(q.range[0]<q.range[1]?ie=0:ie=q._length):oe.type==="log"&&Be.s0<=0&&(oe.range[0]<oe.range[1]?J=oe._length:J=0);var Ue=Math.abs(ue-ie)-2*s,De=Math.abs(Y-J)-2*s,He,nt,lt,$e,qe;if(X==="outside"&&!_e&&!we.hasB&&(X="inside"),X==="auto")if(_e){X="inside",qe=o.ensureUniformFontSize(_,me),He=se(W,ye,qe),nt=v.bBox(He.node()),lt=nt.width,$e=nt.height;var ct=lt>0&&$e>0,dt=lt<=Ue&&$e<=De,gt=lt<=De&&$e<=Ue,At=fe?Ue>=lt*(De/$e):De>=$e*(Ue/lt);ct&&(dt||gt||At)?X="inside":(X="outside",He.remove(),He=null)}else X="inside";if(!He){qe=o.ensureUniformFontSize(_,X==="outside"?Ee:me),He=se(W,ye,qe);var Rt=He.attr("transform");if(He.attr("transform",""),nt=v.bBox(He.node()),lt=nt.width,$e=nt.height,He.attr("transform",Rt),lt<=0||$e<=0){He.remove();return}}var Vt=ne.textangle,Je,Ve;X==="outside"?(Ve=ne.constraintext==="both"||ne.constraintext==="outside",Je=I(ie,ue,J,Y,nt,{isHorizontal:fe,constrained:Ve,angle:Vt})):(Ve=ne.constraintext==="both"||ne.constraintext==="inside",Je=k(ie,ue,J,Y,nt,{isHorizontal:fe,constrained:Ve,angle:Vt,anchor:ne.insidetextanchor})),Je.fontSize=qe.size,i(ne.type==="histogram"?"bar":ne.type,Je,Q),we.transform=Je;var Ie=b(He,Q,ae,j);o.setTransormAndDisplay(Ie,Je)}function E(_){return _==="auto"?0:_}function x(_,B){var W=Math.PI/180*B,$=Math.abs(Math.sin(W)),te=Math.abs(Math.cos(W));return{x:_.width*te+_.height*$,y:_.width*$+_.height*te}}function k(_,B,W,$,te,ie){var ue=!!ie.isHorizontal,J=!!ie.constrained,Y=ie.angle||0,ae=ie.anchor||"end",j=ae==="end",q=ae==="start",oe=ie.leftToRight||0,Q=(oe+1)/2,X=1-Q,se=te.width,ne=te.height,fe=Math.abs(B-_),ye=Math.abs($-W),Se=fe>2*s&&ye>2*s?s:0;fe-=2*Se,ye-=2*Se;var we=E(Y);Y==="auto"&&!(se<=fe&&ne<=ye)&&(se>fe||ne>ye)&&(!(se>ye||ne>fe)||se<ne!=fe<ye)&&(we+=90);var _e=x(te,we),ke=1;J&&(ke=Math.min(1,fe/_e.x,ye/_e.y));var Me=te.left*X+te.right*Q,me=(te.top+te.bottom)/2,Ee=(_+s)*X+(B-s)*Q,Be=(W+$)/2,Ue=0,De=0;if(q||j){var He=(ue?_e.x:_e.y)/2,nt=ue?w(_,B):w(W,$);ue?q?(Ee=_+nt*Se,Ue=-nt*He):(Ee=B-nt*Se,Ue=nt*He):q?(Be=W+nt*Se,De=-nt*He):(Be=$-nt*Se,De=nt*He)}return{textX:Me,textY:me,targetX:Ee,targetY:Be,anchorX:Ue,anchorY:De,scale:ke,rotate:we}}function I(_,B,W,$,te,ie){var ue=!!ie.isHorizontal,J=!!ie.constrained,Y=ie.angle||0,ae=te.width,j=te.height,q=Math.abs(B-_),oe=Math.abs($-W),Q;ue?Q=oe>2*s?s:0:Q=q>2*s?s:0;var X=1;J&&(X=ue?Math.min(1,oe/j):Math.min(1,q/ae));var se=E(Y),ne=x(te,se),fe=(ue?ne.x:ne.y)/2,ye=(te.left+te.right)/2,Se=(te.top+te.bottom)/2,we=(_+B)/2,_e=(W+$)/2,ke=0,Me=0,me=ue?w(B,_):w(W,$);return ue?(we=B-me*Q,ke=me*fe):(_e=$+me*Q,Me=-me*fe),{textX:ye,textY:Se,targetX:we,targetY:_e,anchorX:ke,anchorY:Me,scale:X,rotate:se}}function N(_,B,W,$,te){var ie=B[0].trace,ue=ie.texttemplate,J;return ue?J=z(_,B,W,$,te):ie.textinfo?J=O(B,W,$,te):J=u.getValue(ie.text,W),u.coerceString(f,J)}function F(_,B){var W=u.getValue(_.textposition,B);return u.coerceEnumerated(T,W)}function z(_,B,W,$,te){var ie=B[0].trace,ue=o.castOption(ie,W,"texttemplate");if(!ue)return"";var J=ie.type==="histogram",Y=ie.type==="waterfall",ae=ie.type==="funnel",j=ie.orientation==="h",q,oe,Q,X;j?(q="y",oe=te,Q="x",X=$):(q="x",oe=$,Q="y",X=te);function se(ke){return r(oe,oe.c2l(ke),!0).text}function ne(ke){return r(X,X.c2l(ke),!0).text}var fe=B[W],ye={};ye.label=fe.p,ye.labelLabel=ye[q+"Label"]=se(fe.p);var Se=o.castOption(ie,fe.i,"text");(Se===0||Se)&&(ye.text=Se),ye.value=fe.s,ye.valueLabel=ye[Q+"Label"]=ne(fe.s);var we={};h(we,ie,fe.i),(J||we.x===void 0)&&(we.x=j?ye.value:ye.label),(J||we.y===void 0)&&(we.y=j?ye.label:ye.value),(J||we.xLabel===void 0)&&(we.xLabel=j?ye.valueLabel:ye.labelLabel),(J||we.yLabel===void 0)&&(we.yLabel=j?ye.labelLabel:ye.valueLabel),Y&&(ye.delta=+fe.rawS||fe.s,ye.deltaLabel=ne(ye.delta),ye.final=fe.v,ye.finalLabel=ne(ye.final),ye.initial=ye.final-ye.delta,ye.initialLabel=ne(ye.initial)),ae&&(ye.value=fe.s,ye.valueLabel=ne(ye.value),ye.percentInitial=fe.begR,ye.percentInitialLabel=o.formatPercent(fe.begR),ye.percentPrevious=fe.difR,ye.percentPreviousLabel=o.formatPercent(fe.difR),ye.percentTotal=fe.sumR,ye.percenTotalLabel=o.formatPercent(fe.sumR));var _e=o.castOption(ie,fe.i,"customdata");return _e&&(ye.customdata=_e),o.texttemplateString(ue,ye,_._d3locale,we,ye,ie._meta||{})}function O(_,B,W,$){var te=_[0].trace,ie=te.orientation==="h",ue=te.type==="waterfall",J=te.type==="funnel";function Y(_e){var ke=ie?$:W;return r(ke,_e,!0).text}function ae(_e){var ke=ie?W:$;return r(ke,+_e,!0).text}var j=te.textinfo,q=_[B],oe=j.split("+"),Q=[],X,se=function(_e){return oe.indexOf(_e)!==-1};if(se("label")&&Q.push(Y(_[B].p)),se("text")&&(X=o.castOption(te,q.i,"text"),(X===0||X)&&Q.push(X)),ue){var ne=+q.rawS||q.s,fe=q.v,ye=fe-ne;se("initial")&&Q.push(ae(ye)),se("delta")&&Q.push(ae(ne)),se("final")&&Q.push(ae(fe))}if(J){se("value")&&Q.push(ae(q.s));var Se=0;se("percent initial")&&Se++,se("percent previous")&&Se++,se("percent total")&&Se++;var we=Se>1;se("percent initial")&&(X=o.formatPercent(q.begR),we&&(X+=" of initial"),Q.push(X)),se("percent previous")&&(X=o.formatPercent(q.difR),we&&(X+=" of previous"),Q.push(X)),se("percent total")&&(X=o.formatPercent(q.sumR),we&&(X+=" of total"),Q.push(X))}return Q.join("<br>")}G.exports={plot:m,toMoveInsideBar:k}},81974:function(G){G.exports=function(y,P){var o=y.cd,L=y.xaxis,M=y.yaxis,v=o[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],i;if(P===!1)for(i=0;i<o.length;i++)o[i].selected=0;else for(i=0;i<o.length;i++){var n=o[i],c="ct"in n?n.ct:V(n,L,M,r,p);P.contains(c,!1,i,y)?(t.push({pointNumber:i,x:L.c2d(n.x),y:M.c2d(n.y)}),n.selected=1):n.selected=0}return t};function V(e,y,P,o,L){var M=y.c2p(o?e.s0:e.p0,!0),v=y.c2p(o?e.s1:e.p1,!0),p=P.c2p(o?e.p0:e.s0,!0),r=P.c2p(o?e.p1:e.s1,!0);return L?[(M+v)/2,(p+r)/2]:o?[v,(p+r)/2]:[(M+v)/2,r]}},61546:function(G,V,e){G.exports=P;var y=e(71828).distinctVals;function P(o,L){this.traces=o,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var M=1/0,v=L.posAxis._id.charAt(0),p=[],r=0;r<o.length;r++){for(var t=o[r],i=0;i<t.length;i++){var n=t[i],c=n.p;c===void 0&&(c=n[v]),c!==void 0&&p.push(c)}t[0]&&t[0].width1&&(M=Math.min(t[0].width1,M))}this.positions=p;var u=y(p);this.distinctPositions=u.vals,u.vals.length===1&&M!==1/0?this.minDiff=M:this.minDiff=Math.min(u.minDiff,M);var l=(L.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}P.prototype.put=function(L,M){var v=this.getLabel(L,M),p=this.bins[v]||0;return this.bins[v]=p+M,p},P.prototype.get=function(L,M){var v=this.getLabel(L,M);return this.bins[v]||0},P.prototype.getLabel=function(L,M){var v=M<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?L:Math.round(L/this.binWidth);return v+p}},16688:function(G,V,e){var y=e(39898),P=e(7901),o=e(91424),L=e(71828),M=e(73972),v=e(72597).resizeText,p=e(1486),r=p.textfont,t=p.insidetextfont,i=p.outsidetextfont,n=e(69383);function c(b){var S=y.select(b).selectAll("g.barlayer").selectAll("g.trace");v(b,S,"bar");var m=S.size(),a=b._fullLayout;S.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(a.barmode==="stack"&&m>1||a.bargap===0&&a.bargroupgap===0&&!E[0].trace.marker.line.width)&&y.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(E){var x=y.select(this),k=E[0].trace;u(x,k,b)}),M.getComponentMethod("errorbars","style")(S)}function u(b,S,m){o.pointStyle(b.selectAll("path"),S,m),l(b,S,m)}function l(b,S,m){b.selectAll("text").each(function(a){var E=y.select(this),x=L.ensureUniformFontSize(m,h(E,a,S,m));o.font(E,x)})}function g(b,S,m){var a=S[0].trace;a.selectedpoints?f(m,a,b):(u(m,a,b),M.getComponentMethod("errorbars","style")(m))}function f(b,S,m){o.selectedPointStyle(b.selectAll("path"),S),T(b.selectAll("text"),S,m)}function T(b,S,m){b.each(function(a){var E=y.select(this),x;if(a.selected){x=L.ensureUniformFontSize(m,h(E,a,S,m));var k=S.selected.textfont&&S.selected.textfont.color;k&&(x.color=k),o.font(E,x)}else o.selectedTextStyle(E,S)})}function h(b,S,m,a){var E=a._fullLayout.font,x=m.textfont;if(b.classed("bartext-inside")){var k=C(S,m);x=d(m,S.i,E,k)}else b.classed("bartext-outside")&&(x=A(m,S.i,E));return x}function s(b,S,m){return w(r,b.textfont,S,m)}function d(b,S,m,a){var E=s(b,S,m),x=b._input.textfont===void 0||b._input.textfont.color===void 0||Array.isArray(b.textfont.color)&&b.textfont.color[S]===void 0;return x&&(E={color:P.contrast(a),family:E.family,size:E.size}),w(t,b.insidetextfont,S,E)}function A(b,S,m){var a=s(b,S,m);return w(i,b.outsidetextfont,S,a)}function w(b,S,m,a){S=S||{};var E=n.getValue(S.family,m),x=n.getValue(S.size,m),k=n.getValue(S.color,m);return{family:n.coerceString(b.family,E,a.family),size:n.coerceNumber(b.size,x,a.size),color:n.coerceColor(b.color,k,a.color)}}function C(b,S){return S.type==="waterfall"?S[b.dir].marker.color:b.mcc||b.mc||S.marker.color}G.exports={style:c,styleTextPoints:l,styleOnSelect:g,getInsideTextFont:d,getOutsideTextFont:A,getBarColor:C,resizeText:v}},98340:function(G,V,e){var y=e(7901),P=e(52075).hasColorscale,o=e(1586),L=e(71828).coercePattern;G.exports=function(v,p,r,t,i){var n=r("marker.color",t),c=P(v,"marker");c&&o(v,p,i,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",y.defaultLine),P(v,"marker.line")&&o(v,p,i,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),L(r,"marker.pattern",n,c),r("selected.marker.color"),r("unselected.marker.color")}},72597:function(G,V,e){var y=e(39898),P=e(71828);function o(p,r,t){var i=p._fullLayout,n=i["_"+t+"Text_minsize"];if(n){var c=i.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(l){var g=l.transform;if(g){g.scale=c&&g.hide?0:n/g.fontSize;var f=y.select(this).select("text");P.setTransormAndDisplay(f,g)}})}}function L(p,r,t){if(t.uniformtext.mode){var i=v(p),n=t.uniformtext.minsize,c=r.scale*r.fontSize;r.hide=c<n,t[i]=t[i]||1/0,r.hide||(t[i]=Math.min(t[i],Math.max(c,n)))}}function M(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}G.exports={recordMinTextSize:L,clearMinTextSize:M,resizeText:o}},55023:function(G,V,e){var y=e(5386).fF,P=e(1426).extendFlat,o=e(81245),L=e(1486);G.exports={r:o.r,theta:o.theta,r0:o.r0,dr:o.dr,theta0:o.theta0,dtheta:o.dtheta,thetaunit:o.thetaunit,base:P({},L.base,{}),offset:P({},L.offset,{}),width:P({},L.width,{}),text:P({},L.text,{}),hovertext:P({},L.hovertext,{}),marker:L.marker,hoverinfo:o.hoverinfo,hovertemplate:y(),selected:L.selected,unselected:L.unselected}},74692:function(G,V,e){var y=e(52075).hasColorscale,P=e(78803),o=e(71828).isArrayOrTypedArray,L=e(75341),M=e(11661).setGroupPositions,v=e(66279),p=e(73972).traceIs,r=e(71828).extendFlat;function t(n,c){for(var u=n._fullLayout,l=c.subplot,g=u[l].radialaxis,f=u[l].angularaxis,T=g.makeCalcdata(c,"r"),h=f.makeCalcdata(c,"theta"),s=c._length,d=new Array(s),A=T,w=h,C=0;C<s;C++)d[C]={p:w[C],s:A[C]};function b(S){var m=c[S];m!==void 0&&(c["_"+S]=o(m)?f.makeCalcdata(c,S):f.d2c(m,c.thetaunit))}return f.type==="linear"&&(b("width"),b("offset")),y(c,"marker")&&P(n,c,{vals:c.marker.color,containerStr:"marker",cLetter:"c"}),y(c,"marker.line")&&P(n,c,{vals:c.marker.line.color,containerStr:"marker.line",cLetter:"c"}),L(d,c),v(d,c),d}function i(n,c,u){for(var l=n.calcdata,g=[],f=0;f<l.length;f++){var T=l[f],h=T[0].trace;h.visible===!0&&p(h,"bar")&&h.subplot===u&&g.push(T)}var s=r({},c.radialaxis,{_id:"x"}),d=c.angularaxis;M(n,d,s,g,{mode:c.barmode,norm:c.barnorm,gap:c.bargap,groupgap:c.bargroupgap})}G.exports={calc:t,crossTraceCalc:i}},6135:function(G,V,e){var y=e(71828),P=e(22184).handleRThetaDefaults,o=e(98340),L=e(55023);G.exports=function(v,p,r,t){function i(c,u){return y.coerce(v,p,L,c,u)}var n=P(v,p,t,i);if(!n){p.visible=!1;return}i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),o(v,p,i,r,t),y.coerceSelectionMarkerOpacity(p,i)}},27379:function(G,V,e){var y=e(30211),P=e(71828),o=e(95423).getTraceColor,L=P.fillText,M=e(59150).makeHoverPointText,v=e(10869).isPtInsidePolygon;G.exports=function(r,t,i){var n=r.cd,c=n[0].trace,u=r.subplot,l=u.radialAxis,g=u.angularAxis,f=u.vangles,T=f?v:P.isPtInsideSector,h=r.maxHoverDistance,s=g._period||2*Math.PI,d=Math.abs(l.g2p(Math.sqrt(t*t+i*i))),A=Math.atan2(i,t);l.range[0]>l.range[1]&&(A+=Math.PI);var w=function(m){return T(d,A,[m.rp0,m.rp1],[m.thetag0,m.thetag1],f)?h+Math.min(1,Math.abs(m.thetag1-m.thetag0)/s)-1+(m.rp1-d)/(m.rp1-m.rp0)-1:1/0};if(y.getClosest(n,w,r),r.index!==!1){var C=r.index,b=n[C];r.x0=r.x1=b.ct[0],r.y0=r.y1=b.ct[1];var S=P.extendFlat({},b,{r:b.s,theta:b.p});return L(b,c,r),M(S,c,u,r),r.hovertemplate=c.hovertemplate,r.color=o(c,b),r.xLabelVal=r.yLabelVal=void 0,b.s<0&&(r.idealAlign="left"),[r]}}},23381:function(G,V,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(G,V,e){var y=e(71828),P=e(40151);G.exports=function(o,L,M){var v={},p;function r(n,c){return y.coerce(o[p]||{},L[p],P,n,c)}for(var t=0;t<M.length;t++){var i=M[t];i.type==="barpolar"&&i.visible===!0&&(p=i.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},60173:function(G,V,e){var y=e(39898),P=e(92770),o=e(71828),L=e(91424),M=e(10869);G.exports=function(r,t,i){var n=r._context.staticPlot,c=t.xaxis,u=t.yaxis,l=t.radialAxis,g=t.angularAxis,f=v(t),T=t.layers.frontplot.select("g.barlayer");o.makeTraceGroups(T,i,"trace bars").each(function(){var h=y.select(this),s=o.ensureSingle(h,"g","points"),d=s.selectAll("g.point").data(o.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(A){var w=y.select(this),C=A.rp0=l.c2p(A.s0),b=A.rp1=l.c2p(A.s1),S=A.thetag0=g.c2g(A.p0),m=A.thetag1=g.c2g(A.p1),a;if(!P(C)||!P(b)||!P(S)||!P(m)||C===b||S===m)a="M0,0Z";else{var E=l.c2g(A.s1),x=(S+m)/2;A.ct=[c.c2p(E*Math.cos(x)),u.c2p(E*Math.sin(x))],a=f(C,b,S,m)}o.ensureSingle(w,"path").attr("d",a)}),L.setClipUrl(h,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(i,n,c,u){var l,g;o.angleDelta(c,u)>0?(l=c,g=u):(l=u,g=c);var f=M.findEnclosingVertexAngles(l,p.vangles)[0],T=M.findEnclosingVertexAngles(g,p.vangles)[1],h=[f,(l+g)/2,T];return M.pathPolygonAnnulus(i,n,l,g,h,r,t)}:function(i,n,c,u){return o.pathAnnulus(i,n,c,u,r,t)}}},53522:function(G,V,e){var y=e(82196),P=e(1486),o=e(22399),L=e(12663).axisHoverFormat,M=e(5386).fF,v=e(1426).extendFlat,p=y.marker,r=p.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},p.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},p.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},p.angle,{arrayOk:!1,editType:"calc"}),size:v({},p.size,{arrayOk:!1,editType:"calc"}),color:v({},p.color,{arrayOk:!1,editType:"style"}),line:{color:v({},r.color,{arrayOk:!1,dflt:o.defaultLine,editType:"style"}),width:v({},r.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:y.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:P.offsetgroup,alignmentgroup:P.alignmentgroup,selected:{marker:y.selected.marker,editType:"style"},unselected:{marker:y.unselected.marker,editType:"style"},text:v({},y.text,{}),hovertext:v({},y.hovertext,{}),hovertemplate:M({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(G,V,e){var y=e(92770),P=e(89298),o=e(42973),L=e(71828),M=e(50606).BADNUM,v=L._;G.exports=function(A,w){var C=A._fullLayout,b=P.getFromId(A,w.xaxis||"x"),S=P.getFromId(A,w.yaxis||"y"),m=[],a=w.type==="violin"?"_numViolins":"_numBoxes",E,x,k,I,N,F,z;w.orientation==="h"?(k=b,I="x",N=S,F="y",z=!!w.yperiodalignment):(k=S,I="y",N=b,F="x",z=!!w.xperiodalignment);var O=p(w,F,N,C[a]),_=O[0],B=O[1],W=L.distinctVals(_,N),$=W.vals,te=W.minDiff/2,ie,ue,J,Y,ae,j,q=(w.boxpoints||w.points)==="all"?L.identity:function(Rt){return Rt.v<ie.lf||Rt.v>ie.uf};if(w._hasPreCompStats){var oe=w[I],Q=function(Rt){return k.d2c((w[Rt]||[])[E])},X=1/0,se=-1/0;for(E=0;E<w._length;E++){var ne=_[E];if(y(ne)){if(ie={},ie.pos=ie[F]=ne,z&&B&&(ie.orig_p=B[E]),ie.q1=Q("q1"),ie.med=Q("median"),ie.q3=Q("q3"),ue=[],oe&&L.isArrayOrTypedArray(oe[E]))for(x=0;x<oe[E].length;x++)j=k.d2c(oe[E][x]),j!==M&&(ae={v:j,i:[E,x]},n(ae,w,[E,x]),ue.push(ae));if(ie.pts=ue.sort(u),J=ie[I]=ue.map(l),Y=J.length,ie.med!==M&&ie.q1!==M&&ie.q3!==M&&ie.med>=ie.q1&&ie.q3>=ie.med){var fe=Q("lowerfence");ie.lf=fe!==M&&fe<=ie.q1?fe:g(ie,J,Y);var ye=Q("upperfence");ie.uf=ye!==M&&ye>=ie.q3?ye:f(ie,J,Y);var Se=Q("mean");ie.mean=Se!==M?Se:Y?L.mean(J,Y):(ie.q1+ie.q3)/2;var we=Q("sd");ie.sd=Se!==M&&we>=0?we:Y?L.stdev(J,Y,ie.mean):ie.q3-ie.q1,ie.lo=T(ie),ie.uo=h(ie);var _e=Q("notchspan");_e=_e!==M&&_e>0?_e:s(ie,Y),ie.ln=ie.med-_e,ie.un=ie.med+_e;var ke=ie.lf,Me=ie.uf;w.boxpoints&&J.length&&(ke=Math.min(ke,J[0]),Me=Math.max(Me,J[Y-1])),w.notched&&(ke=Math.min(ke,ie.ln),Me=Math.max(Me,ie.un)),ie.min=ke,ie.max=Me}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ie.q1,"median = "+ie.med,"q3 = "+ie.q3].join(`
`));var me;ie.med!==M?me=ie.med:ie.q1!==M?ie.q3!==M?me=(ie.q1+ie.q3)/2:me=ie.q1:ie.q3!==M?me=ie.q3:me=0,ie.med=me,ie.q1=ie.q3=me,ie.lf=ie.uf=me,ie.mean=ie.sd=me,ie.ln=ie.un=me,ie.min=ie.max=me}X=Math.min(X,ie.min),se=Math.max(se,ie.max),ie.pts2=ue.filter(q),m.push(ie)}}w._extremes[k._id]=P.findExtremes(k,[X,se],{padded:!0})}else{var Ee=k.makeCalcdata(w,I),Be=r($,te),Ue=$.length,De=t(Ue);for(E=0;E<w._length;E++)if(j=Ee[E],!!y(j)){var He=L.findBin(_[E],Be);He>=0&&He<Ue&&(ae={v:j,i:E},n(ae,w,E),De[He].push(ae))}var nt=1/0,lt=-1/0,$e=w.quartilemethod,qe=$e==="exclusive",ct=$e==="inclusive";for(E=0;E<Ue;E++)if(De[E].length>0){if(ie={},ie.pos=ie[F]=$[E],ue=ie.pts=De[E].sort(u),J=ie[I]=ue.map(l),Y=J.length,ie.min=J[0],ie.max=J[Y-1],ie.mean=L.mean(J,Y),ie.sd=L.stdev(J,Y,ie.mean)*w.sdmultiple,ie.med=L.interp(J,.5),Y%2&&(qe||ct)){var dt,gt;qe?(dt=J.slice(0,Y/2),gt=J.slice(Y/2+1)):ct&&(dt=J.slice(0,Y/2+1),gt=J.slice(Y/2)),ie.q1=L.interp(dt,.5),ie.q3=L.interp(gt,.5)}else ie.q1=L.interp(J,.25),ie.q3=L.interp(J,.75);ie.lf=g(ie,J,Y),ie.uf=f(ie,J,Y),ie.lo=T(ie),ie.uo=h(ie);var At=s(ie,Y);ie.ln=ie.med-At,ie.un=ie.med+At,nt=Math.min(nt,ie.ln),lt=Math.max(lt,ie.un),ie.pts2=ue.filter(q),m.push(ie)}w.notched&&L.isTypedArray(Ee)&&(Ee=Array.from(Ee)),w._extremes[k._id]=P.findExtremes(k,w.notched?Ee.concat([nt,lt]):Ee,{padded:!0})}return c(m,w),m.length>0?(m[0].t={num:C[a],dPos:te,posLetter:F,valLetter:I,labels:{med:v(A,"median:"),min:v(A,"min:"),q1:v(A,"q1:"),q3:v(A,"q3:"),max:v(A,"max:"),mean:w.boxmean==="sd"||w.sizemode==="sd"?v(A,"mean  :").replace("",w.sdmultiple===1?"":w.sdmultiple+""):v(A,"mean:"),lf:v(A,"lower fence:"),uf:v(A,"upper fence:")}},C[a]++,m):[{t:{empty:!0}}]};function p(d,A,w,C){var b=A in d,S=A+"0"in d,m="d"+A in d;if(b||S&&m){var a=w.makeCalcdata(d,A),E=o(d,w,A,a).vals;return[E,a]}var x;S?x=d[A+"0"]:"name"in d&&(w.type==="category"||y(d.name)&&["linear","log"].indexOf(w.type)!==-1||L.isDateTime(d.name)&&w.type==="date")?x=d.name:x=C;for(var k=w.type==="multicategory"?w.r2c_just_indices(x):w.d2c(x,0,d[A+"calendar"]),I=d._length,N=new Array(I),F=0;F<I;F++)N[F]=k;return[N]}function r(d,A){for(var w=d.length,C=new Array(w+1),b=0;b<w;b++)C[b]=d[b]-A;return C[w]=d[w-1]+A,C}function t(d){for(var A=new Array(d),w=0;w<d;w++)A[w]=[];return A}var i={text:"tx",hovertext:"htx"};function n(d,A,w){for(var C in i)L.isArrayOrTypedArray(A[C])&&(Array.isArray(w)?L.isArrayOrTypedArray(A[C][w[0]])&&(d[i[C]]=A[C][w[0]][w[1]]):d[i[C]]=A[C][w])}function c(d,A){if(L.isArrayOrTypedArray(A.selectedpoints))for(var w=0;w<d.length;w++){for(var C=d[w].pts||[],b={},S=0;S<C.length;S++)b[C[S].i]=S;L.tagSelected(C,A,b)}}function u(d,A){return d.v-A.v}function l(d){return d.v}function g(d,A,w){return w===0?d.q1:Math.min(d.q1,A[Math.min(L.findBin(2.5*d.q1-1.5*d.q3,A,!0)+1,w-1)])}function f(d,A,w){return w===0?d.q3:Math.max(d.q3,A[Math.max(L.findBin(2.5*d.q3-1.5*d.q1,A),0)])}function T(d){return 4*d.q1-3*d.q3}function h(d){return 4*d.q3-3*d.q1}function s(d,A){return A===0?0:1.57*(d.q3-d.q1)/Math.sqrt(A)}},37188:function(G,V,e){var y=e(89298),P=e(71828),o=e(99082).getAxisGroup,L=["v","h"];function M(p,r){for(var t=p.calcdata,i=r.xaxis,n=r.yaxis,c=0;c<L.length;c++){for(var u=L[c],l=u==="h"?n:i,g=[],f=0;f<t.length;f++){var T=t[f],h=T[0].t,s=T[0].trace;s.visible===!0&&(s.type==="box"||s.type==="candlestick")&&!h.empty&&(s.orientation||"v")===u&&s.xaxis===i._id&&s.yaxis===n._id&&g.push(f)}v("box",p,g,l)}}function v(p,r,t,i){var n=r.calcdata,c=r._fullLayout,u=i._id,l=u.charAt(0),g,f,T,h=[],s=0;for(g=0;g<t.length;g++)for(T=n[t[g]],f=0;f<T.length;f++)h.push(i.c2l(T[f].pos,!0)),s+=(T[f].pts2||[]).length;if(h.length){var d=P.distinctVals(h);(i.type==="category"||i.type==="multicategory")&&(d.minDiff=1);var A=d.minDiff/2;y.minDtick(i,d.minDiff,d.vals[0],!0);var w=p==="violin"?"_numViolins":"_numBoxes",C=c[w],b=c[p+"mode"]==="group"&&C>1,S=1-c[p+"gap"],m=1-c[p+"groupgap"];for(g=0;g<t.length;g++){T=n[t[g]];var a=T[0].trace,E=T[0].t,x=a.width,k=a.side,I,N,F,z;if(x)I=N=z=x/2,F=0;else if(I=A,b){var O=o(c,i._id)+a.orientation,_=c._alignmentOpts[O]||{},B=_[a.alignmentgroup]||{},W=Object.keys(B.offsetGroups||{}).length,$=W||C,te=W?a._offsetIndex:E.num;N=I*S*m/$,F=2*I*(-.5+(te+.5)/$)*S,z=I*S/$}else N=I*S*m,F=0,z=I;E.dPos=I,E.bPos=F,E.bdPos=N,E.wHover=z;var ie,ue,J=F+N,Y,ae,j,q,oe,Q,X=!!x,se=(a.boxpoints||a.points)&&s>0;if(k==="positive"?(ie=I*(x?1:.5),Y=J,ue=Y=F):k==="negative"?(ie=Y=F,ue=I*(x?1:.5),ae=J):(ie=ue=I,Y=ae=J),se){var ne=a.pointpos,fe=a.jitter,ye=a.marker.size/2,Se=0;ne+fe>=0&&(Se=J*(ne+fe),Se>ie?(X=!0,oe=ye,j=Se):Se>Y&&(oe=ye,j=ie)),Se<=ie&&(j=ie);var we=0;ne-fe<=0&&(we=-J*(ne-fe),we>ue?(X=!0,Q=ye,q=we):we>ae&&(Q=ye,q=ue)),we<=ue&&(q=ue)}else j=ie,q=ue;var _e=new Array(T.length);for(f=0;f<T.length;f++)_e[f]=T[f].pos;a._extremes[u]=y.findExtremes(i,_e,{padded:X,vpadminus:q,vpadplus:j,vpadLinearized:!0,ppadminus:{x:Q,y:oe}[l],ppadplus:{x:oe,y:Q}[l]})}}}G.exports={crossTraceCalc:M,setPositionOffset:v}},36411:function(G,V,e){var y=e(71828),P=e(73972),o=e(7901),L=e(73927),M=e(26125),v=e(4322),p=e(53522);function r(c,u,l,g){function f(m,a){return y.coerce(c,u,p,m,a)}if(t(c,u,f,g),u.visible!==!1){L(c,u,g,f),f("xhoverformat"),f("yhoverformat");var T=u._hasPreCompStats;T&&(f("lowerfence"),f("upperfence")),f("line.color",(c.marker||{}).color||l),f("line.width"),f("fillcolor",o.addOpacity(u.line.color,.5));var h=!1;if(T){var s=f("mean"),d=f("sd");s&&s.length&&(h=!0,d&&d.length&&(h="sd"))}f("whiskerwidth");var A=f("sizemode"),w;A==="quartiles"&&(w=f("boxmean",h)),f("showwhiskers",A==="quartiles"),(A==="sd"||w==="sd")&&f("sdmultiple"),f("width"),f("quartilemethod");var C=!1;if(T){var b=f("notchspan");b&&b.length&&(C=!0)}else y.validate(c.notchwidth,p.notchwidth)&&(C=!0);var S=f("notched",C);S&&f("notchwidth"),i(c,u,f,{prefix:"box"})}}function t(c,u,l,g){function f(W){var $=0;return W&&W.length&&($+=1,y.isArrayOrTypedArray(W[0])&&W[0].length&&($+=1)),$}function T(W){return y.validate(c[W],p[W])}var h=l("y"),s=l("x"),d;if(u.type==="box"){var A=l("q1"),w=l("median"),C=l("q3");u._hasPreCompStats=A&&A.length&&w&&w.length&&C&&C.length,d=Math.min(y.minRowLength(A),y.minRowLength(w),y.minRowLength(C))}var b=f(h),S=f(s),m=b&&y.minRowLength(h),a=S&&y.minRowLength(s),E=g.calendar,x={autotypenumbers:g.autotypenumbers},k,I;if(u._hasPreCompStats)switch(String(S)+String(b)){case"00":var N=T("x0")||T("dx"),F=T("y0")||T("dy");F&&!N?k="h":k="v",I=d;break;case"10":k="v",I=Math.min(d,a);break;case"20":k="h",I=Math.min(d,s.length);break;case"01":k="h",I=Math.min(d,m);break;case"02":k="v",I=Math.min(d,h.length);break;case"12":k="v",I=Math.min(d,a,h.length);break;case"21":k="h",I=Math.min(d,s.length,m);break;case"11":I=0;break;case"22":var z=!1,O;for(O=0;O<s.length;O++)if(v(s[O],E,x)==="category"){z=!0;break}if(z)k="v",I=Math.min(d,a,h.length);else{for(O=0;O<h.length;O++)if(v(h[O],E,x)==="category"){z=!0;break}z?(k="h",I=Math.min(d,s.length,m)):(k="v",I=Math.min(d,a,h.length))}break}else b>0?(k="v",S>0?I=Math.min(a,m):I=Math.min(m)):S>0?(k="h",I=Math.min(a)):I=0;if(!I){u.visible=!1;return}u._length=I;var _=l("orientation",k);u._hasPreCompStats?_==="v"&&S===0?(l("x0",0),l("dx",1)):_==="h"&&b===0&&(l("y0",0),l("dy",1)):_==="v"&&S===0?l("x0"):_==="h"&&b===0&&l("y0");var B=P.getComponentMethod("calendars","handleTraceDefaults");B(c,u,["x","y"],g)}function i(c,u,l,g){var f=g.prefix,T=y.coerce2(c,u,p,"marker.outliercolor"),h=l("marker.line.outliercolor"),s="outliers";u._hasPreCompStats?s="all":(T||h)&&(s="suspectedoutliers");var d=l(f+"points",s);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",u.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",u.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete u.marker;var A=l("hoveron");(A==="all"||A.indexOf("points")!==-1)&&l("hovertemplate"),y.coerceSelectionMarkerOpacity(u,l)}function n(c,u){var l,g;function f(s){return y.coerce(g._input,g,p,s)}for(var T=0;T<c.length;T++){g=c[T];var h=g.type;(h==="box"||h==="violin")&&(l=g._input,u[h+"mode"]==="group"&&M(l,g,u,f))}}G.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:i}},74907:function(G){G.exports=function(e,y){return y.hoverOnBox&&(e.hoverOnBox=y.hoverOnBox),"xVal"in y&&(e.x=y.xVal),"yVal"in y&&(e.y=y.yVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},41868:function(G,V,e){var y=e(89298),P=e(71828),o=e(30211),L=e(7901),M=P.fillText;function v(t,i,n,c){var u=t.cd,l=u[0].trace,g=l.hoveron,f=[],T;return g.indexOf("boxes")!==-1&&(f=f.concat(p(t,i,n,c))),g.indexOf("points")!==-1&&(T=r(t,i,n)),c==="closest"?T?[T]:f:(T&&f.push(T),f)}function p(t,i,n,c){var u=t.cd,l=t.xa,g=t.ya,f=u[0].trace,T=u[0].t,h=f.type==="violin",s,d,A,w,C,b,S,m,a,E,x,k=T.bdPos,I,N,F=T.wHover,z=function(we){return A.c2l(we.pos)+T.bPos-A.c2l(b)};h&&f.side!=="both"?(f.side==="positive"&&(a=function(we){var _e=z(we);return o.inbox(_e,_e+F,E)},I=k,N=0),f.side==="negative"&&(a=function(we){var _e=z(we);return o.inbox(_e-F,_e,E)},I=0,N=k)):(a=function(we){var _e=z(we);return o.inbox(_e-F,_e+F,E)},I=N=k);var O;h?O=function(we){return o.inbox(we.span[0]-C,we.span[1]-C,E)}:O=function(we){return o.inbox(we.min-C,we.max-C,E)},f.orientation==="h"?(C=i,b=n,S=O,m=a,s="y",A=g,d="x",w=l):(C=n,b=i,S=a,m=O,s="x",A=l,d="y",w=g);var _=Math.min(1,k/Math.abs(A.r2c(A.range[1])-A.r2c(A.range[0])));E=t.maxHoverDistance-_,x=t.maxSpikeDistance-_;function B(we){return(S(we)+m(we))/2}var W=o.getDistanceFunction(c,S,m,B);if(o.getClosest(u,W,t),t.index===!1)return[];var $=u[t.index],te=f.line.color,ie=(f.marker||{}).color;L.opacity(te)&&f.line.width?t.color=te:L.opacity(ie)&&f.boxpoints?t.color=ie:t.color=f.fillcolor,t[s+"0"]=A.c2p($.pos+T.bPos-N,!0),t[s+"1"]=A.c2p($.pos+T.bPos+I,!0),t[s+"LabelVal"]=$.orig_p!==void 0?$.orig_p:$.pos;var ue=s+"Spike";t.spikeDistance=B($)*x/E,t[ue]=A.c2p($.pos,!0);var J=f.boxmean||f.sizemode==="sd"||(f.meanline||{}).visible,Y=f.boxpoints||f.points,ae=Y&&J?["max","uf","q3","med","mean","q1","lf","min"]:Y&&!J?["max","uf","q3","med","q1","lf","min"]:!Y&&J?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],j=w.range[1]<w.range[0];f.orientation===(j?"v":"h")&&ae.reverse();for(var q=t.spikeDistance,oe=t[ue],Q=[],X=0;X<ae.length;X++){var se=ae[X];if(se in $){var ne=$[se],fe=w.c2p(ne,!0),ye=P.extendFlat({},t);ye.attr=se,ye[d+"0"]=ye[d+"1"]=fe,ye[d+"LabelVal"]=ne,ye[d+"Label"]=(T.labels?T.labels[se]+" ":"")+y.hoverLabelText(w,ne,f[d+"hoverformat"]),ye.hoverOnBox=!0,se==="mean"&&"sd"in $&&(f.boxmean==="sd"||f.sizemode==="sd")&&(ye[d+"err"]=$.sd),ye.hovertemplate=!1,Q.push(ye)}}t.name="",t.spikeDistance=void 0,t[ue]=void 0;for(var Se=0;Se<Q.length;Se++)Q[Se].attr!=="med"?(Q[Se].name="",Q[Se].spikeDistance=void 0,Q[Se][ue]=void 0):(Q[Se].spikeDistance=q,Q[Se][ue]=oe);return Q}function r(t,i,n){for(var c=t.cd,u=t.xa,l=t.ya,g=c[0].trace,f=u.c2p(i),T=l.c2p(n),h,s=function(O){var _=Math.max(3,O.mrc||0);return Math.max(Math.abs(u.c2p(O.x)-f)-_,1-3/_)},d=function(O){var _=Math.max(3,O.mrc||0);return Math.max(Math.abs(l.c2p(O.y)-T)-_,1-3/_)},A=o.quadrature(s,d),w=!1,C,b,S=0;S<c.length;S++){C=c[S];for(var m=0;m<(C.pts||[]).length;m++){b=C.pts[m];var a=A(b);a<=t.distance&&(t.distance=a,w=[S,m])}}if(!w)return!1;C=c[w[0]],b=C.pts[w[1]];var E=u.c2p(b.x,!0),x=l.c2p(b.y,!0),k=b.mrc||1;h=P.extendFlat({},t,{index:b.i,color:(g.marker||{}).color,name:g.name,x0:E-k,x1:E+k,y0:x-k,y1:x+k,spikeDistance:t.distance,hovertemplate:g.hovertemplate});var I=C.orig_p,N=I!==void 0?I:C.pos,F;g.orientation==="h"?(F=l,h.xLabelVal=b.x,h.yLabelVal=N):(F=u,h.xLabelVal=N,h.yLabelVal=b.y);var z=F._id.charAt(0);return h[z+"Spike"]=F.c2p(C.pos,!0),M(b,g,h),h}G.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},83832:function(G,V,e){G.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(G,V,e){var y=e(73972),P=e(71828),o=e(40094);function L(v,p,r,t,i){for(var n=i+"Layout",c=!1,u=0;u<r.length;u++){var l=r[u];if(y.traceIs(l,n)){c=!0;break}}c&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}function M(v,p,r){function t(i,n){return P.coerce(v,p,o,i,n)}L(v,p,r,t,"box")}G.exports={supplyLayoutDefaults:M,_supply:L}},86047:function(G,V,e){var y=e(39898),P=e(71828),o=e(91424),L=5,M=.01;function v(i,n,c,u){var l=i._context.staticPlot,g=n.xaxis,f=n.yaxis;P.makeTraceGroups(u,c,"trace boxes").each(function(T){var h=y.select(this),s=T[0],d=s.t,A=s.trace;if(d.wdPos=d.bdPos*A.whiskerwidth,A.visible!==!0||d.empty){h.remove();return}var w,C;A.orientation==="h"?(w=f,C=g):(w=g,C=f),p(h,{pos:w,val:C},A,d,l),r(h,{x:g,y:f},A,d),t(h,{pos:w,val:C},A,d)})}function p(i,n,c,u,l){var g=c.orientation==="h",f=n.val,T=n.pos,h=!!T.rangebreaks,s=u.bPos,d=u.wdPos||0,A=u.bPosPxOffset||0,w=c.whiskerwidth||0,C=c.showwhiskers!==!1,b=c.notched||!1,S=b?1-2*c.notchwidth:1,m,a;Array.isArray(u.bdPos)?(m=u.bdPos[0],a=u.bdPos[1]):(m=u.bdPos,a=u.bdPos);var E=i.selectAll("path.box").data(c.type!=="violin"||c.box.visible?P.identity:[]);E.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),E.exit().remove(),E.each(function(x){if(x.empty)return y.select(this).attr("d","M0,0Z");var k=T.c2l(x.pos+s,!0),I=T.l2p(k-m)+A,N=T.l2p(k+a)+A,F=h?(I+N)/2:T.l2p(k)+A,z=c.whiskerwidth,O=h?I*z+(1-z)*F:T.l2p(k-d)+A,_=h?N*z+(1-z)*F:T.l2p(k+d)+A,B=T.l2p(k-m*S)+A,W=T.l2p(k+a*S)+A,$=c.sizemode==="sd",te=f.c2p($?x.mean-x.sd:x.q1,!0),ie=$?f.c2p(x.mean+x.sd,!0):f.c2p(x.q3,!0),ue=P.constrain($?f.c2p(x.mean,!0):f.c2p(x.med,!0),Math.min(te,ie)+1,Math.max(te,ie)-1),J=x.lf===void 0||c.boxpoints===!1||$,Y=f.c2p(J?x.min:x.lf,!0),ae=f.c2p(J?x.max:x.uf,!0),j=f.c2p(x.ln,!0),q=f.c2p(x.un,!0);g?y.select(this).attr("d","M"+ue+","+B+"V"+W+"M"+te+","+I+"V"+N+(b?"H"+j+"L"+ue+","+W+"L"+q+","+N:"")+"H"+ie+"V"+I+(b?"H"+q+"L"+ue+","+B+"L"+j+","+I:"")+"Z"+(C?"M"+te+","+F+"H"+Y+"M"+ie+","+F+"H"+ae+(w===0?"":"M"+Y+","+O+"V"+_+"M"+ae+","+O+"V"+_):"")):y.select(this).attr("d","M"+B+","+ue+"H"+W+"M"+I+","+te+"H"+N+(b?"V"+j+"L"+W+","+ue+"L"+N+","+q:"")+"V"+ie+"H"+I+(b?"V"+q+"L"+B+","+ue+"L"+I+","+j:"")+"Z"+(C?"M"+F+","+te+"V"+Y+"M"+F+","+ie+"V"+ae+(w===0?"":"M"+O+","+Y+"H"+_+"M"+O+","+ae+"H"+_):""))})}function r(i,n,c,u){var l=n.x,g=n.y,f=u.bdPos,T=u.bPos,h=c.boxpoints||c.points;P.seedPseudoRandom();var s=function(w){return w.forEach(function(C){C.t=u,C.trace=c}),w},d=i.selectAll("g.points").data(h?s:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var A=d.selectAll("path").data(function(w){var C,b=w.pts2,S=Math.max((w.max-w.min)/10,w.q3-w.q1),m=S*1e-9,a=S*M,E=[],x=0,k;if(c.jitter){if(S===0)for(x=1,E=new Array(b.length),C=0;C<b.length;C++)E[C]=1;else for(C=0;C<b.length;C++){var I=Math.max(0,C-L),N=b[I].v,F=Math.min(b.length-1,C+L),z=b[F].v;h!=="all"&&(b[C].v<w.lf?z=Math.min(z,w.lf):N=Math.max(N,w.uf));var O=Math.sqrt(a*(F-I)/(z-N+m))||0;O=P.constrain(Math.abs(O),0,1),E.push(O),x=Math.max(O,x)}k=c.jitter*2/(x||1)}for(C=0;C<b.length;C++){var _=b[C],B=_.v,W=c.jitter?k*E[C]*(P.pseudoRandom()-.5):0,$=w.pos+T+f*(c.pointpos+W);c.orientation==="h"?(_.y=$,_.x=B):(_.x=$,_.y=B),h==="suspectedoutliers"&&B<w.uo&&B>w.lo&&(_.so=!0)}return b});A.enter().append("path").classed("point",!0),A.exit().remove(),A.call(o.translatePoints,l,g)}function t(i,n,c,u){var l=n.val,g=n.pos,f=!!g.rangebreaks,T=u.bPos,h=u.bPosPxOffset||0,s=c.boxmean||(c.meanline||{}).visible,d,A;Array.isArray(u.bdPos)?(d=u.bdPos[0],A=u.bdPos[1]):(d=u.bdPos,A=u.bdPos);var w=i.selectAll("path.mean").data(c.type==="box"&&c.boxmean||c.type==="violin"&&c.box.visible&&c.meanline.visible?P.identity:[]);w.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),w.exit().remove(),w.each(function(C){var b=g.c2l(C.pos+T,!0),S=g.l2p(b-d)+h,m=g.l2p(b+A)+h,a=f?(S+m)/2:g.l2p(b)+h,E=l.c2p(C.mean,!0),x=l.c2p(C.mean-C.sd,!0),k=l.c2p(C.mean+C.sd,!0);c.orientation==="h"?y.select(this).attr("d","M"+E+","+S+"V"+m+(s==="sd"?"m0,0L"+x+","+a+"L"+E+","+S+"L"+k+","+a+"Z":"")):y.select(this).attr("d","M"+S+","+E+"H"+m+(s==="sd"?"m0,0L"+a+","+x+"L"+S+","+E+"L"+a+","+k+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},24626:function(G){G.exports=function(e,y){var P=e.cd,o=e.xaxis,L=e.yaxis,M=[],v,p;if(y===!1)for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++)P[v].pts[p].selected=0;else for(v=0;v<P.length;v++)for(p=0;p<(P[v].pts||[]).length;p++){var r=P[v].pts[p],t=o.c2p(r.x),i=L.c2p(r.y);y.contains([t,i],null,r.i,e)?(M.push({pointNumber:r.i,x:o.c2d(r.x),y:L.c2d(r.y)}),r.selected=1):r.selected=0}return M}},58063:function(G,V,e){var y=e(39898),P=e(7901),o=e(91424);function L(v,p,r){var t=r||y.select(v).selectAll("g.trace.boxes");t.style("opacity",function(i){return i[0].trace.opacity}),t.each(function(i){var n=y.select(this),c=i[0].trace,u=c.line.width;function l(T,h,s,d){T.style("stroke-width",h+"px").call(P.stroke,s).call(P.fill,d)}var g=n.selectAll("path.box");if(c.type==="candlestick")g.each(function(T){if(!T.empty){var h=y.select(this),s=c[T.dir];l(h,s.line.width,s.line.color,s.fillcolor),h.style("opacity",c.selectedpoints&&!T.selected?.3:1)}});else{l(g,u,c.line.color,c.fillcolor),n.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(P.stroke,c.line.color);var f=n.selectAll("path.point");o.pointStyle(f,c,v)}})}function M(v,p,r){var t=p[0].trace,i=r.selectAll("path.point");t.selectedpoints?o.selectedPointStyle(i,t):o.pointStyle(i,t,v)}G.exports={style:L,styleOnSelect:M}},75343:function(G,V,e){var y=e(71828).extendFlat,P=e(12663).axisHoverFormat,o=e(2522),L=e(53522);function M(v){return{line:{color:y({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}G.exports={xperiod:o.xperiod,xperiod0:o.xperiod0,xperiodalignment:o.xperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),x:o.x,open:o.open,high:o.high,low:o.low,close:o.close,line:{width:y({},L.line.width,{}),editType:"style"},increasing:M(o.increasing.line.color.dflt),decreasing:M(o.decreasing.line.color.dflt),text:o.text,hovertext:o.hovertext,whiskerwidth:y({},L.whiskerwidth,{dflt:0}),hoverlabel:o.hoverlabel}},41197:function(G,V,e){var y=e(71828),P=e(89298),o=e(42973),L=e(3485).calcCommon;G.exports=function(v,p){var r=v._fullLayout,t=P.getFromId(v,p.xaxis),i=P.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),c=o(p,t,"x",n).vals,u=L(v,p,n,c,i,M);return u.length?(y.extendFlat(u[0].t,{num:r._numBoxes,dPos:y.distinctVals(c).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function M(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},1026:function(G,V,e){var y=e(71828),P=e(7901),o=e(14555),L=e(73927),M=e(75343);G.exports=function(r,t,i,n){function c(l,g){return y.coerce(r,t,M,l,g)}var u=o(r,t,c,n);if(!u){t.visible=!1;return}L(r,t,n,c,{x:!0}),c("xhoverformat"),c("yhoverformat"),c("line.width"),v(r,t,c,"increasing"),v(r,t,c,"decreasing"),c("text"),c("hovertext"),c("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0};function v(p,r,t,i){var n=t(i+".line.color");t(i+".line.width",r.line.width),t(i+".fillcolor",P.addOpacity(n,.5))}},91815:function(G,V,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(G,V,e){var y=e(11500),P=e(44467);G.exports=function(M,v,p,r,t){var i=r("a");i||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),o(M,v,p,t)};function o(L,M,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var i=t.charAt(0),n=L[t]||{},c=P.newContainer(M,t),u={noTicklabelstep:!0,tickfont:"x",id:i+"axis",letter:i,font:M.font,name:t,data:L[i],calendar:M.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};y(n,c,u),c._categories=c._categories||[],!L[t]&&n.type!=="-"&&(L[t]={type:n.type})})}},402:function(G,V,e){var y=e(71828).isArrayOrTypedArray;G.exports=function(o){return P(o,0)};function P(o,L){if(!y(o)||L>=10)return null;for(var M=1/0,v=-1/0,p=o.length,r=0;r<p;r++){var t=o[r];if(y(t)){var i=P(t,L+1);i&&(M=Math.min(i[0],M),v=Math.max(i[1],v))}else M=Math.min(t,M),v=Math.max(t,v)}return[M,v]}},99798:function(G,V,e){var y=e(41940),P=e(1928),o=e(22399),L=y({editType:"calc"});L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=o.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:P,baxis:P,font:L,color:{valType:"color",dflt:o.defaultLine,editType:"plot"},transforms:void 0}},4536:function(G,V,e){var y=e(71828).isArrayOrTypedArray;G.exports=function(P,o,L,M){var v,p,r,t,i,n,c,u,l,g,f,T,h,s=y(L)?"a":"b",d=s==="a"?P.aaxis:P.baxis,A=d.smoothing,w=s==="a"?P.a2i:P.b2j,C=s==="a"?L:M,b=s==="a"?M:L,S=s==="a"?o.a.length:o.b.length,m=s==="a"?o.b.length:o.a.length,a=Math.floor(s==="a"?P.b2j(b):P.a2i(b)),E=s==="a"?function(te){return P.evalxy([],te,a)}:function(te){return P.evalxy([],a,te)};A&&(r=Math.max(0,Math.min(m-2,a)),t=a-r,p=s==="a"?function(te,ie){return P.dxydi([],te,r,ie,t)}:function(te,ie){return P.dxydj([],r,te,t,ie)});var x=w(C[0]),k=w(C[1]),I=x<k?1:-1,N=(k-x)*1e-8,F=I>0?Math.floor:Math.ceil,z=I>0?Math.ceil:Math.floor,O=I>0?Math.min:Math.max,_=I>0?Math.max:Math.min,B=F(x+N),W=z(k-N);c=E(x);var $=[[c]];for(v=B;v*I<W*I;v+=I)i=[],f=_(x,v),T=O(k,v+I),h=T-f,n=Math.max(0,Math.min(S-2,Math.floor(.5*(f+T)))),u=E(T),A&&(l=p(n,f-n),g=p(n,T-n),i.push([c[0]+l[0]/3*h,c[1]+l[1]/3*h]),i.push([u[0]-g[0]/3*h,u[1]-g[1]/3*h])),i.push(u),$.push(i),c=u;return $}},1928:function(G,V,e){var y=e(41940),P=e(22399),o=e(13838),L=e(12663).descriptionWithDates,M=e(30962).overrideAll,v=e(79952).P,p=e(1426).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:y({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:o.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},o.labelalias,{editType:"calc"}),tickfont:y({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:M(o.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:P.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:P.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:y({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(G,V,e){var y=e(99798),P=e(7901).addOpacity,o=e(73972),L=e(71828),M=e(26218),v=e(96115),p=e(89426),r=e(15258),t=e(21994),i=e(4322);G.exports=function(u,l,g){var f=g.letter,T=g.font||{},h=y[f+"axis"];function s(B,W){return L.coerce(u,l,h,B,W)}function d(B,W){return L.coerce2(u,l,h,B,W)}g.name&&(l._name=g.name,l._id=g.name),s("autotypenumbers",g.autotypenumbersDflt);var A=s("type");if(A==="-"&&(g.data&&n(l,g.data),l.type==="-"?l.type="linear":A=u.type=l.type),s("smoothing"),s("cheatertype"),s("showticklabels"),s("labelprefix",f+" = "),s("labelsuffix"),s("showtickprefix"),s("showticksuffix"),s("separatethousands"),s("tickformat"),s("exponentformat"),s("minexponent"),s("showexponent"),s("categoryorder"),s("tickmode"),s("tickvals"),s("ticktext"),s("tick0"),s("dtick"),l.tickmode==="array"&&(s("arraytick0"),s("arraydtick")),s("labelpadding"),l._hovertitle=f,A==="date"){var w=o.getComponentMethod("calendars","handleDefaults");w(u,l,"calendar",g.calendar)}t(l,g.fullLayout),l.c2p=L.identity;var C=s("color",g.dfltColor),b=C===u.color?C:T.color,S=s("title.text");S&&(L.coerceFont(s,"title.font",{family:T.family,size:L.bigFont(T.size),color:b}),s("title.offset")),s("tickangle");var m=s("autorange",!l.isValidRange(u.range));m&&s("rangemode"),s("range"),l.cleanRange(),s("fixedrange"),M(u,l,s,A),p(u,l,s,A,g),v(u,l,s,A,g),r(u,l,s,{data:g.data,dataAttr:f});var a=d("gridcolor",P(C,.3)),E=d("gridwidth"),x=d("griddash"),k=s("showgrid");k||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var I=d("startlinecolor",C),N=d("startlinewidth",E),F=s("startline",l.showgrid||!!I||!!N);F||(delete l.startlinecolor,delete l.startlinewidth);var z=d("endlinecolor",C),O=d("endlinewidth",E),_=s("endline",l.showgrid||!!z||!!O);return _||(delete l.endlinecolor,delete l.endlinewidth),k?(s("minorgridcount"),s("minorgridwidth",E),s("minorgriddash",x),s("minorgridcolor",P(a,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,s("tickmode"),l};function n(c,u){if(c.type==="-"){var l=c._id,g=l.charAt(0),f=g+"calendar",T=c[f];c.type=i(u,T,{autotypenumbers:c.autotypenumbers})}}},25281:function(G,V,e){var y=e(89298),P=e(71828).isArray1D,o=e(53824),L=e(402),M=e(20347),v=e(83311),p=e(44807),r=e(4742),t=e(72505),i=e(68296),n=e(11435);G.exports=function(u,l){var g=y.getFromId(u,l.xaxis),f=y.getFromId(u,l.yaxis),T=l.aaxis,h=l.baxis,s=l.x,d=l.y,A=[];s&&P(s)&&A.push("x"),d&&P(d)&&A.push("y"),A.length&&i(l,T,h,"a","b",A);var w=l._a=l._a||l.a,C=l._b=l._b||l.b;s=l._x||l.x,d=l._y||l.y;var b={};if(l._cheater){var S=T.cheatertype==="index"?w.length:w,m=h.cheatertype==="index"?C.length:C;s=o(S,m,l.cheaterslope)}l._x=s=r(s),l._y=d=r(d),t(s,w,C),t(d,w,C),n(l),l.setScale();var a=L(s),E=L(d),x=.5*(a[1]-a[0]),k=.5*(a[1]+a[0]),I=.5*(E[1]-E[0]),N=.5*(E[1]+E[0]),F=1.3;return a=[k-x*F,k+x*F],E=[N-I*F,N+I*F],l._extremes[g._id]=y.findExtremes(g,a,{padded:!0}),l._extremes[f._id]=y.findExtremes(f,E,{padded:!0}),M(l,"a","b"),M(l,"b","a"),v(l,T),v(l,h),b.clipsegments=p(l._xctrl,l._yctrl,T,h),b.x=s,b.y=d,b.a=w,b.b=C,[b]}},44807:function(G){G.exports=function(e,y,P,o){var L,M,v,p=[],r=!!P.smoothing,t=!!o.smoothing,i=e[0].length-1,n=e.length-1;for(L=0,M=[],v=[];L<=i;L++)M[L]=e[0][L],v[L]=y[0][L];for(p.push({x:M,y:v,bicubic:r}),L=0,M=[],v=[];L<=n;L++)M[L]=e[L][i],v[L]=y[L][i];for(p.push({x:M,y:v,bicubic:t}),L=i,M=[],v=[];L>=0;L--)M[i-L]=e[n][L],v[i-L]=y[n][L];for(p.push({x:M,y:v,bicubic:r}),L=n,M=[],v=[];L>=0;L--)M[n-L]=e[L][0],v[n-L]=y[L][0];return p.push({x:M,y:v,bicubic:t}),p}},20347:function(G,V,e){var y=e(89298),P=e(1426).extendFlat;G.exports=function(L,M,v){var p,r,t,i,n,c,u,l,g,f,T,h,s,d,A=L["_"+M],w=L[M+"axis"],C=w._gridlines=[],b=w._minorgridlines=[],S=w._boundarylines=[],m=L["_"+v],a=L[v+"axis"];w.tickmode==="array"&&(w.tickvals=A.slice());var E=L._xctrl,x=L._yctrl,k=E[0].length,I=E.length,N=L._a.length,F=L._b.length;y.prepTicks(w),w.tickmode==="array"&&delete w.tickvals;var z=w.smoothing?3:1;function O(B){var W,$,te,ie,ue,J,Y,ae,j,q,oe,Q,X=[],se=[],ne={};if(M==="b")for($=L.b2j(B),te=Math.floor(Math.max(0,Math.min(F-2,$))),ie=$-te,ne.length=F,ne.crossLength=N,ne.xy=function(fe){return L.evalxy([],fe,$)},ne.dxy=function(fe,ye){return L.dxydi([],fe,te,ye,ie)},W=0;W<N;W++)J=Math.min(N-2,W),Y=W-J,ae=L.evalxy([],W,$),a.smoothing&&W>0&&(j=L.dxydi([],W-1,te,0,ie),X.push(ue[0]+j[0]/3),se.push(ue[1]+j[1]/3),q=L.dxydi([],W-1,te,1,ie),X.push(ae[0]-q[0]/3),se.push(ae[1]-q[1]/3)),X.push(ae[0]),se.push(ae[1]),ue=ae;else for(W=L.a2i(B),J=Math.floor(Math.max(0,Math.min(N-2,W))),Y=W-J,ne.length=N,ne.crossLength=F,ne.xy=function(fe){return L.evalxy([],W,fe)},ne.dxy=function(fe,ye){return L.dxydj([],J,fe,Y,ye)},$=0;$<F;$++)te=Math.min(F-2,$),ie=$-te,ae=L.evalxy([],W,$),a.smoothing&&$>0&&(oe=L.dxydj([],J,$-1,Y,0),X.push(ue[0]+oe[0]/3),se.push(ue[1]+oe[1]/3),Q=L.dxydj([],J,$-1,Y,1),X.push(ae[0]-Q[0]/3),se.push(ae[1]-Q[1]/3)),X.push(ae[0]),se.push(ae[1]),ue=ae;return ne.axisLetter=M,ne.axis=w,ne.crossAxis=a,ne.value=B,ne.constvar=v,ne.index=l,ne.x=X,ne.y=se,ne.smoothing=a.smoothing,ne}function _(B){var W,$,te,ie,ue,J=[],Y=[],ae={};if(ae.length=A.length,ae.crossLength=m.length,M==="b")for(te=Math.max(0,Math.min(F-2,B)),ue=Math.min(1,Math.max(0,B-te)),ae.xy=function(j){return L.evalxy([],j,B)},ae.dxy=function(j,q){return L.dxydi([],j,te,q,ue)},W=0;W<k;W++)J[W]=E[B*z][W],Y[W]=x[B*z][W];else for($=Math.max(0,Math.min(N-2,B)),ie=Math.min(1,Math.max(0,B-$)),ae.xy=function(j){return L.evalxy([],B,j)},ae.dxy=function(j,q){return L.dxydj([],$,j,ie,q)},W=0;W<I;W++)J[W]=E[W][B*z],Y[W]=x[W][B*z];return ae.axisLetter=M,ae.axis=w,ae.crossAxis=a,ae.value=A[B],ae.constvar=v,ae.index=B,ae.x=J,ae.y=Y,ae.smoothing=a.smoothing,ae}if(w.tickmode==="array"){for(i=5e-15,n=[Math.floor((A.length-1-w.arraytick0)/w.arraydtick*(1+i)),Math.ceil(-w.arraytick0/w.arraydtick/(1+i))].sort(function(B,W){return B-W}),c=n[0]-1,u=n[1]+1,l=c;l<u;l++)r=w.arraytick0+w.arraydtick*l,!(r<0||r>A.length-1)&&C.push(P(_(r),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=c;l<u;l++)if(t=w.arraytick0+w.arraydtick*l,T=Math.min(t+w.arraydtick,A.length-1),!(t<0||t>A.length-1)&&!(T<0||T>A.length-1))for(h=A[t],s=A[T],p=0;p<w.minorgridcount;p++)d=T-t,!(d<=0)&&(f=h+(s-h)*(p+1)/(w.minorgridcount+1)*(w.arraydtick/d),!(f<A[0]||f>A[A.length-1])&&b.push(P(O(f),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash})));w.startline&&S.push(P(_(0),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&S.push(P(_(A.length-1),{color:w.endlinecolor,width:w.endlinewidth}))}else{for(i=5e-15,n=[Math.floor((A[A.length-1]-w.tick0)/w.dtick*(1+i)),Math.ceil((A[0]-w.tick0)/w.dtick/(1+i))].sort(function(B,W){return B-W}),c=n[0],u=n[1],l=c;l<=u;l++)g=w.tick0+w.dtick*l,C.push(P(O(g),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=c-1;l<u+1;l++)for(g=w.tick0+w.dtick*l,p=0;p<w.minorgridcount;p++)f=g+w.dtick*(p+1)/(w.minorgridcount+1),!(f<A[0]||f>A[A.length-1])&&b.push(P(O(f),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&S.push(P(O(A[0]),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&S.push(P(O(A[A.length-1]),{color:w.endlinecolor,width:w.endlinewidth}))}}},83311:function(G,V,e){var y=e(89298),P=e(1426).extendFlat;G.exports=function(L,M){var v,p,r,t,i,n=M._labels=[],c=M._gridlines;for(v=0;v<c.length;v++)i=c[v],["start","both"].indexOf(M.showticklabels)!==-1&&(p=y.tickText(M,i.value),P(p,{prefix:r,suffix:t,endAnchor:!0,xy:i.xy(0),dxy:i.dxy(0,0),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===c.length-1}),n.push(p)),["end","both"].indexOf(M.showticklabels)!==-1&&(p=y.tickText(M,i.value),P(p,{endAnchor:!1,xy:i.xy(i.crossLength-1),dxy:i.dxy(i.crossLength-2,1),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:v===0,isLast:v===c.length-1}),n.push(p))}},42048:function(G){var V=.5;G.exports=function(y,P,o,L){var M=y[0]-P[0],v=y[1]-P[1],p=o[0]-P[0],r=o[1]-P[1],t=Math.pow(M*M+v*v,V/2),i=Math.pow(p*p+r*r,V/2),n=(i*i*M-t*t*p)*L,c=(i*i*v-t*t*r)*L,u=i*(t+i)*3,l=t*(t+i)*3;return[[P[0]+(u&&n/u),P[1]+(u&&c/u)],[P[0]-(l&&n/l),P[1]-(l&&c/l)]]}},53824:function(G,V,e){var y=e(71828).isArrayOrTypedArray;G.exports=function(P,o,L){var M,v,p,r,t,i,n=[],c=y(P)?P.length:P,u=y(o)?o.length:o,l=y(P)?P:null,g=y(o)?o:null;l&&(p=(l.length-1)/(l[l.length-1]-l[0])/(c-1)),g&&(r=(g.length-1)/(g[g.length-1]-g[0])/(u-1));var f,T=1/0,h=-1/0;for(v=0;v<u;v++)for(n[v]=[],i=g?(g[v]-g[0])*r:v/(u-1),M=0;M<c;M++)t=l?(l[M]-l[0])*p:M/(c-1),f=t-i*L,T=Math.min(f,T),h=Math.max(f,h),n[v][M]=f;var s=1/(h-T),d=-T*s;for(v=0;v<u;v++)for(M=0;M<c;M++)n[v][M]=s*n[v][M]+d;return n}},45664:function(G,V,e){var y=e(42048),P=e(71828).ensureArray;function o(L,M,v){var p=-.5*v[0]+1.5*M[0],r=-.5*v[1]+1.5*M[1];return[(2*p+L[0])/3,(2*r+L[1])/3]}G.exports=function(M,v,p,r,t,i){var n,c,u,l,g,f,T,h,s,d,A=p[0].length,w=p.length,C=t?3*A-2:A,b=i?3*w-2:w;for(M=P(M,b),v=P(v,b),u=0;u<b;u++)M[u]=P(M[u],C),v[u]=P(v[u],C);for(c=0,l=0;c<w;c++,l+=i?3:1)for(g=M[l],f=v[l],T=p[c],h=r[c],n=0,u=0;n<A;n++,u+=t?3:1)g[u]=T[n],f[u]=h[n];if(t)for(c=0,l=0;c<w;c++,l+=i?3:1){for(n=1,u=3;n<A-1;n++,u+=3)s=y([p[c][n-1],r[c][n-1]],[p[c][n],r[c][n]],[p[c][n+1],r[c][n+1]],t),M[l][u-1]=s[0][0],v[l][u-1]=s[0][1],M[l][u+1]=s[1][0],v[l][u+1]=s[1][1];d=o([M[l][0],v[l][0]],[M[l][2],v[l][2]],[M[l][3],v[l][3]]),M[l][1]=d[0],v[l][1]=d[1],d=o([M[l][C-1],v[l][C-1]],[M[l][C-3],v[l][C-3]],[M[l][C-4],v[l][C-4]]),M[l][C-2]=d[0],v[l][C-2]=d[1]}if(i)for(u=0;u<C;u++){for(l=3;l<b-3;l+=3)s=y([M[l-3][u],v[l-3][u]],[M[l][u],v[l][u]],[M[l+3][u],v[l+3][u]],i),M[l-1][u]=s[0][0],v[l-1][u]=s[0][1],M[l+1][u]=s[1][0],v[l+1][u]=s[1][1];d=o([M[0][u],v[0][u]],[M[2][u],v[2][u]],[M[3][u],v[3][u]]),M[1][u]=d[0],v[1][u]=d[1],d=o([M[b-1][u],v[b-1][u]],[M[b-3][u],v[b-3][u]],[M[b-4][u],v[b-4][u]]),M[b-2][u]=d[0],v[b-2][u]=d[1]}if(t&&i)for(l=1;l<b;l+=(l+1)%3===0?2:1){for(u=3;u<C-3;u+=3)s=y([M[l][u-3],v[l][u-3]],[M[l][u],v[l][u]],[M[l][u+3],v[l][u+3]],t),M[l][u-1]=.5*(M[l][u-1]+s[0][0]),v[l][u-1]=.5*(v[l][u-1]+s[0][1]),M[l][u+1]=.5*(M[l][u+1]+s[1][0]),v[l][u+1]=.5*(v[l][u+1]+s[1][1]);d=o([M[l][0],v[l][0]],[M[l][2],v[l][2]],[M[l][3],v[l][3]]),M[l][1]=.5*(M[l][1]+d[0]),v[l][1]=.5*(v[l][1]+d[1]),d=o([M[l][C-1],v[l][C-1]],[M[l][C-3],v[l][C-3]],[M[l][C-4],v[l][C-4]]),M[l][C-2]=.5*(M[l][C-2]+d[0]),v[l][C-2]=.5*(v[l][C-2]+d[1])}return[M,v]}},35509:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(G){G.exports=function(V,e,y){return e&&y?function(P,o,L,M,v){P||(P=[]);var p,r,t,i,n,c;o*=3,L*=3;var u=M*M,l=1-M,g=l*l,f=l*M*2,T=-3*g,h=3*(g-f),s=3*(f-u),d=3*u,A=v*v,w=A*v,C=1-v,b=C*C,S=b*C;for(c=0;c<V.length;c++)n=V[c],p=T*n[L][o]+h*n[L][o+1]+s*n[L][o+2]+d*n[L][o+3],r=T*n[L+1][o]+h*n[L+1][o+1]+s*n[L+1][o+2]+d*n[L+1][o+3],t=T*n[L+2][o]+h*n[L+2][o+1]+s*n[L+2][o+2]+d*n[L+2][o+3],i=T*n[L+3][o]+h*n[L+3][o+1]+s*n[L+3][o+2]+d*n[L+3][o+3],P[c]=S*p+3*(b*v*r+C*A*t)+w*i;return P}:e?function(P,o,L,M,v){P||(P=[]);var p,r,t,i;o*=3;var n=M*M,c=1-M,u=c*c,l=c*M*2,g=-3*u,f=3*(u-l),T=3*(l-n),h=3*n,s=1-v;for(t=0;t<V.length;t++)i=V[t],p=g*i[L][o]+f*i[L][o+1]+T*i[L][o+2]+h*i[L][o+3],r=g*i[L+1][o]+f*i[L+1][o+1]+T*i[L+1][o+2]+h*i[L+1][o+3],P[t]=s*p+v*r;return P}:y?function(P,o,L,M,v){P||(P=[]);var p,r,t,i,n,c;L*=3;var u=v*v,l=u*v,g=1-v,f=g*g,T=f*g;for(n=0;n<V.length;n++)c=V[n],p=c[L][o+1]-c[L][o],r=c[L+1][o+1]-c[L+1][o],t=c[L+2][o+1]-c[L+2][o],i=c[L+3][o+1]-c[L+3][o],P[n]=T*p+3*(f*v*r+g*u*t)+l*i;return P}:function(P,o,L,M,v){P||(P=[]);var p,r,t,i,n=1-v;for(t=0;t<V.length;t++)i=V[t],p=i[L][o+1]-i[L][o],r=i[L+1][o+1]-i[L+1][o],P[t]=n*p+v*r;return P}}},73057:function(G){G.exports=function(V,e,y){return e&&y?function(P,o,L,M,v){P||(P=[]);var p,r,t,i,n,c;o*=3,L*=3;var u=M*M,l=u*M,g=1-M,f=g*g,T=f*g,h=v*v,s=1-v,d=s*s,A=s*v*2,w=-3*d,C=3*(d-A),b=3*(A-h),S=3*h;for(c=0;c<V.length;c++)n=V[c],p=w*n[L][o]+C*n[L+1][o]+b*n[L+2][o]+S*n[L+3][o],r=w*n[L][o+1]+C*n[L+1][o+1]+b*n[L+2][o+1]+S*n[L+3][o+1],t=w*n[L][o+2]+C*n[L+1][o+2]+b*n[L+2][o+2]+S*n[L+3][o+2],i=w*n[L][o+3]+C*n[L+1][o+3]+b*n[L+2][o+3]+S*n[L+3][o+3],P[c]=T*p+3*(f*M*r+g*u*t)+l*i;return P}:e?function(P,o,L,M,v){P||(P=[]);var p,r,t,i,n,c;o*=3;var u=v*v,l=u*v,g=1-v,f=g*g,T=f*g;for(n=0;n<V.length;n++)c=V[n],p=c[L+1][o]-c[L][o],r=c[L+1][o+1]-c[L][o+1],t=c[L+1][o+2]-c[L][o+2],i=c[L+1][o+3]-c[L][o+3],P[n]=T*p+3*(f*v*r+g*u*t)+l*i;return P}:y?function(P,o,L,M,v){P||(P=[]);var p,r,t,i;L*=3;var n=1-M,c=v*v,u=1-v,l=u*u,g=u*v*2,f=-3*l,T=3*(l-g),h=3*(g-c),s=3*c;for(t=0;t<V.length;t++)i=V[t],p=f*i[L][o]+T*i[L+1][o]+h*i[L+2][o]+s*i[L+3][o],r=f*i[L][o+1]+T*i[L+1][o+1]+h*i[L+2][o+1]+s*i[L+3][o+1],P[t]=n*p+M*r;return P}:function(P,o,L,M,v){P||(P=[]);var p,r,t,i,n=1-M;for(t=0;t<V.length;t++)i=V[t],p=i[L+1][o]-i[L][o],r=i[L+1][o+1]-i[L][o+1],P[t]=n*p+M*r;return P}}},20349:function(G){G.exports=function(V,e,y,P,o){var L=e-2,M=y-2;return P&&o?function(v,p,r){v||(v=[]);var t,i,n,c,u,l,g=Math.max(0,Math.min(Math.floor(p),L)),f=Math.max(0,Math.min(Math.floor(r),M)),T=Math.max(0,Math.min(1,p-g)),h=Math.max(0,Math.min(1,r-f));g*=3,f*=3;var s=T*T,d=s*T,A=1-T,w=A*A,C=w*A,b=h*h,S=b*h,m=1-h,a=m*m,E=a*m;for(l=0;l<V.length;l++)u=V[l],t=C*u[f][g]+3*(w*T*u[f][g+1]+A*s*u[f][g+2])+d*u[f][g+3],i=C*u[f+1][g]+3*(w*T*u[f+1][g+1]+A*s*u[f+1][g+2])+d*u[f+1][g+3],n=C*u[f+2][g]+3*(w*T*u[f+2][g+1]+A*s*u[f+2][g+2])+d*u[f+2][g+3],c=C*u[f+3][g]+3*(w*T*u[f+3][g+1]+A*s*u[f+3][g+2])+d*u[f+3][g+3],v[l]=E*t+3*(a*h*i+m*b*n)+S*c;return v}:P?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),i=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),c=Math.max(0,Math.min(1,r-i)),u,l,g,f,T,h;t*=3;var s=n*n,d=s*n,A=1-n,w=A*A,C=w*A,b=1-c;for(T=0;T<V.length;T++)h=V[T],u=b*h[i][t]+c*h[i+1][t],l=b*h[i][t+1]+c*h[i+1][t+1],g=b*h[i][t+2]+c*h[i+1][t+1],f=b*h[i][t+3]+c*h[i+1][t+1],v[T]=C*u+3*(w*n*l+A*s*g)+d*f;return v}:o?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),i=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),c=Math.max(0,Math.min(1,r-i)),u,l,g,f,T,h;i*=3;var s=c*c,d=s*c,A=1-c,w=A*A,C=w*A,b=1-n;for(T=0;T<V.length;T++)h=V[T],u=b*h[i][t]+n*h[i][t+1],l=b*h[i+1][t]+n*h[i+1][t+1],g=b*h[i+2][t]+n*h[i+2][t+1],f=b*h[i+3][t]+n*h[i+3][t+1],v[T]=C*u+3*(w*c*l+A*s*g)+d*f;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),L)),i=Math.max(0,Math.min(Math.floor(r),M)),n=Math.max(0,Math.min(1,p-t)),c=Math.max(0,Math.min(1,r-i)),u,l,g,f,T=1-c,h=1-n;for(g=0;g<V.length;g++)f=V[g],u=h*f[i][t]+n*f[i][t+1],l=h*f[i+1][t]+n*f[i+1][t+1],v[g]=T*u+c*l;return v}}},92087:function(G,V,e){var y=e(71828),P=e(19237),o=e(13145),L=e(99798),M=e(22399);G.exports=function(p,r,t,i){function n(l,g){return y.coerce(p,r,L,l,g)}r._clipPathId="clip"+r.uid+"carpet";var c=n("color",M.defaultLine);if(y.coerceFont(n,"font"),n("carpet"),o(p,r,i,n,c),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=P(p,r,n);u||(r.visible=!1),r._cheater&&n("cheaterslope")}},21462:function(G,V,e){G.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(G){G.exports=function(V,e){for(var y=V._fullData.length,P,o=0;o<y;o++){var L=V._fullData[o];if(L.index!==e.index&&L.type==="carpet"&&(P||(P=L),L.carpet===e.carpet))return L}return P}},67961:function(G){G.exports=function(e,y,P){if(e.length===0)return"";var o,L=[],M=P?3:1;for(o=0;o<e.length;o+=M)L.push(e[o]+","+y[o]),P&&o<e.length-M&&(L.push("C"),L.push([e[o+1]+","+y[o+1],e[o+2]+","+y[o+2]+" "].join(" ")));return L.join(P?"":"L")}},27669:function(G,V,e){var y=e(71828).isArrayOrTypedArray;G.exports=function(o,L,M){var v;for(y(o)?o.length>L.length&&(o=o.slice(0,L.length)):o=[],v=0;v<L.length;v++)o[v]=M(L[v]);return o}},11651:function(G){G.exports=function(e,y,P,o,L,M){var v=L[0]*e.dpdx(y),p=L[1]*e.dpdy(P),r=1,t=1;if(M){var i=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(M[0]*M[0]+M[1]*M[1]),c=(L[0]*M[0]+L[1]*M[1])/i/n;t=Math.max(0,c)}var u=Math.atan2(p,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(o,y,P),offsetMultplier:t}}},89740:function(G,V,e){var y=e(39898),P=e(91424),o=e(27669),L=e(67961),M=e(11651),v=e(63893),p=e(71828),r=p.strRotate,t=p.strTranslate,i=e(18783);G.exports=function(s,d,A,w){var C=s._context.staticPlot,b=d.xaxis,S=d.yaxis,m=s._fullLayout,a=m._clips;p.makeTraceGroups(w,A,"trace").each(function(E){var x=y.select(this),k=E[0],I=k.trace,N=I.aaxis,F=I.baxis,z=p.ensureSingle(x,"g","minorlayer"),O=p.ensureSingle(x,"g","majorlayer"),_=p.ensureSingle(x,"g","boundarylayer"),B=p.ensureSingle(x,"g","labellayer");x.style("opacity",I.opacity),c(b,S,O,N,"a",N._gridlines,!0),c(b,S,O,F,"b",F._gridlines,!0),c(b,S,z,N,"a",N._minorgridlines,!0),c(b,S,z,F,"b",F._minorgridlines,!0),c(b,S,_,N,"a-boundary",N._boundarylines,C),c(b,S,_,F,"b-boundary",F._boundarylines,C);var W=u(s,b,S,I,k,B,N._labels,"a-label"),$=u(s,b,S,I,k,B,F._labels,"b-label");l(s,B,I,k,b,S,W,$),n(I,k,a,b,S)})};function n(h,s,d,A,w){var C,b,S,m,a=d.select("#"+h._clipPathId);a.size()||(a=d.append("clipPath").classed("carpetclip",!0));var E=p.ensureSingle(a,"path","carpetboundary"),x=s.clipsegments,k=[];for(m=0;m<x.length;m++)C=x[m],b=o([],C.x,A.c2p),S=o([],C.y,w.c2p),k.push(L(b,S,C.bicubic));var I="M"+k.join("L")+"Z";a.attr("id",h._clipPathId),E.attr("d",I)}function c(h,s,d,A,w,C,b){var S="const-"+w+"-lines",m=d.selectAll("."+S).data(C);m.enter().append("path").classed(S,!0).style("vector-effect",b?"none":"non-scaling-stroke"),m.each(function(a){var E=a,x=E.x,k=E.y,I=o([],x,h.c2p),N=o([],k,s.c2p),F="M"+L(I,N,E.smoothing),z=y.select(this);z.attr("d",F).style("stroke-width",E.width).style("stroke",E.color).style("stroke-dasharray",P.dashStyle(E.dash,E.width)).style("fill","none")}),m.exit().remove()}function u(h,s,d,A,w,C,b,S){var m=C.selectAll("text."+S).data(b);m.enter().append("text").classed(S,!0);var a=0,E={};return m.each(function(x,k){var I;if(x.axis.tickangle==="auto")I=M(A,s,d,x.xy,x.dxy);else{var N=(x.axis.tickangle+180)*Math.PI/180;I=M(A,s,d,x.xy,[Math.cos(N),Math.sin(N)])}k||(E={angle:I.angle,flip:I.flip});var F=(x.endAnchor?-1:1)*I.flip,z=y.select(this).attr({"text-anchor":F>0?"start":"end","data-notex":1}).call(P.font,x.font).text(x.text).call(v.convertToTspans,h),O=P.bBox(this);z.attr("transform",t(I.p[0],I.p[1])+r(I.angle)+t(x.axis.labelpadding*F,O.height*.3)),a=Math.max(a,O.width+x.axis.labelpadding)}),m.exit().remove(),E.maxExtent=a,E}function l(h,s,d,A,w,C,b,S){var m,a,E,x,k=p.aggNums(Math.min,null,d.a),I=p.aggNums(Math.max,null,d.a),N=p.aggNums(Math.min,null,d.b),F=p.aggNums(Math.max,null,d.b);m=.5*(k+I),a=N,E=d.ab2xy(m,a,!0),x=d.dxyda_rough(m,a),b.angle===void 0&&p.extendFlat(b,M(d,w,C,E,d.dxydb_rough(m,a))),T(h,s,d,A,E,x,d.aaxis,w,C,b,"a-title"),m=k,a=.5*(N+F),E=d.ab2xy(m,a,!0),x=d.dxydb_rough(m,a),S.angle===void 0&&p.extendFlat(S,M(d,w,C,E,d.dxyda_rough(m,a))),T(h,s,d,A,E,x,d.baxis,w,C,S,"b-title")}var g=i.LINE_SPACING,f=(1-i.MID_SHIFT)/g+1;function T(h,s,d,A,w,C,b,S,m,a,E){var x=[];b.title.text&&x.push(b.title.text);var k=s.selectAll("text."+E).data(x),I=a.maxExtent;k.enter().append("text").classed(E,!0),k.each(function(){var N=M(d,S,m,w,C);["start","both"].indexOf(b.showticklabels)===-1&&(I=0);var F=b.title.font.size;I+=F+b.title.offset;var z=a.angle+(a.flip<0?180:0),O=(z-N.angle+450)%360,_=O>90&&O<270,B=y.select(this);B.text(b.title.text).call(v.convertToTspans,h),_&&(I=(-v.lineCount(B)+f)*g*F-I),B.attr("transform",t(N.p[0],N.p[1])+r(N.angle)+t(0,I)).attr("text-anchor","middle").call(P.font,b.title.font)}),k.exit().remove()}},11435:function(G,V,e){var y=e(35509),P=e(65888).findBin,o=e(45664),L=e(20349),M=e(54495),v=e(73057);G.exports=function(r){var t=r._a,i=r._b,n=t.length,c=i.length,u=r.aaxis,l=r.baxis,g=t[0],f=t[n-1],T=i[0],h=i[c-1],s=t[t.length-1]-t[0],d=i[i.length-1]-i[0],A=s*y.RELATIVE_CULL_TOLERANCE,w=d*y.RELATIVE_CULL_TOLERANCE;g-=A,f+=A,T-=w,h+=w,r.isVisible=function(C,b){return C>g&&C<f&&b>T&&b<h},r.isOccluded=function(C,b){return C<g||C>f||b<T||b>h},r.setScale=function(){var C=r._x,b=r._y,S=o(r._xctrl,r._yctrl,C,b,u.smoothing,l.smoothing);r._xctrl=S[0],r._yctrl=S[1],r.evalxy=L([r._xctrl,r._yctrl],n,c,u.smoothing,l.smoothing),r.dxydi=M([r._xctrl,r._yctrl],u.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,l.smoothing)},r.i2a=function(C){var b=Math.max(0,Math.floor(C[0]),n-2),S=C[0]-b;return(1-S)*t[b]+S*t[b+1]},r.j2b=function(C){var b=Math.max(0,Math.floor(C[1]),n-2),S=C[1]-b;return(1-S)*i[b]+S*i[b+1]},r.ij2ab=function(C){return[r.i2a(C[0]),r.j2b(C[1])]},r.a2i=function(C){var b=Math.max(0,Math.min(P(C,t),n-2)),S=t[b],m=t[b+1];return Math.max(0,Math.min(n-1,b+(C-S)/(m-S)))},r.b2j=function(C){var b=Math.max(0,Math.min(P(C,i),c-2)),S=i[b],m=i[b+1];return Math.max(0,Math.min(c-1,b+(C-S)/(m-S)))},r.ab2ij=function(C){return[r.a2i(C[0]),r.b2j(C[1])]},r.i2c=function(C,b){return r.evalxy([],C,b)},r.ab2xy=function(C,b,S){if(!S&&(C<t[0]||C>t[n-1]|b<i[0]||b>i[c-1]))return[!1,!1];var m=r.a2i(C),a=r.b2j(b),E=r.evalxy([],m,a);if(S){var x=0,k=0,I=[],N,F,z,O;C<t[0]?(N=0,F=0,x=(C-t[0])/(t[1]-t[0])):C>t[n-1]?(N=n-2,F=1,x=(C-t[n-1])/(t[n-1]-t[n-2])):(N=Math.max(0,Math.min(n-2,Math.floor(m))),F=m-N),b<i[0]?(z=0,O=0,k=(b-i[0])/(i[1]-i[0])):b>i[c-1]?(z=c-2,O=1,k=(b-i[c-1])/(i[c-1]-i[c-2])):(z=Math.max(0,Math.min(c-2,Math.floor(a))),O=a-z),x&&(r.dxydi(I,N,z,F,O),E[0]+=I[0]*x,E[1]+=I[1]*x),k&&(r.dxydj(I,N,z,F,O),E[0]+=I[0]*k,E[1]+=I[1]*k)}return E},r.c2p=function(C,b,S){return[b.c2p(C[0]),S.c2p(C[1])]},r.p2x=function(C,b,S){return[b.p2c(C[0]),S.p2c(C[1])]},r.dadi=function(C){var b=Math.max(0,Math.min(t.length-2,C));return t[b+1]-t[b]},r.dbdj=function(C){var b=Math.max(0,Math.min(i.length-2,C));return i[b+1]-i[b]},r.dxyda=function(C,b,S,m){var a=r.dxydi(null,C,b,S,m),E=r.dadi(C,S);return[a[0]/E,a[1]/E]},r.dxydb=function(C,b,S,m){var a=r.dxydj(null,C,b,S,m),E=r.dbdj(b,m);return[a[0]/E,a[1]/E]},r.dxyda_rough=function(C,b,S){var m=s*(S||.1),a=r.ab2xy(C+m,b,!0),E=r.ab2xy(C-m,b,!0);return[(a[0]-E[0])*.5/m,(a[1]-E[1])*.5/m]},r.dxydb_rough=function(C,b,S){var m=d*(S||.1),a=r.ab2xy(C,b+m,!0),E=r.ab2xy(C,b-m,!0);return[(a[0]-E[0])*.5/m,(a[1]-E[1])*.5/m]},r.dpdx=function(C){return C._m},r.dpdy=function(C){return C._m}}},72505:function(G,V,e){var y=e(71828);G.exports=function(o,L,M){var v,p,r,t=[],i=[],n=o[0].length,c=o.length;function u($,te){var ie=0,ue,J=0;return $>0&&(ue=o[te][$-1])!==void 0&&(J++,ie+=ue),$<n-1&&(ue=o[te][$+1])!==void 0&&(J++,ie+=ue),te>0&&(ue=o[te-1][$])!==void 0&&(J++,ie+=ue),te<c-1&&(ue=o[te+1][$])!==void 0&&(J++,ie+=ue),ie/Math.max(1,J)}var l=0;for(v=0;v<n;v++)for(p=0;p<c;p++)o[p][v]===void 0&&(t.push(v),i.push(p),o[p][v]=u(v,p)),l=Math.max(l,Math.abs(o[p][v]));if(!t.length)return o;var g,f,T,h,s,d,A,w,C,b,S,m=1e-5,a=0,E=100,x=0,k=t.length;do{for(a=0,r=0;r<k;r++){v=t[r],p=i[r];var I=0,N=0,F,z,O,_,B,W;v===0?(B=Math.min(n-1,2),O=L[B],_=L[1],F=o[p][B],z=o[p][1],N+=z+(z-F)*(L[0]-_)/(_-O),I++):v===n-1&&(B=Math.max(0,n-3),O=L[B],_=L[n-2],F=o[p][B],z=o[p][n-2],N+=z+(z-F)*(L[n-1]-_)/(_-O),I++),(v===0||v===n-1)&&p>0&&p<c-1&&(g=M[p+1]-M[p],f=M[p]-M[p-1],N+=(f*o[p+1][v]+g*o[p-1][v])/(f+g),I++),p===0?(W=Math.min(c-1,2),O=M[W],_=M[1],F=o[W][v],z=o[1][v],N+=z+(z-F)*(M[0]-_)/(_-O),I++):p===c-1&&(W=Math.max(0,c-3),O=M[W],_=M[c-2],F=o[W][v],z=o[c-2][v],N+=z+(z-F)*(M[c-1]-_)/(_-O),I++),(p===0||p===c-1)&&v>0&&v<n-1&&(g=L[v+1]-L[v],f=L[v]-L[v-1],N+=(f*o[p][v+1]+g*o[p][v-1])/(f+g),I++),I?N/=I:(T=L[v+1]-L[v],h=L[v]-L[v-1],s=M[p+1]-M[p],d=M[p]-M[p-1],A=T*h*(T+h),w=s*d*(s+d),N=(A*(d*o[p+1][v]+s*o[p-1][v])+w*(h*o[p][v+1]+T*o[p][v-1]))/(w*(h+T)+A*(d+s))),C=N-o[p][v],b=C/l,a+=b*b,S=I?0:.85,o[p][v]+=C*(1+S)}a=Math.sqrt(a)}while(x++<E&&a>m);return y.log("Smoother converged to",a,"after",x,"iterations"),o}},19237:function(G,V,e){var y=e(71828).isArray1D;G.exports=function(o,L,M){var v=M("x"),p=v&&v.length,r=M("y"),t=r&&r.length;if(!p&&!t)return!1;if(L._cheater=!v,(!p||y(v))&&(!t||y(r))){var i=p?v.length:1/0;t&&(i=Math.min(i,r.length)),L.a&&L.a.length&&(i=Math.min(i,L.a.length)),L.b&&L.b.length&&(i=Math.min(i,L.b.length)),L._length=i}else L._length=null;return!0}},69568:function(G,V,e){var y=e(5386).fF,P=e(19316),o=e(50693),L=e(9012),M=e(22399).defaultLine,v=e(1426).extendFlat,p=P.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:P.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},P.geojson,{}),featureidkey:P.featureidkey,text:v({},P.text,{}),hovertext:v({},P.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:M}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:P.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:P.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:y(),showlegend:v({},L.showlegend,{dflt:!1})},o("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(G,V,e){var y=e(92770),P=e(50606).BADNUM,o=e(78803),L=e(75225),M=e(66279);function v(p){return p&&typeof p=="string"}G.exports=function(r,t){var i=t._length,n=new Array(i),c;t.geojson?c=function(T){return v(T)||y(T)}:c=v;for(var u=0;u<i;u++){var l=n[u]={},g=t.locations[u],f=t.z[u];c(g)&&y(f)?(l.loc=g,l.z=f):(l.loc=null,l.z=P),l.index=u}return L(n,t),o(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),M(n,t),n}},61869:function(G,V,e){var y=e(71828),P=e(1586),o=e(69568);G.exports=function(M,v,p,r){function t(f,T){return y.coerce(M,v,o,f,T)}var i=t("locations"),n=t("z");if(!(i&&i.length&&y.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(i.length,n.length);var c=t("geojson"),u;(typeof c=="string"&&c!==""||y.isPlainObject(c))&&(u="geojson-id");var l=t("locationmode",u);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var g=t("marker.line.width");g&&t("marker.line.color"),t("marker.opacity"),P(M,v,r,t,{prefix:"",cLetter:"z"}),y.coerceSelectionMarkerOpacity(v,t)}},92069:function(G){G.exports=function(e,y,P,o,L){e.location=y.location,e.z=y.z;var M=o[L];return M.fIn&&M.fIn.properties&&(e.properties=M.fIn.properties),e.ct=M.ct,e}},42300:function(G,V,e){var y=e(89298),P=e(69568),o=e(71828).fillText;G.exports=function(v,p,r){var t=v.cd,i=t[0].trace,n=v.subplot,c,u,l,g,f=[p,r],T=[p+360,r];for(u=0;u<t.length;u++)if(c=t[u],g=!1,c._polygons){for(l=0;l<c._polygons.length;l++)c._polygons[l].contains(f)&&(g=!g),c._polygons[l].contains(T)&&(g=!g);if(g)break}if(!(!g||!c))return v.x0=v.x1=v.xa.c2p(c.ct),v.y0=v.y1=v.ya.c2p(c.ct),v.index=c.index,v.location=c.loc,v.z=c.z,v.zLabel=y.tickText(n.mockAxis,n.mockAxis.c2l(c.z),"hover").text,v.hovertemplate=c.hovertemplate,L(v,i,c),[v]};function L(M,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),i=r==="all"?P.hoverinfo.flags:r.split("+"),n=i.indexOf("name")!==-1,c=i.indexOf("location")!==-1,u=i.indexOf("z")!==-1,l=i.indexOf("text")!==-1,g=!n&&c,f=[];g?M.nameOverride=t:(n&&(M.nameOverride=v.name),c&&f.push(t)),u&&f.push(M.zLabel),l&&o(p,v,f),M.extraText=f.join("<br>")}}},51319:function(G,V,e){G.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(G,V,e){var y=e(39898),P=e(71828),o=e(41327),L=e(90973).getTopojsonFeatures,M=e(71739).findExtremes,v=e(99636).style;function p(t,i,n){var c=i.layers.backplot.select(".choroplethlayer");P.makeTraceGroups(c,n,"trace choropleth").each(function(u){var l=y.select(this),g=l.selectAll("path.choroplethlocation").data(P.identity);g.enter().append("path").classed("choroplethlocation",!0),g.exit().remove(),v(t,u)})}function r(t,i){for(var n=t[0].trace,c=i[n.geo],u=c._subplot,l=n.locationmode,g=n._length,f=l==="geojson-id"?o.extractTraceFeature(t):L(n,u.topojson),T=[],h=[],s=0;s<g;s++){var d=t[s],A=l==="geojson-id"?d.fOut:o.locationToFeature(l,d.loc,f);if(A){d.geojson=A,d.ct=A.properties.ct,d._polygons=o.feature2polygons(A);var w=o.computeBbox(A);T.push(w[0],w[2]),h.push(w[1],w[3])}else d.geojson=null}if(c.fitbounds==="geojson"&&l==="geojson-id"){var C=o.computeBbox(o.getTraceGeojson(n));T=[C[0],C[2]],h=[C[1],C[3]]}var b={padded:!0};n._extremes.lon=M(c.lonaxis._ax,T,b),n._extremes.lat=M(c.lataxis._ax,h,b)}G.exports={calcGeoJSON:r,plot:p}},81253:function(G){G.exports=function(e,y){var P=e.cd,o=e.xaxis,L=e.yaxis,M=[],v,p,r,t,i;if(y===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++)p=P[v],r=p.ct,r&&(t=o.c2p(r),i=L.c2p(r),y.contains([t,i],null,v,e)?(M.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return M}},99636:function(G,V,e){var y=e(39898),P=e(7901),o=e(91424),L=e(21081);function M(r,t){t&&v(r,t)}function v(r,t){var i=t[0].trace,n=t[0].node3,c=n.selectAll(".choroplethlocation"),u=i.marker||{},l=u.line||{},g=L.makeColorScaleFuncFromTrace(i);c.each(function(f){y.select(this).attr("fill",g(f.z)).call(P.stroke,f.mlc||l.color).call(o.dashLine,"",f.mlw||l.width||0).style("opacity",u.opacity)}),o.selectedPointStyle(c,i)}function p(r,t){var i=t[0].node3,n=t[0].trace;n.selectedpoints?o.selectedPointStyle(i.selectAll(".choroplethlocation"),n):v(r,t)}G.exports={style:M,styleOnSelect:p}},64496:function(G,V,e){var y=e(69568),P=e(50693),o=e(5386).fF,L=e(9012),M=e(1426).extendFlat;G.exports=M({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:M({},y.featureidkey,{}),below:{valType:"string",editType:"plot"},text:y.text,hovertext:y.hovertext,marker:{line:{color:M({},y.marker.line.color,{editType:"plot"}),width:M({},y.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:M({},y.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:M({},y.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:M({},y.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:y.hoverinfo,hovertemplate:o({},{keys:["properties"]}),showlegend:M({},L.showlegend,{dflt:!1})},P("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(G,V,e){var y=e(92770),P=e(71828),o=e(21081),L=e(91424),M=e(18214).makeBlank,v=e(41327);function p(t){var i=t[0].trace,n=i.visible===!0&&i._length!==0,c={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},l=i._opts={fill:c,line:u,geojson:M()};if(!n)return l;var g=v.extractTraceFeature(t);if(!g)return l;var f=o.makeColorScaleFuncFromTrace(i),T=i.marker,h=T.line||{},s;P.isArrayOrTypedArray(T.opacity)&&(s=function(a){var E=a.mo;return y(E)?+P.constrain(E,0,1):0});var d;P.isArrayOrTypedArray(h.color)&&(d=function(a){return a.mlc});var A;P.isArrayOrTypedArray(h.width)&&(A=function(a){return a.mlw});for(var w=0;w<t.length;w++){var C=t[w],b=C.fOut;if(b){var S=b.properties;S.fc=f(C.z),s&&(S.mo=s(C)),d&&(S.mlc=d(C)),A&&(S.mlw=A(C)),C.ct=S.ct,C._polygons=v.feature2polygons(b)}}var m=s?{type:"identity",property:"mo"}:T.opacity;return P.extendFlat(c.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":m}),P.extendFlat(u.paint,{"line-color":d?{type:"identity",property:"mlc"}:h.color,"line-width":A?{type:"identity",property:"mlw"}:h.width,"line-opacity":m}),c.layout.visibility="visible",u.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:g},r(t),l}function r(t){var i=t[0].trace,n=i._opts,c;if(i.selectedpoints){for(var u=L.makeSelectedPointStyleFns(i),l=0;l<t.length;l++){var g=t[l];g.fOut&&(g.fOut.properties.mo2=u.selectedOpacityFn(g))}c={type:"identity",property:"mo2"}}else c=P.isArrayOrTypedArray(i.marker.opacity)?{type:"identity",property:"mo"}:i.marker.opacity;return P.extendFlat(n.fill.paint,{"fill-opacity":c}),P.extendFlat(n.line.paint,{"line-opacity":c}),n}G.exports={convert:p,convertOnSelect:r}},22654:function(G,V,e){var y=e(71828),P=e(1586),o=e(64496);G.exports=function(M,v,p,r){function t(l,g){return y.coerce(M,v,o,l,g)}var i=t("locations"),n=t("z"),c=t("geojson");if(!y.isArrayOrTypedArray(i)||!i.length||!y.isArrayOrTypedArray(n)||!n.length||!(typeof c=="string"&&c!==""||y.isPlainObject(c))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(i.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),P(M,v,r,t,{prefix:"",cLetter:"z"}),y.coerceSelectionMarkerOpacity(v,t)}},57516:function(G,V,e){G.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(y,P){if(P){var o=P[0].trace;o._glTrace.updateOnSelect(P)}},getBelow:function(y,P){for(var o=P.getMapLayers(),L=o.length-2;L>=0;L--){var M=o[L].id;if(typeof M=="string"&&M.indexOf("water")===0){for(var v=L+1;v<o.length;v++)if(M=o[v].id,typeof M=="string"&&M.indexOf("plotly-")===-1)return M}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(G,V,e){var y=e(82004).convert,P=e(82004).convertOnSelect,o=e(77734).traceLayerPrefix;function L(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",o+p+"-fill"],["line",o+p+"-line"]],this.below=null}var M=L.prototype;M.update=function(v){this._update(y(v)),v[0].trace._glTrace=this},M.updateOnSelect=function(v){this._update(P(v))},M._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var i=0;i<r.length;i++){var n=r[i],c=n[0],u=n[1],l=v[c];p.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&p.setOptions(u,"setPaintProperty",l.paint)}},M._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,i=this.sourceId,n=0;n<t.length;n++){var c=t[n],u=c[0],l=v[u];r.addLayer({type:u,id:c[1],source:i,layout:l.layout,paint:l.paint},p)}},M._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},M.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(p,r){var t=r[0].trace,i=new L(p,t.uid),n=i.sourceId,c=y(r),u=i.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:c.geojson}),i._addLayers(c,u),r[0].trace._glTrace=i,i}},12674:function(G,V,e){var y=e(50693),P=e(12663).axisHoverFormat,o=e(5386).fF,L=e(2418),M=e(9012),v=e(1426).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"},{keys:["norm"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(p,y("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},31371:function(G,V,e){var y=e(78803);G.exports=function(o,L){for(var M=L.u,v=L.v,p=L.w,r=Math.min(L.x.length,L.y.length,L.z.length,M.length,v.length,p.length),t=-1/0,i=1/0,n=0;n<r;n++){var c=M[n],u=v[n],l=p[n],g=Math.sqrt(c*c+u*u+l*l);t=Math.max(t,g),i=Math.min(i,g)}L._len=r,L._normMax=t,y(o,L,{vals:[i,t],containerStr:"",cLetter:"c"})}},5453:function(G,V,e){var y=e(9330).gl_cone3d,P=e(9330).gl_cone3d.createConeMesh,o=e(71828).simpleMap,L=e(81697).parseColorScale,M=e(21081).extractOpts,v=e(71828).isArrayOrTypedArray,p=e(90060);function r(g,f){this.scene=g,this.uid=f,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(g){if(g.object===this.mesh){var f=g.index=g.data.index,T=this.data.x[f],h=this.data.y[f],s=this.data.z[f],d=this.data.u[f],A=this.data.v[f],w=this.data.w[f];g.traceCoordinate=[T,h,s,d,A,w,Math.sqrt(d*d+A*A+w*w)];var C=this.data.hovertext||this.data.text;return v(C)&&C[f]!==void 0?g.textLabel=C[f]:C&&(g.textLabel=C),!0}};var i={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},c={tip:1,tail:1,cm:.75,center:.5};function u(g,f){var T=g.fullSceneLayout,h=g.dataScale,s={};function d(b,S){var m=T[S],a=h[i[S]];return o(b,function(E){return m.d2l(E)*a})}s.vectors=p(d(f.u,"xaxis"),d(f.v,"yaxis"),d(f.w,"zaxis"),f._len),s.positions=p(d(f.x,"xaxis"),d(f.y,"yaxis"),d(f.z,"zaxis"),f._len);var A=M(f);s.colormap=L(f),s.vertexIntensityBounds=[A.min/f._normMax,A.max/f._normMax],s.coneOffset=n[f.anchor],f.sizemode==="scaled"?s.coneSize=f.sizeref||.5:s.coneSize=f.sizeref&&f._normMax?f.sizeref/f._normMax:.5;var w=y(s),C=f.lightposition;return w.lightPosition=[C.x,C.y,C.z],w.ambient=f.lighting.ambient,w.diffuse=f.lighting.diffuse,w.specular=f.lighting.specular,w.roughness=f.lighting.roughness,w.fresnel=f.lighting.fresnel,w.opacity=f.opacity,f._pad=c[f.anchor]*w.vectorScale*w.coneScale*f._normMax,w}t.update=function(g){this.data=g;var f=u(this.scene,g);this.mesh.update(f)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(g,f){var T=g.glplot.gl,h=u(g,f),s=P(T,h),d=new r(g,f.uid);return d.mesh=s,d.data=f,s._trace=d,g.glplot.add(s),d}G.exports=l},91750:function(G,V,e){var y=e(71828),P=e(1586),o=e(12674);G.exports=function(M,v,p,r){function t(f,T){return y.coerce(M,v,o,f,T)}var i=t("u"),n=t("v"),c=t("w"),u=t("x"),l=t("y"),g=t("z");if(!i||!i.length||!n||!n.length||!c||!c.length||!u||!u.length||!l||!l.length||!g||!g.length){v.visible=!1;return}t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(M,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},98128:function(G,V,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(y,P){return y.norm=P.traceCoordinate[6],y},meta:{}}},70600:function(G,V,e){var y=e(21606),P=e(82196),o=e(12663),L=o.axisHoverFormat,M=o.descriptionOnlyNumbers,v=e(50693),p=e(79952).P,r=e(41940),t=e(1426).extendFlat,i=e(74808),n=i.COMPARISON_OPS2,c=i.INTERVAL_OPS,u=P.line;G.exports=t({z:y.z,x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,text:y.text,hovertext:y.hovertext,transpose:y.transpose,xtype:y.xtype,ytype:y.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:y.hovertemplate,texttemplate:t({},y.texttemplate,{}),textfont:t({},y.textfont,{}),hoverongaps:y.hoverongaps,connectgaps:t({},y.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:M("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(c),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},u.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(G,V,e){var y=e(21081),P=e(90757),o=e(18670),L=e(53572);G.exports=function(v,p){var r=P(v,p),t=r[0].z;o(p,t);var i=p.contours,n=y.extractOpts(p),c;if(i.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var u=i.start,l=L(i),g=i.size||1,f=Math.floor((l-u)/g)+1;isFinite(g)||(g=1,f=1);var T=u-g/2,h=T+f*g;c=[T,h]}else c=t;return y.calc(v,p,{vals:c,cLetter:"z"}),r}},20083:function(G){G.exports=function(V,e){var y=V[0],P=y.z,o;switch(e.type){case"levels":var L=Math.min(P[0][0],P[0][1]);for(o=0;o<V.length;o++){var M=V[o];M.prefixBoundary=!M.edgepaths.length&&(L>M.level||M.starts.length&&L===M.level)}break;case"constraint":if(y.prefixBoundary=!1,y.edgepaths.length)return;var v=y.x.length,p=y.y.length,r=-1/0,t=1/0;for(o=0;o<p;o++)t=Math.min(t,P[o][0]),t=Math.min(t,P[o][v-1]),r=Math.max(r,P[o][0]),r=Math.max(r,P[o][v-1]);for(o=1;o<v-1;o++)t=Math.min(t,P[0][o]),t=Math.min(t,P[p-1][o]),r=Math.max(r,P[0][o]),r=Math.max(r,P[p-1][o]);var i=e.value,n,c;switch(e._operation){case">":i>r&&(y.prefixBoundary=!0);break;case"<":(i<t||y.starts.length&&i===t)&&(y.prefixBoundary=!0);break;case"[]":n=Math.min(i[0],i[1]),c=Math.max(i[0],i[1]),(c<t||n>r||y.starts.length&&c===t)&&(y.prefixBoundary=!0);break;case"][":n=Math.min(i[0],i[1]),c=Math.max(i[0],i[1]),n<t&&c>r&&(y.prefixBoundary=!0);break}break}}},90654:function(G,V,e){var y=e(21081),P=e(86068),o=e(53572);function L(M,v,p){var r=v.contours,t=v.line,i=r.size||1,n=r.coloring,c=P(v,{isColorbar:!0});if(n==="heatmap"){var u=y.extractOpts(v);p._fillgradient=u.reversescale?y.flipScale(u.colorscale):u.colorscale,p._zrange=[u.min,u.max]}else n==="fill"&&(p._fillcolor=c);p._line={color:n==="lines"?c:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:o(r),size:i}}G.exports={min:"zmin",max:"zmax",calc:L}},36914:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(G,V,e){var y=e(92770),P=e(14523),o=e(7901),L=o.addOpacity,M=o.opacity,v=e(74808),p=e(71828).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(c,u,l,g,f,T){var h=u.contours,s,d,A,w=l("contours.operation");if(h._operation=r[w],i(l,h),w==="="?s=h.showlines=!0:(s=l("contours.showlines"),A=l("fillcolor",L((c.line||{}).color||f,.5))),s){var C=A&&M(A)?L(u.fillcolor,1):f;d=l("line.color",C),l("line.width",2),l("line.dash")}l("line.smoothing"),P(l,g,d,T)};function i(n,c){var u;t.indexOf(c.operation)===-1?(n("contours.value",[0,1]),p(c.value)?c.value.length>2?c.value=c.value.slice(2):c.length===0?c.value=[0,1]:c.length<2?(u=parseFloat(c.value[0]),c.value=[u,u+1]):c.value=[parseFloat(c.value[0]),parseFloat(c.value[1])]:y(c.value)&&(u=parseFloat(c.value),c.value=[u,u+1])):(n("contours.value",0),y(c.value)||(p(c.value)?c.value=parseFloat(c.value[0]):c.value=0))}},64237:function(G,V,e){var y=e(74808),P=e(92770);G.exports={"[]":L("[]"),"][":L("]["),">":M(">"),"<":M("<"),"=":M("=")};function o(v,p){var r=Array.isArray(p),t;function i(n){return P(n)?+n:null}return y.COMPARISON_OPS2.indexOf(v)!==-1?t=i(r?p[0]:p):y.INTERVAL_OPS.indexOf(v)!==-1?t=r?[i(p[0]),i(p[1])]:[i(p),i(p)]:y.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(i):[i(p)]),t}function L(v){return function(p){p=o(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function M(v){return function(p){return p=o(v,p),{start:p,end:1/0,size:1/0}}}},67217:function(G){G.exports=function(e,y,P,o){var L=o("contours.start"),M=o("contours.end"),v=L===!1||M===!1,p=P("contours.size"),r;v?r=y.autocontour=!0:r=P("autocontour",!1),(r||!p)&&P("ncontours")}},84857:function(G,V,e){var y=e(71828);G.exports=function(o,L){var M,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(L){case"=":case"<":return o;case">":for(o.length!==1&&y.warn("Contour data invalid for the specified inequality operation."),v=o[0],M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=r(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=r(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=r(v.starts[M]);return o;case"][":var i=r;r=t,t=i;case"[]":for(o.length!==2&&y.warn("Contour data invalid for the specified inequality range operation."),v=P(o[0]),p=P(o[1]),M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=r(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=r(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=r(v.starts[M]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function P(o){return y.extendFlat({},o,{edgepaths:y.extendDeep([],o.edgepaths),paths:y.extendDeep([],o.paths),starts:y.extendDeep([],o.starts)})}},13031:function(G,V,e){var y=e(71828),P=e(67684),o=e(73927),L=e(83179),M=e(67217),v=e(8724),p=e(58623),r=e(70600);G.exports=function(i,n,c,u){function l(h,s){return y.coerce(i,n,r,h,s)}function g(h){return y.coerce2(i,n,r,h)}var f=P(i,n,l,u);if(!f){n.visible=!1;return}o(i,n,u,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var T=l("contours.type")==="constraint";l("connectgaps",y.isArray1D(n.z)),T?L(i,n,l,u,c):(M(i,n,l,g),v(i,n,l,u)),n.contours&&n.contours.coloring==="heatmap"&&p(l,u)}},87558:function(G,V,e){var y=e(71828),P=e(64237),o=e(53572);G.exports=function(M,v,p){for(var r=M.type==="constraint"?P[M._operation](M.value):M,t=r.size,i=[],n=o(r),c=p.trace._carpetTrace,u=c?{xaxis:c.aaxis,yaxis:c.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},l=r.start;l<n;l+=t)if(i.push(y.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},u)),i.length>1e3){y.warn("Too many contours, clipping at 1000",M);break}return i}},53572:function(G){G.exports=function(e){return e.end+e.size/1e6}},81696:function(G,V,e){var y=e(71828),P=e(36914);G.exports=function(t,i,n){var c,u,l,g,f;for(i=i||.01,n=n||.01,l=0;l<t.length;l++){for(g=t[l],f=0;f<g.starts.length;f++)u=g.starts[f],M(g,u,"edge",i,n);for(c=0;Object.keys(g.crossings).length&&c<1e4;)c++,u=Object.keys(g.crossings)[0].split(",").map(Number),M(g,u,void 0,i,n);c===1e4&&y.log("Infinite loop in contour?")}};function o(r,t,i,n){return Math.abs(r[0]-t[0])<i&&Math.abs(r[1]-t[1])<n}function L(r,t){var i=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(i*i+n*n)}function M(r,t,i,n,c){var u=t.join(","),l=r.crossings[u],g=v(l,i,t),f=[p(r,t,[-g[0],-g[1]])],T=r.z.length,h=r.z[0].length,s=t.slice(),d=g.slice(),A;for(A=0;A<1e4;A++){if(l>20?(l=P.CHOOSESADDLE[l][(g[0]||g[1])<0?0:1],r.crossings[u]=P.SADDLEREMAINDER[l]):delete r.crossings[u],g=P.NEWDELTA[l],!g){y.log("Found bad marching index:",l,t,r.level);break}f.push(p(r,t,g)),t[0]+=g[0],t[1]+=g[1],u=t.join(","),o(f[f.length-1],f[f.length-2],n,c)&&f.pop();var w=g[0]&&(t[0]<0||t[0]>h-2)||g[1]&&(t[1]<0||t[1]>T-2),C=t[0]===s[0]&&t[1]===s[1]&&g[0]===d[0]&&g[1]===d[1];if(C||i&&w)break;l=r.crossings[u]}A===1e4&&y.log("Infinite loop in contour?");var b=o(f[0],f[f.length-1],n,c),S=0,m=.2*r.smoothing,a=[],E=0,x,k,I,N,F,z,O,_,B,W,$;for(A=1;A<f.length;A++)O=L(f[A],f[A-1]),S+=O,a.push(O);var te=S/a.length*m;function ie(Y){return f[Y%f.length]}for(A=f.length-2;A>=E;A--)if(x=a[A],x<te){for(I=0,k=A-1;k>=E&&x+a[k]<te;k--)x+=a[k];if(b&&A===f.length-2)for(I=0;I<k&&x+a[I]<te;I++)x+=a[I];F=A-k+I+1,z=Math.floor((A+k+I+2)/2),!b&&A===f.length-2?N=f[f.length-1]:!b&&k===-1?N=f[0]:F%2?N=ie(z):N=[(ie(z)[0]+ie(z+1)[0])/2,(ie(z)[1]+ie(z+1)[1])/2],f.splice(k+1,A-k+1,N),A=k+1,I&&(E=I),b&&(A===f.length-2?f[I]=f[f.length-1]:A===0&&(f[f.length-1]=f[0]))}for(f.splice(0,E),A=0;A<f.length;A++)f[A].length=2;if(!(f.length<2))if(b)f.pop(),r.paths.push(f);else{i||y.log("Unclosed interior contour?",r.level,s.join(","),f.join("L"));var ue=!1;for(_=0;_<r.edgepaths.length;_++)if(W=r.edgepaths[_],!ue&&o(W[0],f[f.length-1],n,c)){f.pop(),ue=!0;var J=!1;for(B=0;B<r.edgepaths.length;B++)if($=r.edgepaths[B],o($[$.length-1],f[0],n,c)){J=!0,f.shift(),r.edgepaths.splice(_,1),B===_?r.paths.push(f.concat($)):(B>_&&B--,r.edgepaths[B]=$.concat(f,W));break}J||(r.edgepaths[_]=f.concat(W))}for(_=0;_<r.edgepaths.length&&!ue;_++)W=r.edgepaths[_],o(W[W.length-1],f[0],n,c)&&(f.shift(),r.edgepaths[_]=W.concat(f),ue=!0);ue||r.edgepaths.push(f)}}function v(r,t,i){var n=0,c=0;return r>20&&t?r===208||r===1114?n=i[0]===0?1:-1:c=i[1]===0?1:-1:P.BOTTOMSTART.indexOf(r)!==-1?c=1:P.LEFTSTART.indexOf(r)!==-1?n=1:P.TOPSTART.indexOf(r)!==-1?c=-1:n=-1,[n,c]}function p(r,t,i){var n=t[0]+Math.max(i[0],0),c=t[1]+Math.max(i[1],0),u=r.z[c][n],l=r.xaxis,g=r.yaxis;if(i[1]){var f=(r.level-u)/(r.z[c][n+1]-u),T=(f!==1?(1-f)*l.c2l(r.x[n]):0)+(f!==0?f*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(T),!0),g.c2p(r.y[c],!0),n+f,c]}else{var h=(r.level-u)/(r.z[c+1][n]-u),s=(h!==1?(1-h)*g.c2l(r.y[c]):0)+(h!==0?h*g.c2l(r.y[c+1]):0);return[l.c2p(r.x[n],!0),g.c2p(g.l2c(s),!0),n,c+h]}}},52421:function(G,V,e){var y=e(7901),P=e(46248);G.exports=function(L,M,v,p,r){r||(r={}),r.isContour=!0;var t=P(L,M,v,p,r);return t&&t.forEach(function(i){var n=i.trace;n.contours.type==="constraint"&&(n.fillcolor&&y.opacity(n.fillcolor)?i.color=y.addOpacity(n.fillcolor,1):n.contours.showlines&&y.opacity(n.line.color)&&(i.color=y.addOpacity(n.line.color,1)))}),t}},99442:function(G,V,e){G.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(G,V,e){var y=e(71828);G.exports=function(o,L,M,v){v||(v={});var p=o("contours.showlabels");if(p){var r=L.font;y.coerceFont(o,"contours.labelfont",{family:r.family,size:r.size,color:M}),o("contours.labelformat")}v.hasHover!==!1&&o("zhoverformat")}},86068:function(G,V,e){var y=e(39898),P=e(21081),o=e(53572);G.exports=function(M){var v=M.contours,p=v.start,r=o(v),t=v.size||1,i=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,c=P.extractOpts(M);isFinite(t)||(t=1,i=1);var u=c.reversescale?P.flipScale(c.colorscale):c.colorscale,l=u.length,g=new Array(l),f=new Array(l),T,h,s=c.min,d=c.max;if(v.coloring==="heatmap"){for(h=0;h<l;h++)T=u[h],g[h]=T[0]*(d-s)+s,f[h]=T[1];var A=y.extent([s,d,v.start,v.start+t*(i-1)]),w=A[s<d?0:1],C=A[s<d?1:0];w!==s&&(g.splice(0,0,w),f.splice(0,0,f[0])),C!==d&&(g.push(C),f.push(f[f.length-1]))}else{var b=M._input&&typeof M._input.zmin=="number"&&typeof M._input.zmax=="number";for(b&&(p<=s||r>=d)&&(p<=s&&(p=s),r>=d&&(r=d),i=Math.floor((r-p)/t)+1,n=0),h=0;h<l;h++)T=u[h],g[h]=(T[0]*(i+n-1)-n/2)*t+p,f[h]=T[1];(b||M.autocontour)&&(g[0]>s&&(g.unshift(s),f.unshift(f[0])),g[g.length-1]<d&&(g.push(d),f.push(f[f.length-1])))}return P.makeColorScaleFunc({domain:g,range:f},{noNumericCheck:!0})}},87678:function(G,V,e){var y=e(36914);G.exports=function(L){var M=L[0].z,v=M.length,p=M[0].length,r=v===2||p===2,t,i,n,c,u,l,g,f,T;for(i=0;i<v-1;i++)for(c=[],i===0&&(c=c.concat(y.BOTTOMSTART)),i===v-2&&(c=c.concat(y.TOPSTART)),t=0;t<p-1;t++)for(n=c.slice(),t===0&&(n=n.concat(y.LEFTSTART)),t===p-2&&(n=n.concat(y.RIGHTSTART)),u=t+","+i,l=[[M[i][t],M[i][t+1]],[M[i+1][t],M[i+1][t+1]]],T=0;T<L.length;T++)f=L[T],g=P(f.level,l),g&&(f.crossings[u]=g,n.indexOf(g)!==-1&&(f.starts.push([t,i]),r&&n.indexOf(g,n.indexOf(g)+1)!==-1&&f.starts.push([t,i])))};function P(o,L){var M=(L[0][0]>o?0:1)+(L[0][1]>o?0:2)+(L[1][1]>o?0:4)+(L[1][0]>o?0:8);if(M===5||M===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return o>v?M===5?713:1114:M===5?104:208}return M===15?0:M}},29854:function(G,V,e){var y=e(39898),P=e(71828),o=e(91424),L=e(21081),M=e(63893),v=e(89298),p=e(21994),r=e(50347),t=e(87678),i=e(81696),n=e(87558),c=e(84857),u=e(20083),l=e(36914),g=l.LABELOPTIMIZER;V.plot=function(b,S,m,a){var E=S.xaxis,x=S.yaxis;P.makeTraceGroups(a,m,"contour").each(function(k){var I=y.select(this),N=k[0],F=N.trace,z=N.x,O=N.y,_=F.contours,B=n(_,S,N),W=P.ensureSingle(I,"g","heatmapcoloring"),$=[];_.coloring==="heatmap"&&($=[k]),r(b,S,$,W),t(B),i(B);var te=E.c2p(z[0],!0),ie=E.c2p(z[z.length-1],!0),ue=x.c2p(O[0],!0),J=x.c2p(O[O.length-1],!0),Y=[[te,J],[ie,J],[ie,ue],[te,ue]],ae=B;_.type==="constraint"&&(ae=c(B,_._operation)),f(I,Y,_),T(I,ae,Y,_),s(I,B,b,N,_),A(I,S,b,N,Y)})};function f(C,b,S){var m=P.ensureSingle(C,"g","contourbg"),a=m.selectAll("path").data(S.coloring==="fill"?[0]:[]);a.enter().append("path"),a.exit().remove(),a.attr("d","M"+b.join("L")+"Z").style("stroke","none")}function T(C,b,S,m){var a=m.coloring==="fill"||m.type==="constraint"&&m._operation!=="=",E="M"+S.join("L")+"Z";a&&u(b,m);var x=P.ensureSingle(C,"g","contourfill"),k=x.selectAll("path").data(a?b:[]);k.enter().append("path"),k.exit().remove(),k.each(function(I){var N=(I.prefixBoundary?E:"")+h(I,S);N?y.select(this).attr("d",N).style("stroke","none"):y.select(this).remove()})}function h(C,b){var S="",m=0,a=C.edgepaths.map(function(te,ie){return ie}),E=!0,x,k,I,N,F,z;function O(te){return Math.abs(te[1]-b[0][1])<.01}function _(te){return Math.abs(te[1]-b[2][1])<.01}function B(te){return Math.abs(te[0]-b[0][0])<.01}function W(te){return Math.abs(te[0]-b[2][0])<.01}for(;a.length;){for(z=o.smoothopen(C.edgepaths[m],C.smoothing),S+=E?z:z.replace(/^M/,"L"),a.splice(a.indexOf(m),1),x=C.edgepaths[m][C.edgepaths[m].length-1],N=-1,I=0;I<4;I++){if(!x){P.log("Missing end?",m,C);break}for(O(x)&&!W(x)?k=b[1]:B(x)?k=b[0]:_(x)?k=b[3]:W(x)&&(k=b[2]),F=0;F<C.edgepaths.length;F++){var $=C.edgepaths[F][0];Math.abs(x[0]-k[0])<.01?Math.abs(x[0]-$[0])<.01&&($[1]-x[1])*(k[1]-$[1])>=0&&(k=$,N=F):Math.abs(x[1]-k[1])<.01?Math.abs(x[1]-$[1])<.01&&($[0]-x[0])*(k[0]-$[0])>=0&&(k=$,N=F):P.log("endpt to newendpt is not vert. or horz.",x,k,$)}if(x=k,N>=0)break;S+="L"+k}if(N===C.edgepaths.length){P.log("unclosed perimeter path");break}m=N,E=a.indexOf(m)===-1,E&&(m=a[0],S+="Z")}for(m=0;m<C.paths.length;m++)S+=o.smoothclosed(C.paths[m],C.smoothing);return S}function s(C,b,S,m,a){var E=S._context.staticPlot,x=P.ensureSingle(C,"g","contourlines"),k=a.showlines!==!1,I=a.showlabels,N=k&&I,F=V.createLines(x,k||I,b,E),z=V.createLineClip(x,N,S,m.trace.uid),O=C.selectAll("g.contourlabels").data(I?[0]:[]);if(O.exit().remove(),O.enter().append("g").classed("contourlabels",!0),I){var _=[],B=[];P.clearLocationCache();var W=V.labelFormatter(S,m),$=o.tester.append("text").attr("data-notex",1).call(o.font,a.labelfont),te=b[0].xaxis,ie=b[0].yaxis,ue=te._length,J=ie._length,Y=te.range,ae=ie.range,j=P.aggNums(Math.min,null,m.x),q=P.aggNums(Math.max,null,m.x),oe=P.aggNums(Math.min,null,m.y),Q=P.aggNums(Math.max,null,m.y),X=Math.max(te.c2p(j,!0),0),se=Math.min(te.c2p(q,!0),ue),ne=Math.max(ie.c2p(Q,!0),0),fe=Math.min(ie.c2p(oe,!0),J),ye={};Y[0]<Y[1]?(ye.left=X,ye.right=se):(ye.left=se,ye.right=X),ae[0]<ae[1]?(ye.top=ne,ye.bottom=fe):(ye.top=fe,ye.bottom=ne),ye.middle=(ye.top+ye.bottom)/2,ye.center=(ye.left+ye.right)/2,_.push([[ye.left,ye.top],[ye.right,ye.top],[ye.right,ye.bottom],[ye.left,ye.bottom]]);var Se=Math.sqrt(ue*ue+J*J),we=l.LABELDISTANCE*Se/Math.max(1,b.length/l.LABELINCREASE);F.each(function(_e){var ke=V.calcTextOpts(_e.level,W,$,S);y.select(this).selectAll("path").each(function(){var Me=this,me=P.getVisibleSegment(Me,ye,ke.height/2);if(me&&!(me.len<(ke.width+ke.height)*l.LABELMIN))for(var Ee=Math.min(Math.ceil(me.len/we),l.LABELMAX),Be=0;Be<Ee;Be++){var Ue=V.findBestTextLocation(Me,me,ke,B,ye);if(!Ue)break;V.addLabelData(Ue,ke,B,_)}})}),$.remove(),V.drawLabels(O,B,S,z,N?_:null)}I&&!k&&F.remove()}V.createLines=function(C,b,S,m){var a=S[0].smoothing,E=C.selectAll("g.contourlevel").data(b?S:[]);if(E.exit().remove(),E.enter().append("g").classed("contourlevel",!0),b){var x=E.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});x.exit().remove(),x.enter().append("path").classed("openline",!0),x.attr("d",function(I){return o.smoothopen(I,a)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke");var k=E.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(I){return o.smoothclosed(I,a)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke")}return E},V.createLineClip=function(C,b,S,m){var a=S._fullLayout._clips,E=b?"clipline"+m:null,x=a.selectAll("#"+E).data(b?[0]:[]);return x.exit().remove(),x.enter().append("clipPath").classed("contourlineclip",!0).attr("id",E),o.setClipUrl(C,E,S),x},V.labelFormatter=function(C,b){var S=C._fullLayout,m=b.trace,a=m.contours,E={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(a.labelformat)E.tickformat=a.labelformat,p(E,S);else{var x=L.extractOpts(m);if(x&&x.colorbar&&x.colorbar._axis)E=x.colorbar._axis;else{if(a.type==="constraint"){var k=a.value;P.isArrayOrTypedArray(k)?E.range=[k[0],k[k.length-1]]:E.range=[k,k]}else E.range=[a.start,a.end],E.nticks=(a.end-a.start)/a.size;E.range[0]===E.range[1]&&(E.range[1]+=E.range[0]||1),E.nticks||(E.nticks=1e3),p(E,S),v.prepTicks(E),E._tmin=null,E._tmax=null}}return function(I){return v.tickText(E,I).text}},V.calcTextOpts=function(C,b,S,m){var a=b(C);S.text(a).call(M.convertToTspans,m);var E=S.node(),x=o.bBox(E,!0);return{text:a,width:x.width,height:x.height,fontSize:+E.style["font-size"].replace("px",""),level:C,dy:(x.top+x.bottom)/2}},V.findBestTextLocation=function(C,b,S,m,a){var E=S.width,x,k,I,N,F;b.isClosed?(k=b.len/g.INITIALSEARCHPOINTS,x=b.min+k/2,I=b.max):(k=(b.len-E)/(g.INITIALSEARCHPOINTS+1),x=b.min+k+E/2,I=b.max-(k+E)/2);for(var z=1/0,O=0;O<g.ITERATIONS;O++){for(var _=x;_<I;_+=k){var B=P.getTextLocation(C,b.total,_,E),W=d(B,S,m,a);W<z&&(z=W,F=B,N=_)}if(z>g.MAXCOST*2)break;O&&(k/=2),x=N-k/2,I=x+k*1.5}if(z<=g.MAXCOST)return F};function d(C,b,S,m){var a=b.width/2,E=b.height/2,x=C.x,k=C.y,I=C.theta,N=Math.cos(I)*a,F=Math.sin(I)*a,z=(x>m.center?m.right-x:x-m.left)/(N+Math.abs(Math.sin(I)*E)),O=(k>m.middle?m.bottom-k:k-m.top)/(Math.abs(F)+Math.cos(I)*E);if(z<1||O<1)return 1/0;var _=g.EDGECOST*(1/(z-1)+1/(O-1));_+=g.ANGLECOST*I*I;for(var B=x-N,W=k-F,$=x+N,te=k+F,ie=0;ie<S.length;ie++){var ue=S[ie],J=Math.cos(ue.theta)*ue.width/2,Y=Math.sin(ue.theta)*ue.width/2,ae=P.segmentDistance(B,W,$,te,ue.x-J,ue.y-Y,ue.x+J,ue.y+Y)*2/(b.height+ue.height),j=ue.level===b.level,q=j?g.SAMELEVELDISTANCE:1;if(ae<=q)return 1/0;var oe=g.NEIGHBORCOST*(j?g.SAMELEVELFACTOR:1);_+=oe/(ae-q)}return _}V.addLabelData=function(C,b,S,m){var a=b.fontSize,E=b.width+a/3,x=Math.max(0,b.height-a/3),k=C.x,I=C.y,N=C.theta,F=Math.sin(N),z=Math.cos(N),O=function(B,W){return[k+B*z-W*F,I+B*F+W*z]},_=[O(-E/2,-x/2),O(-E/2,x/2),O(E/2,x/2),O(E/2,-x/2)];S.push({text:b.text,x:k,y:I,dy:b.dy,theta:N,level:b.level,width:E,height:x}),m.push(_)},V.drawLabels=function(C,b,S,m,a){var E=C.selectAll("text").data(b,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(E.exit().remove(),E.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var F=N.x+Math.sin(N.theta)*N.dy,z=N.y-Math.cos(N.theta)*N.dy;y.select(this).text(N.text).attr({x:F,y:z,transform:"rotate("+180*N.theta/Math.PI+" "+F+" "+z+")"}).call(M.convertToTspans,S)}),a){for(var x="",k=0;k<a.length;k++)x+="M"+a[k].join("L")+"Z";var I=P.ensureSingle(m,"path","");I.attr("d",x)}};function A(C,b,S,m,a){var E=m.trace,x=S._fullLayout._clips,k="clip"+E.uid,I=x.selectAll("#"+k).data(E.connectgaps?[]:[0]);if(I.enter().append("clipPath").classed("contourclip",!0).attr("id",k),I.exit().remove(),E.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:b.xaxis,yaxis:b.yaxis,x:m.x,y:m.y,z:w(m),smoothing:0};t([N]),i([N]),u([N],{type:"levels"});var F=P.ensureSingle(I,"path","");F.attr("d",(N.prefixBoundary?"M"+a.join("L")+"Z":"")+h(N,a))}else k=null;o.setClipUrl(C,k,S)}function w(C){var b=C.trace._emptypoints,S=[],m=C.z.length,a=C.z[0].length,E,x=[],k;for(E=0;E<a;E++)x.push(1);for(E=0;E<m;E++)S.push(x.slice());for(E=0;E<b.length;E++)k=b[E],S[k[0]][k[1]]=0;return C.zmask=S,S}},18670:function(G,V,e){var y=e(89298),P=e(71828);G.exports=function(M,v){var p=M.contours;if(M.autocontour){var r=M.zmin,t=M.zmax;(M.zauto||r===void 0)&&(r=P.aggNums(Math.min,null,v)),(M.zauto||t===void 0)&&(t=P.aggNums(Math.max,null,v));var i=o(r,t,M.ncontours);p.size=i.dtick,p.start=y.tickFirst(i),i.range.reverse(),p.end=y.tickFirst(i),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),M._input.contours||(M._input.contours={}),P.extendFlat(M._input.contours,{start:p.start,end:p.end,size:p.size}),M._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,c=p.end,u=M._input.contours;if(n>c&&(p.start=u.start=c,c=p.end=u.end=n,n=p.start),!(p.size>0)){var l;n===c?l=1:l=o(n,c,M.ncontours).dtick,u.size=p.size=l}}};function o(L,M,v){var p={type:"linear",range:[L,M]};return y.autoTicks(p,(M-L)/(v||15)),p}},84426:function(G,V,e){var y=e(39898),P=e(91424),o=e(70035),L=e(86068);G.exports=function(v){var p=y.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=y.select(this),i=r[0].trace,n=i.contours,c=i.line,u=n.size||1,l=n.start,g=n.type==="constraint",f=!g&&n.coloring==="lines",T=!g&&n.coloring==="fill",h=f||T?L(i):null;t.selectAll("g.contourlevel").each(function(A){y.select(this).selectAll("path").call(P.lineGroupStyle,c.width,f?h(A.level):c.color,c.dash)});var s=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(A){P.font(y.select(this),{family:s.family,size:s.size,color:s.color||(f?h(A.level):c.color)})}),g)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(T){var d;t.selectAll("g.contourfill path").style("fill",function(A){return d===void 0&&(d=A.level),h(A.level+.5*u)}),d===void 0&&(d=l),t.selectAll("g.contourbg path").style("fill",h(d-.5*u))}}),o(v)}},8724:function(G,V,e){var y=e(1586),P=e(14523);G.exports=function(L,M,v,p,r){var t=v("contours.coloring"),i,n="";t==="fill"&&(i=v("contours.showlines")),i!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(L.showlegend!==!0&&(M.showlegend=!1),M._dfltShowLegend=!1,y(L,M,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),P(v,p,n,r)}},88085:function(G,V,e){var y=e(21606),P=e(70600),o=e(50693),L=e(1426).extendFlat,M=P.contours;G.exports=L({carpet:{valType:"string",editType:"calc"},z:y.z,a:y.x,a0:y.x0,da:y.dx,b:y.y,b0:y.y0,db:y.dy,text:y.text,hovertext:y.hovertext,transpose:y.transpose,atype:y.xtype,btype:y.ytype,fillcolor:P.fillcolor,autocontour:P.autocontour,ncontours:P.ncontours,contours:{type:M.type,start:M.start,end:M.end,size:M.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:M.showlines,showlabels:M.showlabels,labelfont:M.labelfont,labelformat:M.labelformat,operation:M.operation,value:M.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:P.line.color,width:P.line.width,dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},transforms:void 0},o("",{cLetter:"z",autoColorDflt:!1}))},59885:function(G,V,e){var y=e(78803),P=e(71828),o=e(68296),L=e(4742),M=e(824),v=e(43907),p=e(70769),r=e(75005),t=e(22882),i=e(18670);G.exports=function(u,l){var g=l._carpetTrace=t(u,l);if(!(!g||!g.visible||g.visible==="legendonly")){if(!l.a||!l.b){var f=u.data[g.index],T=u.data[l.index];T.a||(T.a=f.a),T.b||(T.b=f.b),r(T,l,l._defaultColor,u._fullLayout)}var h=n(u,l);return i(l,l._z),h}};function n(c,u){var l=u._carpetTrace,g=l.aaxis,f=l.baxis,T,h,s,d,A,w,C;g._minDtick=0,f._minDtick=0,P.isArray1D(u.z)&&o(u,g,f,"a","b",["z"]),T=u._a=u._a||u.a,d=u._b=u._b||u.b,T=T?g.makeCalcdata(u,"_a"):[],d=d?f.makeCalcdata(u,"_b"):[],h=u.a0||0,s=u.da||1,A=u.b0||0,w=u.db||1,C=u._z=L(u._z||u.z,u.transpose),u._emptypoints=v(C),M(C,u._emptypoints);var b=P.maxRowLength(C),S=u.xtype==="scaled"?"":T,m=p(u,S,h,s,b,g),a=u.ytype==="scaled"?"":d,E=p(u,a,A,w,C.length,f),x={a:m,b:E,z:C};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&y(c,u,{vals:C,containerStr:"",cLetter:"z"}),[x]}},75005:function(G,V,e){var y=e(71828),P=e(67684),o=e(88085),L=e(83179),M=e(67217),v=e(8724);G.exports=function(r,t,i,n){function c(f,T){return y.coerce(r,t,o,f,T)}function u(f){return y.coerce2(r,t,o,f)}if(c("carpet"),r.a&&r.b){var l=P(r,t,c,n,"a","b");if(!l){t.visible=!1;return}c("text");var g=c("contours.type")==="constraint";g?L(r,t,c,n,i,{hasHover:!1}):(M(r,t,c,u),v(r,t,c,n,{hasHover:!1}))}else t._defaultColor=i,t._length=null}},93740:function(G,V,e){G.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(G,V,e){var y=e(39898),P=e(27669),o=e(67961),L=e(91424),M=e(71828),v=e(87678),p=e(81696),r=e(29854),t=e(36914),i=e(84857),n=e(87558),c=e(20083),u=e(22882),l=e(4536);G.exports=function(S,m,a,E){var x=m.xaxis,k=m.yaxis;M.makeTraceGroups(E,a,"contour").each(function(I){var N=y.select(this),F=I[0],z=F.trace,O=z._carpetTrace=u(S,z),_=S.calcdata[O.index][0];if(!O.visible||O.visible==="legendonly")return;var B=F.a,W=F.b,$=z.contours,te=n($,m,F),ie=$.type==="constraint",ue=$._operation,J=ie?ue==="="?"lines":"fill":$.coloring;function Y(Se){var we=O.ab2xy(Se[0],Se[1],!0);return[x.c2p(we[0]),k.c2p(we[1])]}var ae=[[B[0],W[W.length-1]],[B[B.length-1],W[W.length-1]],[B[B.length-1],W[0]],[B[0],W[0]]];v(te);var j=(B[B.length-1]-B[0])*1e-8,q=(W[W.length-1]-W[0])*1e-8;p(te,j,q);var oe=te;$.type==="constraint"&&(oe=i(te,ue)),g(te,Y);var Q,X,se,ne,fe=[];for(ne=_.clipsegments.length-1;ne>=0;ne--)Q=_.clipsegments[ne],X=P([],Q.x,x.c2p),se=P([],Q.y,k.c2p),X.reverse(),se.reverse(),fe.push(o(X,se,Q.bicubic));var ye="M"+fe.join("L")+"Z";A(N,_.clipsegments,x,k,ie,J),w(z,N,x,k,oe,ae,Y,O,_,J,ye),f(N,te,S,F,$,m,O),L.setClipUrl(N,O._clipPathId,S)})};function g(b,S){var m,a,E,x,k,I,N,F,z;for(m=0;m<b.length;m++){for(x=b[m],k=x.pedgepaths=[],I=x.ppaths=[],a=0;a<x.edgepaths.length;a++){for(z=x.edgepaths[a],N=[],E=0;E<z.length;E++)N[E]=S(z[E]);k.push(N)}for(a=0;a<x.paths.length;a++){for(z=x.paths[a],F=[],E=0;E<z.length;E++)F[E]=S(z[E]);I.push(F)}}}function f(b,S,m,a,E,x,k){var I=m._context.staticPlot,N=M.ensureSingle(b,"g","contourlines"),F=E.showlines!==!1,z=E.showlabels,O=F&&z,_=r.createLines(N,F||z,S,I),B=r.createLineClip(N,O,m,a.trace.uid),W=b.selectAll("g.contourlabels").data(z?[0]:[]);if(W.exit().remove(),W.enter().append("g").classed("contourlabels",!0),z){var $=x.xaxis,te=x.yaxis,ie=$._length,ue=te._length,J=[[[0,0],[ie,0],[ie,ue],[0,ue]]],Y=[];M.clearLocationCache();var ae=r.labelFormatter(m,a),j=L.tester.append("text").attr("data-notex",1).call(L.font,E.labelfont),q={left:0,right:ie,center:ie/2,top:0,bottom:ue,middle:ue/2},oe=Math.sqrt(ie*ie+ue*ue),Q=t.LABELDISTANCE*oe/Math.max(1,S.length/t.LABELINCREASE);_.each(function(X){var se=r.calcTextOpts(X.level,ae,j,m);y.select(this).selectAll("path").each(function(ne){var fe=this,ye=M.getVisibleSegment(fe,q,se.height/2);if(ye&&(T(fe,ne,X,ye,k,se.height),!(ye.len<(se.width+se.height)*t.LABELMIN)))for(var Se=Math.min(Math.ceil(ye.len/Q),t.LABELMAX),we=0;we<Se;we++){var _e=r.findBestTextLocation(fe,ye,se,Y,q);if(!_e)break;r.addLabelData(_e,se,Y,J)}})}),j.remove(),r.drawLabels(W,Y,m,B,O?J:null)}z&&!F&&_.remove()}function T(b,S,m,a,E,x){for(var k,I=0;I<m.pedgepaths.length;I++)S===m.pedgepaths[I]&&(k=m.edgepaths[I]);if(!k)return;var N=E.a[0],F=E.a[E.a.length-1],z=E.b[0],O=E.b[E.b.length-1];function _(ie,ue){var J=0,Y,ae=.1;return(Math.abs(ie[0]-N)<ae||Math.abs(ie[0]-F)<ae)&&(Y=s(E.dxydb_rough(ie[0],ie[1],ae)),J=Math.max(J,x*d(ue,Y)/2)),(Math.abs(ie[1]-z)<ae||Math.abs(ie[1]-O)<ae)&&(Y=s(E.dxyda_rough(ie[0],ie[1],ae)),J=Math.max(J,x*d(ue,Y)/2)),J}var B=h(b,0,1),W=h(b,a.total,a.total-1),$=_(k[0],B),te=a.total-_(k[k.length-1],W);a.min<$&&(a.min=$),a.max>te&&(a.max=te),a.len=a.max-a.min}function h(b,S,m){var a=b.getPointAtLength(S),E=b.getPointAtLength(m),x=E.x-a.x,k=E.y-a.y,I=Math.sqrt(x*x+k*k);return[x/I,k/I]}function s(b){var S=Math.sqrt(b[0]*b[0]+b[1]*b[1]);return[b[0]/S,b[1]/S]}function d(b,S){var m=Math.abs(b[0]*S[0]+b[1]*S[1]),a=Math.sqrt(1-m*m);return a/m}function A(b,S,m,a,E,x){var k,I,N,F,z=M.ensureSingle(b,"g","contourbg"),O=z.selectAll("path").data(x==="fill"&&!E?[0]:[]);O.enter().append("path"),O.exit().remove();var _=[];for(F=0;F<S.length;F++)k=S[F],I=P([],k.x,m.c2p),N=P([],k.y,a.c2p),_.push(o(I,N,k.bicubic));O.attr("d","M"+_.join("L")+"Z").style("stroke","none")}function w(b,S,m,a,E,x,k,I,N,F,z){var O=F==="fill";O&&c(E,b.contours);var _=M.ensureSingle(S,"g","contourfill"),B=_.selectAll("path").data(O?E:[]);B.enter().append("path"),B.exit().remove(),B.each(function(W){var $=(W.prefixBoundary?z:"")+C(b,W,x,k,I,N,m,a);$?y.select(this).attr("d",$).style("stroke","none"):y.select(this).remove()})}function C(b,S,m,a,E,x,k,I){var N,F="",z=S.edgepaths.map(function(se,ne){return ne}),O=!0,_,B,W,$,te,ie,ue=Math.abs(m[0][0]-m[2][0])*1e-4,J=Math.abs(m[0][1]-m[2][1])*1e-4;function Y(se){return Math.abs(se[1]-m[0][1])<J}function ae(se){return Math.abs(se[1]-m[2][1])<J}function j(se){return Math.abs(se[0]-m[0][0])<ue}function q(se){return Math.abs(se[0]-m[2][0])<ue}function oe(se,ne){var fe,ye,Se,we,_e="";for(Y(se)&&!q(se)||ae(se)&&!j(se)?(we=E.aaxis,Se=l(E,x,[se[0],ne[0]],.5*(se[1]+ne[1]))):(we=E.baxis,Se=l(E,x,.5*(se[0]+ne[0]),[se[1],ne[1]])),fe=1;fe<Se.length;fe++)for(_e+=we.smoothing?"C":"L",ye=0;ye<Se[fe].length;ye++){var ke=Se[fe][ye];_e+=[k.c2p(ke[0]),I.c2p(ke[1])]+" "}return _e}for(N=0,_=null;z.length;){var Q=S.edgepaths[N][0];for(_&&(F+=oe(_,Q)),ie=L.smoothopen(S.edgepaths[N].map(a),S.smoothing),F+=O?ie:ie.replace(/^M/,"L"),z.splice(z.indexOf(N),1),_=S.edgepaths[N][S.edgepaths[N].length-1],$=-1,W=0;W<4;W++){if(!_){M.log("Missing end?",N,S);break}for(Y(_)&&!q(_)?B=m[1]:j(_)?B=m[0]:ae(_)?B=m[3]:q(_)&&(B=m[2]),te=0;te<S.edgepaths.length;te++){var X=S.edgepaths[te][0];Math.abs(_[0]-B[0])<ue?Math.abs(_[0]-X[0])<ue&&(X[1]-_[1])*(B[1]-X[1])>=0&&(B=X,$=te):Math.abs(_[1]-B[1])<J?Math.abs(_[1]-X[1])<J&&(X[0]-_[0])*(B[0]-X[0])>=0&&(B=X,$=te):M.log("endpt to newendpt is not vert. or horz.",_,B,X)}if($>=0)break;F+=oe(_,B),_=B}if($===S.edgepaths.length){M.log("unclosed perimeter path");break}N=$,O=z.indexOf(N)===-1,O&&(N=z[0],F+=oe(_,B)+"Z",_=null)}for(N=0;N<S.paths.length;N++)F+=L.smoothclosed(S.paths[N].map(a),S.smoothing);return F}},64096:function(G,V,e){var y=e(50693),P=e(5386).fF,o=e(9012),L=e(99181),M=e(1426).extendFlat;G.exports=M({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:M({},o.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:P(),showlegend:M({},o.showlegend,{dflt:!1})},y("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(G,V,e){var y=e(92770),P=e(71828).isArrayOrTypedArray,o=e(50606).BADNUM,L=e(78803),M=e(71828)._;G.exports=function(p,r){for(var t=r._length,i=new Array(t),n=r.z,c=P(n)&&n.length,u=0;u<t;u++){var l=i[u]={},g=r.lon[u],f=r.lat[u];if(l.lonlat=y(g)&&y(f)?[+g,+f]:[o,o],c){var T=n[u];l.z=y(T)?T:o}}return L(p,r,{vals:c?n:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:M(p,"lat:")+" ",lon:M(p,"lon:")+" "}}),i}},52414:function(G,V,e){var y=e(92770),P=e(71828),o=e(7901),L=e(21081),M=e(50606).BADNUM,v=e(18214).makeBlank;G.exports=function(r){var t=r[0].trace,i=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},c=t._opts={heatmap:n,geojson:v()};if(!i)return c;var u=[],l,g=t.z,f=t.radius,T=P.isArrayOrTypedArray(g)&&g.length,h=P.isArrayOrTypedArray(f);for(l=0;l<r.length;l++){var s=r[l],d=s.lonlat;if(d[0]!==M){var A={};if(T){var w=s.z;A.z=w!==M?w:0}h&&(A.r=y(f[l])&&f[l]>0?+f[l]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:A})}}var C=L.extractOpts(t),b=C.reversescale?L.flipScale(C.colorscale):C.colorscale,S=b[0][1],m=o.opacity(S)<1?S:o.addOpacity(S,0),a=["interpolate",["linear"],["heatmap-density"],0,m];for(l=1;l<b.length;l++)a.push(b[l][0],b[l][1]);var E=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return P.extendFlat(c.heatmap.paint,{"heatmap-weight":T?E:1/(C.max-C.min),"heatmap-color":a,"heatmap-radius":h?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),c.geojson={type:"FeatureCollection",features:u},c.heatmap.layout.visibility="visible",c}},79429:function(G,V,e){var y=e(71828),P=e(1586),o=e(64096);G.exports=function(M,v,p,r){function t(u,l){return y.coerce(M,v,o,u,l)}var i=t("lon")||[],n=t("lat")||[],c=Math.min(i.length,n.length);if(!c){v.visible=!1;return}v._length=c,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),P(M,v,r,t,{prefix:"",cLetter:"z"})}},62474:function(G){G.exports=function(e,y){return e.lon=y.lon,e.lat=y.lat,e.z=y.z,e}},84684:function(G,V,e){var y=e(89298),P=e(28178).hoverPoints,o=e(28178).getExtraText;G.exports=function(M,v,p){var r=P(M,v,p);if(r){var t=r[0],i=t.cd,n=i[0].trace,c=i[t.index];if(delete t.color,"z"in c){var u=t.subplot.mockAxis;t.z=c.z,t.zLabel=y.tickText(u,u.c2l(c.z),"hover").text}return t.extraText=o(n,c,i[0].t.labels),[t]}}},93814:function(G,V,e){G.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(y,P){for(var o=P.getMapLayers(),L=0;L<o.length;L++){var M=o[L],v=M.id;if(M.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(G,V,e){var y=e(52414),P=e(77734).traceLayerPrefix;function o(M,v){this.type="densitymapbox",this.subplot=M,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",P+v+"-heatmap"]],this.below=null}var L=o.prototype;L.update=function(M){var v=this.subplot,p=this.layerList,r=y(M),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var i=0;i<p.length;i++){var n=p[i],c=n[0],u=n[1],l=r[c];v.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",l.paint)}},L._addLayers=function(M,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,i=0;i<r.length;i++){var n=r[i],c=n[0],u=M[c];p.addLayer({type:c,id:n[1],source:t,layout:u.layout,paint:u.paint},v)}},L._removeLayers=function(){for(var M=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)M.removeLayer(v[p][1])},L.dispose=function(){var M=this.subplot.map;this._removeLayers(),M.removeSource(this.sourceId)},G.exports=function(v,p){var r=p[0].trace,t=new o(v,r.uid),i=t.sourceId,n=y(p),c=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(i,{type:"geojson",data:n.geojson}),t._addLayers(n,c),t}},49789:function(G,V,e){var y=e(71828);G.exports=function(o,L){for(var M=0;M<o.length;M++)o[M].i=M;y.mergeArray(L.text,o,"tx"),y.mergeArray(L.hovertext,o,"htx");var v=L.marker;if(v){y.mergeArray(v.opacity,o,"mo"),y.mergeArray(v.color,o,"mc");var p=v.line;p&&(y.mergeArray(p.color,o,"mlc"),y.mergeArrayCastPositive(p.width,o,"mlw"))}}},1285:function(G,V,e){var y=e(1486),P=e(82196).line,o=e(9012),L=e(12663).axisHoverFormat,M=e(5386).fF,v=e(5386).si,p=e(18517),r=e(1426).extendFlat,t=e(7901);G.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:y.hovertext,hovertemplate:M({},{keys:p.eventDataKeys}),hoverinfo:r({},o.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:y.text,textposition:y.textposition,insidetextanchor:r({},y.insidetextanchor,{dflt:"middle"}),textangle:r({},y.textangle,{dflt:0}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:r({},y.orientation,{}),offset:r({},y.offset,{arrayOk:!1}),width:r({},y.width,{arrayOk:!1}),marker:i(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{dflt:0,editType:"plot"}),dash:P.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup};function i(){var n=r({},y.marker);return delete n.pattern,n}},9532:function(G,V,e){var y=e(89298),P=e(42973),o=e(49789),L=e(66279),M=e(50606).BADNUM;G.exports=function(r,t){var i=y.getFromId(r,t.xaxis||"x"),n=y.getFromId(r,t.yaxis||"y"),c,u,l,g,f,T,h,s;t.orientation==="h"?(c=i.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),g=P(t,n,"y",l),f=!!t.yperiodalignment,T="y"):(c=n.makeCalcdata(t,"y"),l=i.makeCalcdata(t,"x"),g=P(t,i,"x",l),f=!!t.xperiodalignment,T="x"),u=g.vals;var d=Math.min(u.length,c.length),A=new Array(d);for(t._base=[],h=0;h<d;h++){c[h]<0&&(c[h]=M);var w=!1;c[h]!==M&&h+1<d&&c[h+1]!==M&&(w=!0),s=A[h]={p:u[h],s:c[h],cNext:w},t._base[h]=-.5*s.s,f&&(A[h].orig_p=l[h],A[h][T+"End"]=g.ends[h],A[h][T+"Start"]=g.starts[h]),t.ids&&(s.id=String(t.ids[h])),h===0&&(A[0].vTotal=0),A[0].vTotal+=v(s.s),s.begR=v(s.s)/v(A[0].s)}var C;for(h=0;h<d;h++)s=A[h],s.s!==M&&(s.sumR=s.s/A[0].vTotal,s.difR=C!==void 0?s.s/C:1,C=s.s);return o(A,t),L(A,t),A};function v(p){return p===M?0:p}},18517:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(G,V,e){var y=e(11661).setGroupPositions;G.exports=function(o,L){var M=o._fullLayout,v=o._fullData,p=o.calcdata,r=L.xaxis,t=L.yaxis,i=[],n=[],c=[],u,l;for(l=0;l<v.length;l++){var g=v[l],f=g.orientation==="h";g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="funnel"&&(u=p[l],f?c.push(u):n.push(u),i.push(u))}var T={mode:M.funnelmode,norm:M.funnelnorm,gap:M.funnelgap,groupgap:M.funnelgroupgap};for(y(o,r,t,n,T),y(o,t,r,c,T),l=0;l<i.length;l++){u=i[l];for(var h=0;h<u.length;h++)h+1<u.length&&(u[h].nextP0=u[h+1].p0,u[h].nextS0=u[h+1].s0,u[h].nextP1=u[h+1].p1,u[h].nextS1=u[h+1].s1)}}},26199:function(G,V,e){var y=e(71828),P=e(26125),o=e(90769).handleText,L=e(67513),M=e(73927),v=e(1285),p=e(7901);function r(n,c,u,l){function g(w,C){return y.coerce(n,c,v,w,C)}var f=L(n,c,l,g);if(!f){c.visible=!1;return}M(n,c,l,g),g("xhoverformat"),g("yhoverformat"),g("orientation",c.y&&!c.x?"v":"h"),g("offset"),g("width");var T=g("text");g("hovertext"),g("hovertemplate");var h=g("textposition");o(n,c,l,g,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c.textposition!=="none"&&!c.texttemplate&&g("textinfo",y.isArrayOrTypedArray(T)?"text+value":"value");var s=g("marker.color",u);g("marker.line.color",p.defaultLine),g("marker.line.width");var d=g("connector.visible");if(d){g("connector.fillcolor",t(s));var A=g("connector.line.width");A&&(g("connector.line.color"),g("connector.line.dash"))}}function t(n){var c=y.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(c,.5*p.opacity(c))}function i(n,c){var u,l;function g(T){return y.coerce(l._input,l,v,T)}if(c.funnelmode==="group")for(var f=0;f<n.length;f++)l=n[f],u=l._input,P(u,l,c,g)}G.exports={supplyDefaults:r,crossTraceDefaults:i}},34598:function(G){G.exports=function(e,y){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"percentInitial"in y&&(e.percentInitial=y.percentInitial),"percentPrevious"in y&&(e.percentPrevious=y.percentPrevious),"percentTotal"in y&&(e.percentTotal=y.percentTotal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},63341:function(G,V,e){var y=e(7901).opacity,P=e(95423).hoverOnBars,o=e(71828).formatPercent;G.exports=function(v,p,r,t,i){var n=P(v,p,r,t,i);if(n){var c=n.cd,u=c[0].trace,l=u.orientation==="h",g=n.index,f=c[g],T=l?"x":"y";n[T+"LabelVal"]=f.s,n.percentInitial=f.begR,n.percentInitialLabel=o(f.begR,1),n.percentPrevious=f.difR,n.percentPreviousLabel=o(f.difR,1),n.percentTotal=f.sumR,n.percentTotalLabel=o(f.sumR,1);var h=f.hi||u.hoverinfo,s=[];if(h&&h!=="none"&&h!=="skip"){var d=h==="all",A=h.split("+"),w=function(C){return d||A.indexOf(C)!==-1};w("percent initial")&&s.push(n.percentInitialLabel+" of initial"),w("percent previous")&&s.push(n.percentPreviousLabel+" of previous"),w("percent total")&&s.push(n.percentTotalLabel+" of total")}return n.extraText=s.join("<br>"),n.color=L(u,f),[n]}};function L(M,v){var p=M.marker,r=v.mc||p.color,t=v.mlc||p.line.color,i=v.mlw||p.line.width;if(y(r))return r;if(y(t)&&i)return t}},51759:function(G,V,e){G.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(G,V,e){var y=e(71828),P=e(10440);G.exports=function(o,L,M){var v=!1;function p(i,n){return y.coerce(o,L,P,i,n)}for(var r=0;r<M.length;r++){var t=M[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},80461:function(G,V,e){var y=e(39898),P=e(71828),o=e(91424),L=e(50606).BADNUM,M=e(17295),v=e(72597).clearMinTextSize;G.exports=function(n,c,u,l){var g=n._fullLayout;v("funnel",g),p(n,c,u,l),r(n,c,u,l),M.plot(n,c,u,l,{mode:g.funnelmode,norm:g.funnelmode,gap:g.funnelgap,groupgap:g.funnelgroupgap})};function p(i,n,c,u){var l=n.xaxis,g=n.yaxis;P.makeTraceGroups(u,c,"trace bars").each(function(f){var T=y.select(this),h=f[0].trace,s=P.ensureSingle(T,"g","regions");if(!h.connector||!h.connector.visible){s.remove();return}var d=h.orientation==="h",A=s.selectAll("g.region").data(P.identity);A.enter().append("g").classed("region",!0),A.exit().remove();var w=A.size();A.each(function(C,b){if(!(b!==w-1&&!C.cNext)){var S=t(C,l,g,d),m=S[0],a=S[1],E="";m[0]!==L&&a[0]!==L&&m[1]!==L&&a[1]!==L&&m[2]!==L&&a[2]!==L&&m[3]!==L&&a[3]!==L&&(d?E+="M"+m[0]+","+a[1]+"L"+m[2]+","+a[2]+"H"+m[3]+"L"+m[1]+","+a[1]+"Z":E+="M"+m[1]+","+a[1]+"L"+m[2]+","+a[3]+"V"+a[2]+"L"+m[1]+","+a[0]+"Z"),E===""&&(E="M0,0Z"),P.ensureSingle(y.select(this),"path").attr("d",E).call(o.setClipUrl,n.layerClipId,i)}})})}function r(i,n,c,u){var l=n.xaxis,g=n.yaxis;P.makeTraceGroups(u,c,"trace bars").each(function(f){var T=y.select(this),h=f[0].trace,s=P.ensureSingle(T,"g","lines");if(!h.connector||!h.connector.visible||!h.connector.line.width){s.remove();return}var d=h.orientation==="h",A=s.selectAll("g.line").data(P.identity);A.enter().append("g").classed("line",!0),A.exit().remove();var w=A.size();A.each(function(C,b){if(!(b!==w-1&&!C.cNext)){var S=t(C,l,g,d),m=S[0],a=S[1],E="";m[3]!==void 0&&a[3]!==void 0&&(d?(E+="M"+m[0]+","+a[1]+"L"+m[2]+","+a[2],E+="M"+m[1]+","+a[1]+"L"+m[3]+","+a[2]):(E+="M"+m[1]+","+a[1]+"L"+m[2]+","+a[3],E+="M"+m[1]+","+a[0]+"L"+m[2]+","+a[2])),E===""&&(E="M0,0Z"),P.ensureSingle(y.select(this),"path").attr("d",E).call(o.setClipUrl,n.layerClipId,i)}})})}function t(i,n,c,u){var l=[],g=[],f=u?n:c,T=u?c:n;return l[0]=f.c2p(i.s0,!0),g[0]=T.c2p(i.p0,!0),l[1]=f.c2p(i.s1,!0),g[1]=T.c2p(i.p1,!0),l[2]=f.c2p(i.nextS0,!0),g[2]=T.c2p(i.nextP0,!0),l[3]=f.c2p(i.nextS1,!0),g[3]=T.c2p(i.nextP1,!0),u?[l,g]:[g,l]}},68266:function(G,V,e){var y=e(39898),P=e(91424),o=e(7901),L=e(37822).DESELECTDIM,M=e(16688),v=e(72597).resizeText,p=M.styleTextPoints;function r(t,i,n){var c=n||y.select(t).selectAll("g.funnellayer").selectAll("g.trace");v(t,c,"funnel"),c.style("opacity",function(u){return u[0].trace.opacity}),c.each(function(u){var l=y.select(this),g=u[0].trace;l.selectAll(".point > path").each(function(f){if(!f.isBlank){var T=g.marker;y.select(this).call(o.fill,f.mc||T.color).call(o.stroke,f.mlc||T.line.color).call(P.dashLine,T.line.dash,f.mlw||T.line.width).style("opacity",g.selectedpoints&&!f.selected?L:1)}}),p(l,g,t),l.selectAll(".regions").each(function(){y.select(this).selectAll("path").style("stroke-width",0).call(o.fill,g.connector.fillcolor)}),l.selectAll(".lines").each(function(){var f=g.connector.line;P.lineGroupStyle(y.select(this).selectAll("path"),f.width,f.color,f.dash)})})}G.exports={style:r}},86807:function(G,V,e){var y=e(34e3),P=e(9012),o=e(27670).Y,L=e(5386).fF,M=e(5386).si,v=e(1426).extendFlat;G.exports={labels:y.labels,label0:y.label0,dlabel:y.dlabel,values:y.values,marker:{colors:y.marker.colors,line:{color:v({},y.marker.line.color,{dflt:null}),width:v({},y.marker.line.width,{dflt:1}),editType:"calc"},pattern:y.marker.pattern,editType:"calc"},text:y.text,hovertext:y.hovertext,scalegroup:v({},y.scalegroup,{}),textinfo:v({},y.textinfo,{flags:["label","text","value","percent"]}),texttemplate:M({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},P.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},y.textposition,{values:["inside","none"],dflt:"inside"}),textfont:y.textfont,insidetextfont:y.insidetextfont,title:{text:y.title.text,font:y.title.font,position:v({},y.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:o({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(G,V,e){var y=e(74875);V.name="funnelarea",V.plot=function(P,o,L,M){y.plotBasePlot(V.name,P,o,L,M)},V.clean=function(P,o,L,M){y.cleanBasePlot(V.name,P,o,L,M)}},89574:function(G,V,e){var y=e(32354);function P(L,M){return y.calc(L,M)}function o(L){y.crossTraceCalc(L,{type:"funnelarea"})}G.exports={calc:P,crossTraceCalc:o}},86282:function(G,V,e){var y=e(71828),P=e(86807),o=e(27670).c,L=e(90769).handleText,M=e(37434).handleLabelsAndValues,v=e(37434).handleMarkerDefaults;G.exports=function(r,t,i,n){function c(w,C){return y.coerce(r,t,P,w,C)}var u=c("labels"),l=c("values"),g=M(u,l),f=g.len;if(t._hasLabels=g.hasLabels,t._hasValues=g.hasValues,!t._hasLabels&&t._hasValues&&(c("label0"),c("dlabel")),!f){t.visible=!1;return}t._length=f,v(r,t,n,c),c("scalegroup");var T=c("text"),h=c("texttemplate"),s;if(h||(s=c("textinfo",Array.isArray(T)?"text+percent":"percent")),c("hovertext"),c("hovertemplate"),h||s&&s!=="none"){var d=c("textposition");L(r,t,n,c,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}o(t,n,c);var A=c("title.text");A&&(c("title.position"),y.coerceFont(c,"title.font",n.font)),c("aspectratio"),c("baseratio")}},10421:function(G,V,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(G,V,e){var y=e(92774).hiddenlabels;G.exports={hiddenlabels:y,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(G,V,e){var y=e(71828),P=e(80097);G.exports=function(L,M){function v(p,r){return y.coerce(L,M,P,p,r)}v("hiddenlabels"),v("funnelareacolorway",M.colorway),v("extendfunnelareacolors")}},79187:function(G,V,e){var y=e(39898),P=e(91424),o=e(71828),L=o.strScale,M=o.strTranslate,v=e(63893),p=e(17295),r=p.toMoveInsideBar,t=e(72597),i=t.recordMinTextSize,n=t.clearMinTextSize,c=e(53581),u=e(14575),l=u.attachFxHandlers,g=u.determineInsideTextFont,f=u.layoutAreas,T=u.prerenderTitles,h=u.positionTitleOutside,s=u.formatSliceLabel;G.exports=function(b,S){var m=b._context.staticPlot,a=b._fullLayout;n("funnelarea",a),T(S,b),f(S,a._size),o.makeTraceGroups(a._funnelarealayer,S,"trace").each(function(E){var x=y.select(this),k=E[0],I=k.trace;w(E),x.each(function(){var N=y.select(this).selectAll("g.slice").data(E);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(z,O){if(z.hidden){y.select(this).selectAll("path,g").remove();return}z.pointNumber=z.i,z.curveNumber=I.index;var _=k.cx,B=k.cy,W=y.select(this),$=W.selectAll("path.surface").data([z]);$.enter().append("path").classed("surface",!0).style({"pointer-events":m?"none":"all"}),W.call(l,b,E);var te="M"+(_+z.TR[0])+","+(B+z.TR[1])+d(z.TR,z.BR)+d(z.BR,z.BL)+d(z.BL,z.TL)+"Z";$.attr("d",te),s(b,z,k);var ie=c.castOption(I.textposition,z.pts),ue=W.selectAll("g.slicetext").data(z.text&&ie!=="none"?[0]:[]);ue.enter().append("g").classed("slicetext",!0),ue.exit().remove(),ue.each(function(){var J=o.ensureSingle(y.select(this),"text","",function(se){se.attr("data-notex",1)}),Y=o.ensureUniformFontSize(b,g(I,z,a.font));J.text(z.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(P.font,Y).call(v.convertToTspans,b);var ae=P.bBox(J.node()),j,q,oe,Q=Math.min(z.BL[1],z.BR[1])+B,X=Math.max(z.TL[1],z.TR[1])+B;q=Math.max(z.TL[0],z.BL[0])+_,oe=Math.min(z.TR[0],z.BR[0])+_,j=r(q,oe,Q,X,ae,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),j.fontSize=Y.size,i(I.type,j,a),E[O].transform=j,o.setTransormAndDisplay(J,j)})});var F=y.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);F.enter().append("g").classed("titletext",!0),F.exit().remove(),F.each(function(){var z=o.ensureSingle(y.select(this),"text","",function(B){B.attr("data-notex",1)}),O=I.title.text;I._meta&&(O=o.templateString(O,I._meta)),z.text(O).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(P.font,I.title.font).call(v.convertToTspans,b);var _=h(k,a._size);z.attr("transform",M(_.x,_.y)+L(Math.min(1,_.scale))+M(_.tx,_.ty))})})})};function d(C,b){var S=b[0]-C[0],m=b[1]-C[1];return"l"+S+","+m}function A(C,b){return[.5*(C[0]+b[0]),.5*(C[1]+b[1])]}function w(C){if(!C.length)return;var b=C[0],S=b.trace,m=S.aspectratio,a=S.baseratio;a>.999&&(a=.999);var E=Math.pow(a,2),x=b.vTotal,k=x*E/(1-E),I=x,N=k/x;function F(){var ne=Math.sqrt(N);return{x:ne,y:-ne}}function z(){var ne=F();return[ne.x,ne.y]}var O,_=[];_.push(z());var B,W;for(B=C.length-1;B>-1;B--)if(W=C[B],!W.hidden){var $=W.v/I;N+=$,_.push(z())}var te=1/0,ie=-1/0;for(B=0;B<_.length;B++)O=_[B],te=Math.min(te,O[1]),ie=Math.max(ie,O[1]);for(B=0;B<_.length;B++)_[B][1]-=(ie+te)/2;var ue=_[_.length-1][0],J=b.r,Y=(ie-te)/2,ae=J/ue,j=J/Y*m;for(b.r=j*Y,B=0;B<_.length;B++)_[B][0]*=ae,_[B][1]*=j;O=_[0];var q=[-O[0],O[1]],oe=[O[0],O[1]],Q=0;for(B=C.length-1;B>-1;B--)if(W=C[B],!W.hidden){Q+=1;var X=_[Q][0],se=_[Q][1];W.TL=[-X,se],W.TR=[X,se],W.BL=q,W.BR=oe,W.pxmid=A(W.TR,W.BR),q=W.TL,oe=W.TR}}},71858:function(G,V,e){var y=e(39898),P=e(63463),o=e(72597).resizeText;G.exports=function(M){var v=M._fullLayout._funnelarealayer.selectAll(".trace");o(M,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,i=y.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(n){y.select(this).call(P,n,t,M)})})}},21606:function(G,V,e){var y=e(82196),P=e(9012),o=e(41940),L=e(12663).axisHoverFormat,M=e(5386).fF,v=e(5386).si,p=e(50693),r=e(1426).extendFlat;G.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},y.x,{impliedEdits:{xtype:"array"}}),x0:r({},y.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},y.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},y.y,{impliedEdits:{ytype:"array"}}),y0:r({},y.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},y.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},y.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},y.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},y.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},y.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},y.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},y.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:M(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:o({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},P.showlegend,{dflt:!1})},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},90757:function(G,V,e){var y=e(73972),P=e(71828),o=e(89298),L=e(42973),M=e(17562),v=e(78803),p=e(68296),r=e(4742),t=e(824),i=e(43907),n=e(70769),c=e(50606).BADNUM;G.exports=function(f,T){var h=o.getFromId(f,T.xaxis||"x"),s=o.getFromId(f,T.yaxis||"y"),d=y.traceIs(T,"contour"),A=y.traceIs(T,"histogram"),w=y.traceIs(T,"gl2d"),C=d?"best":T.zsmooth,b,S,m,a,E,x,k,I,N,F,z;if(h._minDtick=0,s._minDtick=0,A)z=M(f,T),a=z.orig_x,b=z.x,S=z.x0,m=z.dx,I=z.orig_y,E=z.y,x=z.y0,k=z.dy,N=z.z;else{var O=T.z;P.isArray1D(O)?(p(T,h,s,"x","y",["z"]),b=T._x,E=T._y,O=T._z):(a=T.x?h.makeCalcdata(T,"x"):[],I=T.y?s.makeCalcdata(T,"y"):[],b=L(T,h,"x",a).vals,E=L(T,s,"y",I).vals,T._x=b,T._y=E),S=T.x0,m=T.dx,x=T.y0,k=T.dy,N=r(O,T,h,s)}(h.rangebreaks||s.rangebreaks)&&(N=l(b,E,N),A||(b=u(b),E=u(E),T._x=b,T._y=E)),!A&&(d||T.connectgaps)&&(T._emptypoints=i(N),t(N,T._emptypoints));function _(ae){C=T._input.zsmooth=T.zsmooth=!1,P.warn('cannot use zsmooth: "fast": '+ae)}function B(ae){if(ae.length>1){var j=(ae[ae.length-1]-ae[0])/(ae.length-1),q=Math.abs(j/100);for(F=0;F<ae.length-1;F++)if(Math.abs(ae[F+1]-ae[F]-j)>q)return!1}return!0}T._islinear=!1,h.type==="log"||s.type==="log"?C==="fast"&&_("log axis found"):B(b)?B(E)?T._islinear=!0:C==="fast"&&_("y scale is not linear"):C==="fast"&&_("x scale is not linear");var W=P.maxRowLength(N),$=T.xtype==="scaled"?"":b,te=n(T,$,S,m,W,h),ie=T.ytype==="scaled"?"":E,ue=n(T,ie,x,k,N.length,s);w||(T._extremes[h._id]=o.findExtremes(h,te),T._extremes[s._id]=o.findExtremes(s,ue));var J={x:te,y:ue,z:N,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&a&&(J.orig_x=a),T.yperiodalignment&&I&&(J.orig_y=I),$&&$.length===te.length-1&&(J.xCenter=$),ie&&ie.length===ue.length-1&&(J.yCenter=ie),A&&(J.xRanges=z.xRanges,J.yRanges=z.yRanges,J.pts=z.pts),d||v(f,T,{vals:N,cLetter:"z"}),d&&T.contours&&T.contours.coloring==="heatmap"){var Y={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};J.xfill=n(Y,$,S,m,W,h),J.yfill=n(Y,ie,x,k,N.length,s)}return[J]};function u(g){for(var f=[],T=g.length,h=0;h<T;h++){var s=g[h];s!==c&&f.push(s)}return f}function l(g,f,T){for(var h=[],s=-1,d=0;d<T.length;d++)if(f[d]!==c){s++,h[s]=[];for(var A=0;A<T[d].length;A++)g[A]!==c&&h[s].push(T[d][A])}return h}},4742:function(G,V,e){var y=e(92770),P=e(71828),o=e(50606).BADNUM;G.exports=function(M,v,p,r){var t,i,n,c,u,l;function g(A){if(y(A))return+A}if(v&&v.transpose){for(t=0,u=0;u<M.length;u++)t=Math.max(t,M[u].length);if(t===0)return!1;n=function(A){return A.length},c=function(A,w,C){return(A[C]||[])[w]}}else t=M.length,n=function(A,w){return A[w].length},c=function(A,w,C){return(A[w]||[])[C]};var f=function(A,w,C){return w===o||C===o?o:c(A,w,C)};function T(A){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&A&&A.type==="category"&&v["_"+A._id.charAt(0)].length){var w=A._id.charAt(0),C={},b=v["_"+w+"CategoryMap"]||v[w];for(u=0;u<b.length;u++)C[b[u]]=u;return function(S){var m=C[A._categories[S]];return m+1?m:o}}else return P.identity}var h=T(p),s=T(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(u=0;u<t;u++)for(p&&p.type==="category"?i=p._categories.length:i=n(M,u),d[u]=new Array(i),l=0;l<i;l++)d[u][l]=g(f(M,s(u),h(l)));return d}},61243:function(G){G.exports={min:"zmin",max:"zmax"}},68296:function(G,V,e){var y=e(71828),P=e(50606).BADNUM,o=e(42973);G.exports=function(M,v,p,r,t,i){var n=M._length,c=v.makeCalcdata(M,r),u=p.makeCalcdata(M,t);c=o(M,v,r,c).vals,u=o(M,p,t,u).vals;var l=M.text,g=l!==void 0&&y.isArray1D(l),f=M.hovertext,T=f!==void 0&&y.isArray1D(f),h,s,d=y.distinctVals(c),A=d.vals,w=y.distinctVals(u),C=w.vals,b=[],S,m,a=C.length,E=A.length;for(h=0;h<i.length;h++)b[h]=y.init2dArray(a,E);g&&(S=y.init2dArray(a,E)),T&&(m=y.init2dArray(a,E));var x=y.init2dArray(a,E);for(h=0;h<n;h++)if(c[h]!==P&&u[h]!==P){var k=y.findBin(c[h]+d.minDiff/2,A),I=y.findBin(u[h]+w.minDiff/2,C);for(s=0;s<i.length;s++){var N=i[s],F=M[N],z=b[s];z[I][k]=F[h],x[I][k]=h}g&&(S[I][k]=l[h]),T&&(m[I][k]=f[h])}for(M["_"+r]=A,M["_"+t]=C,s=0;s<i.length;s++)M["_"+i[s]]=b[s];g&&(M._text=S),T&&(M._hovertext=m),v&&v.type==="category"&&(M["_"+r+"CategoryMap"]=A.map(function(O){return v._categories[O]})),p&&p.type==="category"&&(M["_"+t+"CategoryMap"]=C.map(function(O){return p._categories[O]})),M._after2before=x}},76382:function(G,V,e){var y=e(71828),P=e(67684),o=e(58623),L=e(73927),M=e(49901),v=e(1586),p=e(21606);G.exports=function(t,i,n,c){function u(g,f){return y.coerce(t,i,p,g,f)}var l=P(t,i,u,c);if(!l){i.visible=!1;return}L(t,i,c,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),o(u,c),M(t,i,u,c),u("hoverongaps"),u("connectgaps",y.isArray1D(i.z)&&i.zsmooth!==!1),v(t,i,c,u,{prefix:"",cLetter:"z"})}},43907:function(G,V,e){var y=e(71828).maxRowLength;G.exports=function(o){var L=[],M={},v=[],p=o[0],r=[],t=[0,0,0],i=y(o),n,c,u,l,g,f,T,h;for(c=0;c<o.length;c++)for(n=r,r=p,p=o[c+1]||[],u=0;u<i;u++)r[u]===void 0&&(f=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(n[u]!==void 0?1:0)+(p[u]!==void 0?1:0),f?(c===0&&f++,u===0&&f++,c===o.length-1&&f++,u===r.length-1&&f++,f<4&&(M[[c,u]]=[c,u,f]),L.push([c,u,f])):v.push([c,u]));for(;v.length;){for(T={},h=!1,g=v.length-1;g>=0;g--)l=v[g],c=l[0],u=l[1],f=((M[[c-1,u]]||t)[2]+(M[[c+1,u]]||t)[2]+(M[[c,u-1]]||t)[2]+(M[[c,u+1]]||t)[2])/20,f&&(T[l]=[c,u,f],v.splice(g,1),h=!0);if(!h)throw"findEmpties iterated with no new neighbors";for(l in T)M[l]=T[l],L.push(T[l])}return L.sort(function(s,d){return d[2]-s[2]})}},46248:function(G,V,e){var y=e(30211),P=e(71828),o=P.isArrayOrTypedArray,L=e(89298),M=e(21081).extractOpts;G.exports=function(p,r,t,i,n){n||(n={});var c=n.isContour,u=p.cd[0],l=u.trace,g=p.xa,f=p.ya,T=u.x,h=u.y,s=u.z,d=u.xCenter,A=u.yCenter,w=u.zmask,C=l.zhoverformat,b=T,S=h,m,a,E,x;if(p.index!==!1){try{E=Math.round(p.index[1]),x=Math.round(p.index[0])}catch{P.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(E<0||E>=s[0].length||x<0||x>s.length)return}else{if(y.inbox(r-T[0],r-T[T.length-1],0)>0||y.inbox(t-h[0],t-h[h.length-1],0)>0)return;if(c){var k;for(b=[2*T[0]-T[1]],k=1;k<T.length;k++)b.push((T[k]+T[k-1])/2);for(b.push([2*T[T.length-1]-T[T.length-2]]),S=[2*h[0]-h[1]],k=1;k<h.length;k++)S.push((h[k]+h[k-1])/2);S.push([2*h[h.length-1]-h[h.length-2]])}E=Math.max(0,Math.min(b.length-2,P.findBin(r,b))),x=Math.max(0,Math.min(S.length-2,P.findBin(t,S)))}var I=g.c2p(T[E]),N=g.c2p(T[E+1]),F=f.c2p(h[x]),z=f.c2p(h[x+1]),O,_;c?(O=u.orig_x||T,_=u.orig_y||h,N=I,m=O[E],z=F,a=_[x]):(O=u.orig_x||d||T,_=u.orig_y||A||h,m=d?O[E]:(O[E]+O[E+1])/2,a=A?_[x]:(_[x]+_[x+1])/2,g&&g.type==="category"&&(m=T[E]),f&&f.type==="category"&&(a=h[x]),l.zsmooth&&(I=N=g.c2p(m),F=z=f.c2p(a)));var B=s[x][E];if(w&&!w[x][E]&&(B=void 0),!(B===void 0&&!l.hoverongaps)){var W;o(u.hovertext)&&o(u.hovertext[x])?W=u.hovertext[x][E]:o(u.text)&&o(u.text[x])&&(W=u.text[x][E]);var $=M(l),te={type:"linear",range:[$.min,$.max],hoverformat:C,_separators:g._separators,_numFormat:g._numFormat},ie=L.tickText(te,B,"hover").text;return[P.extendFlat(p,{index:l._after2before?l._after2before[x][E]:[x,E],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:I,x1:N,y0:F,y1:z,xLabelVal:m,yLabelVal:a,zLabelVal:B,zLabel:ie,text:W})]}}},92165:function(G,V,e){G.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(G,V,e){var y=e(71828),P=.01,o=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(p,r){var t=1,i;for(M(p,r),i=0;i<r.length&&!(r[i][2]<4);i++);for(r=r.slice(i),i=0;i<100&&t>P;i++)t=M(p,r,L(t));return t>P&&y.log("interp2d didn't converge quickly",t),p};function M(v,p,r){var t=0,i,n,c,u,l,g,f,T,h,s,d,A,w;for(u=0;u<p.length;u++){for(i=p[u],n=i[0],c=i[1],d=v[n][c],s=0,h=0,l=0;l<4;l++)g=o[l],f=v[n+g[0]],f&&(T=f[c+g[1]],T!==void 0&&(s===0?A=w=T:(A=Math.min(A,T),w=Math.max(w,T)),h++,s+=T));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][c]=s/h,d===void 0?h<4&&(t=1):(v[n][c]=(1+r)*v[n][c]-r*d,w>A&&(t=Math.max(t,Math.abs(v[n][c]-d)/(w-A))))}return t}},58623:function(G,V,e){var y=e(71828);G.exports=function(o,L){o("texttemplate");var M=y.extendFlat({},L.font,{color:"auto",size:"auto"});y.coerceFont(o,"textfont",M)}},70769:function(G,V,e){var y=e(73972),P=e(71828).isArrayOrTypedArray;G.exports=function(L,M,v,p,r,t){var i=[],n=y.traceIs(L,"contour"),c=y.traceIs(L,"histogram"),u=y.traceIs(L,"gl2d"),l,g,f,T=P(M)&&M.length>1;if(T&&!c&&t.type!=="category"){var h=M.length;if(h<=r){if(n||u)i=Array.from(M).slice(0,r);else if(r===1)i=[M[0]-.5,M[0]+.5];else{for(i=[1.5*M[0]-.5*M[1]],f=1;f<h;f++)i.push((M[f-1]+M[f])*.5);i.push(1.5*M[h-1]-.5*M[h-2])}if(h<r){var s=i[i.length-1],d=s-i[i.length-2];for(f=h;f<r;f++)s+=d,i.push(s)}}else return n?M.slice(0,r):M.slice(0,r+1)}else{var A=L[t._id.charAt(0)+"calendar"];if(c)l=t.r2c(v,0,A);else if(P(M)&&M.length===1)l=M[0];else if(v===void 0)l=0;else{var w=t.type==="log"?t.d2c:t.r2c;l=w(v,0,A)}for(g=p||1,f=n||u?0:-.5;f<r;f++)i.push(l+g*f)}return i}},50347:function(G,V,e){var y=e(39898),P=e(84267),o=e(73972),L=e(91424),M=e(89298),v=e(71828),p=e(63893),r=e(8225),t=e(7901),i=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,c=e(77922),u=e(18783),l=u.LINE_SPACING,g=e(3883),f=e(32396).STYLE,T="heatmap-label";function h(C){return C.selectAll("g."+T)}function s(C){h(C).remove()}G.exports=function(C,b,S,m){var a=b.xaxis,E=b.yaxis;v.makeTraceGroups(m,S,"hm").each(function(x){var k=y.select(this),I=x[0],N=I.trace,F=N.xgap||0,z=N.ygap||0,O=I.z,_=I.x,B=I.y,W=I.xCenter,$=I.yCenter,te=o.traceIs(N,"contour"),ie=te?"best":N.zsmooth,ue=O.length,J=v.maxRowLength(O),Y=!1,ae=!1,j,q,oe,Q,X,se,ne,fe;for(se=0;j===void 0&&se<_.length-1;)j=a.c2p(_[se]),se++;for(se=_.length-1;q===void 0&&se>0;)q=a.c2p(_[se]),se--;for(q<j&&(oe=q,q=j,j=oe,Y=!0),se=0;Q===void 0&&se<B.length-1;)Q=E.c2p(B[se]),se++;for(se=B.length-1;X===void 0&&se>0;)X=E.c2p(B[se]),se--;X<Q&&(oe=Q,Q=X,X=oe,ae=!0),te&&(W=_,$=B,_=I.xfill,B=I.yfill);var ye="default";if(ie?ye=ie==="best"?"smooth":"fast":N._islinear&&F===0&&z===0&&g()&&(ye="fast"),ye!=="fast"){var Se=ie==="best"?0:.5;j=Math.max(-Se*a._length,j),q=Math.min((1+Se)*a._length,q),Q=Math.max(-Se*E._length,Q),X=Math.min((1+Se)*E._length,X)}var we=Math.round(q-j),_e=Math.round(X-Q),ke=j>=a._length||q<=0||Q>=E._length||X<=0;if(ke){var Me=k.selectAll("image").data([]);Me.exit().remove(),s(k);return}var me,Ee;ye==="fast"?(me=J,Ee=ue):(me=we,Ee=_e);var Be=document.createElement("canvas");Be.width=me,Be.height=Ee;var Ue=Be.getContext("2d",{willReadFrequently:!0}),De=n(N,{noNumericCheck:!0,returnArray:!0}),He,nt;ye==="fast"?(He=Y?function(an){return J-1-an}:v.identity,nt=ae?function(an){return ue-1-an}:v.identity):(He=function(an){return v.constrain(Math.round(a.c2p(_[an])-j),0,we)},nt=function(an){return v.constrain(Math.round(E.c2p(B[an])-Q),0,_e)});var lt=nt(0),$e=[lt,lt],qe=Y?0:1,ct=ae?0:1,dt=0,gt=0,At=0,Rt=0,Vt,Je,Ve,Ie,Oe;function Le(an,dn){if(an!==void 0){var gn=De(an);return gn[0]=Math.round(gn[0]),gn[1]=Math.round(gn[1]),gn[2]=Math.round(gn[2]),dt+=dn,gt+=gn[0]*dn,At+=gn[1]*dn,Rt+=gn[2]*dn,gn}return[0,0,0,0]}function xe(an,dn,gn,Cn){var _n=an[gn.bin0];if(_n===void 0)return Le(void 0,1);var sa=an[gn.bin1],Qn=dn[gn.bin0],ea=dn[gn.bin1],Zn=sa-_n||0,$n=Qn-_n||0,Tr;return sa===void 0?ea===void 0?Tr=0:Qn===void 0?Tr=2*(ea-_n):Tr=(2*ea-Qn-_n)*2/3:ea===void 0?Qn===void 0?Tr=0:Tr=(2*_n-sa-Qn)*2/3:Qn===void 0?Tr=(2*ea-sa-_n)*2/3:Tr=ea+_n-sa-Qn,Le(_n+gn.frac*Zn+Cn.frac*($n+gn.frac*Tr))}if(ye!=="default"){var pe=0,Ae;try{Ae=new Uint8Array(me*Ee*4)}catch{Ae=new Array(me*Ee*4)}if(ye==="smooth"){var Te=W||_,Ne=$||B,Ye=new Array(Te.length),et=new Array(Ne.length),ft=new Array(we),pt=W?A:d,Yt=$?A:d,Jt,Tt,_t;for(se=0;se<Te.length;se++)Ye[se]=Math.round(a.c2p(Te[se])-j);for(se=0;se<Ne.length;se++)et[se]=Math.round(E.c2p(Ne[se])-Q);for(se=0;se<we;se++)ft[se]=pt(se,Ye);for(ne=0;ne<_e;ne++)for(Jt=Yt(ne,et),Tt=O[Jt.bin0],_t=O[Jt.bin1],se=0;se<we;se++,pe+=4)Oe=xe(Tt,_t,ft[se],Jt),w(Ae,pe,Oe)}else for(ne=0;ne<ue;ne++)for(Ie=O[ne],$e=nt(ne),se=0;se<J;se++)Oe=Le(Ie[se],1),pe=($e*J+He(se))*4,w(Ae,pe,Oe);var $t=Ue.createImageData(me,Ee);try{$t.data.set(Ae)}catch{var wr=$t.data,yt=wr.length;for(ne=0;ne<yt;ne++)wr[ne]=Ae[ne]}Ue.putImageData($t,0,0)}else{var jt=Math.floor(F/2),Qt=Math.floor(z/2);for(ne=0;ne<ue;ne++)if(Ie=O[ne],$e.reverse(),$e[ct]=nt(ne+1),!($e[0]===$e[1]||$e[0]===void 0||$e[1]===void 0))for(Je=He(0),Vt=[Je,Je],se=0;se<J;se++)Vt.reverse(),Vt[qe]=He(se+1),!(Vt[0]===Vt[1]||Vt[0]===void 0||Vt[1]===void 0)&&(Ve=Ie[se],Oe=Le(Ve,(Vt[1]-Vt[0])*($e[1]-$e[0])),Ue.fillStyle="rgba("+Oe.join(",")+")",Ue.fillRect(Vt[0]+jt,$e[0]+Qt,Vt[1]-Vt[0]-F,$e[1]-$e[0]-z))}gt=Math.round(gt/dt),At=Math.round(At/dt),Rt=Math.round(Rt/dt);var gr=P("rgb("+gt+","+At+","+Rt+")");C._hmpixcount=(C._hmpixcount||0)+dt,C._hmlumcount=(C._hmlumcount||0)+dt*gr.getLuminance();var sr=k.selectAll("image").data(x);sr.enter().append("svg:image").attr({xmlns:c.svg,preserveAspectRatio:"none"}),sr.attr({height:_e,width:we,x:j,y:Q,"xlink:href":Be.toDataURL("image/png")}),ye==="fast"&&!ie&&sr.attr("style",f),s(k);var vt=N.texttemplate;if(vt){var at=i(N),xt={type:"linear",range:[at.min,at.max],_separators:a._separators,_numFormat:a._numFormat},Mt=N.type==="histogram2dcontour",Dt=N.type==="contour",Lt=Dt?1:0,Bt=Dt?ue-1:ue,Nt=Dt?1:0,Xt=Dt?J-1:J,lr=[];for(se=Lt;se<Bt;se++){var fr;if(Dt)fr=I.y[se];else if(Mt){if(se===0||se===ue-1)continue;fr=I.y[se]}else if(I.yCenter)fr=I.yCenter[se];else{if(se+1===ue&&I.y[se+1]===void 0)continue;fr=(I.y[se]+I.y[se+1])/2}var hr=Math.round(E.c2p(fr));if(!(0>hr||hr>E._length))for(ne=Nt;ne<Xt;ne++){var We;if(Dt)We=I.x[ne];else if(Mt){if(ne===0||ne===J-1)continue;We=I.x[ne]}else if(I.xCenter)We=I.xCenter[ne];else{if(ne+1===J&&I.x[ne+1]===void 0)continue;We=(I.x[ne]+I.x[ne+1])/2}var Ge=Math.round(a.c2p(We));if(!(0>Ge||Ge>a._length)){var kt=r({x:We,y:fr},N,C._fullLayout);kt.x=We,kt.y=fr;var It=I.z[se][ne];It===void 0?(kt.z="",kt.zLabel=""):(kt.z=It,kt.zLabel=M.tickText(xt,It,"hover").text);var Zt=I.text&&I.text[se]&&I.text[se][ne];(Zt===void 0||Zt===!1)&&(Zt=""),kt.text=Zt;var rr=v.texttemplateString(vt,kt,C._fullLayout._d3locale,kt,N._meta||{});if(rr){var ur=rr.split("<br>"),er=ur.length,zt=0;for(fe=0;fe<er;fe++)zt=Math.max(zt,ur[fe].length);lr.push({l:er,c:zt,t:rr,x:Ge,y:hr,z:It})}}}}var vr=N.textfont,yr=vr.family,pr=vr.size,cr=C._fullLayout.font.size;if(!pr||pr==="auto"){var Ur=1/0,kr=1/0,Rr=0,vn=0;for(fe=0;fe<lr.length;fe++){var tn=lr[fe];if(Rr=Math.max(Rr,tn.l),vn=Math.max(vn,tn.c),fe<lr.length-1){var Bn=lr[fe+1],xn=Math.abs(Bn.x-tn.x),Mr=Math.abs(Bn.y-tn.y);xn&&(Ur=Math.min(Ur,xn)),Mr&&(kr=Math.min(kr,Mr))}}!isFinite(Ur)||!isFinite(kr)?pr=cr:(Ur-=F,kr-=z,Ur/=vn,kr/=Rr,Ur/=l/2,kr/=l,pr=Math.min(Math.floor(Ur),Math.floor(kr),cr))}if(pr<=0||!isFinite(pr))return;var Er=function(an){return an.x},Wr=function(an){return an.y-pr*(an.l*l/2-1)},Hr=h(k).data(lr);Hr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(an){var dn=y.select(this),gn=vr.color;(!gn||gn==="auto")&&(gn=t.contrast("rgba("+De(an.z).join()+")")),dn.attr("data-notex",1).call(p.positionText,Er(an),Wr(an)).call(L.font,yr,pr,gn).text(an.t).call(p.convertToTspans,C)})}})};function d(C,b){var S=b.length-2,m=v.constrain(v.findBin(C,b),0,S),a=b[m],E=b[m+1],x=v.constrain(m+(C-a)/(E-a)-.5,0,S),k=Math.round(x),I=Math.abs(x-k);return!x||x===S||!I?{bin0:k,bin1:k,frac:0}:{bin0:k,frac:I,bin1:Math.round(k+I/(x-k))}}function A(C,b){var S=b.length-1,m=v.constrain(v.findBin(C,b),0,S),a=b[m],E=b[m+1],x=(C-a)/(E-a)||0;return x<=0?{bin0:m,bin1:m,frac:0}:x<.5?{bin0:m,bin1:m+1,frac:x}:{bin0:m+1,bin1:m,frac:1-x}}function w(C,b,S){C[b]=S[0],C[b+1]=S[1],C[b+2]=S[2],C[b+3]=Math.round(S[3]*255)}},70035:function(G,V,e){var y=e(39898);G.exports=function(o){y.select(o).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},49901:function(G){G.exports=function(e,y,P){var o=P("zsmooth");o===!1&&(P("xgap"),P("ygap")),P("zhoverformat")}},67684:function(G,V,e){var y=e(92770),P=e(71828),o=e(73972);G.exports=function(p,r,t,i,n,c){var u=t("z");n=n||"x",c=c||"y";var l,g;if(u===void 0||!u.length)return 0;if(P.isArray1D(u)){l=t(n),g=t(c);var f=P.minRowLength(l),T=P.minRowLength(g);if(f===0||T===0)return 0;r._length=Math.min(f,T,u.length)}else{if(l=L(n,t),g=L(c,t),!M(u))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var h=o.getComponentMethod("calendars","handleTraceDefaults");return h(p,r,[n,c],i),!0};function L(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function M(v){for(var p=!0,r=!1,t=!1,i,n=0;n<v.length;n++){if(i=v[n],!P.isArrayOrTypedArray(i)){p=!1;break}i.length>0&&(r=!0);for(var c=0;c<i.length;c++)if(y(i[c])){t=!0;break}}return p&&r&&t}},16063:function(G,V,e){for(var y=e(21606),P=e(50693),o=e(1426).extendFlat,L=e(30962).overrideAll,M=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<M.length;p++){var r=M[p];v[r]=y[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},o(v,P("",{cLetter:"z",autoColorDflt:!1})),G.exports=L(v,"calc","nested")},59560:function(G,V,e){var y=e(9330).gl_heatmap2d,P=e(89298),o=e(78614);function L(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=y(r.glplot,this.options),this.heatmap._trace=this}var M=L.prototype;M.handlePick=function(r){var t=this.options,i=t.shape,n=r.pointId,c=n%i[0],u=Math.floor(n/i[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[c],t.y[u],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[u,c],hoverinfo:this.hoverinfo}},M.update=function(r,t){var i=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=i.z;this.options.z=[].concat.apply([],n);var c=n[0].length,u=n.length;this.options.shape=[c,u],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var g=this.scene.xaxis,f=this.scene.yaxis,T,h;r.zsmooth===!1&&(T={ppad:i.x[1]-i.x[0]},h={ppad:i.y[1]-i.y[0]}),r._extremes[g._id]=P.findExtremes(g,i.x,T),r._extremes[f._id]=P.findExtremes(f,i.y,h)},M.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,i=r.zmin,n=r.zmax,c=t.length,u=new Array(c),l=new Array(4*c),g=0;g<c;g++){var f=t[g],T=o(f[1]);u[g]=i+f[0]*(n-i);for(var h=0;h<4;h++)l[4*g+h]=T[h]}return{colorLevels:u,colorValues:l}}function p(r,t,i){var n=new L(r,t.uid);return n.update(t,i),n}G.exports=p},19600:function(G,V,e){var y=e(71828),P=e(67684),o=e(1586),L=e(16063);G.exports=function(v,p,r,t){function i(c,u){return y.coerce(v,p,L,c,u)}var n=P(v,p,i,t);if(!n){p.visible=!1;return}i("text"),i("zsmooth"),o(v,p,t,i,{prefix:"",cLetter:"z"})}},3325:function(G,V,e){G.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(G,V,e){var y=e(1486),P=e(12663).axisHoverFormat,o=e(5386).fF,L=e(5386).si,M=e(41940),v=e(17656),p=e(72406),r=e(1426).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:P("x"),yhoverformat:P("y"),text:r({},y.text,{}),hovertext:r({},y.hovertext,{}),orientation:y.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:o({},{keys:p.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},y.textposition,{arrayOk:!1}),textfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:y.insidetextanchor,textangle:y.textangle,cliponaxis:y.cliponaxis,constraintext:y.constraintext,marker:y.marker,offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:y.selected,unselected:y.unselected,_deprecated:{bardir:y._deprecated.bardir}}},42174:function(G){G.exports=function(e,y){for(var P=e.length,o=0,L=0;L<P;L++)y[L]?(e[L]/=y[L],o+=e[L]):e[L]=null;return o}},17656:function(G){G.exports=function(e,y){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(G,V,e){var y=e(92770);G.exports={count:function(P,o,L){return L[P]++,1},sum:function(P,o,L,M){var v=M[o];return y(v)?(v=Number(v),L[P]+=v,v):0},avg:function(P,o,L,M,v){var p=M[o];return y(p)&&(p=Number(p),L[P]+=p,v[P]++),0},min:function(P,o,L,M){var v=M[o];if(y(v))if(v=Number(v),y(L[P])){if(L[P]>v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0},max:function(P,o,L,M){var v=M[o];if(y(v))if(v=Number(v),y(L[P])){if(L[P]<v){var p=v-L[P];return L[P]=v,p}}else return L[P]=v,v;return 0}}},40965:function(G,V,e){var y=e(50606),P=y.ONEAVGYEAR,o=y.ONEAVGMONTH,L=y.ONEDAY,M=y.ONEHOUR,v=y.ONEMIN,p=y.ONESEC,r=e(89298).tickIncrement;G.exports=function(l,g,f,T,h){var s=-1.1*g,d=-.1*g,A=l-d,w=f[0],C=f[1],b=Math.min(t(w+d,w+A,T,h),t(C+d,C+A,T,h)),S=Math.min(t(w+s,w+d,T,h),t(C+s,C+d,T,h)),m,a;if(b>S&&S<Math.abs(C-w)/4e3?(m=b,a=!1):(m=Math.min(b,S),a=!0),T.type==="date"&&m>L){var E=m===P?1:6,x=m===P?"M12":"M1";return function(k,I){var N=T.c2d(k,P,h),F=N.indexOf("-",E);F>0&&(N=N.substr(0,F));var z=T.d2c(N,0,h);if(z<k){var O=r(z,x,!1,h);(z+O)/2<k+l&&(z=O)}return I&&a?r(z,x,!0,h):z}}return function(k,I){var N=m*Math.round(k/m);return N+m/10<k&&N+m*.9<k+l&&(N+=m),I&&a&&(N-=m),N}};function t(u,l,g,f){if(u*l<=0)return 1/0;for(var T=Math.abs(l-u),h=g.type==="date",s=i(T,h),d=0;d<10;d++){var A=i(s*80,h);if(s===A)break;if(n(A,u,l,h,g,f))s=A;else break}return s}function i(u,l){return l&&u>p?u>L?u>P*1.1?P:u>o*1.1?o:L:u>M?M:u>v?v:p:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function n(u,l,g,f,T,h){if(f&&u>L){var s=c(l,T,h),d=c(g,T,h),A=u===P?0:1;return s[A]!==d[A]}return Math.floor(g/u)-Math.floor(l/u)>.1}function c(u,l,g){var f=l.c2d(u,P,g).split("-");return f[0]===""&&(f.unshift(),f[0]="-"+f[0]),f}},72138:function(G,V,e){var y=e(92770),P=e(71828),o=e(73972),L=e(89298),M=e(75341),v=e(59575),p=e(36362),r=e(42174),t=e(40965);function i(g,f){var T=[],h=[],s=f.orientation==="h",d=L.getFromId(g,s?f.yaxis:f.xaxis),A=s?"y":"x",w={x:"y",y:"x"}[A],C=f[A+"calendar"],b=f.cumulative,S,m=n(g,f,d,A),a=m[0],E=m[1],x=typeof a.size=="string",k=[],I=x?k:a,N=[],F=[],z=[],O=0,_=f.histnorm,B=f.histfunc,W=_.indexOf("density")!==-1,$,te,ie;b.enabled&&W&&(_=_.replace(/ ?density$/,""),W=!1);var ue=B==="max"||B==="min",J=ue?null:0,Y=v.count,ae=p[_],j=!1,q=function(Ue){return d.r2c(Ue,0,C)},oe;for(P.isArrayOrTypedArray(f[w])&&B!=="count"&&(oe=f[w],j=B==="avg",Y=v[B]),S=q(a.start),te=q(a.end)+(S-L.tickIncrement(S,a.size,!1,C))/1e6;S<te&&T.length<1e6&&($=L.tickIncrement(S,a.size,!1,C),T.push((S+$)/2),h.push(J),z.push([]),k.push(S),W&&N.push(1/($-S)),j&&F.push(0),!($<=S));)S=$;k.push(S),!x&&d.type==="date"&&(I={start:q(I.start),end:q(I.end),size:I.size}),g._fullLayout._roundFnOpts||(g._fullLayout._roundFnOpts={});var Q=f["_"+A+"bingroup"],X={leftGap:1/0,rightGap:1/0};Q&&(g._fullLayout._roundFnOpts[Q]||(g._fullLayout._roundFnOpts[Q]=X),X=g._fullLayout._roundFnOpts[Q]);var se=h.length,ne=!0,fe=X.leftGap,ye=X.rightGap,Se={};for(S=0;S<E.length;S++){var we=E[S];ie=P.findBin(we,I),ie>=0&&ie<se&&(O+=Y(ie,S,h,oe,F),ne&&z[ie].length&&we!==E[z[ie][0]]&&(ne=!1),z[ie].push(S),Se[S]=ie,fe=Math.min(fe,we-k[ie]),ye=Math.min(ye,k[ie+1]-we))}X.leftGap=fe,X.rightGap=ye;var _e;ne||(_e=function(Ue,De){return function(){var He=g._fullLayout._roundFnOpts[Q];return t(He.leftGap,He.rightGap,k,d,C)(Ue,De)}}),j&&(O=r(h,F)),ae&&ae(h,O,N),b.enabled&&l(h,b.direction,b.currentbin);var ke=Math.min(T.length,h.length),Me=[],me=0,Ee=ke-1;for(S=0;S<ke;S++)if(h[S]){me=S;break}for(S=ke-1;S>=me;S--)if(h[S]){Ee=S;break}for(S=me;S<=Ee;S++)if(y(T[S])&&y(h[S])){var Be={p:T[S],s:h[S],b:0};b.enabled||(Be.pts=z[S],ne?Be.ph0=Be.ph1=z[S].length?E[z[S][0]]:T[S]:(f._computePh=!0,Be.ph0=_e(k[S]),Be.ph1=_e(k[S+1],!0))),Me.push(Be)}return Me.length===1&&(Me[0].width1=L.tickIncrement(Me[0].p,a.size,!1,C)-Me[0].p),M(Me,f),P.isArrayOrTypedArray(f.selectedpoints)&&P.tagSelected(Me,f,Se),Me}function n(g,f,T,h,s){var d=h+"bins",A=g._fullLayout,w=f["_"+h+"bingroup"],C=A._histogramBinOpts[w],b=A.barmode==="overlay",S,m,a,E,x,k,I,N=function(we){return T.r2c(we,0,E)},F=function(we){return T.c2r(we,0,E)},z=T.type==="date"?function(we){return we||we===0?P.cleanDate(we,null,E):null}:function(we){return y(we)?Number(we):null};function O(we,_e,ke){_e[we+"Found"]?(_e[we]=z(_e[we]),_e[we]===null&&(_e[we]=ke[we])):(k[we]=_e[we]=ke[we],P.nestedProperty(m[0],d+"."+we).set(ke[we]))}if(f["_"+h+"autoBinFinished"])delete f["_"+h+"autoBinFinished"];else{m=C.traces;var _=[],B=!0,W=!1,$=!1;for(S=0;S<m.length;S++)if(a=m[S],a.visible){var te=C.dirs[S];x=a["_"+te+"pos0"]=T.makeCalcdata(a,te),_=P.concat(_,x),delete a["_"+h+"autoBinFinished"],f.visible===!0&&(B?B=!1:(delete a._autoBin,a["_"+h+"autoBinFinished"]=1),o.traceIs(a,"2dMap")&&(W=!0),a.type==="histogram2dcontour"&&($=!0))}E=m[0][h+"calendar"];var ie=L.autoBin(_,T,C.nbins,W,E,C.sizeFound&&C.size),ue=m[0]._autoBin={};if(k=ue[C.dirs[0]]={},$&&(C.size||(ie.start=F(L.tickIncrement(N(ie.start),ie.size,!0,E))),C.end===void 0&&(ie.end=F(L.tickIncrement(N(ie.end),ie.size,!1,E)))),b&&!o.traceIs(f,"2dMap")&&ie._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&f.bingroup===""&&typeof f.xbins>"u"){if(s)return[ie,x,!0];ie=c(g,f,T,h,d)}I=a.cumulative||{},I.enabled&&I.currentbin!=="include"&&(I.direction==="decreasing"?ie.start=F(L.tickIncrement(N(ie.start),ie.size,!0,E)):ie.end=F(L.tickIncrement(N(ie.end),ie.size,!1,E))),C.size=ie.size,C.sizeFound||(k.size=ie.size,P.nestedProperty(m[0],d+".size").set(ie.size)),O("start",C,ie),O("end",C,ie)}x=f["_"+h+"pos0"],delete f["_"+h+"pos0"];var J=f._input[d]||{},Y=P.extendFlat({},C),ae=C.start,j=T.r2l(J.start),q=j!==void 0;if((C.startFound||q)&&j!==T.r2l(ae)){var oe=q?j:P.aggNums(Math.min,null,x),Q={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:C.size,tick0:ae,calendar:E,range:[oe,L.tickIncrement(oe,C.size,!1,E)].map(T.l2r)},X=L.tickFirst(Q);X>T.r2l(oe)&&(X=L.tickIncrement(X,C.size,!0,E)),Y.start=T.l2r(X),q||P.nestedProperty(f,d+".start").set(Y.start)}var se=C.end,ne=T.r2l(J.end),fe=ne!==void 0;if((C.endFound||fe)&&ne!==T.r2l(se)){var ye=fe?ne:P.aggNums(Math.max,null,x);Y.end=T.l2r(ye),fe||P.nestedProperty(f,d+".start").set(Y.end)}var Se="autobin"+h;return f._input[Se]===!1&&(f._input[d]=P.extendFlat({},f[d]||{}),delete f._input[Se],delete f[Se]),[Y,x]}function c(g,f,T,h,s){var d=g._fullLayout,A=u(g,f),w=!1,C=1/0,b=[f],S,m,a;for(S=0;S<A.length;S++)if(m=A[S],m===f)w=!0;else if(!w)a=d._histogramBinOpts[m["_"+h+"bingroup"]],C=Math.min(C,a.size||m[s].size);else{var E=n(g,m,T,h,!0),x=E[0],k=E[2];m["_"+h+"autoBinFinished"]=1,m["_"+h+"pos0"]=E[1],k?b.push(m):C=Math.min(C,x.size)}var I=new Array(b.length);for(S=0;S<b.length;S++)for(var N=b[S]["_"+h+"pos0"],F=0;F<N.length;F++)if(N[F]!==void 0){I[S]=N[F];break}for(isFinite(C)||(C=P.distinctVals(I).minDiff),S=0;S<b.length;S++){m=b[S];var z=m[h+"calendar"],O={start:T.c2r(I[S]-C/2,0,z),end:T.c2r(I[S]+C/2,0,z),size:C};m._input[s]=m[s]=O,a=d._histogramBinOpts[m["_"+h+"bingroup"]],a&&P.extendFlat(a,O)}return f[s]}function u(g,f){for(var T=f.xaxis,h=f.yaxis,s=f.orientation,d=[],A=g._fullData,w=0;w<A.length;w++){var C=A[w];C.type==="histogram"&&C.visible===!0&&C.orientation===s&&C.xaxis===T&&C.yaxis===h&&d.push(C)}return d}function l(g,f,T){var h,s,d;function A(C){d=g[C],g[C]/=2}function w(C){s=g[C],g[C]=d+s/2,d+=s}if(T==="half")if(f==="increasing")for(A(0),h=1;h<g.length;h++)w(h);else for(A(g.length-1),h=g.length-2;h>=0;h--)w(h);else if(f==="increasing"){for(h=1;h<g.length;h++)g[h]+=g[h-1];T==="exclude"&&(g.unshift(0),g.pop())}else{for(h=g.length-2;h>=0;h--)g[h]+=g[h+1];T==="exclude"&&(g.push(0),g.shift())}}G.exports={calc:i,calcAllAutoBins:n}},72406:function(G){G.exports={eventDataKeys:["binNumber"]}},82222:function(G,V,e){var y=e(71828),P=e(41675),o=e(73972).traceIs,L=e(26125),M=y.nestedProperty,v=e(99082).getAxisGroup,p=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],r=["x","y"];G.exports=function(i,n){var c=n._histogramBinOpts={},u=[],l={},g=[],f,T,h,s,d,A,w;function C($,te){return y.coerce(f._input,f,f._module.attributes,$,te)}function b($){return $.orientation==="v"?"x":"y"}function S($,te){var ie=P.getFromTrace({_fullLayout:n},$,te);return ie.type}function m($,te,ie){var ue=$.uid+"__"+ie;te||(te=ue);var J=S($,ie),Y=$[ie+"calendar"]||"",ae=c[te],j=!0;ae&&(J===ae.axType&&Y===ae.calendar?(j=!1,ae.traces.push($),ae.dirs.push(ie)):(te=ue,J!==ae.axType&&y.warn(["Attempted to group the bins of trace",$.index,"set on a","type:"+J,"axis","with bins on","type:"+ae.axType,"axis."].join(" ")),Y!==ae.calendar&&y.warn(["Attempted to group the bins of trace",$.index,"set with a",Y,"calendar","with bins",ae.calendar?"on a "+ae.calendar+" calendar":"w/o a set calendar"].join(" ")))),j&&(c[te]={traces:[$],dirs:[ie],axType:J,calendar:$[ie+"calendar"]||""}),$["_"+ie+"bingroup"]=te}for(d=0;d<i.length;d++)f=i[d],o(f,"histogram")&&(u.push(f),delete f._xautoBinFinished,delete f._yautoBinFinished,o(f,"2dMap")||L(f._input,f,n,C));var a=n._alignmentOpts||{};for(d=0;d<u.length;d++){if(f=u[d],h="",!o(f,"2dMap")){if(s=b(f),n.barmode==="group"&&f.alignmentgroup){var E=f[s+"axis"],x=v(n,E)+f.orientation;(a[x]||{})[f.alignmentgroup]&&(h=x)}!h&&n.barmode!=="overlay"&&(h=v(n,f.xaxis)+v(n,f.yaxis)+b(f))}h?(l[h]||(l[h]=[]),l[h].push(f)):g.push(f)}for(h in l){if(T=l[h],T.length===1){g.push(T[0]);continue}var k=!1;for(T.length&&(f=T[0],k=C("bingroup")),h=k||h,d=0;d<T.length;d++){f=T[d];var I=f._input.bingroup;I&&I!==h&&y.warn(["Trace",f.index,"must match","within bingroup",h+".","Ignoring its bingroup:",I,"setting."].join(" ")),f.bingroup=h,m(f,h,b(f))}}for(d=0;d<g.length;d++){f=g[d];var N=C("bingroup");if(o(f,"2dMap"))for(w=0;w<2;w++){s=r[w];var F=C(s+"bingroup",N?N+"__"+s:null);m(f,F,s)}else m(f,N,b(f))}for(h in c){var z=c[h];for(T=z.traces,A=0;A<p.length;A++){var O=p[A],_=O.name,B,W;if(!(_==="nbins"&&z.sizeFound)){for(d=0;d<T.length;d++){if(f=T[d],s=z.dirs[d],B=O.aStr[s],M(f._input,B).get()!==void 0){z[_]=C(B),z[_+"Found"]=!0;break}W=(f._autoBin||{})[s]||{},W[_]&&M(f,B).set(W[_])}if(_==="start"||_==="end")for(;d<T.length;d++)f=T[d],f["_"+s+"bingroup"]&&(W=(f._autoBin||{})[s]||{},C(B,W[_]));_==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(f=T[0],z[_]=C(B))}}}}},11385:function(G,V,e){var y=e(73972),P=e(71828),o=e(7901),L=e(90769).handleText,M=e(98340),v=e(7745);G.exports=function(r,t,i,n){function c(S,m){return P.coerce(r,t,v,S,m)}var u=c("x"),l=c("y"),g=c("cumulative.enabled");g&&(c("cumulative.direction"),c("cumulative.currentbin")),c("text");var f=c("textposition");L(r,t,n,c,f,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat");var T=c("orientation",l&&!u?"h":"v"),h=T==="v"?"x":"y",s=T==="v"?"y":"x",d=u&&l?Math.min(P.minRowLength(u)&&P.minRowLength(l)):P.minRowLength(t[h]||[]);if(!d){t.visible=!1;return}t._length=d;var A=y.getComponentMethod("calendars","handleTraceDefaults");A(r,t,["x","y"],n);var w=t[s];w&&c("histfunc"),c("histnorm"),c("autobin"+h),M(r,t,c,i,n),P.coerceSelectionMarkerOpacity(t,c);var C=(t.marker.line||{}).color,b=y.getComponentMethod("errorbars","supplyDefaults");b(r,t,C||o.defaultLine,{axis:"y"}),b(r,t,C||o.defaultLine,{axis:"x",inherit:"y"})}},84402:function(G){G.exports=function(e,y,P,o,L){if(e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"zLabelVal"in y&&(e.z=y.zLabelVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),!(P.cumulative||{}).enabled){var M=Array.isArray(L)?o[0].pts[L[0]][L[1]]:o[L].pts;e.pointNumbers=M,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(P._indexToPoints){v=[];for(var p=0;p<M.length;p++)v=v.concat(P._indexToPoints[M[p]])}else v=M;e.pointIndices=v}return e}},76440:function(G,V,e){var y=e(95423).hoverPoints,P=e(89298).hoverLabelText;G.exports=function(L,M,v,p,r){var t=y(L,M,v,p,r);if(t){L=t[0];var i=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var c=n.orientation==="h"?"y":"x";L[c+"Label"]=P(L[c+"a"],[i.ph0,i.ph1],n[c+"hoverformat"])}return t}}},36071:function(G,V,e){G.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(G){G.exports={percent:function(V,e){for(var y=V.length,P=100/e,o=0;o<y;o++)V[o]*=P},probability:function(V,e){for(var y=V.length,P=0;P<y;P++)V[P]/=e},density:function(V,e,y,P){var o=V.length;P=P||1;for(var L=0;L<o;L++)V[L]*=y[L]*P},"probability density":function(V,e,y,P){var o=V.length;P&&(e/=P);for(var L=0;L<o;L++)V[L]*=y[L]/e}}},35361:function(G,V,e){var y=e(7745),P=e(17656),o=e(21606),L=e(9012),M=e(12663).axisHoverFormat,v=e(5386).fF,p=e(5386).si,r=e(50693),t=e(1426).extendFlat;G.exports=t({x:y.x,y:y.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:y.histnorm,histfunc:y.histfunc,nbinsx:y.nbinsx,xbins:P("x"),nbinsy:y.nbinsy,ybins:P("y"),autobinx:y.autobinx,autobiny:y.autobiny,bingroup:t({},y.bingroup,{}),xbingroup:t({},y.bingroup,{}),ybingroup:t({},y.bingroup,{}),xgap:o.xgap,ygap:o.ygap,zsmooth:o.zsmooth,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:o.textfont,showlegend:t({},L.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},17562:function(G,V,e){var y=e(71828),P=e(89298),o=e(59575),L=e(36362),M=e(42174),v=e(40965),p=e(72138).calcAllAutoBins;G.exports=function(c,u){var l=P.getFromId(c,u.xaxis),g=P.getFromId(c,u.yaxis),f=u.xcalendar,T=u.ycalendar,h=function(Oe){return l.r2c(Oe,0,f)},s=function(Oe){return g.r2c(Oe,0,T)},d=function(Oe){return l.c2r(Oe,0,f)},A=function(Oe){return g.c2r(Oe,0,T)},w,C,b,S,m=p(c,u,l,"x"),a=m[0],E=m[1],x=p(c,u,g,"y"),k=x[0],I=x[1],N=u._length;E.length>N&&E.splice(N,E.length-N),I.length>N&&I.splice(N,I.length-N);var F=[],z=[],O=[],_=typeof a.size=="string",B=typeof k.size=="string",W=[],$=[],te=_?W:a,ie=B?$:k,ue=0,J=[],Y=[],ae=u.histnorm,j=u.histfunc,q=ae.indexOf("density")!==-1,oe=j==="max"||j==="min",Q=oe?null:0,X=o.count,se=L[ae],ne=!1,fe=[],ye=[],Se="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";Se&&j!=="count"&&(ne=j==="avg",X=o[j]);var we=a.size,_e=h(a.start),ke=h(a.end)+(_e-P.tickIncrement(_e,we,!1,f))/1e6;for(w=_e;w<ke;w=P.tickIncrement(w,we,!1,f))z.push(Q),W.push(w),ne&&O.push(0);W.push(w);var Me=z.length,me=(w-_e)/Me,Ee=d(_e+me/2),Be=k.size,Ue=s(k.start),De=s(k.end)+(Ue-P.tickIncrement(Ue,Be,!1,T))/1e6;for(w=Ue;w<De;w=P.tickIncrement(w,Be,!1,T)){F.push(z.slice()),$.push(w);var He=new Array(Me);for(C=0;C<Me;C++)He[C]=[];Y.push(He),ne&&J.push(O.slice())}$.push(w);var nt=F.length,lt=(w-Ue)/nt,$e=A(Ue+lt/2);q&&(fe=r(z.length,te,me,_),ye=r(F.length,ie,lt,B)),!_&&l.type==="date"&&(te=t(h,te)),!B&&g.type==="date"&&(ie=t(s,ie));var qe=!0,ct=!0,dt=new Array(Me),gt=new Array(nt),At=1/0,Rt=1/0,Vt=1/0,Je=1/0;for(w=0;w<N;w++){var Ve=E[w],Ie=I[w];b=y.findBin(Ve,te),S=y.findBin(Ie,ie),b>=0&&b<Me&&S>=0&&S<nt&&(ue+=X(b,w,F[S],Se,J[S]),Y[S][b].push(w),qe&&(dt[b]===void 0?dt[b]=Ve:dt[b]!==Ve&&(qe=!1)),ct&&(gt[S]===void 0?gt[S]=Ie:gt[S]!==Ie&&(ct=!1)),At=Math.min(At,Ve-W[b]),Rt=Math.min(Rt,W[b+1]-Ve),Vt=Math.min(Vt,Ie-$[S]),Je=Math.min(Je,$[S+1]-Ie))}if(ne)for(S=0;S<nt;S++)ue+=M(F[S],J[S]);if(se)for(S=0;S<nt;S++)se(F[S],ue,fe,ye[S]);return{x:E,xRanges:i(W,qe&&dt,At,Rt,l,f),x0:Ee,dx:me,y:I,yRanges:i($,ct&&gt,Vt,Je,g,T),y0:$e,dy:lt,z:F,pts:Y}};function r(n,c,u,l){var g=new Array(n),f;if(l)for(f=0;f<n;f++)g[f]=1/(c[f+1]-c[f]);else{var T=1/u;for(f=0;f<n;f++)g[f]=T}return g}function t(n,c){return{start:n(c.start),end:n(c.end),size:c.size}}function i(n,c,u,l,g,f){var T,h=n.length-1,s=new Array(h),d=v(u,l,n,g,f);for(T=0;T<h;T++){var A=(c||[])[T];s[T]=A===void 0?[d(n[T]),d(n[T+1],!0)]:[A,A]}return s}},93888:function(G,V,e){var y=e(71828),P=e(75238),o=e(49901),L=e(1586),M=e(58623),v=e(35361);G.exports=function(r,t,i,n){function c(u,l){return y.coerce(r,t,v,u,l)}P(r,t,c,n),t.visible!==!1&&(o(r,t,c,n),L(r,t,n,c,{prefix:"",cLetter:"z"}),c("hovertemplate"),M(c,n),c("xhoverformat"),c("yhoverformat"))}},76128:function(G,V,e){var y=e(46248),P=e(89298).hoverLabelText;G.exports=function(L,M,v,p,r){var t=y(L,M,v,p,r);if(t){L=t[0];var i=L.index,n=i[0],c=i[1],u=L.cd[0],l=u.trace,g=u.xRanges[c],f=u.yRanges[n];return L.xLabel=P(L.xa,[g[0],g[1]],l.xhoverformat),L.yLabel=P(L.ya,[f[0],f[1]],l.yhoverformat),t}}},43905:function(G,V,e){G.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(G,V,e){var y=e(73972),P=e(71828);G.exports=function(L,M,v,p){var r=v("x"),t=v("y"),i=P.minRowLength(r),n=P.minRowLength(t);if(!i||!n){M.visible=!1;return}M._length=Math.min(i,n);var c=y.getComponentMethod("calendars","handleTraceDefaults");c(L,M,["x","y"],p);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},99066:function(G,V,e){var y=e(35361),P=e(70600),o=e(50693),L=e(12663).axisHoverFormat,M=e(1426).extendFlat;G.exports=M({x:y.x,y:y.y,z:y.z,marker:y.marker,histnorm:y.histnorm,histfunc:y.histfunc,nbinsx:y.nbinsx,xbins:y.xbins,nbinsy:y.nbinsy,ybins:y.ybins,autobinx:y.autobinx,autobiny:y.autobiny,bingroup:y.bingroup,xbingroup:y.xbingroup,ybingroup:y.ybingroup,autocontour:P.autocontour,ncontours:P.ncontours,contours:P.contours,line:{color:P.line.color,width:M({},P.line.width,{dflt:.5}),dash:P.line.dash,smoothing:P.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:y.hovertemplate,texttemplate:P.texttemplate,textfont:P.textfont},o("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(G,V,e){var y=e(71828),P=e(75238),o=e(67217),L=e(8724),M=e(58623),v=e(99066);G.exports=function(r,t,i,n){function c(l,g){return y.coerce(r,t,v,l,g)}function u(l){return y.coerce2(r,t,v,l)}P(r,t,c,n),t.visible!==!1&&(o(r,t,c,u),L(r,t,c,n),c("xhoverformat"),c("yhoverformat"),c("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&M(c,n))}},35902:function(G,V,e){G.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(G,V,e){var y=e(5386).fF,P=e(5386).si,o=e(50693),L=e(27670).Y,M=e(34e3),v=e(57564),p=e(45802),r=e(43473),t=e(1426).extendFlat,i=e(79952).u;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:i,editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:M.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:y({},{keys:r.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:M.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},96346:function(G,V,e){var y=e(74875);V.name="icicle",V.plot=function(P,o,L,M){y.plotBasePlot(V.name,P,o,L,M)},V.clean=function(P,o,L,M){y.cleanBasePlot(V.name,P,o,L,M)}},46584:function(G,V,e){var y=e(52147);V.y=function(P,o){return y.calc(P,o)},V.T=function(P){return y._runCrossTraceCalc("icicle",P)}},56524:function(G,V,e){var y=e(71828),P=e(46291),o=e(7901),L=e(27670).c,M=e(90769).handleText,v=e(97313).TEXTPAD,p=e(37434).handleMarkerDefaults,r=e(21081),t=r.hasColorscale,i=r.handleDefaults;G.exports=function(c,u,l,g){function f(b,S){return y.coerce(c,u,P,b,S)}var T=f("labels"),h=f("parents");if(!T||!T.length||!h||!h.length){u.visible=!1;return}var s=f("values");s&&s.length?f("branchvalues"):f("count"),f("level"),f("maxdepth"),f("tiling.orientation"),f("tiling.flip"),f("tiling.pad");var d=f("text");f("texttemplate"),u.texttemplate||f("textinfo",y.isArrayOrTypedArray(d)?"text+label":"label"),f("hovertext"),f("hovertemplate");var A=f("pathbar.visible"),w="auto";M(c,u,g,f,w,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("textposition"),p(c,u,g,f);var C=u._hasColorscale=t(c,"marker","colors")||(c.marker||{}).coloraxis;C&&i(c,u,g,f,{prefix:"marker.",cLetter:"c"}),f("leaf.opacity",C?1:.7),u._hovered={marker:{line:{width:2,color:o.contrast(g.paper_bgcolor)}}},A&&(f("pathbar.thickness",u.pathbar.textfont.size+2*v),f("pathbar.side"),f("pathbar.edgeshape")),f("sort"),f("root.color"),L(u,g,f),u._length=null}},90666:function(G,V,e){var y=e(39898),P=e(71828),o=e(91424),L=e(63893),M=e(21538),v=e(82454).styleOne,p=e(43473),r=e(2791),t=e(83523),i=e(24714).formatSliceLabel,n=!1;G.exports=function(u,l,g,f,T){var h=T.width,s=T.height,d=T.viewX,A=T.viewY,w=T.pathSlice,C=T.toMoveInsideSlice,b=T.strTransform,S=T.hasTransition,m=T.handleSlicesExit,a=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,x=T.prevEntry,k={},I=u._context.staticPlot,N=u._fullLayout,F=l[0],z=F.trace,O=z.textposition.indexOf("left")!==-1,_=z.textposition.indexOf("right")!==-1,B=z.textposition.indexOf("bottom")!==-1,W=M(g,[h,s],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}),$=W.descendants(),te=1/0,ie=-1/0;$.forEach(function(j){var q=j.depth;q>=z._maxDepth?(j.x0=j.x1=(j.x0+j.x1)/2,j.y0=j.y1=(j.y0+j.y1)/2):(te=Math.min(te,q),ie=Math.max(ie,q))}),f=f.data($,r.getPtId),z._maxVisibleLayers=isFinite(ie)?ie-te+1:0,f.enter().append("g").classed("slice",!0),m(f,n,k,[h,s],w),f.order();var ue=null;if(S&&x){var J=r.getPtId(x);f.each(function(j){ue===null&&r.getPtId(j)===J&&(ue={x0:j.x0,x1:j.x1,y0:j.y0,y1:j.y1})})}var Y=function(){return ue||{x0:0,x1:h,y0:0,y1:s}},ae=f;return S&&(ae=ae.transition().each("end",function(){var j=y.select(this);r.setSliceCursor(j,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ae.each(function(j){j._x0=d(j.x0),j._x1=d(j.x1),j._y0=A(j.y0),j._y1=A(j.y1),j._hoverX=d(j.x1-z.tiling.pad),j._hoverY=A(B?j.y1-z.tiling.pad/2:j.y0+z.tiling.pad/2);var q=y.select(this),oe=P.ensureSingle(q,"path","surface",function(ne){ne.style("pointer-events",I?"none":"all")});S?oe.transition().attrTween("d",function(ne){var fe=a(ne,n,Y(),[h,s],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(ye){return w(fe(ye))}}):oe.attr("d",w),q.call(t,g,u,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),oe.call(v,j,z,u,{hovered:!1}),j.x0===j.x1||j.y0===j.y1?j._text="":j._text=i(j,g,z,l,N)||"";var Q=P.ensureSingle(q,"g","slicetext"),X=P.ensureSingle(Q,"text","",function(ne){ne.attr("data-notex",1)}),se=P.ensureUniformFontSize(u,r.determineTextFont(z,j,N.font));X.text(j._text||" ").classed("slicetext",!0).attr("text-anchor",_?"end":O?"start":"middle").call(o.font,se).call(L.convertToTspans,u),j.textBB=o.bBox(X.node()),j.transform=C(j,{fontSize:se.size}),j.transform.fontSize=se.size,S?X.transition().attrTween("transform",function(ne){var fe=E(ne,n,Y(),[h,s]);return function(ye){return b(fe(ye))}}):X.attr("transform",b(j))}),ue}},69816:function(G,V,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(G,V,e){var y=e(71828),P=e(92894);G.exports=function(L,M){function v(p,r){return y.coerce(L,M,P,p,r)}v("iciclecolorway",M.colorway),v("extendiciclecolors")}},21538:function(G,V,e){var y=e(674),P=e(14102);G.exports=function(L,M,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",i=v.maxDepth,n=M[0],c=M[1];i&&(n=(L.height+1)*M[0]/Math.min(L.height+1,i),c=(L.height+1)*M[1]/Math.min(L.height+1,i));var u=y.partition().padding(v.pad.inner).size(t?[M[1],n]:[M[0],c])(L);return(t||p||r)&&P(u,M,{swapXY:t,flipX:p,flipY:r}),u}},85596:function(G,V,e){var y=e(80694),P=e(90666);G.exports=function(L,M,v,p){return y(L,M,v,p,{type:"icicle",drawDescendants:P})}},82454:function(G,V,e){var y=e(39898),P=e(7901),o=e(71828),L=e(72597).resizeText,M=e(43467);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");L(r,t,"icicle"),t.each(function(i){var n=y.select(this),c=i[0],u=c.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){y.select(this).call(p,l,u,r)})})}function p(r,t,i,n){var c=t.data.data,u=!t.children,l=c.i,g=o.castOption(i,l,"marker.line.color")||P.defaultLine,f=o.castOption(i,l,"marker.line.width")||0;r.call(M,t,i,n).style("stroke-width",f).call(P.stroke,g).style("opacity",u?i.leaf.opacity:null)}G.exports={style:v,styleOne:p}},17230:function(G,V,e){for(var y=e(9012),P=e(5386).fF,o=e(1426).extendFlat,L=e(51877).colormodel,M=["rgb","rgba","rgba256","hsl","hsla"],v=[],p=[],r=0;r<M.length;r++){var t=L[M[r]];v.push("For the `"+M[r]+"` colormodel, it is ["+(t.zminDflt||t.min).join(", ")+"]."),p.push("For the `"+M[r]+"` colormodel, it is ["+(t.zmaxDflt||t.max).join(", ")+"].")}G.exports=o({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:M,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:o({},y.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:P({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(G,V,e){var y=e(71828),P=e(51877),o=e(92770),L=e(89298),M=e(71828).maxRowLength,v=e(67395).A;G.exports=function(n,c){var u,l;if(c._hasZ)u=c.z.length,l=M(c.z);else if(c._hasSource){var g=v(c.source);u=g.height,l=g.width}var f=L.getFromId(n,c.xaxis||"x"),T=L.getFromId(n,c.yaxis||"y"),h=f.d2c(c.x0)-c.dx/2,s=T.d2c(c.y0)-c.dy/2,d,A=[h,h+l*c.dx],w=[s,s+u*c.dy];if(f&&f.type==="log")for(d=0;d<l;d++)A.push(h+d*c.dx);if(T&&T.type==="log")for(d=0;d<u;d++)w.push(s+d*c.dy);c._extremes[f._id]=L.findExtremes(f,A),c._extremes[T._id]=L.findExtremes(T,w),c._scaler=t(c);var C={x0:h,y0:s,z:c.z,w:l,h:u};return[C]};function p(i,n,c,u){return function(l){return y.constrain((l-i)*n,c,u)}}function r(i,n){return function(c){return y.constrain(c,i,n)}}function t(i){var n=P.colormodel[i.colormodel],c=n.colormodel||i.colormodel,u=c.length;i._sArray=[];for(var l=0;l<u;l++)n.min[l]!==i.zmin[l]||n.max[l]!==i.zmax[l]?i._sArray.push(p(i.zmin[l],(n.max[l]-n.min[l])/(i.zmax[l]-i.zmin[l]),n.min[l],n.max[l])):i._sArray.push(r(n.min[l],n.max[l]));return function(g){for(var f=g.slice(0,u),T=0;T<u;T++){var h=f[T];if(!o(h))return!1;f[T]=i._sArray[T](h)}return f}}},51877:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(V){return V.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(V){var e=V.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(V){var e=V.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13245:function(G,V,e){var y=e(71828),P=e(17230),o=e(51877),L=e(25095).IMAGE_URL_PREFIX;G.exports=function(v,p){function r(n,c){return y.coerce(v,p,P,n,c)}r("source"),p.source&&!p.source.match(L)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var i;p._hasZ?(r("colormodel","rgb"),i=o.colormodel[p.colormodel],r("zmin",i.zminDflt||i.min),r("zmax",i.zmaxDflt||i.max)):p._hasSource&&(p.colormodel="rgba256",i=o.colormodel[p.colormodel],p.zmin=i.zminDflt,p.zmax=i.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null}},30835:function(G){G.exports=function(e,y){return"xVal"in y&&(e.x=y.xVal),"yVal"in y&&(e.y=y.yVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e.color=y.color,e.colormodel=y.trace.colormodel,e.z||(e.z=y.color),e}},67395:function(G,V,e){var y=e(33575),P=e(25095).IMAGE_URL_PREFIX,o=e(12856).Buffer;V.A=function(L){var M=L.replace(P,""),v=new o(M,"base64");return y(v)}},28749:function(G,V,e){var y=e(30211),P=e(71828),o=P.isArrayOrTypedArray,L=e(51877);G.exports=function(v,p,r){var t=v.cd[0],i=t.trace,n=v.xa,c=v.ya;if(!(y.inbox(p-t.x0,p-(t.x0+t.w*i.dx),0)>0||y.inbox(r-t.y0,r-(t.y0+t.h*i.dy),0)>0)){var u=Math.floor((p-t.x0)/i.dx),l=Math.floor(Math.abs(r-t.y0)/i.dy),g;if(i._hasZ?g=t.z[l][u]:i._hasSource&&(g=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,l,1,1).data),!!g){var f=t.hi||i.hoverinfo,T;if(f){var h=f.split("+");h.indexOf("all")!==-1&&(h=["color"]),h.indexOf("color")!==-1&&(T=!0)}var s=L.colormodel[i.colormodel],d=s.colormodel||i.colormodel,A=d.length,w=i._scaler(g),C=s.suffix,b=[];(i.hovertemplate||T)&&(b.push("["+[w[0]+C[0],w[1]+C[1],w[2]+C[2]].join(", ")),A===4&&b.push(", "+w[3]+C[3]),b.push("]"),b=b.join(""),v.extraText=d.toUpperCase()+": "+b);var S;o(i.hovertext)&&o(i.hovertext[l])?S=i.hovertext[l][u]:o(i.text)&&o(i.text[l])&&(S=i.text[l][u]);var m=c.c2p(t.y0+(l+.5)*i.dy),a=t.x0+(u+.5)*i.dx,E=t.y0+(l+.5)*i.dy,x="["+g.slice(0,i.colormodel.length).join(", ")+"]";return[P.extendFlat(v,{index:[l,u],x0:n.c2p(t.x0+u*i.dx),x1:n.c2p(t.x0+(u+1)*i.dx),y0:m,y1:m,color:w,xVal:a,xLabelVal:a,yVal:E,yLabelVal:E,zLabelVal:x,text:S,hovertemplateLabels:{zLabel:x,colorLabel:b,"color[0]Label":w[0]+C[0],"color[1]Label":w[1]+C[1],"color[2]Label":w[2]+C[2],"color[3]Label":w[3]+C[3]}})]}}}},94507:function(G,V,e){G.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(G,V,e){var y=e(39898),P=e(71828),o=P.strTranslate,L=e(77922),M=e(51877),v=e(3883),p=e(32396).STYLE;G.exports=function(t,i,n,c){var u=i.xaxis,l=i.yaxis,g=!t._context._exportedPlot&&v();P.makeTraceGroups(c,n,"im").each(function(f){var T=y.select(this),h=f[0],s=h.trace,d=(s.zsmooth==="fast"||s.zsmooth===!1&&g)&&!s._hasZ&&s._hasSource&&u.type==="linear"&&l.type==="linear";s._realImage=d;var A=h.z,w=h.x0,C=h.y0,b=h.w,S=h.h,m=s.dx,a=s.dy,E,x,k,I,N,F;for(F=0;E===void 0&&F<b;)E=u.c2p(w+F*m),F++;for(F=b;x===void 0&&F>0;)x=u.c2p(w+F*m),F--;for(F=0;I===void 0&&F<S;)I=l.c2p(C+F*a),F++;for(F=S;N===void 0&&F>0;)N=l.c2p(C+F*a),F--;if(x<E&&(k=x,x=E,E=k),N<I&&(k=I,I=N,N=k),!d){var z=.5;E=Math.max(-z*u._length,E),x=Math.min((1+z)*u._length,x),I=Math.max(-z*l._length,I),N=Math.min((1+z)*l._length,N)}var O=Math.round(x-E),_=Math.round(N-I),B=O<=0||_<=0;if(B){var W=T.selectAll("image").data([]);W.exit().remove();return}function $(Q){var X=document.createElement("canvas");X.width=O,X.height=_;var se=X.getContext("2d",{willReadFrequently:!0}),ne=function(Ue){return P.constrain(Math.round(u.c2p(w+Ue*m)-E),0,O)},fe=function(Ue){return P.constrain(Math.round(l.c2p(C+Ue*a)-I),0,_)},ye=M.colormodel[s.colormodel],Se=ye.colormodel||s.colormodel,we=ye.fmt,_e;for(F=0;F<h.w;F++){var ke=ne(F),Me=ne(F+1);if(!(Me===ke||isNaN(Me)||isNaN(ke)))for(var me=0;me<h.h;me++){var Ee=fe(me),Be=fe(me+1);Be===Ee||isNaN(Be)||isNaN(Ee)||!Q(F,me)||(_e=s._scaler(Q(F,me)),_e?se.fillStyle=Se+"("+we(_e).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(ke,Ee,Me-ke,Be-Ee))}}return X}var te=T.selectAll("image").data([f]);te.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),te.exit().remove();var ie=s.zsmooth===!1?p:"";if(d){var ue=P.simpleMap(u.range,u.r2l),J=P.simpleMap(l.range,l.r2l),Y=ue[1]<ue[0],ae=J[1]>J[0];if(Y||ae){var j=E+O/2,q=I+_/2;ie+="transform:"+o(j+"px",q+"px")+"scale("+(Y?-1:1)+","+(ae?-1:1)+")"+o(-j+"px",-q+"px")+";"}}te.attr("style",ie);var oe=new Promise(function(Q){if(s._hasZ)Q();else if(s._hasSource)if(s._canvas&&s._canvas.el.width===b&&s._canvas.el.height===S&&s._canvas.source===s.source)Q();else{var X=document.createElement("canvas");X.width=b,X.height=S;var se=X.getContext("2d",{willReadFrequently:!0});s._image=s._image||new Image;var ne=s._image;ne.onload=function(){se.drawImage(ne,0,0),s._canvas={el:X,source:s.source},Q()},ne.setAttribute("src",s.source)}}).then(function(){var Q,X;if(s._hasZ)X=$(function(fe,ye){var Se=A[ye][fe];return P.isTypedArray(Se)&&(Se=Array.from(Se)),Se}),Q=X.toDataURL("image/png");else if(s._hasSource)if(d)Q=s.source;else{var se=s._canvas.el.getContext("2d",{willReadFrequently:!0}),ne=se.getImageData(0,0,b,S).data;X=$(function(fe,ye){var Se=4*(ye*b+fe);return[ne[Se],ne[Se+1],ne[Se+2],ne[Se+3]]}),Q=X.toDataURL("image/png")}te.attr({"xlink:href":Q,height:_,width:O,x:E,y:I})});t._promises.push(oe)})}},12826:function(G,V,e){var y=e(39898);G.exports=function(o){y.select(o).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},54846:function(G,V,e){var y=e(1426).extendFlat,P=e(1426).extendDeep,o=e(30962).overrideAll,L=e(41940),M=e(22399),v=e(27670).Y,p=e(13838),r=e(44467).templatedArray,t=e(22372),i=e(12663).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),c={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:M.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",P({},c,{range:u}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:y({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:i("value")},font:y({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:i("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:y({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:P({},c,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:o({range:u,visible:y({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:y({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:y({},c.line.color,{}),width:y({},c.line.width,{dflt:1}),editType:"plot"},thickness:y({},c.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(G,V,e){var y=e(74875);V.name="indicator",V.plot=function(P,o,L,M){y.plotBasePlot(V.name,P,o,L,M)},V.clean=function(P,o,L,M){y.cleanBasePlot(V.name,P,o,L,M)}},24667:function(G){function V(e,y){var P=[],o=y.value;typeof y._lastValue!="number"&&(y._lastValue=y.value);var L=y._lastValue,M=L;return y._hasDelta&&typeof y.delta.reference=="number"&&(M=y.delta.reference),P[0]={y:o,lastY:L,delta:o-M,relativeDelta:(o-M)/M},P}G.exports={calc:V}},84577:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(G,V,e){var y=e(71828),P=e(54846),o=e(27670).c,L=e(44467),M=e(85501),v=e(84577),p=e(26218),r=e(38701),t=e(96115),i=e(89426);function n(u,l,g,f){function T(N,F){return y.coerce(u,l,P,N,F)}o(l,f,T),T("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var h=T("value");l._range=[0,typeof h=="number"?1.5*h:1];var s=new Array(2),d;l._hasNumber&&(T("number.valueformat"),T("number.font.color",f.font.color),T("number.font.family",f.font.family),T("number.font.size"),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,s[0]=!0),T("number.prefix"),T("number.suffix"),d=l.number.font.size);var A;l._hasDelta&&(T("delta.font.color",f.font.color),T("delta.font.family",f.font.family),T("delta.font.size"),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||v.defaultNumberFontSize),s[1]=!0),T("delta.reference",l.value),T("delta.relative"),T("delta.valueformat",l.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),A=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||s[0])&&(!l._hasDelta||s[1])||!1,T("title.font.color",f.font.color),T("title.font.family",f.font.family),T("title.font.size",.25*(d||A||v.defaultNumberFontSize)),T("title.text");var w,C,b,S;function m(N,F){return y.coerce(w,C,P.gauge,N,F)}function a(N,F){return y.coerce(b,S,P.gauge.axis,N,F)}if(l._hasGauge){w=u.gauge,w||(w={}),C=L.newContainer(l,"gauge"),m("shape");var E=l._isBullet=l.gauge.shape==="bullet";E||T("title.align","center");var x=l._isAngular=l.gauge.shape==="angular";x||T("align","center"),m("bgcolor",f.paper_bgcolor),m("borderwidth"),m("bordercolor"),m("bar.color"),m("bar.line.color"),m("bar.line.width");var k=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);m("bar.thickness",k),M(w,C,{name:"steps",handleItemDefaults:c}),m("threshold.value"),m("threshold.thickness"),m("threshold.line.width"),m("threshold.line.color"),b={},w&&(b=w.axis||{}),S=L.newContainer(C,"axis"),a("visible"),l._range=a("range",l._range);var I={outerTicks:!0};p(b,S,a,"linear"),i(b,S,a,"linear",I),t(b,S,a,"linear",I),r(b,S,a,I)}else T("title.align","center"),T("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function c(u,l){function g(f,T){return y.coerce(u,l,P.gauge.steps,f,T)}g("color"),g("line.color"),g("line.width"),g("range"),g("thickness")}G.exports={supplyDefaults:n}},15154:function(G,V,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(G,V,e){var y=e(39898),P=e(81684).sX,o=e(81684).k4,L=e(71828),M=L.strScale,v=L.strTranslate,p=L.rad2deg,r=e(18783).MID_SHIFT,t=e(91424),i=e(84577),n=e(63893),c=e(89298),u=e(71453),l=e(52830),g=e(13838),f=e(7901),T={left:"start",center:"middle",right:"end"},h={left:0,center:.5,right:1},s=/[yzafpnmkMGTPEZY]/;function d(I){return I&&I.duration>0}G.exports=function(N,F,z,O){var _=N._fullLayout,B;d(z)&&O&&(B=O()),L.makeTraceGroups(_._indicatorlayer,F,"trace").each(function(W){var $=W[0],te=$.trace,ie=y.select(this),ue=te._hasGauge,J=te._isAngular,Y=te._isBullet,ae=te.domain,j={w:_._size.w*(ae.x[1]-ae.x[0]),h:_._size.h*(ae.y[1]-ae.y[0]),l:_._size.l+_._size.w*ae.x[0],r:_._size.r+_._size.w*(1-ae.x[1]),t:_._size.t+_._size.h*(1-ae.y[1]),b:_._size.b+_._size.h*ae.y[0]},q=j.l+j.w/2,oe=j.t+j.h/2,Q=Math.min(j.w/2,j.h),X=i.innerRadius*Q,se,ne,fe,ye=te.align||"center";if(ne=oe,!ue)se=j.l+h[ye]*j.w,fe=function(De){return a(De,j.w,j.h)};else if(J&&(se=q,ne=oe+Q/2,fe=function(De){return E(De,.9*X)}),Y){var Se=i.bulletPadding,we=1-i.bulletNumberDomainSize+Se;se=j.l+(we+(1-we)*h[ye])*j.w,fe=function(De){return a(De,(i.bulletNumberDomainSize-Se)*j.w,j.h)}}C(N,ie,W,{numbersX:se,numbersY:ne,numbersScaler:fe,transitionOpts:z,onComplete:B});var _e,ke;ue&&(_e={range:te.gauge.axis.range,color:te.gauge.bgcolor,line:{color:te.gauge.bordercolor,width:0},thickness:1},ke={range:te.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:te.gauge.bordercolor,width:te.gauge.borderwidth},thickness:1});var Me=ie.selectAll("g.angular").data(J?W:[]);Me.exit().remove();var me=ie.selectAll("g.angularaxis").data(J?W:[]);me.exit().remove(),J&&w(N,ie,W,{radius:Q,innerRadius:X,gauge:Me,layer:me,size:j,gaugeBg:_e,gaugeOutline:ke,transitionOpts:z,onComplete:B});var Ee=ie.selectAll("g.bullet").data(Y?W:[]);Ee.exit().remove();var Be=ie.selectAll("g.bulletaxis").data(Y?W:[]);Be.exit().remove(),Y&&A(N,ie,W,{gauge:Ee,layer:Be,size:j,gaugeBg:_e,gaugeOutline:ke,transitionOpts:z,onComplete:B});var Ue=ie.selectAll("text.title").data(W);Ue.exit().remove(),Ue.enter().append("text").classed("title",!0),Ue.attr("text-anchor",function(){return Y?T.right:T[te.title.align]}).text(te.title.text).call(t.font,te.title.font).call(n.convertToTspans,N),Ue.attr("transform",function(){var De=j.l+j.w*h[te.title.align],He,nt=i.titlePadding,lt=t.bBox(Ue.node());if(ue){if(J)if(te.gauge.axis.visible){var $e=t.bBox(me.node());He=$e.top-nt-lt.bottom}else He=j.t+j.h/2-Q/2-lt.bottom-nt;Y&&(He=ne-(lt.top+lt.bottom)/2,De=j.l-i.bulletPadding*j.w)}else He=te._numbersTop-nt-lt.bottom;return v(De,He)})})};function A(I,N,F,z){var O=F[0].trace,_=z.gauge,B=z.layer,W=z.gaugeBg,$=z.gaugeOutline,te=z.size,ie=O.domain,ue=z.transitionOpts,J=z.onComplete,Y,ae,j,q,oe;_.enter().append("g").classed("bullet",!0),_.attr("transform",v(te.l,te.t)),B.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),B.selectAll("g.xbulletaxistick,path,text").remove();var Q=te.h,X=O.gauge.bar.thickness*Q,se=ie.x[0],ne=ie.x[0]+(ie.x[1]-ie.x[0])*(O._hasNumber||O._hasDelta?1-i.bulletNumberDomainSize:1);Y=m(I,O.gauge.axis),Y._id="xbulletaxis",Y.domain=[se,ne],Y.setScale(),ae=c.calcTicks(Y),j=c.makeTransTickFn(Y),q=c.getTickSigns(Y)[2],oe=te.t+te.h,Y.visible&&(c.drawTicks(I,Y,{vals:Y.ticks==="inside"?c.clipEnds(Y,ae):ae,layer:B,path:c.makeTickPath(Y,oe,q),transFn:j}),c.drawLabels(I,Y,{vals:ae,layer:B,transFn:j,labelFns:c.makeLabelFns(Y,oe)}));function fe(me){me.attr("width",function(Ee){return Math.max(0,Y.c2p(Ee.range[1])-Y.c2p(Ee.range[0]))}).attr("x",function(Ee){return Y.c2p(Ee.range[0])}).attr("y",function(Ee){return .5*(1-Ee.thickness)*Q}).attr("height",function(Ee){return Ee.thickness*Q})}var ye=[W].concat(O.gauge.steps),Se=_.selectAll("g.bg-bullet").data(ye);Se.enter().append("g").classed("bg-bullet",!0).append("rect"),Se.select("rect").call(fe).call(b),Se.exit().remove();var we=_.selectAll("g.value-bullet").data([O.gauge.bar]);we.enter().append("g").classed("value-bullet",!0).append("rect"),we.select("rect").attr("height",X).attr("y",(Q-X)/2).call(b),d(ue)?we.select("rect").transition().duration(ue.duration).ease(ue.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()}).attr("width",Math.max(0,Y.c2p(Math.min(O.gauge.axis.range[1],F[0].y)))):we.select("rect").attr("width",typeof F[0].y=="number"?Math.max(0,Y.c2p(Math.min(O.gauge.axis.range[1],F[0].y))):0),we.exit().remove();var _e=F.filter(function(){return O.gauge.threshold.value||O.gauge.threshold.value===0}),ke=_.selectAll("g.threshold-bullet").data(_e);ke.enter().append("g").classed("threshold-bullet",!0).append("line"),ke.select("line").attr("x1",Y.c2p(O.gauge.threshold.value)).attr("x2",Y.c2p(O.gauge.threshold.value)).attr("y1",(1-O.gauge.threshold.thickness)/2*Q).attr("y2",(1-(1-O.gauge.threshold.thickness)/2)*Q).call(f.stroke,O.gauge.threshold.line.color).style("stroke-width",O.gauge.threshold.line.width),ke.exit().remove();var Me=_.selectAll("g.gauge-outline").data([$]);Me.enter().append("g").classed("gauge-outline",!0).append("rect"),Me.select("rect").call(fe).call(b),Me.exit().remove()}function w(I,N,F,z){var O=F[0].trace,_=z.size,B=z.radius,W=z.innerRadius,$=z.gaugeBg,te=z.gaugeOutline,ie=[_.l+_.w/2,_.t+_.h/2+B/2],ue=z.gauge,J=z.layer,Y=z.transitionOpts,ae=z.onComplete,j=Math.PI/2;function q(qe){var ct=O.gauge.axis.range[0],dt=O.gauge.axis.range[1],gt=(qe-ct)/(dt-ct)*Math.PI-j;return gt<-j?-j:gt>j?j:gt}function oe(qe){return y.svg.arc().innerRadius((W+B)/2-qe/2*(B-W)).outerRadius((W+B)/2+qe/2*(B-W)).startAngle(-j)}function Q(qe){qe.attr("d",function(ct){return oe(ct.thickness).startAngle(q(ct.range[0])).endAngle(q(ct.range[1]))()})}var X,se,ne,fe;ue.enter().append("g").classed("angular",!0),ue.attr("transform",v(ie[0],ie[1])),J.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),J.selectAll("g.xangularaxistick,path,text").remove(),X=m(I,O.gauge.axis),X.type="linear",X.range=O.gauge.axis.range,X._id="xangularaxis",X.ticklabeloverflow="allow",X.setScale();var ye=function(qe){return(X.range[0]-qe.x)/(X.range[1]-X.range[0])*Math.PI+Math.PI},Se={},we=c.makeLabelFns(X,0),_e=we.labelStandoff;Se.xFn=function(qe){var ct=ye(qe);return Math.cos(ct)*_e},Se.yFn=function(qe){var ct=ye(qe),dt=Math.sin(ct)>0?.2:1;return-Math.sin(ct)*(_e+qe.fontSize*dt)+Math.abs(Math.cos(ct))*(qe.fontSize*r)},Se.anchorFn=function(qe){var ct=ye(qe),dt=Math.cos(ct);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},Se.heightFn=function(qe,ct,dt){var gt=ye(qe);return-.5*(1+Math.sin(gt))*dt};var ke=function(qe){return v(ie[0]+B*Math.cos(qe),ie[1]-B*Math.sin(qe))};ne=function(qe){return ke(ye(qe))};var Me=function(qe){var ct=ye(qe);return ke(ct)+"rotate("+-p(ct)+")"};if(se=c.calcTicks(X),fe=c.getTickSigns(X)[2],X.visible){fe=X.ticks==="inside"?-1:1;var me=(X.linewidth||1)/2;c.drawTicks(I,X,{vals:se,layer:J,path:"M"+fe*me+",0h"+fe*X.ticklen,transFn:Me}),c.drawLabels(I,X,{vals:se,layer:J,transFn:ne,labelFns:Se})}var Ee=[$].concat(O.gauge.steps),Be=ue.selectAll("g.bg-arc").data(Ee);Be.enter().append("g").classed("bg-arc",!0).append("path"),Be.select("path").call(Q).call(b),Be.exit().remove();var Ue=oe(O.gauge.bar.thickness),De=ue.selectAll("g.value-arc").data([O.gauge.bar]);De.enter().append("g").classed("value-arc",!0).append("path");var He=De.select("path");d(Y)?(He.transition().duration(Y.duration).ease(Y.easing).each("end",function(){ae&&ae()}).each("interrupt",function(){ae&&ae()}).attrTween("d",S(Ue,q(F[0].lastY),q(F[0].y))),O._lastValue=F[0].y):He.attr("d",typeof F[0].y=="number"?Ue.endAngle(q(F[0].y)):"M0,0Z"),He.call(b),De.exit().remove(),Ee=[];var nt=O.gauge.threshold.value;(nt||nt===0)&&Ee.push({range:[nt,nt],color:O.gauge.threshold.color,line:{color:O.gauge.threshold.line.color,width:O.gauge.threshold.line.width},thickness:O.gauge.threshold.thickness});var lt=ue.selectAll("g.threshold-arc").data(Ee);lt.enter().append("g").classed("threshold-arc",!0).append("path"),lt.select("path").call(Q).call(b),lt.exit().remove();var $e=ue.selectAll("g.gauge-outline").data([te]);$e.enter().append("g").classed("gauge-outline",!0).append("path"),$e.select("path").call(Q).call(b),$e.exit().remove()}function C(I,N,F,z){var O=F[0].trace,_=z.numbersX,B=z.numbersY,W=O.align||"center",$=T[W],te=z.transitionOpts,ie=z.onComplete,ue=L.ensureSingle(N,"g","numbers"),J,Y,ae,j=[];O._hasNumber&&j.push("number"),O._hasDelta&&(j.push("delta"),O.delta.position==="left"&&j.reverse());var q=ue.selectAll("text").data(j);q.enter().append("text"),q.attr("text-anchor",function(){return $}).attr("class",function(ke){return ke}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),q.exit().remove();function oe(ke,Me,me,Ee){if(ke.match("s")&&me>=0!=Ee>=0&&!Me(me).slice(-1).match(s)&&!Me(Ee).slice(-1).match(s)){var Be=ke.slice().replace("s","f").replace(/\d+/,function(De){return parseInt(De)-1}),Ue=m(I,{tickformat:Be});return function(De){return Math.abs(De)<1?c.tickText(Ue,De).text:Me(De)}}else return Me}function Q(){var ke=m(I,{tickformat:O.number.valueformat},O._range);ke.setScale(),c.prepTicks(ke);var Me=function(De){return c.tickText(ke,De).text},me=O.number.suffix,Ee=O.number.prefix,Be=ue.select("text.number");function Ue(){var De=typeof F[0].y=="number"?Ee+Me(F[0].y)+me:"-";Be.text(De).call(t.font,O.number.font).call(n.convertToTspans,I)}return d(te)?Be.transition().duration(te.duration).ease(te.easing).each("end",function(){Ue(),ie&&ie()}).each("interrupt",function(){Ue(),ie&&ie()}).attrTween("text",function(){var De=y.select(this),He=o(F[0].lastY,F[0].y);O._lastValue=F[0].y;var nt=oe(O.number.valueformat,Me,F[0].lastY,F[0].y);return function(lt){De.text(Ee+nt(He(lt))+me)}}):Ue(),J=x(Ee+Me(F[0].y)+me,O.number.font,$,I),Be}function X(){var ke=m(I,{tickformat:O.delta.valueformat},O._range);ke.setScale(),c.prepTicks(ke);var Me=function(lt){return c.tickText(ke,lt).text},me=O.delta.suffix,Ee=O.delta.prefix,Be=function(lt){var $e=O.delta.relative?lt.relativeDelta:lt.delta;return $e},Ue=function(lt,$e){return lt===0||typeof lt!="number"||isNaN(lt)?"-":(lt>0?O.delta.increasing.symbol:O.delta.decreasing.symbol)+Ee+$e(lt)+me},De=function(lt){return lt.delta>=0?O.delta.increasing.color:O.delta.decreasing.color};O._deltaLastValue===void 0&&(O._deltaLastValue=Be(F[0]));var He=ue.select("text.delta");He.call(t.font,O.delta.font).call(f.fill,De({delta:O._deltaLastValue}));function nt(){He.text(Ue(Be(F[0]),Me)).call(f.fill,De(F[0])).call(n.convertToTspans,I)}return d(te)?He.transition().duration(te.duration).ease(te.easing).tween("text",function(){var lt=y.select(this),$e=Be(F[0]),qe=O._deltaLastValue,ct=oe(O.delta.valueformat,Me,qe,$e),dt=o(qe,$e);return O._deltaLastValue=$e,function(gt){lt.text(Ue(dt(gt),ct)),lt.call(f.fill,De({delta:dt(gt)}))}}).each("end",function(){nt(),ie&&ie()}).each("interrupt",function(){nt(),ie&&ie()}):nt(),Y=x(Ue(Be(F[0]),Me),O.delta.font,$,I),He}var se=O.mode+O.align,ne;if(O._hasDelta&&(ne=X(),se+=O.delta.position+O.delta.font.size+O.delta.font.family+O.delta.valueformat,se+=O.delta.increasing.symbol+O.delta.decreasing.symbol,ae=Y),O._hasNumber&&(Q(),se+=O.number.font.size+O.number.font.family+O.number.valueformat+O.number.suffix+O.number.prefix,ae=J),O._hasDelta&&O._hasNumber){var fe=[(J.left+J.right)/2,(J.top+J.bottom)/2],ye=[(Y.left+Y.right)/2,(Y.top+Y.bottom)/2],Se,we,_e=.75*O.delta.font.size;O.delta.position==="left"&&(Se=k(O,"deltaPos",0,-1*(J.width*h[O.align]+Y.width*(1-h[O.align])+_e),se,Math.min),we=fe[1]-ye[1],ae={width:J.width+Y.width+_e,height:Math.max(J.height,Y.height),left:Y.left+Se,right:J.right,top:Math.min(J.top,Y.top+we),bottom:Math.max(J.bottom,Y.bottom+we)}),O.delta.position==="right"&&(Se=k(O,"deltaPos",0,J.width*(1-h[O.align])+Y.width*h[O.align]+_e,se,Math.max),we=fe[1]-ye[1],ae={width:J.width+Y.width+_e,height:Math.max(J.height,Y.height),left:J.left,right:Y.right+Se,top:Math.min(J.top,Y.top+we),bottom:Math.max(J.bottom,Y.bottom+we)}),O.delta.position==="bottom"&&(Se=null,we=Y.height,ae={width:Math.max(J.width,Y.width),height:J.height+Y.height,left:Math.min(J.left,Y.left),right:Math.max(J.right,Y.right),top:J.bottom-J.height,bottom:J.bottom+Y.height}),O.delta.position==="top"&&(Se=null,we=J.top,ae={width:Math.max(J.width,Y.width),height:J.height+Y.height,left:Math.min(J.left,Y.left),right:Math.max(J.right,Y.right),top:J.bottom-J.height-Y.height,bottom:J.bottom}),ne.attr({dx:Se,dy:we})}(O._hasNumber||O._hasDelta)&&ue.attr("transform",function(){var ke=z.numbersScaler(ae);se+=ke[2];var Me=k(O,"numbersScale",1,ke[0],se,Math.min),me;O._scaleNumbers||(Me=1),O._isAngular?me=B-Me*ae.bottom:me=B-Me*(ae.top+ae.bottom)/2,O._numbersTop=Me*ae.top+me;var Ee=ae[W];W==="center"&&(Ee=(ae.left+ae.right)/2);var Be=_-Me*Ee;return Be=k(O,"numbersTranslate",0,Be,se,Math.max),v(Be,me)+M(Me)})}function b(I){I.each(function(N){f.stroke(y.select(this),N.line.color)}).each(function(N){f.fill(y.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function S(I,N,F){return function(){var z=P(N,F);return function(O){return I.endAngle(z(O))()}}}function m(I,N,F){var z=I._fullLayout,O=L.extendFlat({type:"linear",ticks:"outside",range:F,showline:!0},N),_={type:"linear",_id:"x"+N._id},B={letter:"x",font:z.font,noHover:!0,noTickson:!0};function W($,te){return L.coerce(O,_,g,$,te)}return u(O,_,W,B,z),l(O,_,W,B),_}function a(I,N,F){var z=Math.min(N/I.width,F/I.height);return[z,I,N+"x"+F]}function E(I,N){var F=Math.sqrt(I.width/2*(I.width/2)+I.height*I.height),z=N/F;return[z,I,N]}function x(I,N,F,z){var O=document.createElementNS("http://www.w3.org/2000/svg","text"),_=y.select(O);return _.text(I).attr("x",0).attr("y",0).attr("text-anchor",F).attr("data-unformatted",I).call(n.convertToTspans,z).call(t.font,N),t.bBox(_.node())}function k(I,N,F,z,O,_){var B="_cache"+N;I[B]&&I[B].key===O||(I[B]={key:O,value:F});var W=L.aggNums(_,null,[I[B].value,z],2);return I[B].value=W,W}},16249:function(G,V,e){var y=e(50693),P=e(12663).axisHoverFormat,o=e(5386).fF,L=e(2418),M=e(9012),v=e(1426).extendFlat,p=e(30962).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var i=G.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:o(),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),valuehoverformat:P("value",1),showlegend:v({},M.showlegend,{dflt:!1})},y("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},M.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},56959:function(G,V,e){var y=e(78803),P=e(88489).processGrid,o=e(88489).filter;G.exports=function(M,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=o(v.x,v._len),v._y=o(v.y,v._len),v._z=o(v.z,v._len),v._value=o(v.value,v._len);var p=P(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,i=0;i<v._len;i++){var n=v._value[i];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,y(M,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},22674:function(G,V,e){var y=e(9330).gl_mesh3d,P=e(81697).parseColorScale,o=e(71828).isArrayOrTypedArray,L=e(78614),M=e(21081).extractOpts,v=e(90060),p=function(u,l){for(var g=l.length-1;g>0;g--){var f=Math.min(l[g],l[g-1]),T=Math.max(l[g],l[g-1]);if(T>f&&f<u&&u<=T)return{id:g,distRatio:(T-u)/(T-f)}}return{id:0,distRatio:0}};function r(u,l,g){this.scene=u,this.uid=g,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var l=u.data.index,g=this.data._meshX[l],f=this.data._meshY[l],T=this.data._meshZ[l],h=this.data._Ys.length,s=this.data._Zs.length,d=p(g,this.data._Xs).id,A=p(f,this.data._Ys).id,w=p(T,this.data._Zs).id,C=u.index=w+s*A+s*h*d;u.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var b=this.data.hovertext||this.data.text;return o(b)&&b[C]!==void 0?u.textLabel=b[C]:b&&(u.textLabel=b),!0}},t.update=function(u){var l=this.scene,g=l.fullSceneLayout;this.data=n(u);function f(A,w,C,b){return w.map(function(S){return A.d2l(S,0,b)*C})}var T=v(f(g.xaxis,u._meshX,l.dataScale[0],u.xcalendar),f(g.yaxis,u._meshY,l.dataScale[1],u.ycalendar),f(g.zaxis,u._meshZ,l.dataScale[2],u.zcalendar)),h=v(u._meshI,u._meshJ,u._meshK),s={positions:T,cells:h,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:L(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},d=M(u);s.vertexIntensity=u._meshIntensity,s.vertexIntensityBounds=[d.min,d.max],s.colormap=P(u),this.mesh.update(s)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var i=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(u){u._meshI=[],u._meshJ=[],u._meshK=[];var l=u.surface.show,g=u.spaceframe.show,f=u.surface.fill,T=u.spaceframe.fill,h=!1,s=!1,d=0,A,w,C=u._Xs,b=u._Ys,S=u._Zs,m=C.length,a=b.length,E=S.length,x=i.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),k=function(Ie,Oe,Le){switch(x){case 5:return Le+E*Oe+E*a*Ie;case 4:return Le+E*Ie+E*m*Oe;case 3:return Oe+a*Le+a*E*Ie;case 2:return Oe+a*Ie+a*m*Le;case 1:return Ie+m*Le+m*E*Oe;default:return Ie+m*Oe+m*a*Le}},I=u._minValues,N=u._maxValues,F=u._vMin,z=u._vMax,O,_,B,W;function $(Ie,Oe,Le){for(var xe=W.length,pe=w;pe<xe;pe++)if(Ie===O[pe]&&Oe===_[pe]&&Le===B[pe])return pe;return-1}function te(){w=A}function ie(){O=[],_=[],B=[],W=[],A=0,te()}function ue(Ie,Oe,Le,xe){return O.push(Ie),_.push(Oe),B.push(Le),W.push(xe),A++,A-1}function J(Ie,Oe,Le){return u._meshI.push(Ie),u._meshJ.push(Oe),u._meshK.push(Le),d++,d-1}function Y(Ie,Oe,Le){for(var xe=[],pe=0;pe<Ie.length;pe++)xe[pe]=(Ie[pe]+Oe[pe]+Le[pe])/3;return xe}function ae(Ie,Oe,Le){for(var xe=[],pe=0;pe<Ie.length;pe++)xe[pe]=Ie[pe]*(1-Le)+Le*Oe[pe];return xe}var j;function q(Ie){j=Ie}function oe(Ie,Oe){var Le=Ie[0],xe=Ie[1],pe=Ie[2],Ae=Y(Le,xe,pe),Te=Math.sqrt(1-j),Ne=ae(Ae,Le,Te),Ye=ae(Ae,xe,Te),et=ae(Ae,pe,Te),ft=Oe[0],pt=Oe[1],Yt=Oe[2];return{xyzv:[[Le,xe,Ye],[Ye,Ne,Le],[xe,pe,et],[et,Ye,xe],[pe,Le,Ne],[Ne,et,pe]],abc:[[ft,pt,-1],[-1,-1,ft],[pt,Yt,-1],[-1,-1,pt],[Yt,ft,-1],[-1,-1,Yt]]}}function Q(Ie,Oe){return Ie==="all"||Ie===null?!0:Ie.indexOf(Oe)>-1}function X(Ie,Oe){return Ie===null?Oe:Ie}function se(Ie,Oe,Le){te();var xe=[Oe],pe=[Le];if(j>=1)xe=[Oe],pe=[Le];else if(j>0){var Ae=oe(Oe,Le);xe=Ae.xyzv,pe=Ae.abc}for(var Te=0;Te<xe.length;Te++){Oe=xe[Te],Le=pe[Te];for(var Ne=[],Ye=0;Ye<3;Ye++){var et=Oe[Ye][0],ft=Oe[Ye][1],pt=Oe[Ye][2],Yt=Oe[Ye][3],Jt=Le[Ye]>-1?Le[Ye]:$(et,ft,pt);Jt>-1?Ne[Ye]=Jt:Ne[Ye]=ue(et,ft,pt,X(Ie,Yt))}J(Ne[0],Ne[1],Ne[2])}}function ne(Ie,Oe,Le){var xe=function(pe,Ae,Te){se(Ie,[Oe[pe],Oe[Ae],Oe[Te]],[Le[pe],Le[Ae],Le[Te]])};xe(0,1,2),xe(2,3,0)}function fe(Ie,Oe,Le){var xe=function(pe,Ae,Te){se(Ie,[Oe[pe],Oe[Ae],Oe[Te]],[Le[pe],Le[Ae],Le[Te]])};xe(0,1,2),xe(3,0,1),xe(2,3,0),xe(1,2,3)}function ye(Ie,Oe,Le,xe){var pe=Ie[3];pe<Le&&(pe=Le),pe>xe&&(pe=xe);for(var Ae=(Ie[3]-pe)/(Ie[3]-Oe[3]+1e-9),Te=[],Ne=0;Ne<4;Ne++)Te[Ne]=(1-Ae)*Ie[Ne]+Ae*Oe[Ne];return Te}function Se(Ie,Oe,Le){return Ie>=Oe&&Ie<=Le}function we(Ie){var Oe=.001*(z-F);return Ie>=F-Oe&&Ie<=z+Oe}function _e(Ie){for(var Oe=[],Le=0;Le<4;Le++){var xe=Ie[Le];Oe.push([u._x[xe],u._y[xe],u._z[xe],u._value[xe]])}return Oe}var ke=3;function Me(Ie,Oe,Le,xe,pe,Ae){Ae||(Ae=1),Le=[-1,-1,-1];var Te=!1,Ne=[Se(Oe[0][3],xe,pe),Se(Oe[1][3],xe,pe),Se(Oe[2][3],xe,pe)];if(!Ne[0]&&!Ne[1]&&!Ne[2])return!1;var Ye=function(ft,pt,Yt){return we(pt[0][3])&&we(pt[1][3])&&we(pt[2][3])?(se(ft,pt,Yt),!0):Ae<ke?Me(ft,pt,Yt,F,z,++Ae):!1};if(Ne[0]&&Ne[1]&&Ne[2])return Ye(Ie,Oe,Le)||Te;var et=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ft){if(Ne[ft[0]]&&Ne[ft[1]]&&!Ne[ft[2]]){var pt=Oe[ft[0]],Yt=Oe[ft[1]],Jt=Oe[ft[2]],Tt=ye(Jt,pt,xe,pe),_t=ye(Jt,Yt,xe,pe);Te=Ye(Ie,[_t,Tt,pt],[-1,-1,Le[ft[0]]])||Te,Te=Ye(Ie,[pt,Yt,_t],[Le[ft[0]],Le[ft[1]],-1])||Te,et=!0}}),et||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ft){if(Ne[ft[0]]&&!Ne[ft[1]]&&!Ne[ft[2]]){var pt=Oe[ft[0]],Yt=Oe[ft[1]],Jt=Oe[ft[2]],Tt=ye(Yt,pt,xe,pe),_t=ye(Jt,pt,xe,pe);Te=Ye(Ie,[_t,Tt,pt],[-1,-1,Le[ft[0]]])||Te,et=!0}}),Te}function me(Ie,Oe,Le,xe){var pe=!1,Ae=_e(Oe),Te=[Se(Ae[0][3],Le,xe),Se(Ae[1][3],Le,xe),Se(Ae[2][3],Le,xe),Se(Ae[3][3],Le,xe)];if(!Te[0]&&!Te[1]&&!Te[2]&&!Te[3])return pe;if(Te[0]&&Te[1]&&Te[2]&&Te[3])return s&&(pe=fe(Ie,Ae,Oe)||pe),pe;var Ne=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ye){if(Te[Ye[0]]&&Te[Ye[1]]&&Te[Ye[2]]&&!Te[Ye[3]]){var et=Ae[Ye[0]],ft=Ae[Ye[1]],pt=Ae[Ye[2]],Yt=Ae[Ye[3]];if(s)pe=se(Ie,[et,ft,pt],[Oe[Ye[0]],Oe[Ye[1]],Oe[Ye[2]]])||pe;else{var Jt=ye(Yt,et,Le,xe),Tt=ye(Yt,ft,Le,xe),_t=ye(Yt,pt,Le,xe);pe=se(null,[Jt,Tt,_t],[-1,-1,-1])||pe}Ne=!0}}),Ne||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ye){if(Te[Ye[0]]&&Te[Ye[1]]&&!Te[Ye[2]]&&!Te[Ye[3]]){var et=Ae[Ye[0]],ft=Ae[Ye[1]],pt=Ae[Ye[2]],Yt=Ae[Ye[3]],Jt=ye(pt,et,Le,xe),Tt=ye(pt,ft,Le,xe),_t=ye(Yt,ft,Le,xe),$t=ye(Yt,et,Le,xe);s?(pe=se(Ie,[et,$t,Jt],[Oe[Ye[0]],-1,-1])||pe,pe=se(Ie,[ft,Tt,_t],[Oe[Ye[1]],-1,-1])||pe):pe=ne(null,[Jt,Tt,_t,$t],[-1,-1,-1,-1])||pe,Ne=!0}}),Ne)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ye){if(Te[Ye[0]]&&!Te[Ye[1]]&&!Te[Ye[2]]&&!Te[Ye[3]]){var et=Ae[Ye[0]],ft=Ae[Ye[1]],pt=Ae[Ye[2]],Yt=Ae[Ye[3]],Jt=ye(ft,et,Le,xe),Tt=ye(pt,et,Le,xe),_t=ye(Yt,et,Le,xe);s?(pe=se(Ie,[et,Jt,Tt],[Oe[Ye[0]],-1,-1])||pe,pe=se(Ie,[et,Tt,_t],[Oe[Ye[0]],-1,-1])||pe,pe=se(Ie,[et,_t,Jt],[Oe[Ye[0]],-1,-1])||pe):pe=se(null,[Jt,Tt,_t],[-1,-1,-1])||pe,Ne=!0}}),pe}function Ee(Ie,Oe,Le,xe,pe,Ae,Te,Ne,Ye,et,ft){var pt=!1;return h&&(Q(Ie,"A")&&(pt=me(null,[Oe,Le,xe,Ae],et,ft)||pt),Q(Ie,"B")&&(pt=me(null,[Le,xe,pe,Ye],et,ft)||pt),Q(Ie,"C")&&(pt=me(null,[Le,Ae,Te,Ye],et,ft)||pt),Q(Ie,"D")&&(pt=me(null,[xe,Ae,Ne,Ye],et,ft)||pt),Q(Ie,"E")&&(pt=me(null,[Le,xe,Ae,Ye],et,ft)||pt)),s&&(pt=me(Ie,[Le,xe,Ae,Ye],et,ft)||pt),pt}function Be(Ie,Oe,Le,xe,pe,Ae,Te,Ne){return[Ne[0]===!0?!0:Me(Ie,_e([Oe,Le,xe]),[Oe,Le,xe],Ae,Te),Ne[1]===!0?!0:Me(Ie,_e([xe,pe,Oe]),[xe,pe,Oe],Ae,Te)]}function Ue(Ie,Oe,Le,xe,pe,Ae,Te,Ne,Ye){return Ne?Be(Ie,Oe,Le,pe,xe,Ae,Te,Ye):Be(Ie,Le,pe,xe,Oe,Ae,Te,Ye)}function De(Ie,Oe,Le,xe,pe,Ae,Te){var Ne=!1,Ye,et,ft,pt,Yt=function(){Ne=Me(Ie,[Ye,et,ft],[-1,-1,-1],pe,Ae)||Ne,Ne=Me(Ie,[ft,pt,Ye],[-1,-1,-1],pe,Ae)||Ne},Jt=Te[0],Tt=Te[1],_t=Te[2];return Jt&&(Ye=ae(_e([k(Oe,Le-0,xe-0)])[0],_e([k(Oe-1,Le-0,xe-0)])[0],Jt),et=ae(_e([k(Oe,Le-0,xe-1)])[0],_e([k(Oe-1,Le-0,xe-1)])[0],Jt),ft=ae(_e([k(Oe,Le-1,xe-1)])[0],_e([k(Oe-1,Le-1,xe-1)])[0],Jt),pt=ae(_e([k(Oe,Le-1,xe-0)])[0],_e([k(Oe-1,Le-1,xe-0)])[0],Jt),Yt()),Tt&&(Ye=ae(_e([k(Oe-0,Le,xe-0)])[0],_e([k(Oe-0,Le-1,xe-0)])[0],Tt),et=ae(_e([k(Oe-0,Le,xe-1)])[0],_e([k(Oe-0,Le-1,xe-1)])[0],Tt),ft=ae(_e([k(Oe-1,Le,xe-1)])[0],_e([k(Oe-1,Le-1,xe-1)])[0],Tt),pt=ae(_e([k(Oe-1,Le,xe-0)])[0],_e([k(Oe-1,Le-1,xe-0)])[0],Tt),Yt()),_t&&(Ye=ae(_e([k(Oe-0,Le-0,xe)])[0],_e([k(Oe-0,Le-0,xe-1)])[0],_t),et=ae(_e([k(Oe-0,Le-1,xe)])[0],_e([k(Oe-0,Le-1,xe-1)])[0],_t),ft=ae(_e([k(Oe-1,Le-1,xe)])[0],_e([k(Oe-1,Le-1,xe-1)])[0],_t),pt=ae(_e([k(Oe-1,Le-0,xe)])[0],_e([k(Oe-1,Le-0,xe-1)])[0],_t),Yt()),Ne}function He(Ie,Oe,Le,xe,pe,Ae,Te,Ne,Ye,et,ft,pt){var Yt=Ie;return pt?(h&&Ie==="even"&&(Yt=null),Ee(Yt,Oe,Le,xe,pe,Ae,Te,Ne,Ye,et,ft)):(h&&Ie==="odd"&&(Yt=null),Ee(Yt,Ye,Ne,Te,Ae,pe,xe,Le,Oe,et,ft))}function nt(Ie,Oe,Le,xe,pe){for(var Ae=[],Te=0,Ne=0;Ne<Oe.length;Ne++)for(var Ye=Oe[Ne],et=1;et<E;et++)for(var ft=1;ft<a;ft++)Ae.push(Ue(Ie,k(Ye,ft-1,et-1),k(Ye,ft-1,et),k(Ye,ft,et-1),k(Ye,ft,et),Le,xe,(Ye+ft+et)%2,pe&&pe[Te]?pe[Te]:[])),Te++;return Ae}function lt(Ie,Oe,Le,xe,pe){for(var Ae=[],Te=0,Ne=0;Ne<Oe.length;Ne++)for(var Ye=Oe[Ne],et=1;et<m;et++)for(var ft=1;ft<E;ft++)Ae.push(Ue(Ie,k(et-1,Ye,ft-1),k(et,Ye,ft-1),k(et-1,Ye,ft),k(et,Ye,ft),Le,xe,(et+Ye+ft)%2,pe&&pe[Te]?pe[Te]:[])),Te++;return Ae}function $e(Ie,Oe,Le,xe,pe){for(var Ae=[],Te=0,Ne=0;Ne<Oe.length;Ne++)for(var Ye=Oe[Ne],et=1;et<a;et++)for(var ft=1;ft<m;ft++)Ae.push(Ue(Ie,k(ft-1,et-1,Ye),k(ft-1,et,Ye),k(ft,et-1,Ye),k(ft,et,Ye),Le,xe,(ft+et+Ye)%2,pe&&pe[Te]?pe[Te]:[])),Te++;return Ae}function qe(Ie,Oe,Le){for(var xe=1;xe<E;xe++)for(var pe=1;pe<a;pe++)for(var Ae=1;Ae<m;Ae++)He(Ie,k(Ae-1,pe-1,xe-1),k(Ae-1,pe-1,xe),k(Ae-1,pe,xe-1),k(Ae-1,pe,xe),k(Ae,pe-1,xe-1),k(Ae,pe-1,xe),k(Ae,pe,xe-1),k(Ae,pe,xe),Oe,Le,(Ae+pe+xe)%2)}function ct(Ie,Oe,Le){s=!0,qe(Ie,Oe,Le),s=!1}function dt(Ie,Oe,Le){h=!0,qe(Ie,Oe,Le),h=!1}function gt(Ie,Oe,Le,xe,pe,Ae){for(var Te=[],Ne=0,Ye=0;Ye<Oe.length;Ye++)for(var et=Oe[Ye],ft=1;ft<E;ft++)for(var pt=1;pt<a;pt++)Te.push(De(Ie,et,pt,ft,Le,xe,pe[Ye],Ae&&Ae[Ne]?Ae[Ne]:[])),Ne++;return Te}function At(Ie,Oe,Le,xe,pe,Ae){for(var Te=[],Ne=0,Ye=0;Ye<Oe.length;Ye++)for(var et=Oe[Ye],ft=1;ft<m;ft++)for(var pt=1;pt<E;pt++)Te.push(De(Ie,ft,et,pt,Le,xe,pe[Ye],Ae&&Ae[Ne]?Ae[Ne]:[])),Ne++;return Te}function Rt(Ie,Oe,Le,xe,pe,Ae){for(var Te=[],Ne=0,Ye=0;Ye<Oe.length;Ye++)for(var et=Oe[Ye],ft=1;ft<a;ft++)for(var pt=1;pt<m;pt++)Te.push(De(Ie,pt,ft,et,Le,xe,pe[Ye],Ae&&Ae[Ne]?Ae[Ne]:[])),Ne++;return Te}function Vt(Ie,Oe){for(var Le=[],xe=Ie;xe<Oe;xe++)Le.push(xe);return Le}function Je(){for(var Ie=0;Ie<m;Ie++)for(var Oe=0;Oe<a;Oe++)for(var Le=0;Le<E;Le++){var xe=k(Ie,Oe,Le);ue(u._x[xe],u._y[xe],u._z[xe],u._value[xe])}}function Ve(){ie(),Je();var Ie=null;if(g&&T&&(q(T),ct(Ie,F,z)),l&&f){q(f);for(var Oe=u.surface.pattern,Le=u.surface.count,xe=0;xe<Le;xe++){var pe=Le===1?.5:xe/(Le-1),Ae=(1-pe)*F+pe*z,Te=Math.abs(Ae-I),Ne=Math.abs(Ae-N),Ye=Te>Ne?[I,Ae]:[Ae,N];dt(Oe,Ye[0],Ye[1])}}var et=[[Math.min(F,N),Math.max(F,N)],[Math.min(I,z),Math.max(I,z)]];["x","y","z"].forEach(function(ft){for(var pt=[],Yt=0;Yt<et.length;Yt++){var Jt=0,Tt=et[Yt][0],_t=et[Yt][1],$t=u.slices[ft];if($t.show&&$t.fill){q($t.fill);var wr=[],yt=[],jt=[];if($t.locations.length)for(var Qt=0;Qt<$t.locations.length;Qt++){var gr=p($t.locations[Qt],ft==="x"?C:ft==="y"?b:S);gr.distRatio===0?wr.push(gr.id):gr.id>0&&(yt.push(gr.id),ft==="x"?jt.push([gr.distRatio,0,0]):ft==="y"?jt.push([0,gr.distRatio,0]):jt.push([0,0,gr.distRatio]))}else ft==="x"?wr=Vt(1,m-1):ft==="y"?wr=Vt(1,a-1):wr=Vt(1,E-1);yt.length>0&&(ft==="x"?pt[Jt]=gt(Ie,yt,Tt,_t,jt,pt[Jt]):ft==="y"?pt[Jt]=At(Ie,yt,Tt,_t,jt,pt[Jt]):pt[Jt]=Rt(Ie,yt,Tt,_t,jt,pt[Jt]),Jt++),wr.length>0&&(ft==="x"?pt[Jt]=nt(Ie,wr,Tt,_t,pt[Jt]):ft==="y"?pt[Jt]=lt(Ie,wr,Tt,_t,pt[Jt]):pt[Jt]=$e(Ie,wr,Tt,_t,pt[Jt]),Jt++)}var sr=u.caps[ft];sr.show&&sr.fill&&(q(sr.fill),ft==="x"?pt[Jt]=nt(Ie,[0,m-1],Tt,_t,pt[Jt]):ft==="y"?pt[Jt]=lt(Ie,[0,a-1],Tt,_t,pt[Jt]):pt[Jt]=$e(Ie,[0,E-1],Tt,_t,pt[Jt]),Jt++)}}),d===0&&ie(),u._meshX=O,u._meshY=_,u._meshZ=B,u._meshIntensity=W,u._Xs=C,u._Ys=b,u._Zs=S}return Ve(),u}function c(u,l){var g=u.glplot.gl,f=y({gl:g}),T=new r(u,f,l.uid);return f._trace=T,T.update(l),u.glplot.add(f),T}G.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:c}},82738:function(G,V,e){var y=e(71828),P=e(73972),o=e(16249),L=e(1586);function M(p,r,t,i){function n(c,u){return y.coerce(p,r,o,c,u)}v(p,r,t,i,n)}function v(p,r,t,i,n){var c=n("isomin"),u=n("isomax");u!=null&&c!==void 0&&c!==null&&c>u&&(r.isomin=null,r.isomax=null);var l=n("x"),g=n("y"),f=n("z"),T=n("value");if(!l||!l.length||!g||!g.length||!f||!f.length||!T||!T.length){r.visible=!1;return}var h=P.getComponentMethod("calendars","handleTraceDefaults");h(p,r,["x","y","z"],i),n("valuehoverformat"),["x","y","z"].forEach(function(w){n(w+"hoverformat");var C="caps."+w,b=n(C+".show");b&&n(C+".fill");var S="slices."+w,m=n(S+".show");m&&(n(S+".fill"),n(S+".locations"))});var s=n("spaceframe.show");s&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var A=n("contour.show");A&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){n(w)}),L(p,r,i,n,{prefix:"",cLetter:"c"}),r._length=null}G.exports={supplyDefaults:M,supplyIsoDefaults:v}},64943:function(G,V,e){G.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(G,V,e){var y=e(50693),P=e(12663).axisHoverFormat,o=e(5386).fF,L=e(54532),M=e(9012),v=e(1426).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"}),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},y("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},M.hoverinfo,{editType:"calc"}),showlegend:v({},M.showlegend,{dflt:!1})})},82932:function(G,V,e){var y=e(78803);G.exports=function(o,L){L.intensity&&y(o,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},91134:function(G,V,e){var y=e(9330).gl_mesh3d,P=e(9330).delaunay_triangulate,o=e(9330).alpha_shape,L=e(9330).convex_hull,M=e(81697).parseColorScale,v=e(71828).isArrayOrTypedArray,p=e(78614),r=e(21081).extractOpts,t=e(90060);function i(h,s,d){this.scene=h,this.uid=d,this.mesh=s,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=i.prototype;n.handlePick=function(h){if(h.object===this.mesh){var s=h.index=h.data.index;h.data._cellCenter?h.traceCoordinate=h.data.dataCoordinate:h.traceCoordinate=[this.data.x[s],this.data.y[s],this.data.z[s]];var d=this.data.hovertext||this.data.text;return v(d)&&d[s]!==void 0?h.textLabel=d[s]:d&&(h.textLabel=d),!0}};function c(h){for(var s=[],d=h.length,A=0;A<d;A++)s[A]=p(h[A]);return s}function u(h,s,d,A){for(var w=[],C=s.length,b=0;b<C;b++)w[b]=h.d2l(s[b],0,A)*d;return w}function l(h){for(var s=[],d=h.length,A=0;A<d;A++)s[A]=Math.round(h[A]);return s}function g(h,s){for(var d=["x","y","z"].indexOf(h),A=[],w=s.length,C=0;C<w;C++)A[C]=[s[C][(d+1)%3],s[C][(d+2)%3]];return P(A)}function f(h,s){for(var d=h.length,A=0;A<d;A++)if(h[A]<=-.5||h[A]>=s-.5)return!1;return!0}n.update=function(h){var s=this.scene,d=s.fullSceneLayout;this.data=h;var A=h.x.length,w=t(u(d.xaxis,h.x,s.dataScale[0],h.xcalendar),u(d.yaxis,h.y,s.dataScale[1],h.ycalendar),u(d.zaxis,h.z,s.dataScale[2],h.zcalendar)),C;if(h.i&&h.j&&h.k){if(h.i.length!==h.j.length||h.j.length!==h.k.length||!f(h.i,A)||!f(h.j,A)||!f(h.k,A))return;C=t(l(h.i),l(h.j),l(h.k))}else h.alphahull===0?C=L(w):h.alphahull>0?C=o(h.alphahull,w):C=g(h.delaunayaxis,w);var b={positions:w,cells:C,lightPosition:[h.lightposition.x,h.lightposition.y,h.lightposition.z],ambient:h.lighting.ambient,diffuse:h.lighting.diffuse,specular:h.lighting.specular,roughness:h.lighting.roughness,fresnel:h.lighting.fresnel,vertexNormalsEpsilon:h.lighting.vertexnormalsepsilon,faceNormalsEpsilon:h.lighting.facenormalsepsilon,opacity:h.opacity,contourEnable:h.contour.show,contourColor:p(h.contour.color).slice(0,3),contourWidth:h.contour.width,useFacetNormals:h.flatshading};if(h.intensity){var S=r(h);this.color="#fff";var m=h.intensitymode;b[m+"Intensity"]=h.intensity,b[m+"IntensityBounds"]=[S.min,S.max],b.colormap=M(h)}else h.vertexcolor?(this.color=h.vertexcolor[0],b.vertexColors=c(h.vertexcolor)):h.facecolor?(this.color=h.facecolor[0],b.cellColors=c(h.facecolor)):(this.color=h.color,b.meshColor=p(h.color));this.mesh.update(b)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(h,s){var d=h.glplot.gl,A=y({gl:d}),w=new i(h,A,s.uid);return A._trace=w,w.update(s),h.glplot.add(A),w}G.exports=T},58669:function(G,V,e){var y=e(73972),P=e(71828),o=e(1586),L=e(2418);G.exports=function(v,p,r,t){function i(g,f){return P.coerce(v,p,L,g,f)}function n(g){var f=g.map(function(T){var h=i(T);return h&&P.isArrayOrTypedArray(h)?h:null});return f.every(function(T){return T&&T.length===f[0].length})&&f}var c=n(["x","y","z"]);if(!c){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var u=y.getComponentMethod("calendars","handleTraceDefaults");u(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(g){i(g)});var l=i("contour.show");l&&(i("contour.color"),i("contour.width")),"intensity"in v?(i("intensity"),i("intensitymode"),o(v,p,t,i,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?i("facecolor"):"vertexcolor"in v?i("vertexcolor"):i("color",r)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),p._length=null}},21164:function(G,V,e){G.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(G,V,e){var y=e(71828).extendFlat,P=e(82196),o=e(12663).axisHoverFormat,L=e(79952).P,M=e(77914),v=e(22372),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=P.line;function i(n){return{line:{color:y({},t.color,{dflt:n}),width:t.width,dash:L,editType:"style"},editType:"style"}}G.exports={xperiod:P.xperiod,xperiod0:P.xperiod0,xperiodalignment:P.xperiodalignment,xhoverformat:o("x"),yhoverformat:o("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:y({},t.width,{}),dash:y({},L,{}),editType:"style"},increasing:i(p),decreasing:i(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:y({},M.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(G,V,e){var y=e(71828),P=y._,o=e(89298),L=e(42973),M=e(50606).BADNUM;function v(i,n){var c=o.getFromId(i,n.xaxis),u=o.getFromId(i,n.yaxis),l=t(i,c,n),g=n._minDiff;n._minDiff=null;var f=n._origX;n._origX=null;var T=n._xcalc;n._xcalc=null;var h=r(i,n,f,T,u,p);return n._extremes[c._id]=o.findExtremes(c,T,{vpad:g/2}),h.length?(y.extendFlat(h[0].t,{wHover:g/2,tickLen:l}),h):[{t:{empty:!0}}]}function p(i,n,c,u){return{o:i,h:n,l:c,c:u}}function r(i,n,c,u,l,g){for(var f=l.makeCalcdata(n,"open"),T=l.makeCalcdata(n,"high"),h=l.makeCalcdata(n,"low"),s=l.makeCalcdata(n,"close"),d=y.isArrayOrTypedArray(n.text),A=y.isArrayOrTypedArray(n.hovertext),w=!0,C=null,b=!!n.xperiodalignment,S=[],m=0;m<u.length;m++){var a=u[m],E=f[m],x=T[m],k=h[m],I=s[m];if(a!==M&&E!==M&&x!==M&&k!==M&&I!==M){I===E?C!==null&&I!==C&&(w=I>C):w=I>E,C=I;var N=g(E,x,k,I);N.pos=a,N.yc=(E+I)/2,N.i=m,N.dir=w?"increasing":"decreasing",N.x=N.pos,N.y=[k,x],b&&(N.orig_p=c[m]),d&&(N.tx=n.text[m]),A&&(N.htx=n.hovertext[m]),S.push(N)}else S.push({pos:a,empty:!0})}return n._extremes[l._id]=o.findExtremes(l,y.concat(h,T),{padded:!0}),S.length&&(S[0].t={labels:{open:P(i,"open:")+" ",high:P(i,"high:")+" ",low:P(i,"low:")+" ",close:P(i,"close:")+" "}}),S}function t(i,n,c){var u=c._minDiff;if(!u){var l=i._fullData,g=[];u=1/0;var f;for(f=0;f<l.length;f++){var T=l[f];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===n._id){g.push(T);var h=n.makeCalcdata(T,"x");T._origX=h;var s=L(c,n,"x",h).vals;T._xcalc=s;var d=y.distinctVals(s).minDiff;d&&isFinite(d)&&(u=Math.min(u,d))}}for(u===1/0&&(u=1),f=0;f<g.length;f++)g[f]._minDiff=u}return u*c.tickwidth}G.exports={calc:v,calcCommon:r}},16169:function(G,V,e){var y=e(71828),P=e(14555),o=e(73927),L=e(2522);G.exports=function(p,r,t,i){function n(u,l){return y.coerce(p,r,L,u,l)}var c=P(p,r,n,i);if(!c){r.visible=!1;return}o(p,r,i,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),M(p,r,n,"increasing"),M(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),i._requestRangeslider[r.xaxis]=!0};function M(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},66449:function(G,V,e){var y=e(89298),P=e(71828),o=e(30211),L=e(7901),M=e(71828).fillText,v=e(22372),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(c,u,l,g){var f=c.cd,T=f[0].trace;return T.hoverlabel.split?i(c,u,l,g):n(c,u,l,g)}function t(c,u,l,g){var f=c.cd,T=c.xa,h=f[0].trace,s=f[0].t,d=h.type,A=d==="ohlc"?"l":"min",w=d==="ohlc"?"h":"max",C,b,S=s.bPos||0,m=function(W){return W.pos+S-u},a=s.bdPos||s.tickLen,E=s.wHover,x=Math.min(1,a/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));C=c.maxHoverDistance-x,b=c.maxSpikeDistance-x;function k(W){var $=m(W);return o.inbox($-E,$+E,C)}function I(W){var $=W[A],te=W[w];return $===te||o.inbox($-l,te-l,C)}function N(W){return(k(W)+I(W))/2}var F=o.getDistanceFunction(g,k,I,N);if(o.getClosest(f,F,c),c.index===!1)return null;var z=f[c.index];if(z.empty)return null;var O=z.dir,_=h[O],B=_.line.color;return L.opacity(B)&&_.line.width?c.color=B:c.color=_.fillcolor,c.x0=T.c2p(z.pos+S-a,!0),c.x1=T.c2p(z.pos+S+a,!0),c.xLabelVal=z.orig_p!==void 0?z.orig_p:z.pos,c.spikeDistance=N(z)*b/C,c.xSpike=T.c2p(z.pos,!0),c}function i(c,u,l,g){var f=c.cd,T=c.ya,h=f[0].trace,s=f[0].t,d=[],A=t(c,u,l,g);if(!A)return[];var w=A.index,C=f[w],b=C.hi||h.hoverinfo,S=b.split("+"),m=b==="all",a=m||S.indexOf("y")!==-1;if(!a)return[];for(var E=["high","open","close","low"],x={},k=0;k<E.length;k++){var I=E[k],N=h[I][A.index],F=T.c2p(N,!0),z;N in x?(z=x[N],z.yLabel+="<br>"+s.labels[I]+y.hoverLabelText(T,N,h.yhoverformat)):(z=P.extendFlat({},A),z.y0=z.y1=F,z.yLabelVal=N,z.yLabel=s.labels[I]+y.hoverLabelText(T,N,h.yhoverformat),z.name="",d.push(z),x[N]=z)}return d}function n(c,u,l,g){var f=c.cd,T=c.ya,h=f[0].trace,s=f[0].t,d=t(c,u,l,g);if(!d)return[];var A=d.index,w=f[A],C=d.index=w.i,b=w.dir;function S(N){return s.labels[N]+y.hoverLabelText(T,h[N][C],h.yhoverformat)}var m=w.hi||h.hoverinfo,a=m.split("+"),E=m==="all",x=E||a.indexOf("y")!==-1,k=E||a.indexOf("text")!==-1,I=x?[S("open"),S("high"),S("low"),S("close")+"  "+p[b]]:[];return k&&M(w,h,I),d.extraText=I.join("<br>"),d.y0=d.y1=T.c2p(w.yc,!0),[d]}G.exports={hoverPoints:r,hoverSplit:i,hoverOnPoints:n}},54186:function(G,V,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(G,V,e){var y=e(73972),P=e(71828);G.exports=function(L,M,v,p){var r=v("x"),t=v("open"),i=v("high"),n=v("low"),c=v("close");v("hoverlabel.split");var u=y.getComponentMethod("calendars","handleTraceDefaults");if(u(L,M,["x"],p),!!(t&&i&&n&&c)){var l=Math.min(t.length,i.length,n.length,c.length);return r&&(l=Math.min(l,P.minRowLength(r))),M._length=l,l}}},72314:function(G,V,e){var y=e(39898),P=e(71828);G.exports=function(L,M,v,p){var r=M.yaxis,t=M.xaxis,i=!!t.rangebreaks;P.makeTraceGroups(p,v,"trace ohlc").each(function(n){var c=y.select(this),u=n[0],l=u.t,g=u.trace;if(g.visible!==!0||l.empty){c.remove();return}var f=l.tickLen,T=c.selectAll("path").data(P.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(h){if(h.empty)return"M0,0Z";var s=t.c2p(h.pos-f,!0),d=t.c2p(h.pos+f,!0),A=i?(s+d)/2:t.c2p(h.pos,!0),w=r.c2p(h.o,!0),C=r.c2p(h.h,!0),b=r.c2p(h.l,!0),S=r.c2p(h.c,!0);return"M"+s+","+w+"H"+A+"M"+A+","+C+"V"+b+"M"+d+","+S+"H"+A})})}},67324:function(G){G.exports=function(e,y){var P=e.cd,o=e.xaxis,L=e.yaxis,M=[],v,p=P[0].t.bPos||0;if(y===!1)for(v=0;v<P.length;v++)P[v].selected=0;else for(v=0;v<P.length;v++){var r=P[v];y.contains([o.c2p(r.pos+p),L.c2p(r.yc)],null,r.i,e)?(M.push({pointNumber:r.i,x:o.c2d(r.pos),y:L.c2d(r.yc)}),r.selected=1):r.selected=0}return M}},53101:function(G,V,e){var y=e(39898),P=e(91424),o=e(7901);G.exports=function(M,v,p){var r=p||y.select(M).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var i=t[0].trace;y.select(this).selectAll("path").each(function(n){if(!n.empty){var c=i[n.dir].line;y.select(this).style("fill","none").call(o.stroke,c.color).call(P.dashLine,c.dash,c.width).style("opacity",i.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(G,V,e){var y=e(1426).extendFlat,P=e(9012),o=e(41940),L=e(50693),M=e(5386).fF,v=e(27670).Y,p=y({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:y({},P.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:o({editType:"calc"}),tickfont:o({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(G,V,e){var y=e(27659).a0,P=e(45784),o="parcats";V.name=o,V.plot=function(L,M,v,p){var r=y(L.calcdata,o);if(r.length){var t=r[0];P(L,t,v,p)}},V.clean=function(L,M,v,p){var r=p._has&&p._has("parcats"),t=M._has&&M._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},28699:function(G,V,e){var y=e(28984).wrap,P=e(52075).hasColorscale,o=e(78803),L=e(75744),M=e(91424),v=e(71828),p=e(92770);G.exports=function(s,d){var A=v.filterVisible(d.dimensions);if(A.length===0)return[];var w=A.map(function(J){var Y;if(J.categoryorder==="trace")Y=null;else if(J.categoryorder==="array")Y=J.categoryarray;else{Y=L(J.values);for(var ae=!0,j=0;j<Y.length;j++)if(!p(Y[j])){ae=!1;break}Y.sort(ae?v.sorterAsc:void 0),J.categoryorder==="category descending"&&(Y=Y.reverse())}return l(J.values,Y)}),C,b,S;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],g(A),A.forEach(function(J,Y){f(J,w[Y])});var m=d.line,a;m?(P(d,"line")&&o(s,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),a=M.tryColorscale(m)):a=v.identity;function E(J){var Y,ae;return v.isArrayOrTypedArray(m.color)?(Y=m.color[J%m.color.length],ae=Y):Y=m.color,{color:a(Y),rawColor:ae}}var x=A[0].values.length,k={},I=w.map(function(J){return J.inds});S=0;var N,F;for(N=0;N<x;N++){var z=[];for(F=0;F<I.length;F++)z.push(I[F][N]);b=C[N%C.length],S+=b;var O=E(N),_=z+"-"+O.rawColor;k[_]===void 0&&(k[_]=c(z,O.color,O.rawColor)),u(k[_],N,b)}var B=A.map(function(J,Y){return t(Y,J._index,J._displayindex,J.label,S)});for(N=0;N<x;N++)for(b=C[N%C.length],F=0;F<B.length;F++){var W=B[F].containerInd,$=w[F].inds[N],te=B[F].categories;if(te[$]===void 0){var ie=d.dimensions[W]._categoryarray[$],ue=d.dimensions[W]._ticktext[$];te[$]=i(F,$,ie,ue)}n(te[$],N,b)}return y(r(B,k,S))};function r(h,s,d){var A=h.map(function(w){return w.categories.length}).reduce(function(w,C){return Math.max(w,C)});return{dimensions:h,paths:s,trace:void 0,maxCats:A,count:d}}function t(h,s,d,A,w){return{dimensionInd:h,containerInd:s,displayInd:d,dimensionLabel:A,count:w,categories:[],dragX:null}}function i(h,s,d,A){return{dimensionInd:h,categoryInd:s,categoryValue:d,displayInd:s,categoryLabel:A,valueInds:[],count:0,dragY:null}}function n(h,s,d){h.valueInds.push(s),h.count+=d}function c(h,s,d){return{categoryInds:h,color:s,rawColor:d,valueInds:[],count:0}}function u(h,s,d){h.valueInds.push(s),h.count+=d}function l(h,s){s==null?s=[]:s=s.map(function(a){return a});var d={},A={},w=[];s.forEach(function(a,E){d[a]=0,A[a]=E});for(var C=0;C<h.length;C++){var b=h[C],S;d[b]===void 0?(d[b]=1,S=s.push(b)-1,A[b]=S):(d[b]++,S=A[b]),w.push(S)}var m=s.map(function(a){return d[a]});return{uniqueValues:s,uniqueCounts:m,inds:w}}function g(h){var s=h.map(function(A){return A.displayindex}),d;if(T(s))for(d=0;d<h.length;d++)h[d]._displayindex=h[d].displayindex;else for(d=0;d<h.length;d++)h[d]._displayindex=d}function f(h,s){h._categoryarray=s.uniqueValues,h.ticktext===null||h.ticktext===void 0?h._ticktext=[]:h._ticktext=h.ticktext.slice();for(var d=h._ticktext.length;d<s.uniqueValues.length;d++)h._ticktext.push(s.uniqueValues[d])}function T(h){for(var s=new Array(h.length),d=0;d<h.length;d++){if(h[d]<0||h[d]>=h.length||s[h[d]]!==void 0)return!1;s[h[d]]=!0}return!0}},14647:function(G,V,e){var y=e(71828),P=e(52075).hasColorscale,o=e(1586),L=e(27670).c,M=e(85501),v=e(99506),p=e(94397),r=e(73627).isTypedArraySpec;function t(n,c,u,l,g){g("line.shape"),g("line.hovertemplate");var f=g("line.color",l.colorway[0]);if(P(n,"line")&&y.isArrayOrTypedArray(f)){if(f.length)return g("line.colorscale"),o(n,c,l,g,{prefix:"line.",cLetter:"c"}),f.length;c.line.color=u}return 1/0}function i(n,c){function u(d,A){return y.coerce(n,c,v.dimensions,d,A)}var l=u("values"),g=u("visible");if(l&&l.length||(g=c.visible=!1),g){u("label"),u("displayindex",c._index);var f=n.categoryarray,T=y.isArrayOrTypedArray(f)&&f.length>0||r(f),h;T&&(h="array");var s=u("categoryorder",h);s==="array"?(u("categoryarray"),u("ticktext")):(delete n.categoryarray,delete n.ticktext),!T&&s==="array"&&(c.categoryorder="trace")}}G.exports=function(c,u,l,g){function f(A,w){return y.coerce(c,u,v,A,w)}var T=M(c,u,{name:"dimensions",handleItemDefaults:i}),h=t(c,u,l,g,f);L(u,g,f),(!Array.isArray(T)||!T.length)&&(u.visible=!1),p(u,T,"values",h),f("hoveron"),f("hovertemplate"),f("arrangement"),f("bundlecolors"),f("sortpaths"),f("counts");var s={family:g.font.family,size:Math.round(g.font.size),color:g.font.color};y.coerceFont(f,"labelfont",s);var d={family:g.font.family,size:Math.round(g.font.size/1.2),color:g.font.color};y.coerceFont(f,"tickfont",d)}},94873:function(G,V,e){G.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(G,V,e){var y=e(39898),P=e(81684).k4,o=e(72391),L=e(30211),M=e(71828),v=M.strTranslate,p=e(91424),r=e(84267),t=e(63893);function i(j,q,oe,Q){var X=q._context.staticPlot,se=j.map(ie.bind(0,q,oe)),ne=Q.selectAll("g.parcatslayer").data([null]);ne.enter().append("g").attr("class","parcatslayer").style("pointer-events",X?"none":"all");var fe=ne.selectAll("g.trace.parcats").data(se,n),ye=fe.enter().append("g").attr("class","trace parcats");fe.attr("transform",function(He){return v(He.x,He.y)}),ye.append("g").attr("class","paths");var Se=fe.select("g.paths"),we=Se.selectAll("path.path").data(function(He){return He.paths},n);we.attr("fill",function(He){return He.model.color});var _e=we.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(He){return He.model.color}).attr("fill-opacity",0);s(_e),we.attr("d",function(He){return He.svgD}),_e.empty()||we.sort(u),we.exit().remove(),we.on("mouseover",l).on("mouseout",g).on("click",h),ye.append("g").attr("class","dimensions");var ke=fe.select("g.dimensions"),Me=ke.selectAll("g.dimension").data(function(He){return He.dimensions},n);Me.enter().append("g").attr("class","dimension"),Me.attr("transform",function(He){return v(He.x,0)}),Me.exit().remove();var me=Me.selectAll("g.category").data(function(He){return He.categories},n),Ee=me.enter().append("g").attr("class","category");me.attr("transform",function(He){return v(0,He.y)}),Ee.append("rect").attr("class","catrect").attr("pointer-events","none"),me.select("rect.catrect").attr("fill","none").attr("width",function(He){return He.width}).attr("height",function(He){return He.height}),w(Ee);var Be=me.selectAll("rect.bandrect").data(function(He){return He.bands},n);Be.each(function(){M.raiseToTop(this)}),Be.attr("fill",function(He){return He.color});var Ue=Be.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(He){return He.color}).attr("fill-opacity",0);Be.attr("fill",function(He){return He.color}).attr("width",function(He){return He.width}).attr("height",function(He){return He.height}).attr("y",function(He){return He.y}).attr("cursor",function(He){return He.parcatsViewModel.arrangement==="fixed"?"default":He.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),b(Ue),Be.exit().remove(),Ee.append("text").attr("class","catlabel").attr("pointer-events","none");var De=q._fullLayout.paper_bgcolor;me.select("text.catlabel").attr("text-anchor",function(He){return c(He)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(De)).style("fill","rgb(0, 0, 0)").attr("x",function(He){return c(He)?He.width+5:-5}).attr("y",function(He){return He.height/2}).text(function(He){return He.model.categoryLabel}).each(function(He){p.font(y.select(this),He.parcatsViewModel.categorylabelfont),t.convertToTspans(y.select(this),q)}),Ee.append("text").attr("class","dimlabel"),me.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(He){return He.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(He){return He.width/2}).attr("y",-5).text(function(He,nt){return nt===0?He.parcatsViewModel.model.dimensions[He.model.dimensionInd].dimensionLabel:null}).each(function(He){p.font(y.select(this),He.parcatsViewModel.labelfont)}),me.selectAll("rect.bandrect").on("mouseover",F).on("mouseout",z),me.exit().remove(),Me.call(y.behavior.drag().origin(function(He){return{x:He.x,y:0}}).on("dragstart",O).on("drag",_).on("dragend",B)),fe.each(function(He){He.traceSelection=y.select(this),He.pathSelection=y.select(this).selectAll("g.paths").selectAll("path.path"),He.dimensionSelection=y.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),fe.exit().remove()}G.exports=function(j,q,oe,Q){i(oe,j,Q,q)};function n(j){return j.key}function c(j){var q=j.parcatsViewModel.dimensions.length,oe=j.parcatsViewModel.dimensions[q-1].model.dimensionInd;return j.model.dimensionInd===oe}function u(j,q){return j.model.rawColor>q.model.rawColor?1:j.model.rawColor<q.model.rawColor?-1:0}function l(j){if(!j.parcatsViewModel.dragDimension&&j.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){M.raiseToTop(this),d(y.select(this));var q=f(j),oe=T(j);if(j.parcatsViewModel.graphDiv.emit("plotly_hover",{points:q,event:y.event,constraints:oe}),j.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var Q=y.mouse(this)[0],X=j.parcatsViewModel.graphDiv,se=j.parcatsViewModel.trace,ne=X._fullLayout,fe=ne._paperdiv.node().getBoundingClientRect(),ye=j.parcatsViewModel.graphDiv.getBoundingClientRect(),Se,we,_e;for(_e=0;_e<j.leftXs.length-1;_e++)if(j.leftXs[_e]+j.dimWidths[_e]-2<=Q&&Q<=j.leftXs[_e+1]+2){var ke=j.parcatsViewModel.dimensions[_e],Me=j.parcatsViewModel.dimensions[_e+1];Se=(ke.x+ke.width+Me.x)/2,we=(j.topYs[_e]+j.topYs[_e+1]+j.height)/2;break}var me=j.parcatsViewModel.x+Se,Ee=j.parcatsViewModel.y+we,Be=r.mostReadable(j.model.color,["black","white"]),Ue=j.model.count,De=Ue/j.parcatsViewModel.model.count,He={countLabel:Ue,probabilityLabel:De.toFixed(3)},nt=[];j.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&nt.push(["Count:",He.countLabel].join(" ")),j.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&nt.push(["P:",He.probabilityLabel].join(" "));var lt=nt.join("<br>"),$e=y.mouse(X)[0];L.loneHover({trace:se,x:me-fe.left+ye.left,y:Ee-fe.top+ye.top,text:lt,color:j.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Be,idealAlign:$e<me?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:He,eventData:[{data:se._input,fullData:se,count:Ue,probability:De}]},{container:ne._hoverlayer.node(),outerContainer:ne._paper.node(),gd:X})}}}function g(j){if(!j.parcatsViewModel.dragDimension&&(s(y.select(this)),L.loneUnhover(j.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),j.parcatsViewModel.pathSelection.sort(u),j.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var q=f(j),oe=T(j);j.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:q,event:y.event,constraints:oe})}}function f(j){for(var q=[],oe=W(j.parcatsViewModel),Q=0;Q<j.model.valueInds.length;Q++){var X=j.model.valueInds[Q];q.push({curveNumber:oe,pointNumber:X})}return q}function T(j){for(var q={},oe=j.parcatsViewModel.model.dimensions,Q=0;Q<oe.length;Q++){var X=oe[Q],se=X.categories[j.model.categoryInds[Q]];q[X.containerInd]=se.categoryValue}return j.model.rawColor!==void 0&&(q.color=j.model.rawColor),q}function h(j){if(j.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=f(j),oe=T(j);j.parcatsViewModel.graphDiv.emit("plotly_click",{points:q,event:y.event,constraints:oe})}}function s(j){j.attr("fill",function(q){return q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(j){j.attr("fill-opacity",.8).attr("stroke",function(q){return r.mostReadable(q.model.color,["black","white"])}).attr("stroke-width",.3)}function A(j){j.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function w(j){j.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(j){j.attr("stroke","black").attr("stroke-width",1.5)}function b(j){j.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(j){var q=j.parcatsViewModel.pathSelection,oe=j.categoryViewModel.model.dimensionInd,Q=j.categoryViewModel.model.categoryInd;return q.filter(function(X){return X.model.categoryInds[oe]===Q&&X.model.color===j.color})}function m(j){var q=y.select(j.parentNode).selectAll("rect.bandrect");q.each(function(oe){var Q=S(oe);d(Q),Q.each(function(){M.raiseToTop(this)})}),A(y.select(j.parentNode))}function a(j){var q=y.select(j).datum(),oe=S(q);d(oe),oe.each(function(){M.raiseToTop(this)}),y.select(j.parentNode).selectAll("rect.bandrect").filter(function(Q){return Q.color===q.color}).each(function(){M.raiseToTop(this),C(y.select(this))})}function E(j,q,oe){var Q=y.select(j).datum(),X=Q.categoryViewModel.model,se=Q.parcatsViewModel.graphDiv,ne=y.select(j.parentNode).selectAll("rect.bandrect"),fe=[];ne.each(function(Se){var we=S(Se);we.each(function(_e){Array.prototype.push.apply(fe,f(_e))})});var ye={};ye[X.dimensionInd]=X.categoryValue,se.emit(q,{points:fe,event:oe,constraints:ye})}function x(j,q,oe){var Q=y.select(j).datum(),X=Q.categoryViewModel.model,se=Q.parcatsViewModel.graphDiv,ne=S(Q),fe=[];ne.each(function(Se){Array.prototype.push.apply(fe,f(Se))});var ye={};ye[X.dimensionInd]=X.categoryValue,Q.rawColor!==void 0&&(ye.color=Q.rawColor),se.emit(q,{points:fe,event:oe,constraints:ye})}function k(j,q,oe){j._fullLayout._calcInverseTransform(j);var Q=j._fullLayout._invScaleX,X=j._fullLayout._invScaleY,se=y.select(oe.parentNode).select("rect.catrect"),ne=se.node().getBoundingClientRect(),fe=se.datum(),ye=fe.parcatsViewModel,Se=ye.model.dimensions[fe.model.dimensionInd],we=ye.trace,_e=ne.top+ne.height/2,ke,Me;ye.dimensions.length>1&&Se.displayInd===ye.dimensions.length-1?(ke=ne.left,Me="left"):(ke=ne.left+ne.width,Me="right");var me=fe.model.count,Ee=fe.model.categoryLabel,Be=me/fe.parcatsViewModel.model.count,Ue={countLabel:me,categoryLabel:Ee,probabilityLabel:Be.toFixed(3)},De=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&De.push(["Count:",Ue.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&De.push(["P("+Ue.categoryLabel+"):",Ue.probabilityLabel].join(" "));var He=De.join("<br>");return{trace:we,x:Q*(ke-q.left),y:X*(_e-q.top),text:He,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Me,hovertemplate:we.hovertemplate,hovertemplateLabels:Ue,eventData:[{data:we._input,fullData:we,count:me,category:Ee,probability:Be}]}}function I(j,q,oe){var Q=[];return y.select(oe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var X=this;Q.push(k(j,q,X))}),Q}function N(j,q,oe){j._fullLayout._calcInverseTransform(j);var Q=j._fullLayout._invScaleX,X=j._fullLayout._invScaleY,se=oe.getBoundingClientRect(),ne=y.select(oe).datum(),fe=ne.categoryViewModel,ye=fe.parcatsViewModel,Se=ye.model.dimensions[fe.model.dimensionInd],we=ye.trace,_e=se.y+se.height/2,ke,Me;ye.dimensions.length>1&&Se.displayInd===ye.dimensions.length-1?(ke=se.left,Me="left"):(ke=se.left+se.width,Me="right");var me=fe.model.categoryLabel,Ee=ne.parcatsViewModel.model.count,Be=0;ne.categoryViewModel.bands.forEach(function(gt){gt.color===ne.color&&(Be+=gt.count)});var Ue=fe.model.count,De=0;ye.pathSelection.each(function(gt){gt.model.color===ne.color&&(De+=gt.model.count)});var He=Be/Ee,nt=Be/De,lt=Be/Ue,$e={countLabel:Ee,categoryLabel:me,probabilityLabel:He.toFixed(3)},qe=[];fe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&qe.push(["Count:",$e.countLabel].join(" ")),fe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(qe.push("P(color  "+me+"): "+$e.probabilityLabel),qe.push("P("+me+" | color): "+nt.toFixed(3)),qe.push("P(color | "+me+"): "+lt.toFixed(3)));var ct=qe.join("<br>"),dt=r.mostReadable(ne.color,["black","white"]);return{trace:we,x:Q*(ke-q.left),y:X*(_e-q.top),text:ct,color:ne.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:dt,fontSize:10,idealAlign:Me,hovertemplate:we.hovertemplate,hovertemplateLabels:$e,eventData:[{data:we._input,fullData:we,category:me,count:Ee,probability:He,categorycount:Ue,colorcount:De,bandcolorcount:Be}]}}function F(j){if(!j.parcatsViewModel.dragDimension&&j.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var q=y.mouse(this)[1];if(q<-1)return;var oe=j.parcatsViewModel.graphDiv,Q=oe._fullLayout,X=Q._paperdiv.node().getBoundingClientRect(),se=j.parcatsViewModel.hoveron,ne=this;if(se==="color"?(a(ne),x(ne,"plotly_hover",y.event)):(m(ne),E(ne,"plotly_hover",y.event)),j.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var fe;se==="category"?fe=k(oe,X,ne):se==="color"?fe=N(oe,X,ne):se==="dimension"&&(fe=I(oe,X,ne)),fe&&L.loneHover(fe,{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:oe})}}}function z(j){var q=j.parcatsViewModel;if(!q.dragDimension&&(s(q.pathSelection),w(q.dimensionSelection.selectAll("g.category")),b(q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(q.graphDiv._fullLayout._hoverlayer.node()),q.pathSelection.sort(u),q.hoverinfoItems.indexOf("skip")===-1)){var oe=j.parcatsViewModel.hoveron,Q=this;oe==="color"?x(Q,"plotly_unhover",y.event):E(Q,"plotly_unhover",y.event)}}function O(j){j.parcatsViewModel.arrangement!=="fixed"&&(j.dragDimensionDisplayInd=j.model.displayInd,j.initialDragDimensionDisplayInds=j.parcatsViewModel.model.dimensions.map(function(q){return q.displayInd}),j.dragHasMoved=!1,j.dragCategoryDisplayInd=null,y.select(this).selectAll("g.category").select("rect.catrect").each(function(q){var oe=y.mouse(this)[0],Q=y.mouse(this)[1];-2<=oe&&oe<=q.width+2&&-2<=Q&&Q<=q.height+2&&(j.dragCategoryDisplayInd=q.model.displayInd,j.initialDragCategoryDisplayInds=j.model.categories.map(function(X){return X.displayInd}),q.model.dragY=q.y,M.raiseToTop(this.parentNode),y.select(this.parentNode).selectAll("rect.bandrect").each(function(X){X.y<Q&&Q<=X.y+X.height&&(j.potentialClickBand=this)}))}),j.parcatsViewModel.dragDimension=j,L.loneUnhover(j.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function _(j){if(j.parcatsViewModel.arrangement!=="fixed"&&(j.dragHasMoved=!0,j.dragDimensionDisplayInd!==null)){var q=j.dragDimensionDisplayInd,oe=q-1,Q=q+1,X=j.parcatsViewModel.dimensions[q];if(j.dragCategoryDisplayInd!==null){var se=X.categories[j.dragCategoryDisplayInd];se.model.dragY+=y.event.dy;var ne=se.model.dragY,fe=se.model.displayInd,ye=X.categories,Se=ye[fe-1],we=ye[fe+1];Se!==void 0&&ne<Se.y+Se.height/2&&(se.model.displayInd=Se.model.displayInd,Se.model.displayInd=fe),we!==void 0&&ne+se.height>we.y+we.height/2&&(se.model.displayInd=we.model.displayInd,we.model.displayInd=fe),j.dragCategoryDisplayInd=se.model.displayInd}if(j.dragCategoryDisplayInd===null||j.parcatsViewModel.arrangement==="freeform"){X.model.dragX=y.event.x;var _e=j.parcatsViewModel.dimensions[oe],ke=j.parcatsViewModel.dimensions[Q];_e!==void 0&&X.model.dragX<_e.x+_e.width&&(X.model.displayInd=_e.model.displayInd,_e.model.displayInd=q),ke!==void 0&&X.model.dragX+X.width>ke.x&&(X.model.displayInd=ke.model.displayInd,ke.model.displayInd=j.dragDimensionDisplayInd),j.dragDimensionDisplayInd=X.model.displayInd}Y(j.parcatsViewModel),J(j.parcatsViewModel),te(j.parcatsViewModel),$(j.parcatsViewModel)}}function B(j){if(j.parcatsViewModel.arrangement!=="fixed"&&j.dragDimensionDisplayInd!==null){y.select(this).selectAll("text").attr("font-weight","normal");var q={},oe=W(j.parcatsViewModel),Q=j.parcatsViewModel.model.dimensions.map(function(ke){return ke.displayInd}),X=j.initialDragDimensionDisplayInds.some(function(ke,Me){return ke!==Q[Me]});X&&Q.forEach(function(ke,Me){var me=j.parcatsViewModel.model.dimensions[Me].containerInd;q["dimensions["+me+"].displayindex"]=ke});var se=!1;if(j.dragCategoryDisplayInd!==null){var ne=j.model.categories.map(function(ke){return ke.displayInd});if(se=j.initialDragCategoryDisplayInds.some(function(ke,Me){return ke!==ne[Me]}),se){var fe=j.model.categories.slice().sort(function(ke,Me){return ke.displayInd-Me.displayInd}),ye=fe.map(function(ke){return ke.categoryValue}),Se=fe.map(function(ke){return ke.categoryLabel});q["dimensions["+j.model.containerInd+"].categoryarray"]=[ye],q["dimensions["+j.model.containerInd+"].ticktext"]=[Se],q["dimensions["+j.model.containerInd+"].categoryorder"]="array"}}if(j.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!j.dragHasMoved&&j.potentialClickBand&&(j.parcatsViewModel.hoveron==="color"?x(j.potentialClickBand,"plotly_click",y.event.sourceEvent):E(j.potentialClickBand,"plotly_click",y.event.sourceEvent)),j.model.dragX=null,j.dragCategoryDisplayInd!==null){var we=j.parcatsViewModel.dimensions[j.dragDimensionDisplayInd].categories[j.dragCategoryDisplayInd];we.model.dragY=null,j.dragCategoryDisplayInd=null}j.dragDimensionDisplayInd=null,j.parcatsViewModel.dragDimension=null,j.dragHasMoved=null,j.potentialClickBand=null,Y(j.parcatsViewModel),J(j.parcatsViewModel);var _e=y.transition().duration(300).ease("cubic-in-out");_e.each(function(){te(j.parcatsViewModel,!0),$(j.parcatsViewModel,!0)}).each("end",function(){(X||se)&&o.restyle(j.parcatsViewModel.graphDiv,q,[oe])})}}function W(j){for(var q,oe=j.graphDiv._fullData,Q=0;Q<oe.length;Q++)if(j.key===oe[Q].uid){q=Q;break}return q}function $(j,q){q===void 0&&(q=!1);function oe(Q){return q?Q.transition():Q}j.pathSelection.data(function(Q){return Q.paths},n),oe(j.pathSelection).attr("d",function(Q){return Q.svgD})}function te(j,q){q===void 0&&(q=!1);function oe(ye){return q?ye.transition():ye}j.dimensionSelection.data(function(ye){return ye.dimensions},n);var Q=j.dimensionSelection.selectAll("g.category").data(function(ye){return ye.categories},n);oe(j.dimensionSelection).attr("transform",function(ye){return v(ye.x,0)}),oe(Q).attr("transform",function(ye){return v(0,ye.y)});var X=Q.select(".dimlabel");X.text(function(ye,Se){return Se===0?ye.parcatsViewModel.model.dimensions[ye.model.dimensionInd].dimensionLabel:null});var se=Q.select(".catlabel");se.attr("text-anchor",function(ye){return c(ye)?"start":"end"}).attr("x",function(ye){return c(ye)?ye.width+5:-5}).each(function(ye){var Se,we;c(ye)?(Se=ye.width+5,we="start"):(Se=-5,we="end"),y.select(this).selectAll("tspan").attr("x",Se).attr("text-anchor",we)});var ne=Q.selectAll("rect.bandrect").data(function(ye){return ye.bands},n),fe=ne.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ye){return ye.color}).attr("fill-opacity",0);ne.attr("fill",function(ye){return ye.color}).attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}).attr("y",function(ye){return ye.y}),b(fe),ne.each(function(){M.raiseToTop(this)}),ne.exit().remove()}function ie(j,q,oe){var Q=oe[0],X=q.margin||{l:80,r:80,t:100,b:80},se=Q.trace,ne=se.domain,fe=q.width,ye=q.height,Se=Math.floor(fe*(ne.x[1]-ne.x[0])),we=Math.floor(ye*(ne.y[1]-ne.y[0])),_e=ne.x[0]*fe+X.l,ke=q.height-ne.y[1]*q.height+X.t,Me=se.line.shape,me;se.hoverinfo==="all"?me=["count","probability"]:me=(se.hoverinfo||"").split("+");var Ee={trace:se,key:se.uid,model:Q,x:_e,y:ke,width:Se,height:we,hoveron:se.hoveron,hoverinfoItems:me,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Me,dragDimension:null,margin:X,paths:[],dimensions:[],graphDiv:j,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(Y(Ee),J(Ee)),Ee}function ue(j,q,oe,Q,X){var se=[],ne=[],fe,ye;for(ye=0;ye<oe.length-1;ye++)fe=P(oe[ye]+j[ye],j[ye+1]),se.push(fe(X)),ne.push(fe(1-X));var Se="M "+j[0]+","+q[0];for(Se+="l"+oe[0]+",0 ",ye=1;ye<oe.length;ye++)Se+="C"+se[ye-1]+","+q[ye-1]+" "+ne[ye-1]+","+q[ye]+" "+j[ye]+","+q[ye],Se+="l"+oe[ye]+",0 ";for(Se+="l0,"+Q+" ",Se+="l -"+oe[oe.length-1]+",0 ",ye=oe.length-2;ye>=0;ye--)Se+="C"+ne[ye]+","+(q[ye+1]+Q)+" "+se[ye]+","+(q[ye]+Q)+" "+(j[ye]+oe[ye])+","+(q[ye]+Q),Se+="l-"+oe[ye]+",0 ";return Se+="Z",Se}function J(j){var q=j.dimensions,oe=j.model,Q=q.map(function(Vt){return Vt.categories.map(function(Je){return Je.y})}),X=j.model.dimensions.map(function(Vt){return Vt.categories.map(function(Je){return Je.displayInd})}),se=j.model.dimensions.map(function(Vt){return Vt.displayInd}),ne=j.dimensions.map(function(Vt){return Vt.model.dimensionInd}),fe=q.map(function(Vt){return Vt.x}),ye=q.map(function(Vt){return Vt.width}),Se=[];for(var we in oe.paths)oe.paths.hasOwnProperty(we)&&Se.push(oe.paths[we]);function _e(Vt){var Je=Vt.categoryInds.map(function(Ie,Oe){return X[Oe][Ie]}),Ve=ne.map(function(Ie){return Je[Ie]});return Ve}Se.sort(function(Vt,Je){var Ve=_e(Vt),Ie=_e(Je);return j.sortpaths==="backward"&&(Ve.reverse(),Ie.reverse()),Ve.push(Vt.valueInds[0]),Ie.push(Je.valueInds[0]),j.bundlecolors&&(Ve.unshift(Vt.rawColor),Ie.unshift(Je.rawColor)),Ve<Ie?-1:Ve>Ie?1:0});for(var ke=new Array(Se.length),Me=q[0].model.count,me=q[0].categories.map(function(Vt){return Vt.height}).reduce(function(Vt,Je){return Vt+Je}),Ee=0;Ee<Se.length;Ee++){var Be=Se[Ee],Ue;Me>0?Ue=me*(Be.count/Me):Ue=0;for(var De=new Array(Q.length),He=0;He<Be.categoryInds.length;He++){var nt=Be.categoryInds[He],lt=X[He][nt],$e=se[He];De[$e]=Q[$e][lt],Q[$e][lt]+=Ue;var qe=j.dimensions[$e].categories[lt],ct=qe.bands.length,dt=qe.bands[ct-1];if(dt===void 0||Be.rawColor!==dt.rawColor){var gt=dt===void 0?0:dt.y+dt.height;qe.bands.push({key:gt,color:Be.color,rawColor:Be.rawColor,height:Ue,width:qe.width,count:Be.count,y:gt,categoryViewModel:qe,parcatsViewModel:j})}else{var At=qe.bands[ct-1];At.height+=Ue,At.count+=Be.count}}var Rt;j.pathShape==="hspline"?Rt=ue(fe,De,ye,Ue,.5):Rt=ue(fe,De,ye,Ue,0),ke[Ee]={key:Be.valueInds[0],model:Be,height:Ue,leftXs:fe,topYs:De,dimWidths:ye,svgD:Rt,parcatsViewModel:j}}j.paths=ke}function Y(j){var q=j.model.dimensions.map(function(ne){return{displayInd:ne.displayInd,dimensionInd:ne.dimensionInd}});q.sort(function(ne,fe){return ne.displayInd-fe.displayInd});var oe=[];for(var Q in q){var X=q[Q].dimensionInd,se=j.model.dimensions[X];oe.push(ae(j,se))}j.dimensions=oe}function ae(j,q){var oe=40,Q=16,X=j.model.dimensions.length,se=q.displayInd,ne,fe,ye;X>1?ne=(j.width-2*oe-Q)/(X-1):ne=0,fe=oe,ye=fe+ne*se;var Se=[],we=j.model.maxCats,_e=q.categories.length,ke=8,Me=q.count,me=j.height-ke*(we-1),Ee,Be,Ue,De,He,nt=(we-_e)*ke/2,lt=q.categories.map(function($e){return{displayInd:$e.displayInd,categoryInd:$e.categoryInd}});for(lt.sort(function($e,qe){return $e.displayInd-qe.displayInd}),He=0;He<_e;He++)De=lt[He].categoryInd,Be=q.categories[De],Me>0?Ee=Be.count/Me*me:Ee=0,Ue={key:Be.valueInds[0],model:Be,width:Q,height:Ee,y:Be.dragY!==null?Be.dragY:nt,bands:[],parcatsViewModel:j},nt=nt+Ee+ke,Se.push(Ue);return{key:q.dimensionInd,x:q.dragX!==null?q.dragX:ye,y:0,width:Q,model:q,categories:Se,parcatsViewModel:j,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(G,V,e){var y=e(45460);G.exports=function(o,L,M,v){var p=o._fullLayout,r=p._paper,t=p._size;y(o,r,L,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},M,v)}},73362:function(G,V,e){var y=e(50693),P=e(13838),o=e(41940),L=e(27670).Y,M=e(1426).extendFlat,v=e(44467).templatedArray;G.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:o({editType:"plot"}),tickfont:o({editType:"plot"}),rangefont:o({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:M({},P.tickvals,{editType:"plot"}),ticktext:M({},P.ticktext,{editType:"plot"}),tickformat:M({},P.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:M({editType:"calc"},y("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(G,V,e){var y=e(25706),P=e(39898),o=e(28984).keyFun,L=e(28984).repeat,M=e(71828).sorterAsc,v=e(71828).strTranslate,p=y.bar.snapRatio;function r(B,W){return B*(1-p)+W*p}var t=y.bar.snapClose;function i(B,W){return B*(1-t)+W*t}function n(B,W,$,te){if(c($,te))return $;var ie=B?-1:1,ue=0,J=W.length-1;if(ie<0){var Y=ue;ue=J,J=Y}for(var ae=W[ue],j=ae,q=ue;ie*q<ie*J;q+=ie){var oe=q+ie,Q=W[oe];if(ie*$<ie*i(ae,Q))return r(ae,j);if(ie*$<ie*Q||oe===J)return r(Q,ae);j=ae,ae=Q}}function c(B,W){for(var $=0;$<W.length;$++)if(B>=W[$][0]&&B<=W[$][1])return!0;return!1}function u(B){B.attr("x",-y.bar.captureWidth/2).attr("width",y.bar.captureWidth)}function l(B){B.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function g(B){if(!B.brush.filterSpecified)return"0,"+B.height;for(var W=f(B.brush.filter.getConsolidated(),B.height),$=[0],te,ie,ue,J=W.length?W[0][0]:null,Y=0;Y<W.length;Y++)te=W[Y],ie=te[1]-te[0],$.push(J),$.push(ie),ue=Y+1,ue<W.length&&(J=W[ue][0]-te[1]);return $.push(B.height),$}function f(B,W){return B.map(function($){return $.map(function(te){return Math.max(0,te*W)}).sort(M)})}function T(B,W){var $=y.bar.handleHeight;if(!(W>B[1]+$||W<B[0]-$))return W>=.9*B[1]+.1*B[0]?"n":W<=.9*B[0]+.1*B[1]?"s":"ns"}function h(){P.select(document.body).style("cursor",null)}function s(B){B.attr("stroke-dasharray",g)}function d(B,W){var $=P.select(B).selectAll(".highlight, .highlight-shadow"),te=W?$.transition().duration(y.bar.snapDuration).each("end",W):$;s(te)}function A(B,W){var $=B.brush,te=$.filterSpecified,ie=NaN,ue={},J;if(te){var Y=B.height,ae=$.filter.getConsolidated(),j=f(ae,Y),q=NaN,oe=NaN,Q=NaN;for(J=0;J<=j.length;J++){var X=j[J];if(X&&X[0]<=W&&W<=X[1]){q=J;break}else if(oe=J?J-1:NaN,X&&X[0]>W){Q=J;break}}if(ie=q,isNaN(ie)&&(isNaN(oe)||isNaN(Q)?ie=isNaN(oe)?Q:oe:ie=W-j[oe][1]<j[Q][0]-W?oe:Q),!isNaN(ie)){var se=j[ie],ne=T(se,W);ne&&(ue.interval=ae[ie],ue.intervalPix=se,ue.region=ne)}}if(B.ordinal&&!ue.region){var fe=B.unitTickvals,ye=B.unitToPaddedPx.invert(W);for(J=0;J<fe.length;J++){var Se=[fe[Math.max(J-1,0)]*.25+fe[J]*.75,fe[Math.min(J+1,fe.length-1)]*.25+fe[J]*.75];if(ye>=Se[0]&&ye<=Se[1]){ue.clickableOrdinalRange=Se;break}}}return ue}function w(B,W){P.event.sourceEvent.stopPropagation();var $=W.height-P.mouse(B)[1]-2*y.verticalPadding,te=W.unitToPaddedPx.invert($),ie=W.brush,ue=A(W,$),J=ue.interval,Y=ie.svgBrush;if(Y.wasDragged=!1,Y.grabbingBar=ue.region==="ns",Y.grabbingBar){var ae=J.map(W.unitToPaddedPx);Y.grabPoint=$-ae[0]-y.verticalPadding,Y.barLength=ae[1]-ae[0]}Y.clickableOrdinalRange=ue.clickableOrdinalRange,Y.stayingIntervals=W.multiselect&&ie.filterSpecified?ie.filter.getConsolidated():[],J&&(Y.stayingIntervals=Y.stayingIntervals.filter(function(j){return j[0]!==J[0]&&j[1]!==J[1]})),Y.startExtent=ue.region?J[ue.region==="s"?1:0]:te,W.parent.inBrushDrag=!0,Y.brushStartCallback()}function C(B,W){P.event.sourceEvent.stopPropagation();var $=W.height-P.mouse(B)[1]-2*y.verticalPadding,te=W.brush.svgBrush;te.wasDragged=!0,te._dragging=!0,te.grabbingBar?te.newExtent=[$-te.grabPoint,$+te.barLength-te.grabPoint].map(W.unitToPaddedPx.invert):te.newExtent=[te.startExtent,W.unitToPaddedPx.invert($)].sort(M),W.brush.filterSpecified=!0,te.extent=te.stayingIntervals.concat([te.newExtent]),te.brushCallback(W),d(B.parentNode)}function b(B,W){var $=W.brush,te=$.filter,ie=$.svgBrush;ie._dragging||(S(B,W),C(B,W),W.brush.svgBrush.wasDragged=!1),ie._dragging=!1;var ue=P.event;ue.sourceEvent.stopPropagation();var J=ie.grabbingBar;if(ie.grabbingBar=!1,ie.grabLocation=void 0,W.parent.inBrushDrag=!1,h(),!ie.wasDragged){ie.wasDragged=void 0,ie.clickableOrdinalRange?$.filterSpecified&&W.multiselect?ie.extent.push(ie.clickableOrdinalRange):(ie.extent=[ie.clickableOrdinalRange],$.filterSpecified=!0):J?(ie.extent=ie.stayingIntervals,ie.extent.length===0&&I($)):I($),ie.brushCallback(W),d(B.parentNode),ie.brushEndCallback($.filterSpecified?te.getConsolidated():[]);return}var Y=function(){te.set(te.getConsolidated())};if(W.ordinal){var ae=W.unitTickvals;ae[ae.length-1]<ae[0]&&ae.reverse(),ie.newExtent=[n(0,ae,ie.newExtent[0],ie.stayingIntervals),n(1,ae,ie.newExtent[1],ie.stayingIntervals)];var j=ie.newExtent[1]>ie.newExtent[0];ie.extent=ie.stayingIntervals.concat(j?[ie.newExtent]:[]),ie.extent.length||I($),ie.brushCallback(W),j?d(B.parentNode,Y):(Y(),d(B.parentNode))}else Y();ie.brushEndCallback($.filterSpecified?te.getConsolidated():[])}function S(B,W){var $=W.height-P.mouse(B)[1]-2*y.verticalPadding,te=A(W,$),ie="crosshair";te.clickableOrdinalRange?ie="pointer":te.region&&(ie=te.region+"-resize"),P.select(document.body).style("cursor",ie)}function m(B){B.on("mousemove",function(W){P.event.preventDefault(),W.parent.inBrushDrag||S(this,W)}).on("mouseleave",function(W){W.parent.inBrushDrag||h()}).call(P.behavior.drag().on("dragstart",function(W){w(this,W)}).on("drag",function(W){C(this,W)}).on("dragend",function(W){b(this,W)}))}function a(B,W){return B[0]-W[0]}function E(B,W,$){var te=$._context.staticPlot,ie=B.selectAll(".background").data(L);ie.enter().append("rect").classed("background",!0).call(u).call(l).style("pointer-events",te?"none":"auto").attr("transform",v(0,y.verticalPadding)),ie.call(m).attr("height",function(Y){return Y.height-y.verticalPadding});var ue=B.selectAll(".highlight-shadow").data(L);ue.enter().append("line").classed("highlight-shadow",!0).attr("x",-y.bar.width/2).attr("stroke-width",y.bar.width+y.bar.strokeWidth).attr("stroke",W).attr("opacity",y.bar.strokeOpacity).attr("stroke-linecap","butt"),ue.attr("y1",function(Y){return Y.height}).call(s);var J=B.selectAll(".highlight").data(L);J.enter().append("line").classed("highlight",!0).attr("x",-y.bar.width/2).attr("stroke-width",y.bar.width-y.bar.strokeWidth).attr("stroke",y.bar.fillColor).attr("opacity",y.bar.fillOpacity).attr("stroke-linecap","butt"),J.attr("y1",function(Y){return Y.height}).call(s)}function x(B,W,$){var te=B.selectAll("."+y.cn.axisBrush).data(L,o);te.enter().append("g").classed(y.cn.axisBrush,!0),E(te,W,$)}function k(B){return B.svgBrush.extent.map(function(W){return W.slice()})}function I(B){B.filterSpecified=!1,B.svgBrush.extent=[[-1/0,1/0]]}function N(B){return function($){var te=$.brush,ie=k(te),ue=ie.slice();te.filter.set(ue),B()}}function F(B){for(var W=B.slice(),$=[],te,ie=W.shift();ie;){for(te=ie.slice();(ie=W.shift())&&ie[0]<=te[1];)te[1]=Math.max(te[1],ie[1]);$.push(te)}return $.length===1&&$[0][0]>$[0][1]&&($=[]),$}function z(){var B=[],W,$;return{set:function(te){B=te.map(function(ie){return ie.slice().sort(M)}).sort(a),B.length===1&&B[0][0]===-1/0&&B[0][1]===1/0&&(B=[[0,-1]]),W=F(B),$=B.reduce(function(ie,ue){return[Math.min(ie[0],ue[0]),Math.max(ie[1],ue[1])]},[1/0,-1/0])},get:function(){return B.slice()},getConsolidated:function(){return W},getBounds:function(){return $}}}function O(B,W,$,te,ie,ue){var J=z();return J.set($),{filter:J,filterSpecified:W,svgBrush:{extent:[],brushStartCallback:te,brushCallback:N(ie),brushEndCallback:ue}}}function _(B,W){if(Array.isArray(B[0])?(B=B.map(function(te){return te.sort(M)}),W.multiselect?B=F(B.sort(a)):B=[B[0]]):B=[B.sort(M)],W.tickvals){var $=W.tickvals.slice().sort(M);if(B=B.map(function(te){var ie=[n(0,$,te[0],[]),n(1,$,te[1],[])];if(ie[1]>ie[0])return ie}).filter(function(te){return te}),!B.length)return}return B.length>1?B:B[0]}G.exports={makeBrush:O,ensureAxisBrush:x,cleanRanges:_}},71791:function(G,V,e){G.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(G,V,e){var y=e(39898),P=e(27659).a0,o=e(21341),L=e(77922);V.name="parcoords",V.plot=function(M){var v=P(M.calcdata,"parcoords")[0];v.length&&o(M,v)},V.clean=function(M,v,p,r){var t=r._has&&r._has("parcoords"),i=v._has&&v._has("parcoords");t&&!i&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},V.toSVG=function(M){var v=M._fullLayout._glimages,p=y.select(M).selectAll(".svg-container"),r=p.filter(function(i,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var i=this,n=i.toDataURL("image/png"),c=v.append("svg:image");c.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}r.each(t),window.setTimeout(function(){y.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(G,V,e){var y=e(71828).isArrayOrTypedArray,P=e(21081),o=e(28984).wrap;G.exports=function(v,p){var r,t;return P.hasColorscale(p,"line")&&y(p.line.color)?(r=p.line.color,t=P.extractOpts(p.line).colorscale,P.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=L(p._length),t=[[0,p.line.color],[1,p.line.color]]),o({lineColor:r,cscale:t})};function L(M){for(var v=new Array(M),p=0;p<M;p++)v[p]=.5;return v}},25706:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(G,V,e){var y=e(71828),P=e(52075).hasColorscale,o=e(1586),L=e(27670).c,M=e(85501),v=e(89298),p=e(73362),r=e(57920),t=e(25706).maxDimensionCount,i=e(94397);function n(u,l,g,f,T){var h=T("line.color",g);if(P(u,"line")&&y.isArrayOrTypedArray(h)){if(h.length)return T("line.colorscale"),o(u,l,f,T,{prefix:"line.",cLetter:"c"}),h.length;l.line.color=g}return 1/0}function c(u,l,g,f){function T(w,C){return y.coerce(u,l,p.dimensions,w,C)}var h=T("values"),s=T("visible");if(h&&h.length||(s=l.visible=!1),s){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var d=T("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(l._ax,f.layout),T("multiselect");var A=T("constraintrange");A&&(l.constraintrange=r.cleanRanges(A,l))}}G.exports=function(l,g,f,T){function h(C,b){return y.coerce(l,g,p,C,b)}var s=l.dimensions;Array.isArray(s)&&s.length>t&&(y.log("parcoords traces support up to "+t+" dimensions at the moment"),s.splice(t));var d=M(l,g,{name:"dimensions",layout:T,handleItemDefaults:c}),A=n(l,g,f,T,h);L(g,T,h),(!Array.isArray(d)||!d.length)&&(g.visible=!1),i(g,d,"values",A);var w={family:T.font.family,size:Math.round(T.font.size/1.2),color:T.font.color};y.coerceFont(h,"labelfont",w),y.coerceFont(h,"tickfont",w),y.coerceFont(h,"rangefont",w),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},1602:function(G,V,e){var y=e(71828).isTypedArray;V.convertTypedArray=function(P){return y(P)?Array.prototype.slice.call(P):P},V.isOrdinal=function(P){return!!P.tickvals},V.isVisible=function(P){return P.visible||!("visible"in P)}},67618:function(G,V,e){var y=e(71791);y.plot=e(21341),G.exports=y},83398:function(G,V,e){var y=e(56068),P=y([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),o=y([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),L=e(25706).maxDimensionCount,M=e(71828),v=1e-6,p=2048,r=new Uint8Array(4),t=new Uint8Array(4),i={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(S){S.read({x:0,y:0,width:1,height:1,data:r})}function c(S,m,a,E,x){var k=S._gl;k.enable(k.SCISSOR_TEST),k.scissor(m,a,E,x),S.clear({color:[0,0,0,0],depth:1})}function u(S,m,a,E,x,k){var I=k.key;function N(F){var z=Math.min(E,x-F*E);F===0&&(window.cancelAnimationFrame(a.currentRafs[I]),delete a.currentRafs[I],c(S,k.scissorX,k.scissorY,k.scissorWidth,k.viewBoxSize[1])),!a.clearOnly&&(k.count=2*z,k.offset=2*F*E,m(k),F*E+z<x&&(a.currentRafs[I]=window.requestAnimationFrame(function(){N(F+1)})),a.drawCompleted=!1)}a.drawCompleted||(n(S),a.drawCompleted=!0),N(0)}function l(S){return Math.max(v,Math.min(1-v,S))}function g(S,m){for(var a=new Array(256),E=0;E<256;E++)a[E]=S(E/255).concat(m);return a}function f(S,m){return(S>>>8*m)%256/255}function T(S,m,a){for(var E=new Array(S*(L+4)),x=0,k=0;k<S;k++){for(var I=0;I<L;I++)E[x++]=I<m.length?m[I].paddedUnitValues[k]:.5;E[x++]=f(k,2),E[x++]=f(k,1),E[x++]=f(k,0),E[x++]=l(a[k])}return E}function h(S,m,a){for(var E=new Array(m*8),x=0,k=0;k<m;k++)for(var I=0;I<2;I++)for(var N=0;N<4;N++){var F=S*4+N,z=a[k*64+F];F===63&&I===0&&(z*=-1),E[x++]=z}return E}function s(S){var m="0"+S;return m.substr(m.length-2)}function d(S){return S<L?"p"+s(S+1)+"_"+s(S+4):"colors"}function A(S,m,a){for(var E=0;E<=L;E+=4)S[d(E)](h(E/4,m,a))}function w(S){for(var m={},a=0;a<=L;a+=4)m[d(a)]=S.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return m}function C(S,m,a,E,x,k,I,N,F,z,O,_,B,W){for(var $=[[],[]],te=0;te<64;te++)$[0][te]=te===x?1:0,$[1][te]=te===k?1:0;I*=W,N*=W,F*=W,z*=W;var ie=S.lines.canvasOverdrag*W,ue=S.domain,J=S.canvasWidth*W,Y=S.canvasHeight*W,ae=S.pad.l*W,j=S.pad.b*W,q=S.layoutHeight*W,oe=S.layoutWidth*W,Q=S.deselectedLines.color,X=S.deselectedLines.opacity,se=M.extendFlat({key:O,resolution:[J,Y],viewBoxPos:[I+ie,N],viewBoxSize:[F,z],i0:x,i1:k,dim0A:$[0].slice(0,16),dim0B:$[0].slice(16,32),dim0C:$[0].slice(32,48),dim0D:$[0].slice(48,64),dim1A:$[1].slice(0,16),dim1B:$[1].slice(16,32),dim1C:$[1].slice(32,48),dim1D:$[1].slice(48,64),drwLayer:_,contextColor:[Q[0]/255,Q[1]/255,Q[2]/255,X!=="auto"?Q[3]*X:Math.max(1/255,Math.pow(1/S.lines.color.length,1/3))],scissorX:(E===m?0:I+ie)+(ae-ie)+oe*ue.x[0],scissorWidth:(E===a?J-I+ie:F+.5)+(E===m?I+ie:0),scissorY:N+j+q*ue.y[0],scissorHeight:z,viewportX:ae-ie+oe*ue.x[0],viewportY:j+q*ue.y[0],viewportWidth:J,viewportHeight:Y},B);return se}function b(S){var m=p-1,a=Math.max(0,Math.floor(S[0]*m),0),E=Math.min(m,Math.ceil(S[1]*m),m);return[Math.min(a,E),Math.max(a,E)]}G.exports=function(S,m){var a=m.context,E=m.pick,x=m.regl,k=x._gl,I=k.getParameter(k.ALIASED_LINE_WIDTH_RANGE),N=Math.max(I[0],Math.min(I[1],m.viewModel.plotGlPixelRatio)),F={currentRafs:{},drawCompleted:!0,clearOnly:!1},z,O,_,B,W=w(x),$,te=x.texture(i),ie=[];J(m);var ue=x({profile:!1,blend:{enable:a,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!a,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:x.prop("scissorX"),y:x.prop("scissorY"),width:x.prop("scissorWidth"),height:x.prop("scissorHeight")}},viewport:{x:x.prop("viewportX"),y:x.prop("viewportY"),width:x.prop("viewportWidth"),height:x.prop("viewportHeight")},dither:!1,vert:P,frag:o,primitive:"lines",lineWidth:N,attributes:W,uniforms:{resolution:x.prop("resolution"),viewBoxPos:x.prop("viewBoxPos"),viewBoxSize:x.prop("viewBoxSize"),dim0A:x.prop("dim0A"),dim1A:x.prop("dim1A"),dim0B:x.prop("dim0B"),dim1B:x.prop("dim1B"),dim0C:x.prop("dim0C"),dim1C:x.prop("dim1C"),dim0D:x.prop("dim0D"),dim1D:x.prop("dim1D"),loA:x.prop("loA"),hiA:x.prop("hiA"),loB:x.prop("loB"),hiB:x.prop("hiB"),loC:x.prop("loC"),hiC:x.prop("hiC"),loD:x.prop("loD"),hiD:x.prop("hiD"),palette:te,contextColor:x.prop("contextColor"),maskTexture:x.prop("maskTexture"),drwLayer:x.prop("drwLayer"),maskHeight:x.prop("maskHeight")},offset:x.prop("offset"),count:x.prop("count")});function J(Q){z=Q.model,O=Q.viewModel,_=O.dimensions.slice(),B=_[0]?_[0].values.length:0;var X=z.lines,se=E?X.color.map(function(fe,ye){return ye/X.color.length}):X.color,ne=T(B,_,se);A(W,B,ne),!a&&!E&&(te=x.texture(M.extendFlat({data:g(z.unitToColor,255)},i)))}function Y(Q){var X,se,ne,fe=[[],[]];for(ne=0;ne<64;ne++){var ye=!Q&&ne<_.length?_[ne].brush.filter.getBounds():[-1/0,1/0];fe[0][ne]=ye[0],fe[1][ne]=ye[1]}var Se=p*8,we=new Array(Se);for(X=0;X<Se;X++)we[X]=255;if(!Q)for(X=0;X<_.length;X++){var _e=X%8,ke=(X-_e)/8,Me=Math.pow(2,_e),me=_[X],Ee=me.brush.filter.get();if(!(Ee.length<2)){var Be=b(Ee[0])[1];for(se=1;se<Ee.length;se++){var Ue=b(Ee[se]);for(ne=Be+1;ne<Ue[0];ne++)we[ne*8+ke]&=~Me;Be=Math.max(Be,Ue[1])}}}var De={shape:[8,p],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:we};return $?$(De):$=x.texture(De),{maskTexture:$,maskHeight:p,loA:fe[0].slice(0,16),loB:fe[0].slice(16,32),loC:fe[0].slice(32,48),loD:fe[0].slice(48,64),hiA:fe[1].slice(0,16),hiB:fe[1].slice(16,32),hiC:fe[1].slice(32,48),hiD:fe[1].slice(48,64)}}function ae(Q,X,se){var ne=Q.length,fe,ye,Se,we=1/0,_e=-1/0;for(fe=0;fe<ne;fe++)Q[fe].dim0.canvasX<we&&(we=Q[fe].dim0.canvasX,ye=fe),Q[fe].dim1.canvasX>_e&&(_e=Q[fe].dim1.canvasX,Se=fe);ne===0&&c(x,0,0,z.canvasWidth,z.canvasHeight);var ke=Y(a);for(fe=0;fe<ne;fe++){var Me=Q[fe],me=Me.dim0.crossfilterDimensionIndex,Ee=Me.dim1.crossfilterDimensionIndex,Be=Me.canvasX,Ue=Me.canvasY,De=Be+Me.panelSizeX,He=Me.plotGlPixelRatio;if(X||!ie[me]||ie[me][0]!==Be||ie[me][1]!==De){ie[me]=[Be,De];var nt=C(z,ye,Se,fe,me,Ee,Be,Ue,Me.panelSizeX,Me.panelSizeY,Me.dim0.crossfilterDimensionIndex,a?0:E?2:1,ke,He);F.clearOnly=se;var lt=X?z.lines.blockLineCount:B;u(x,ue,F,lt,B,nt)}}}function j(Q,X){return x.read({x:Q,y:X,width:1,height:1,data:t}),t}function q(Q,X,se,ne){var fe=new Uint8Array(4*se*ne);return x.read({x:Q,y:X,width:se,height:ne,data:fe}),fe}function oe(){S.style["pointer-events"]="none",te.destroy(),$&&$.destroy();for(var Q in W)W[Q].destroy()}return{render:ae,readPixel:j,readPixels:q,destroy:oe,update:J}}},94397:function(G){G.exports=function(V,e,y,P){P||(P=1/0);var o,L;for(o=0;o<e.length;o++)L=e[o],L.visible&&(P=Math.min(P,L[y].length));for(P===1/0&&(P=0),V._length=P,o=0;o<e.length;o++)L=e[o],L.visible&&(L._length=P);return P}},17171:function(G,V,e){var y=e(39898),P=e(71828),o=P.isArrayOrTypedArray,L=P.numberFormat,M=e(36652),v=e(89298),p=P.strRotate,r=P.strTranslate,t=e(63893),i=e(91424),n=e(21081),c=e(28984),u=c.keyFun,l=c.repeat,g=c.unwrap,f=e(1602),T=e(25706),h=e(57920),s=e(83398);function d(te,ie,ue){return P.aggNums(te,null,ie,ue)}function A(te,ie){return C(d(Math.min,te,ie),d(Math.max,te,ie))}function w(te){var ie=te.range;return ie?C(ie[0],ie[1]):A(te.values,te._length)}function C(te,ie){return(isNaN(te)||!isFinite(te))&&(te=0),(isNaN(ie)||!isFinite(ie))&&(ie=0),te===ie&&(te===0?(te-=1,ie+=1):(te*=.9,ie*=1.1)),[te,ie]}function b(te,ie){return ie?function(ue,J){var Y=ie[J];return Y??te(ue)}:te}function S(te,ie,ue,J,Y){var ae=w(ue);return J?y.scale.ordinal().domain(J.map(b(L(ue.tickformat),Y))).range(J.map(function(j){var q=(j-ae[0])/(ae[1]-ae[0]);return te-ie+q*(2*ie-te)})):y.scale.linear().domain(ae).range([te-ie,ie])}function m(te,ie){return y.scale.linear().range([ie,te-ie])}function a(te,ie){return y.scale.linear().domain(w(te)).range([ie,1-ie])}function E(te){if(te.tickvals){var ie=w(te);return y.scale.ordinal().domain(te.tickvals).range(te.tickvals.map(function(ue){return(ue-ie[0])/(ie[1]-ie[0])}))}}function x(te){var ie=te.map(function(ae){return ae[0]}),ue=te.map(function(ae){var j=M(ae[1]);return y.rgb("rgb("+j[0]+","+j[1]+","+j[2]+")")}),J=function(ae){return function(j){return j[ae]}},Y="rgb".split("").map(function(ae){return y.scale.linear().clamp(!0).domain(ie).range(ue.map(J(ae)))});return function(ae){return Y.map(function(j){return j(ae)})}}function k(te){return te.dimensions.some(function(ie){return ie.brush.filterSpecified})}function I(te,ie,ue){var J=g(ie),Y=J.trace,ae=f.convertTypedArray(J.lineColor),j=Y.line,q={color:M(Y.unselected.line.color),opacity:Y.unselected.line.opacity},oe=n.extractOpts(j),Q=oe.reversescale?n.flipScale(J.cscale):J.cscale,X=Y.domain,se=Y.dimensions,ne=te.width,fe=Y.labelangle,ye=Y.labelside,Se=Y.labelfont,we=Y.tickfont,_e=Y.rangefont,ke=P.extendDeepNoArrays({},j,{color:ae.map(y.scale.linear().domain(w({values:ae,range:[oe.min,oe.max],_length:Y._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Me=Math.floor(ne*(X.x[1]-X.x[0])),me=Math.floor(te.height*(X.y[1]-X.y[0])),Ee=te.margin||{l:80,r:80,t:100,b:80},Be=Me,Ue=me;return{key:ue,colCount:se.filter(f.isVisible).length,dimensions:se,tickDistance:T.tickDistance,unitToColor:x(Q),lines:ke,deselectedLines:q,labelAngle:fe,labelSide:ye,labelFont:Se,tickFont:we,rangeFont:_e,layoutWidth:ne,layoutHeight:te.height,domain:X,translateX:X.x[0]*ne,translateY:te.height-X.y[1]*te.height,pad:Ee,canvasWidth:Be*T.canvasPixelRatio+2*ke.canvasOverdrag,canvasHeight:Ue*T.canvasPixelRatio,width:Be,height:Ue,canvasPixelRatio:T.canvasPixelRatio}}function N(te,ie,ue){var J=ue.width,Y=ue.height,ae=ue.dimensions,j=ue.canvasPixelRatio,q=function(ne){return J*ne/Math.max(1,ue.colCount-1)},oe=T.verticalPadding/Y,Q=m(Y,T.verticalPadding),X={key:ue.key,xScale:q,model:ue,inBrushDrag:!1},se={};return X.dimensions=ae.filter(f.isVisible).map(function(ne,fe){var ye=a(ne,oe),Se=se[ne.label];se[ne.label]=(Se||0)+1;var we=ne.label+(Se?"__"+Se:""),_e=ne.constraintrange,ke=_e&&_e.length;ke&&!o(_e[0])&&(_e=[_e]);var Me=ke?_e.map(function(qe){return qe.map(ye)}):[[-1/0,1/0]],me=function(){var qe=X;qe.focusLayer&&qe.focusLayer.render(qe.panels,!0);var ct=k(qe);!te.contextShown()&&ct?(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0),te.contextShown(!0)):te.contextShown()&&!ct&&(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0,!0),te.contextShown(!1))},Ee=ne.values;Ee.length>ne._length&&(Ee=Ee.slice(0,ne._length));var Be=ne.tickvals,Ue;function De(qe,ct){return{val:qe,text:Ue[ct]}}function He(qe,ct){return qe.val-ct.val}if(o(Be)&&Be.length){P.isTypedArray(Be)&&(Be=Array.from(Be)),Ue=ne.ticktext,!o(Ue)||!Ue.length?Ue=Be.map(L(ne.tickformat)):Ue.length>Be.length?Ue=Ue.slice(0,Be.length):Be.length>Ue.length&&(Be=Be.slice(0,Ue.length));for(var nt=1;nt<Be.length;nt++)if(Be[nt]<Be[nt-1]){for(var lt=Be.map(De).sort(He),$e=0;$e<Be.length;$e++)Be[$e]=lt[$e].val,Ue[$e]=lt[$e].text;break}}else Be=void 0;return Ee=f.convertTypedArray(Ee),{key:we,label:ne.label,tickFormat:ne.tickformat,tickvals:Be,ticktext:Ue,ordinal:f.isOrdinal(ne),multiselect:ne.multiselect,xIndex:fe,crossfilterDimensionIndex:fe,visibleIndex:ne._index,height:Y,values:Ee,paddedUnitValues:Ee.map(ye),unitTickvals:Be&&Be.map(ye),xScale:q,x:q(fe),canvasX:q(fe)*j,unitToPaddedPx:Q,domainScale:S(Y,T.verticalPadding,ne,Be,Ue),ordinalScale:E(ne),parent:X,model:ue,brush:h.makeBrush(te,ke,Me,function(){te.linePickActive(!1)},me,function(qe){if(X.focusLayer.render(X.panels,!0),X.pickLayer&&X.pickLayer.render(X.panels,!0),te.linePickActive(!0),ie&&ie.filterChanged){var ct=ye.invert,dt=qe.map(function(gt){return gt.map(ct).sort(P.sorterAsc)}).sort(function(gt,At){return gt[0]-At[0]});ie.filterChanged(X.key,ne._index,dt)}})}}),X}function F(te){te.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(){var te=!0,ie=!1;return{linePickActive:function(ue){return arguments.length?te=!!ue:te},contextShown:function(ue){return arguments.length?ie=!!ue:ie}}}function O(te,ie){var ue=ie==="top"?1:-1,J=te*Math.PI/180,Y=Math.sin(J),ae=Math.cos(J);return{dir:ue,dx:Y,dy:ae,degrees:te}}function _(te,ie,ue){for(var J=ie.panels||(ie.panels=[]),Y=te.data(),ae=0;ae<Y.length-1;ae++){var j=J[ae]||(J[ae]={}),q=Y[ae],oe=Y[ae+1];j.dim0=q,j.dim1=oe,j.canvasX=q.canvasX,j.panelSizeX=oe.canvasX-q.canvasX,j.panelSizeY=ie.model.canvasHeight,j.y=0,j.canvasY=0,j.plotGlPixelRatio=ue}}function B(te){for(var ie=0;ie<te.length;ie++)for(var ue=0;ue<te[ie].length;ue++)for(var J=te[ie][ue].trace,Y=J.dimensions,ae=0;ae<Y.length;ae++){var j=Y[ae].values,q=Y[ae]._ax;q&&(q.range?q.range=C(q.range[0],q.range[1]):q.range=A(j,J._length),q.dtick||(q.dtick=.01*(Math.abs(q.range[1]-q.range[0])||1)),q.tickformat=Y[ae].tickformat,v.calcTicks(q),q.cleanRange())}}function W(te,ie){return v.tickText(te._ax,ie,!1).text}function $(te,ie){if(te.ordinal)return"";var ue=te.domainScale.domain(),J=ue[ie?ue.length-1:0];return W(te.model.dimensions[te.visibleIndex],J)}G.exports=function(ie,ue,J,Y){var ae=ie._context.staticPlot,j=ie._fullLayout,q=j._toppaper,oe=j._glcontainer,Q=ie._context.plotGlPixelRatio,X=ie._fullLayout.paper_bgcolor;B(ue);var se=z(),ne=ue.filter(function($e){return g($e).trace.visible}).map(I.bind(0,J)).map(N.bind(0,se,Y));oe.each(function($e,qe){return P.extendFlat($e,ne[qe])});var fe=oe.selectAll(".gl-canvas").each(function($e){$e.viewModel=ne[0],$e.viewModel.plotGlPixelRatio=Q,$e.viewModel.paperColor=X,$e.model=$e.viewModel?$e.viewModel.model:null}),ye=null,Se=fe.filter(function($e){return $e.pick});Se.style("pointer-events",ae?"none":"auto").on("mousemove",function($e){if(se.linePickActive()&&$e.lineLayer&&Y&&Y.hover){var qe=y.event,ct=this.width,dt=this.height,gt=y.mouse(this),At=gt[0],Rt=gt[1];if(At<0||Rt<0||At>=ct||Rt>=dt)return;var Vt=$e.lineLayer.readPixel(At,dt-1-Rt),Je=Vt[3]!==0,Ve=Je?Vt[2]+256*(Vt[1]+256*Vt[0]):null,Ie={x:At,y:Rt,clientX:qe.clientX,clientY:qe.clientY,dataIndex:$e.model.key,curveNumber:Ve};Ve!==ye&&(Je?Y.hover(Ie):Y.unhover&&Y.unhover(Ie),ye=Ve)}}),fe.style("opacity",function($e){return $e.pick?0:1}),q.style("background","rgba(255, 255, 255, 0)");var we=q.selectAll("."+T.cn.parcoords).data(ne,u);we.exit().remove(),we.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),we.attr("transform",function($e){return r($e.model.translateX,$e.model.translateY)});var _e=we.selectAll("."+T.cn.parcoordsControlView).data(l,u);_e.enter().append("g").classed(T.cn.parcoordsControlView,!0),_e.attr("transform",function($e){return r($e.model.pad.l,$e.model.pad.t)});var ke=_e.selectAll("."+T.cn.yAxis).data(function($e){return $e.dimensions},u);ke.enter().append("g").classed(T.cn.yAxis,!0),_e.each(function($e){_(ke,$e,Q)}),fe.each(function($e){if($e.viewModel){!$e.lineLayer||Y?$e.lineLayer=s(this,$e):$e.lineLayer.update($e),($e.key||$e.key===0)&&($e.viewModel[$e.key]=$e.lineLayer);var qe=!$e.context||Y;$e.lineLayer.render($e.viewModel.panels,qe)}}),ke.attr("transform",function($e){return r($e.xScale($e.xIndex),0)}),ke.call(y.behavior.drag().origin(function($e){return $e}).on("drag",function($e){var qe=$e.parent;se.linePickActive(!1),$e.x=Math.max(-T.overdrag,Math.min($e.model.width+T.overdrag,y.event.x)),$e.canvasX=$e.x*$e.model.canvasPixelRatio,ke.sort(function(ct,dt){return ct.x-dt.x}).each(function(ct,dt){ct.xIndex=dt,ct.x=$e===ct?ct.x:ct.xScale(ct.xIndex),ct.canvasX=ct.x*ct.model.canvasPixelRatio}),_(ke,qe,Q),ke.filter(function(ct){return Math.abs($e.xIndex-ct.xIndex)!==0}).attr("transform",function(ct){return r(ct.xScale(ct.xIndex),0)}),y.select(this).attr("transform",r($e.x,0)),ke.each(function(ct,dt,gt){gt===$e.parent.key&&(qe.dimensions[dt]=ct)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!k(qe)),qe.focusLayer.render&&qe.focusLayer.render(qe.panels)}).on("dragend",function($e){var qe=$e.parent;$e.x=$e.xScale($e.xIndex),$e.canvasX=$e.x*$e.model.canvasPixelRatio,_(ke,qe,Q),y.select(this).attr("transform",function(ct){return r(ct.x,0)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!k(qe)),qe.focusLayer&&qe.focusLayer.render(qe.panels),qe.pickLayer&&qe.pickLayer.render(qe.panels,!0),se.linePickActive(!0),Y&&Y.axesMoved&&Y.axesMoved(qe.key,qe.dimensions.map(function(ct){return ct.crossfilterDimensionIndex}))})),ke.exit().remove();var Me=ke.selectAll("."+T.cn.axisOverlays).data(l,u);Me.enter().append("g").classed(T.cn.axisOverlays,!0),Me.selectAll("."+T.cn.axis).remove();var me=Me.selectAll("."+T.cn.axis).data(l,u);me.enter().append("g").classed(T.cn.axis,!0),me.each(function($e){var qe=$e.model.height/$e.model.tickDistance,ct=$e.domainScale,dt=ct.domain();y.select(this).call(y.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(qe,$e.tickFormat).tickValues($e.ordinal?dt:null).tickFormat(function(gt){return f.isOrdinal($e)?gt:W($e.model.dimensions[$e.visibleIndex],gt)}).scale(ct)),i.font(me.selectAll("text"),$e.model.tickFont)}),me.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),me.selectAll("text").style("text-shadow",t.makeTextShadow(X)).style("cursor","default");var Ee=Me.selectAll("."+T.cn.axisHeading).data(l,u);Ee.enter().append("g").classed(T.cn.axisHeading,!0);var Be=Ee.selectAll("."+T.cn.axisTitle).data(l,u);Be.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ae?"none":"auto"),Be.text(function($e){return $e.label}).each(function($e){var qe=y.select(this);i.font(qe,$e.model.labelFont),t.convertToTspans(qe,ie)}).attr("transform",function($e){var qe=O($e.model.labelAngle,$e.model.labelSide),ct=T.axisTitleOffset;return(qe.dir>0?"":r(0,2*ct+$e.model.height))+p(qe.degrees)+r(-ct*qe.dx,-ct*qe.dy)}).attr("text-anchor",function($e){var qe=O($e.model.labelAngle,$e.model.labelSide),ct=Math.abs(qe.dx),dt=Math.abs(qe.dy);return 2*ct>dt?qe.dir*qe.dx<0?"start":"end":"middle"});var Ue=Me.selectAll("."+T.cn.axisExtent).data(l,u);Ue.enter().append("g").classed(T.cn.axisExtent,!0);var De=Ue.selectAll("."+T.cn.axisExtentTop).data(l,u);De.enter().append("g").classed(T.cn.axisExtentTop,!0),De.attr("transform",r(0,-T.axisExtentOffset));var He=De.selectAll("."+T.cn.axisExtentTopText).data(l,u);He.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(F),He.text(function($e){return $($e,!0)}).each(function($e){i.font(y.select(this),$e.model.rangeFont)});var nt=Ue.selectAll("."+T.cn.axisExtentBottom).data(l,u);nt.enter().append("g").classed(T.cn.axisExtentBottom,!0),nt.attr("transform",function($e){return r(0,$e.model.height+T.axisExtentOffset)});var lt=nt.selectAll("."+T.cn.axisExtentBottomText).data(l,u);lt.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(F),lt.text(function($e){return $($e,!1)}).each(function($e){i.font(y.select(this),$e.model.rangeFont)}),h.ensureAxisBrush(Me,X,ie)}},21341:function(G,V,e){var y=e(17171),P=e(79749),o=e(1602).isVisible,L={};function M(r,t,i){var n=t.indexOf(i),c=r.indexOf(n);return c===-1&&(c+=t.length),c}function v(r,t){return function(n,c){return M(r,t,n)-M(r,t,c)}}var p=G.exports=function(t,i){var n=t._fullLayout,c=P(t,[],L);if(c){var u={},l={},g={},f={},T=n._size;i.forEach(function(w,C){var b=w[0].trace;g[C]=b.index;var S=f[C]=b._fullInput.index;u[C]=t.data[S].dimensions,l[C]=t.data[S].dimensions.slice()});var h=function(w,C,b){var S=l[w][C],m=b.map(function(N){return N.slice()}),a="dimensions["+C+"].constraintrange",E=n._tracePreGUI[t._fullData[g[w]]._fullInput.uid];if(E[a]===void 0){var x=S.constraintrange;E[a]=x||null}var k=t._fullData[g[w]].dimensions[C];m.length?(m.length===1&&(m=m[0]),S.constraintrange=m,k.constraintrange=m.slice(),m=[m]):(delete S.constraintrange,delete k.constraintrange,m=null);var I={};I[a]=m,t.emit("plotly_restyle",[I,[f[w]]])},s=function(w){t.emit("plotly_hover",w)},d=function(w){t.emit("plotly_unhover",w)},A=function(w,C){var b=v(C,l[w].filter(o));u[w].sort(b),l[w].filter(function(S){return!o(S)}).sort(function(S){return l[w].indexOf(S)}).forEach(function(S){u[w].splice(u[w].indexOf(S),1),u[w].splice(l[w].indexOf(S),0,S)}),t.emit("plotly_restyle",[{dimensions:[u[w]]},[f[w]]])};y(t,i,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:h,hover:s,unhover:d,axesMoved:A})}};p.reglPrecompiled=L},34e3:function(G,V,e){var y=e(9012),P=e(27670).Y,o=e(41940),L=e(22399),M=e(5386).fF,v=e(5386).si,p=e(1426).extendFlat,r=e(79952).u,t=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},y.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:P({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(G,V,e){var y=e(74875);V.name="pie",V.plot=function(P,o,L,M){y.plotBasePlot(V.name,P,o,L,M)},V.clean=function(P,o,L,M){y.cleanBasePlot(V.name,P,o,L,M)}},32354:function(G,V,e){var y=e(92770),P=e(84267),o=e(7901),L={};function M(t,i){var n=[],c=t._fullLayout,u=c.hiddenlabels||[],l=i.labels,g=i.marker.colors||[],f=i.values,T=i._length,h=i._hasValues&&T,s,d;if(i.dlabel)for(l=new Array(T),s=0;s<T;s++)l[s]=String(i.label0+s*i.dlabel);var A={},w=v(c["_"+i.type+"colormap"]),C=0,b=!1;for(s=0;s<T;s++){var S,m,a;if(h){if(S=f[s],!y(S))continue;S=+S}else S=1;m=l[s],(m===void 0||m==="")&&(m=s),m=String(m);var E=A[m];E===void 0?(A[m]=n.length,a=u.indexOf(m)!==-1,a||(C+=S),n.push({v:S,label:m,color:w(g[s],m),i:s,pts:[s],hidden:a})):(b=!0,d=n[E],d.v+=S,d.pts.push(s),d.hidden||(C+=S),d.color===!1&&g[s]&&(d.color=w(g[s],m)))}n=n.filter(function(k){return k.v>=0});var x=i.type==="funnelarea"?b:i.sort;return x&&n.sort(function(k,I){return I.v-k.v}),n[0]&&(n[0].vTotal=C),n}function v(t){return function(n,c){return!n||(n=P(n),!n.isValid())?!1:(n=o.addOpacity(n,n.getAlpha()),t[c]||(t[c]=n),n)}}function p(t,i){var n=(i||{}).type;n||(n="pie");var c=t._fullLayout,u=t.calcdata,l=c[n+"colorway"],g=c["_"+n+"colormap"];c["extend"+n+"colors"]&&(l=r(l,L));for(var f=0,T=0;T<u.length;T++){var h=u[T],s=h[0].trace.type;if(s===n)for(var d=0;d<h.length;d++){var A=h[d];A.color===!1&&(g[A.label]?A.color=g[A.label]:(g[A.label]=A.color=l[f%l.length],f++))}}}function r(t,i){var n,c=JSON.stringify(t),u=i[c];if(!u){for(u=t.slice(),n=0;n<t.length;n++)u.push(P(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)u.push(P(t[n]).darken(20).toHexString());i[c]=u}return u}G.exports={calc:M,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},37434:function(G,V,e){var y=e(92770),P=e(71828),o=e(34e3),L=e(27670).c,M=e(90769).handleText,v=e(71828).coercePattern;function p(i,n){var c=P.isArrayOrTypedArray(i),u=P.isArrayOrTypedArray(n),l=Math.min(c?i.length:1/0,u?n.length:1/0);if(isFinite(l)||(l=0),l&&u){for(var g,f=0;f<l;f++){var T=n[f];if(y(T)&&T>0){g=!0;break}}g||(l=0)}return{hasLabels:c,hasValues:u,len:l}}function r(i,n,c,u,l){var g=u("marker.line.width");g&&u("marker.line.color",l?void 0:c.paper_bgcolor);var f=u("marker.colors");v(u,"marker.pattern",f),i.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=i.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=c.paper_bgcolor)}function t(i,n,c,u){function l(E,x){return P.coerce(i,n,o,E,x)}var g=l("labels"),f=l("values"),T=p(g,f),h=T.len;if(n._hasLabels=T.hasLabels,n._hasValues=T.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!h){n.visible=!1;return}n._length=h,r(i,n,u,l,!0),l("scalegroup");var s=l("text"),d=l("texttemplate"),A;if(d||(A=l("textinfo",P.isArrayOrTypedArray(s)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||A&&A!=="none"){var w=l("textposition");M(i,n,u,l,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(w)||w==="auto",b=C||w==="outside";b&&l("automargin"),(w==="inside"||w==="auto"||Array.isArray(w))&&l("insidetextorientation")}L(n,u,l);var S=l("hole"),m=l("title.text");if(m){var a=l("title.position",S?"middle center":"top center");!S&&a==="middle center"&&(n.title.position="top center"),P.coerceFont(l,"title.font",u.font)}l("sort"),l("direction"),l("rotation"),l("pull")}G.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},20007:function(G,V,e){var y=e(23469).appendArrayMultiPointValues;G.exports=function(o,L){var M={curveNumber:L.index,pointNumbers:o.pts,data:L._input,fullData:L,label:o.label,color:o.color,value:o.v,percent:o.percent,text:o.text,bbox:o.bbox,v:o.v};return o.pts.length===1&&(M.pointNumber=M.i=o.pts[0]),y(M,L,o.pts),L.type==="funnelarea"&&(delete M.v,delete M.i),M}},22209:function(G,V,e){var y=e(91424),P=e(7901);G.exports=function(L,M,v,p){var r=v.marker.pattern;r&&r.shape?y.pointStyle(L,v,p,M):P.fill(L,M.color)}},53581:function(G,V,e){var y=e(71828);function P(o){return o.indexOf("e")!==-1?o.replace(/[.]?0+e/,"e"):o.indexOf(".")!==-1?o.replace(/[.]?0+$/,""):o}V.formatPiePercent=function(L,M){var v=P((L*100).toPrecision(3));return y.numSeparate(v,M)+"%"},V.formatPieValue=function(L,M){var v=P(L.toPrecision(10));return y.numSeparate(v,M)},V.getFirstFilled=function(L,M){if(y.isArrayOrTypedArray(L))for(var v=0;v<M.length;v++){var p=L[M[v]];if(p||p===0||p==="")return p}},V.castOption=function(L,M){if(y.isArrayOrTypedArray(L))return V.getFirstFilled(L,M);if(L)return L},V.getRotationAngle=function(o){return(o==="auto"?0:o)*Math.PI/180}},58810:function(G,V,e){G.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(G,V,e){var y=e(71828),P=e(92774);G.exports=function(L,M){function v(p,r){return y.coerce(L,M,P,p,r)}v("hiddenlabels"),v("piecolorway",M.colorway),v("extendpiecolors")}},14575:function(G,V,e){var y=e(39898),P=e(74875),o=e(30211),L=e(7901),M=e(91424),v=e(71828),p=v.strScale,r=v.strTranslate,t=e(63893),i=e(72597),n=i.recordMinTextSize,c=i.clearMinTextSize,u=e(97313).TEXTPAD,l=e(53581),g=e(20007),f=e(71828).isValidTextValue;function T(Y,ae){var j=Y._context.staticPlot,q=Y._fullLayout,oe=q._size;c("pie",q),w(ae,Y),W(ae,oe);var Q=v.makeTraceGroups(q._pielayer,ae,"trace").each(function(X){var se=y.select(this),ne=X[0],fe=ne.trace;te(X),se.attr("stroke-linejoin","round"),se.each(function(){var ye=y.select(this).selectAll("g.slice").data(X);ye.enter().append("g").classed("slice",!0),ye.exit().remove();var Se=[[[],[]],[[],[]]],we=!1;ye.each(function(De,He){if(De.hidden){y.select(this).selectAll("path,g").remove();return}De.pointNumber=De.i,De.curveNumber=fe.index,Se[De.pxmid[1]<0?0:1][De.pxmid[0]<0?0:1].push(De);var nt=ne.cx,lt=ne.cy,$e=y.select(this),qe=$e.selectAll("path.surface").data([De]);if(qe.enter().append("path").classed("surface",!0).style({"pointer-events":j?"none":"all"}),$e.call(s,Y,X),fe.pull){var ct=+l.castOption(fe.pull,De.pts)||0;ct>0&&(nt+=ct*De.pxmid[0],lt+=ct*De.pxmid[1])}De.cxFinal=nt,De.cyFinal=lt;function dt(Ie,Oe,Le,xe){var pe=xe*(Oe[0]-Ie[0]),Ae=xe*(Oe[1]-Ie[1]);return"a"+xe*ne.r+","+xe*ne.r+" 0 "+De.largeArc+(Le?" 1 ":" 0 ")+pe+","+Ae}var gt=fe.hole;if(De.v===ne.vTotal){var At="M"+(nt+De.px0[0])+","+(lt+De.px0[1])+dt(De.px0,De.pxmid,!0,1)+dt(De.pxmid,De.px0,!0,1)+"Z";gt?qe.attr("d","M"+(nt+gt*De.px0[0])+","+(lt+gt*De.px0[1])+dt(De.px0,De.pxmid,!1,gt)+dt(De.pxmid,De.px0,!1,gt)+"Z"+At):qe.attr("d",At)}else{var Rt=dt(De.px0,De.px1,!0,1);if(gt){var Vt=1-gt;qe.attr("d","M"+(nt+gt*De.px1[0])+","+(lt+gt*De.px1[1])+dt(De.px1,De.px0,!1,gt)+"l"+Vt*De.px0[0]+","+Vt*De.px0[1]+Rt+"Z")}else qe.attr("d","M"+nt+","+lt+"l"+De.px0[0]+","+De.px0[1]+Rt+"Z")}ue(Y,De,ne);var Je=l.castOption(fe.textposition,De.pts),Ve=$e.selectAll("g.slicetext").data(De.text&&Je!=="none"?[0]:[]);Ve.enter().append("g").classed("slicetext",!0),Ve.exit().remove(),Ve.each(function(){var Ie=v.ensureSingle(y.select(this),"text","",function(Ye){Ye.attr("data-notex",1)}),Oe=v.ensureUniformFontSize(Y,Je==="outside"?d(fe,De,q.font):A(fe,De,q.font));Ie.text(De.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(M.font,Oe).call(t.convertToTspans,Y);var Le=M.bBox(Ie.node()),xe;if(Je==="outside")xe=I(Le,De);else if(xe=C(Le,De,ne),Je==="auto"&&xe.scale<1){var pe=v.ensureUniformFontSize(Y,fe.outsidetextfont);Ie.call(M.font,pe),Le=M.bBox(Ie.node()),xe=I(Le,De)}var Ae=xe.textPosAngle,Te=Ae===void 0?De.pxmid:ie(ne.r,Ae);if(xe.targetX=nt+Te[0]*xe.rCenter+(xe.x||0),xe.targetY=lt+Te[1]*xe.rCenter+(xe.y||0),J(xe,Le),xe.outside){var Ne=xe.targetY;De.yLabelMin=Ne-Le.height/2,De.yLabelMid=Ne,De.yLabelMax=Ne+Le.height/2,De.labelExtraX=0,De.labelExtraY=0,we=!0}xe.fontSize=Oe.size,n(fe.type,xe,q),X[He].transform=xe,v.setTransormAndDisplay(Ie,xe)})});var _e=y.select(this).selectAll("g.titletext").data(fe.title.text?[0]:[]);if(_e.enter().append("g").classed("titletext",!0),_e.exit().remove(),_e.each(function(){var De=v.ensureSingle(y.select(this),"text","",function(lt){lt.attr("data-notex",1)}),He=fe.title.text;fe._meta&&(He=v.templateString(He,fe._meta)),De.text(He).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(M.font,fe.title.font).call(t.convertToTspans,Y);var nt;fe.title.position==="middle center"?nt=N(ne):nt=F(ne,oe),De.attr("transform",r(nt.x,nt.y)+p(Math.min(1,nt.scale))+r(nt.tx,nt.ty))}),we&&B(Se,fe),h(ye,fe),we&&fe.automargin){var ke=M.bBox(se.node()),Me=fe.domain,me=oe.w*(Me.x[1]-Me.x[0]),Ee=oe.h*(Me.y[1]-Me.y[0]),Be=(.5*me-ne.r)/oe.w,Ue=(.5*Ee-ne.r)/oe.h;P.autoMargin(Y,"pie."+fe.uid+".automargin",{xl:Me.x[0]-Be,xr:Me.x[1]+Be,yb:Me.y[0]-Ue,yt:Me.y[1]+Ue,l:Math.max(ne.cx-ne.r-ke.left,0),r:Math.max(ke.right-(ne.cx+ne.r),0),b:Math.max(ke.bottom-(ne.cy+ne.r),0),t:Math.max(ne.cy-ne.r-ke.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var X=y.select(this);X.attr("dy")&&X.attr("dy",X.attr("dy"))})},0)}function h(Y,ae){Y.each(function(j){var q=y.select(this);if(!j.labelExtraX&&!j.labelExtraY){q.select("path.textline").remove();return}var oe=q.select("g.slicetext text");j.transform.targetX+=j.labelExtraX,j.transform.targetY+=j.labelExtraY,v.setTransormAndDisplay(oe,j.transform);var Q=j.cxFinal+j.pxmid[0],X=j.cyFinal+j.pxmid[1],se="M"+Q+","+X,ne=(j.yLabelMax-j.yLabelMin)*(j.pxmid[0]<0?-1:1)/4;if(j.labelExtraX){var fe=j.labelExtraX*j.pxmid[1]/j.pxmid[0],ye=j.yLabelMid+j.labelExtraY-(j.cyFinal+j.pxmid[1]);Math.abs(fe)>Math.abs(ye)?se+="l"+ye*j.pxmid[0]/j.pxmid[1]+","+ye+"H"+(Q+j.labelExtraX+ne):se+="l"+j.labelExtraX+","+fe+"v"+(ye-fe)+"h"+ne}else se+="V"+(j.yLabelMid+j.labelExtraY)+"h"+ne;v.ensureSingle(q,"path","textline").call(L.stroke,ae.outsidetextfont.color).attr({"stroke-width":Math.min(2,ae.outsidetextfont.size/8),d:se,fill:"none"})})}function s(Y,ae,j){var q=j[0],oe=q.cx,Q=q.cy,X=q.trace,se=X.type==="funnelarea";"_hasHoverLabel"in X||(X._hasHoverLabel=!1),"_hasHoverEvent"in X||(X._hasHoverEvent=!1),Y.on("mouseover",function(ne){var fe=ae._fullLayout,ye=ae._fullData[X.index];if(!(ae._dragging||fe.hovermode===!1)){var Se=ye.hoverinfo;if(Array.isArray(Se)&&(Se=o.castHoverinfo({hoverinfo:[l.castOption(Se,ne.pts)],_module:X._module},fe,0)),Se==="all"&&(Se="label+text+value+percent+name"),ye.hovertemplate||Se!=="none"&&Se!=="skip"&&Se){var we=ne.rInscribed||0,_e=oe+ne.pxmid[0]*(1-we),ke=Q+ne.pxmid[1]*(1-we),Me=fe.separators,me=[];if(Se&&Se.indexOf("label")!==-1&&me.push(ne.label),ne.text=l.castOption(ye.hovertext||ye.text,ne.pts),Se&&Se.indexOf("text")!==-1){var Ee=ne.text;v.isValidTextValue(Ee)&&me.push(Ee)}ne.value=ne.v,ne.valueLabel=l.formatPieValue(ne.v,Me),Se&&Se.indexOf("value")!==-1&&me.push(ne.valueLabel),ne.percent=ne.v/q.vTotal,ne.percentLabel=l.formatPiePercent(ne.percent,Me),Se&&Se.indexOf("percent")!==-1&&me.push(ne.percentLabel);var Be=ye.hoverlabel,Ue=Be.font,De=[];o.loneHover({trace:X,x0:_e-we*q.r,x1:_e+we*q.r,y:ke,_x0:se?oe+ne.TL[0]:_e-we*q.r,_x1:se?oe+ne.TR[0]:_e+we*q.r,_y0:se?Q+ne.TL[1]:ke-we*q.r,_y1:se?Q+ne.BL[1]:ke+we*q.r,text:me.join("<br>"),name:ye.hovertemplate||Se.indexOf("name")!==-1?ye.name:void 0,idealAlign:ne.pxmid[0]<0?"left":"right",color:l.castOption(Be.bgcolor,ne.pts)||ne.color,borderColor:l.castOption(Be.bordercolor,ne.pts),fontFamily:l.castOption(Ue.family,ne.pts),fontSize:l.castOption(Ue.size,ne.pts),fontColor:l.castOption(Ue.color,ne.pts),nameLength:l.castOption(Be.namelength,ne.pts),textAlign:l.castOption(Be.align,ne.pts),hovertemplate:l.castOption(ye.hovertemplate,ne.pts),hovertemplateLabels:ne,eventData:[g(ne,ye)]},{container:fe._hoverlayer.node(),outerContainer:fe._paper.node(),gd:ae,inOut_bbox:De}),ne.bbox=De[0],X._hasHoverLabel=!0}X._hasHoverEvent=!0,ae.emit("plotly_hover",{points:[g(ne,ye)],event:y.event})}}),Y.on("mouseout",function(ne){var fe=ae._fullLayout,ye=ae._fullData[X.index],Se=y.select(this).datum();X._hasHoverEvent&&(ne.originalEvent=y.event,ae.emit("plotly_unhover",{points:[g(Se,ye)],event:y.event}),X._hasHoverEvent=!1),X._hasHoverLabel&&(o.loneUnhover(fe._hoverlayer.node()),X._hasHoverLabel=!1)}),Y.on("click",function(ne){var fe=ae._fullLayout,ye=ae._fullData[X.index];ae._dragging||fe.hovermode===!1||(ae._hoverdata=[g(ne,ye)],o.click(ae,y.event))})}function d(Y,ae,j){var q=l.castOption(Y.outsidetextfont.color,ae.pts)||l.castOption(Y.textfont.color,ae.pts)||j.color,oe=l.castOption(Y.outsidetextfont.family,ae.pts)||l.castOption(Y.textfont.family,ae.pts)||j.family,Q=l.castOption(Y.outsidetextfont.size,ae.pts)||l.castOption(Y.textfont.size,ae.pts)||j.size;return{color:q,family:oe,size:Q}}function A(Y,ae,j){var q=l.castOption(Y.insidetextfont.color,ae.pts);!q&&Y._input.textfont&&(q=l.castOption(Y._input.textfont.color,ae.pts));var oe=l.castOption(Y.insidetextfont.family,ae.pts)||l.castOption(Y.textfont.family,ae.pts)||j.family,Q=l.castOption(Y.insidetextfont.size,ae.pts)||l.castOption(Y.textfont.size,ae.pts)||j.size;return{color:q||L.contrast(ae.color),family:oe,size:Q}}function w(Y,ae){for(var j,q,oe=0;oe<Y.length;oe++)if(j=Y[oe][0],q=j.trace,q.title.text){var Q=q.title.text;q._meta&&(Q=v.templateString(Q,q._meta));var X=M.tester.append("text").attr("data-notex",1).text(Q).call(M.font,q.title.font).call(t.convertToTspans,ae),se=M.bBox(X.node(),!0);j.titleBox={width:se.width,height:se.height},X.remove()}}function C(Y,ae,j){var q=j.r||ae.rpx1,oe=ae.rInscribed,Q=ae.startangle===ae.stopangle;if(Q)return{rCenter:1-oe,scale:0,rotate:0,textPosAngle:0};var X=ae.ring,se=X===1&&Math.abs(ae.startangle-ae.stopangle)===Math.PI*2,ne=ae.halfangle,fe=ae.midangle,ye=j.trace.insidetextorientation,Se=ye==="horizontal",we=ye==="tangential",_e=ye==="radial",ke=ye==="auto",Me=[],me;if(!ke){var Ee=function($e,qe){if(b(ae,$e)){var ct=Math.abs($e-ae.startangle),dt=Math.abs($e-ae.stopangle),gt=ct<dt?ct:dt;qe==="tan"?me=m(Y,q,X,gt,0):me=S(Y,q,X,gt,Math.PI/2),me.textPosAngle=$e,Me.push(me)}},Be;if(Se||we){for(Be=4;Be>=-4;Be-=2)Ee(Math.PI*Be,"tan");for(Be=4;Be>=-4;Be-=2)Ee(Math.PI*(Be+1),"tan")}if(Se||_e){for(Be=4;Be>=-4;Be-=2)Ee(Math.PI*(Be+1.5),"rad");for(Be=4;Be>=-4;Be-=2)Ee(Math.PI*(Be+.5),"rad")}}if(se||ke||Se){var Ue=Math.sqrt(Y.width*Y.width+Y.height*Y.height);if(me={scale:oe*q*2/Ue,rCenter:1-oe,rotate:0},me.textPosAngle=(ae.startangle+ae.stopangle)/2,me.scale>=1)return me;Me.push(me)}(ke||_e)&&(me=S(Y,q,X,ne,fe),me.textPosAngle=(ae.startangle+ae.stopangle)/2,Me.push(me)),(ke||we)&&(me=m(Y,q,X,ne,fe),me.textPosAngle=(ae.startangle+ae.stopangle)/2,Me.push(me));for(var De=0,He=0,nt=0;nt<Me.length;nt++){var lt=Me[nt].scale;if(He<lt&&(He=lt,De=nt),!ke&&He>=1)break}return Me[De]}function b(Y,ae){var j=Y.startangle,q=Y.stopangle;return j>ae&&ae>q||j<ae&&ae<q}function S(Y,ae,j,q,oe){ae=Math.max(0,ae-2*u);var Q=Y.width/Y.height,X=x(Q,q,ae,j);return{scale:X*2/Y.height,rCenter:a(Q,X/ae),rotate:E(oe)}}function m(Y,ae,j,q,oe){ae=Math.max(0,ae-2*u);var Q=Y.height/Y.width,X=x(Q,q,ae,j);return{scale:X*2/Y.width,rCenter:a(Q,X/ae),rotate:E(oe+Math.PI/2)}}function a(Y,ae){return Math.cos(ae)-Y*ae}function E(Y){return(180/Math.PI*Y+720)%180-90}function x(Y,ae,j,q){var oe=Y+1/(2*Math.tan(ae));return j*Math.min(1/(Math.sqrt(oe*oe+.5)+oe),q/(Math.sqrt(Y*Y+q/2)+Y))}function k(Y,ae){return Y.v===ae.vTotal&&!ae.trace.hole?1:Math.min(1/(1+1/Math.sin(Y.halfangle)),Y.ring/2)}function I(Y,ae){var j=ae.pxmid[0],q=ae.pxmid[1],oe=Y.width/2,Q=Y.height/2;return j<0&&(oe*=-1),q<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:oe+Math.abs(Q)*(oe>0?1:-1)/2,y:Q/(1+j*j/(q*q)),outside:!0}}function N(Y){var ae=Math.sqrt(Y.titleBox.width*Y.titleBox.width+Y.titleBox.height*Y.titleBox.height);return{x:Y.cx,y:Y.cy,scale:Y.trace.hole*Y.r*2/ae,tx:0,ty:-Y.titleBox.height/2+Y.trace.title.font.size}}function F(Y,ae){var j=1,q=1,oe,Q=Y.trace,X={x:Y.cx,y:Y.cy},se={tx:0,ty:0};se.ty+=Q.title.font.size,oe=_(Q),Q.title.position.indexOf("top")!==-1?(X.y-=(1+oe)*Y.r,se.ty-=Y.titleBox.height):Q.title.position.indexOf("bottom")!==-1&&(X.y+=(1+oe)*Y.r);var ne=z(Y.r,Y.trace.aspectratio),fe=ae.w*(Q.domain.x[1]-Q.domain.x[0])/2;return Q.title.position.indexOf("left")!==-1?(fe=fe+ne,X.x-=(1+oe)*ne,se.tx+=Y.titleBox.width/2):Q.title.position.indexOf("center")!==-1?fe*=2:Q.title.position.indexOf("right")!==-1&&(fe=fe+ne,X.x+=(1+oe)*ne,se.tx-=Y.titleBox.width/2),j=fe/Y.titleBox.width,q=O(Y,ae)/Y.titleBox.height,{x:X.x,y:X.y,scale:Math.min(j,q),tx:se.tx,ty:se.ty}}function z(Y,ae){return Y/(ae===void 0?1:ae)}function O(Y,ae){var j=Y.trace,q=ae.h*(j.domain.y[1]-j.domain.y[0]);return Math.min(Y.titleBox.height,q/2)}function _(Y){var ae=Y.pull;if(!ae)return 0;var j;if(v.isArrayOrTypedArray(ae))for(ae=0,j=0;j<Y.pull.length;j++)Y.pull[j]>ae&&(ae=Y.pull[j]);return ae}function B(Y,ae){var j,q,oe,Q,X,se,ne,fe,ye,Se,we,_e,ke;function Me(Ue,De){return Ue.pxmid[1]-De.pxmid[1]}function me(Ue,De){return De.pxmid[1]-Ue.pxmid[1]}function Ee(Ue,De){De||(De={});var He=De.labelExtraY+(q?De.yLabelMax:De.yLabelMin),nt=q?Ue.yLabelMin:Ue.yLabelMax,lt=q?Ue.yLabelMax:Ue.yLabelMin,$e=Ue.cyFinal+X(Ue.px0[1],Ue.px1[1]),qe=He-nt,ct,dt,gt,At,Rt,Vt;if(qe*ne>0&&(Ue.labelExtraY=qe),!!v.isArrayOrTypedArray(ae.pull))for(dt=0;dt<Se.length;dt++)gt=Se[dt],!(gt===Ue||(l.castOption(ae.pull,Ue.pts)||0)>=(l.castOption(ae.pull,gt.pts)||0))&&((Ue.pxmid[1]-gt.pxmid[1])*ne>0?(At=gt.cyFinal+X(gt.px0[1],gt.px1[1]),qe=At-nt-Ue.labelExtraY,qe*ne>0&&(Ue.labelExtraY+=qe)):(lt+Ue.labelExtraY-$e)*ne>0&&(ct=3*se*Math.abs(dt-Se.indexOf(Ue)),Rt=gt.cxFinal+Q(gt.px0[0],gt.px1[0]),Vt=Rt+ct-(Ue.cxFinal+Ue.pxmid[0])-Ue.labelExtraX,Vt*se>0&&(Ue.labelExtraX+=Vt)))}for(q=0;q<2;q++)for(oe=q?Me:me,X=q?Math.max:Math.min,ne=q?1:-1,j=0;j<2;j++){for(Q=j?Math.max:Math.min,se=j?1:-1,fe=Y[q][j],fe.sort(oe),ye=Y[1-q][j],Se=ye.concat(fe),_e=[],we=0;we<fe.length;we++)fe[we].yLabelMid!==void 0&&_e.push(fe[we]);for(ke=!1,we=0;q&&we<ye.length;we++)if(ye[we].yLabelMid!==void 0){ke=ye[we];break}for(we=0;we<_e.length;we++){var Be=we&&_e[we-1];ke&&!we&&(Be=ke),Ee(_e[we],Be)}}}function W(Y,ae){for(var j=[],q=0;q<Y.length;q++){var oe=Y[q][0],Q=oe.trace,X=Q.domain,se=ae.w*(X.x[1]-X.x[0]),ne=ae.h*(X.y[1]-X.y[0]);Q.title.text&&Q.title.position!=="middle center"&&(ne-=O(oe,ae));var fe=se/2,ye=ne/2;Q.type==="funnelarea"&&!Q.scalegroup&&(ye/=Q.aspectratio),oe.r=Math.min(fe,ye)/(1+_(Q)),oe.cx=ae.l+ae.w*(Q.domain.x[1]+Q.domain.x[0])/2,oe.cy=ae.t+ae.h*(1-Q.domain.y[0])-ne/2,Q.title.text&&Q.title.position.indexOf("bottom")!==-1&&(oe.cy-=O(oe,ae)),Q.scalegroup&&j.indexOf(Q.scalegroup)===-1&&j.push(Q.scalegroup)}$(Y,j)}function $(Y,ae){for(var j,q,oe,Q=0;Q<ae.length;Q++){var X=1/0,se=ae[Q];for(q=0;q<Y.length;q++)if(j=Y[q][0],oe=j.trace,oe.scalegroup===se){var ne;if(oe.type==="pie")ne=j.r*j.r;else if(oe.type==="funnelarea"){var fe,ye;oe.aspectratio>1?(fe=j.r,ye=fe/oe.aspectratio):(ye=j.r,fe=ye*oe.aspectratio),fe*=(1+oe.baseratio)/2,ne=fe*ye}X=Math.min(X,ne/j.vTotal)}for(q=0;q<Y.length;q++)if(j=Y[q][0],oe=j.trace,oe.scalegroup===se){var Se=X*j.vTotal;oe.type==="funnelarea"&&(Se/=(1+oe.baseratio)/2,Se/=oe.aspectratio),j.r=Math.sqrt(Se)}}}function te(Y){var ae=Y[0],j=ae.r,q=ae.trace,oe=l.getRotationAngle(q.rotation),Q=2*Math.PI/ae.vTotal,X="px0",se="px1",ne,fe,ye;if(q.direction==="counterclockwise"){for(ne=0;ne<Y.length&&Y[ne].hidden;ne++);if(ne===Y.length)return;oe+=Q*Y[ne].v,Q*=-1,X="px1",se="px0"}for(ye=ie(j,oe),ne=0;ne<Y.length;ne++)fe=Y[ne],!fe.hidden&&(fe[X]=ye,fe.startangle=oe,oe+=Q*fe.v/2,fe.pxmid=ie(j,oe),fe.midangle=oe,oe+=Q*fe.v/2,ye=ie(j,oe),fe.stopangle=oe,fe[se]=ye,fe.largeArc=fe.v>ae.vTotal/2?1:0,fe.halfangle=Math.PI*Math.min(fe.v/ae.vTotal,.5),fe.ring=1-q.hole,fe.rInscribed=k(fe,ae))}function ie(Y,ae){return[Y*Math.sin(ae),-Y*Math.cos(ae)]}function ue(Y,ae,j){var q=Y._fullLayout,oe=j.trace,Q=oe.texttemplate,X=oe.textinfo;if(!Q&&X&&X!=="none"){var se=X.split("+"),ne=function(De){return se.indexOf(De)!==-1},fe=ne("label"),ye=ne("text"),Se=ne("value"),we=ne("percent"),_e=q.separators,ke;if(ke=fe?[ae.label]:[],ye){var Me=l.getFirstFilled(oe.text,ae.pts);f(Me)&&ke.push(Me)}Se&&ke.push(l.formatPieValue(ae.v,_e)),we&&ke.push(l.formatPiePercent(ae.v/j.vTotal,_e)),ae.text=ke.join("<br>")}function me(De){return{label:De.label,value:De.v,valueLabel:l.formatPieValue(De.v,q.separators),percent:De.v/j.vTotal,percentLabel:l.formatPiePercent(De.v/j.vTotal,q.separators),color:De.color,text:De.text,customdata:v.castOption(oe,De.i,"customdata")}}if(Q){var Ee=v.castOption(oe,ae.i,"texttemplate");if(!Ee)ae.text="";else{var Be=me(ae),Ue=l.getFirstFilled(oe.text,ae.pts);(f(Ue)||Ue==="")&&(Be.text=Ue),ae.text=v.texttemplateString(Ee,Be,Y._fullLayout._d3locale,Be,oe._meta||{})}}}function J(Y,ae){var j=Y.rotate*Math.PI/180,q=Math.cos(j),oe=Math.sin(j),Q=(ae.left+ae.right)/2,X=(ae.top+ae.bottom)/2;Y.textX=Q*q-X*oe,Y.textY=Q*oe+X*q,Y.noCenter=!0}G.exports={plot:T,formatSliceLabel:ue,transformInsideText:C,determineInsideTextFont:A,positionTitleOutside:F,prerenderTitles:w,layoutAreas:W,attachFxHandlers:s,computeTransform:J}},68357:function(G,V,e){var y=e(39898),P=e(63463),o=e(72597).resizeText;G.exports=function(M){var v=M._fullLayout._pielayer.selectAll(".trace");o(M,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,i=y.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(n){y.select(this).call(P,n,t,M)})})}},63463:function(G,V,e){var y=e(7901),P=e(53581).castOption,o=e(22209);G.exports=function(M,v,p,r){var t=p.marker.line,i=P(t.color,v.pts)||y.defaultLine,n=P(t.width,v.pts)||0;M.call(o,v,p,r).style("stroke-width",n).call(y.stroke,i)}},10959:function(G,V,e){var y=e(82196);G.exports={x:y.x,y:y.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:y.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(G,V,e){var y=e(9330).gl_pointcloud2d,P=e(71828).isArrayOrTypedArray,o=e(78614),L=e(71739).findExtremes,M=e(34603);function v(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=y(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[i*2],this.pickXYData[i*2+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:P(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=M(t,{})},p.updateFast=function(t){var i=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,c=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,l=t.indices,g,f,T,h=this.bounds,s,d,A;if(c){if(T=c,g=c.length>>>1,u)h[0]=t.xbounds[0],h[2]=t.xbounds[1],h[1]=t.ybounds[0],h[3]=t.ybounds[1];else for(A=0;A<g;A++)s=T[A*2],d=T[A*2+1],s<h[0]&&(h[0]=s),s>h[2]&&(h[2]=s),d<h[1]&&(h[1]=d),d>h[3]&&(h[3]=d);if(l)f=l;else for(f=new Int32Array(g),A=0;A<g;A++)f[A]=A}else for(g=i.length,T=new Float32Array(2*g),f=new Int32Array(g),A=0;A<g;A++)s=i[A],d=n[A],f[A]=A,T[A*2]=s,T[A*2+1]=d,s<h[0]&&(h[0]=s),s>h[2]&&(h[2]=s),d<h[1]&&(h[1]=d),d>h[3]&&(h[3]=d);this.idToIndex=f,this.pointcloudOptions.idToIndex=f,this.pointcloudOptions.positions=T;var w=o(t.marker.color),C=o(t.marker.border.color),b=t.opacity*t.marker.opacity;w[3]*=b,this.pointcloudOptions.color=w;var S=t.marker.blend;if(S===null){var m=100;S=i.length<m||n.length<m}this.pointcloudOptions.blend=S,C[3]*=b,this.pointcloudOptions.borderColor=C;var a=t.marker.sizemin,E=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=a,this.pointcloudOptions.sizeMax=E,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var x=this.scene.xaxis,k=this.scene.yaxis,I=E/2||.5;t._extremes[x._id]=L(x,[h[0],h[2]],{ppad:I}),t._extremes[k._id]=L(k,[h[1],h[3]],{ppad:I})},p.dispose=function(){this.pointcloud.dispose()};function r(t,i){var n=new v(t,i.uid);return n.update(i),n}G.exports=r},33876:function(G,V,e){var y=e(71828),P=e(10959);G.exports=function(L,M,v){function p(r,t){return y.coerce(L,M,P,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),L.xy&&L.xy instanceof Float32Array&&(M.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(M.indices=L.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),M._length=null}},20593:function(G,V,e){G.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(G,V,e){var y=e(41940),P=e(9012),o=e(22399),L=e(77914),M=e(27670).Y,v=e(5386).fF,p=e(50693),r=e(44467).templatedArray,t=e(12663).descriptionOnlyNumbers,i=e(1426).extendFlat,n=e(30962).overrideAll,c=G.exports=n({hoverinfo:i({},P.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:M({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:y({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:i(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");c.transforms=void 0},75536:function(G,V,e){var y=e(30962).overrideAll,P=e(27659).a0,o=e(60436),L=e(528),M=e(6964),v=e(28569),p=e(47322).prepSelect,r=e(71828),t=e(73972),i="sankey";V.name=i,V.baseLayoutAttrOverrides=y({hoverlabel:L.hoverlabel},"plot","nested"),V.plot=function(c){var u=P(c.calcdata,i)[0];o(c,u),V.updateFx(c)},V.clean=function(c,u,l,g){var f=g._has&&g._has(i),T=u._has&&u._has(i);f&&!T&&(g._paperdiv.selectAll(".sankey").remove(),g._paperdiv.selectAll(".bgsankey").remove())},V.updateFx=function(c){for(var u=0;u<c._fullData.length;u++)n(c,u)};function n(c,u){var l=c._fullData[u],g=c._fullLayout,f=g.dragmode,T=g.dragmode==="pan"?"move":"crosshair",h=l._bgRect;if(h&&!(f==="pan"||f==="zoom")){M(h,T);var s={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},d={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},A={gd:c,element:h.node(),plotinfo:{id:u,xaxis:s,yaxis:d,fillRangeItems:r.noop},subplot:u,xaxes:[s],yaxes:[d],doneFnCompleted:function(w){var C=c._fullData[u],b,S=C.node.groups.slice(),m=[];function a(I){for(var N=C._sankey.graph.nodes,F=0;F<N.length;F++)if(N[F].pointNumber===I)return N[F]}for(var E=0;E<w.length;E++){var x=a(w[E].pointNumber);if(x)if(x.group){for(var k=0;k<x.childrenNodes.length;k++)m.push(x.childrenNodes[k].pointNumber);S[x.pointNumber-C.node._count]=!1}else m.push(x.pointNumber)}b=S.filter(Boolean).concat([m]),t.call("_guiRestyle",c,{"node.groups":[b]},u)}};A.prepFn=function(w,C,b){p(w,C,b,A,f)},v.init(A)}}},92930:function(G,V,e){var y=e(68664),P=e(71828),o=e(28984).wrap,L=P.isArrayOrTypedArray,M=P.isIndex,v=e(21081);function p(t){var i=t.node,n=t.link,c=[],u=L(n.color),l=L(n.customdata),g={},f={},T=n.colorscales.length,h;for(h=0;h<T;h++){var s=n.colorscales[h],d=v.extractScale(s,{cLetter:"c"}),A=v.makeColorScaleFunc(d);f[s.label]=A}var w=0;for(h=0;h<n.value.length;h++)n.source[h]>w&&(w=n.source[h]),n.target[h]>w&&(w=n.target[h]);var C=w+1;t.node._count=C;var b,S=t.node.groups,m={};for(h=0;h<S.length;h++){var a=S[h];for(b=0;b<a.length;b++){var E=a[b],x=C+h;m.hasOwnProperty(E)?P.warn("Node "+E+" is already part of a group."):m[E]=x}}var k={source:[],target:[]};for(h=0;h<n.value.length;h++){var I=n.value[h],N=n.source[h],F=n.target[h];if(I>0&&M(N,C)&&M(F,C)&&!(m.hasOwnProperty(N)&&m.hasOwnProperty(F)&&m[N]===m[F])){m.hasOwnProperty(F)&&(F=m[F]),m.hasOwnProperty(N)&&(N=m[N]),N=+N,F=+F,g[N]=g[F]=!0;var z="";n.label&&n.label[h]&&(z=n.label[h]);var O=null;z&&f.hasOwnProperty(z)&&(O=f[z]),c.push({pointNumber:h,label:z,color:u?n.color[h]:n.color,customdata:l?n.customdata[h]:n.customdata,concentrationscale:O,source:N,target:F,value:+I}),k.source.push(N),k.target.push(F)}}var _=C+S.length,B=L(i.color),W=L(i.customdata),$=[];for(h=0;h<_;h++)if(g[h]){var te=i.label[h];$.push({group:h>C-1,childrenNodes:[],pointNumber:h,label:te,color:B?i.color[h]:i.color,customdata:W?i.customdata[h]:i.customdata})}var ie=!1;return r(_,k.source,k.target)&&(ie=!0),{circular:ie,links:c,nodes:$,groups:S,groupLookup:m}}function r(t,i,n){for(var c=P.init2dArray(t,0),u=0;u<Math.min(i.length,n.length);u++)if(P.isIndex(i[u],t)&&P.isIndex(n[u],t)){if(i[u]===n[u])return!0;c[i[u]].push(n[u])}var l=y(c);return l.components.some(function(g){return g.length>1})}G.exports=function(i,n){var c=p(n);return o({circular:c.circular,_nodes:c.nodes,_links:c.links,_groups:c.groups,_groupLookup:c.groupLookup})}},85247:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(G,V,e){var y=e(71828),P=e(39953),o=e(7901),L=e(84267),M=e(27670).c,v=e(38048),p=e(44467),r=e(85501);G.exports=function(n,c,u,l){function g(a,E){return y.coerce(n,c,P,a,E)}var f=y.extendDeep(l.hoverlabel,n.hoverlabel),T=n.node,h=p.newContainer(c,"node");function s(a,E){return y.coerce(T,h,P.node,a,E)}s("label"),s("groups"),s("x"),s("y"),s("pad"),s("thickness"),s("line.color"),s("line.width"),s("hoverinfo",n.hoverinfo),v(T,h,s,f),s("hovertemplate"),s("align");var d=l.colorway,A=function(a){return d[a%d.length]};s("color",h.label.map(function(a,E){return o.addOpacity(A(E),.8)})),s("customdata");var w=n.link||{},C=p.newContainer(c,"link");function b(a,E){return y.coerce(w,C,P.link,a,E)}b("label"),b("arrowlen"),b("source"),b("target"),b("value"),b("line.color"),b("line.width"),b("hoverinfo",n.hoverinfo),v(w,C,b,f),b("hovertemplate");var S=L(l.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";b("color",y.repeat(S,C.value.length)),b("customdata"),r(w,C,{name:"colorscales",handleItemDefaults:t}),M(c,l,g),g("orientation"),g("valueformat"),g("valuesuffix");var m;h.x.length&&h.y.length&&(m="freeform"),g("arrangement",m),y.coerceFont(g,"textfont",y.extendFlat({},l.font)),c._length=null};function t(i,n){function c(u,l){return y.coerce(i,n,P.link.colorscales,u,l)}c("label"),c("cmin"),c("cmax"),c("colorscale")}},29396:function(G,V,e){G.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(G,V,e){var y=e(39898),P=e(71828),o=P.numberFormat,L=e(3393),M=e(30211),v=e(7901),p=e(85247).cn,r=P._;function t(d){return d!==""}function i(d,A){return d.filter(function(w){return w.key===A.traceId})}function n(d,A){y.select(d).select("path").style("fill-opacity",A),y.select(d).select("rect").style("fill-opacity",A)}function c(d){y.select(d).select("text.name").style("fill","black")}function u(d){return function(A){return d.node.sourceLinks.indexOf(A.link)!==-1||d.node.targetLinks.indexOf(A.link)!==-1}}function l(d){return function(A){return A.node.sourceLinks.indexOf(d.link)!==-1||A.node.targetLinks.indexOf(d.link)!==-1}}function g(d,A,w){A&&w&&i(w,A).selectAll("."+p.sankeyLink).filter(u(A)).call(T.bind(0,A,w,!1))}function f(d,A,w){A&&w&&i(w,A).selectAll("."+p.sankeyLink).filter(u(A)).call(h.bind(0,A,w,!1))}function T(d,A,w,C){C.style("fill-opacity",function(b){if(!b.link.concentrationscale)return .4}),C.each(function(b){var S=b.link.label;S!==""&&i(A,d).selectAll("."+p.sankeyLink).filter(function(m){return m.link.label===S}).style("fill-opacity",function(m){if(!m.link.concentrationscale)return .4})}),w&&i(A,d).selectAll("."+p.sankeyNode).filter(l(d)).call(g)}function h(d,A,w,C){C.style("fill-opacity",function(b){return b.tinyColorAlpha}),C.each(function(b){var S=b.link.label;S!==""&&i(A,d).selectAll("."+p.sankeyLink).filter(function(m){return m.link.label===S}).style("fill-opacity",function(m){return m.tinyColorAlpha})}),w&&i(A,d).selectAll(p.sankeyNode).filter(l(d)).call(f)}function s(d,A){var w=d.hoverlabel||{},C=P.nestedProperty(w,A).get();return Array.isArray(C)?!1:C}G.exports=function(A,w){for(var C=A._fullLayout,b=C._paper,S=C._size,m=0;m<A._fullData.length;m++)if(A._fullData[m].visible&&A._fullData[m].type===p.sankey&&!A._fullData[m]._viewInitial){var a=A._fullData[m].node;A._fullData[m]._viewInitial={node:{groups:a.groups.slice(),x:a.x.slice(),y:a.y.slice()}}}var E=function(ie,ue){var J=ue.link;J.originalEvent=y.event,A._hoverdata=[J],M.click(A,{target:!0})},x=function(ie,ue,J){A._fullLayout.hovermode!==!1&&(y.select(ie).call(T.bind(0,ue,J,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,A.emit("plotly_hover",{event:y.event,points:[ue.link]})))},k=r(A,"source:")+" ",I=r(A,"target:")+" ",N=r(A,"concentration:")+" ",F=r(A,"incoming flow count:")+" ",z=r(A,"outgoing flow count:")+" ",O=function(ie,ue){if(A._fullLayout.hovermode===!1)return;var J=ue.link.trace.link;if(J.hoverinfo==="none"||J.hoverinfo==="skip")return;var Y=[];function ae(ne){var fe,ye;ne.circular?(fe=(ne.circularPathData.leftInnerExtent+ne.circularPathData.rightInnerExtent)/2,ye=ne.circularPathData.verticalFullExtent):(fe=(ne.source.x1+ne.target.x0)/2,ye=(ne.y0+ne.y1)/2);var Se=[fe,ye];return ne.trace.orientation==="v"&&Se.reverse(),Se[0]+=ue.parent.translateX,Se[1]+=ue.parent.translateY,Se}for(var j=0,q=0;q<ue.flow.links.length;q++){var oe=ue.flow.links[q];if(!(A._fullLayout.hovermode==="closest"&&ue.link.pointNumber!==oe.pointNumber)){ue.link.pointNumber===oe.pointNumber&&(j=q),oe.fullData=oe.trace,J=ue.link.trace.link;var Q=ae(oe),X={valueLabel:o(ue.valueFormat)(oe.value)+ue.valueSuffix};Y.push({x:Q[0],y:Q[1],name:X.valueLabel,text:[oe.label||"",k+oe.source.label,I+oe.target.label,oe.concentrationscale?N+o("%0.2f")(oe.flow.labelConcentration):""].filter(t).join("<br>"),color:s(J,"bgcolor")||v.addOpacity(oe.color,1),borderColor:s(J,"bordercolor"),fontFamily:s(J,"font.family"),fontSize:s(J,"font.size"),fontColor:s(J,"font.color"),nameLength:s(J,"namelength"),textAlign:s(J,"align"),idealAlign:y.event.x<Q[0]?"right":"left",hovertemplate:J.hovertemplate,hovertemplateLabels:X,eventData:[oe]})}}var se=M.loneHover(Y,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:A,anchorIndex:j});se.each(function(){var ne=this;ue.link.concentrationscale||n(ne,.65),c(ne)})},_=function(ie,ue,J){A._fullLayout.hovermode!==!1&&(y.select(ie).call(h.bind(0,ue,J,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,A.emit("plotly_unhover",{event:y.event,points:[ue.link]})),M.loneUnhover(C._hoverlayer.node()))},B=function(ie,ue,J){var Y=ue.node;Y.originalEvent=y.event,A._hoverdata=[Y],y.select(ie).call(f,ue,J),M.click(A,{target:!0})},W=function(ie,ue,J){A._fullLayout.hovermode!==!1&&(y.select(ie).call(g,ue,J),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,A.emit("plotly_hover",{event:y.event,points:[ue.node]})))},$=function(ie,ue){if(A._fullLayout.hovermode!==!1){var J=ue.node.trace.node;if(!(J.hoverinfo==="none"||J.hoverinfo==="skip")){var Y=y.select(ie).select("."+p.nodeRect),ae=A._fullLayout._paperdiv.node().getBoundingClientRect(),j=Y.node().getBoundingClientRect(),q=j.left-2-ae.left,oe=j.right+2-ae.left,Q=j.top+j.height/4-ae.top,X={valueLabel:o(ue.valueFormat)(ue.node.value)+ue.valueSuffix};ue.node.fullData=ue.node.trace,A._fullLayout._calcInverseTransform(A);var se=A._fullLayout._invScaleX,ne=A._fullLayout._invScaleY,fe=M.loneHover({x0:se*q,x1:se*oe,y:ne*Q,name:o(ue.valueFormat)(ue.node.value)+ue.valueSuffix,text:[ue.node.label,F+ue.node.targetLinks.length,z+ue.node.sourceLinks.length].filter(t).join("<br>"),color:s(J,"bgcolor")||ue.tinyColorHue,borderColor:s(J,"bordercolor"),fontFamily:s(J,"font.family"),fontSize:s(J,"font.size"),fontColor:s(J,"font.color"),nameLength:s(J,"namelength"),textAlign:s(J,"align"),idealAlign:"left",hovertemplate:J.hovertemplate,hovertemplateLabels:X,eventData:[ue.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:A});n(fe,.85),c(fe)}}},te=function(ie,ue,J){A._fullLayout.hovermode!==!1&&(y.select(ie).call(f,ue,J),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,A.emit("plotly_unhover",{event:y.event,points:[ue.node]})),M.loneUnhover(C._hoverlayer.node()))};L(A,b,w,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:x,follow:O,unhover:_,select:E},nodeEvents:{hover:W,follow:$,unhover:te,select:B}})}},3393:function(G,V,e){var y=e(49887),P=e(81684).k4,o=e(39898),L=e(30838),M=e(86781),v=e(85247),p=e(84267),r=e(7901),t=e(91424),i=e(71828),n=i.strTranslate,c=i.strRotate,u=e(28984),l=u.keyFun,g=u.repeat,f=u.unwrap,T=e(63893),h=e(73972),s=e(18783),d=s.CAP_SHIFT,A=s.LINE_SPACING,w=3;function C(ae,j,q){var oe=f(j),Q=oe.trace,X=Q.domain,se=Q.orientation==="h",ne=Q.node.pad,fe=Q.node.thickness,ye={justify:L.sankeyJustify,left:L.sankeyLeft,right:L.sankeyRight,center:L.sankeyCenter}[Q.node.align],Se=ae.width*(X.x[1]-X.x[0]),we=ae.height*(X.y[1]-X.y[0]),_e=oe._nodes,ke=oe._links,Me=oe.circular,me;Me?me=M.sankeyCircular().circularLinkGap(0):me=L.sankey(),me.iterations(v.sankeyIterations).size(se?[Se,we]:[we,Se]).nodeWidth(fe).nodePadding(ne).nodeId(function(Vt){return Vt.pointNumber}).nodeAlign(ye).nodes(_e).links(ke);var Ee=me();me.nodePadding()<ne&&i.warn("node.pad was reduced to ",me.nodePadding()," to fit within the figure.");var Be,Ue,De;for(var He in oe._groupLookup){var nt=parseInt(oe._groupLookup[He]),lt;for(Be=0;Be<Ee.nodes.length;Be++)if(Ee.nodes[Be].pointNumber===nt){lt=Ee.nodes[Be];break}if(lt){var $e={pointNumber:parseInt(He),x0:lt.x0,x1:lt.x1,y0:lt.y0,y1:lt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Ee.nodes.unshift($e),lt.childrenNodes.unshift($e)}}function qe(){for(Be=0;Be<Ee.nodes.length;Be++){var Vt=Ee.nodes[Be],Je={},Ve,Ie;for(Ue=0;Ue<Vt.targetLinks.length;Ue++)Ie=Vt.targetLinks[Ue],Ve=Ie.source.pointNumber+":"+Ie.target.pointNumber,Je.hasOwnProperty(Ve)||(Je[Ve]=[]),Je[Ve].push(Ie);var Oe=Object.keys(Je);for(Ue=0;Ue<Oe.length;Ue++){Ve=Oe[Ue];var Le=Je[Ve],xe=0,pe={};for(De=0;De<Le.length;De++)Ie=Le[De],pe[Ie.label]||(pe[Ie.label]=0),pe[Ie.label]+=Ie.value,xe+=Ie.value;for(De=0;De<Le.length;De++)Ie=Le[De],Ie.flow={value:xe,labelConcentration:pe[Ie.label]/xe,concentration:Ie.value/xe,links:Le},Ie.concentrationscale&&(Ie.color=p(Ie.concentrationscale(Ie.flow.labelConcentration)))}var Ae=0;for(Ue=0;Ue<Vt.sourceLinks.length;Ue++)Ae+=Vt.sourceLinks[Ue].value;for(Ue=0;Ue<Vt.sourceLinks.length;Ue++)Ie=Vt.sourceLinks[Ue],Ie.concentrationOut=Ie.value/Ae;var Te=0;for(Ue=0;Ue<Vt.targetLinks.length;Ue++)Te+=Vt.targetLinks[Ue].value;for(Ue=0;Ue<Vt.targetLinks.length;Ue++)Ie=Vt.targetLinks[Ue],Ie.concenrationIn=Ie.value/Te}}qe();function ct(Vt){Vt.forEach(function(Je){var Ve,Ie,Oe=0,Le=Je.length,xe;for(Je.sort(function(pe,Ae){return pe.y0-Ae.y0}),xe=0;xe<Le;++xe)Ve=Je[xe],Ve.y0>=Oe||(Ie=Oe-Ve.y0,Ie>1e-6&&(Ve.y0+=Ie,Ve.y1+=Ie)),Oe=Ve.y1+ne})}function dt(Vt){var Je=Vt.map(function(Ae,Te){return{x0:Ae.x0,index:Te}}).sort(function(Ae,Te){return Ae.x0-Te.x0}),Ve=[],Ie=-1,Oe,Le=-1/0,xe;for(Be=0;Be<Je.length;Be++){var pe=Vt[Je[Be].index];pe.x0>Le+fe&&(Ie+=1,Oe=pe.x0),Le=pe.x0,Ve[Ie]||(Ve[Ie]=[]),Ve[Ie].push(pe),xe=Oe-pe.x0,pe.x0+=xe,pe.x1+=xe}return Ve}if(Q.node.x.length&&Q.node.y.length){for(Be=0;Be<Math.min(Q.node.x.length,Q.node.y.length,Ee.nodes.length);Be++)if(Q.node.x[Be]&&Q.node.y[Be]){var gt=[Q.node.x[Be]*Se,Q.node.y[Be]*we];Ee.nodes[Be].x0=gt[0]-fe/2,Ee.nodes[Be].x1=gt[0]+fe/2;var At=Ee.nodes[Be].y1-Ee.nodes[Be].y0;Ee.nodes[Be].y0=gt[1]-At/2,Ee.nodes[Be].y1=gt[1]+At/2}if(Q.arrangement==="snap"){_e=Ee.nodes;var Rt=dt(_e);ct(Rt)}me.update(Ee)}return{circular:Me,key:q,trace:Q,guid:i.randstr(),horizontal:se,width:Se,height:we,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:X.x[0]*ae.width+ae.margin.l,translateY:ae.height-X.y[1]*ae.height+ae.margin.t,dragParallel:se?we:Se,dragPerpendicular:se?Se:we,arrangement:Q.arrangement,sankey:me,graph:Ee,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function b(ae,j,q){var oe=p(j.color),Q=j.source.label+"|"+j.target.label,X=Q+"__"+q;return j.trace=ae.trace,j.curveNumber=ae.trace.index,{circular:ae.circular,key:X,traceId:ae.key,pointNumber:j.pointNumber,link:j,tinyColorHue:r.tinyRGB(oe),tinyColorAlpha:oe.getAlpha(),linkPath:m,linkLineColor:ae.linkLineColor,linkLineWidth:ae.linkLineWidth,linkArrowLength:ae.linkArrowLength,valueFormat:ae.valueFormat,valueSuffix:ae.valueSuffix,sankey:ae.sankey,parent:ae,interactionState:ae.interactionState,flow:j.flow}}function S(ae,j){var q="",oe=ae.width/2,Q=ae.circularPathData;return ae.circularLinkType==="top"?q="M "+(Q.targetX-j)+" "+(Q.targetY+oe)+" L"+(Q.rightInnerExtent-j)+" "+(Q.targetY+oe)+"A"+(Q.rightLargeArcRadius+oe)+" "+(Q.rightSmallArcRadius+oe)+" 0 0 1 "+(Q.rightFullExtent-oe-j)+" "+(Q.targetY-Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-oe-j)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+oe)+" "+(Q.rightLargeArcRadius+oe)+" 0 0 1 "+(Q.rightInnerExtent-j)+" "+(Q.verticalFullExtent-oe)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent-oe)+"A"+(Q.leftLargeArcRadius+oe)+" "+(Q.leftLargeArcRadius+oe)+" 0 0 1 "+(Q.leftFullExtent+oe)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+oe)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+oe)+" "+(Q.leftSmallArcRadius+oe)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.sourceY+oe)+"L"+Q.sourceX+" "+(Q.sourceY+oe)+"L"+Q.sourceX+" "+(Q.sourceY-oe)+"L"+Q.leftInnerExtent+" "+(Q.sourceY-oe)+"A"+(Q.leftLargeArcRadius-oe)+" "+(Q.leftSmallArcRadius-oe)+" 0 0 0 "+(Q.leftFullExtent-oe)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-oe)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-oe)+" "+(Q.leftLargeArcRadius-oe)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent+oe)+"L"+(Q.rightInnerExtent-j)+" "+(Q.verticalFullExtent+oe)+"A"+(Q.rightLargeArcRadius-oe)+" "+(Q.rightLargeArcRadius-oe)+" 0 0 0 "+(Q.rightFullExtent+oe-j)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+oe-j)+" "+(Q.targetY-Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-oe)+" "+(Q.rightSmallArcRadius-oe)+" 0 0 0 "+(Q.rightInnerExtent-j)+" "+(Q.targetY-oe)+"L"+(Q.targetX-j)+" "+(Q.targetY-oe)+(j>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z":q="M "+(Q.targetX-j)+" "+(Q.targetY-oe)+" L"+(Q.rightInnerExtent-j)+" "+(Q.targetY-oe)+"A"+(Q.rightLargeArcRadius+oe)+" "+(Q.rightSmallArcRadius+oe)+" 0 0 0 "+(Q.rightFullExtent-oe-j)+" "+(Q.targetY+Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-oe-j)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+oe)+" "+(Q.rightLargeArcRadius+oe)+" 0 0 0 "+(Q.rightInnerExtent-j)+" "+(Q.verticalFullExtent+oe)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent+oe)+"A"+(Q.leftLargeArcRadius+oe)+" "+(Q.leftLargeArcRadius+oe)+" 0 0 0 "+(Q.leftFullExtent+oe)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+oe)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+oe)+" "+(Q.leftSmallArcRadius+oe)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.sourceY-oe)+"L"+Q.sourceX+" "+(Q.sourceY-oe)+"L"+Q.sourceX+" "+(Q.sourceY+oe)+"L"+Q.leftInnerExtent+" "+(Q.sourceY+oe)+"A"+(Q.leftLargeArcRadius-oe)+" "+(Q.leftSmallArcRadius-oe)+" 0 0 1 "+(Q.leftFullExtent-oe)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-oe)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-oe)+" "+(Q.leftLargeArcRadius-oe)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent-oe)+"L"+(Q.rightInnerExtent-j)+" "+(Q.verticalFullExtent-oe)+"A"+(Q.rightLargeArcRadius-oe)+" "+(Q.rightLargeArcRadius-oe)+" 0 0 1 "+(Q.rightFullExtent+oe-j)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+oe-j)+" "+(Q.targetY+Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-oe)+" "+(Q.rightSmallArcRadius-oe)+" 0 0 1 "+(Q.rightInnerExtent-j)+" "+(Q.targetY+oe)+"L"+(Q.targetX-j)+" "+(Q.targetY+oe)+(j>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z",q}function m(){var ae=.5;function j(q){var oe=q.linkArrowLength;if(q.link.circular)return S(q.link,oe);var Q=Math.abs((q.link.target.x0-q.link.source.x1)/2);oe>Q&&(oe=Q);var X=q.link.source.x1,se=q.link.target.x0-oe,ne=P(X,se),fe=ne(ae),ye=ne(1-ae),Se=q.link.y0-q.link.width/2,we=q.link.y0+q.link.width/2,_e=q.link.y1-q.link.width/2,ke=q.link.y1+q.link.width/2,Me="M"+X+","+Se,me="C"+fe+","+Se+" "+ye+","+_e+" "+se+","+_e,Ee="C"+ye+","+ke+" "+fe+","+we+" "+X+","+we,Be=oe>0?"L"+(se+oe)+","+(_e+q.link.width/2):"";return Be+="L"+se+","+ke,Me+me+Be+Ee+"Z"}return j}function a(ae,j){var q=p(j.color),oe=v.nodePadAcross,Q=ae.nodePad/2;j.dx=j.x1-j.x0,j.dy=j.y1-j.y0;var X=j.dx,se=Math.max(.5,j.dy),ne="node_"+j.pointNumber;return j.group&&(ne=i.randstr()),j.trace=ae.trace,j.curveNumber=ae.trace.index,{index:j.pointNumber,key:ne,partOfGroup:j.partOfGroup||!1,group:j.group,traceId:ae.key,trace:ae.trace,node:j,nodePad:ae.nodePad,nodeLineColor:ae.nodeLineColor,nodeLineWidth:ae.nodeLineWidth,textFont:ae.textFont,size:ae.horizontal?ae.height:ae.width,visibleWidth:Math.ceil(X),visibleHeight:se,zoneX:-oe,zoneY:-Q,zoneWidth:X+2*oe,zoneHeight:se+2*Q,labelY:ae.horizontal?j.dy/2+1:j.dx/2+1,left:j.originalLayer===1,sizeAcross:ae.width,forceLayouts:ae.forceLayouts,horizontal:ae.horizontal,darkBackground:q.getBrightness()<=128,tinyColorHue:r.tinyRGB(q),tinyColorAlpha:q.getAlpha(),valueFormat:ae.valueFormat,valueSuffix:ae.valueSuffix,sankey:ae.sankey,graph:ae.graph,arrangement:ae.arrangement,uniqueNodeLabelPathId:[ae.guid,ae.key,ne].join("_"),interactionState:ae.interactionState,figure:ae}}function E(ae){ae.attr("transform",function(j){return n(j.node.x0.toFixed(3),j.node.y0.toFixed(3))})}function x(ae){ae.call(E)}function k(ae,j){ae.call(x),j.attr("d",m())}function I(ae){ae.attr("width",function(j){return j.node.x1-j.node.x0}).attr("height",function(j){return j.visibleHeight})}function N(ae){return ae.link.width>1||ae.linkLineWidth>0}function F(ae){var j=n(ae.translateX,ae.translateY);return j+(ae.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function z(ae,j,q){ae.on(".basic",null).on("mouseover.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(q.hover(this,oe,j),oe.interactionState.hovered=[this,oe])}).on("mousemove.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(q.follow(this,oe),oe.interactionState.hovered=[this,oe])}).on("mouseout.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(q.unhover(this,oe,j),oe.interactionState.hovered=!1)}).on("click.basic",function(oe){oe.interactionState.hovered&&(q.unhover(this,oe,j),oe.interactionState.hovered=!1),!oe.interactionState.dragInProgress&&!oe.partOfGroup&&q.select(this,oe,j)})}function O(ae,j,q,oe){var Q=o.behavior.drag().origin(function(X){return{x:X.node.x0+X.visibleWidth/2,y:X.node.y0+X.visibleHeight/2}}).on("dragstart",function(X){if(X.arrangement!=="fixed"&&(i.ensureSingle(oe._fullLayout._infolayer,"g","dragcover",function(ne){oe._fullLayout._dragCover=ne}),i.raiseToTop(this),X.interactionState.dragInProgress=X.node,ie(X.node),X.interactionState.hovered&&(q.nodeEvents.unhover.apply(0,X.interactionState.hovered),X.interactionState.hovered=!1),X.arrangement==="snap")){var se=X.traceId+"|"+X.key;X.forceLayouts[se]?X.forceLayouts[se].alpha(1):_(ae,se,X),B(ae,j,X,se,oe)}}).on("drag",function(X){if(X.arrangement!=="fixed"){var se=o.event.x,ne=o.event.y;X.arrangement==="snap"?(X.node.x0=se-X.visibleWidth/2,X.node.x1=se+X.visibleWidth/2,X.node.y0=ne-X.visibleHeight/2,X.node.y1=ne+X.visibleHeight/2):(X.arrangement==="freeform"&&(X.node.x0=se-X.visibleWidth/2,X.node.x1=se+X.visibleWidth/2),ne=Math.max(0,Math.min(X.size-X.visibleHeight/2,ne)),X.node.y0=ne-X.visibleHeight/2,X.node.y1=ne+X.visibleHeight/2),ie(X.node),X.arrangement!=="snap"&&(X.sankey.update(X.graph),k(ae.filter(ue(X)),j))}}).on("dragend",function(X){if(X.arrangement!=="fixed"){X.interactionState.dragInProgress=!1;for(var se=0;se<X.node.childrenNodes.length;se++)X.node.childrenNodes[se].x=X.node.x,X.node.childrenNodes[se].y=X.node.y;X.arrangement!=="snap"&&$(X,oe)}});ae.on(".drag",null).call(Q)}function _(ae,j,q,oe){J(q.graph.nodes);var Q=q.graph.nodes.filter(function(X){return X.originalX===q.node.originalX}).filter(function(X){return!X.partOfGroup});q.forceLayouts[j]=y.forceSimulation(Q).alphaDecay(0).force("collide",y.forceCollide().radius(function(X){return X.dy/2+q.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",W(ae,j,Q,q)).stop()}function B(ae,j,q,oe,Q){window.requestAnimationFrame(function X(){var se;for(se=0;se<v.forceTicksPerFrame;se++)q.forceLayouts[oe].tick();var ne=q.graph.nodes;if(Y(ne),q.sankey.update(q.graph),k(ae.filter(ue(q)),j),q.forceLayouts[oe].alpha()>0)window.requestAnimationFrame(X);else{var fe=q.node.originalX;q.node.x0=fe-q.visibleWidth/2,q.node.x1=fe+q.visibleWidth/2,$(q,Q)}})}function W(ae,j,q,oe){return function(){for(var X=0,se=0;se<q.length;se++){var ne=q[se];ne===oe.interactionState.dragInProgress?(ne.x=ne.lastDraggedX,ne.y=ne.lastDraggedY):(ne.vx=(ne.originalX-ne.x)/v.forceTicksPerFrame,ne.y=Math.min(oe.size-ne.dy/2,Math.max(ne.dy/2,ne.y))),X=Math.max(X,Math.abs(ne.vx),Math.abs(ne.vy))}!oe.interactionState.dragInProgress&&X<.1&&oe.forceLayouts[j].alpha()>0&&oe.forceLayouts[j].alpha(0)}}function $(ae,j){for(var q=[],oe=[],Q=0;Q<ae.graph.nodes.length;Q++){var X=(ae.graph.nodes[Q].x0+ae.graph.nodes[Q].x1)/2,se=(ae.graph.nodes[Q].y0+ae.graph.nodes[Q].y1)/2;q.push(X/ae.figure.width),oe.push(se/ae.figure.height)}h.call("_guiRestyle",j,{"node.x":[q],"node.y":[oe]},ae.trace.index).then(function(){j._fullLayout._dragCover&&j._fullLayout._dragCover.remove()})}function te(ae){var j=[],q;for(q=0;q<ae.length;q++)ae[q].originalX=(ae[q].x0+ae[q].x1)/2,ae[q].originalY=(ae[q].y0+ae[q].y1)/2,j.indexOf(ae[q].originalX)===-1&&j.push(ae[q].originalX);for(j.sort(function(oe,Q){return oe-Q}),q=0;q<ae.length;q++)ae[q].originalLayerIndex=j.indexOf(ae[q].originalX),ae[q].originalLayer=ae[q].originalLayerIndex/(j.length-1)}function ie(ae){ae.lastDraggedX=ae.x0+ae.dx/2,ae.lastDraggedY=ae.y0+ae.dy/2}function ue(ae){return function(j){return j.node.originalX===ae.node.originalX}}function J(ae){for(var j=0;j<ae.length;j++)ae[j].y=(ae[j].y0+ae[j].y1)/2,ae[j].x=(ae[j].x0+ae[j].x1)/2}function Y(ae){for(var j=0;j<ae.length;j++)ae[j].y0=ae[j].y-ae[j].dy/2,ae[j].y1=ae[j].y0+ae[j].dy,ae[j].x0=ae[j].x-ae[j].dx/2,ae[j].x1=ae[j].x0+ae[j].dx}G.exports=function(ae,j,q,oe,Q){var X=ae._context.staticPlot,se=!1;i.ensureSingle(ae._fullLayout._infolayer,"g","first-render",function(){se=!0});var ne=ae._fullLayout._dragCover,fe=q.filter(function(Ee){return f(Ee).trace.visible}).map(C.bind(null,oe)),ye=j.selectAll("."+v.cn.sankey).data(fe,l);ye.exit().remove(),ye.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",X?"none":"auto").attr("transform",F),ye.each(function(Ee,Be){ae._fullData[Be]._sankey=Ee;var Ue="bgsankey-"+Ee.trace.uid+"-"+Be;i.ensureSingle(ae._fullLayout._draggers,"rect",Ue),ae._fullData[Be]._bgRect=o.select("."+Ue),ae._fullData[Be]._bgRect.style("pointer-events",X?"none":"all").attr("width",Ee.width).attr("height",Ee.height).attr("x",Ee.translateX).attr("y",Ee.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ye.transition().ease(v.ease).duration(v.duration).attr("transform",F);var Se=ye.selectAll("."+v.cn.sankeyLinks).data(g,l);Se.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var we=Se.selectAll("."+v.cn.sankeyLink).data(function(Ee){var Be=Ee.graph.links;return Be.filter(function(Ue){return Ue.value}).map(b.bind(null,Ee))},l);we.enter().append("path").classed(v.cn.sankeyLink,!0).call(z,ye,Q.linkEvents),we.style("stroke",function(Ee){return N(Ee)?r.tinyRGB(p(Ee.linkLineColor)):Ee.tinyColorHue}).style("stroke-opacity",function(Ee){return N(Ee)?r.opacity(Ee.linkLineColor):Ee.tinyColorAlpha}).style("fill",function(Ee){return Ee.tinyColorHue}).style("fill-opacity",function(Ee){return Ee.tinyColorAlpha}).style("stroke-width",function(Ee){return N(Ee)?Ee.linkLineWidth:1}).attr("d",m()),we.style("opacity",function(){return ae._context.staticPlot||se||ne?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),we.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var _e=ye.selectAll("."+v.cn.sankeyNodeSet).data(g,l);_e.enter().append("g").classed(v.cn.sankeyNodeSet,!0),_e.style("cursor",function(Ee){switch(Ee.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var ke=_e.selectAll("."+v.cn.sankeyNode).data(function(Ee){var Be=Ee.graph.nodes;return te(Be),Be.map(a.bind(null,Ee))},l);ke.enter().append("g").classed(v.cn.sankeyNode,!0).call(E).style("opacity",function(Ee){return(ae._context.staticPlot||se)&&!Ee.partOfGroup?1:0}),ke.call(z,ye,Q.nodeEvents).call(O,we,Q,ae),ke.transition().ease(v.ease).duration(v.duration).call(E).style("opacity",function(Ee){return Ee.partOfGroup?0:1}),ke.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Me=ke.selectAll("."+v.cn.nodeRect).data(g);Me.enter().append("rect").classed(v.cn.nodeRect,!0).call(I),Me.style("stroke-width",function(Ee){return Ee.nodeLineWidth}).style("stroke",function(Ee){return r.tinyRGB(p(Ee.nodeLineColor))}).style("stroke-opacity",function(Ee){return r.opacity(Ee.nodeLineColor)}).style("fill",function(Ee){return Ee.tinyColorHue}).style("fill-opacity",function(Ee){return Ee.tinyColorAlpha}),Me.transition().ease(v.ease).duration(v.duration).call(I);var me=ke.selectAll("."+v.cn.nodeLabel).data(g);me.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),me.attr("data-notex",1).text(function(Ee){return Ee.node.label}).each(function(Ee){var Be=o.select(this);t.font(Be,Ee.textFont),T.convertToTspans(Be,ae)}).style("text-shadow",T.makeTextShadow(ae._fullLayout.paper_bgcolor)).attr("text-anchor",function(Ee){return Ee.horizontal&&Ee.left?"end":"start"}).attr("transform",function(Ee){var Be=o.select(this),Ue=T.lineCount(Be),De=Ee.textFont.size*((Ue-1)*A-d),He=Ee.nodeLineWidth/2+w,nt=((Ee.horizontal?Ee.visibleHeight:Ee.visibleWidth)-De)/2;Ee.horizontal&&(Ee.left?He=-He:He+=Ee.visibleWidth);var lt=Ee.horizontal?"":"scale(-1,1)"+c(90);return n(Ee.horizontal?He:nt,Ee.horizontal?nt:He)+lt}),me.transition().ease(v.ease).duration(v.duration)}},84564:function(G){G.exports=function(e,y){for(var P=e.cd,o=[],L=P[0].trace,M=L._sankey.graph.nodes,v=0;v<M.length;v++){var p=M[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];L.orientation==="v"&&r.reverse(),y&&y.contains(r,!1,v,e)&&o.push({pointNumber:p.pointNumber})}}return o}},75225:function(G,V,e){var y=e(71828);G.exports=function(o,L){for(var M=0;M<o.length;M++)o[M].i=M;y.mergeArray(L.text,o,"tx"),y.mergeArray(L.texttemplate,o,"txt"),y.mergeArray(L.hovertext,o,"htx"),y.mergeArray(L.customdata,o,"data"),y.mergeArray(L.textposition,o,"tp"),L.textfont&&(y.mergeArrayCastPositive(L.textfont.size,o,"ts"),y.mergeArray(L.textfont.color,o,"tc"),y.mergeArray(L.textfont.family,o,"tf"));var v=L.marker;if(v){y.mergeArrayCastPositive(v.size,o,"ms"),y.mergeArrayCastPositive(v.opacity,o,"mo"),y.mergeArray(v.symbol,o,"mx"),y.mergeArray(v.angle,o,"ma"),y.mergeArray(v.standoff,o,"mf"),y.mergeArray(v.color,o,"mc");var p=v.line;v.line&&(y.mergeArray(p.color,o,"mlc"),y.mergeArrayCastPositive(p.width,o,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(y.mergeArray(r.type,o,"mgt"),y.mergeArray(r.color,o,"mgc"))}}},82196:function(G,V,e){var y=e(12663).axisHoverFormat,P=e(5386).si,o=e(5386).fF,L=e(50693),M=e(41940),v=e(79952).P,p=e(79952).u,r=e(91424),t=e(47581),i=e(1426).extendFlat;function n(l){return{valType:"any",dflt:0,editType:"calc"}}function c(l){return{valType:"any",editType:"calc"}}function u(l){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:n(),yperiod:n(),xperiod0:c(),yperiod0:c(),xperiodalignment:u(),yperiodalignment:u(),xhoverformat:y("x"),yhoverformat:y("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:P({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:i({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:p,marker:i({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:i({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:M({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(G,V,e){var y=e(92770),P=e(71828),o=e(89298),L=e(42973),M=e(50606).BADNUM,v=e(34098),p=e(36922),r=e(75225),t=e(66279);function i(f,T){var h=f._fullLayout,s=T._xA=o.getFromId(f,T.xaxis||"x","x"),d=T._yA=o.getFromId(f,T.yaxis||"y","y"),A=s.makeCalcdata(T,"x"),w=d.makeCalcdata(T,"y"),C=L(T,s,"x",A),b=L(T,d,"y",w),S=C.vals,m=b.vals,a=T._length,E=new Array(a),x=T.ids,k=g(T,h,s,d),I=!1,N,F,z,O,_,B;u(h,T);var W="x",$="y",te;if(k)P.pushUnique(k.traceIndices,T._expandedIndex),N=k.orientation==="v",N?($="s",te="x"):(W="s",te="y"),_=k.stackgaps==="interpolate";else{var ie=c(T,a);n(f,T,s,d,S,m,ie)}var ue=!!T.xperiodalignment,J=!!T.yperiodalignment;for(F=0;F<a;F++){var Y=E[F]={},ae=y(S[F]),j=y(m[F]);ae&&j?(Y[W]=S[F],Y[$]=m[F],ue&&(Y.orig_x=A[F],Y.xEnd=C.ends[F],Y.xStart=C.starts[F]),J&&(Y.orig_y=w[F],Y.yEnd=b.ends[F],Y.yStart=b.starts[F])):k&&(N?ae:j)?(Y[te]=N?S[F]:m[F],Y.gap=!0,_?(Y.s=M,I=!0):Y.s=0):Y[W]=Y[$]=M,x&&(Y.id=String(x[F]))}if(r(E,T),p(f,T),t(E,T),k){for(F=0;F<E.length;)E[F][te]===M?E.splice(F,1):F++;if(P.sort(E,function(X,se){return X[te]-se[te]||X.i-se.i}),I){for(F=0;F<E.length-1&&E[F].gap;)F++;for(B=E[F].s,B||(B=E[F].s=0),z=0;z<F;z++)E[z].s=B;for(O=E.length-1;O>F&&E[O].gap;)O--;for(B=E[O].s,z=E.length-1;z>O;z--)E[z].s=B;for(;F<O;)if(F++,E[F].gap){for(z=F+1;E[z].gap;)z++;for(var q=E[F-1][te],oe=E[F-1].s,Q=(E[z].s-oe)/(E[z][te]-q);F<z;)E[F].s=oe+(E[F][te]-q)*Q,F++}}}return E}function n(f,T,h,s,d,A,w){var C=T._length,b=f._fullLayout,S=h._id,m=s._id,a=b._firstScatter[l(T)]===T.uid,E=(g(T,b,h,s)||{}).orientation,x=T.fill;h._minDtick=0,s._minDtick=0;var k={padded:!0},I={padded:!0};w&&(k.ppad=I.ppad=w);var N=C<2||d[0]!==d[C-1]||A[0]!==A[C-1];N&&(x==="tozerox"||x==="tonextx"&&(a||E==="h"))?k.tozero=!0:!(T.error_y||{}).visible&&(x==="tonexty"||x==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(k.padded=!1,k.ppad=0),N&&(x==="tozeroy"||x==="tonexty"&&(a||E==="v"))?I.tozero=!0:(x==="tonextx"||x==="tozerox")&&(I.padded=!1),S&&(T._extremes[S]=o.findExtremes(h,d,k)),m&&(T._extremes[m]=o.findExtremes(s,A,I))}function c(f,T){if(v.hasMarkers(f)){var h=f.marker,s=1.6*(f.marker.sizeref||1),d;if(f.marker.sizemode==="area"?d=function(S){return Math.max(Math.sqrt((S||0)/s),3)}:d=function(S){return Math.max((S||0)/s,3)},P.isArrayOrTypedArray(h.size)){var A={type:"linear"};o.setConvert(A);for(var w=A.makeCalcdata(f.marker,"size"),C=new Array(T),b=0;b<T;b++)C[b]=d(w[b]);return C}else return d(h.size)}}function u(f,T){var h=l(T),s=f._firstScatter;s[h]||(s[h]=T.uid)}function l(f){var T=f.stackgroup;return f.xaxis+f.yaxis+f.type+(T?"-"+T:"")}function g(f,T,h,s){var d=f.stackgroup;if(d){var A=T._scatterStackOpts[h._id+s._id][d],w=A.orientation==="v"?s:h;if(w.type==="linear"||w.type==="log")return A}}G.exports={calc:i,calcMarkerSize:c,calcAxisExpansion:n,setFirstScatter:u,getStackOpts:g}},66279:function(G,V,e){var y=e(71828);G.exports=function(o,L){y.isArrayOrTypedArray(L.selectedpoints)&&y.tagSelected(o,L)}},36922:function(G,V,e){var y=e(52075).hasColorscale,P=e(78803),o=e(34098);G.exports=function(M,v){o.hasLines(v)&&y(v,"line")&&P(M,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(v)&&(y(v,"marker")&&P(M,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),y(v,"marker.line")&&P(M,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(G,V,e){var y=e(47761),P=e(11661).setGroupPositions;function o(v,p){for(var r=p.xaxis,t=p.yaxis,i=v._fullLayout,n=v._fullData,c=v.calcdata,u=[],l=[],g=0;g<n.length;g++){var f=n[g];f.visible===!0&&f.type==="scatter"&&f.xaxis===r._id&&f.yaxis===t._id&&(f.orientation==="h"?u.push(c[g]):f.orientation==="v"&&l.push(c[g]))}var T={mode:i.scattermode,gap:i.scattergap};P(v,r,t,l,T),P(v,t,r,u,T)}G.exports=function(p,r){p._fullLayout.scattermode==="group"&&o(p,r);var t=r.xaxis,i=r.yaxis,n=t._id+i._id,c=p._fullLayout._scatterStackOpts[n];if(c){var u=p.calcdata,l,g,f,T,h,s,d,A,w,C,b,S,m,a,E;for(var x in c){C=c[x];var k=C.traceIndices;if(k.length){for(b=C.stackgaps==="interpolate",S=C.groupnorm,C.orientation==="v"?(m="x",a="y"):(m="y",a="x"),E=new Array(k.length),l=0;l<E.length;l++)E[l]=!1;s=u[k[0]];var I=new Array(s.length);for(l=0;l<s.length;l++)I[l]=s[l][m];for(l=1;l<k.length;l++){for(h=u[k[l]],g=f=0;g<h.length;g++){for(d=h[g][m];d>I[f]&&f<I.length;f++)L(h,g,I[f],l,E,b,m),g++;if(d!==I[f]){for(T=0;T<l;T++)L(u[k[T]],f,d,T,E,b,m);I.splice(f,0,d)}f++}for(;f<I.length;f++)L(h,g,I[f],l,E,b,m),g++}var N=I.length;for(g=0;g<s.length;g++){for(A=s[g][a]=s[g].s,l=1;l<k.length;l++)h=u[k[l]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=N,A+=h[g].s,h[g][a]=A;if(S)for(w=(S==="fraction"?A:A/100)||1,l=0;l<k.length;l++){var F=u[k[l]][g];F[a]/=w,F.sNorm=F.s/w}}for(l=0;l<k.length;l++){h=u[k[l]];var z=h[0].trace,O=y.calcMarkerSize(z,z._rawLength),_=Array.isArray(O);if(O&&E[l]||_){var B=O;for(O=new Array(N),g=0;g<N;g++)O[g]=h[g].gap?0:_?B[h[g].i]:B}var W=new Array(N),$=new Array(N);for(g=0;g<N;g++)W[g]=h[g].x,$[g]=h[g].y;y.calcAxisExpansion(p,z,t,i,W,$,O),h[0].t.orientation=C.orientation}}}}};function L(v,p,r,t,i,n,c){i[t]=!0;var u={i:null,gap:!0,s:0};if(u[c]=r,v.splice(p,0,u),p&&r===v[p-1][c]){var l=v[p-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else n&&(u.s=M(v,p,r,c));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function M(v,p,r,t){var i=v[p-1],n=v[p+1];return n?i?i.s+(n.s-i.s)*(r-i[t])/(n[t]-i[t]):n.s:i.s}},34936:function(G,V,e){var y=e(71828),P=e(26125),o=e(82196);G.exports=function(M,v){var p,r,t;function i(g){return y.coerce(r._input,r,o,g)}if(v.scattermode==="group")for(t=0;t<M.length;t++)r=M[t],r.type==="scatter"&&(p=r._input,P(p,r,v,i));for(t=0;t<M.length;t++){var n=M[t];if(n.type==="scatter"){var c=n.fill;if(!(c==="none"||c==="toself")&&(n.opacity=void 0,c==="tonexty"||c==="tonextx"))for(var u=t-1;u>=0;u--){var l=M[u];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},17438:function(G,V,e){var y=e(71828),P=e(73972),o=e(82196),L=e(47581),M=e(34098),v=e(67513),p=e(73927),r=e(565),t=e(49508),i=e(11058),n=e(94039),c=e(82410),u=e(28908),l=e(71828).coercePattern;G.exports=function(f,T,h,s){function d(E,x){return y.coerce(f,T,o,E,x)}var A=v(f,T,s,d);if(A||(T.visible=!1),!!T.visible){p(f,T,s,d),d("xhoverformat"),d("yhoverformat");var w=r(f,T,s,d);s.scattermode==="group"&&T.orientation===void 0&&d("orientation","v");var C=!w&&A<L.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),M.hasMarkers(T)&&t(f,T,h,s,d,{gradient:!0}),M.hasLines(T)&&(i(f,T,h,s,d,{backoff:!0}),n(f,T,d),d("connectgaps"),d("line.simplify")),M.hasText(T)&&(d("texttemplate"),c(f,T,s,d));var b=[];(M.hasMarkers(T)||M.hasText(T))&&(d("cliponaxis"),d("marker.maxdisplayed"),b.push("points")),d("fill",w?w.fillDflt:"none"),T.fill!=="none"&&(u(f,T,h,d),M.hasLines(T)||n(f,T,d),l(d,"fillpattern",T.fillcolor,!1));var S=(T.line||{}).color,m=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&b.push("fills"),d("hoveron",b.join("+")||"points"),T.hoveron!=="fills"&&d("hovertemplate");var a=P.getComponentMethod("errorbars","supplyDefaults");a(f,T,S||m||h,{axis:"y"}),a(f,T,S||m||h,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(T,d)}}},28908:function(G,V,e){var y=e(7901),P=e(71828).isArrayOrTypedArray;G.exports=function(L,M,v,p){var r=!1;if(M.marker){var t=M.marker.color,i=(M.marker.line||{}).color;t&&!P(t)?r=t:i&&!P(i)&&(r=i)}p("fillcolor",y.addOpacity((M.line||{}).color||r||v,.5))}},8225:function(G,V,e){var y=e(89298);G.exports=function(o,L,M){var v={},p={_fullLayout:M},r=y.getFromTrace(p,L,"x"),t=y.getFromTrace(p,L,"y"),i=o.orig_x;i===void 0&&(i=o.x);var n=o.orig_y;return n===void 0&&(n=o.y),v.xLabel=y.tickText(r,r.c2l(i),!0).text,v.yLabel=y.tickText(t,t.c2l(n),!0).text,v}},34603:function(G,V,e){var y=e(7901),P=e(34098);G.exports=function(L,M){var v,p;if(L.mode==="lines")return v=L.line.color,v&&y.opacity(v)?v:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var r=M.mcc||(L.marker||{}).color,t=M.mlcc||((L.marker||{}).line||{}).color;return p=r&&y.opacity(r)?r:t&&y.opacity(t)&&(M.mlw||((L.marker||{}).line||{}).width)?t:"",p?y.opacity(p)<.3?y.addOpacity(p,.3):p:(v=(L.line||{}).color,v&&y.opacity(v)&&P.hasLines(L)&&L.line.width?v:L.fillcolor)}},26125:function(G,V,e){var y=e(99082).getAxisGroup;G.exports=function(o,L,M,v){var p=L.orientation,r=L[{v:"x",h:"y"}[p]+"axis"],t=y(M,r)+p,i=M._alignmentOpts||{},n=v("alignmentgroup"),c=i[t];c||(c=i[t]={});var u=c[n];u?u.traces.push(L):u=c[n]={traces:[L],alignmentIndex:Object.keys(c).length,offsetGroups:{}};var l=v("offsetgroup"),g=u.offsetGroups,f=g[l];l&&(f||(f=g[l]={offsetIndex:Object.keys(g).length}),L._offsetIndex=f.offsetIndex)}},33720:function(G,V,e){var y=e(71828),P=e(30211),o=e(73972),L=e(34603),M=e(7901),v=y.fillText;G.exports=function(r,t,i,n){var c=r.cd,u=c[0].trace,l=r.xa,g=r.ya,f=l.c2p(t),T=g.c2p(i),h=[f,T],s=u.hoveron||"",d=u.mode.indexOf("markers")!==-1?3:.5,A=!!u.xperiodalignment,w=!!u.yperiodalignment;if(s.indexOf("points")!==-1){var C=function(fe){if(A){var ye=l.c2p(fe.xStart),Se=l.c2p(fe.xEnd);return f>=Math.min(ye,Se)&&f<=Math.max(ye,Se)?0:1/0}var we=Math.max(3,fe.mrc||0),_e=1-1/we,ke=Math.abs(l.c2p(fe.x)-f);return ke<we?_e*ke/we:ke-we+_e},b=function(fe){if(w){var ye=g.c2p(fe.yStart),Se=g.c2p(fe.yEnd);return T>=Math.min(ye,Se)&&T<=Math.max(ye,Se)?0:1/0}var we=Math.max(3,fe.mrc||0),_e=1-1/we,ke=Math.abs(g.c2p(fe.y)-T);return ke<we?_e*ke/we:ke-we+_e},S=function(fe){var ye=Math.max(d,fe.mrc||0),Se=l.c2p(fe.x)-f,we=g.c2p(fe.y)-T;return Math.max(Math.sqrt(Se*Se+we*we)-ye,1-d/ye)},m=P.getDistanceFunction(n,C,b,S);if(P.getClosest(c,m,r),r.index!==!1){var a=c[r.index],E=l.c2p(a.x,!0),x=g.c2p(a.y,!0),k=a.mrc||1;r.index=a.i;var I=c[0].t.orientation,N=I&&(a.sNorm||a.s),F=I==="h"?N:a.orig_x!==void 0?a.orig_x:a.x,z=I==="v"?N:a.orig_y!==void 0?a.orig_y:a.y;return y.extendFlat(r,{color:L(u,a),x0:E-k,x1:E+k,xLabelVal:F,y0:x-k,y1:x+k,yLabelVal:z,spikeDistance:S(a),hovertemplate:u.hovertemplate}),v(a,u,r),o.getComponentMethod("errorbars","hoverInfo")(a,u,r),[r]}}if(s.indexOf("fills")!==-1&&u._polygons){var O=u._polygons,_=[],B=!1,W=1/0,$=-1/0,te=1/0,ie=-1/0,ue,J,Y,ae,j,q,oe,Q,X;for(ue=0;ue<O.length;ue++)Y=O[ue],Y.contains(h)&&(B=!B,_.push(Y),te=Math.min(te,Y.ymin),ie=Math.max(ie,Y.ymax));if(B){te=Math.max(te,0),ie=Math.min(ie,g._length);var se=(te+ie)/2;for(ue=0;ue<_.length;ue++)for(ae=_[ue].pts,J=1;J<ae.length;J++)Q=ae[J-1][1],X=ae[J][1],Q>se!=X>=se&&(q=ae[J-1][0],oe=ae[J][0],X-Q&&(j=q+(oe-q)*(se-Q)/(X-Q),W=Math.min(W,j),$=Math.max($,j)));W=Math.max(W,0),$=Math.min($,l._length);var ne=M.defaultLine;return M.opacity(u.fillcolor)?ne=u.fillcolor:M.opacity((u.line||{}).color)&&(ne=u.line.color),y.extendFlat(r,{distance:r.maxHoverDistance,x0:W,x1:$,y0:se,y1:se,color:ne,hovertemplate:!1}),delete r.index,u.text&&!y.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},67368:function(G,V,e){var y=e(34098);G.exports={hasLines:y.hasLines,hasMarkers:y.hasMarkers,hasText:y.hasText,isBubble:y.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(G,V,e){var y=e(71828),P=e(21479);G.exports=function(o,L){function M(p,r){return y.coerce(o,L,P,p,r)}var v=L.barmode==="group";L.scattermode==="group"&&M("scattergap",v?L.bargap:.2)}},11058:function(G,V,e){var y=e(71828).isArrayOrTypedArray,P=e(52075).hasColorscale,o=e(1586);G.exports=function(M,v,p,r,t,i){i||(i={});var n=(M.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),P(M,"line"))o(M,v,r,t,{prefix:"line.",cLetter:"c"});else{var c=(y(n)?!1:n)||p;t("line.color",c)}t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},34621:function(G,V,e){var y=e(91424),P=e(50606),o=P.BADNUM,L=P.LOG_CLIP,M=L+.5,v=L-.5,p=e(71828),r=p.segmentsIntersect,t=p.constrain,i=e(47581);G.exports=function(c,u){var l=u.trace||{},g=u.xaxis,f=u.yaxis,T=g.type==="log",h=f.type==="log",s=g._length,d=f._length,A=u.backoff,w=l.marker,C=u.connectGaps,b=u.baseTolerance,S=u.shape,m=S==="linear",a=l.fill&&l.fill!=="none",E=[],x=i.minTolerance,k=c.length,I=new Array(k),N=0,F,z,O,_,B,W,$,te,ie,ue,J,Y,ae,j,q,oe;function Q(ft){var pt=c[ft];if(!pt)return!1;var Yt=u.linearized?g.l2p(pt.x):g.c2p(pt.x),Jt=u.linearized?f.l2p(pt.y):f.c2p(pt.y);if(Yt===o){if(T&&(Yt=g.c2p(pt.x,!0)),Yt===o)return!1;h&&Jt===o&&(Yt*=Math.abs(g._m*d*(g._m>0?M:v)/(f._m*s*(f._m>0?M:v)))),Yt*=1e3}if(Jt===o){if(h&&(Jt=f.c2p(pt.y,!0)),Jt===o)return!1;Jt*=1e3}return[Yt,Jt]}function X(ft,pt,Yt,Jt){var Tt=Yt-ft,_t=Jt-pt,$t=.5-ft,wr=.5-pt,yt=Tt*Tt+_t*_t,jt=Tt*$t+_t*wr;if(jt>0&&jt<yt){var Qt=$t*_t-wr*Tt;if(Qt*Qt<yt)return!0}}var se,ne;function fe(ft,pt){var Yt=ft[0]/s,Jt=ft[1]/d,Tt=Math.max(0,-Yt,Yt-1,-Jt,Jt-1);return Tt&&se!==void 0&&X(Yt,Jt,se,ne)&&(Tt=0),Tt&&pt&&X(Yt,Jt,pt[0]/s,pt[1]/d)&&(Tt=0),(1+i.toleranceGrowth*Tt)*b}function ye(ft,pt){var Yt=ft[0]-pt[0],Jt=ft[1]-pt[1];return Math.sqrt(Yt*Yt+Jt*Jt)}var Se=i.maxScreensAway,we=-s*Se,_e=s*(1+Se),ke=-d*Se,Me=d*(1+Se),me=[[we,ke,_e,ke],[_e,ke,_e,Me],[_e,Me,we,Me],[we,Me,we,ke]],Ee,Be,Ue,De,He,nt;function lt(ft,pt){for(var Yt=[],Jt=0,Tt=0;Tt<4;Tt++){var _t=me[Tt],$t=r(ft[0],ft[1],pt[0],pt[1],_t[0],_t[1],_t[2],_t[3]);$t&&(!Jt||Math.abs($t.x-Yt[0][0])>1||Math.abs($t.y-Yt[0][1])>1)&&($t=[$t.x,$t.y],Jt&&ye($t,ft)<ye(Yt[0],ft)?Yt.unshift($t):Yt.push($t),Jt++)}return Yt}function $e(ft){if(ft[0]<we||ft[0]>_e||ft[1]<ke||ft[1]>Me)return[t(ft[0],we,_e),t(ft[1],ke,Me)]}function qe(ft,pt){if(ft[0]===pt[0]&&(ft[0]===we||ft[0]===_e)||ft[1]===pt[1]&&(ft[1]===ke||ft[1]===Me))return!0}function ct(ft,pt){var Yt=[],Jt=$e(ft),Tt=$e(pt);return Jt&&Tt&&qe(Jt,Tt)||(Jt&&Yt.push(Jt),Tt&&Yt.push(Tt)),Yt}function dt(ft,pt,Yt){return function(Jt,Tt){var _t=$e(Jt),$t=$e(Tt),wr=[];if(_t&&$t&&qe(_t,$t))return wr;_t&&wr.push(_t),$t&&wr.push($t);var yt=2*p.constrain((Jt[ft]+Tt[ft])/2,pt,Yt)-((_t||Jt)[ft]+($t||Tt)[ft]);if(yt){var jt;_t&&$t?jt=yt>0==_t[ft]>$t[ft]?_t:$t:jt=_t||$t,jt[ft]+=yt}return wr}}var gt;S==="linear"||S==="spline"?gt=lt:S==="hv"||S==="vh"?gt=ct:S==="hvh"?gt=dt(0,we,_e):S==="vhv"&&(gt=dt(1,ke,Me));function At(ft,pt){var Yt=pt[0]-ft[0],Jt=(pt[1]-ft[1])/Yt,Tt=(ft[1]*pt[0]-pt[1]*ft[0])/Yt;return Tt>0?[Jt>0?we:_e,Me]:[Jt>0?_e:we,ke]}function Rt(ft){var pt=ft[0],Yt=ft[1],Jt=pt===I[N-1][0],Tt=Yt===I[N-1][1];if(!(Jt&&Tt))if(N>1){var _t=pt===I[N-2][0],$t=Yt===I[N-2][1];Jt&&(pt===we||pt===_e)&&_t?$t?N--:I[N-1]=ft:Tt&&(Yt===ke||Yt===Me)&&$t?_t?N--:I[N-1]=ft:I[N++]=ft}else I[N++]=ft}function Vt(ft){I[N-1][0]!==ft[0]&&I[N-1][1]!==ft[1]&&Rt([Ue,De]),Rt(ft),He=null,Ue=De=0}var Je=p.isArrayOrTypedArray(w);function Ve(ft){if(ft&&A&&(ft.i=F,ft.d=c,ft.trace=l,ft.marker=Je?w[ft.i]:w,ft.backoff=A),se=ft[0]/s,ne=ft[1]/d,Ee=ft[0]<we?we:ft[0]>_e?_e:0,Be=ft[1]<ke?ke:ft[1]>Me?Me:0,Ee||Be){if(!N)I[N++]=[Ee||ft[0],Be||ft[1]];else if(He){var pt=gt(He,ft);pt.length>1&&(Vt(pt[0]),I[N++]=pt[1])}else nt=gt(I[N-1],ft)[0],I[N++]=nt;var Yt=I[N-1];Ee&&Be&&(Yt[0]!==Ee||Yt[1]!==Be)?(He&&(Ue!==Ee&&De!==Be?Rt(Ue&&De?At(He,ft):[Ue||Ee,De||Be]):Ue&&De&&Rt([Ue,De])),Rt([Ee,Be])):Ue-Ee&&De-Be&&Rt([Ee||Ue,Be||De]),He=ft,Ue=Ee,De=Be}else He&&Vt(gt(He,ft)[0]),I[N++]=ft}for(F=0;F<k;F++)if(z=Q(F),!!z){for(N=0,He=null,Ve(z),F++;F<k;F++){if(_=Q(F),!_){if(C)continue;break}if(!m||!u.simplify){Ve(_);continue}var Ie=Q(F+1);if(ue=ye(_,z),!(!(a&&(N===0||N===k-1))&&ue<fe(_,Ie)*x)){for(te=[(_[0]-z[0])/ue,(_[1]-z[1])/ue],B=z,J=ue,Y=j=q=0,$=!1,O=_,F++;F<c.length;F++){if(W=Ie,Ie=Q(F+1),!W){if(C)continue;break}if(ie=[W[0]-z[0],W[1]-z[1]],oe=ie[0]*te[1]-ie[1]*te[0],j=Math.min(j,oe),q=Math.max(q,oe),q-j>fe(W,Ie))break;O=W,ae=ie[0]*te[0]+ie[1]*te[1],ae>J?(J=ae,_=W,$=!1):ae<Y&&(Y=ae,B=W,$=!0)}if($?(Ve(_),O!==B&&Ve(B)):(B!==z&&Ve(B),O!==_&&Ve(_)),Ve(O),F>=c.length||!W)break;Ve(W),z=W}}He&&Rt([Ue||He[0],De||He[1]]),E.push(I.slice(0,N))}var Oe=S.slice(S.length-1);if(A&&Oe!=="h"&&Oe!=="v"){for(var Le=!1,xe=-1,pe=[],Ae=0;Ae<E.length;Ae++)for(var Te=0;Te<E[Ae].length-1;Te++){var Ne=E[Ae][Te],Ye=E[Ae][Te+1],et=y.applyBackoff(Ye,Ne);(et[0]!==Ye[0]||et[1]!==Ye[1])&&(Le=!0),pe[xe+1]||(xe++,pe[xe]=[Ne,[et[0],et[1]]])}return Le?pe:E}return E}},94039:function(G){G.exports=function(e,y,P){var o=P("line.shape");o==="spline"&&P("line.smoothing")}},68687:function(G){var V={tonextx:1,tonexty:1,tonext:1};G.exports=function(y,P,o){var L,M,v,p,r,t={},i=!1,n=-1,c=0,u=-1;for(M=0;M<o.length;M++)L=o[M][0].trace,v=L.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=c,c++):L.fill in V&&u>=0?r=u:(r=u=c,c++),r<n&&(i=!0),L._groupIndex=n=r;var l=o.slice();i&&l.sort(function(f,T){var h=f[0].trace,s=T[0].trace;return h._groupIndex-s._groupIndex||h.index-s.index});var g={};for(M=0;M<l.length;M++)L=l[M][0].trace,v=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in V&&(p=g[v],L._prevtrace=p||null,p&&(p._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),g[v]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return l}},39984:function(G,V,e){var y=e(92770);G.exports=function(o,L){L||(L=2);var M=o.marker,v=M.sizeref||1,p=M.sizemin||0,r=M.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var i=r(t/L);return y(i)&&i>0?Math.max(i,p):0}}},4898:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(G,V,e){var y=e(7901),P=e(52075).hasColorscale,o=e(1586),L=e(34098);G.exports=function(v,p,r,t,i,n){var c=L.isBubble(v),u=(v.line||{}).color,l;if(n=n||{},u&&(r=u),i("marker.symbol"),i("marker.opacity",c?.7:1),i("marker.size"),n.noAngle||(i("marker.angle"),n.noAngleRef||i("marker.angleref"),n.noStandOff||i("marker.standoff")),i("marker.color",r),P(v,"marker")&&o(v,p,t,i,{prefix:"marker.",cLetter:"c"}),n.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),n.noLine||(u&&!Array.isArray(u)&&p.marker.color!==u?l=u:c?l=y.background:l=y.defaultLine,i("marker.line.color",l),P(v,"marker.line")&&o(v,p,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",c?1:0)),c&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),n.gradient){var g=i("marker.gradient.type");g!=="none"&&i("marker.gradient.color")}}},73927:function(G,V,e){var y=e(71828).dateTick0,P=e(50606),o=P.ONEWEEK;function L(M,v){return M%o===0?y(v,1):y(v,0)}G.exports=function(v,p,r,t,i){if(i||(i={x:!0,y:!0}),i.x){var n=t("xperiod");n&&(t("xperiod0",L(n,p.xcalendar)),t("xperiodalignment"))}if(i.y){var c=t("yperiod");c&&(t("yperiod0",L(c,p.ycalendar)),t("yperiodalignment"))}}},32663:function(G,V,e){var y=e(39898),P=e(73972),o=e(71828),L=o.ensureSingle,M=o.identity,v=e(91424),p=e(34098),r=e(34621),t=e(68687),i=e(61082).tester;G.exports=function(g,f,T,h,s,d){var A,w,C=!s,b=!!s&&s.duration>0,S=t(g,f,T);if(A=h.selectAll("g.trace").data(S,function(a){return a[0].trace.uid}),A.enter().append("g").attr("class",function(a){return"trace scatter trace"+a[0].trace.uid}).style("stroke-miterlimit",2),A.order(),n(g,A,f),b){d&&(w=d());var m=y.transition().duration(s.duration).ease(s.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});m.each(function(){h.selectAll("g.trace").each(function(a,E){c(g,E,f,a,S,this,s)})})}else A.each(function(a,E){c(g,E,f,a,S,this,s)});C&&A.exit().remove(),h.selectAll("path:not([d])").remove()};function n(l,g,f){g.each(function(T){var h=L(y.select(this),"g","fills");v.setClipUrl(h,f.layerClipId,l);var s=T[0].trace,d=[];s._ownfill&&d.push("_ownFill"),s._nexttrace&&d.push("_nextFill");var A=h.selectAll("g").data(d,M);A.enter().append("g"),A.exit().each(function(w){s[w]=null}).remove(),A.order().each(function(w){s[w]=L(y.select(this),"path","js-fill")})})}function c(l,g,f,T,h,s,d){var A=l._context.staticPlot,w;u(l,g,f,T,h);var C=!!d&&d.duration>0;function b(De){return C?De.transition():De}var S=f.xaxis,m=f.yaxis,a=T[0].trace,E=a.line,x=y.select(s),k=L(x,"g","errorbars"),I=L(x,"g","lines"),N=L(x,"g","points"),F=L(x,"g","text");if(P.getComponentMethod("errorbars","plot")(l,k,f,d),a.visible!==!0)return;b(x).style("opacity",a.opacity);var z,O,_=a.fill.charAt(a.fill.length-1);_!=="x"&&_!=="y"&&(_=""),T[0][f.isRangePlot?"nodeRangePlot3":"node3"]=x;var B="",W=[],$=a._prevtrace;$&&(B=$._prevRevpath||"",O=$._nextFill,W=$._polygons);var te,ie,ue="",J="",Y,ae,j,q,oe,Q,X,se=[],ne=o.noop;if(z=a._ownFill,p.hasLines(a)||a.fill!=="none"){for(O&&O.datum(T),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(Y=v.steps(E.shape),ae=v.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?Y=ae=function(De){var He=De[De.length-1];return De.length>1&&De[0][0]===He[0]&&De[0][1]===He[1]?v.smoothclosed(De.slice(1),E.smoothing):v.smoothopen(De,E.smoothing)}:Y=ae=function(De){return"M"+De.join("L")},j=function(De){return ae(De.reverse())},se=r(T,{xaxis:S,yaxis:m,trace:a,connectGaps:a.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,backoff:E.backoff,simplify:E.simplify,fill:a.fill}),X=a._polygons=new Array(se.length),w=0;w<se.length;w++)a._polygons[w]=i(se[w]);se.length&&(q=se[0][0],oe=se[se.length-1],Q=oe[oe.length-1]),ne=function(De){return function(He){if(te=Y(He),ie=j(He),ue?_?(ue+="L"+te.substr(1),J=ie+("L"+J.substr(1))):(ue+="Z"+te,J=ie+"Z"+J):(ue=te,J=ie),p.hasLines(a)){var nt=y.select(this);if(nt.datum(T),De)b(nt.style("opacity",0).attr("d",te).call(v.lineGroupStyle)).style("opacity",1);else{var lt=b(nt);lt.attr("d",te),v.singleLineStyle(T,lt)}}}}}var fe=I.selectAll(".js-line").data(se);b(fe.exit()).style("opacity",0).remove(),fe.each(ne(!1)),fe.enter().append("path").classed("js-line",!0).style("vector-effect",A?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ne(!0)),v.setClipUrl(fe,f.layerClipId,l);function ye(De){b(De).attr("d","M0,0Z")}se.length?(z?(z.datum(T),q&&Q&&(_?(_==="y"?q[1]=Q[1]=m.c2p(0,!0):_==="x"&&(q[0]=Q[0]=S.c2p(0,!0)),b(z).attr("d","M"+Q+"L"+q+"L"+ue.substr(1)).call(v.singleFillStyle,l)):b(z).attr("d",ue+"Z").call(v.singleFillStyle,l))):O&&(a.fill.substr(0,6)==="tonext"&&ue&&B?(a.fill==="tonext"?b(O).attr("d",ue+"Z"+B+"Z").call(v.singleFillStyle,l):b(O).attr("d",ue+"L"+B.substr(1)+"Z").call(v.singleFillStyle,l),a._polygons=a._polygons.concat(W)):(ye(O),a._polygons=null)),a._prevRevpath=J,a._prevPolygons=X):(z?ye(z):O&&ye(O),a._polygons=a._prevRevpath=a._prevPolygons=null);function Se(De){return De.filter(function(He){return!He.gap&&He.vis})}function we(De){return De.filter(function(He){return He.vis})}function _e(De){return De.filter(function(He){return!He.gap})}function ke(De){return De.id}function Me(De){if(De.ids)return ke}function me(){return!1}function Ee(De,He,nt){var lt,$e,qe,ct=nt[0].trace,dt=p.hasMarkers(ct),gt=p.hasText(ct),At=Me(ct),Rt=me,Vt=me;if(dt||gt){var Je=M,Ve=ct.stackgroup,Ie=Ve&&l._fullLayout._scatterStackOpts[S._id+m._id][Ve].stackgaps==="infer zero";ct.marker.maxdisplayed||ct._needsCull?Je=Ie?we:Se:Ve&&!Ie&&(Je=_e),dt&&(Rt=Je),gt&&(Vt=Je)}$e=De.selectAll("path.point"),lt=$e.data(Rt,At);var Oe=lt.enter().append("path").classed("point",!0);C&&Oe.call(v.pointStyle,ct,l).call(v.translatePoints,S,m).style("opacity",0).transition().style("opacity",1),lt.order();var Le;dt&&(Le=v.makePointStyleFns(ct)),lt.each(function(xe){var pe=y.select(this),Ae=b(pe);qe=v.translatePoint(xe,Ae,S,m),qe?(v.singlePointStyle(xe,Ae,ct,Le,l),f.layerClipId&&v.hideOutsideRangePoint(xe,Ae,S,m,ct.xcalendar,ct.ycalendar),ct.customdata&&pe.classed("plotly-customdata",xe.data!==null&&xe.data!==void 0)):Ae.remove()}),C?lt.exit().transition().style("opacity",0).remove():lt.exit().remove(),$e=He.selectAll("g"),lt=$e.data(Vt,At),lt.enter().append("g").classed("textpoint",!0).append("text"),lt.order(),lt.each(function(xe){var pe=y.select(this),Ae=b(pe.select("text"));qe=v.translatePoint(xe,Ae,S,m),qe?f.layerClipId&&v.hideOutsideRangePoint(xe,pe,S,m,ct.xcalendar,ct.ycalendar):pe.remove()}),lt.selectAll("text").call(v.textPointStyle,ct,l).each(function(xe){var pe=S.c2p(xe.x),Ae=m.c2p(xe.y);y.select(this).selectAll("tspan.line").each(function(){b(y.select(this)).attr({x:pe,y:Ae})})}),lt.exit().remove()}N.datum(T),F.datum(T),Ee(N,F,T);var Be=a.cliponaxis===!1,Ue=Be?null:f.layerClipId;v.setClipUrl(N,Ue,l),v.setClipUrl(F,Ue,l)}function u(l,g,f,T,h){var s=f.xaxis,d=f.yaxis,A=y.extent(o.simpleMap(s.range,s.r2c)),w=y.extent(o.simpleMap(d.range,d.r2c)),C=T[0].trace;if(p.hasMarkers(C)){var b=C.marker.maxdisplayed;if(b!==0){var S=T.filter(function(x){return x.x>=A[0]&&x.x<=A[1]&&x.y>=w[0]&&x.y<=w[1]}),m=Math.ceil(S.length/b),a=0;h.forEach(function(x,k){var I=x[0].trace;p.hasMarkers(I)&&I.marker.maxdisplayed>0&&k<g&&a++});var E=Math.round(a*m/3+Math.floor(a/3)*m/7.1);T.forEach(function(x){delete x.vis}),S.forEach(function(x,k){Math.round((k+E)%m)===0&&(x.vis=!0)})}}}},98002:function(G,V,e){var y=e(34098);G.exports=function(o,L){var M=o.cd,v=o.xaxis,p=o.yaxis,r=[],t=M[0].trace,i,n,c,u,l=!y.hasMarkers(t)&&!y.hasText(t);if(l)return[];if(L===!1)for(i=0;i<M.length;i++)M[i].selected=0;else for(i=0;i<M.length;i++)n=M[i],c=v.c2p(n.x),u=p.c2p(n.y),n.i!==null&&L.contains([c,u],!1,i,o)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},565:function(G){var V=["orientation","groupnorm","stackgaps"];G.exports=function(y,P,o,L){var M=o._scatterStackOpts,v=L("stackgroup");if(v){var p=P.xaxis+P.yaxis,r=M[p];r||(r=M[p]={});var t=r[v],i=!1;t?t.traces.push(P):(t=r[v]={traceIndices:[],traces:[P]},i=!0);for(var n={orientation:P.x&&!P.y?"h":"v"},c=0;c<V.length;c++){var u=V[c],l=u+"Found";if(!t[l]){var g=y[u]!==void 0,f=u==="orientation";if((g||i)&&(t[u]=L(u,n[u]),f&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),g&&(t[l]=!0,!i&&(delete t.traces[0][u],f))))for(var T=0;T<t.traces.length-1;T++){var h=t.traces[T];h._input.fill!==h.fill&&(h.fill=t.fillDflt)}}}return t}}},16296:function(G,V,e){var y=e(39898),P=e(91424),o=e(73972);function L(r){var t=y.select(r).selectAll("g.trace.scatter");t.style("opacity",function(i){return i[0].trace.opacity}),t.selectAll("g.points").each(function(i){var n=y.select(this),c=i.trace||i[0].trace;M(n,c,r)}),t.selectAll("g.text").each(function(i){var n=y.select(this),c=i.trace||i[0].trace;v(n,c,r)}),t.selectAll("g.trace path.js-line").call(P.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(P.fillGroupStyle,r),o.getComponentMethod("errorbars","style")(t)}function M(r,t,i){P.pointStyle(r.selectAll("path.point"),t,i)}function v(r,t,i){P.textPointStyle(r.selectAll("text"),t,i)}function p(r,t,i){var n=t[0].trace;n.selectedpoints?(P.selectedPointStyle(i.selectAll("path.point"),n),P.selectedTextStyle(i.selectAll("text"),n)):(M(i,n,r),v(i,n,r))}G.exports={style:L,stylePoints:M,styleText:v,styleOnSelect:p}},34098:function(G,V,e){var y=e(71828),P=e(73627).isTypedArraySpec;G.exports={hasLines:function(o){return o.visible&&o.mode&&o.mode.indexOf("lines")!==-1},hasMarkers:function(o){return o.visible&&(o.mode&&o.mode.indexOf("markers")!==-1||o.type==="splom")},hasText:function(o){return o.visible&&o.mode&&o.mode.indexOf("text")!==-1},isBubble:function(o){var L=o.marker;return y.isPlainObject(L)&&(y.isArrayOrTypedArray(L.size)||P(L.size))}}},82410:function(G,V,e){var y=e(71828);G.exports=function(P,o,L,M,v){v=v||{},M("textposition"),y.coerceFont(M,"textfont",v.font||L.font),v.noSelect||(M("selected.textfont.color"),M("unselected.textfont.color"))}},67513:function(G,V,e){var y=e(71828),P=e(73972);G.exports=function(L,M,v,p){var r=p("x"),t=p("y"),i,n=P.getComponentMethod("calendars","handleTraceDefaults");if(n(L,M,["x","y"],v),r){var c=y.minRowLength(r);t?i=Math.min(c,y.minRowLength(t)):(i=c,p("y0"),p("dy"))}else{if(!t)return 0;i=y.minRowLength(t),p("x0"),p("dx")}return M._length=i,i}},44542:function(G,V,e){var y=e(82196),P=e(50693),o=e(12663).axisHoverFormat,L=e(5386).fF,M=e(5386).si,v=e(9012),p=e(29659),r=e(87381),t=e(1426).extendFlat,i=e(30962).overrideAll,n=e(78607),c=y.line,u=y.marker,l=u.line,g=t({width:c.width,dash:{valType:"enumerated",values:n(p),dflt:"solid"}},P("line"));function f(h){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var T=G.exports=i({x:y.x,y:y.y,z:{valType:"data_array"},text:t({},y.text,{}),texttemplate:M({},{}),hovertext:t({},y.hovertext,{}),hovertemplate:L(),xhoverformat:o("x"),yhoverformat:o("y"),zhoverformat:o("z"),mode:t({},y.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:f(),y:f(),z:f()},connectgaps:y.connectgaps,line:g,marker:t({symbol:{valType:"enumerated",values:n(r),dflt:"circle",arrayOk:!0},size:t({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:t({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:t({width:t({},l.width,{arrayOk:!1})},P("marker.line"))},P("marker")),textposition:t({},y.textposition,{dflt:"top center"}),textfont:{color:y.textfont.color,size:y.textfont.size,family:t({},y.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:t({},v.hoverinfo)},"calc","nested");T.x.editType=T.y.editType=T.z.editType="calc+clearAxisTypes"},36563:function(G,V,e){var y=e(75225),P=e(36922);G.exports=function(L,M){var v=[{x:!1,y:!1,trace:M,t:{}}];return y(v,M),P(L,M),v}},67336:function(G,V,e){var y=e(73972);function P(M,v,p,r){if(!v||!v.visible)return null;for(var t=y.getComponentMethod("errorbars","makeComputeError")(v),i=new Array(M.length),n=0;n<M.length;n++){var c=t(+M[n],n);if(r.type==="log"){var u=r.c2l(M[n]),l=M[n]-c[0],g=M[n]+c[1];if(i[n]=[(r.c2l(l,!0)-u)*p,(r.c2l(g,!0)-u)*p],l>0){var f=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=f),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,f)}}else i[n]=[-c[0]*p,c[1]*p]}return i}function o(M){for(var v=0;v<M.length;v++)if(M[v])return M[v].length;return 0}function L(M,v,p){var r=[P(M.x,M.error_x,v[0],p.xaxis),P(M.y,M.error_y,v[1],p.yaxis),P(M.z,M.error_z,v[2],p.zaxis)],t=o(r);if(t===0)return null;for(var i=new Array(t),n=0;n<t;n++){for(var c=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var l=0;l<2;l++)c[l][u]=r[u][n][l];i[n]=c}return i}G.exports=L},58925:function(G,V,e){var y=e(9330).gl_line3d,P=e(9330).gl_scatter3d,o=e(9330).gl_error3d,L=e(9330).gl_mesh3d,M=e(9330).delaunay_triangulate,v=e(71828),p=e(78614),r=e(81697).formatColor,t=e(39984),i=e(29659),n=e(87381),c=e(89298),u=e(23469).appendArrayPointValue,l=e(67336);function g(x,k){this.scene=x,this.uid=k,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var f=g.prototype;f.handlePick=function(x){if(x.object&&(x.object===this.linePlot||x.object===this.delaunayMesh||x.object===this.textMarkers||x.object===this.scatterPlot)){var k=x.index=x.data.index;return x.object.highlight&&x.object.highlight(null),this.scatterPlot&&(x.object=this.scatterPlot,this.scatterPlot.highlight(x.data)),x.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[k]||this.textLabels[k]===0)&&(x.textLabel=this.textLabels[k]):x.textLabel=this.textLabels),x.traceCoordinate=[this.data.x[k],this.data.y[k],this.data.z[k]],!0}};function T(x,k,I){var N=(I+1)%3,F=(I+2)%3,z=[],O=[],_;for(_=0;_<x.length;++_){var B=x[_];isNaN(B[N])||!isFinite(B[N])||isNaN(B[F])||!isFinite(B[F])||(z.push([B[N],B[F]]),O.push(_))}var W=M(z);for(_=0;_<W.length;++_)for(var $=W[_],te=0;te<$.length;++te)$[te]=O[$[te]];return{positions:x,cells:W,meshColor:k}}function h(x){for(var k=[0,0,0],I=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],F=0;F<3;F++){var z=x[F];z&&z.copy_zstyle!==!1&&x[2].visible!==!1&&(z=x[2]),!(!z||!z.visible)&&(k[F]=z.width/2,I[F]=p(z.color),N[F]=z.thickness)}return{capSize:k,color:I,lineWidth:N}}function s(x){return x==null?0:x.indexOf("left")>-1?-1:x.indexOf("right")>-1?1:0}function d(x){return x==null?0:x.indexOf("top")>-1?-1:x.indexOf("bottom")>-1?1:0}function A(x){var k=0,I=0,N=[k,I];if(Array.isArray(x))for(var F=0;F<x.length;F++)N[F]=[k,I],x[F]&&(N[F][0]=s(x[F]),N[F][1]=d(x[F]));else N[0]=s(x),N[1]=d(x);return N}function w(x,k){return k(x*4)}function C(x){return n[x]}function b(x,k,I,N,F){var z=null;if(v.isArrayOrTypedArray(x)){z=[];for(var O=0;O<k;O++)x[O]===void 0?z[O]=N:z[O]=I(x[O],F)}else z=I(x,v.identity);return z}function S(x,k){var I=[],N=x.fullSceneLayout,F=x.dataScale,z=N.xaxis,O=N.yaxis,_=N.zaxis,B=k.marker,W=k.line,$=k.x||[],te=k.y||[],ie=k.z||[],ue=$.length,J=k.xcalendar,Y=k.ycalendar,ae=k.zcalendar,j,q,oe,Q,X,se;for(X=0;X<ue;X++)j=z.d2l($[X],0,J)*F[0],q=O.d2l(te[X],0,Y)*F[1],oe=_.d2l(ie[X],0,ae)*F[2],I[X]=[j,q,oe];if(Array.isArray(k.text))se=k.text;else if(v.isTypedArray(k.text))se=Array.from(k.text);else if(k.text!==void 0)for(se=new Array(ue),X=0;X<ue;X++)se[X]=k.text;function ne(lt,$e){var qe=N[lt];return c.tickText(qe,qe.d2l($e),!0).text}var fe=k.texttemplate;if(fe){var ye=x.fullLayout,Se=ye._d3locale,we=Array.isArray(fe),_e=we?Math.min(fe.length,ue):ue,ke=we?function(lt){return fe[lt]}:function(){return fe};for(se=new Array(_e),X=0;X<_e;X++){var Me={x:$[X],y:te[X],z:ie[X]},me={xLabel:ne("xaxis",$[X]),yLabel:ne("yaxis",te[X]),zLabel:ne("zaxis",ie[X])},Ee={};u(Ee,k,X);var Be=k._meta||{};se[X]=v.texttemplateString(ke(X),me,Se,Ee,Me,Be)}}if(Q={position:I,mode:k.mode,text:se},"line"in k&&(Q.lineColor=r(W,1,ue),Q.lineWidth=W.width,Q.lineDashes=W.dash),"marker"in k){var Ue=t(k);Q.scatterColor=r(B,1,ue),Q.scatterSize=b(B.size,ue,w,20,Ue),Q.scatterMarker=b(B.symbol,ue,C,""),Q.scatterLineWidth=B.line.width,Q.scatterLineColor=r(B.line,1,ue),Q.scatterAngle=0}"textposition"in k&&(Q.textOffset=A(k.textposition),Q.textColor=r(k.textfont,1,ue),Q.textSize=b(k.textfont.size,ue,v.identity,12),Q.textFont=k.textfont.family,Q.textAngle=0);var De=["x","y","z"];for(Q.project=[!1,!1,!1],Q.projectScale=[1,1,1],Q.projectOpacity=[1,1,1],X=0;X<3;++X){var He=k.projection[De[X]];(Q.project[X]=He.show)&&(Q.projectOpacity[X]=He.opacity,Q.projectScale[X]=He.scale)}Q.errorBounds=l(k,F,N);var nt=h([k.error_x,k.error_y,k.error_z]);return Q.errorColor=nt.color,Q.errorLineWidth=nt.lineWidth,Q.errorCapSize=nt.capSize,Q.delaunayAxis=k.surfaceaxis,Q.delaunayColor=p(k.surfacecolor),Q}function m(x){if(v.isArrayOrTypedArray(x)){var k=x[0];return v.isArrayOrTypedArray(k)&&(x=k),"rgb("+x.slice(0,3).map(function(I){return Math.round(I*255)})+")"}return null}function a(x){return v.isArrayOrTypedArray(x)?x.length===4&&typeof x[0]=="number"?m(x):x.map(m):null}f.update=function(x){var k=this.scene.glplot.gl,I,N,F,z,O=i.solid;this.data=x;var _=S(this.scene,x);"mode"in _&&(this.mode=_.mode),"lineDashes"in _&&_.lineDashes in i&&(O=i[_.lineDashes]),this.color=a(_.scatterColor)||a(_.lineColor),this.dataPoints=_.position,I={gl:this.scene.glplot.gl,position:_.position,color:_.lineColor,lineWidth:_.lineWidth||1,dashes:O[0],dashScale:O[1],opacity:x.opacity,connectGaps:x.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(I):(this.linePlot=y(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var B=x.opacity;if(x.marker&&x.marker.opacity!==void 0&&(B*=x.marker.opacity),N={gl:this.scene.glplot.gl,position:_.position,color:_.scatterColor,size:_.scatterSize,glyph:_.scatterMarker,opacity:B,orthographic:!0,lineWidth:_.scatterLineWidth,lineColor:_.scatterLineColor,project:_.project,projectScale:_.projectScale,projectOpacity:_.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=P(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),z={gl:this.scene.glplot.gl,position:_.position,glyph:_.text,color:_.textColor,size:_.textSize,angle:_.textAngle,alignment:_.textOffset,font:_.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:x.opacity},this.textLabels=x.hovertext||x.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(z):(this.textMarkers=P(z),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),F={gl:this.scene.glplot.gl,position:_.position,color:_.errorColor,error:_.errorBounds,lineWidth:_.errorLineWidth,capSize:_.errorCapSize,opacity:x.opacity},this.errorBars?_.errorBounds?this.errorBars.update(F):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):_.errorBounds&&(this.errorBars=o(F),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),_.delaunayAxis>=0){var W=T(_.position,_.delaunayColor,_.delaunayAxis);W.opacity=x.opacity,this.delaunayMesh?this.delaunayMesh.update(W):(W.gl=k,this.delaunayMesh=L(W),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},f.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function E(x,k){var I=new g(x,k.uid);return I.update(k),I}G.exports=E},21428:function(G,V,e){var y=e(73972),P=e(71828),o=e(34098),L=e(49508),M=e(11058),v=e(82410),p=e(44542);G.exports=function(i,n,c,u){function l(w,C){return P.coerce(i,n,p,w,C)}var g=r(i,n,l,u);if(!g){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),o.hasMarkers(n)&&L(i,n,c,u,l,{noSelect:!0,noAngle:!0}),o.hasLines(n)&&(l("connectgaps"),M(i,n,c,u,l)),o.hasText(n)&&(l("texttemplate"),v(i,n,u,l,{noSelect:!0}));var f=(n.line||{}).color,T=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",f||T);for(var h=["x","y","z"],s=0;s<3;++s){var d="projection."+h[s];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var A=y.getComponentMethod("errorbars","supplyDefaults");A(i,n,f||T||c,{axis:"z"}),A(i,n,f||T||c,{axis:"y",inherit:"z"}),A(i,n,f||T||c,{axis:"x",inherit:"z"})};function r(t,i,n,c){var u=0,l=n("x"),g=n("y"),f=n("z"),T=y.getComponentMethod("calendars","handleTraceDefaults");return T(t,i,["x","y","z"],c),l&&g&&f&&(u=Math.min(l.length,g.length,f.length),i._length=i._xlength=i._ylength=i._zlength=u),u}},13551:function(G,V,e){G.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(G,V,e){var y=e(82196),P=e(9012),o=e(5386).fF,L=e(5386).si,M=e(50693),v=e(1426).extendFlat,p=y.marker,r=y.line,t=p.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},y.mode,{dflt:"markers"}),text:v({},y.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},y.hovertext,{}),line:{color:r.color,width:r.width,dash:r.dash,backoff:r.backoff,shape:v({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:y.connectgaps,fill:v({},y.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:y.fillcolor,marker:v({symbol:p.symbol,opacity:p.opacity,maxdisplayed:p.maxdisplayed,angle:p.angle,angleref:p.angleref,standoff:p.standoff,size:p.size,sizeref:p.sizeref,sizemin:p.sizemin,sizemode:p.sizemode,line:v({width:t.width,editType:"calc"},M("marker.line")),gradient:p.gradient,editType:"calc"},M("marker")),textfont:y.textfont,textposition:y.textposition,selected:y.selected,unselected:y.unselected,hoverinfo:v({},P.hoverinfo,{flags:["a","b","text","name"]}),hoveron:y.hoveron,hovertemplate:o()}},34618:function(G,V,e){var y=e(92770),P=e(36922),o=e(75225),L=e(66279),M=e(47761).calcMarkerSize,v=e(22882);G.exports=function(r,t){var i=t._carpetTrace=v(r,t);if(!(!i||!i.visible||i.visible==="legendonly")){var n;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var c=t._length,u=new Array(c),l,g,f=!1;for(n=0;n<c;n++)if(l=t.a[n],g=t.b[n],y(l)&&y(g)){var T=i.ab2xy(+l,+g,!0),h=i.isVisible(+l,+g);h||(f=!0),u[n]={x:T[0],y:T[1],a:l,b:g,vis:h}}else u[n]={x:!1,y:!1};return t._needsCull=f,u[0].carpet=i,u[0].trace=t,M(t,c),P(r,t),o(u,t),L(u,t),u}}},98965:function(G,V,e){var y=e(71828),P=e(47581),o=e(34098),L=e(49508),M=e(11058),v=e(94039),p=e(82410),r=e(28908),t=e(97001);G.exports=function(n,c,u,l){function g(w,C){return y.coerce(n,c,t,w,C)}g("carpet"),c.xaxis="x",c.yaxis="y";var f=g("a"),T=g("b"),h=Math.min(f.length,T.length);if(!h){c.visible=!1;return}c._length=h,g("text"),g("texttemplate"),g("hovertext");var s=h<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",s),o.hasMarkers(c)&&L(n,c,u,l,g,{gradient:!0}),o.hasLines(c)&&(M(n,c,u,l,g,{backoff:!0}),v(n,c,g),g("connectgaps")),o.hasText(c)&&p(n,c,l,g);var d=[];(o.hasMarkers(c)||o.hasText(c))&&(g("marker.maxdisplayed"),d.push("points")),g("fill"),c.fill!=="none"&&(r(n,c,u,g),o.hasLines(c)||v(n,c,g)),(c.fill==="tonext"||c.fill==="toself")&&d.push("fills");var A=g("hoveron",d.join("+")||"points");A!=="fills"&&g("hovertemplate"),y.coerceSelectionMarkerOpacity(c,g)}},16165:function(G){G.exports=function(e,y,P,o,L){var M=o[L];return e.a=M.a,e.b=M.b,e.y=M.y,e}},48953:function(G){G.exports=function(e,y){var P={},o=y._carpet,L=o.ab2ij([e.a,e.b]),M=Math.floor(L[0]),v=L[0]-M,p=Math.floor(L[1]),r=L[1]-p,t=o.evalxy([],M,p,v,r);return P.yLabel=t[1].toFixed(3),P}},22931:function(G,V,e){var y=e(33720),P=e(71828).fillText;G.exports=function(L,M,v,p){var r=y(L,M,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var i=1-t.y0/L.ya._length,n=L.xa._length,c=n*i/2,u=n-c;return t.x0=Math.max(Math.min(t.x0,u),c),t.x1=Math.max(Math.min(t.x1,u),c),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var g=t.trace,f=g._carpet,T=g._module.formatLabels(l,g);t.yLabel=T.yLabel,delete t.text;var h=[];function s(w,C){var b;w.labelprefix&&w.labelprefix.length>0?b=w.labelprefix.replace(/ = $/,""):b=w._hovertitle,h.push(b+": "+C.toFixed(3)+w.labelsuffix)}if(!g.hovertemplate){var d=l.hi||g.hoverinfo,A=d.split("+");A.indexOf("all")!==-1&&(A=["a","b","text"]),A.indexOf("a")!==-1&&s(f.aaxis,l.a),A.indexOf("b")!==-1&&s(f.baxis,l.b),h.push("y: "+t.yLabel),A.indexOf("text")!==-1&&P(l,g,h),t.extraText=h.join("<br>")}return r}},46858:function(G,V,e){G.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(G,V,e){var y=e(32663),P=e(89298),o=e(91424);G.exports=function(M,v,p,r){var t,i,n,c=p[0][0].carpet,u=P.getFromId(M,c.xaxis||"x"),l=P.getFromId(M,c.yaxis||"y"),g={xaxis:u,yaxis:l,plot:v.plot};for(t=0;t<p.length;t++)i=p[t][0].trace,i._xA=u,i._yA=l;for(y(M,g,p,r),t=0;t<p.length;t++)i=p[t][0].trace,n=r.selectAll("g.trace"+i.uid+" .js-line"),o.setClipUrl(n,p[t][0].carpet._clipPathId,M)}},19316:function(G,V,e){var y=e(5386).fF,P=e(5386).si,o=e(82196),L=e(9012),M=e(50693),v=e(79952).P,p=e(1426).extendFlat,r=e(30962).overrideAll,t=o.marker,i=o.line,n=t.line;G.exports=r({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:p({},o.mode,{dflt:"markers"}),text:p({},o.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:p({},o.hovertext,{}),textfont:o.textfont,textposition:o.textposition,line:{color:i.color,width:i.width,dash:v},connectgaps:o.connectgaps,marker:p({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:p({},t.angleref,{values:["previous","up","north"]}),standoff:t.standoff,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,colorbar:t.colorbar,line:p({width:n.width},M("marker.line")),gradient:t.gradient},M("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:o.fillcolor,selected:o.selected,unselected:o.unselected,hoverinfo:p({},L.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:y()},"calc","nested")},84622:function(G,V,e){var y=e(92770),P=e(50606).BADNUM,o=e(36922),L=e(75225),M=e(66279),v=e(71828).isArrayOrTypedArray,p=e(71828)._;function r(t){return t&&typeof t=="string"}G.exports=function(i,n){var c=v(n.locations),u=c?n.locations.length:n._length,l=new Array(u),g;n.geojson?g=function(A){return r(A)||y(A)}:g=r;for(var f=0;f<u;f++){var T=l[f]={};if(c){var h=n.locations[f];T.loc=g(h)?h:null}else{var s=n.lon[f],d=n.lat[f];y(s)&&y(d)?T.lonlat=[+s,+d]:T.lonlat=[P,P]}}return L(l,n),o(i,n),M(l,n),u&&(l[0].t={labels:{lat:p(i,"lat:")+" ",lon:p(i,"lon:")+" "}}),l}},10659:function(G,V,e){var y=e(71828),P=e(34098),o=e(49508),L=e(11058),M=e(82410),v=e(28908),p=e(19316);G.exports=function(t,i,n,c){function u(A,w){return y.coerce(t,i,p,A,w)}var l=u("locations"),g;if(l&&l.length){var f=u("geojson"),T;(typeof f=="string"&&f!==""||y.isPlainObject(f))&&(T="geojson-id");var h=u("locationmode",T);h==="geojson-id"&&u("featureidkey"),g=l.length}else{var s=u("lon")||[],d=u("lat")||[];g=Math.min(s.length,d.length)}if(!g){i.visible=!1;return}i._length=g,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),P.hasMarkers(i)&&o(t,i,n,c,u,{gradient:!0}),P.hasLines(i)&&(L(t,i,n,c,u),u("connectgaps")),P.hasText(i)&&(u("texttemplate"),M(t,i,c,u)),u("fill"),i.fill!=="none"&&v(t,i,n,u),y.coerceSelectionMarkerOpacity(i,u)}},84084:function(G){G.exports=function(e,y,P,o,L){e.lon=y.lon,e.lat=y.lat,e.location=y.loc?y.loc:null;var M=o[L];return M.fIn&&M.fIn.properties&&(e.properties=M.fIn.properties),e}},82719:function(G,V,e){var y=e(89298);G.exports=function(o,L,M){var v={},p=M[L.geo]._subplot,r=p.mockAxis,t=o.lonlat;return v.lonLabel=y.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=y.tickText(r,r.c2l(t[1]),!0).text,v}},14977:function(G,V,e){var y=e(30211),P=e(50606).BADNUM,o=e(34603),L=e(71828).fillText,M=e(19316);G.exports=function(r,t,i){var n=r.cd,c=n[0].trace,u=r.xa,l=r.ya,g=r.subplot,f=g.projection.isLonLatOverEdges,T=g.project;function h(S){var m=S.lonlat;if(m[0]===P||f(m))return 1/0;var a=T(m),E=T([t,i]),x=Math.abs(a[0]-E[0]),k=Math.abs(a[1]-E[1]),I=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(x*x+k*k)-I,1-3/I)}if(y.getClosest(n,h,r),r.index!==!1){var s=n[r.index],d=s.lonlat,A=[u.c2p(d),l.c2p(d)],w=s.mrc||1;r.x0=A[0]-w,r.x1=A[0]+w,r.y0=A[1]-w,r.y1=A[1]+w,r.loc=s.loc,r.lon=d[0],r.lat=d[1];var C={};C[c.geo]={_subplot:g};var b=c._module.formatLabels(s,c,C);return r.lonLabel=b.lonLabel,r.latLabel=b.latLabel,r.color=o(c,s),r.extraText=v(c,s,r,n[0].t.labels),r.hovertemplate=c.hovertemplate,[r]}};function v(p,r,t,i){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,c=n==="all"?M.hoverinfo.flags:n.split("+"),u=c.indexOf("location")!==-1&&Array.isArray(p.locations),l=c.indexOf("lon")!==-1,g=c.indexOf("lat")!==-1,f=c.indexOf("text")!==-1,T=[];function h(s){return s+""}return u?T.push(r.loc):l&&g?T.push("("+h(t.latLabel)+", "+h(t.lonLabel)+")"):l?T.push(i.lon+h(t.lonLabel)):g&&T.push(i.lat+h(t.latLabel)),f&&L(r,p,T),T.join("<br>")}},17988:function(G,V,e){G.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(G,V,e){var y=e(39898),P=e(71828),o=e(90973).getTopojsonFeatures,L=e(18214),M=e(41327),v=e(71739).findExtremes,p=e(50606).BADNUM,r=e(47761).calcMarkerSize,t=e(34098),i=e(33095);function n(u,l,g){var f=l.layers.frontplot.select(".scatterlayer"),T=P.makeTraceGroups(f,g,"trace scattergeo");function h(s,d){s.lonlat[0]===p&&y.select(d).remove()}T.selectAll("*").remove(),T.each(function(s){var d=y.select(this),A=s[0].trace;if(t.hasLines(A)||A.fill!=="none"){var w=L.calcTraceToLineCoords(s),C=A.fill!=="none"?L.makePolygon(w):L.makeLine(w);d.selectAll("path.js-line").data([{geojson:C,trace:A}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(A)&&d.selectAll("path.point").data(P.identity).enter().append("path").classed("point",!0).each(function(b){h(b,this)}),t.hasText(A)&&d.selectAll("g").data(P.identity).enter().append("g").append("text").each(function(b){h(b,this)}),i(u,s)})}function c(u,l){var g=u[0].trace,f=l[g.geo],T=f._subplot,h=g._length,s,d;if(P.isArrayOrTypedArray(g.locations)){var A=g.locationmode,w=A==="geojson-id"?M.extractTraceFeature(u):o(g,T.topojson);for(s=0;s<h;s++){d=u[s];var C=A==="geojson-id"?d.fOut:M.locationToFeature(A,d.loc,w);d.lonlat=C?C.properties.ct:[p,p]}}var b={padded:!0},S,m;if(f.fitbounds==="geojson"&&g.locationmode==="geojson-id"){var a=M.computeBbox(M.getTraceGeojson(g));S=[a[0],a[2]],m=[a[1],a[3]]}else{for(S=new Array(h),m=new Array(h),s=0;s<h;s++)d=u[s],S[s]=d.lonlat[0],m[s]=d.lonlat[1];b.ppad=r(g,h)}g._extremes.lon=v(f.lonaxis._ax,S,b),g._extremes.lat=v(f.lataxis._ax,m,b)}G.exports={calcGeoJSON:c,plot:n}},20548:function(G,V,e){var y=e(34098),P=e(50606).BADNUM;G.exports=function(L,M){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],i=v[0].trace,n,c,u,l,g,f=!y.hasMarkers(i)&&!y.hasText(i);if(f)return[];if(M===!1)for(g=0;g<v.length;g++)v[g].selected=0;else for(g=0;g<v.length;g++)n=v[g],c=n.lonlat,c[0]!==P&&(u=p.c2p(c),l=r.c2p(c),M.contains([u,l],null,g,L)?(t.push({pointNumber:g,lon:c[0],lat:c[1]}),n.selected=1):n.selected=0);return t}},33095:function(G,V,e){var y=e(39898),P=e(91424),o=e(7901),L=e(16296),M=L.stylePoints,v=L.styleText;G.exports=function(t,i){i&&p(t,i)};function p(r,t){var i=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),M(n,i,r),v(n,i,r),n.selectAll("path.js-line").style("fill","none").each(function(c){var u=y.select(this),l=c.trace,g=l.line||{};u.call(o.stroke,g.color).call(P.dashLine,g.dash||"",g.width||0),l.fill!=="none"&&u.call(o.fill,l.fillcolor)})}},42341:function(G,V,e){var y=e(9012),P=e(82196),o=e(12663).axisHoverFormat,L=e(50693),M=e(78607),v=e(1426).extendFlat,p=e(30962).overrideAll,r=e(78232).DASHES,t=P.line,i=P.marker,n=i.line,c=G.exports=p({x:P.x,x0:P.x0,dx:P.dx,y:P.y,y0:P.y0,dy:P.dy,xperiod:P.xperiod,yperiod:P.yperiod,xperiod0:P.xperiod0,yperiod0:P.yperiod0,xperiodalignment:P.xperiodalignment,yperiodalignment:P.yperiodalignment,xhoverformat:o("x"),yhoverformat:o("y"),text:P.text,hovertext:P.hovertext,textposition:P.textposition,textfont:P.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:t.color,width:t.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:M(r),dflt:"solid"}},marker:v({},L("marker"),{symbol:i.symbol,angle:i.angle,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:v({},L("marker.line"),{width:n.width})}),connectgaps:P.connectgaps,fill:v({},P.fill,{dflt:"none"}),fillcolor:P.fillcolor,selected:{marker:P.selected.marker,textfont:P.selected.textfont},unselected:{marker:P.unselected.marker,textfont:P.unselected.textfont},opacity:y.opacity},"calc","nested");c.x.editType=c.y.editType=c.x0.editType=c.y0.editType="calc+clearAxisTypes",c.hovertemplate=P.hovertemplate,c.texttemplate=P.texttemplate},72156:function(G,V,e){var y=e(20794);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:y.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(G,V,e){var y=e(88294),P=e(71828),o=e(41675),L=e(71739).findExtremes,M=e(42973),v=e(47761),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,i=e(36922),n=e(19635),c=e(38967),u=e(50606).BADNUM,l=e(78232).TOO_MANY_POINTS;G.exports=function(h,s){var d=h._fullLayout,A=s._xA=o.getFromId(h,s.xaxis,"x"),w=s._yA=o.getFromId(h,s.yaxis,"y"),C=d._plots[s.xaxis+s.yaxis],b=s._length,S=b>=l,m=b*2,a={},E,x=A.makeCalcdata(s,"x"),k=w.makeCalcdata(s,"y"),I=M(s,A,"x",x),N=M(s,w,"y",k),F=I.vals,z=N.vals;s._x=F,s._y=z,s.xperiodalignment&&(s._origX=x,s._xStarts=I.starts,s._xEnds=I.ends),s.yperiodalignment&&(s._origY=k,s._yStarts=N.starts,s._yEnds=N.ends);var O=new Array(m),_=new Array(b);for(E=0;E<b;E++)O[E*2]=F[E]===u?NaN:F[E],O[E*2+1]=z[E]===u?NaN:z[E],_[E]=E;if(A.type==="log")for(E=0;E<m;E+=2)O[E]=A.c2l(O[E]);if(w.type==="log")for(E=1;E<m;E+=2)O[E]=w.c2l(O[E]);S&&A.type!=="log"&&w.type!=="log"?a.tree=y(O):a.ids=_,i(h,s);var B=f(h,C,s,O,F,z),W=c(h,C);t(d,s);var $;return S?B.marker&&($=B.marker.sizeAvg||Math.max(B.marker.size,3)):$=p(s,b),r(h,s,A,w,F,z,$),B.errorX&&g(s,A,B.errorX),B.errorY&&g(s,w,B.errorY),B.fill&&!W.fill2d&&(W.fill2d=!0),B.marker&&!W.scatter2d&&(W.scatter2d=!0),B.line&&!W.line2d&&(W.line2d=!0),(B.errorX||B.errorY)&&!W.error2d&&(W.error2d=!0),B.text&&!W.glText&&(W.glText=!0),B.marker&&(B.marker.snap=b),W.lineOptions.push(B.line),W.errorXOptions.push(B.errorX),W.errorYOptions.push(B.errorY),W.fillOptions.push(B.fill),W.markerOptions.push(B.marker),W.markerSelectedOptions.push(B.markerSel),W.markerUnselectedOptions.push(B.markerUnsel),W.textOptions.push(B.text),W.textSelectedOptions.push(B.textSel),W.textUnselectedOptions.push(B.textUnsel),W.selectBatch.push([]),W.unselectBatch.push([]),a._scene=W,a.index=W.count,a.x=F,a.y=z,a.positions=O,W.count++,[{x:!1,y:!1,t:a,trace:s}]};function g(T,h,s){var d=T._extremes[h._id],A=L(h,s._bnds,{padded:!0});d.min=d.min.concat(A.min),d.max=d.max.concat(A.max)}function f(T,h,s,d,A,w){var C=n.style(T,s);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&P.extendFlat(C.line,n.linePositions(T,s,d)),C.errorX||C.errorY){var b=n.errorBarPositions(T,s,d,A,w);C.errorX&&P.extendFlat(C.errorX,b.x),C.errorY&&P.extendFlat(C.errorY,b.y)}return C.text&&(P.extendFlat(C.text,{positions:d},n.textPosition(T,s,C.text,C.marker)),P.extendFlat(C.textSel,{positions:d},n.textPosition(T,s,C.text,C.markerSel)),P.extendFlat(C.textUnsel,{positions:d},n.textPosition(T,s,C.text,C.markerUnsel))),C}},78232:function(G){var V=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:V,SYMBOL_STROKE:V/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(G,V,e){var y=e(92770),P=e(82019),o=e(25075),L=e(73972),M=e(71828),v=M.isArrayOrTypedArray,p=e(91424),r=e(41675),t=e(81697).formatColor,i=e(34098),n=e(39984),c=e(68645),u=e(78232),l=e(37822).DESELECTDIM,g={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},f=e(23469).appendArrayPointValue;function T(N,F){var z,O={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},_=N._context.plotGlPixelRatio;if(F.visible!==!0)return O;if(i.hasText(F)&&(O.text=h(N,F),O.textSel=A(N,F,F.selected),O.textUnsel=A(N,F,F.unselected)),i.hasMarkers(F)&&(O.marker=s(N,F),O.markerSel=d(N,F,F.selected),O.markerUnsel=d(N,F,F.unselected),!F.unselected&&v(F.marker.opacity))){var B=F.marker.opacity;for(O.markerUnsel.opacity=new Array(B.length),z=0;z<B.length;z++)O.markerUnsel.opacity[z]=l*B[z]}if(i.hasLines(F)){O.line={overlay:!0,thickness:F.line.width*_,color:F.line.color,opacity:F.opacity};var W=(u.DASHES[F.line.dash]||[1]).slice();for(z=0;z<W.length;++z)W[z]*=F.line.width*_;O.line.dashes=W}return F.error_x&&F.error_x.visible&&(O.errorX=w(F,F.error_x,_)),F.error_y&&F.error_y.visible&&(O.errorY=w(F,F.error_y,_)),F.fill&&F.fill!=="none"&&(O.fill={closed:!0,fill:F.fillcolor,thickness:0}),O}function h(N,F){var z=N._fullLayout,O=F._length,_=F.textfont,B=F.textposition,W=v(B)?B:[B],$=_.color,te=_.size,ie=_.family,ue={},J,Y=N._context.plotGlPixelRatio,ae=F.texttemplate;if(ae){ue.text=[];var j=z._d3locale,q=Array.isArray(ae),oe=q?Math.min(ae.length,O):O,Q=q?function(we){return ae[we]}:function(){return ae};for(J=0;J<oe;J++){var X={i:J},se=F._module.formatLabels(X,F,z),ne={};f(ne,F,J);var fe=F._meta||{};ue.text.push(M.texttemplateString(Q(J),se,j,ne,X,fe))}}else v(F.text)&&F.text.length<O?ue.text=F.text.slice():ue.text=F.text;if(v(ue.text))for(J=ue.text.length;J<O;J++)ue.text[J]="";for(ue.opacity=F.opacity,ue.font={},ue.align=[],ue.baseline=[],J=0;J<W.length;J++){var ye=W[J].split(/\s+/);switch(ye[1]){case"left":ue.align.push("right");break;case"right":ue.align.push("left");break;default:ue.align.push(ye[1])}switch(ye[0]){case"top":ue.baseline.push("bottom");break;case"bottom":ue.baseline.push("top");break;default:ue.baseline.push(ye[0])}}if(v($))for(ue.color=new Array(O),J=0;J<O;J++)ue.color[J]=$[J];else ue.color=$;if(v(te)||v(ie))for(ue.font=new Array(O),J=0;J<O;J++){var Se=ue.font[J]={};Se.size=(M.isTypedArray(te)?te[J]:v(te)?y(te[J])?te[J]:0:te)*Y,Se.family=v(ie)?ie[J]:ie}else ue.font={size:te*Y,family:ie};return ue}function s(N,F){var z=F._length,O=F.marker,_={},B,W=v(O.symbol),$=v(O.angle),te=v(O.color),ie=v(O.line.color),ue=v(O.opacity),J=v(O.size),Y=v(O.line.width),ae;if(W||(ae=c.isOpenSymbol(O.symbol)),W||te||ie||ue||$){_.symbols=new Array(z),_.angles=new Array(z),_.colors=new Array(z),_.borderColors=new Array(z);var j=O.symbol,q=O.angle,oe=t(O,O.opacity,z),Q=t(O.line,O.opacity,z);if(!v(Q[0])){var X=Q;for(Q=Array(z),B=0;B<z;B++)Q[B]=X}if(!v(oe[0])){var se=oe;for(oe=Array(z),B=0;B<z;B++)oe[B]=se}if(!v(j)){var ne=j;for(j=Array(z),B=0;B<z;B++)j[B]=ne}if(!v(q)){var fe=q;for(q=Array(z),B=0;B<z;B++)q[B]=fe}for(_.symbols=j,_.angles=q,_.colors=oe,_.borderColors=Q,B=0;B<z;B++)W&&(ae=c.isOpenSymbol(O.symbol[B])),ae&&(Q[B]=oe[B].slice(),oe[B]=oe[B].slice(),oe[B][3]=0);for(_.opacity=F.opacity,_.markers=new Array(z),B=0;B<z;B++)_.markers[B]=E({mx:_.symbols[B],ma:_.angles[B]},F)}else ae?(_.color=o(O.color,"uint8"),_.color[3]=0,_.borderColor=o(O.color,"uint8")):(_.color=o(O.color,"uint8"),_.borderColor=o(O.line.color,"uint8")),_.opacity=F.opacity*O.opacity,_.marker=E({mx:O.symbol,ma:O.angle},F);var ye=1,Se=n(F,ye),we;if(J||Y){var _e=_.sizes=new Array(z),ke=_.borderSizes=new Array(z),Me=0,me;if(J){for(B=0;B<z;B++)_e[B]=Se(O.size[B]),Me+=_e[B];me=Me/z}else for(we=Se(O.size),B=0;B<z;B++)_e[B]=we;if(Y)for(B=0;B<z;B++)ke[B]=O.line.width[B];else for(we=O.line.width,B=0;B<z;B++)ke[B]=we;_.sizeAvg=me}else _.size=Se(O&&O.size||10),_.borderSizes=Se(O.line.width);return _}function d(N,F,z){var O=F.marker,_={};return z&&(z.marker&&z.marker.symbol?_=s(N,M.extendFlat({},O,z.marker)):z.marker&&(z.marker.size&&(_.size=z.marker.size),z.marker.color&&(_.colors=z.marker.color),z.marker.opacity!==void 0&&(_.opacity=z.marker.opacity))),_}function A(N,F,z){var O={};if(!z)return O;if(z.textfont){var _={opacity:1,text:F.text,texttemplate:F.texttemplate,textposition:F.textposition,textfont:M.extendFlat({},F.textfont)};z.textfont&&M.extendFlat(_.textfont,z.textfont),O=h(N,_)}return O}function w(N,F,z){var O={capSize:F.width*2*z,lineWidth:F.thickness*z,color:F.color};return F.copy_ystyle&&(O=N.error_y),O}var C=u.SYMBOL_SDF_SIZE,b=u.SYMBOL_SIZE,S=u.SYMBOL_STROKE,m={},a=p.symbolFuncs[0](b*.05);function E(N,F){var z=N.mx;if(z==="circle")return null;var O,_,B=p.symbolNumber(z),W=p.symbolFuncs[B%100],$=!!p.symbolNoDot[B%100],te=!!p.symbolNoFill[B%100],ie=c.isDotSymbol(z);if(N.ma&&(z+="_"+N.ma),m[z])return m[z];var ue=p.getMarkerAngle(N,F);return ie&&!$?O=W(b*1.1,ue)+a:O=W(b,ue),_=P(O,{w:C,h:C,viewBox:[-b,-b,b,b],stroke:te?S:-S}),m[z]=_,_||null}function x(N,F,z){var O=z.length,_=O/2,B,W;if(i.hasLines(F)&&_)if(F.line.shape==="hv"){for(B=[],W=0;W<_-1;W++)isNaN(z[W*2])||isNaN(z[W*2+1])?B.push(NaN,NaN,NaN,NaN):(B.push(z[W*2],z[W*2+1]),!isNaN(z[W*2+2])&&!isNaN(z[W*2+3])?B.push(z[W*2+2],z[W*2+1]):B.push(NaN,NaN));B.push(z[O-2],z[O-1])}else if(F.line.shape==="hvh"){for(B=[],W=0;W<_-1;W++)if(isNaN(z[W*2])||isNaN(z[W*2+1])||isNaN(z[W*2+2])||isNaN(z[W*2+3]))!isNaN(z[W*2])&&!isNaN(z[W*2+1])?B.push(z[W*2],z[W*2+1]):B.push(NaN,NaN),B.push(NaN,NaN);else{var $=(z[W*2]+z[W*2+2])/2;B.push(z[W*2],z[W*2+1],$,z[W*2+1],$,z[W*2+3])}B.push(z[O-2],z[O-1])}else if(F.line.shape==="vhv"){for(B=[],W=0;W<_-1;W++)if(isNaN(z[W*2])||isNaN(z[W*2+1])||isNaN(z[W*2+2])||isNaN(z[W*2+3]))!isNaN(z[W*2])&&!isNaN(z[W*2+1])?B.push(z[W*2],z[W*2+1]):B.push(NaN,NaN),B.push(NaN,NaN);else{var te=(z[W*2+1]+z[W*2+3])/2;B.push(z[W*2],z[W*2+1],z[W*2],te,z[W*2+2],te)}B.push(z[O-2],z[O-1])}else if(F.line.shape==="vh"){for(B=[],W=0;W<_-1;W++)isNaN(z[W*2])||isNaN(z[W*2+1])?B.push(NaN,NaN,NaN,NaN):(B.push(z[W*2],z[W*2+1]),!isNaN(z[W*2+2])&&!isNaN(z[W*2+3])?B.push(z[W*2],z[W*2+3]):B.push(NaN,NaN));B.push(z[O-2],z[O-1])}else B=z;var ie=!1;for(W=0;W<B.length;W++)if(isNaN(B[W])){ie=!0;break}var ue=ie||B.length>u.TOO_MANY_POINTS||i.hasMarkers(F)?"rect":"round";if(ie&&F.connectgaps){var J=B[0],Y=B[1];for(W=0;W<B.length;W+=2)isNaN(B[W])||isNaN(B[W+1])?(B[W]=J,B[W+1]=Y):(J=B[W],Y=B[W+1])}return{join:ue,positions:B}}function k(N,F,z,O,_){var B=L.getComponentMethod("errorbars","makeComputeError"),W=r.getFromId(N,F.xaxis,"x"),$=r.getFromId(N,F.yaxis,"y"),te=z.length/2,ie={};function ue(J,Y){var ae=Y._id.charAt(0),j=F["error_"+ae];if(j&&j.visible&&(Y.type==="linear"||Y.type==="log")){for(var q=B(j),oe={x:0,y:1}[ae],Q={x:[0,1,2,3],y:[2,3,0,1]}[ae],X=new Float64Array(4*te),se=1/0,ne=-1/0,fe=0,ye=0;fe<te;fe++,ye+=4){var Se=J[fe];if(y(Se)){var we=z[fe*2+oe],_e=q(Se,fe),ke=_e[0],Me=_e[1];if(y(ke)&&y(Me)){var me=Se-ke,Ee=Se+Me;X[ye+Q[0]]=we-Y.c2l(me),X[ye+Q[1]]=Y.c2l(Ee)-we,X[ye+Q[2]]=0,X[ye+Q[3]]=0,se=Math.min(se,Se-ke),ne=Math.max(ne,Se+Me)}}}ie[ae]={positions:z,errors:X,_bnds:[se,ne]}}}return ue(O,W),ue(_,$),ie}function I(N,F,z,O){var _=F._length,B={},W;if(i.hasMarkers(F)){var $=z.font,te=z.align,ie=z.baseline;for(B.offset=new Array(_),W=0;W<_;W++){var ue=O.sizes?O.sizes[W]:O.size,J=v($)?$[W].size:$.size,Y=v(te)?te.length>1?te[W]:te[0]:te,ae=v(ie)?ie.length>1?ie[W]:ie[0]:ie,j=g[Y],q=g[ae],oe=ue?ue/.8+1:0,Q=-q*oe-q*.5;B.offset[W]=[j*oe/J,Q/J]}}return B}G.exports={style:T,markerStyle:s,markerSelection:d,linePositions:x,errorBarPositions:k,textPosition:I}},47148:function(G,V,e){var y=e(71828),P=e(73972),o=e(68645),L=e(42341),M=e(47581),v=e(34098),p=e(67513),r=e(73927),t=e(49508),i=e(11058),n=e(28908),c=e(82410);G.exports=function(l,g,f,T){function h(m,a){return y.coerce(l,g,L,m,a)}var s=l.marker?o.isOpenSymbol(l.marker.symbol):!1,d=v.isBubble(l),A=p(l,g,T,h);if(!A){g.visible=!1;return}r(l,g,T,h),h("xhoverformat"),h("yhoverformat");var w=A<M.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("hovertemplate"),h("mode",w),v.hasMarkers(g)&&(t(l,g,f,T,h,{noAngleRef:!0,noStandOff:!0}),h("marker.line.width",s||d?1:0)),v.hasLines(g)&&(h("connectgaps"),i(l,g,f,T,h),h("line.shape")),v.hasText(g)&&(h("texttemplate"),c(l,g,T,h));var C=(g.line||{}).color,b=(g.marker||{}).color;h("fill"),g.fill!=="none"&&n(l,g,f,h);var S=P.getComponentMethod("errorbars","supplyDefaults");S(l,g,C||b||f,{axis:"y"}),S(l,g,C||b||f,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(g,h)}},5345:function(G,V,e){var y=e(71828),P=e(7901),o=e(37822).DESELECTDIM;function L(M){var v=M[0],p=v.trace,r=v.t,t=r._scene,i=r.index,n=t.selectBatch[i],c=t.unselectBatch[i],u=t.textOptions[i],l=t.textSelectedOptions[i]||{},g=t.textUnselectedOptions[i]||{},f=y.extendFlat({},u),T,h;if(n.length||c.length){var s=l.color,d=g.color,A=u.color,w=y.isArrayOrTypedArray(A);for(f.color=new Array(p._length),T=0;T<n.length;T++)h=n[T],f.color[h]=s||(w?A[h]:A);for(T=0;T<c.length;T++){h=c[T];var C=w?A[h]:A;f.color[h]=d||(s?C:P.addOpacity(C,o))}}t.glText[i].update(f)}G.exports={styleTextSelection:L}},68101:function(G,V,e){var y=e(8225);G.exports=function(o,L,M){var v=o.i;return"x"in o||(o.x=L._x[v]),"y"in o||(o.y=L._y[v]),y(o,L,M)}},68645:function(G,V,e){var y=e(78232);V.isOpenSymbol=function(P){return typeof P=="string"?y.OPEN_RE.test(P):P%200>100},V.isDotSymbol=function(P){return typeof P=="string"?y.DOT_RE.test(P):P>200}},20794:function(G,V,e){var y=e(73972),P=e(71828),o=e(34603);function L(v,p,r,t){var i=v.cd,n=i[0].t,c=i[0].trace,u=v.xa,l=v.ya,g=n.x,f=n.y,T=u.c2p(p),h=l.c2p(r),s=v.distance,d;if(n.tree){var A=u.p2c(T-s),w=u.p2c(T+s),C=l.p2c(h-s),b=l.p2c(h+s);t==="x"?d=n.tree.range(Math.min(A,w),Math.min(l._rl[0],l._rl[1]),Math.max(A,w),Math.max(l._rl[0],l._rl[1])):d=n.tree.range(Math.min(A,w),Math.min(C,b),Math.max(A,w),Math.max(C,b))}else d=n.ids;var S,m,a,E,x,k,I,N,F,z=s;if(t==="x"){var O=!!c.xperiodalignment,_=!!c.yperiodalignment;for(x=0;x<d.length;x++){if(S=d[x],a=g[S],k=Math.abs(u.c2p(a)-T),O){var B=u.c2p(c._xStarts[S]),W=u.c2p(c._xEnds[S]);k=T>=Math.min(B,W)&&T<=Math.max(B,W)?0:1/0}if(k<z){if(z=k,E=f[S],I=l.c2p(E)-h,_){var $=l.c2p(c._yStarts[S]),te=l.c2p(c._yEnds[S]);I=h>=Math.min($,te)&&h<=Math.max($,te)?0:1/0}F=Math.sqrt(k*k+I*I),m=d[x]}}}else for(x=d.length-1;x>-1;x--)S=d[x],a=g[S],E=f[S],k=u.c2p(a)-T,I=l.c2p(E)-h,N=Math.sqrt(k*k+I*I),N<z&&(z=F=N,m=S);return v.index=m,v.distance=z,v.dxy=F,m===void 0?[v]:[M(v,g,f,c)]}function M(v,p,r,t){var i=v.xa,n=v.ya,c=v.distance,u=v.dxy,l=v.index,g={pointNumber:l,x:p[l],y:r[l]};g.tx=P.isArrayOrTypedArray(t.text)?t.text[l]:t.text,g.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,g.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,g.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var f=t.textfont;f&&(g.ts=P.isArrayOrTypedArray(f.size)?f.size[l]:f.size,g.tc=Array.isArray(f.color)?f.color[l]:f.color,g.tf=Array.isArray(f.family)?f.family[l]:f.family);var T=t.marker;T&&(g.ms=P.isArrayOrTypedArray(T.size)?T.size[l]:T.size,g.mo=P.isArrayOrTypedArray(T.opacity)?T.opacity[l]:T.opacity,g.mx=P.isArrayOrTypedArray(T.symbol)?T.symbol[l]:T.symbol,g.ma=P.isArrayOrTypedArray(T.angle)?T.angle[l]:T.angle,g.mc=P.isArrayOrTypedArray(T.color)?T.color[l]:T.color);var h=T&&T.line;h&&(g.mlc=Array.isArray(h.color)?h.color[l]:h.color,g.mlw=P.isArrayOrTypedArray(h.width)?h.width[l]:h.width);var s=T&&T.gradient;s&&s.type!=="none"&&(g.mgt=Array.isArray(s.type)?s.type[l]:s.type,g.mgc=Array.isArray(s.color)?s.color[l]:s.color);var d=i.c2p(g.x,!0),A=n.c2p(g.y,!0),w=g.mrc||1,C=t.hoverlabel;C&&(g.hbg=Array.isArray(C.bgcolor)?C.bgcolor[l]:C.bgcolor,g.hbc=Array.isArray(C.bordercolor)?C.bordercolor[l]:C.bordercolor,g.hts=P.isArrayOrTypedArray(C.font.size)?C.font.size[l]:C.font.size,g.htc=Array.isArray(C.font.color)?C.font.color[l]:C.font.color,g.htf=Array.isArray(C.font.family)?C.font.family[l]:C.font.family,g.hnl=P.isArrayOrTypedArray(C.namelength)?C.namelength[l]:C.namelength);var b=t.hoverinfo;b&&(g.hi=Array.isArray(b)?b[l]:b);var S=t.hovertemplate;S&&(g.ht=Array.isArray(S)?S[l]:S);var m={};m[v.index]=g;var a=t._origX,E=t._origY,x=P.extendFlat({},v,{color:o(t,g),x0:d-w,x1:d+w,xLabelVal:a?a[l]:g.x,y0:A-w,y1:A+w,yLabelVal:E?E[l]:g.y,cd:m,distance:c,spikeDistance:u,hovertemplate:g.ht});return g.htx?x.text=g.htx:g.tx?x.text=g.tx:t.text&&(x.text=t.text),P.fillText(g,t,x),y.getComponentMethod("errorbars","hoverInfo")(g,t,x),x}G.exports={hoverPoints:L,calcHover:M}},68868:function(G,V,e){var y=e(72156);y.plot=e(26787),G.exports=y},26787:function(G,V,e){var y=e(11870),P=e(46075),o=e(3593),L=e(42505),M=e(71828),v=e(64505).selectMode,p=e(79749),r=e(34098),t=e(68687),i=e(5345).styleTextSelection,n={};function c(l,g,f,T){var h=l._size,s=l.width*T,d=l.height*T,A=h.l*T,w=h.b*T,C=h.r*T,b=h.t*T,S=h.w*T,m=h.h*T;return[A+g.domain[0]*S,w+f.domain[0]*m,s-C-(1-g.domain[1])*S,d-b-(1-f.domain[1])*m]}var u=G.exports=function(g,f,T){if(T.length){var h=g._fullLayout,s=f._scene,d=f.xaxis,A=f.yaxis,w,C;if(s){var b=p(g,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!b){s.init();return}var S=s.count,m=h._glcanvas.data()[0].regl;if(t(g,f,T),s.dirty){if((s.line2d||s.error2d)&&!(s.scatter2d||s.fill2d||s.glText)&&m.clear({}),s.error2d===!0&&(s.error2d=o(m)),s.line2d===!0&&(s.line2d=P(m)),s.scatter2d===!0&&(s.scatter2d=y(m)),s.fill2d===!0&&(s.fill2d=P(m)),s.glText===!0)for(s.glText=new Array(S),w=0;w<S;w++)s.glText[w]=new L(m);if(s.glText){if(S>s.glText.length){var a=S-s.glText.length;for(w=0;w<a;w++)s.glText.push(new L(m))}else if(S<s.glText.length){var E=s.glText.length-S,x=s.glText.splice(S,E);x.forEach(function(Q){Q.destroy()})}for(w=0;w<S;w++)s.glText[w].update(s.textOptions[w])}if(s.line2d&&(s.line2d.update(s.lineOptions),s.lineOptions=s.lineOptions.map(function(Q){if(Q&&Q.positions){for(var X=Q.positions,se=0;se<X.length&&(isNaN(X[se])||isNaN(X[se+1]));)se+=2;for(var ne=X.length-2;ne>se&&(isNaN(X[ne])||isNaN(X[ne+1]));)ne-=2;Q.positions=X.slice(se,ne+2)}return Q}),s.line2d.update(s.lineOptions)),s.error2d){var k=(s.errorXOptions||[]).concat(s.errorYOptions||[]);s.error2d.update(k)}s.scatter2d&&s.scatter2d.update(s.markerOptions),s.fillOrder=M.repeat(null,S),s.fill2d&&(s.fillOptions=s.fillOptions.map(function(Q,X){var se=T[X];if(!(!Q||!se||!se[0]||!se[0].trace)){var ne=se[0],fe=ne.trace,ye=ne.t,Se=s.lineOptions[X],we,_e,ke=[];fe._ownfill&&ke.push(X),fe._nexttrace&&ke.push(X+1),ke.length&&(s.fillOrder[X]=ke);var Me=[],me=Se&&Se.positions||ye.positions,Ee,Be;if(fe.fill==="tozeroy"){for(Ee=0;Ee<me.length&&isNaN(me[Ee+1]);)Ee+=2;for(Be=me.length-2;Be>Ee&&isNaN(me[Be+1]);)Be-=2;me[Ee+1]!==0&&(Me=[me[Ee],0]),Me=Me.concat(me.slice(Ee,Be+2)),me[Be+1]!==0&&(Me=Me.concat([me[Be],0]))}else if(fe.fill==="tozerox"){for(Ee=0;Ee<me.length&&isNaN(me[Ee]);)Ee+=2;for(Be=me.length-2;Be>Ee&&isNaN(me[Be]);)Be-=2;me[Ee]!==0&&(Me=[0,me[Ee+1]]),Me=Me.concat(me.slice(Ee,Be+2)),me[Be]!==0&&(Me=Me.concat([0,me[Be+1]]))}else if(fe.fill==="toself"||fe.fill==="tonext"){for(Me=[],we=0,Q.splitNull=!0,_e=0;_e<me.length;_e+=2)(isNaN(me[_e])||isNaN(me[_e+1]))&&(Me=Me.concat(me.slice(we,_e)),Me.push(me[we],me[we+1]),Me.push(null,null),we=_e+2);Me=Me.concat(me.slice(we)),we&&Me.push(me[we],me[we+1])}else{var Ue=fe._nexttrace;if(Ue){var De=s.lineOptions[X+1];if(De){var He=De.positions;if(fe.fill==="tonexty"){for(Me=me.slice(),X=Math.floor(He.length/2);X--;){var nt=He[X*2],lt=He[X*2+1];isNaN(nt)||isNaN(lt)||Me.push(nt,lt)}Q.fill=Ue.fillcolor}}}}if(fe._prevtrace&&fe._prevtrace.fill==="tonext"){var $e=s.lineOptions[X-1].positions,qe=Me.length/2;we=qe;var ct=[we];for(_e=0;_e<$e.length;_e+=2)(isNaN($e[_e])||isNaN($e[_e+1]))&&(ct.push(_e/2+qe+1),we=_e+2);Me=Me.concat($e),Q.hole=ct}return Q.fillmode=fe.fill,Q.opacity=fe.opacity,Q.positions=Me,Q}}),s.fill2d.update(s.fillOptions))}var I=h.dragmode,N=v(I),F=h.clickmode.indexOf("select")>-1;for(w=0;w<S;w++){var z=T[w][0],O=z.trace,_=z.t,B=_.index,W=O._length,$=_.x,te=_.y;if(O.selectedpoints||N||F){if(N||(N=!0),O.selectedpoints){var ie=s.selectBatch[B]=M.selIndices2selPoints(O),ue={};for(C=0;C<ie.length;C++)ue[ie[C]]=1;var J=[];for(C=0;C<W;C++)ue[C]||J.push(C);s.unselectBatch[B]=J}var Y=_.xpx=new Array(W),ae=_.ypx=new Array(W);for(C=0;C<W;C++)Y[C]=d.c2p($[C]),ae[C]=A.c2p(te[C])}else _.xpx=_.ypx=null}if(N){if(s.select2d||(s.select2d=y(h._glcanvas.data()[1].regl)),s.scatter2d){var j=new Array(S);for(w=0;w<S;w++)j[w]=s.selectBatch[w].length||s.unselectBatch[w].length?s.markerUnselectedOptions[w]:{};s.scatter2d.update(j)}s.select2d&&(s.select2d.update(s.markerOptions),s.select2d.update(s.markerSelectedOptions)),s.glText&&T.forEach(function(Q){var X=((Q||[])[0]||{}).trace||{};r.hasText(X)&&i(Q)})}else s.scatter2d&&s.scatter2d.update(s.markerOptions);var q={viewport:c(h,d,A,g._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(A._rl||A.range)[0],(d._rl||d.range)[1],(A._rl||A.range)[1]]},oe=M.repeat(q,s.count);s.fill2d&&s.fill2d.update(oe),s.line2d&&s.line2d.update(oe),s.error2d&&s.error2d.update(oe.concat(oe)),s.scatter2d&&s.scatter2d.update(oe),s.select2d&&s.select2d.update(oe),s.glText&&s.glText.forEach(function(Q){Q.update(q)})}}};u.reglPrecompiled=n},38967:function(G,V,e){var y=e(71828);G.exports=function(o,L){var M=L._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(M=L._scene={},M.init=function(){y.extendFlat(M,p,v)},M.init(),M.update=function(t){var i=y.repeat(t,M.count);if(M.fill2d&&M.fill2d.update(i),M.scatter2d&&M.scatter2d.update(i),M.line2d&&M.line2d.update(i),M.error2d&&M.error2d.update(i.concat(i)),M.select2d&&M.select2d.update(i),M.glText)for(var n=0;n<M.count;n++)M.glText[n].update(t)},M.draw=function(){for(var t=M.count,i=M.fill2d,n=M.error2d,c=M.line2d,u=M.scatter2d,l=M.glText,g=M.select2d,f=M.selectBatch,T=M.unselectBatch,h=0;h<t;h++){if(i&&M.fillOrder[h]&&i.draw(M.fillOrder[h]),c&&M.lineOptions[h]&&c.draw(h),n&&(M.errorXOptions[h]&&n.draw(h),M.errorYOptions[h]&&n.draw(h+t)),u&&M.markerOptions[h])if(T[h].length){var s=y.repeat([],M.count);s[h]=T[h],u.draw(s)}else f[h].length||u.draw(h);l[h]&&M.textOptions[h]&&l[h].render()}g&&g.draw(f),M.dirty=!1},M.destroy=function(){M.fill2d&&M.fill2d.destroy&&M.fill2d.destroy(),M.scatter2d&&M.scatter2d.destroy&&M.scatter2d.destroy(),M.error2d&&M.error2d.destroy&&M.error2d.destroy(),M.line2d&&M.line2d.destroy&&M.line2d.destroy(),M.select2d&&M.select2d.destroy&&M.select2d.destroy(),M.glText&&M.glText.forEach(function(t){t.destroy&&t.destroy()}),M.lineOptions=null,M.fillOptions=null,M.markerOptions=null,M.markerSelectedOptions=null,M.markerUnselectedOptions=null,M.errorXOptions=null,M.errorYOptions=null,M.textOptions=null,M.textSelectedOptions=null,M.textUnselectedOptions=null,M.selectBatch=null,M.unselectBatch=null,L._scene=null}),M.dirty||y.extendFlat(M,v),M}},58147:function(G,V,e){var y=e(34098),P=e(5345).styleTextSelection;G.exports=function(L,M){var v=L.cd,p=L.xaxis,r=L.yaxis,t=[],i=v[0].trace,n=v[0].t,c=i._length,u=n.x,l=n.y,g=n._scene,f=n.index;if(!g)return t;var T=y.hasText(i),h=y.hasMarkers(i),s=!h&&!T;if(i.visible!==!0||s)return t;var d=[],A=[];if(M!==!1&&!M.degenerate)for(var w=0;w<c;w++)M.contains([n.xpx[w],n.ypx[w]],!1,w,L)?(d.push(w),t.push({pointNumber:w,x:p.c2d(u[w]),y:r.c2d(l[w])})):A.push(w);if(h){var C=g.scatter2d;if(!d.length&&!A.length){var b=new Array(g.count);b[f]=g.markerOptions[f],C.update.apply(C,b)}else if(!g.selectBatch[f].length&&!g.unselectBatch[f].length){var S=new Array(g.count);S[f]=g.markerUnselectedOptions[f],C.update.apply(C,S)}}return g.selectBatch[f]=d,g.unselectBatch[f]=A,T&&P(v),t}},99181:function(G,V,e){var y=e(5386).fF,P=e(5386).si,o=e(19316),L=e(82196),M=e(23585),v=e(9012),p=e(50693),r=e(1426).extendFlat,t=e(30962).overrideAll,i=e(23585),n=o.line,c=o.marker;G.exports=t({lon:o.lon,lat:o.lat,cluster:{enabled:{valType:"boolean"},maxzoom:r({},i.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:r({},c.opacity,{dflt:1})},mode:r({},L.mode,{dflt:"markers"}),text:r({},L.text,{}),texttemplate:P({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:r({},L.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:L.connectgaps,marker:r({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:c.opacity,size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode},p("marker")),fill:o.fill,fillcolor:L.fillcolor,textfont:M.layers.symbol.textfont,textposition:M.layers.symbol.textposition,below:{valType:"string"},selected:{marker:L.selected.marker},unselected:{marker:L.unselected.marker},hoverinfo:r({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:y()},"calc","nested")},15790:function(G,V,e){var y=e(92770),P=e(71828),o=e(50606).BADNUM,L=e(18214),M=e(21081),v=e(91424),p=e(39984),r=e(34098),t=e(13056),i=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,c=e(63893).BR_TAG_ALL;G.exports=function(A,w){var C=w[0].trace,b=C.visible===!0&&C._length!==0,S=C.fill!=="none",m=r.hasLines(C),a=r.hasMarkers(C),E=r.hasText(C),x=a&&C.marker.symbol==="circle",k=a&&C.marker.symbol!=="circle",I=C.cluster&&C.cluster.enabled,N=u("fill"),F=u("line"),z=u("circle"),O=u("symbol"),_={fill:N,line:F,circle:z,symbol:O};if(!b)return _;var B;if((S||m)&&(B=L.calcTraceToLineCoords(w)),S&&(N.geojson=L.makePolygon(B),N.layout.visibility="visible",P.extendFlat(N.paint,{"fill-color":C.fillcolor})),m&&(F.geojson=L.makeLine(B),F.layout.visibility="visible",P.extendFlat(F.paint,{"line-width":C.line.width,"line-color":C.line.color,"line-opacity":C.opacity})),x){var W=l(w);z.geojson=W.geojson,z.layout.visibility="visible",I&&(z.filter=["!",["has","point_count"]],_.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":s(C.cluster.color,C.cluster.step),"circle-radius":s(C.cluster.size,C.cluster.step),"circle-opacity":s(C.cluster.opacity,C.cluster.step)}},_.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),P.extendFlat(z.paint,{"circle-color":W.mcc,"circle-radius":W.mrc,"circle-opacity":W.mo})}if(x&&I&&(z.filter=["!",["has","point_count"]]),(k||E)&&(O.geojson=g(w,A),P.extendFlat(O.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),k&&(P.extendFlat(O.layout,{"icon-size":C.marker.size/10}),"angle"in C.marker&&C.marker.angle!=="auto"&&P.extendFlat(O.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),O.layout["icon-allow-overlap"]=C.marker.allowoverlap,P.extendFlat(O.paint,{"icon-opacity":C.opacity*C.marker.opacity,"icon-color":C.marker.color})),E)){var $=(C.marker||{}).size,te=t(C.textposition,$);P.extendFlat(O.layout,{"text-size":C.textfont.size,"text-anchor":te.anchor,"text-offset":te.offset,"text-font":C.textfont.family.split(", ")}),P.extendFlat(O.paint,{"text-color":C.textfont.color,"text-opacity":C.opacity})}return _};function u(d){return{type:d,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(d){var A=d[0].trace,w=A.marker,C=A.selectedpoints,b=P.isArrayOrTypedArray(w.color),S=P.isArrayOrTypedArray(w.size),m=P.isArrayOrTypedArray(w.opacity),a;function E($){return A.opacity*$}function x($){return $/2}var k;b&&(M.hasColorscale(A,"marker")?k=M.makeColorScaleFuncFromTrace(w):k=P.identity);var I;S&&(I=p(A));var N;m&&(N=function($){var te=y($)?+P.constrain($,0,1):0;return E(te)});var F=[];for(a=0;a<d.length;a++){var z=d[a],O=z.lonlat;if(!h(O)){var _={};k&&(_.mcc=z.mcc=k(z.mc)),I&&(_.mrc=z.mrc=I(z.ms)),N&&(_.mo=N(z.mo)),C&&(_.selected=z.selected||0),F.push({type:"Feature",id:a+1,geometry:{type:"Point",coordinates:O},properties:_})}}var B;if(C)for(B=v.makeSelectedPointStyleFns(A),a=0;a<F.length;a++){var W=F[a].properties;B.selectedOpacityFn&&(W.mo=E(B.selectedOpacityFn(W))),B.selectedColorFn&&(W.mcc=B.selectedColorFn(W)),B.selectedSizeFn&&(W.mrc=B.selectedSizeFn(W))}return{geojson:{type:"FeatureCollection",features:F},mcc:b||B&&B.selectedColorFn?{type:"identity",property:"mcc"}:w.color,mrc:S||B&&B.selectedSizeFn?{type:"identity",property:"mrc"}:x(w.size),mo:m||B&&B.selectedOpacityFn?{type:"identity",property:"mo"}:E(w.opacity)}}function g(d,A){for(var w=A._fullLayout,C=d[0].trace,b=C.marker||{},S=b.symbol,m=b.angle,a=S!=="circle"?f(S):T,E=m!=="auto"?f(m,!0):T,x=r.hasText(C)?f(C.text):T,k=[],I=0;I<d.length;I++){var N=d[I];if(!h(N.lonlat)){var F=C.texttemplate,z;if(F){var O=Array.isArray(F)?F[I]||"":F,_=C._module.formatLabels(N,C,w),B={};i(B,C,N.i);var W=C._meta||{};z=P.texttemplateString(O,_,w._d3locale,B,N,W)}else z=x(I);z&&(z=z.replace(n,"").replace(c,`
`)),k.push({type:"Feature",geometry:{type:"Point",coordinates:N.lonlat},properties:{symbol:a(I),angle:E(I),text:z}})}}return{type:"FeatureCollection",features:k}}function f(d,A){return P.isArrayOrTypedArray(d)?A?function(w){return y(d[w])?+d[w]:0}:function(w){return d[w]}:d?function(){return d}:T}function T(){return""}function h(d){return d[0]===o}function s(d,A){var w;if(P.isArrayOrTypedArray(d)&&P.isArrayOrTypedArray(A)){w=["step",["get","point_count"],d[0]];for(var C=1;C<d.length;C++)w.push(A[C-1],d[C])}else w=d;return w}},76645:function(G,V,e){var y=e(71828),P=e(34098),o=e(49508),L=e(11058),M=e(82410),v=e(28908),p=e(99181),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];G.exports=function(n,c,u,l){function g(S,m){return y.coerce(n,c,p,S,m)}function f(S,m){return y.coerce2(n,c,p,S,m)}var T=t(n,c,g);if(!T){c.visible=!1;return}if(g("text"),g("texttemplate"),g("hovertext"),g("hovertemplate"),g("mode"),g("below"),P.hasMarkers(c)){o(n,c,u,l,g,{noLine:!0,noAngle:!0}),g("marker.allowoverlap"),g("marker.angle");var h=c.marker;h.symbol!=="circle"&&(y.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),y.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}P.hasLines(c)&&(L(n,c,u,l,g,{noDash:!0}),g("connectgaps"));var s=f("cluster.maxzoom"),d=f("cluster.step"),A=f("cluster.color",c.marker&&c.marker.color||u),w=f("cluster.size"),C=f("cluster.opacity"),b=s!==!1||d!==!1||A!==!1||w!==!1||C!==!1;g("cluster.enabled",b),P.hasText(c)&&M(n,c,l,g,{noSelect:!0,font:{family:r.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),g("fill"),c.fill!=="none"&&v(n,c,u,g),y.coerceSelectionMarkerOpacity(c,g)};function t(i,n,c){var u=c("lon")||[],l=c("lat")||[],g=Math.min(u.length,l.length);return n._length=g,g}},53353:function(G){G.exports=function(e,y){return e.lon=y.lon,e.lat=y.lat,e}},15636:function(G,V,e){var y=e(89298);G.exports=function(o,L,M){var v={},p=M[L.subplot]._subplot,r=p.mockAxis,t=o.lonlat;return v.lonLabel=y.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=y.tickText(r,r.c2l(t[1]),!0).text,v}},28178:function(G,V,e){var y=e(30211),P=e(71828),o=e(34603),L=P.fillText,M=e(50606).BADNUM,v=e(77734).traceLayerPrefix;function p(t,i,n){var c=t.cd,u=c[0].trace,l=t.xa,g=t.ya,f=t.subplot,T=[],h=v+u.uid+"-circle",s=u.cluster&&u.cluster.enabled;if(s){var d=f.map.queryRenderedFeatures(null,{layers:[h]});T=d.map(function(F){return F.id})}var A=i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360),w=A*360,C=i-w;function b(F){var z=F.lonlat;if(z[0]===M||s&&T.indexOf(F.i+1)===-1)return 1/0;var O=P.modHalf(z[0],360),_=z[1],B=f.project([O,_]),W=B.x-l.c2p([C,_]),$=B.y-g.c2p([O,n]),te=Math.max(3,F.mrc||0);return Math.max(Math.sqrt(W*W+$*$)-te,1-3/te)}if(y.getClosest(c,b,t),t.index!==!1){var S=c[t.index],m=S.lonlat,a=[P.modHalf(m[0],360)+w,m[1]],E=l.c2p(a),x=g.c2p(a),k=S.mrc||1;t.x0=E-k,t.x1=E+k,t.y0=x-k,t.y1=x+k;var I={};I[u.subplot]={_subplot:f};var N=u._module.formatLabels(S,u,I);return t.lonLabel=N.lonLabel,t.latLabel=N.latLabel,t.color=o(u,S),t.extraText=r(u,S,c[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,i,n){if(t.hovertemplate)return;var c=i.hi||t.hoverinfo,u=c.split("+"),l=u.indexOf("all")!==-1,g=u.indexOf("lon")!==-1,f=u.indexOf("lat")!==-1,T=i.lonlat,h=[];function s(d){return d+""}return l||g&&f?h.push("("+s(T[1])+", "+s(T[0])+")"):g?h.push(n.lon+s(T[0])):f&&h.push(n.lat+s(T[1])),(l||u.indexOf("text")!==-1)&&L(i,t,h),h.join("<br>")}G.exports={hoverPoints:p,getExtraText:r}},20467:function(G,V,e){G.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(y,P){if(P){var o=P[0].trace;o._glTrace.update(P)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(G,V,e){var y=e(71828),P=e(15790),o=e(77734).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function M(p,r,t,i){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=i,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:o+r+"-fill",line:o+r+"-line",circle:o+r+"-circle",symbol:o+r+"-symbol",cluster:o+r+"-cluster",clusterCount:o+r+"-cluster-count"},this.below=null}var v=M.prototype;v.addSource=function(p,r,t){var i={type:"geojson",data:r.geojson};t&&t.enabled&&y.extendFlat(i,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],i)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var i={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(i.filter=r.filter);for(var n=this.layerIds[p],c,u=this.subplot.getMapLayers(),l=0;l<u.length;l++)if(u[l].id===n){c=!0;break}c?(this.subplot.setOptions(n,"setLayoutProperty",i.layout),i.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",i.paint)):this.subplot.addLayer(i,t)},v.update=function(r){var t=r[0].trace,i=this.subplot,n=i.map,c=P(i.gd,r),u=i.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),g=!!this.clusterEnabled,f=this;function T(m){m||f.addSource("circle",c.circle,t.cluster);for(var a=L.cluster,E=0;E<a.length;E++){var x=a[E],k=c[x];f.addLayer(x,k,u)}}function h(m){for(var a=L.cluster,E=a.length-1;E>=0;E--){var x=a[E];n.removeLayer(f.layerIds[x])}m||n.removeSource(f.sourceIds.circle)}function s(m){for(var a=L.nonCluster,E=0;E<a.length;E++){var x=a[E],k=c[x];m||f.addSource(x,k),f.addLayer(x,k,u)}}function d(m){for(var a=L.nonCluster,E=a.length-1;E>=0;E--){var x=a[E];n.removeLayer(f.layerIds[x]),m||n.removeSource(f.sourceIds[x])}}function A(m){g?h(m):d(m)}function w(m){l?T(m):s(m)}function C(){for(var m=l?L.cluster:L.nonCluster,a=0;a<m.length;a++){var E=m[a],x=c[E];x&&(i.setOptions(f.layerIds[E],"setLayoutProperty",x.layout),x.layout.visibility==="visible"&&(E!=="cluster"&&f.setSourceData(E,x),i.setOptions(f.layerIds[E],"setPaintProperty",x.paint)))}}var b=this.isHidden,S=t.visible!==!0;S?b||A():b?S||w():g!==l?(A(),w()):(this.below!==u&&(A(!0),w(!0)),C()),this.clusterEnabled=l,this.isHidden=S,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?L.cluster:L.nonCluster,i=t.length-1;i>=0;i--){var n=t[i];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},G.exports=function(r,t){var i=t[0].trace,n=i.cluster&&i.cluster.enabled,c=i.visible!==!0,u=new M(r,i.uid,n,c),l=P(r.gd,t),g=u.below=r.belowLookup["trace-"+i.uid],f,T,h;if(n)for(u.addSource("circle",l.circle,i.cluster),f=0;f<L.cluster.length;f++)T=L.cluster[f],h=l[T],u.addLayer(T,h,g);else for(f=0;f<L.nonCluster.length;f++)T=L.nonCluster[f],h=l[T],u.addSource(T,h,i.cluster),u.addLayer(T,h,g);return t[0].trace._glTrace=u,u}},86387:function(G,V,e){var y=e(71828),P=e(34098),o=e(50606).BADNUM;G.exports=function(M,v){var p=M.cd,r=M.xaxis,t=M.yaxis,i=[],n=p[0].trace,c;if(!P.hasMarkers(n))return[];if(v===!1)for(c=0;c<p.length;c++)p[c].selected=0;else for(c=0;c<p.length;c++){var u=p[c],l=u.lonlat;if(l[0]!==o){var g=[y.modHalf(l[0],360),l[1]],f=[r.c2p(g),t.c2p(g)];v.contains(f,null,c,M)?(i.push({pointNumber:c,lon:l[0],lat:l[1]}),u.selected=1):u.selected=0}}return i}},81245:function(G,V,e){var y=e(5386).fF,P=e(5386).si,o=e(1426).extendFlat,L=e(82196),M=e(9012),v=L.line;G.exports={mode:L.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:P({editType:"plot"},{keys:["r","theta","text"]}),hovertext:L.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:o({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:o({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:o({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:o({},M.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:L.hoveron,hovertemplate:y(),selected:L.selected,unselected:L.unselected}},26442:function(G,V,e){var y=e(92770),P=e(50606).BADNUM,o=e(89298),L=e(36922),M=e(75225),v=e(66279),p=e(47761).calcMarkerSize;G.exports=function(t,i){for(var n=t._fullLayout,c=i.subplot,u=n[c].radialaxis,l=n[c].angularaxis,g=u.makeCalcdata(i,"r"),f=l.makeCalcdata(i,"theta"),T=i._length,h=new Array(T),s=0;s<T;s++){var d=g[s],A=f[s],w=h[s]={};y(d)&&y(A)?(w.r=d,w.theta=A):w.r=P}var C=p(i,T);return i._extremes.x=o.findExtremes(u,g,{ppad:C}),L(t,i),M(h,i),v(h,i),h}},22184:function(G,V,e){var y=e(71828),P=e(34098),o=e(49508),L=e(11058),M=e(94039),v=e(82410),p=e(28908),r=e(47581).PTS_LINESONLY,t=e(81245);function i(c,u,l,g){function f(s,d){return y.coerce(c,u,t,s,d)}var T=n(c,u,g,f);if(!T){u.visible=!1;return}f("thetaunit"),f("mode",T<r?"lines+markers":"lines"),f("text"),f("hovertext"),u.hoveron!=="fills"&&f("hovertemplate"),P.hasMarkers(u)&&o(c,u,l,g,f,{gradient:!0}),P.hasLines(u)&&(L(c,u,l,g,f,{backoff:!0}),M(c,u,f),f("connectgaps")),P.hasText(u)&&(f("texttemplate"),v(c,u,g,f));var h=[];(P.hasMarkers(u)||P.hasText(u))&&(f("cliponaxis"),f("marker.maxdisplayed"),h.push("points")),f("fill"),u.fill!=="none"&&(p(c,u,l,f),P.hasLines(u)||M(c,u,f)),(u.fill==="tonext"||u.fill==="toself")&&h.push("fills"),f("hoveron",h.join("+")||"points"),y.coerceSelectionMarkerOpacity(u,f)}function n(c,u,l,g){var f=g("r"),T=g("theta");y.isTypedArray(f)&&(u.r=f=Array.from(f)),y.isTypedArray(T)&&(u.theta=T=Array.from(T));var h;if(f)T?h=Math.min(f.length,T.length):(h=f.length,g("theta0"),g("dtheta"));else{if(!T)return 0;h=u.theta.length,g("r0"),g("dr")}return u._length=h,h}G.exports={handleRThetaDefaults:n,supplyDefaults:i}},98608:function(G,V,e){var y=e(71828),P=e(89298);G.exports=function(L,M,v){var p={},r=v[M.subplot]._subplot,t,i;r?(t=r.radialAxis,i=r.angularAxis):(r=v[M.subplot],t=r.radialaxis,i=r.angularaxis);var n=t.c2l(L.r);p.rLabel=P.tickText(t,n,!0).text;var c=i.thetaunit==="degrees"?y.rad2deg(L.theta):L.theta;return p.thetaLabel=P.tickText(i,c,!0).text,p}},59150:function(G,V,e){var y=e(33720);function P(L,M,v,p){var r=y(L,M,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=L.subplot,n=t.cd[t.index],c=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,o(n,c,i,t),t.hovertemplate=c.hovertemplate,r}}function o(L,M,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="";var i={};i[M.subplot]={_subplot:v};var n=M._module.formatLabels(L,M,i);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var c=L.hi||M.hoverinfo,u=[];function l(f,T){u.push(f._hovertitle+": "+T)}if(!M.hovertemplate){var g=c.split("+");g.indexOf("all")!==-1&&(g=["r","theta","text"]),g.indexOf("r")!==-1&&l(r,p.rLabel),g.indexOf("theta")!==-1&&l(t,p.thetaLabel),g.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:o}},91271:function(G,V,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(G,V,e){var y=e(32663),P=e(50606).BADNUM;G.exports=function(L,M,v){for(var p=M.layers.frontplot.select("g.scatterlayer"),r=M.xaxis,t=M.yaxis,i={xaxis:r,yaxis:t,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},n=M.radialAxis,c=M.angularAxis,u=0;u<v.length;u++)for(var l=v[u],g=0;g<l.length;g++){g===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var f=l[g],T=f.r;if(T===P)f.x=f.y=P;else{var h=n.c2g(T),s=c.c2g(f.theta);f.x=h*Math.cos(s),f.y=h*Math.sin(s)}}y(L,i,v,p)}},53286:function(G,V,e){var y=e(81245),P=e(42341),o=e(5386).si;G.exports={mode:y.mode,r:y.r,theta:y.theta,r0:y.r0,dr:y.dr,theta0:y.theta0,dtheta:y.dtheta,thetaunit:y.thetaunit,text:y.text,texttemplate:o({editType:"plot"},{keys:["r","theta","text"]}),hovertext:y.hovertext,hovertemplate:y.hovertemplate,line:{color:P.line.color,width:P.line.width,dash:P.line.dash,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,fill:P.fill,fillcolor:P.fillcolor,textposition:P.textposition,textfont:P.textfont,hoverinfo:y.hoverinfo,selected:y.selected,unselected:y.unselected}},65746:function(G,V,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(G,V,e){var y=e(36922),P=e(47761).calcMarkerSize,o=e(19635),L=e(89298),M=e(78232).TOO_MANY_POINTS;G.exports=function(p,r){var t=p._fullLayout,i=r.subplot,n=t[i].radialaxis,c=t[i].angularaxis,u=r._r=n.makeCalcdata(r,"r"),l=r._theta=c.makeCalcdata(r,"theta"),g=r._length,f={};g<u.length&&(u=u.slice(0,g)),g<l.length&&(l=l.slice(0,g)),f.r=u,f.theta=l,y(p,r);var T=f.opts=o.style(p,r),h;return g<M?h=P(r,g):T.marker&&(h=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=L.findExtremes(n,u,{ppad:h}),[{x:!1,y:!1,t:f,trace:r}]}},75485:function(G,V,e){var y=e(71828),P=e(34098),o=e(22184).handleRThetaDefaults,L=e(49508),M=e(11058),v=e(82410),p=e(28908),r=e(47581).PTS_LINESONLY,t=e(53286);G.exports=function(n,c,u,l){function g(T,h){return y.coerce(n,c,t,T,h)}var f=o(n,c,l,g);if(!f){c.visible=!1;return}g("thetaunit"),g("mode",f<r?"lines+markers":"lines"),g("text"),g("hovertext"),c.hoveron!=="fills"&&g("hovertemplate"),P.hasMarkers(c)&&L(n,c,u,l,g,{noAngleRef:!0,noStandOff:!0}),P.hasLines(c)&&(M(n,c,u,l,g),g("connectgaps")),P.hasText(c)&&(g("texttemplate"),v(n,c,l,g)),g("fill"),c.fill!=="none"&&p(n,c,u,g),y.coerceSelectionMarkerOpacity(c,g)}},46255:function(G,V,e){var y=e(98608);G.exports=function(o,L,M){var v=o.i;return"r"in o||(o.r=L._r[v]),"theta"in o||(o.theta=L._theta[v]),y(o,L,M)}},29347:function(G,V,e){var y=e(20794),P=e(59150).makeHoverPointText;function o(L,M,v,p){var r=L.cd,t=r[0].t,i=t.r,n=t.theta,c=y.hoverPoints(L,M,v,p);if(!(!c||c[0].index===!1)){var u=c[0];if(u.index===void 0)return c;var l=L.subplot,g=u.cd[u.index],f=u.trace;if(g.r=i[u.index],g.theta=n[u.index],!!l.isPtInside(g))return u.xLabelVal=void 0,u.yLabelVal=void 0,P(g,f,l,u),c}}G.exports={hoverPoints:o}},21461:function(G,V,e){var y=e(65746);y.plot=e(49741),G.exports=y},49741:function(G,V,e){var y=e(88294),P=e(92770),o=e(26787),L=e(38967),M=e(19635),v=e(71828),p=e(78232).TOO_MANY_POINTS,r={};G.exports=function(i,n,c){if(c.length){var u=n.radialAxis,l=n.angularAxis,g=L(i,n);return c.forEach(function(f){if(!(!f||!f[0]||!f[0].trace)){var T=f[0],h=T.trace,s=T.t,d=h._length,A=s.r,w=s.theta,C=s.opts,b,S=A.slice(),m=w.slice();for(b=0;b<A.length;b++)n.isPtInside({r:A[b],theta:w[b]})||(S[b]=NaN,m[b]=NaN);var a=new Array(d*2),E=Array(d),x=Array(d);for(b=0;b<d;b++){var k=S[b],I,N;if(P(k)){var F=u.c2g(k),z=l.c2g(m[b],h.thetaunit);I=F*Math.cos(z),N=F*Math.sin(z)}else I=N=NaN;E[b]=a[b*2]=I,x[b]=a[b*2+1]=N}s.tree=y(a),C.marker&&d>=p&&(C.marker.cluster=s.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=a),C.line&&a.length>1&&v.extendFlat(C.line,M.linePositions(i,h,a)),C.text&&(v.extendFlat(C.text,{positions:a},M.textPosition(i,h,C.text,C.marker)),v.extendFlat(C.textSel,{positions:a},M.textPosition(i,h,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:a},M.textPosition(i,h,C.text,C.markerUnsel))),C.fill&&!g.fill2d&&(g.fill2d=!0),C.marker&&!g.scatter2d&&(g.scatter2d=!0),C.line&&!g.line2d&&(g.line2d=!0),C.text&&!g.glText&&(g.glText=!0),g.lineOptions.push(C.line),g.fillOptions.push(C.fill),g.markerOptions.push(C.marker),g.markerSelectedOptions.push(C.markerSel),g.markerUnselectedOptions.push(C.markerUnsel),g.textOptions.push(C.text),g.textSelectedOptions.push(C.textSel),g.textUnselectedOptions.push(C.textUnsel),g.selectBatch.push([]),g.unselectBatch.push([]),s.x=E,s.y=x,s.rawx=E,s.rawy=x,s.r=A,s.theta=w,s.positions=a,s._scene=g,s.index=g.count,g.count++}}),o(i,n,c)}},G.exports.reglPrecompiled=r},48300:function(G,V,e){var y=e(5386).fF,P=e(5386).si,o=e(1426).extendFlat,L=e(82196),M=e(9012),v=L.line;G.exports={mode:L.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:P({editType:"plot"},{keys:["real","imag","text"]}),hovertext:L.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:o({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:o({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:o({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:o({},M.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:L.hoveron,hovertemplate:y(),selected:L.selected,unselected:L.unselected}},30621:function(G,V,e){var y=e(92770),P=e(50606).BADNUM,o=e(36922),L=e(75225),M=e(66279),v=e(47761).calcMarkerSize;G.exports=function(r,t){for(var i=r._fullLayout,n=t.subplot,c=i[n].realaxis,u=i[n].imaginaryaxis,l=c.makeCalcdata(t,"real"),g=u.makeCalcdata(t,"imag"),f=t._length,T=new Array(f),h=0;h<f;h++){var s=l[h],d=g[h],A=T[h]={};y(s)&&y(d)?(A.real=s,A.imag=d):A.real=P}return v(t,f),o(r,t),L(T,t),M(T,t),T}},65269:function(G,V,e){var y=e(71828),P=e(34098),o=e(49508),L=e(11058),M=e(94039),v=e(82410),p=e(28908),r=e(47581).PTS_LINESONLY,t=e(48300);G.exports=function(c,u,l,g){function f(s,d){return y.coerce(c,u,t,s,d)}var T=i(c,u,g,f);if(!T){u.visible=!1;return}f("mode",T<r?"lines+markers":"lines"),f("text"),f("hovertext"),u.hoveron!=="fills"&&f("hovertemplate"),P.hasMarkers(u)&&o(c,u,l,g,f,{gradient:!0}),P.hasLines(u)&&(L(c,u,l,g,f,{backoff:!0}),M(c,u,f),f("connectgaps")),P.hasText(u)&&(f("texttemplate"),v(c,u,g,f));var h=[];(P.hasMarkers(u)||P.hasText(u))&&(f("cliponaxis"),f("marker.maxdisplayed"),h.push("points")),f("fill"),u.fill!=="none"&&(p(c,u,l,f),P.hasLines(u)||M(c,u,f)),(u.fill==="tonext"||u.fill==="toself")&&h.push("fills"),f("hoveron",h.join("+")||"points"),y.coerceSelectionMarkerOpacity(u,f)};function i(n,c,u,l){var g=l("real"),f=l("imag"),T;return g&&f&&(T=Math.min(g.length,f.length)),y.isTypedArray(g)&&(c.real=g=Array.from(g)),y.isTypedArray(f)&&(c.imag=f=Array.from(f)),c._length=T,T}},62047:function(G,V,e){var y=e(89298);G.exports=function(o,L,M){var v={},p=M[L.subplot]._subplot;return v.realLabel=y.tickText(p.radialAxis,o.real,!0).text,v.imagLabel=y.tickText(p.angularAxis,o.imag,!0).text,v}},11350:function(G,V,e){var y=e(33720);function P(L,M,v,p){var r=y(L,M,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=L.subplot,n=t.cd[t.index],c=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,o(n,c,i,t),t.hovertemplate=c.hovertemplate,r}}function o(L,M,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var i={};i[M.subplot]={_subplot:v};var n=M._module.formatLabels(L,M,i);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var c=L.hi||M.hoverinfo,u=[];function l(f,T){u.push(f._hovertitle+": "+T)}if(!M.hovertemplate){var g=c.split("+");g.indexOf("all")!==-1&&(g=["real","imag","text"]),g.indexOf("real")!==-1&&l(r,p.realLabel),g.indexOf("imag")!==-1&&l(t,p.imagLabel),g.indexOf("text")!==-1&&p.text&&(u.push(p.text),delete p.text),p.extraText=u.join("<br>")}}G.exports={hoverPoints:P,makeHoverPointText:o}},85956:function(G,V,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(G,V,e){var y=e(32663),P=e(50606).BADNUM,o=e(23893),L=o.smith;G.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),i=p.xaxis,n=p.yaxis,c={xaxis:i,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},u=0;u<r.length;u++)for(var l=r[u],g=0;g<l.length;g++){g===0&&(l[0].trace._xA=i,l[0].trace._yA=n);var f=l[g],T=f.real;if(T===P)f.x=f.y=P;else{var h=L([T,f.imag]);f.x=h[0],f.y=h[1]}}y(v,c,r,t)}},50413:function(G,V,e){var y=e(5386).fF,P=e(5386).si,o=e(82196),L=e(9012),M=e(50693),v=e(79952).P,p=e(1426).extendFlat,r=o.marker,t=o.line,i=r.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:p({},o.mode,{dflt:"markers"}),text:p({},o.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:p({},o.hovertext,{}),line:{color:t.color,width:t.width,dash:v,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:o.connectgaps,cliponaxis:o.cliponaxis,fill:p({},o.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:o.fillcolor,marker:p({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:r.angleref,standoff:r.standoff,maxdisplayed:r.maxdisplayed,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:i.width,editType:"calc"},M("marker.line")),gradient:r.gradient,editType:"calc"},M("marker")),textfont:o.textfont,textposition:o.textposition,selected:o.selected,unselected:o.unselected,hoverinfo:p({},L.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:o.hoveron,hovertemplate:y()}},54337:function(G,V,e){var y=e(92770),P=e(36922),o=e(75225),L=e(66279),M=e(47761).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(t,i){var n=t._fullLayout[i.subplot],c=n.sum,u=i.sum||c,l={a:i.a,b:i.b,c:i.c},g,f,T,h,s,d;for(g=0;g<v.length;g++)if(T=v[g],!l[T]){for(s=l[p[T][0]],d=l[p[T][1]],h=new Array(s.length),f=0;f<s.length;f++)h[f]=u-s[f]-d[f];l[T]=h}var A=i._length,w=new Array(A),C,b,S,m,a,E;for(g=0;g<A;g++)C=l.a[g],b=l.b[g],S=l.c[g],y(C)&&y(b)&&y(S)?(C=+C,b=+b,S=+S,m=c/(C+b+S),m!==1&&(C*=m,b*=m,S*=m),E=C,a=S-b,w[g]={x:a,y:E,a:C,b,c:S}):w[g]={x:!1,y:!1};return M(i,A),P(t,i),o(w,i),L(w,i),w}},46008:function(G,V,e){var y=e(71828),P=e(47581),o=e(34098),L=e(49508),M=e(11058),v=e(94039),p=e(82410),r=e(28908),t=e(50413);G.exports=function(n,c,u,l){function g(w,C){return y.coerce(n,c,t,w,C)}var f=g("a"),T=g("b"),h=g("c"),s;if(f?(s=f.length,T?(s=Math.min(s,T.length),h&&(s=Math.min(s,h.length))):h?s=Math.min(s,h.length):s=0):T&&h&&(s=Math.min(T.length,h.length)),!s){c.visible=!1;return}c._length=s,g("sum"),g("text"),g("hovertext"),c.hoveron!=="fills"&&g("hovertemplate");var d=s<P.PTS_LINESONLY?"lines+markers":"lines";g("mode",d),o.hasMarkers(c)&&L(n,c,u,l,g,{gradient:!0}),o.hasLines(c)&&(M(n,c,u,l,g,{backoff:!0}),v(n,c,g),g("connectgaps")),o.hasText(c)&&(g("texttemplate"),p(n,c,l,g));var A=[];(o.hasMarkers(c)||o.hasText(c))&&(g("cliponaxis"),g("marker.maxdisplayed"),A.push("points")),g("fill"),c.fill!=="none"&&(r(n,c,u,g),o.hasLines(c)||v(n,c,g)),(c.fill==="tonext"||c.fill==="toself")&&A.push("fills"),g("hoveron",A.join("+")||"points"),y.coerceSelectionMarkerOpacity(c,g)}},4524:function(G){G.exports=function(e,y,P,o,L){if(y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),o[L]){var M=o[L];e.a=M.a,e.b=M.b,e.c=M.c}else e.a=y.a,e.b=y.b,e.c=y.c;return e}},93645:function(G,V,e){var y=e(89298);G.exports=function(o,L,M){var v={},p=M[L.subplot]._subplot;return v.aLabel=y.tickText(p.aaxis,o.a,!0).text,v.bLabel=y.tickText(p.baxis,o.b,!0).text,v.cLabel=y.tickText(p.caxis,o.c,!0).text,v}},47250:function(G,V,e){var y=e(33720);G.exports=function(o,L,M,v){var p=y(o,L,M,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/o.ya._length,i=o.xa._length,n=i*t/2,c=i-n;return r.x0=Math.max(Math.min(r.x0,c),n),r.x1=Math.max(Math.min(r.x1,c),n),p}var u=r.cd[r.index],l=r.trace,g=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var f={};f[l.subplot]={_subplot:g};var T=l._module.formatLabels(u,l,f);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var h=u.hi||l.hoverinfo,s=[];function d(w,C){s.push(w._hovertitle+": "+C)}if(!l.hovertemplate){var A=h.split("+");A.indexOf("all")!==-1&&(A=["a","b","c"]),A.indexOf("a")!==-1&&d(g.aaxis,r.aLabel),A.indexOf("b")!==-1&&d(g.baxis,r.bLabel),A.indexOf("c")!==-1&&d(g.caxis,r.cLabel)}return r.extraText=s.join("<br>"),r.hovertemplate=l.hovertemplate,p}},52979:function(G,V,e){G.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(G,V,e){var y=e(32663);G.exports=function(o,L,M){var v=L.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=L.xaxis,r=L.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},i=L.layers.frontplot.select("g.scatterlayer"),n=0;n<M.length;n++){var c=M[n];c.length&&(c[0].trace._xA=p,c[0].trace._yA=r)}y(o,t,M,i)}},46880:function(G,V,e){var y=e(82196),P=e(50693),o=e(12663).axisHoverFormat,L=e(5386).fF,M=e(42341),v=e(85555).idRegex,p=e(44467).templatedArray,r=e(1426).extendFlat,t=y.marker,i=t.line,n=r(P("marker.line",{editTypeOverride:"calc"}),{width:r({},i.width,{editType:"calc"}),editType:"calc"}),c=r(P("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});c.color.editType=c.cmin.editType=c.cmax.editType="style";function u(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}G.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},M.text,{}),hovertext:r({},M.hovertext,{}),hovertemplate:L(),xhoverformat:o("x"),yhoverformat:o("y"),marker:c,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:M.selected.marker,editType:"calc"},unselected:{marker:M.unselected.marker,editType:"calc"},opacity:M.opacity}},65017:function(G,V,e){var y=e(73972),P=e(83312);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},y.register(P)},16947:function(G,V,e){var y=e(46075),P=e(73972),o=e(79749),L=e(27659).a0,M=e(93612),v=e(41675).getFromId,p=e(89298).shouldShowZeroLine,r="splom",t={};function i(f){var T=f._fullLayout,h=P.getModule(r),s=L(f.calcdata,h)[0],d=o(f,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(T._hasOnlyLargeSploms&&u(f),h.plot(f,{},s))}function n(f){var T=f.calcdata,h=f._fullLayout;h._hasOnlyLargeSploms&&u(f);for(var s=0;s<T.length;s++){var d=T[s][0],A=d.trace,w=h._splomScenes[A.uid];A.type==="splom"&&w&&w.matrix&&c(f,A,w)}}function c(f,T,h){for(var s=h.matrixOptions.data.length,d=T._visibleDims,A=h.viewOpts.ranges=new Array(s),w=0;w<d.length;w++){var C=d[w],b=A[w]=new Array(4),S=v(f,T._diag[C][0]);S&&(b[0]=S.r2l(S.range[0]),b[2]=S.r2l(S.range[1]));var m=v(f,T._diag[C][1]);m&&(b[1]=m.r2l(m.range[0]),b[3]=m.r2l(m.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:A},{ranges:A}):h.matrix.update({ranges:A})}function u(f){var T=f._fullLayout,h=T._glcanvas.data()[0].regl,s=T._splomGrid;s||(s=T._splomGrid=y(h)),s.update(l(f))}function l(f){var T=f._context.plotGlPixelRatio,h=f._fullLayout,s=h._size,d=[0,0,h.width*T,h.height*T],A={},w;function C(W,$,te,ie,ue,J){te*=T,ie*=T,ue*=T,J*=T;var Y=$[W+"color"],ae=$[W+"width"],j=String(Y+ae);j in A?A[j].data.push(NaN,NaN,te,ie,ue,J):A[j]={data:[te,ie,ue,J],join:"rect",thickness:ae*T,color:Y,viewport:d,range:d,overlay:!1}}for(w in h._splomSubplots){var b=h._plots[w],S=b.xaxis,m=b.yaxis,a=S._gridVals,E=m._gridVals,x=S._offset,k=S._length,I=m._length,N=s.b+m.domain[0]*s.h,F=-m._m,z=-F*m.r2l(m.range[0],m.calendar),O,_;if(S.showgrid)for(w=0;w<a.length;w++)O=x+S.l2p(a[w].x),C("grid",S,O,N,O,N+I);if(m.showgrid)for(w=0;w<E.length;w++)_=N+z+F*E[w].x,C("grid",m,x,_,x+k,_);p(f,S,m)&&(O=x+S.l2p(0),C("zeroline",S,O,N,O,N+I)),p(f,m,S)&&(_=N+z+0,C("zeroline",m,x,_,x+k,_))}var B=[];for(w in A)B.push(A[w]);return B}function g(f,T,h,s){var d={},A;if(s._splomScenes){for(A=0;A<f.length;A++){var w=f[A];w.type==="splom"&&(d[w.uid]=1)}for(A=0;A<h.length;A++){var C=h[A];if(!d[C.uid]){var b=s._splomScenes[C.uid];b&&b.destroy&&b.destroy(),s._splomScenes[C.uid]=null,delete s._splomScenes[C.uid]}}}Object.keys(s._splomScenes||{}).length===0&&delete s._splomScenes,s._splomGrid&&!T._hasOnlyLargeSploms&&s._hasOnlyLargeSploms&&(s._splomGrid.destroy(),s._splomGrid=null,delete s._splomGrid),M.clean(f,T,h,s)}G.exports={name:r,attr:M.attr,attrRegex:M.attrRegex,layoutAttributes:M.layoutAttributes,supplyLayoutDefaults:M.supplyLayoutDefaults,drawFramework:M.drawFramework,plot:i,drag:n,updateGrid:u,clean:g,updateFx:M.updateFx,toSVG:M.toSVG,reglPrecompiled:t}},87625:function(G,V,e){var y=e(71828),P=e(41675),o=e(47761).calcMarkerSize,L=e(47761).calcAxisExpansion,M=e(36922),v=e(19635).markerSelection,p=e(19635).markerStyle,r=e(10164),t=e(50606).BADNUM,i=e(78232).TOO_MANY_POINTS;G.exports=function(c,u){var l=u.dimensions,g=u._length,f={},T=f.cdata=[],h=f.data=[],s=u._visibleDims=[],d,A,w,C,b;function S(k,I){for(var N=k.makeCalcdata({v:I.values,vcalendar:u.calendar},"v"),F=0;F<N.length;F++)N[F]=N[F]===t?NaN:N[F];T.push(N),h.push(k.type==="log"?y.simpleMap(N,k.c2l):N)}for(d=0;d<l.length;d++)if(w=l[d],w.visible){if(C=P.getFromId(c,u._diag[d][0]),b=P.getFromId(c,u._diag[d][1]),C&&b&&C.type!==b.type){y.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(S(C,w),b&&b.type==="category"&&(b._categories=C._categories.slice())):S(b,w),s.push(d)}M(c,u),y.extendFlat(f,p(c,u));var m=T.length,a=m*g>i,E;for(a?E=f.sizeAvg||Math.max(f.size,3):E=o(u,g),A=0;A<s.length;A++)d=s[A],w=l[d],C=P.getFromId(c,u._diag[d][0])||{},b=P.getFromId(c,u._diag[d][1])||{},L(c,u,C,b,T[A],T[A],E);var x=r(c,u);return x.matrix||(x.matrix=!0),x.matrixOptions=f,x.selectedOptions=v(c,u,u.selected),x.unselectedOptions=v(c,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},25784:function(G,V,e){var y=e(71828),P=e(85501),o=e(46880),L=e(34098),M=e(49508),v=e(94397),p=e(68645).isOpenSymbol;G.exports=function(n,c,u,l){function g(C,b){return y.coerce(n,c,o,C,b)}var f=P(n,c,{name:"dimensions",handleItemDefaults:r}),T=g("diagonal.visible"),h=g("showupperhalf"),s=g("showlowerhalf"),d=v(c,f,"values");if(!d||!T&&!h&&!s){c.visible=!1;return}g("text"),g("hovertext"),g("hovertemplate"),g("xhoverformat"),g("yhoverformat"),M(n,c,u,l,g,{noAngleRef:!0,noStandOff:!0});var A=p(c.marker.symbol),w=L.isBubble(c);g("marker.line.width",A||w?1:0),t(n,c,l,g),y.coerceSelectionMarkerOpacity(c,g)};function r(i,n){function c(l,g){return y.coerce(i,n,o.dimensions,l,g)}c("label");var u=c("values");u&&u.length?c("visible"):n.visible=!1,c("axis.type"),c("axis.matches")}function t(i,n,c,u){var l=n.dimensions,g=l.length,f=n.showupperhalf,T=n.showlowerhalf,h=n.diagonal.visible,s,d,A=new Array(g),w=new Array(g);for(s=0;s<g;s++){var C=s?s+1:"";A[s]="x"+C,w[s]="y"+C}var b=u("xaxes",A),S=u("yaxes",w),m=n._diag=new Array(g);n._xaxes={},n._yaxes={};var a=[],E=[];function x(W,$,te,ie){if(W){var ue=W.charAt(0),J=c._splomAxes[ue];if(n["_"+ue+"axes"][W]=1,ie.push(W),!(W in J)){var Y=J[W]={};te&&(Y.label=te.label||"",te.visible&&te.axis&&(te.axis.type&&(Y.type=te.axis.type),te.axis.matches&&(Y.matches=$)))}}}var k=!h&&!T,I=!h&&!f;for(n._axesDim={},s=0;s<g;s++){var N=l[s],F=s===0,z=s===g-1,O=F&&k||z&&I?void 0:b[s],_=F&&I||z&&k?void 0:S[s];x(O,_,N,a),x(_,O,N,E),m[s]=[O,_],n._axesDim[O]=s,n._axesDim[_]=s}for(s=0;s<a.length;s++)for(d=0;d<E.length;d++){var B=a[s]+E[d];(s>d&&f||s<d&&T||s===d&&(h||!T||!f))&&(c._splomSubplots[B]=1)}(!T||!h&&f&&T)&&(c._splomGridDflt.xside="bottom",c._splomGridDflt.yside="left")}},28801:function(G,V,e){var y=e(71828),P=e(36922),o=e(19635).markerStyle;G.exports=function(M,v){var p=v.trace,r=M._fullLayout._splomScenes[p.uid];if(r){P(M,p),y.extendFlat(r.matrixOptions,o(M,p));var t=y.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},35948:function(G,V){V.getDimIndex=function(y,P){for(var o=P._id,L=o.charAt(0),M={x:0,y:1}[L],v=y._visibleDims,p=0;p<v.length;p++){var r=v[p];if(y._diag[r][M]===o)return p}return!1}},8567:function(G,V,e){var y=e(35948),P=e(20794).calcHover;function o(L,M,v){var p=L.cd,r=p[0].trace,t=L.scene,i=t.matrixOptions.cdata,n=L.xa,c=L.ya,u=n.c2p(M),l=c.c2p(v),g=L.distance,f=y.getDimIndex(r,n),T=y.getDimIndex(r,c);if(f===!1||T===!1)return[L];for(var h=i[f],s=i[T],d,A,w=g,C=0;C<h.length;C++){var b=h[C],S=s[C],m=n.c2p(b)-u,a=c.c2p(S)-l,E=Math.sqrt(m*m+a*a);E<w&&(w=A=E,d=C)}return L.index=d,L.distance=w,L.dxy=A,d===void 0?[L]:[P(L,h,s,r)]}G.exports={hoverPoints:o}},6419:function(G,V,e){var y=e(65017);y.basePlotModule=e(16947),G.exports=y},79410:function(G,V,e){var y=e(60487),P=e(71828),o=e(41675),L=e(64505).selectMode;G.exports=function(p,r,t){if(t.length)for(var i=0;i<t.length;i++)M(p,t[i][0])};function M(v,p){var r=v._fullLayout,t=r._size,i=p.trace,n=p.t,c=r._splomScenes[i.uid],u=c.matrixOptions,l=u.cdata,g=r._glcanvas.data()[0].regl,f=r.dragmode,T,h,s,d,A;if(l.length!==0){u.lower=i.showupperhalf,u.upper=i.showlowerhalf,u.diagonal=i.diagonal.visible;var w=i._visibleDims,C=l.length,b=c.viewOpts={};for(b.ranges=new Array(C),b.domains=new Array(C),A=0;A<w.length;A++){s=w[A];var S=b.ranges[A]=new Array(4),m=b.domains[A]=new Array(4);T=o.getFromId(v,i._diag[s][0]),T&&(S[0]=T._rl[0],S[2]=T._rl[1],m[0]=T.domain[0],m[2]=T.domain[1]),h=o.getFromId(v,i._diag[s][1]),h&&(S[1]=h._rl[0],S[3]=h._rl[1],m[1]=h.domain[0],m[3]=h.domain[1])}var a=v._context.plotGlPixelRatio,E=t.l*a,x=t.b*a,k=t.w*a,I=t.h*a;b.viewport=[E,x,k+E,I+x],c.matrix===!0&&(c.matrix=y(g));var N=r.clickmode.indexOf("select")>-1,F=L(f)||!!i.selectedpoints||N,z=!0;if(F){var O=i._length;if(i.selectedpoints){c.selectBatch=i.selectedpoints;var _=i.selectedpoints,B={};for(s=0;s<_.length;s++)B[_[s]]=!0;var W=[];for(s=0;s<O;s++)B[s]||W.push(s);c.unselectBatch=W}var $=n.xpx=new Array(C),te=n.ypx=new Array(C);for(A=0;A<w.length;A++){if(s=w[A],T=o.getFromId(v,i._diag[s][0]),T)for($[A]=new Array(O),d=0;d<O;d++)$[A][d]=T.c2p(l[A][d]);if(h=o.getFromId(v,i._diag[s][1]),h)for(te[A]=new Array(O),d=0;d<O;d++)te[A][d]=h.c2p(l[A][d])}if(c.selectBatch.length||c.unselectBatch.length){var ie=P.extendFlat({},u,c.unselectedOptions,b),ue=P.extendFlat({},u,c.selectedOptions,b);c.matrix.update(ie,ue),z=!1}}else n.xpx=n.ypx=null;if(z){var J=P.extendFlat({},u,b);c.matrix.update(J,null)}}}},10164:function(G,V,e){var y=e(71828);G.exports=function(o,L){var M=o._fullLayout,v=L.uid,p=M._splomScenes;p||(p=M._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},i=p[L.uid];return i||(i=p[v]=y.extendFlat({},r,t),i.draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||y.extendFlat(i,r),i}},8689:function(G,V,e){var y=e(71828),P=y.pushUnique,o=e(34098),L=e(35948);G.exports=function(v,p){var r=v.cd,t=r[0].trace,i=r[0].t,n=v.scene,c=n.matrixOptions.cdata,u=v.xaxis,l=v.yaxis,g=[];if(!n)return g;var f=!o.hasMarkers(t)&&!o.hasText(t);if(t.visible!==!0||f)return g;var T=L.getDimIndex(t,u),h=L.getDimIndex(t,l);if(T===!1||h===!1)return g;var s=i.xpx[T],d=i.ypx[h],A=c[T],w=c[h],C=(v.scene.selectBatch||[]).slice(),b=[];if(p!==!1&&!p.degenerate)for(var S=0;S<A.length;S++)p.contains([s[S],d[S]],null,S,v)?(g.push({pointNumber:S,x:A[S],y:w[S]}),P(C,S)):C.indexOf(S)!==-1?P(C,S):b.push(S);var m=n.matrixOptions;return!C.length&&!b.length?n.matrix.update(m,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,y.extendFlat({},m,n.selectedOptions,n.viewOpts)),n.selectBatch=C,n.unselectBatch=b,g}},21850:function(G,V,e){var y=e(50693),P=e(12663).axisHoverFormat,o=e(5386).fF,L=e(2418),M=e(9012),v=e(1426).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:o({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:P("u",1),vhoverformat:P("v",1),whoverformat:P("w",1),xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(p,y("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=L[t]}),p.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},88489:function(G,V,e){var y=e(71828),P=e(78803);function o(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=L(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var i=0,n,c,u;r.starts&&(n=v(r.starts.x||[]),c=v(r.starts.y||[]),u=v(r.starts.z||[]),i=Math.min(n.length,c.length,u.length)),r._startsX=n||[],r._startsY=c||[],r._startsZ=u||[];var l=0,g=1/0,f;for(f=0;f<r._len;f++){var T=r._u[f],h=r._v[f],s=r._w[f],d=Math.sqrt(T*T+h*h+s*s);l=Math.max(l,d),g=Math.min(g,d)}for(P(p,r,{vals:[g,l],containerStr:"",cLetter:"c"}),f=0;f<i;f++){var A=n[f];t.xMax=Math.max(t.xMax,A),t.xMin=Math.min(t.xMin,A);var w=c[f];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var C=u[f];t.zMax=Math.max(t.zMax,C),t.zMin=Math.min(t.zMin,C)}r._slen=i,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function L(p){var r=p._x,t=p._y,i=p._z,n=p._len,c,u,l,g=-1/0,f=1/0,T=-1/0,h=1/0,s=-1/0,d=1/0,A="",w,C,b,S,m,a,E,x,k;for(n&&(S=r[0],a=t[0],x=i[0]),n>1&&(m=r[n-1],E=t[n-1],k=i[n-1]),c=0;c<n;c++)g=Math.max(g,r[c]),f=Math.min(f,r[c]),T=Math.max(T,t[c]),h=Math.min(h,t[c]),s=Math.max(s,i[c]),d=Math.min(d,i[c]),!w&&r[c]!==S&&(w=!0,A+="x"),!C&&t[c]!==a&&(C=!0,A+="y"),!b&&i[c]!==x&&(b=!0,A+="z");w||(A+="x"),C||(A+="y"),b||(A+="z");var I=M(p._x),N=M(p._y),F=M(p._z);A=A.replace("x",(S>m?"-":"+")+"x"),A=A.replace("y",(a>E?"-":"+")+"y"),A=A.replace("z",(x>k?"-":"+")+"z");var z=function(){n=0,I=[],N=[],F=[]};(!n||n<I.length*N.length*F.length)&&z();var O=function(fe){return fe==="x"?r:fe==="y"?t:i},_=function(fe){return fe==="x"?I:fe==="y"?N:F},B=function(fe){return fe[n-1]<fe[0]?-1:1},W=O(A[1]),$=O(A[3]),te=O(A[5]),ie=_(A[1]).length,ue=_(A[3]).length,J=_(A[5]).length,Y=!1,ae=function(fe,ye,Se){return ie*(ue*fe+ye)+Se},j=B(O(A[1])),q=B(O(A[3])),oe=B(O(A[5]));for(c=0;c<J-1;c++){for(u=0;u<ue-1;u++){for(l=0;l<ie-1;l++){var Q=ae(c,u,l),X=ae(c,u,l+1),se=ae(c,u+1,l),ne=ae(c+1,u,l);if((!(W[Q]*j<W[X]*j)||!($[Q]*q<$[se]*q)||!(te[Q]*oe<te[ne]*oe))&&(Y=!0),Y)break}if(Y)break}if(Y)break}return Y&&(y.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:f,yMin:h,zMin:d,xMax:g,yMax:T,zMax:s,Xs:I,Ys:N,Zs:F,len:n,fill:A}}function M(p){return y.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),y.isTypedArray(p))return p.subarray(0,r);for(var t=[],i=0;i<r;i++)t[i]=+p[i];return t}G.exports={calc:o,filter:v,processGrid:L}},90154:function(G,V,e){var y=e(9330).gl_streamtube3d,P=y.createTubeMesh,o=e(71828),L=e(81697).parseColorScale,M=e(21081).extractOpts,v=e(90060),p={xaxis:0,yaxis:1,zaxis:2};function r(l,g){this.scene=l,this.uid=g,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var g=this.scene.fullSceneLayout,f=this.scene.dataScale;function T(d,A){var w=g[A],C=f[p[A]];return w.l2c(d)/C}if(l.object===this.mesh){var h=l.data.position,s=l.data.velocity;return l.traceCoordinate=[T(h[0],"xaxis"),T(h[1],"yaxis"),T(h[2],"zaxis"),T(s[0],"xaxis"),T(s[1],"yaxis"),T(s[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function i(l){var g=l.length,f;return g>2?f=l.slice(1,g-1):g===2?f=[(l[0]+l[1])/2]:f=l,f}function n(l){var g=l.length;return g===1?[.5,.5]:[l[1]-l[0],l[g-1]-l[g-2]]}function c(l,g){var f=l.fullSceneLayout,T=l.dataScale,h=g._len,s={};function d(ue,J){var Y=f[J],ae=T[p[J]];return o.simpleMap(ue,function(j){return Y.d2l(j)*ae})}if(s.vectors=v(d(g._u,"xaxis"),d(g._v,"yaxis"),d(g._w,"zaxis"),h),!h)return{positions:[],cells:[]};var A=d(g._Xs,"xaxis"),w=d(g._Ys,"yaxis"),C=d(g._Zs,"zaxis");s.meshgrid=[A,w,C],s.gridFill=g._gridFill;var b=g._slen;if(b)s.startingPositions=v(d(g._startsX,"xaxis"),d(g._startsY,"yaxis"),d(g._startsZ,"zaxis"));else{for(var S=w[0],m=i(A),a=i(C),E=new Array(m.length*a.length),x=0,k=0;k<m.length;k++)for(var I=0;I<a.length;I++)E[x++]=[m[k],S,a[I]];s.startingPositions=E}s.colormap=L(g),s.tubeSize=g.sizeref,s.maxLength=g.maxdisplayed;var N=d(g._xbnds,"xaxis"),F=d(g._ybnds,"yaxis"),z=d(g._zbnds,"zaxis"),O=n(A),_=n(w),B=n(C),W=[[N[0]-O[0],F[0]-_[0],z[0]-B[0]],[N[1]+O[1],F[1]+_[1],z[1]+B[1]]],$=y(s,W),te=M(g);$.vertexIntensityBounds=[te.min/g._normMax,te.max/g._normMax];var ie=g.lightposition;return $.lightPosition=[ie.x,ie.y,ie.z],$.ambient=g.lighting.ambient,$.diffuse=g.lighting.diffuse,$.specular=g.lighting.specular,$.roughness=g.lighting.roughness,$.fresnel=g.lighting.fresnel,$.opacity=g.opacity,g._pad=$.tubeScale*g.sizeref*2,$}t.update=function(l){this.data=l;var g=c(this.scene,l);this.mesh.update(g)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(l,g){var f=l.glplot.gl,T=c(l,g),h=P(f,T),s=new r(l,g.uid);return s.mesh=h,s.data=g,h._trace=s,l.glplot.add(h),s}G.exports=u},22459:function(G,V,e){var y=e(71828),P=e(1586),o=e(21850);G.exports=function(M,v,p,r){function t(f,T){return y.coerce(M,v,o,f,T)}var i=t("u"),n=t("v"),c=t("w"),u=t("x"),l=t("y"),g=t("z");if(!i||!i.length||!n||!n.length||!c||!c.length||!u||!u.length||!l||!l.length||!g||!g.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),P(M,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},61510:function(G,V,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(y,P){return y.tubex=y.x,y.tubey=y.y,y.tubez=y.z,y.tubeu=P.traceCoordinate[3],y.tubev=P.traceCoordinate[4],y.tubew=P.traceCoordinate[5],y.norm=P.traceCoordinate[6],y.divergence=P.traceCoordinate[7],delete y.x,delete y.y,delete y.z,y},meta:{}}},57564:function(G,V,e){var y=e(9012),P=e(5386).fF,o=e(5386).si,L=e(50693),M=e(27670).Y,v=e(34e3),p=e(7055),r=e(1426).extendFlat,t=e(79952).u;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:o({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},y.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:P({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:M({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(G,V,e){var y=e(74875);V.name="sunburst",V.plot=function(P,o,L,M){y.plotBasePlot(V.name,P,o,L,M)},V.clean=function(P,o,L,M){y.cleanBasePlot(V.name,P,o,L,M)}},52147:function(G,V,e){var y=e(674),P=e(92770),o=e(71828),L=e(21081).makeColorScaleFuncFromTrace,M=e(32354).makePullColorFn,v=e(32354).generateExtendedColors,p=e(21081).calc,r=e(50606).ALMOST_EQUAL,t={},i={},n={};V.calc=function(u,l){var g=u._fullLayout,f=l.ids,T=o.isArrayOrTypedArray(f),h=l.labels,s=l.parents,d=l.values,A=o.isArrayOrTypedArray(d),w=[],C={},b={},S=function(j,q){C[j]?C[j].push(q):C[j]=[q],b[q]=1},m=function(j){return j||typeof j=="number"},a=function(j){return!A||P(d[j])&&d[j]>=0},E,x,k;T?(E=Math.min(f.length,s.length),x=function(j){return m(f[j])&&a(j)},k=function(j){return String(f[j])}):(E=Math.min(h.length,s.length),x=function(j){return m(h[j])&&a(j)},k=function(j){return String(h[j])}),A&&(E=Math.min(E,d.length));for(var I=0;I<E;I++)if(x(I)){var N=k(I),F=m(s[I])?String(s[I]):"",z={i:I,id:N,pid:F,label:m(h[I])?String(h[I]):""};A&&(z.v=+d[I]),w.push(z),S(F,N)}if(C[""]){if(C[""].length>1){for(var B=o.randstr(),W=0;W<w.length;W++)w[W].pid===""&&(w[W].pid=B);w.unshift({hasMultipleRoots:!0,id:B,pid:"",label:""})}}else{var O=[],_;for(_ in C)b[_]||O.push(_);if(O.length===1)_=O[0],w.unshift({hasImpliedRoot:!0,id:_,pid:"",label:_});else return o.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",O.join(", ")].join(" "))}var $;try{$=y.stratify().id(function(j){return j.id}).parentId(function(j){return j.pid})(w)}catch(j){return o.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",j.message].join(" "))}var te=y.hierarchy($),ie=!1;if(A)switch(l.branchvalues){case"remainder":te.sum(function(j){return j.data.v});break;case"total":te.each(function(j){var q=j.data.data,oe=q.v;if(j.children){var Q=j.children.reduce(function(X,se){return X+se.data.data.v},0);if((q.hasImpliedRoot||q.hasMultipleRoots)&&(oe=Q),oe<Q*r)return ie=!0,o.warn(["Total value for node",j.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,oe,`
children sum =`,Q].join(" "))}j.value=oe});break}else c(te,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!ie){l.sort&&te.sort(function(j,q){return q.value-j.value});var ue,J,Y=l.marker.colors||[],ae=!!Y.length;return l._hasColorscale?(ae||(Y=A?l.values:l._values),p(u,l,{vals:Y,containerStr:"marker",cLetter:"c"}),J=L(l.marker)):ue=M(g["_"+l.type+"colormap"]),te.each(function(j){var q=j.data.data;q.color=l._hasColorscale?J(Y[q.i]):ue(Y[q.i],q.id)}),w[0].hierarchy=te,w}},V._runCrossTraceCalc=function(u,l){var g=l._fullLayout,f=l.calcdata,T=g[u+"colorway"],h=g["_"+u+"colormap"];g["extend"+u+"colors"]&&(T=v(T,u==="icicle"?n:u==="treemap"?i:t));var s=0,d;function A(S){var m=S.data.data,a=m.id;m.color===!1&&(h[a]?m.color=h[a]:S.parent?S.parent.parent?m.color=S.parent.data.data.color:(h[a]=m.color=T[s%T.length],s++):m.color=d)}for(var w=0;w<f.length;w++){var C=f[w],b=C[0];b.trace.type===u&&b.hierarchy&&(d=b.trace.root.color,b.hierarchy.each(A))}},V.crossTraceCalc=function(u){return V._runCrossTraceCalc("sunburst",u)};function c(u,l,g){var f=0,T=u.children;if(T){for(var h=T.length,s=0;s<h;s++)f+=c(T[s],l,g);g.branches&&f++}else g.leaves&&f++;return u.value=u.data.data.value=f,l._values||(l._values=[]),l._values[u.data.data.i]=f,f}},7055:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(G,V,e){var y=e(71828),P=e(57564),o=e(27670).c,L=e(90769).handleText,M=e(37434).handleMarkerDefaults,v=e(21081),p=v.hasColorscale,r=v.handleDefaults;G.exports=function(i,n,c,u){function l(A,w){return y.coerce(i,n,P,A,w)}var g=l("labels"),f=l("parents");if(!g||!g.length||!f||!f.length){n.visible=!1;return}var T=l("values");T&&T.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),M(i,n,u,l);var h=n._hasColorscale=p(i,"marker","colors")||(i.marker||{}).coloraxis;h&&r(i,n,u,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",h?1:.7);var s=l("text");l("texttemplate"),n.texttemplate||l("textinfo",y.isArrayOrTypedArray(s)?"text+label":"label"),l("hovertext"),l("hovertemplate");var d="auto";L(i,n,u,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),o(n,u,l),n._length=null}},43467:function(G,V,e){var y=e(91424),P=e(7901);G.exports=function(L,M,v,p,r){var t=M.data.data,i=t.i,n=r||t.color;if(i>=0){M.i=t.i;var c=v.marker;c.pattern?(!c.colors||!c.pattern.shape)&&(c.color=n,M.color=n):(c.color=n,M.color=n),y.pointStyle(L,v,p,M)}else P.fill(L,n)}},83523:function(G,V,e){var y=e(39898),P=e(73972),o=e(23469).appendArrayPointValue,L=e(30211),M=e(71828),v=e(11086),p=e(2791),r=e(53581),t=r.formatPieValue;G.exports=function(c,u,l,g,f){var T=g[0],h=T.trace,s=T.hierarchy,d=h.type==="sunburst",A=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1);var w=function(S){var m=l._fullLayout;if(!(l._dragging||m.hovermode===!1)){var a=l._fullData[h.index],E=S.data.data,x=E.i,k=p.isHierarchyRoot(S),I=p.getParent(s,S),N=p.getValue(S),F=function(X){return M.castOption(a,x,X)},z=F("hovertemplate"),O=L.castHoverinfo(a,m,x),_=m.separators,B;if(z||O&&O!=="none"&&O!=="skip"){var W,$;d&&(W=T.cx+S.pxmid[0]*(1-S.rInscribed),$=T.cy+S.pxmid[1]*(1-S.rInscribed)),A&&(W=S._hoverX,$=S._hoverY);var te={},ie=[],ue=[],J=function(X){return ie.indexOf(X)!==-1};O&&(ie=O==="all"?a._module.attributes.hoverinfo.flags:O.split("+")),te.label=E.label,J("label")&&te.label&&ue.push(te.label),E.hasOwnProperty("v")&&(te.value=E.v,te.valueLabel=t(te.value,_),J("value")&&ue.push(te.valueLabel)),te.currentPath=S.currentPath=p.getPath(S.data),J("current path")&&!k&&ue.push(te.currentPath);var Y,ae=[],j=function(){ae.indexOf(Y)===-1&&(ue.push(Y),ae.push(Y))};te.percentParent=S.percentParent=N/p.getValue(I),te.parent=S.parentString=p.getPtLabel(I),J("percent parent")&&(Y=p.formatPercent(te.percentParent,_)+" of "+te.parent,j()),te.percentEntry=S.percentEntry=N/p.getValue(u),te.entry=S.entry=p.getPtLabel(u),J("percent entry")&&!k&&!S.onPathbar&&(Y=p.formatPercent(te.percentEntry,_)+" of "+te.entry,j()),te.percentRoot=S.percentRoot=N/p.getValue(s),te.root=S.root=p.getPtLabel(s),J("percent root")&&!k&&(Y=p.formatPercent(te.percentRoot,_)+" of "+te.root,j()),te.text=F("hovertext")||F("text"),J("text")&&(Y=te.text,M.isValidTextValue(Y)&&ue.push(Y)),B=[i(S,a,f.eventDataKeys)];var q={trace:a,y:$,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:ue.join("<br>"),name:z||J("name")?a.name:void 0,color:F("hoverlabel.bgcolor")||E.color,borderColor:F("hoverlabel.bordercolor"),fontFamily:F("hoverlabel.font.family"),fontSize:F("hoverlabel.font.size"),fontColor:F("hoverlabel.font.color"),nameLength:F("hoverlabel.namelength"),textAlign:F("hoverlabel.align"),hovertemplate:z,hovertemplateLabels:te,eventData:B};d&&(q.x0=W-S.rInscribed*S.rpx1,q.x1=W+S.rInscribed*S.rpx1,q.idealAlign=S.pxmid[0]<0?"left":"right"),A&&(q.x=W,q.idealAlign=W<0?"left":"right");var oe=[];L.loneHover(q,{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:l,inOut_bbox:oe}),B[0].bbox=oe[0],h._hasHoverLabel=!0}if(A){var Q=c.select("path.surface");f.styleOne(Q,S,a,l,{hovered:!0})}h._hasHoverEvent=!0,l.emit("plotly_hover",{points:B||[i(S,a,f.eventDataKeys)],event:y.event})}},C=function(S){var m=l._fullLayout,a=l._fullData[h.index],E=y.select(this).datum();if(h._hasHoverEvent&&(S.originalEvent=y.event,l.emit("plotly_unhover",{points:[i(E,a,f.eventDataKeys)],event:y.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(L.loneUnhover(m._hoverlayer.node()),h._hasHoverLabel=!1),A){var x=c.select("path.surface");f.styleOne(x,E,a,l,{hovered:!1})}},b=function(S){var m=l._fullLayout,a=l._fullData[h.index],E=d&&(p.isHierarchyRoot(S)||p.isLeaf(S)),x=p.getPtId(S),k=p.isEntry(S)?p.findEntryWithChild(s,x):p.findEntryWithLevel(s,x),I=p.getPtId(k),N={points:[i(S,a,f.eventDataKeys)],event:y.event};E||(N.nextLevel=I);var F=v.triggerHandler(l,"plotly_"+h.type+"click",N);if(F!==!1&&m.hovermode&&(l._hoverdata=[i(S,a,f.eventDataKeys)],L.click(l,y.event)),!E&&F!==!1&&!l._dragging&&!l._transitioning){P.call("_storeDirectGUIEdit",a,m._tracePreGUI[a.uid],{level:a.level});var z={data:[{level:I}],traces:[h.index]},O={frame:{redraw:!1,duration:f.transitionTime},transition:{duration:f.transitionTime,easing:f.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(m._hoverlayer.node()),P.call("animate",l,z,O)}};c.on("mouseover",w),c.on("mouseout",C),c.on("click",b)};function i(n,c,u){for(var l=n.data.data,g={curveNumber:c.index,pointNumber:l.i,data:c._input,fullData:c},f=0;f<u.length;f++){var T=u[f];T in n&&(g[T]=n[T])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(g.parent=n.parentString),o(g,c,l.i),g}},2791:function(G,V,e){var y=e(71828),P=e(7901),o=e(6964),L=e(53581);V.findEntryWithLevel=function(r,t){var i;return t&&r.eachAfter(function(n){if(V.getPtId(n)===t)return i=n.copy()}),i||r},V.findEntryWithChild=function(r,t){var i;return r.eachAfter(function(n){for(var c=n.children||[],u=0;u<c.length;u++){var l=c[u];if(V.getPtId(l)===t)return i=n.copy()}}),i||r},V.isEntry=function(r){return!r.parent},V.isLeaf=function(r){return!r.children},V.getPtId=function(r){return r.data.data.id},V.getPtLabel=function(r){return r.data.data.label},V.getValue=function(r){return r.value},V.isHierarchyRoot=function(r){return p(r)===""},V.setSliceCursor=function(r,t,i){var n=i.isTransitioning;if(!n){var c=r.datum();n=i.hideOnRoot&&V.isHierarchyRoot(c)||i.hideOnLeaves&&V.isLeaf(c)}o(r,n?null:"pointer")};function M(r,t,i){return{color:V.getOutsideTextFontKey("color",r,t,i),family:V.getOutsideTextFontKey("family",r,t,i),size:V.getOutsideTextFontKey("size",r,t,i)}}function v(r,t,i,n){var c=(n||{}).onPathbar,u=t.data.data,l=u.i,g=y.castOption(r,l,(c?"pathbar.textfont":"insidetextfont")+".color");return!g&&r._input.textfont&&(g=y.castOption(r._input,l,"textfont.color")),{color:g||P.contrast(u.color),family:V.getInsideTextFontKey("family",r,t,i,n),size:V.getInsideTextFontKey("size",r,t,i,n)}}V.getInsideTextFontKey=function(r,t,i,n,c){var u=(c||{}).onPathbar,l=u?"pathbar.textfont":"insidetextfont",g=i.data.data.i;return y.castOption(t,g,l+"."+r)||y.castOption(t,g,"textfont."+r)||n.size},V.getOutsideTextFontKey=function(r,t,i,n){var c=i.data.data.i;return y.castOption(t,c,"outsidetextfont."+r)||y.castOption(t,c,"textfont."+r)||n.size},V.isOutsideText=function(r,t){return!r._hasColorscale&&V.isHierarchyRoot(t)},V.determineTextFont=function(r,t,i,n){return V.isOutsideText(r,t)?M(r,t,i):v(r,t,i,n)},V.hasTransition=function(r){return!!(r&&r.duration>0)},V.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},V.isHeader=function(r,t){return!(V.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}V.getParent=function(r,t){return V.findEntryWithLevel(r,p(t))},V.listPath=function(r,t){var i=r.parent;if(!i)return[];var n=t?[i.data[t]]:[i];return V.listPath(i,t).concat(n)},V.getPath=function(r){return V.listPath(r,"label").join("/")+"/"},V.formatValue=L.formatPieValue,V.formatPercent=function(r,t){var i=y.formatPercent(r,0);return i==="0%"&&(i=L.formatPiePercent(r,t)),i}},87619:function(G,V,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(G,V,e){var y=e(71828),P=e(2654);G.exports=function(L,M){function v(p,r){return y.coerce(L,M,P,p,r)}v("sunburstcolorway",M.colorway),v("extendsunburstcolors")}},24714:function(G,V,e){var y=e(39898),P=e(674),o=e(81684).sX,L=e(91424),M=e(71828),v=e(63893),p=e(72597),r=p.recordMinTextSize,t=p.clearMinTextSize,i=e(14575),n=e(53581).getRotationAngle,c=i.computeTransform,u=i.transformInsideText,l=e(29969).styleOne,g=e(16688).resizeText,f=e(83523),T=e(7055),h=e(2791);V.plot=function(b,S,m,a){var E=b._fullLayout,x=E._sunburstlayer,k,I,N=!m,F=!E.uniformtext.mode&&h.hasTransition(m);if(t("sunburst",E),k=x.selectAll("g.trace.sunburst").data(S,function(O){return O[0].trace.uid}),k.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),k.order(),F){a&&(I=a());var z=y.transition().duration(m.duration).ease(m.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()});z.each(function(){x.selectAll("g.trace").each(function(O){s(b,O,this,m)})})}else k.each(function(O){s(b,O,this,m)}),E.uniformtext.mode&&g(b,E._sunburstlayer.selectAll(".trace"),"sunburst");N&&k.exit().remove()};function s(b,S,m,a){var E=b._context.staticPlot,x=b._fullLayout,k=!x.uniformtext.mode&&h.hasTransition(a),I=y.select(m),N=I.selectAll("g.slice"),F=S[0],z=F.trace,O=F.hierarchy,_=h.findEntryWithLevel(O,z.level),B=h.getMaxDepth(z),W=x._size,$=z.domain,te=W.w*($.x[1]-$.x[0]),ie=W.h*($.y[1]-$.y[0]),ue=.5*Math.min(te,ie),J=F.cx=W.l+W.w*($.x[1]+$.x[0])/2,Y=F.cy=W.t+W.h*(1-$.y[0])-ie/2;if(!_)return N.remove();var ae=null,j={};k&&N.each(function(He){j[h.getPtId(He)]={rpx0:He.rpx0,rpx1:He.rpx1,x0:He.x0,x1:He.x1,transform:He.transform},!ae&&h.isEntry(He)&&(ae=He)});var q=d(_).descendants(),oe=_.height+1,Q=0,X=B;F.hasMultipleRoots&&h.isHierarchyRoot(_)&&(q=q.slice(1),oe-=1,Q=1,X+=1),q=q.filter(function(He){return He.y1<=X});var se=n(z.rotation);se&&q.forEach(function(He){He.x0+=se,He.x1+=se});var ne=Math.min(oe,B),fe=function(He){return(He-Q)/ne*ue},ye=function(He,nt){return[He*Math.cos(nt),-He*Math.sin(nt)]},Se=function(He){return M.pathAnnulus(He.rpx0,He.rpx1,He.x0,He.x1,J,Y)},we=function(He){return J+w(He)[0]*(He.transform.rCenter||0)+(He.transform.x||0)},_e=function(He){return Y+w(He)[1]*(He.transform.rCenter||0)+(He.transform.y||0)};N=N.data(q,h.getPtId),N.enter().append("g").classed("slice",!0),k?N.exit().transition().each(function(){var He=y.select(this),nt=He.select("path.surface");nt.transition().attrTween("d",function($e){var qe=Ee($e);return function(ct){return Se(qe(ct))}});var lt=He.select("g.slicetext");lt.attr("opacity",0)}).remove():N.exit().remove(),N.order();var ke=null;if(k&&ae){var Me=h.getPtId(ae);N.each(function(He){ke===null&&h.getPtId(He)===Me&&(ke=He.x1)})}var me=N;k&&(me=me.transition().each("end",function(){var He=y.select(this);h.setSliceCursor(He,b,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),me.each(function(He){var nt=y.select(this),lt=M.ensureSingle(nt,"path","surface",function(At){At.style("pointer-events",E?"none":"all")});He.rpx0=fe(He.y0),He.rpx1=fe(He.y1),He.xmid=(He.x0+He.x1)/2,He.pxmid=ye(He.rpx1,He.xmid),He.midangle=-(He.xmid-Math.PI/2),He.startangle=-(He.x0-Math.PI/2),He.stopangle=-(He.x1-Math.PI/2),He.halfangle=.5*Math.min(M.angleDelta(He.x0,He.x1)||Math.PI,Math.PI),He.ring=1-He.rpx0/He.rpx1,He.rInscribed=A(He),k?lt.transition().attrTween("d",function(At){var Rt=Be(At);return function(Vt){return Se(Rt(Vt))}}):lt.attr("d",Se),nt.call(f,_,b,S,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(h.setSliceCursor,b,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:b._transitioning}),lt.call(l,He,z,b);var $e=M.ensureSingle(nt,"g","slicetext"),qe=M.ensureSingle($e,"text","",function(At){At.attr("data-notex",1)}),ct=M.ensureUniformFontSize(b,h.determineTextFont(z,He,x.font));qe.text(V.formatSliceLabel(He,_,z,S,x)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,ct).call(v.convertToTspans,b);var dt=L.bBox(qe.node());He.transform=u(dt,He,F),He.transform.targetX=we(He),He.transform.targetY=_e(He);var gt=function(At,Rt){var Vt=At.transform;return c(Vt,Rt),Vt.fontSize=ct.size,r(z.type,Vt,x),M.getTextTransform(Vt)};k?qe.transition().attrTween("transform",function(At){var Rt=Ue(At);return function(Vt){return gt(Rt(Vt),dt)}}):qe.attr("transform",gt(He,dt))});function Ee(He){var nt=h.getPtId(He),lt=j[nt],$e=j[h.getPtId(_)],qe;if($e){var ct=(He.x1>$e.x1?2*Math.PI:0)+se;qe=He.rpx1<$e.rpx1?{x0:He.x0,x1:He.x1,rpx0:0,rpx1:0}:{x0:ct,x1:ct,rpx0:He.rpx0,rpx1:He.rpx1}}else{var dt,gt=h.getPtId(He.parent);N.each(function(Ve){if(h.getPtId(Ve)===gt)return dt=Ve});var At=dt.children,Rt;At.forEach(function(Ve,Ie){if(h.getPtId(Ve)===nt)return Rt=Ie});var Vt=At.length,Je=o(dt.x0,dt.x1);qe={rpx0:ue,rpx1:ue,x0:Je(Rt/Vt),x1:Je((Rt+1)/Vt)}}return o(lt,qe)}function Be(He){var nt=j[h.getPtId(He)],lt,$e={x0:He.x0,x1:He.x1,rpx0:He.rpx0,rpx1:He.rpx1};if(nt)lt=nt;else if(ae)if(He.parent)if(ke){var qe=(He.x1>ke?2*Math.PI:0)+se;lt={x0:qe,x1:qe}}else lt={rpx0:ue,rpx1:ue},M.extendFlat(lt,De(He));else lt={rpx0:0,rpx1:0};else lt={x0:se,x1:se};return o(lt,$e)}function Ue(He){var nt=j[h.getPtId(He)],lt,$e=He.transform;if(nt)lt=nt;else if(lt={rpx1:He.rpx1,transform:{textPosAngle:$e.textPosAngle,scale:0,rotate:$e.rotate,rCenter:$e.rCenter,x:$e.x,y:$e.y}},ae)if(He.parent)if(ke){var qe=He.x1>ke?2*Math.PI:0;lt.x0=lt.x1=qe}else M.extendFlat(lt,De(He));else lt.x0=lt.x1=se;else lt.x0=lt.x1=se;var ct=o(lt.transform.textPosAngle,He.transform.textPosAngle),dt=o(lt.rpx1,He.rpx1),gt=o(lt.x0,He.x0),At=o(lt.x1,He.x1),Rt=o(lt.transform.scale,$e.scale),Vt=o(lt.transform.rotate,$e.rotate),Je=$e.rCenter===0?3:lt.transform.rCenter===0?1/3:1,Ve=o(lt.transform.rCenter,$e.rCenter),Ie=function(Oe){return Ve(Math.pow(Oe,Je))};return function(Oe){var Le=dt(Oe),xe=gt(Oe),pe=At(Oe),Ae=Ie(Oe),Te=ye(Le,(xe+pe)/2),Ne=ct(Oe),Ye={pxmid:Te,rpx1:Le,transform:{textPosAngle:Ne,rCenter:Ae,x:$e.x,y:$e.y}};return r(z.type,$e,x),{transform:{targetX:we(Ye),targetY:_e(Ye),scale:Rt(Oe),rotate:Vt(Oe),rCenter:Ae}}}}function De(He){var nt=He.parent,lt=j[h.getPtId(nt)],$e={};if(lt){var qe=nt.children,ct=qe.indexOf(He),dt=qe.length,gt=o(lt.x0,lt.x1);$e.x0=gt(ct/dt),$e.x1=gt(ct/dt)}else $e.x0=$e.x1=0;return $e}}function d(b){return P.partition().size([2*Math.PI,b.height+1])(b)}V.formatSliceLabel=function(b,S,m,a,E){var x=m.texttemplate,k=m.textinfo;if(!x&&(!k||k==="none"))return"";var I=E.separators,N=a[0],F=b.data.data,z=N.hierarchy,O=h.isHierarchyRoot(b),_=h.getParent(z,b),B=h.getValue(b);if(!x){var W=k.split("+"),$=function(Q){return W.indexOf(Q)!==-1},te=[],ie;if($("label")&&F.label&&te.push(F.label),F.hasOwnProperty("v")&&$("value")&&te.push(h.formatValue(F.v,I)),!O){$("current path")&&te.push(h.getPath(b.data));var ue=0;$("percent parent")&&ue++,$("percent entry")&&ue++,$("percent root")&&ue++;var J=ue>1;if(ue){var Y,ae=function(Q){ie=h.formatPercent(Y,I),J&&(ie+=" of "+Q),te.push(ie)};$("percent parent")&&!O&&(Y=B/h.getValue(_),ae("parent")),$("percent entry")&&(Y=B/h.getValue(S),ae("entry")),$("percent root")&&(Y=B/h.getValue(z),ae("root"))}}return $("text")&&(ie=M.castOption(m,F.i,"text"),M.isValidTextValue(ie)&&te.push(ie)),te.join("<br>")}var j=M.castOption(m,F.i,"texttemplate");if(!j)return"";var q={};F.label&&(q.label=F.label),F.hasOwnProperty("v")&&(q.value=F.v,q.valueLabel=h.formatValue(F.v,I)),q.currentPath=h.getPath(b.data),O||(q.percentParent=B/h.getValue(_),q.percentParentLabel=h.formatPercent(q.percentParent,I),q.parent=h.getPtLabel(_)),q.percentEntry=B/h.getValue(S),q.percentEntryLabel=h.formatPercent(q.percentEntry,I),q.entry=h.getPtLabel(S),q.percentRoot=B/h.getValue(z),q.percentRootLabel=h.formatPercent(q.percentRoot,I),q.root=h.getPtLabel(z),F.hasOwnProperty("color")&&(q.color=F.color);var oe=M.castOption(m,F.i,"text");return(M.isValidTextValue(oe)||oe==="")&&(q.text=oe),q.customdata=M.castOption(m,F.i,"customdata"),M.texttemplateString(j,q,E._d3locale,q,m._meta||{})};function A(b){return b.rpx0===0&&M.isFullCircle([b.x0,b.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(b.halfangle)),b.ring/2))}function w(b){return C(b.rpx1,b.transform.textPosAngle)}function C(b,S){return[b*Math.sin(S),-b*Math.cos(S)]}},29969:function(G,V,e){var y=e(39898),P=e(7901),o=e(71828),L=e(72597).resizeText,M=e(43467);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");L(r,t,"sunburst"),t.each(function(i){var n=y.select(this),c=i[0],u=c.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){y.select(this).call(p,l,u,r)})})}function p(r,t,i,n){var c=t.data.data,u=!t.children,l=c.i,g=o.castOption(i,l,"marker.line.color")||P.defaultLine,f=o.castOption(i,l,"marker.line.width")||0;r.call(M,t,i,n).style("stroke-width",f).call(P.stroke,g).style("opacity",u?i.leaf.opacity:null)}G.exports={style:v,styleOne:p}},54532:function(G,V,e){var y=e(7901),P=e(50693),o=e(12663).axisHoverFormat,L=e(5386).fF,M=e(9012),v=e(1426).extendFlat,p=e(30962).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:y.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:y.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=G.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:o("x"),yhoverformat:o("y"),zhoverformat:o("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},P("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},P.zauto,{}),zmin:v({},P.zmin,{}),zmax:v({},P.zmax,{})},hoverinfo:v({},M.hoverinfo),showlegend:v({},M.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},18396:function(G,V,e){var y=e(78803);G.exports=function(o,L){L.surfacecolor?y(o,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):y(o,L,{vals:L.z,containerStr:"",cLetter:"c"})}},43768:function(G,V,e){var y=e(9330).gl_surface3d,P=e(9330).ndarray,o=e(9330).ndarray_linear_interpolate.d2,L=e(824),M=e(43907),v=e(71828).isArrayOrTypedArray,p=e(81697).parseColorScale,r=e(78614),t=e(21081).extractOpts;function i(a,E,x){this.scene=a,this.uid=x,this.surface=E,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=i.prototype;n.getXat=function(a,E,x,k){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[E][a]:this.data.x[a]:a;return x===void 0?I:k.d2l(I,0,x)},n.getYat=function(a,E,x,k){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[E][a]:this.data.y[E]:E;return x===void 0?I:k.d2l(I,0,x)},n.getZat=function(a,E,x,k){var I=this.data.z[E][a];return I===null&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[E][a]),x===void 0?I:k.d2l(I,0,x)},n.handlePick=function(a){if(a.object===this.surface){var E=(a.data.index[0]-1)/this.dataScaleX-1,x=(a.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round(E),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(x),this.data._ylength-1),0);a.index=[k,I],a.traceCoordinate=[this.getXat(k,I),this.getYat(k,I),this.getZat(k,I)],a.dataCoordinate=[this.getXat(k,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var F=a.dataCoordinate[N];F!=null&&(a.dataCoordinate[N]*=this.scene.dataScale[N])}var z=this.data.hovertext||this.data.text;return v(z)&&z[I]&&z[I][k]!==void 0?a.textLabel=z[I][k]:z?a.textLabel=z:a.textLabel="",a.data.dataCoordinate=a.dataCoordinate.slice(),this.surface.highlight(a.data),this.scene.glplot.spikes.position=a.dataCoordinate,!0}};function c(a){var E=a[0].rgb,x=a[a.length-1].rgb;return E[0]===x[0]&&E[1]===x[1]&&E[2]===x[2]&&E[3]===x[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(a,E){if(a<E)return 0;for(var x=0;Math.floor(a%E)===0;)a/=E,x++;return x}function g(a){for(var E=[],x=0;x<u.length;x++){var k=u[x];E.push(l(a,k))}return E}function f(a){for(var E=g(a),x=a,k=0;k<u.length;k++)if(E[k]>0){x=u[k];break}return x}function T(a,E){if(!(a<1||E<1)){for(var x=g(a),k=g(E),I=1,N=0;N<u.length;N++)I*=Math.pow(u[N],Math.max(x[N],k[N]));return I}}function h(a){if(a.length!==0){for(var E=1,x=0;x<a.length;x++)E=T(E,a[x]);return E}}n.calcXnums=function(a){var E,x=[];for(E=1;E<a;E++){var k=this.getXat(E-1,0),I=this.getXat(E,0);I!==k&&k!==void 0&&k!==null&&I!==void 0&&I!==null?x[E-1]=Math.abs(I-k):x[E-1]=0}var N=0;for(E=1;E<a;E++)N+=x[E-1];for(E=1;E<a;E++)x[E-1]===0?x[E-1]=1:x[E-1]=Math.round(N/x[E-1]);return x},n.calcYnums=function(a){var E,x=[];for(E=1;E<a;E++){var k=this.getYat(0,E-1),I=this.getYat(0,E);I!==k&&k!==void 0&&k!==null&&I!==void 0&&I!==null?x[E-1]=Math.abs(I-k):x[E-1]=0}var N=0;for(E=1;E<a;E++)N+=x[E-1];for(E=1;E<a;E++)x[E-1]===0?x[E-1]=1:x[E-1]=Math.round(N/x[E-1]);return x};var s=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=s[9],A=s[13];n.estimateScale=function(a,E){for(var x=E===0?this.calcXnums(a):this.calcYnums(a),k=1+h(x);k<d;)k*=2;for(;k>A;)k--,k/=f(k),k++,k<d&&(k=A);var I=Math.round(k/a);return I>1?I:1};function w(a,E,x){var k=x[8]+x[2]*E[0]+x[5]*E[1];return a[0]=(x[6]+x[0]*E[0]+x[3]*E[1])/k,a[1]=(x[7]+x[1]*E[0]+x[4]*E[1])/k,a}function C(a,E,x){return b(a,E,w,x),a}function b(a,E,x,k){for(var I=[0,0],N=a.shape[0],F=a.shape[1],z=0;z<N;z++)for(var O=0;O<F;O++)x(I,[z,O],k),a.set(z,O,o(E,I[0],I[1]));return a}n.refineCoords=function(a){for(var E=this.dataScaleX,x=this.dataScaleY,k=a[0].shape[0],I=a[0].shape[1],N=Math.floor(a[0].shape[0]*E+1)|0,F=Math.floor(a[0].shape[1]*x+1)|0,z=1+k+1,O=1+I+1,_=P(new Float32Array(z*O),[z,O]),B=[1/E,0,0,0,1/x,0,0,0,1],W=0;W<a.length;++W){this.surface.padField(_,a[W]);var $=P(new Float32Array(N*F),[N,F]);C($,_,B),a[W]=$}};function S(a,E){for(var x=!1,k=0;k<a.length;k++)if(E===a[k]){x=!0;break}x===!1&&a.push(E)}n.setContourLevels=function(){var a=[[],[],[]],E=[!1,!1,!1],x=!1,k,I,N;for(k=0;k<3;++k)if(this.showContour[k]&&(x=!0,this.contourSize[k]>0&&this.contourStart[k]!==null&&this.contourEnd[k]!==null&&this.contourEnd[k]>this.contourStart[k]))for(E[k]=!0,I=this.contourStart[k];I<this.contourEnd[k];I+=this.contourSize[k])N=I*this.scene.dataScale[k],S(a[k],N);if(x){var F=[[],[],[]];for(k=0;k<3;++k)this.showContour[k]&&(F[k]=E[k]?a[k]:this.scene.contourLevels[k]);this.surface.update({levels:F})}},n.update=function(a){var E=this.scene,x=E.fullSceneLayout,k=this.surface,I=p(a),N=E.dataScale,F=a.z[0].length,z=a._ylength,O=E.contourLevels;this.data=a;var _,B,W,$,te=[];for(_=0;_<3;_++)for(te[_]=[],B=0;B<F;B++)te[_][B]=[];for(B=0;B<F;B++)for(W=0;W<z;W++)te[0][B][W]=this.getXat(B,W,a.xcalendar,x.xaxis),te[1][B][W]=this.getYat(B,W,a.ycalendar,x.yaxis),te[2][B][W]=this.getZat(B,W,a.zcalendar,x.zaxis);if(a.connectgaps)for(a._emptypoints=M(te[2]),L(te[2],a._emptypoints),a._interpolatedZ=[],B=0;B<F;B++)for(a._interpolatedZ[B]=[],W=0;W<z;W++)a._interpolatedZ[B][W]=te[2][B][W];for(_=0;_<3;_++)for(B=0;B<F;B++)for(W=0;W<z;W++)$=te[_][B][W],$==null?te[_][B][W]=NaN:$=te[_][B][W]*=N[_];for(_=0;_<3;_++)for(B=0;B<F;B++)for(W=0;W<z;W++)$=te[_][B][W],$!=null&&(this.minValues[_]>$&&(this.minValues[_]=$),this.maxValues[_]<$&&(this.maxValues[_]=$));for(_=0;_<3;_++)this.objectOffset[_]=.5*(this.minValues[_]+this.maxValues[_]);for(_=0;_<3;_++)for(B=0;B<F;B++)for(W=0;W<z;W++)$=te[_][B][W],$!=null&&(te[_][B][W]-=this.objectOffset[_]);var ie=[P(new Float32Array(F*z),[F,z]),P(new Float32Array(F*z),[F,z]),P(new Float32Array(F*z),[F,z])];for(_=0;_<3;_++)for(B=0;B<F;B++)for(W=0;W<z;W++)ie[_].set(B,W,te[_][B][W]);te=[];var ue={colormap:I,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!a.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:a.opacityscale,opacity:a.opacity},J=t(a);if(ue.intensityBounds=[J.min,J.max],a.surfacecolor){var Y=P(new Float32Array(F*z),[F,z]);for(B=0;B<F;B++)for(W=0;W<z;W++)Y.set(B,W,a.surfacecolor[W][B]);ie.push(Y)}else ue.intensityBounds[0]*=N[2],ue.intensityBounds[1]*=N[2];(A<ie[0].shape[0]||A<ie[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ie[0].shape[0],0),this.dataScaleY=this.estimateScale(ie[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ie)),a.surfacecolor&&(ue.intensity=ie.pop());var ae=[!0,!0,!0],j=["x","y","z"];for(_=0;_<3;++_){var q=a.contours[j[_]];ae[_]=q.highlight,ue.showContour[_]=q.show||q.highlight,ue.showContour[_]&&(ue.contourProject[_]=[q.project.x,q.project.y,q.project.z],q.show?(this.showContour[_]=!0,ue.levels[_]=O[_],k.highlightColor[_]=ue.contourColor[_]=r(q.color),q.usecolormap?k.highlightTint[_]=ue.contourTint[_]=0:k.highlightTint[_]=ue.contourTint[_]=1,ue.contourWidth[_]=q.width,this.contourStart[_]=q.start,this.contourEnd[_]=q.end,this.contourSize[_]=q.size):(this.showContour[_]=!1,this.contourStart[_]=null,this.contourEnd[_]=null,this.contourSize[_]=0),q.highlight&&(ue.dynamicColor[_]=r(q.highlightcolor),ue.dynamicWidth[_]=q.highlightwidth))}c(I)&&(ue.vertexColor=!0),ue.objectOffset=this.objectOffset,ue.coords=ie,k.update(ue),k.visible=a.visible,k.enableDynamic=ae,k.enableHighlight=ae,k.snapToData=!0,"lighting"in a&&(k.ambientLight=a.lighting.ambient,k.diffuseLight=a.lighting.diffuse,k.specularLight=a.lighting.specular,k.roughness=a.lighting.roughness,k.fresnel=a.lighting.fresnel),"lightposition"in a&&(k.lightPosition=[a.lightposition.x,a.lightposition.y,a.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function m(a,E){var x=a.glplot.gl,k=y({gl:x}),I=new i(a,k,E.uid);return k._trace=I,I.update(E),a.glplot.add(k),I}G.exports=m},91831:function(G,V,e){var y=e(73972),P=e(71828),o=e(1586),L=e(54532),M=.1;function v(n,c){for(var u=[],l=32,g=0;g<l;g++){var f=g/(l-1),T=c+(1-c)*(1-Math.pow(Math.sin(n*f*Math.PI),2));u.push([f,Math.max(0,Math.min(1,T))])}return u}function p(n){var c=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var u=0;u<n.length;u++){var l=n[u];if(l.length!==2||+l[0]<c)return!1;c=+l[0]}return!0}function r(n,c,u,l){var g,f;function T(a,E){return P.coerce(n,c,L,a,E)}var h=T("x"),s=T("y"),d=T("z");if(!d||!d.length||h&&h.length<1||s&&s.length<1){c.visible=!1;return}c._xlength=Array.isArray(h)&&P.isArrayOrTypedArray(h[0])?d.length:d[0].length,c._ylength=d.length;var A=y.getComponentMethod("calendars","handleTraceDefaults");A(n,c,["x","y","z"],l),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(a){T(a)});var w=T("surfacecolor"),C=["x","y","z"];for(g=0;g<3;++g){var b="contours."+C[g],S=T(b+".show"),m=T(b+".highlight");if(S||m)for(f=0;f<3;++f)T(b+".project."+C[f]);S&&(T(b+".color"),T(b+".width"),T(b+".usecolormap")),m&&(T(b+".highlightcolor"),T(b+".highlightwidth")),T(b+".start"),T(b+".end"),T(b+".size")}w||(i(n,"zmin","cmin"),i(n,"zmax","cmax"),i(n,"zauto","cauto")),o(n,c,l,T,{prefix:"",cLetter:"c"}),t(n,c,l,T),c._length=null}function t(n,c,u,l){var g=l("opacityscale");g==="max"?c.opacityscale=[[0,M],[1,1]]:g==="min"?c.opacityscale=[[0,1],[1,M]]:g==="extremes"?c.opacityscale=v(1,M):p(g)||(c.opacityscale=void 0)}function i(n,c,u){c in n&&!(u in n)&&(n[u]=n[c])}G.exports={supplyDefaults:r,opacityscaleDefaults:t}},93601:function(G,V,e){G.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(G,V,e){var y=e(50215),P=e(1426).extendFlat,o=e(30962).overrideAll,L=e(41940),M=e(27670).Y,v=e(12663).descriptionOnlyNumbers,p=G.exports=o({domain:M({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:P({},y.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:P({},y.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:P({},L({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},99469:function(G,V,e){var y=e(27659).a0,P=e(36736),o="table";V.name=o,V.plot=function(L){var M=y(L.calcdata,o)[0];M.length&&P(L,M)},V.clean=function(L,M,v,p){var r=p._has&&p._has(o),t=M._has&&M._has(o);r&&!t&&p._paperdiv.selectAll(".table").remove()}},76333:function(G,V,e){var y=e(28984).wrap;G.exports=function(){return y({})}},49850:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(G,V,e){var y=e(49850),P=e(1426).extendFlat,o=e(92770),L=e(73627).isTypedArray,M=e(73627).isArrayOrTypedArray;G.exports=function(g,f){var T=r(f.cells.values),h=function($){return $.slice(f.header.values.length,$.length)},s=r(f.header.values);s.length&&!s[0].length&&(s[0]=[""],s=r(s));var d=s.concat(h(T).map(function(){return t((s[0]||[""]).length)})),A=f.domain,w=Math.floor(g._fullLayout._size.w*(A.x[1]-A.x[0])),C=Math.floor(g._fullLayout._size.h*(A.y[1]-A.y[0])),b=f.header.values.length?d[0].map(function(){return f.header.height}):[y.emptyHeaderHeight],S=T.length?T[0].map(function(){return f.cells.height}):[],m=b.reduce(p,0),a=C-m,E=a+y.uplift,x=c(S,E),k=c(b,m),I=n(k,[]),N=n(x,I),F={},z=f._fullInput.columnorder;M(z)&&(z=Array.from(z)),z=z.concat(h(T.map(function($,te){return te})));var O=d.map(function($,te){var ie=M(f.columnwidth)?f.columnwidth[Math.min(te,f.columnwidth.length-1)]:f.columnwidth;return o(ie)?Number(ie):1}),_=O.reduce(p,0);O=O.map(function($){return $/_*w});var B=Math.max(v(f.header.line.width),v(f.cells.line.width)),W={key:f.uid+g._context.staticPlot,translateX:A.x[0]*g._fullLayout._size.w,translateY:g._fullLayout._size.h*(1-A.y[1]),size:g._fullLayout._size,width:w,maxLineWidth:B,height:C,columnOrder:z,groupHeight:C,rowBlocks:N,headerRowBlocks:I,scrollY:0,cells:P({},f.cells,{values:T}),headerCells:P({},f.header,{values:d}),gdColumns:d.map(function($){return $[0]}),gdColumnsOriginalOrder:d.map(function($){return $[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function($,te){var ie=F[$];F[$]=(ie||0)+1;var ue=$+"__"+F[$];return{key:ue,label:$,specIndex:te,xIndex:z[te],xScale:i,x:void 0,calcdata:void 0,columnWidth:O[te]}})};return W.columns.forEach(function($){$.calcdata=W,$.x=i($)}),W};function v(l){if(M(l)){for(var g=0,f=0;f<l.length;f++)g=Math.max(g,v(l[f]));return g}return l}function p(l,g){return l+g}function r(l){var g=l.slice(),f=1/0,T=0,h;for(h=0;h<g.length;h++)L(g[h])?g[h]=Array.from(g[h]):M(g[h])||(g[h]=[g[h]]),f=Math.min(f,g[h].length),T=Math.max(T,g[h].length);if(f!==T)for(h=0;h<g.length;h++){var s=T-g[h].length;s&&(g[h]=g[h].concat(t(s)))}return g}function t(l){for(var g=new Array(l),f=0;f<l;f++)g[f]="";return g}function i(l){return l.calcdata.columns.reduce(function(g,f){return f.xIndex<l.xIndex?g+f.columnWidth:g},0)}function n(l,g){var f=Object.keys(l);return f.map(function(T){return P({},l[T],{auxiliaryBlocks:g})})}function c(l,g){for(var f={},T,h=0,s=0,d=u(),A=0,w=0,C=0;C<l.length;C++)T=l[C],d.rows.push({rowIndex:C,rowHeight:T}),s+=T,(s>=g||C===l.length-1)&&(f[h]=d,d.key=w++,d.firstRowIndex=A,d.lastRowIndex=C,d=u(),h+=s,A=C+1,s=0);return f}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(G,V,e){var y=e(1426).extendFlat;V.splitToPanels=function(o){var L=[0,0],M=y({},o,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:o.calcdata.headerCells.values[o.specIndex],rowBlocks:o.calcdata.headerRowBlocks,calcdata:y({},o.calcdata,{cells:o.calcdata.headerCells})}),v=y({},o,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:o.calcdata.cells.values[o.specIndex],rowBlocks:o.calcdata.rowBlocks}),p=y({},o,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:o.calcdata.cells.values[o.specIndex],rowBlocks:o.calcdata.rowBlocks});return[v,p,M]},V.splitToCells=function(o){var L=P(o);return(o.values||[]).slice(L[0],L[1]).map(function(M,v){var p=typeof M=="string"&&M.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:L[0]+v,column:o,calcdata:o.calcdata,page:o.page,rowBlocks:o.rowBlocks,value:M}})};function P(o){var L=o.rowBlocks[o.page],M=L?L.rows[0].rowIndex:0,v=L?M+L.rows.length:0;return[M,v]}},39754:function(G,V,e){var y=e(71828),P=e(44464),o=e(27670).c;function L(M,v){for(var p=M.columnorder||[],r=M.header.values.length,t=p.slice(0,r),i=t.slice().sort(function(u,l){return u-l}),n=t.map(function(u){return i.indexOf(u)}),c=n.length;c<r;c++)n.push(c);v("columnorder",n)}G.exports=function(v,p,r,t){function i(n,c){return y.coerce(v,p,P,n,c)}o(p,t,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),y.coerceFont(i,"header.font",y.extendFlat({},t.font)),L(p,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),y.coerceFont(i,"cells.font",y.extendFlat({},t.font)),p._length=null}},96595:function(G,V,e){G.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(G,V,e){var y=e(49850),P=e(39898),o=e(71828),L=o.numberFormat,M=e(28984),v=e(91424),p=e(63893),r=e(71828).raiseToTop,t=e(71828).strTranslate,i=e(71828).cancelTransition,n=e(51018),c=e(56269),u=e(7901);G.exports=function(se,ne){var fe=!se._context.staticPlot,ye=se._fullLayout._paper.selectAll("."+y.cn.table).data(ne.map(function($e){var qe=M.unwrap($e),ct=qe.trace;return n(se,ct)}),M.keyFun);ye.exit().remove(),ye.enter().append("g").classed(y.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ye.attr("width",function($e){return $e.width+$e.size.l+$e.size.r}).attr("height",function($e){return $e.height+$e.size.t+$e.size.b}).attr("transform",function($e){return t($e.translateX,$e.translateY)});var Se=ye.selectAll("."+y.cn.tableControlView).data(M.repeat,M.keyFun),we=Se.enter().append("g").classed(y.cn.tableControlView,!0).style("box-sizing","content-box");if(fe){var _e="onwheel"in document?"wheel":"mousewheel";we.on("mousemove",function($e){Se.filter(function(qe){return $e===qe}).call(h,se)}).on(_e,function($e){if(!$e.scrollbarState.wheeling){$e.scrollbarState.wheeling=!0;var qe=$e.scrollY+P.event.deltaY,ct=$(se,Se,null,qe)($e);ct||(P.event.stopPropagation(),P.event.preventDefault()),$e.scrollbarState.wheeling=!1}}).call(h,se,!0)}Se.attr("transform",function($e){return t($e.size.l,$e.size.t)});var ke=Se.selectAll("."+y.cn.scrollBackground).data(M.repeat,M.keyFun);ke.enter().append("rect").classed(y.cn.scrollBackground,!0).attr("fill","none"),ke.attr("width",function($e){return $e.width}).attr("height",function($e){return $e.height}),Se.each(function($e){v.setClipUrl(P.select(this),g(se,$e),se)});var Me=Se.selectAll("."+y.cn.yColumn).data(function($e){return $e.columns},M.keyFun);Me.enter().append("g").classed(y.cn.yColumn,!0),Me.exit().remove(),Me.attr("transform",function($e){return t($e.x,0)}),fe&&Me.call(P.behavior.drag().origin(function($e){var qe=P.select(this);return F(qe,$e,-y.uplift),r(this),$e.calcdata.columnDragInProgress=!0,h(Se.filter(function(ct){return $e.calcdata.key===ct.key}),se),$e}).on("drag",function($e){var qe=P.select(this),ct=function(At){return($e===At?P.event.x:At.x)+At.columnWidth/2};$e.x=Math.max(-y.overdrag,Math.min($e.calcdata.width+y.overdrag-$e.columnWidth,P.event.x));var dt=T(Me).filter(function(At){return At.calcdata.key===$e.calcdata.key}),gt=dt.sort(function(At,Rt){return ct(At)-ct(Rt)});gt.forEach(function(At,Rt){At.xIndex=Rt,At.x=$e===At?At.x:At.xScale(At)}),Me.filter(function(At){return $e!==At}).transition().ease(y.transitionEase).duration(y.transitionDuration).attr("transform",function(At){return t(At.x,0)}),qe.call(i).attr("transform",t($e.x,-y.uplift))}).on("dragend",function($e){var qe=P.select(this),ct=$e.calcdata;$e.x=$e.xScale($e),$e.calcdata.columnDragInProgress=!1,F(qe,$e,0),I(se,ct,ct.columns.map(function(dt){return dt.xIndex}))})),Me.each(function($e){v.setClipUrl(P.select(this),f(se,$e),se)});var me=Me.selectAll("."+y.cn.columnBlock).data(c.splitToPanels,M.keyFun);me.enter().append("g").classed(y.cn.columnBlock,!0).attr("id",function($e){return $e.key}),me.style("cursor",function($e){return $e.dragHandle?"ew-resize":$e.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ee=me.filter(O),Be=me.filter(z);fe&&Be.call(P.behavior.drag().origin(function($e){return P.event.stopPropagation(),$e}).on("drag",$(se,Se,-1)).on("dragend",function(){})),s(se,Se,Ee,me),s(se,Se,Be,me);var Ue=Se.selectAll("."+y.cn.scrollAreaClip).data(M.repeat,M.keyFun);Ue.enter().append("clipPath").classed(y.cn.scrollAreaClip,!0).attr("id",function($e){return g(se,$e)});var De=Ue.selectAll("."+y.cn.scrollAreaClipRect).data(M.repeat,M.keyFun);De.enter().append("rect").classed(y.cn.scrollAreaClipRect,!0).attr("x",-y.overdrag).attr("y",-y.uplift).attr("fill","none"),De.attr("width",function($e){return $e.width+2*y.overdrag}).attr("height",function($e){return $e.height+y.uplift});var He=Me.selectAll("."+y.cn.columnBoundary).data(M.repeat,M.keyFun);He.enter().append("g").classed(y.cn.columnBoundary,!0);var nt=Me.selectAll("."+y.cn.columnBoundaryClippath).data(M.repeat,M.keyFun);nt.enter().append("clipPath").classed(y.cn.columnBoundaryClippath,!0),nt.attr("id",function($e){return f(se,$e)});var lt=nt.selectAll("."+y.cn.columnBoundaryRect).data(M.repeat,M.keyFun);lt.enter().append("rect").classed(y.cn.columnBoundaryRect,!0).attr("fill","none"),lt.attr("width",function($e){return $e.columnWidth+2*l($e)}).attr("height",function($e){return $e.calcdata.height+2*l($e)+y.uplift}).attr("x",function($e){return-l($e)}).attr("y",function($e){return-l($e)}),W(null,Be,Se)};function l(X){return Math.ceil(X.calcdata.maxLineWidth/2)}function g(X,se){return"clip"+X._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function f(X,se){return"clip"+X._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function T(X){return[].concat.apply([],X.map(function(se){return se})).map(function(se){return se.__data__})}function h(X,se,ne){function fe(Me){var me=Me.rowBlocks;return ae(me,me.length-1)+(me.length?j(me[me.length-1],1/0):1)}var ye=X.selectAll("."+y.cn.scrollbarKit).data(M.repeat,M.keyFun);ye.enter().append("g").classed(y.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ye.each(function(Me){var me=Me.scrollbarState;me.totalHeight=fe(Me),me.scrollableAreaHeight=Me.groupHeight-_(Me),me.currentlyVisibleHeight=Math.min(me.totalHeight,me.scrollableAreaHeight),me.ratio=me.currentlyVisibleHeight/me.totalHeight,me.barLength=Math.max(me.ratio*me.currentlyVisibleHeight,y.goldenRatio*y.scrollbarWidth),me.barWiggleRoom=me.currentlyVisibleHeight-me.barLength,me.wiggleRoom=Math.max(0,me.totalHeight-me.scrollableAreaHeight),me.topY=me.barWiggleRoom===0?0:Me.scrollY/me.wiggleRoom*me.barWiggleRoom,me.bottomY=me.topY+me.barLength,me.dragMultiplier=me.wiggleRoom/me.barWiggleRoom}).attr("transform",function(Me){var me=Me.width+y.scrollbarWidth/2+y.scrollbarOffset;return t(me,_(Me))});var Se=ye.selectAll("."+y.cn.scrollbar).data(M.repeat,M.keyFun);Se.enter().append("g").classed(y.cn.scrollbar,!0);var we=Se.selectAll("."+y.cn.scrollbarSlider).data(M.repeat,M.keyFun);we.enter().append("g").classed(y.cn.scrollbarSlider,!0),we.attr("transform",function(Me){return t(0,Me.scrollbarState.topY||0)});var _e=we.selectAll("."+y.cn.scrollbarGlyph).data(M.repeat,M.keyFun);_e.enter().append("line").classed(y.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",y.scrollbarWidth).attr("stroke-linecap","round").attr("y1",y.scrollbarWidth/2),_e.attr("y2",function(Me){return Me.scrollbarState.barLength-y.scrollbarWidth/2}).attr("stroke-opacity",function(Me){return Me.columnDragInProgress||!Me.scrollbarState.barWiggleRoom||ne?0:.4}),_e.transition().delay(0).duration(0),_e.transition().delay(y.scrollbarHideDelay).duration(y.scrollbarHideDuration).attr("stroke-opacity",0);var ke=Se.selectAll("."+y.cn.scrollbarCaptureZone).data(M.repeat,M.keyFun);ke.enter().append("line").classed(y.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",y.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Me){var me=P.event.y,Ee=this.getBoundingClientRect(),Be=Me.scrollbarState,Ue=me-Ee.top,De=P.scale.linear().domain([0,Be.scrollableAreaHeight]).range([0,Be.totalHeight]).clamp(!0);Be.topY<=Ue&&Ue<=Be.bottomY||$(se,X,null,De(Ue-Be.barLength/2))(Me)}).call(P.behavior.drag().origin(function(Me){return P.event.stopPropagation(),Me.scrollbarState.scrollbarScrollInProgress=!0,Me}).on("drag",$(se,X)).on("dragend",function(){})),ke.attr("y2",function(Me){return Me.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(_e.remove(),ke.remove())}function s(X,se,ne,fe){var ye=d(ne),Se=A(ye);S(Se);var we=w(Se);a(we);var _e=b(Se),ke=C(_e);m(ke),E(ke,se,fe,X),Y(Se)}function d(X){var se=X.selectAll("."+y.cn.columnCells).data(M.repeat,M.keyFun);return se.enter().append("g").classed(y.cn.columnCells,!0),se.exit().remove(),se}function A(X){var se=X.selectAll("."+y.cn.columnCell).data(c.splitToCells,function(ne){return ne.keyWithinBlock});return se.enter().append("g").classed(y.cn.columnCell,!0),se.exit().remove(),se}function w(X){var se=X.selectAll("."+y.cn.cellRect).data(M.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("rect").classed(y.cn.cellRect,!0),se}function C(X){var se=X.selectAll("."+y.cn.cellText).data(M.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("text").classed(y.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){P.event.stopPropagation()}),se}function b(X){var se=X.selectAll("."+y.cn.cellTextHolder).data(M.repeat,function(ne){return ne.keyWithinBlock});return se.enter().append("g").classed(y.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function S(X){X.each(function(se,ne){var fe=se.calcdata.cells.font,ye=se.column.specIndex,Se={size:N(fe.size,ye,ne),color:N(fe.color,ye,ne),family:N(fe.family,ye,ne)};se.rowNumber=se.key,se.align=N(se.calcdata.cells.align,ye,ne),se.cellBorderWidth=N(se.calcdata.cells.line.width,ye,ne),se.font=Se})}function m(X){X.each(function(se){v.font(P.select(this),se.font)})}function a(X){X.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var ne=P.select(this);u.stroke(ne,N(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),u.fill(ne,N(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function E(X,se,ne,fe){X.text(function(ye){var Se=ye.column.specIndex,we=ye.rowNumber,_e=ye.value,ke=typeof _e=="string",Me=ke&&_e.match(/<br>/i),me=!ke||Me;ye.mayHaveMarkup=ke&&_e.match(/[<&>]/);var Ee=x(_e);ye.latex=Ee;var Be=Ee?"":N(ye.calcdata.cells.prefix,Se,we)||"",Ue=Ee?"":N(ye.calcdata.cells.suffix,Se,we)||"",De=Ee?null:N(ye.calcdata.cells.format,Se,we)||null,He=Be+(De?L(De)(ye.value):ye.value)+Ue,nt;ye.wrappingNeeded=!ye.wrapped&&!me&&!Ee&&(nt=k(He)),ye.cellHeightMayIncrease=Me||Ee||ye.mayHaveMarkup||(nt===void 0?k(He):nt),ye.needsConvertToTspans=ye.mayHaveMarkup||ye.wrappingNeeded||ye.latex;var lt;if(ye.wrappingNeeded){var $e=y.wrapSplitCharacter===" "?He.replace(/<a href=/ig,"<a_href="):He,qe=$e.split(y.wrapSplitCharacter),ct=y.wrapSplitCharacter===" "?qe.map(function(dt){return dt.replace(/<a_href=/ig,"<a href=")}):qe;ye.fragments=ct.map(function(dt){return{text:dt,width:null}}),ye.fragments.push({fragment:y.wrapSpacer,width:null}),lt=ct.join(y.lineBreaker)+y.lineBreaker+y.wrapSpacer}else delete ye.fragments,lt=He;return lt}).attr("dy",function(ye){return ye.needsConvertToTspans?0:"0.75em"}).each(function(ye){var Se=this,we=P.select(Se),_e=ye.wrappingNeeded?ie:ue;ye.needsConvertToTspans?p.convertToTspans(we,fe,_e(ne,Se,se,fe,ye)):P.select(Se.parentNode).attr("transform",function(ke){return t(J(ke),y.cellPad)}).attr("text-anchor",function(ke){return{left:"start",center:"middle",right:"end"}[ke.align]})})}function x(X){return typeof X=="string"&&X.match(y.latexCheck)}function k(X){return X.indexOf(y.wrapSplitCharacter)!==-1}function I(X,se,ne){var fe=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(ye,Se){return ne[fe.indexOf(ye)]-ne[fe.indexOf(Se)]}),se.columnorder=ne,X.emit("plotly_restyle")}function N(X,se,ne){if(o.isArrayOrTypedArray(X)){var fe=X[Math.min(se,X.length-1)];return o.isArrayOrTypedArray(fe)?fe[Math.min(ne,fe.length-1)]:fe}else return X}function F(X,se,ne){X.transition().ease(y.releaseTransitionEase).duration(y.releaseTransitionDuration).attr("transform",t(se.x,ne))}function z(X){return X.type==="cells"}function O(X){return X.type==="header"}function _(X){var se=X.rowBlocks.length?X.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(ne,fe){return ne+j(fe,1/0)},0)}function B(X,se,ne){for(var fe=[],ye=0,Se=0;Se<X.length;Se++){for(var we=X[Se],_e=we.rows,ke=0,Me=0;Me<_e.length;Me++)ke+=_e[Me].rowHeight;we.allRowsHeight=ke;var me=ye+ke,Ee=se,Be=Ee+ne;Ee<me&&Be>ye&&fe.push(Se),ye+=ke}return fe}function W(X,se,ne){var fe=T(se)[0];if(fe!==void 0){var ye=fe.rowBlocks,Se=fe.calcdata,we=ae(ye,ye.length),_e=fe.calcdata.groupHeight-_(fe),ke=Se.scrollY=Math.max(0,Math.min(we-_e,Se.scrollY)),Me=B(ye,ke,_e);Me.length===1&&(Me[0]===ye.length-1?Me.unshift(Me[0]-1):Me.push(Me[0]+1)),Me[0]%2&&Me.reverse(),se.each(function(me,Ee){me.page=Me[Ee],me.scrollY=ke}),se.attr("transform",function(me){var Ee=ae(me.rowBlocks,me.page)-me.scrollY;return t(0,Ee)}),X&&(te(X,ne,se,Me,fe.prevPages,fe,0),te(X,ne,se,Me,fe.prevPages,fe,1),h(ne,X))}}function $(X,se,ne,fe){return function(Se){var we=Se.calcdata?Se.calcdata:Se,_e=se.filter(function(Ee){return we.key===Ee.key}),ke=ne||we.scrollbarState.dragMultiplier,Me=we.scrollY;we.scrollY=fe===void 0?we.scrollY+ke*P.event.dy:fe;var me=_e.selectAll("."+y.cn.yColumn).selectAll("."+y.cn.columnBlock).filter(z);return W(X,me,_e),we.scrollY===Me}}function te(X,se,ne,fe,ye,Se,we){var _e=fe[we]!==ye[we];_e&&(clearTimeout(Se.currentRepaint[we]),Se.currentRepaint[we]=setTimeout(function(){var ke=ne.filter(function(Me,me){return me===we&&fe[me]!==ye[me]});s(X,se,ke,ne),ye[we]=fe[we]}))}function ie(X,se,ne,fe){return function(){var Se=P.select(se.parentNode);Se.each(function(we){var _e=we.fragments;Se.selectAll("tspan.line").each(function(He,nt){_e[nt].width=this.getComputedTextLength()});var ke=_e[_e.length-1].width,Me=_e.slice(0,-1),me=[],Ee,Be,Ue=0,De=we.column.columnWidth-2*y.cellPad;for(we.value="";Me.length;)Ee=Me.shift(),Be=Ee.width+ke,Ue+Be>De&&(we.value+=me.join(y.wrapSpacer)+y.lineBreaker,me=[],Ue=0),me.push(Ee.text),Ue+=Be;Ue&&(we.value+=me.join(y.wrapSpacer)),we.wrapped=!0}),Se.selectAll("tspan.line").remove(),E(Se.select("."+y.cn.cellText),ne,X,fe),P.select(se.parentNode.parentNode).call(Y)}}function ue(X,se,ne,fe,ye){return function(){if(!ye.settledY){var we=P.select(se.parentNode),_e=oe(ye),ke=ye.key-_e.firstRowIndex,Me=_e.rows[ke].rowHeight,me=ye.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*y.cellPad:Me,Ee=Math.max(me,Me),Be=Ee-_e.rows[ke].rowHeight;Be&&(_e.rows[ke].rowHeight=Ee,X.selectAll("."+y.cn.columnCell).call(Y),W(null,X.filter(z),0),h(ne,fe,!0)),we.attr("transform",function(){var Ue=this,De=Ue.parentNode,He=De.getBoundingClientRect(),nt=P.select(Ue.parentNode).select("."+y.cn.cellRect).node().getBoundingClientRect(),lt=Ue.transform.baseVal.consolidate(),$e=nt.top-He.top+(lt?lt.matrix.f:y.cellPad);return t(J(ye,P.select(Ue.parentNode).select("."+y.cn.cellTextHolder).node().getBoundingClientRect().width),$e)}),ye.settledY=!0}}}function J(X,se){switch(X.align){case"left":return y.cellPad;case"right":return X.column.columnWidth-(se||0)-y.cellPad;case"center":return(X.column.columnWidth-(se||0))/2;default:return y.cellPad}}function Y(X){X.attr("transform",function(se){var ne=se.rowBlocks[0].auxiliaryBlocks.reduce(function(we,_e){return we+j(_e,1/0)},0),fe=oe(se),ye=j(fe,se.key),Se=ye+ne;return t(0,Se)}).selectAll("."+y.cn.cellRect).attr("height",function(se){return Q(oe(se),se.key).rowHeight})}function ae(X,se){for(var ne=0,fe=se-1;fe>=0;fe--)ne+=q(X[fe]);return ne}function j(X,se){for(var ne=0,fe=0;fe<X.rows.length&&X.rows[fe].rowIndex<se;fe++)ne+=X.rows[fe].rowHeight;return ne}function q(X){var se=X.allRowsHeight;if(se!==void 0)return se;for(var ne=0,fe=0;fe<X.rows.length;fe++)ne+=X.rows[fe].rowHeight;return X.allRowsHeight=ne,ne}function oe(X){return X.rowBlocks[X.page]}function Q(X,se){return X.rows[se-X.firstRowIndex]}},45802:function(G,V,e){var y=e(5386).fF,P=e(5386).si,o=e(50693),L=e(27670).Y,M=e(34e3),v=e(57564),p=e(43473),r=e(1426).extendFlat,t=e(79952).u;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},M.textfont,{}),editType:"calc"},text:M.text,textinfo:v.textinfo,texttemplate:P({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:y({},{keys:p.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:r({},M.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:M.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},78018:function(G,V,e){var y=e(74875);V.name="treemap",V.plot=function(P,o,L,M){y.plotBasePlot(V.name,P,o,L,M)},V.clean=function(P,o,L,M){y.cleanBasePlot(V.name,P,o,L,M)}},65039:function(G,V,e){var y=e(52147);V.y=function(P,o){return y.calc(P,o)},V.T=function(P){return y._runCrossTraceCalc("treemap",P)}},43473:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(G,V,e){var y=e(71828),P=e(45802),o=e(7901),L=e(27670).c,M=e(90769).handleText,v=e(97313).TEXTPAD,p=e(37434).handleMarkerDefaults,r=e(21081),t=r.hasColorscale,i=r.handleDefaults;G.exports=function(c,u,l,g){function f(a,E){return y.coerce(c,u,P,a,E)}var T=f("labels"),h=f("parents");if(!T||!T.length||!h||!h.length){u.visible=!1;return}var s=f("values");s&&s.length?f("branchvalues"):f("count"),f("level"),f("maxdepth");var d=f("tiling.packing");d==="squarify"&&f("tiling.squarifyratio"),f("tiling.flip"),f("tiling.pad");var A=f("text");f("texttemplate"),u.texttemplate||f("textinfo",y.isArrayOrTypedArray(A)?"text+label":"label"),f("hovertext"),f("hovertemplate");var w=f("pathbar.visible"),C="auto";M(c,u,g,f,C,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("textposition");var b=u.textposition.indexOf("bottom")!==-1;p(c,u,g,f);var S=u._hasColorscale=t(c,"marker","colors")||(c.marker||{}).coloraxis;S?i(c,u,g,f,{prefix:"marker.",cLetter:"c"}):f("marker.depthfade",!(u.marker.colors||[]).length);var m=u.textfont.size*2;f("marker.pad.t",b?m/4:m),f("marker.pad.l",m/4),f("marker.pad.r",m/4),f("marker.pad.b",b?m:m/4),f("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:o.contrast(g.paper_bgcolor)}}},w&&(f("pathbar.thickness",u.pathbar.textfont.size+2*v),f("pathbar.side"),f("pathbar.edgeshape")),f("sort"),f("root.color"),L(u,g,f),u._length=null}},80694:function(G,V,e){var y=e(39898),P=e(2791),o=e(72597),L=o.clearMinTextSize,M=e(16688).resizeText,v=e(46650);G.exports=function(r,t,i,n,c){var u=c.type,l=c.drawDescendants,g=r._fullLayout,f=g["_"+u+"layer"],T,h,s=!i;if(L(u,g),T=f.selectAll("g.trace."+u).data(t,function(A){return A[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(u,!0),T.order(),!g.uniformtext.mode&&P.hasTransition(i)){n&&(h=n());var d=y.transition().duration(i.duration).ease(i.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});d.each(function(){f.selectAll("g.trace").each(function(A){v(r,A,this,i,l)})})}else T.each(function(A){v(r,A,this,i,l)}),g.uniformtext.mode&&M(r,f.selectAll(".trace"),u);s&&T.exit().remove()}},66209:function(G,V,e){var y=e(39898),P=e(71828),o=e(91424),L=e(63893),M=e(37210),v=e(96362).styleOne,p=e(43473),r=e(2791),t=e(83523),i=!0;G.exports=function(c,u,l,g,f){var T=f.barDifY,h=f.width,s=f.height,d=f.viewX,A=f.viewY,w=f.pathSlice,C=f.toMoveInsideSlice,b=f.strTransform,S=f.hasTransition,m=f.handleSlicesExit,a=f.makeUpdateSliceInterpolator,E=f.makeUpdateTextInterpolator,x={},k=c._context.staticPlot,I=c._fullLayout,N=u[0],F=N.trace,z=N.hierarchy,O=h/F._entryDepth,_=r.listPath(l.data,"id"),B=M(z.copy(),[h,s],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();B=B.filter(function($){var te=_.indexOf($.data.id);return te===-1?!1:($.x0=O*te,$.x1=O*(te+1),$.y0=T,$.y1=T+s,$.onPathbar=!0,!0)}),B.reverse(),g=g.data(B,r.getPtId),g.enter().append("g").classed("pathbar",!0),m(g,i,x,[h,s],w),g.order();var W=g;S&&(W=W.transition().each("end",function(){var $=y.select(this);r.setSliceCursor($,c,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function($){$._x0=d($.x0),$._x1=d($.x1),$._y0=A($.y0),$._y1=A($.y1),$._hoverX=d($.x1-Math.min(h,s)/2),$._hoverY=A($.y1-s/2);var te=y.select(this),ie=P.ensureSingle(te,"path","surface",function(ae){ae.style("pointer-events",k?"none":"all")});S?ie.transition().attrTween("d",function(ae){var j=a(ae,i,x,[h,s]);return function(q){return w(j(q))}}):ie.attr("d",w),te.call(t,l,c,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,c,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:c._transitioning}),ie.call(v,$,F,c,{hovered:!1}),$._text=(r.getPtLabel($)||"").split("<br>").join(" ")||"";var ue=P.ensureSingle(te,"g","slicetext"),J=P.ensureSingle(ue,"text","",function(ae){ae.attr("data-notex",1)}),Y=P.ensureUniformFontSize(c,r.determineTextFont(F,$,I.font,{onPathbar:!0}));J.text($._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(o.font,Y).call(L.convertToTspans,c),$.textBB=o.bBox(J.node()),$.transform=C($,{fontSize:Y.size,onPathbar:!0}),$.transform.fontSize=Y.size,S?J.transition().attrTween("transform",function(ae){var j=E(ae,i,x,[h,s]);return function(q){return b(j(q))}}):J.attr("transform",b($))})}},52583:function(G,V,e){var y=e(39898),P=e(71828),o=e(91424),L=e(63893),M=e(37210),v=e(96362).styleOne,p=e(43473),r=e(2791),t=e(83523),i=e(24714).formatSliceLabel,n=!1;G.exports=function(u,l,g,f,T){var h=T.width,s=T.height,d=T.viewX,A=T.viewY,w=T.pathSlice,C=T.toMoveInsideSlice,b=T.strTransform,S=T.hasTransition,m=T.handleSlicesExit,a=T.makeUpdateSliceInterpolator,E=T.makeUpdateTextInterpolator,x=T.prevEntry,k={},I=u._context.staticPlot,N=u._fullLayout,F=l[0],z=F.trace,O=z.textposition.indexOf("left")!==-1,_=z.textposition.indexOf("right")!==-1,B=z.textposition.indexOf("bottom")!==-1,W=!B&&!z.marker.pad.t||B&&!z.marker.pad.b,$=M(g,[h,s],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}),te=$.descendants(),ie=1/0,ue=-1/0;te.forEach(function(q){var oe=q.depth;oe>=z._maxDepth?(q.x0=q.x1=(q.x0+q.x1)/2,q.y0=q.y1=(q.y0+q.y1)/2):(ie=Math.min(ie,oe),ue=Math.max(ue,oe))}),f=f.data(te,r.getPtId),z._maxVisibleLayers=isFinite(ue)?ue-ie+1:0,f.enter().append("g").classed("slice",!0),m(f,n,k,[h,s],w),f.order();var J=null;if(S&&x){var Y=r.getPtId(x);f.each(function(q){J===null&&r.getPtId(q)===Y&&(J={x0:q.x0,x1:q.x1,y0:q.y0,y1:q.y1})})}var ae=function(){return J||{x0:0,x1:h,y0:0,y1:s}},j=f;return S&&(j=j.transition().each("end",function(){var q=y.select(this);r.setSliceCursor(q,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function(q){var oe=r.isHeader(q,z);q._x0=d(q.x0),q._x1=d(q.x1),q._y0=A(q.y0),q._y1=A(q.y1),q._hoverX=d(q.x1-z.marker.pad.r),q._hoverY=A(B?q.y1-z.marker.pad.b/2:q.y0+z.marker.pad.t/2);var Q=y.select(this),X=P.ensureSingle(Q,"path","surface",function(ye){ye.style("pointer-events",I?"none":"all")});S?X.transition().attrTween("d",function(ye){var Se=a(ye,n,ae(),[h,s]);return function(we){return w(Se(we))}}):X.attr("d",w),Q.call(t,g,u,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),X.call(v,q,z,u,{hovered:!1}),q.x0===q.x1||q.y0===q.y1?q._text="":oe?q._text=W?"":r.getPtLabel(q)||"":q._text=i(q,g,z,l,N)||"";var se=P.ensureSingle(Q,"g","slicetext"),ne=P.ensureSingle(se,"text","",function(ye){ye.attr("data-notex",1)}),fe=P.ensureUniformFontSize(u,r.determineTextFont(z,q,N.font));ne.text(q._text||" ").classed("slicetext",!0).attr("text-anchor",_?"end":O||oe?"start":"middle").call(o.font,fe).call(L.convertToTspans,u),q.textBB=o.bBox(ne.node()),q.transform=C(q,{fontSize:fe.size,isHeader:oe}),q.transform.fontSize=fe.size,S?ne.transition().attrTween("transform",function(ye){var Se=E(ye,n,ae(),[h,s]);return function(we){return b(Se(we))}}):ne.attr("transform",b(q))}),J}},14102:function(G){G.exports=function V(e,y,P){var o;P.swapXY&&(o=e.x0,e.x0=e.y0,e.y0=o,o=e.x1,e.x1=e.y1,e.y1=o),P.flipX&&(o=e.x0,e.x0=y[0]-e.x1,e.x1=y[0]-o),P.flipY&&(o=e.y0,e.y0=y[1]-e.y1,e.y1=y[1]-o);var L=e.children;if(L)for(var M=0;M<L.length;M++)V(L[M],y,P)}},70954:function(G,V,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(G,V,e){var y=e(71828),P=e(55479);G.exports=function(L,M){function v(p,r){return y.coerce(L,M,P,p,r)}v("treemapcolorway",M.colorway),v("extendtreemapcolors")}},37210:function(G,V,e){var y=e(674),P=e(14102);G.exports=function(M,v,p){var r=p.flipX,t=p.flipY,i=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],c=p.pad[r?"right":"left"],u=p.pad[r?"left":"right"],l=p.pad[t?"top":"bottom"],g;i&&(g=c,c=n,n=g,g=u,u=l,l=g);var f=y.treemap().tile(o(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(c).paddingRight(u).paddingTop(n).paddingBottom(l).size(i?[v[1],v[0]]:v)(M);return(i||r||t)&&P(f,v,{swapXY:i,flipX:r,flipY:t}),f};function o(L,M){switch(L){case"squarify":return y.treemapSquarify.ratio(M);case"binary":return y.treemapBinary;case"dice":return y.treemapDice;case"slice":return y.treemapSlice;default:return y.treemapSliceDice}}},5893:function(G,V,e){var y=e(80694),P=e(52583);G.exports=function(L,M,v,p){return y(L,M,v,p,{type:"treemap",drawDescendants:P})}},46650:function(G,V,e){var y=e(39898),P=e(81684).sX,o=e(2791),L=e(71828),M=e(97313).TEXTPAD,v=e(17295),p=v.toMoveInsideBar,r=e(72597),t=r.recordMinTextSize,i=e(43473),n=e(66209);function c(u){return o.isHierarchyRoot(u)?"":o.getPtId(u)}G.exports=function(l,g,f,T,h){var s=l._fullLayout,d=g[0],A=d.trace,w=A.type,C=w==="icicle",b=d.hierarchy,S=o.findEntryWithLevel(b,A.level),m=y.select(f),a=m.selectAll("g.pathbar"),E=m.selectAll("g.slice");if(!S){a.remove(),E.remove();return}var x=o.isHierarchyRoot(S),k=!s.uniformtext.mode&&o.hasTransition(T),I=o.getMaxDepth(A),N=function(Je){return Je.data.depth-S.data.depth<I},F=s._size,z=A.domain,O=F.w*(z.x[1]-z.x[0]),_=F.h*(z.y[1]-z.y[0]),B=O,W=A.pathbar.thickness,$=A.marker.line.width+i.gapWithPathbar,te=A.pathbar.visible?A.pathbar.side.indexOf("bottom")>-1?_+$:-(W+$):0,ie={x0:B,x1:B,y0:te,y1:te+W},ue=function(Je,Ve,Ie){var Oe=A.tiling.pad,Le=function(Te){return Te-Oe<=Ve.x0},xe=function(Te){return Te+Oe>=Ve.x1},pe=function(Te){return Te-Oe<=Ve.y0},Ae=function(Te){return Te+Oe>=Ve.y1};return Je.x0===Ve.x0&&Je.x1===Ve.x1&&Je.y0===Ve.y0&&Je.y1===Ve.y1?{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1}:{x0:Le(Je.x0-Oe)?0:xe(Je.x0-Oe)?Ie[0]:Je.x0,x1:Le(Je.x1+Oe)?0:xe(Je.x1+Oe)?Ie[0]:Je.x1,y0:pe(Je.y0-Oe)?0:Ae(Je.y0-Oe)?Ie[1]:Je.y0,y1:pe(Je.y1+Oe)?0:Ae(Je.y1+Oe)?Ie[1]:Je.y1}},J=null,Y={},ae={},j=null,q=function(Je,Ve){return Ve?Y[c(Je)]:ae[c(Je)]},oe=function(Je,Ve,Ie,Oe){if(Ve)return Y[c(b)]||ie;var Le=ae[A.level]||Ie;return N(Je)?ue(Je,Le,Oe):{}};d.hasMultipleRoots&&x&&I++,A._maxDepth=I,A._backgroundColor=s.paper_bgcolor,A._entryDepth=S.data.depth,A._atRootLevel=x;var Q=-O/2+F.l+F.w*(z.x[1]+z.x[0])/2,X=-_/2+F.t+F.h*(1-(z.y[1]+z.y[0])/2),se=function(Je){return Q+Je},ne=function(Je){return X+Je},fe=ne(0),ye=se(0),Se=function(Je){return ye+Je},we=function(Je){return fe+Je};function _e(Je,Ve){return Je+","+Ve}var ke=Se(0),Me=function(Je){Je.x=Math.max(ke,Je.x)},me=A.pathbar.edgeshape,Ee=function(Je){var Ve=Se(Math.max(Math.min(Je.x0,Je.x0),0)),Ie=Se(Math.min(Math.max(Je.x1,Je.x1),B)),Oe=we(Je.y0),Le=we(Je.y1),xe=W/2,pe={},Ae={};pe.x=Ve,Ae.x=Ie,pe.y=Ae.y=(Oe+Le)/2;var Te={x:Ve,y:Oe},Ne={x:Ie,y:Oe},Ye={x:Ie,y:Le},et={x:Ve,y:Le};return me===">"?(Te.x-=xe,Ne.x-=xe,Ye.x-=xe,et.x-=xe):me==="/"?(Ye.x-=xe,et.x-=xe,pe.x-=xe/2,Ae.x-=xe/2):me==="\\"?(Te.x-=xe,Ne.x-=xe,pe.x-=xe/2,Ae.x-=xe/2):me==="<"&&(pe.x-=xe,Ae.x-=xe),Me(Te),Me(et),Me(pe),Me(Ne),Me(Ye),Me(Ae),"M"+_e(Te.x,Te.y)+"L"+_e(Ne.x,Ne.y)+"L"+_e(Ae.x,Ae.y)+"L"+_e(Ye.x,Ye.y)+"L"+_e(et.x,et.y)+"L"+_e(pe.x,pe.y)+"Z"},Be=A[C?"tiling":"marker"].pad,Ue=function(Je){return A.textposition.indexOf(Je)!==-1},De=Ue("top"),He=Ue("left"),nt=Ue("right"),lt=Ue("bottom"),$e=function(Je){var Ve=se(Je.x0),Ie=se(Je.x1),Oe=ne(Je.y0),Le=ne(Je.y1),xe=Ie-Ve,pe=Le-Oe;if(!xe||!pe)return"";var Ae=A.marker.cornerradius||0,Te=Math.min(Ae,xe/2,pe/2);Te&&Je.data&&Je.data.data&&Je.data.data.label&&(De&&(Te=Math.min(Te,Be.t)),He&&(Te=Math.min(Te,Be.l)),nt&&(Te=Math.min(Te,Be.r)),lt&&(Te=Math.min(Te,Be.b)));var Ne=function(Ye,et){return Te?"a"+_e(Te,Te)+" 0 0 1 "+_e(Ye,et):""};return"M"+_e(Ve,Oe+Te)+Ne(Te,-Te)+"L"+_e(Ie-Te,Oe)+Ne(Te,Te)+"L"+_e(Ie,Le-Te)+Ne(-Te,Te)+"L"+_e(Ve+Te,Le)+Ne(-Te,-Te)+"Z"},qe=function(Je,Ve){var Ie=Je.x0,Oe=Je.x1,Le=Je.y0,xe=Je.y1,pe=Je.textBB,Ae=De||Ve.isHeader&&!lt,Te=Ae?"start":lt?"end":"middle",Ne=Ue("right"),Ye=Ue("left")||Ve.onPathbar,et=Ye?-1:Ne?1:0;if(Ve.isHeader){if(Ie+=(C?Be:Be.l)-M,Oe-=(C?Be:Be.r)-M,Ie>=Oe){var ft=(Ie+Oe)/2;Ie=ft,Oe=ft}var pt;lt?(pt=xe-(C?Be:Be.b),Le<pt&&pt<xe&&(Le=pt)):(pt=Le+(C?Be:Be.t),Le<pt&&pt<xe&&(xe=pt))}var Yt=p(Ie,Oe,Le,xe,pe,{isHorizontal:!1,constrained:!0,angle:0,anchor:Te,leftToRight:et});return Yt.fontSize=Ve.fontSize,Yt.targetX=se(Yt.targetX),Yt.targetY=ne(Yt.targetY),isNaN(Yt.targetX)||isNaN(Yt.targetY)?{}:(Ie!==Oe&&Le!==xe&&t(A.type,Yt,s),{scale:Yt.scale,rotate:Yt.rotate,textX:Yt.textX,textY:Yt.textY,anchorX:Yt.anchorX,anchorY:Yt.anchorY,targetX:Yt.targetX,targetY:Yt.targetY})},ct=function(Je,Ve){for(var Ie,Oe=0,Le=Je;!Ie&&Oe<I;)Oe++,Le=Le.parent,Le?Ie=q(Le,Ve):Oe=I;return Ie||{}},dt=function(Je,Ve,Ie,Oe){var Le=q(Je,Ve),xe;if(Ve)xe=ie;else{var pe=q(S,Ve);pe?xe=ue(Je,pe,Oe):xe={}}return P(Le,xe)},gt=function(Je,Ve,Ie,Oe,Le){var xe=q(Je,Ve),pe;if(xe)pe=xe;else if(Ve)pe=ie;else if(J)if(Je.parent){var Ae=j||Ie;Ae&&!Ve?pe=ue(Je,Ae,Oe):(pe={},L.extendFlat(pe,ct(Je,Ve)))}else pe=L.extendFlat({},Je),C&&(Le.orientation==="h"?Le.flipX?pe.x0=Je.x1:pe.x1=0:Le.flipY?pe.y0=Je.y1:pe.y1=0);else pe={};return P(pe,{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1})},At=function(Je,Ve,Ie,Oe){var Le=q(Je,Ve),xe={},pe=oe(Je,Ve,Ie,Oe);L.extendFlat(xe,{transform:qe({x0:pe.x0,x1:pe.x1,y0:pe.y0,y1:pe.y1,textBB:Je.textBB,_text:Je._text},{isHeader:o.isHeader(Je,A)})}),Le?xe=Le:Je.parent&&L.extendFlat(xe,ct(Je,Ve));var Ae=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&t(A.type,Ae,s),P(xe,{transform:{scale:Ae.scale,rotate:Ae.rotate,textX:Ae.textX,textY:Ae.textY,anchorX:Ae.anchorX,anchorY:Ae.anchorY,targetX:Ae.targetX,targetY:Ae.targetY}})},Rt=function(Je,Ve,Ie,Oe,Le){var xe=Oe[0],pe=Oe[1];k?Je.exit().transition().each(function(){var Ae=y.select(this),Te=Ae.select("path.surface");Te.transition().attrTween("d",function(Ye){var et=dt(Ye,Ve,Ie,[xe,pe]);return function(ft){return Le(et(ft))}});var Ne=Ae.select("g.slicetext");Ne.attr("opacity",0)}).remove():Je.exit().remove()},Vt=function(Je){var Ve=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&t(A.type,Ve,s),L.getTextTransform({textX:Ve.textX,textY:Ve.textY,anchorX:Ve.anchorX,anchorY:Ve.anchorY,targetX:Ve.targetX,targetY:Ve.targetY,scale:Ve.scale,rotate:Ve.rotate})};k&&(a.each(function(Je){Y[c(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(Y[c(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate})}),E.each(function(Je){ae[c(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(ae[c(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate}),!J&&o.isEntry(Je)&&(J=Je)})),j=h(l,g,S,E,{width:O,height:_,viewX:se,viewY:ne,pathSlice:$e,toMoveInsideSlice:qe,prevEntry:J,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:At,handleSlicesExit:Rt,hasTransition:k,strTransform:Vt}),A.pathbar.visible?n(l,g,S,a,{barDifY:te,width:B,height:W,viewX:Se,viewY:we,pathSlice:Ee,toMoveInsideSlice:qe,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:At,handleSlicesExit:Rt,hasTransition:k,strTransform:Vt}):a.remove()}},96362:function(G,V,e){var y=e(39898),P=e(7901),o=e(71828),L=e(2791),M=e(72597).resizeText,v=e(43467);function p(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");M(t,i,"treemap"),i.each(function(n){var c=y.select(this),u=n[0],l=u.trace;c.style("opacity",l.opacity),c.selectAll("path.surface").each(function(g){y.select(this).call(r,g,l,t,{hovered:!1})})})}function r(t,i,n,c,u){var l=(u||{}).hovered,g=i.data.data,f=g.i,T,h,s=g.color,d=L.isHierarchyRoot(i),A=1;if(l)T=n._hovered.marker.line.color,h=n._hovered.marker.line.width;else if(d&&s===n.root.color)A=100,T="rgba(0,0,0,0)",h=0;else if(T=o.castOption(n,f,"marker.line.color")||P.defaultLine,h=o.castOption(n,f,"marker.line.width")||0,!n._hasColorscale&&!i.onPathbar){var w=n.marker.depthfade;if(w){var C=P.combine(P.addOpacity(n._backgroundColor,.75),s),b;if(w===!0){var S=L.getMaxDepth(n);isFinite(S)?L.isLeaf(i)?b=0:b=n._maxVisibleLayers-(i.data.depth-n._entryDepth):b=i.data.height+1}else b=i.data.depth-n._entryDepth,n._atRootLevel||b++;if(b>0)for(var m=0;m<b;m++){var a=.5*m/b;s=P.combine(P.addOpacity(C,a),s)}}}t.call(v,i,n,c,s).style("stroke-width",h).call(P.stroke,T).style("opacity",A)}G.exports={style:p,styleOne:r}},68875:function(G,V,e){var y=e(53522),P=e(1426).extendFlat,o=e(12663).axisHoverFormat;G.exports={y:y.y,x:y.x,x0:y.x0,y0:y.y0,xhoverformat:o("x"),yhoverformat:o("y"),name:P({},y.name,{}),orientation:P({},y.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:y.fillcolor,points:P({},y.boxpoints,{}),jitter:P({},y.jitter,{}),pointpos:P({},y.pointpos,{}),width:P({},y.width,{}),marker:y.marker,text:y.text,hovertext:y.hovertext,hovertemplate:y.hovertemplate,quartilemethod:y.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:y.selected,unselected:y.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(G,V,e){var y=e(71828),P=e(89298),o=e(48518),L=e(60168),M=e(50606).BADNUM;G.exports=function(i,n){var c=o(i,n);if(c[0].t.empty)return c;for(var u=i._fullLayout,l=P.getFromId(i,n[n.orientation==="h"?"xaxis":"yaxis"]),g=1/0,f=-1/0,T=0,h=0,s=0;s<c.length;s++){var d=c[s],A=d.pts.map(L.extractVal),w=d.bandwidth=p(n,d,A),C=d.span=r(n,d,l,w);if(d.min===d.max&&w===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=w,T=Math.max(T,1);else{var b=C[1]-C[0],S=Math.ceil(b/(w/3)),m=b/S;if(!isFinite(m)||!isFinite(S))return y.error("Something went wrong with computing the violin span"),c[0].t.empty=!0,c;var a=L.makeKDE(d,n,A);d.density=new Array(S);for(var E=0,x=C[0];x<C[1]+m/2;E++,x+=m){var k=a(x);d.density[E]={v:k,t:x},T=Math.max(T,k)}}h=Math.max(h,A.length),g=Math.min(g,C[0]),f=Math.max(f,C[1])}var I=P.findExtremes(l,[g,f],{padded:!0});if(n._extremes[l._id]=I,n.width)c[0].t.maxKDE=T;else{var N=u._violinScaleGroupStats,F=n.scalegroup,z=N[F];z?(z.maxKDE=Math.max(z.maxKDE,T),z.maxCount=Math.max(z.maxCount,h)):N[F]={maxKDE:T,maxCount:h}}return c[0].t.labels.kde=y._(i,"kde:"),c};function v(t,i,n){var c=Math.min(i,n/1.349);return 1.059*c*Math.pow(t,-.2)}function p(t,i,n){var c=i.max-i.min;if(!c)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,c/1e4);var u=n.length,l=y.stdev(n,u-1,i.mean);return Math.max(v(u,l,i.q3-i.q1),c/100)}function r(t,i,n,c){var u=t.spanmode,l=t.span||[],g=[i.min,i.max],f=[i.min-2*c,i.max+2*c],T;function h(d){var A=l[d],w=n.type==="multicategory"?n.r2c(A):n.d2c(A,0,t[i.valLetter+"calendar"]);return w===M?f[d]:w}u==="soft"?T=f:u==="hard"?T=g:T=[h(0),h(1)];var s={type:"linear",range:T};return P.setConvert(s),s.cleanRange(),T}},86403:function(G,V,e){var y=e(37188).setPositionOffset,P=["v","h"];G.exports=function(L,M){for(var v=L.calcdata,p=M.xaxis,r=M.yaxis,t=0;t<P.length;t++){for(var i=P[t],n=i==="h"?r:p,c=[],u=0;u<v.length;u++){var l=v[u],g=l[0].t,f=l[0].trace;f.visible===!0&&f.type==="violin"&&!g.empty&&f.orientation===i&&f.xaxis===p._id&&f.yaxis===r._id&&c.push(u)}y("violin",L,c,n)}}},15899:function(G,V,e){var y=e(71828),P=e(7901),o=e(36411),L=e(68875);G.exports=function(v,p,r,t){function i(m,a){return y.coerce(v,p,L,m,a)}function n(m,a){return y.coerce2(v,p,L,m,a)}if(o.handleSampleDefaults(v,p,i,t),p.visible!==!1){i("bandwidth"),i("side");var c=i("width");c||(i("scalegroup",p.name),i("scalemode"));var u=i("span"),l;Array.isArray(u)&&(l="manual"),i("spanmode",l);var g=i("line.color",(v.marker||{}).color||r),f=i("line.width"),T=i("fillcolor",P.addOpacity(p.line.color,.5));o.handlePointsDefaults(v,p,i,{prefix:""});var h=n("box.width"),s=n("box.fillcolor",T),d=n("box.line.color",g),A=n("box.line.width",f),w=i("box.visible",!!(h||s||d||A));w||(p.box={visible:!1});var C=n("meanline.color",g),b=n("meanline.width",f),S=i("meanline.visible",!!(C||b));S||(p.meanline={visible:!1}),i("quartilemethod")}}},60168:function(G,V,e){var y=e(71828),P={gaussian:function(o){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*o*o)}};V.makeKDE=function(o,L,M){var v=M.length,p=P.gaussian,r=o.bandwidth,t=1/(v*r);return function(i){for(var n=0,c=0;c<v;c++)n+=p((i-M[c])/r);return t*n}},V.getPositionOnKdePath=function(o,L,M){var v,p;L.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=y.findPointOnPath(o.path,M,p,{pathLength:o.pathLength}),t=o.posCenterPx,i=r[v],n=L.side==="both"?2*t-i:t;return[i,n]},V.getKdeValue=function(o,L,M){var v=o.pts.map(V.extractVal),p=V.makeKDE(o,L,v);return p(M)/o.posDensityScale},V.extractVal=function(o){return o.v}},57634:function(G,V,e){var y=e(7901),P=e(71828),o=e(89298),L=e(41868),M=e(60168);G.exports=function(p,r,t,i,n){n||(n={});var c=n.hoverLayer,u=p.cd,l=u[0].trace,g=l.hoveron,f=g.indexOf("violins")!==-1,T=g.indexOf("kde")!==-1,h=[],s,d;if(f||T){var A=L.hoverOnBoxes(p,r,t,i);if(T&&A.length>0){var w=p.xa,C=p.ya,b,S,m,a,E;l.orientation==="h"?(E=r,b="y",m=C,S="x",a=w):(E=t,b="x",m=w,S="y",a=C);var x=u[p.index];if(E>=x.span[0]&&E<=x.span[1]){var k=P.extendFlat({},p),I=a.c2p(E,!0),N=M.getKdeValue(x,l,E),F=M.getPositionOnKdePath(x,l,I),z=m._offset,O=m._length;k[b+"0"]=F[0],k[b+"1"]=F[1],k[S+"0"]=k[S+"1"]=I,k[S+"Label"]=S+": "+o.hoverLabelText(a,E,l[S+"hoverformat"])+", "+u[0].t.labels.kde+" "+N.toFixed(3);for(var _=0,B=0;B<A.length;B++)if(A[B].attr==="med"){_=B;break}k.spikeDistance=A[_].spikeDistance;var W=b+"Spike";k[W]=A[_][W],A[_].spikeDistance=void 0,A[_][W]=void 0,k.hovertemplate=!1,h.push(k),d={},d[b+"1"]=P.constrain(z+F[0],z,z+O),d[b+"2"]=P.constrain(z+F[1],z,z+O),d[S+"1"]=d[S+"2"]=a._offset+I}}f&&(h=h.concat(A))}g.indexOf("points")!==-1&&(s=L.hoverOnPoints(p,r,t));var $=c.selectAll(".violinline-"+l.uid).data(d?[0]:[]);return $.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),$.exit().remove(),$.attr(d).call(y.stroke,p.color),i==="closest"?s?[s]:h:(s&&h.push(s),h)}},47462:function(G,V,e){G.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(G,V,e){var y=e(40094),P=e(71828).extendFlat;G.exports={violinmode:P({},y.boxmode,{}),violingap:P({},y.boxgap,{}),violingroupgap:P({},y.boxgroupgap,{})}},33598:function(G,V,e){var y=e(71828),P=e(9228),o=e(4199);G.exports=function(M,v,p){function r(t,i){return y.coerce(M,v,P,t,i)}o._supply(M,v,p,r,"violin")}},28443:function(G,V,e){var y=e(39898),P=e(71828),o=e(91424),L=e(86047),M=e(34621),v=e(60168);G.exports=function(r,t,i,n){var c=r._context.staticPlot,u=r._fullLayout,l=t.xaxis,g=t.yaxis;function f(T,h){var s=M(T,{xaxis:l,yaxis:g,trace:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return o.smoothopen(s[0],1)}P.makeTraceGroups(n,i,"trace violins").each(function(T){var h=y.select(this),s=T[0],d=s.t,A=s.trace;if(A.visible!==!0||d.empty){h.remove();return}var w=d.bPos,C=d.bdPos,b=t[d.valLetter+"axis"],S=t[d.posLetter+"axis"],m=A.side==="both",a=m||A.side==="positive",E=m||A.side==="negative",x=h.selectAll("path.violin").data(P.identity);x.enter().append("path").style("vector-effect",c?"none":"non-scaling-stroke").attr("class","violin"),x.exit().remove(),x.each(function(B){var W=y.select(this),$=B.density,te=$.length,ie=S.c2l(B.pos+w,!0),ue=S.l2p(ie),J;if(A.width)J=d.maxKDE/C;else{var Y=u._violinScaleGroupStats[A.scalegroup];J=A.scalemode==="count"?Y.maxKDE/C*(Y.maxCount/B.pts.length):Y.maxKDE/C}var ae,j,q,oe,Q,X,se;if(a){for(X=new Array(te),oe=0;oe<te;oe++)se=X[oe]={},se[d.posLetter]=ie+$[oe].v/J,se[d.valLetter]=b.c2l($[oe].t,!0);ae=f(X,A)}if(E){for(X=new Array(te),Q=0,oe=te-1;Q<te;Q++,oe--)se=X[Q]={},se[d.posLetter]=ie-$[oe].v/J,se[d.valLetter]=b.c2l($[oe].t,!0);j=f(X,A)}if(m)q=ae+"L"+j.substr(1)+"Z";else{var ne=[ue,b.c2p($[0].t)],fe=[ue,b.c2p($[te-1].t)];A.orientation==="h"&&(ne.reverse(),fe.reverse()),a?q="M"+ne+"L"+ae.substr(1)+"L"+fe:q="M"+fe+"L"+j.substr(1)+"L"+ne}W.attr("d",q),B.posCenterPx=ue,B.posDensityScale=J*C,B.path=W.node(),B.pathLength=B.path.getTotalLength()/(m?2:1)});var k=A.box,I=k.width,N=(k.line||{}).width,F,z;m?(F=C*I,z=0):a?(F=[0,C*I/2],z=N*{x:1,y:-1}[d.posLetter]):(F=[C*I/2,0],z=N*{x:-1,y:1}[d.posLetter]),L.plotBoxAndWhiskers(h,{pos:S,val:b},A,{bPos:w,bdPos:F,bPosPxOffset:z}),L.plotBoxMean(h,{pos:S,val:b},A,{bPos:w,bdPos:F,bPosPxOffset:z});var O;!A.box.visible&&A.meanline.visible&&(O=P.identity);var _=h.selectAll("path.meanline").data(O||[]);_.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",c?"none":"non-scaling-stroke"),_.exit().remove(),_.each(function(B){var W=b.c2p(B.mean,!0),$=v.getPositionOnKdePath(B,A,W);y.select(this).attr("d",A.orientation==="h"?"M"+W+","+$[0]+"V"+$[1]:"M"+$[0]+","+W+"H"+$[1])}),L.plotPoints(h,{x:l,y:g},A,d)})}},31847:function(G,V,e){var y=e(39898),P=e(7901),o=e(16296).stylePoints;G.exports=function(M){var v=y.select(M).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=y.select(this),i=r.box||{},n=i.line||{},c=r.meanline||{},u=c.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(P.stroke,r.line.color).call(P.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(P.stroke,n.color).call(P.fill,i.fillcolor);var l={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(l).call(P.stroke,c.color),t.selectAll("path.meanline").style(l).call(P.stroke,c.color),o(t,r,M)})}},16336:function(G,V,e){var y=e(50693),P=e(16249),o=e(54532),L=e(9012),M=e(1426).extendFlat,v=e(30962).overrideAll,p=G.exports=v(M({x:P.x,y:P.y,z:P.z,value:P.value,isomin:P.isomin,isomax:P.isomax,surface:P.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:P.slices,caps:P.caps,text:P.text,hovertext:P.hovertext,xhoverformat:P.xhoverformat,yhoverformat:P.yhoverformat,zhoverformat:P.zhoverformat,valuehoverformat:P.valuehoverformat,hovertemplate:P.hovertemplate},y("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:P.colorbar,opacity:P.opacity,opacityscale:o.opacityscale,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:M({},L.hoverinfo),showlegend:M({},L.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},64809:function(G,V,e){var y=e(9330).gl_mesh3d,P=e(81697).parseColorScale,o=e(71828).isArrayOrTypedArray,L=e(78614),M=e(21081).extractOpts,v=e(90060),p=e(22674).findNearestOnAxis,r=e(22674).generateIsoMeshes;function t(c,u,l){this.scene=c,this.uid=l,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(c){if(c.object===this.mesh){var u=c.data.index,l=this.data._meshX[u],g=this.data._meshY[u],f=this.data._meshZ[u],T=this.data._Ys.length,h=this.data._Zs.length,s=p(l,this.data._Xs).id,d=p(g,this.data._Ys).id,A=p(f,this.data._Zs).id,w=c.index=A+h*d+h*T*s;c.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var C=this.data.hovertext||this.data.text;return o(C)&&C[w]!==void 0?c.textLabel=C[w]:C&&(c.textLabel=C),!0}},i.update=function(c){var u=this.scene,l=u.fullSceneLayout;this.data=r(c);function g(d,A,w,C){return A.map(function(b){return d.d2l(b,0,C)*w})}var f=v(g(l.xaxis,c._meshX,u.dataScale[0],c.xcalendar),g(l.yaxis,c._meshY,u.dataScale[1],c.ycalendar),g(l.zaxis,c._meshZ,u.dataScale[2],c.zcalendar)),T=v(c._meshI,c._meshJ,c._meshK),h={positions:f,cells:T,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,opacityscale:c.opacityscale,contourEnable:c.contour.show,contourColor:L(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading},s=M(c);h.vertexIntensity=c._meshIntensity,h.vertexIntensityBounds=[s.min,s.max],h.colormap=P(c),this.mesh.update(h)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(c,u){var l=c.glplot.gl,g=y({gl:l}),f=new t(c,g,u.uid);return g._trace=f,f.update(u),c.glplot.add(g),f}G.exports=n},47651:function(G,V,e){var y=e(71828),P=e(16336),o=e(82738).supplyIsoDefaults,L=e(91831).opacityscaleDefaults;G.exports=function(v,p,r,t){function i(n,c){return y.coerce(v,p,P,n,c)}o(v,p,r,t,i),L(v,p,t,i)}},17659:function(G,V,e){G.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(G,V,e){var y=e(1486),P=e(82196).line,o=e(9012),L=e(12663).axisHoverFormat,M=e(5386).fF,v=e(5386).si,p=e(48334),r=e(1426).extendFlat,t=e(7901);function i(n){return{marker:{color:r({},y.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},y.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},y.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:y.hovertext,hovertemplate:M({},{keys:p.eventDataKeys}),hoverinfo:r({},o.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:y.text,textposition:y.textposition,insidetextanchor:y.insidetextanchor,textangle:y.textangle,textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:y.orientation,offset:y.offset,width:y.width,increasing:i(),decreasing:i(),totals:i(),connector:{line:{color:r({},P.color,{dflt:t.defaultLine}),width:r({},P.width,{editType:"plot"}),dash:P.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup}},52752:function(G,V,e){var y=e(89298),P=e(42973),o=e(71828).mergeArray,L=e(66279),M=e(50606).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}G.exports=function(t,i){var n=y.getFromId(t,i.xaxis||"x"),c=y.getFromId(t,i.yaxis||"y"),u,l,g,f,T,h;i.orientation==="h"?(u=n.makeCalcdata(i,"x"),g=c.makeCalcdata(i,"y"),f=P(i,c,"y",g),T=!!i.yperiodalignment,h="y"):(u=c.makeCalcdata(i,"y"),g=n.makeCalcdata(i,"x"),f=P(i,n,"x",g),T=!!i.xperiodalignment,h="x"),l=f.vals;for(var s=Math.min(l.length,u.length),d=new Array(s),A=0,w,C=!1,b=0;b<s;b++){var S=u[b]||0,m=!1;(u[b]!==M||p(i.measure[b])||v(i.measure[b]))&&b+1<s&&(u[b+1]!==M||p(i.measure[b+1])||v(i.measure[b+1]))&&(m=!0);var a=d[b]={i:b,p:l[b],s:S,rawS:S,cNext:m};v(i.measure[b])?(A=a.s,a.isSum=!0,a.dir="totals",a.s=A):p(i.measure[b])?(a.isSum=!0,a.dir="totals",a.s=A):(a.isSum=!1,a.dir=a.rawS<0?"decreasing":"increasing",w=a.s,a.s=A+w,A+=w),a.dir==="totals"&&(C=!0),T&&(d[b].orig_p=g[b],d[b][h+"End"]=f.ends[b],d[b][h+"Start"]=f.starts[b]),i.ids&&(a.id=String(i.ids[b])),a.v=(i.base||0)+A}return d.length&&(d[0].hasTotals=C),o(i.text,d,"tx"),o(i.hovertext,d,"htx"),L(d,i),d}},48334:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},70766:function(G,V,e){var y=e(11661).setGroupPositions;G.exports=function(o,L){var M=o._fullLayout,v=o._fullData,p=o.calcdata,r=L.xaxis,t=L.yaxis,i=[],n=[],c=[],u,l;for(l=0;l<v.length;l++){var g=v[l];g.visible===!0&&g.xaxis===r._id&&g.yaxis===t._id&&g.type==="waterfall"&&(u=p[l],g.orientation==="h"?c.push(u):n.push(u),i.push(u))}var f={mode:M.waterfallmode,norm:M.waterfallnorm,gap:M.waterfallgap,groupgap:M.waterfallgroupgap};for(y(o,r,t,n,f),y(o,t,r,c,f),l=0;l<i.length;l++){u=i[l];for(var T=0;T<u.length;T++){var h=u[T];h.isSum===!1&&(h.s0+=T===0?0:u[T-1].s),T+1<u.length&&(u[T].nextP0=u[T+1].p0,u[T].nextS0=u[T+1].s0)}}}},83266:function(G,V,e){var y=e(71828),P=e(26125),o=e(90769).handleText,L=e(67513),M=e(73927),v=e(43037),p=e(7901),r=e(22372),t=r.INCREASING.COLOR,i=r.DECREASING.COLOR,n="#4499FF";function c(g,f,T){g(f+".marker.color",T),g(f+".marker.line.color",p.defaultLine),g(f+".marker.line.width")}function u(g,f,T,h){function s(b,S){return y.coerce(g,f,v,b,S)}var d=L(g,f,h,s);if(!d){f.visible=!1;return}M(g,f,h,s),s("xhoverformat"),s("yhoverformat"),s("measure"),s("orientation",f.x&&!f.y?"h":"v"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate");var A=s("textposition");o(g,f,h,s,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&(s("texttemplate"),f.texttemplate||s("textinfo")),c(s,"increasing",t),c(s,"decreasing",i),c(s,"totals",n);var w=s("connector.visible");if(w){s("connector.mode");var C=s("connector.line.width");C&&(s("connector.line.color"),s("connector.line.dash"))}}function l(g,f){var T,h;function s(A){return y.coerce(h._input,h,v,A)}if(f.waterfallmode==="group")for(var d=0;d<g.length;d++)h=g[d],T=h._input,P(T,h,f,s)}G.exports={supplyDefaults:u,crossTraceDefaults:l}},58593:function(G){G.exports=function(e,y){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"initial"in y&&(e.initial=y.initial),"delta"in y&&(e.delta=y.delta),"final"in y&&(e.final=y.final),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},61326:function(G,V,e){var y=e(89298).hoverLabelText,P=e(7901).opacity,o=e(95423).hoverOnBars,L=e(22372),M={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};G.exports=function(r,t,i,n,c){var u=o(r,t,i,n,c);if(!u)return;var l=u.cd,g=l[0].trace,f=g.orientation==="h",T=f?"x":"y",h=f?r.xa:r.ya;function s(x){return y(h,x,g[T+"hoverformat"])}var d=u.index,A=l[d],w=A.isSum?A.b+A.s:A.rawS;u.initial=A.b+A.s-w,u.delta=w,u.final=u.initial+u.delta;var C=s(Math.abs(u.delta));u.deltaLabel=w<0?"("+C+")":C,u.finalLabel=s(u.final),u.initialLabel=s(u.initial);var b=A.hi||g.hoverinfo,S=[];if(b&&b!=="none"&&b!=="skip"){var m=b==="all",a=b.split("+"),E=function(x){return m||a.indexOf(x)!==-1};A.isSum||(E("final")&&(f?!E("x"):!E("y"))&&S.push(u.finalLabel),E("delta")&&(w<0?S.push(u.deltaLabel+" "+M.decreasing):S.push(u.deltaLabel+" "+M.increasing)),E("initial")&&S.push("Initial: "+u.initialLabel))}return S.length&&(u.extraText=S.join("<br>")),u.color=v(g,A),[u]};function v(p,r){var t=p[r.dir].marker,i=t.color,n=t.line.color,c=t.line.width;if(P(i))return i;if(P(n)&&c)return n}},19990:function(G,V,e){G.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(G,V,e){var y=e(71828),P=e(13494);G.exports=function(o,L,M){var v=!1;function p(i,n){return y.coerce(o,L,P,i,n)}for(var r=0;r<M.length;r++){var t=M[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},30436:function(G,V,e){var y=e(39898),P=e(71828),o=e(91424),L=e(50606).BADNUM,M=e(17295),v=e(72597).clearMinTextSize;G.exports=function(i,n,c,u){var l=i._fullLayout;v("waterfall",l),M.plot(i,n,c,u,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),p(i,n,c,u)};function p(t,i,n,c){var u=i.xaxis,l=i.yaxis;P.makeTraceGroups(c,n,"trace bars").each(function(g){var f=y.select(this),T=g[0].trace,h=P.ensureSingle(f,"g","lines");if(!T.connector||!T.connector.visible){h.remove();return}var s=T.orientation==="h",d=T.connector.mode,A=h.selectAll("g.line").data(P.identity);A.enter().append("g").classed("line",!0),A.exit().remove();var w=A.size();A.each(function(C,b){if(!(b!==w-1&&!C.cNext)){var S=r(C,u,l,s),m=S[0],a=S[1],E="";m[0]!==L&&a[0]!==L&&m[1]!==L&&a[1]!==L&&(d==="spanning"&&!C.isSum&&b>0&&(s?E+="M"+m[0]+","+a[1]+"V"+a[0]:E+="M"+m[1]+","+a[0]+"H"+m[0]),d!=="between"&&(C.isSum||b<w-1)&&(s?E+="M"+m[1]+","+a[0]+"V"+a[1]:E+="M"+m[0]+","+a[1]+"H"+m[1]),m[2]!==L&&a[2]!==L&&(s?E+="M"+m[1]+","+a[1]+"V"+a[2]:E+="M"+m[1]+","+a[1]+"H"+m[2])),E===""&&(E="M0,0Z"),P.ensureSingle(y.select(this),"path").attr("d",E).call(o.setClipUrl,i.layerClipId,t)}})})}function r(t,i,n,c){var u=[],l=[],g=c?i:n,f=c?n:i;return u[0]=g.c2p(t.s0,!0),l[0]=f.c2p(t.p0,!0),u[1]=g.c2p(t.s1,!0),l[1]=f.c2p(t.p1,!0),u[2]=g.c2p(t.nextS0,!0),l[2]=f.c2p(t.nextP0,!0),c?[u,l]:[l,u]}},55750:function(G,V,e){var y=e(39898),P=e(91424),o=e(7901),L=e(37822).DESELECTDIM,M=e(16688),v=e(72597).resizeText,p=M.styleTextPoints;function r(t,i,n){var c=n||y.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");v(t,c,"waterfall"),c.style("opacity",function(u){return u[0].trace.opacity}),c.each(function(u){var l=y.select(this),g=u[0].trace;l.selectAll(".point > path").each(function(f){if(!f.isBlank){var T=g[f.dir].marker;y.select(this).call(o.fill,T.color).call(o.stroke,T.line.color).call(P.dashLine,T.line.dash,T.line.width).style("opacity",g.selectedpoints&&!f.selected?L:1)}}),p(l,g,t),l.selectAll(".lines").each(function(){var f=g.connector.line;P.lineGroupStyle(y.select(this).selectAll("path"),f.width,f.color,f.dash)})})}G.exports={style:r}},82887:function(G,V,e){var y=e(89298),P=e(71828),o=e(86281),L=e(79344).p,M=e(50606).BADNUM;V.moduleType="transform",V.name="aggregate";var v=V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;V.supplyDefaults=function(u,l){var g={},f;function T(x,k){return P.coerce(u,g,v,x,k)}var h=T("enabled");if(!h)return g;var s=o.findArrayAttributes(l),d={};for(f=0;f<s.length;f++)d[s[f]]=1;var A=T("groups");if(!Array.isArray(A)){if(!d[A])return g.enabled=!1,g;d[A]=0}var w=u.aggregations||[],C=g.aggregations=new Array(w.length),b;function S(x,k){return P.coerce(w[f],b,p,x,k)}for(f=0;f<w.length;f++){b={_index:f};var m=S("target"),a=S("func"),E=S("enabled");E&&m&&(d[m]||a==="count"&&d[m]===void 0)?(a==="stddev"&&S("funcmode"),d[m]=0,C[f]=b):C[f]={enabled:!1,_index:f}}for(f=0;f<s.length;f++)d[s[f]]&&C.push({target:s[f],func:p.func.dflt,enabled:!0,_index:-1});return g},V.calcTransform=function(u,l,g){if(g.enabled){var f=g.groups,T=P.getTargetArray(l,{target:f});if(T){var h,s,d,A,w={},C={},b=[],S=L(l.transforms,g),m=T.length;for(l._length&&(m=Math.min(m,l._length)),h=0;h<m;h++)s=T[h],d=w[s],d===void 0?(w[s]=b.length,A=[h],b.push(A),C[w[s]]=S(h)):(b[d].push(h),C[w[s]]=(C[w[s]]||[]).concat(S(h)));g._indexToPoints=C;var a=g.aggregations;for(h=0;h<a.length;h++)r(u,l,b,a[h]);typeof f=="string"&&r(u,l,b,{target:f,func:"first",enabled:!0}),l._length=b.length}}};function r(u,l,g,f){if(f.enabled){for(var T=f.target,h=P.nestedProperty(l,T),s=h.get(),d=y.getDataConversions(u,l,T,s),A=t(f,d),w=new Array(g.length),C=0;C<g.length;C++)w[C]=A(s,g[C]);h.set(w),f.func==="count"&&P.pushUnique(l._arrayAttrs,T)}}function t(u,l){var g=u.func,f=l.d2c,T=l.c2d;switch(g){case"count":return i;case"first":return n;case"last":return c;case"sum":return function(h,s){for(var d=0,A=0;A<s.length;A++){var w=f(h[s[A]]);w!==M&&(d+=w)}return T(d)};case"avg":return function(h,s){for(var d=0,A=0,w=0;w<s.length;w++){var C=f(h[s[w]]);C!==M&&(d+=C,A++)}return A?T(d/A):M};case"min":return function(h,s){for(var d=1/0,A=0;A<s.length;A++){var w=f(h[s[A]]);w!==M&&(d=Math.min(d,w))}return d===1/0?M:T(d)};case"max":return function(h,s){for(var d=-1/0,A=0;A<s.length;A++){var w=f(h[s[A]]);w!==M&&(d=Math.max(d,w))}return d===-1/0?M:T(d)};case"range":return function(h,s){for(var d=1/0,A=-1/0,w=0;w<s.length;w++){var C=f(h[s[w]]);C!==M&&(d=Math.min(d,C),A=Math.max(A,C))}return A===-1/0||d===1/0?M:T(A-d)};case"change":return function(h,s){var d=f(h[s[0]]),A=f(h[s[s.length-1]]);return d===M||A===M?M:T(A-d)};case"median":return function(h,s){for(var d=[],A=0;A<s.length;A++){var w=f(h[s[A]]);w!==M&&d.push(w)}if(!d.length)return M;d.sort(P.sorterAsc);var C=(d.length-1)/2;return T((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(h,s){for(var d={},A=0,w=M,C=0;C<s.length;C++){var b=f(h[s[C]]);if(b!==M){var S=d[b]=(d[b]||0)+1;S>A&&(A=S,w=b)}}return A?T(w):M};case"rms":return function(h,s){for(var d=0,A=0,w=0;w<s.length;w++){var C=f(h[s[w]]);C!==M&&(d+=C*C,A++)}return A?T(Math.sqrt(d/A)):M};case"stddev":return function(h,s){var d=0,A=0,w=1,C=M,b;for(b=0;b<s.length&&C===M;b++)C=f(h[s[b]]);if(C===M)return M;for(;b<s.length;b++){var S=f(h[s[b]]);if(S!==M){var m=S-C;d+=m,A+=m*m,w++}}var a=u.funcmode==="sample"?w-1:w;return a?Math.sqrt((A-d*d/w)/a):0}}}function i(u,l){return l.length}function n(u,l){return u[l[0]]}function c(u,l){return u[l[l.length-1]]}},14382:function(G,V,e){var y=e(71828),P=e(73972),o=e(89298),L=e(79344).p,M=e(74808),v=M.COMPARISON_OPS,p=M.INTERVAL_OPS,r=M.SET_OPS;V.moduleType="transform",V.name="filter",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},V.supplyDefaults=function(i){var n={};function c(f,T){return y.coerce(i,n,V.attributes,f,T)}var u=c("enabled");if(u){var l=c("target");if(y.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;c("preservegaps"),c("operation"),c("value");var g=P.getComponentMethod("calendars","handleDefaults");g(i,n,"valuecalendar",null),g(i,n,"targetcalendar",null)}return n},V.calcTransform=function(i,n,c){if(!c.enabled)return;var u=y.getTargetArray(n,c);if(!u)return;var l=c.target,g=u.length;n._length&&(g=Math.min(g,n._length));var f=c.targetcalendar,T=n._arrayAttrs,h=c.preservegaps;if(typeof l=="string"){var s=y.nestedProperty(n,l+"calendar").get();s&&(f=s)}var d=o.getDataToCoordFunc(i,n,l,u),A=t(c,d,f),w={},C={},b=0;function S(I,N){for(var F=0;F<T.length;F++){var z=y.nestedProperty(n,T[F]);I(z,N)}}var m,a;h?(m=function(I){w[I.astr]=y.extendDeep([],I.get()),I.set(new Array(g))},a=function(I,N){var F=w[I.astr][N];I.get()[N]=F}):(m=function(I){w[I.astr]=y.extendDeep([],I.get()),I.set([])},a=function(I,N){var F=w[I.astr][N];I.get().push(F)}),S(m);for(var E=L(n.transforms,c),x=0;x<g;x++){var k=A(u[x]);k?(S(a,x),C[b++]=E(x)):h&&b++}c._indexToPoints=C,n._length=b};function t(i,n,c){var u=i.operation,l=i.value,g=y.isArrayOrTypedArray(l);function f(d){return d.indexOf(u)!==-1}var T=function(d){return n(d,0,i.valuecalendar)},h=function(d){return n(d,0,c)},s;switch(f(v)?s=T(g?l[0]:l):f(p)?s=g?[T(l[0]),T(l[1])]:[T(l),T(l)]:f(r)&&(s=g?l.map(T):[T(l)]),u){case"=":return function(d){return h(d)===s};case"!=":return function(d){return h(d)!==s};case"<":return function(d){return h(d)<s};case"<=":return function(d){return h(d)<=s};case">":return function(d){return h(d)>s};case">=":return function(d){return h(d)>=s};case"[]":return function(d){var A=h(d);return A>=s[0]&&A<=s[1]};case"()":return function(d){var A=h(d);return A>s[0]&&A<s[1]};case"[)":return function(d){var A=h(d);return A>=s[0]&&A<s[1]};case"(]":return function(d){var A=h(d);return A>s[0]&&A<=s[1]};case"][":return function(d){var A=h(d);return A<=s[0]||A>=s[1]};case")(":return function(d){var A=h(d);return A<s[0]||A>s[1]};case"](":return function(d){var A=h(d);return A<=s[0]||A>s[1]};case")[":return function(d){var A=h(d);return A<s[0]||A>=s[1]};case"{}":return function(d){return s.indexOf(h(d))!==-1};case"}{":return function(d){return s.indexOf(h(d))===-1}}}},43102:function(G,V,e){var y=e(71828),P=e(86281),o=e(74875),L=e(79344).p;V.moduleType="transform",V.name="groupby",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},V.supplyDefaults=function(v,p,r){var t,i={};function n(T,h){return y.coerce(v,i,V.attributes,T,h)}var c=n("enabled");if(!c)return i;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,l=i.styles=[];if(u)for(t=0;t<u.length;t++){var g=l[t]={};y.coerce(u[t],l[t],V.attributes.styles,"target");var f=y.coerce(u[t],l[t],V.attributes.styles,"value");y.isPlainObject(f)?g.value=y.extendDeep({},f):f&&delete g.value}return i},V.transform=function(v,p){var r,t,i,n=[];for(t=0;t<v.length;t++)for(r=M(v[t],p),i=0;i<r.length;i++)n.push(r[i]);return n};function M(v,p){var r,t,i,n,c,u,l,g,f,T,h=p.transform,s=p.transformIndex,d=v.transforms[s].groups,A=L(v.transforms,h);if(!y.isArrayOrTypedArray(d)||d.length===0)return[v];var w=y.filterUnique(d),C=new Array(w.length),b=d.length,S=P.findArrayAttributes(v),m=h.styles||[],a={};for(r=0;r<m.length;r++)a[m[r].target]=m[r].value;h.styles&&(T=y.keyedContainer(h,"styles","target","value.name"));var E={},x={};for(r=0;r<w.length;r++){u=w[r],E[u]=r,x[u]=0,l=C[r]=y.extendDeepNoArrays({},v),l._group=u,l.transforms[s]._indexToPoints={};var k=null;for(T&&(k=T.get(u)),k||k===""?l.name=k:l.name=y.templateString(h.nameformat,{trace:v.name,group:u}),g=l.transforms,l.transforms=[],t=0;t<g.length;t++)l.transforms[t]=y.extendDeepNoArrays({},g[t]);for(t=0;t<S.length;t++)y.nestedProperty(l,S[t]).set([])}for(i=0;i<S.length;i++){for(n=S[i],t=0,f=[];t<w.length;t++)f[t]=y.nestedProperty(C[t],n).get();for(c=y.nestedProperty(v,n).get(),t=0;t<b;t++)f[E[d[t]]].push(c[t])}for(t=0;t<b;t++){l=C[E[d[t]]];var I=l.transforms[s]._indexToPoints;I[x[d[t]]]=A(t),x[d[t]]++}for(r=0;r<w.length;r++)u=w[r],l=C[r],o.clearExpandedTraceDefaultColors(l),l=y.extendDeepNoArrays(l,a[u]||{});return C}},79344:function(G,V){V.p=function(e,y){for(var P,o,L=0;L<e.length&&(P=e[L],P!==y);L++)!P._indexToPoints||P.enabled===!1||(o=P._indexToPoints);var M=o?function(v){return o[v]}:function(v){return[v]};return M}},32275:function(G,V,e){var y=e(71828),P=e(89298),o=e(79344).p,L=e(50606).BADNUM;V.moduleType="transform",V.name="sort",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},V.supplyDefaults=function(p){var r={};function t(n,c){return y.coerce(p,r,V.attributes,n,c)}var i=t("enabled");return i&&(t("target"),t("order")),r},V.calcTransform=function(p,r,t){if(t.enabled){var i=y.getTargetArray(r,t);if(i){var n=t.target,c=i.length;r._length&&(c=Math.min(c,r._length));var u=r._arrayAttrs,l=P.getDataToCoordFunc(p,r,n,i),g=M(t,i,l,c),f=o(r.transforms,t),T={},h,s;for(h=0;h<u.length;h++){var d=y.nestedProperty(r,u[h]),A=d.get(),w=new Array(c);for(s=0;s<c;s++)w[s]=A[g[s]];d.set(w)}for(s=0;s<c;s++)T[s]=f(g[s]);t._indexToPoints=T,r._length=c}}};function M(p,r,t,i){var n=new Array(i),c=new Array(i),u;for(u=0;u<i;u++)n[u]={v:r[u],i:u};for(n.sort(v(p,t)),u=0;u<i;u++)c[u]=n[u].i;return c}function v(p,r){switch(p.order){case"ascending":return function(t,i){var n=r(t.v),c=r(i.v);return n===L?1:c===L?-1:n-c};case"descending":return function(t,i){var n=r(t.v),c=r(i.v);return n===L?1:c===L?-1:c-n}}}},11506:function(G,V){V.version="2.28.0"},9330:function(G,V,e){var y=e(90386);(function(o,L){G.exports=L()})(self,function(){return function(){var P={7386:function(v,p,r){v.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(xe,pe){if(!(xe instanceof pe))throw new TypeError("Cannot call a class as a function")}function i(xe,pe){for(var Ae=0;Ae<pe.length;Ae++){var Te=pe[Ae];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(xe,Te.key,Te)}}function n(xe,pe,Ae){return pe&&i(xe.prototype,pe),Ae&&i(xe,Ae),Object.defineProperty(xe,"prototype",{writable:!1}),xe}function c(xe,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(pe&&pe.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),pe&&u(xe,pe)}function u(xe,pe){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Te,Ne){return Te.__proto__=Ne,Te},u(xe,pe)}function l(xe){var pe=T();return function(){var Te=h(xe),Ne;if(pe){var Ye=h(this).constructor;Ne=Reflect.construct(Te,arguments,Ye)}else Ne=Te.apply(this,arguments);return g(this,Ne)}}function g(xe,pe){if(pe&&(s(pe)==="object"||typeof pe=="function"))return pe;if(pe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(xe)}function f(xe){if(xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(xe){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ae){return Ae.__proto__||Object.getPrototypeOf(Ae)},h(xe)}function s(xe){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},s(xe)}var d=r(3910),A=r(3187),w=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.lW=m,p.h2=50;var C=2147483647;m.TYPED_ARRAY_SUPPORT=b(),!m.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function b(){try{var xe=new Uint8Array(1),pe={foo:function(){return 42}};return Object.setPrototypeOf(pe,Uint8Array.prototype),Object.setPrototypeOf(xe,pe),xe.foo()===42}catch{return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}});function S(xe){if(xe>C)throw new RangeError('The value "'+xe+'" is invalid for option "size"');var pe=new Uint8Array(xe);return Object.setPrototypeOf(pe,m.prototype),pe}function m(xe,pe,Ae){if(typeof xe=="number"){if(typeof pe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(xe)}return a(xe,pe,Ae)}m.poolSize=8192;function a(xe,pe,Ae){if(typeof xe=="string")return I(xe,pe);if(ArrayBuffer.isView(xe))return F(xe);if(xe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(xe));if(Je(xe,ArrayBuffer)||xe&&Je(xe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je(xe,SharedArrayBuffer)||xe&&Je(xe.buffer,SharedArrayBuffer)))return z(xe,pe,Ae);if(typeof xe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Te=xe.valueOf&&xe.valueOf();if(Te!=null&&Te!==xe)return m.from(Te,pe,Ae);var Ne=O(xe);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof xe[Symbol.toPrimitive]=="function")return m.from(xe[Symbol.toPrimitive]("string"),pe,Ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+s(xe))}m.from=function(xe,pe,Ae){return a(xe,pe,Ae)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array);function E(xe){if(typeof xe!="number")throw new TypeError('"size" argument must be of type number');if(xe<0)throw new RangeError('The value "'+xe+'" is invalid for option "size"')}function x(xe,pe,Ae){return E(xe),xe<=0?S(xe):pe!==void 0?typeof Ae=="string"?S(xe).fill(pe,Ae):S(xe).fill(pe):S(xe)}m.alloc=function(xe,pe,Ae){return x(xe,pe,Ae)};function k(xe){return E(xe),S(xe<0?0:_(xe)|0)}m.allocUnsafe=function(xe){return k(xe)},m.allocUnsafeSlow=function(xe){return k(xe)};function I(xe,pe){if((typeof pe!="string"||pe==="")&&(pe="utf8"),!m.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);var Ae=B(xe,pe)|0,Te=S(Ae),Ne=Te.write(xe,pe);return Ne!==Ae&&(Te=Te.slice(0,Ne)),Te}function N(xe){for(var pe=xe.length<0?0:_(xe.length)|0,Ae=S(pe),Te=0;Te<pe;Te+=1)Ae[Te]=xe[Te]&255;return Ae}function F(xe){if(Je(xe,Uint8Array)){var pe=new Uint8Array(xe);return z(pe.buffer,pe.byteOffset,pe.byteLength)}return N(xe)}function z(xe,pe,Ae){if(pe<0||xe.byteLength<pe)throw new RangeError('"offset" is outside of buffer bounds');if(xe.byteLength<pe+(Ae||0))throw new RangeError('"length" is outside of buffer bounds');var Te;return pe===void 0&&Ae===void 0?Te=new Uint8Array(xe):Ae===void 0?Te=new Uint8Array(xe,pe):Te=new Uint8Array(xe,pe,Ae),Object.setPrototypeOf(Te,m.prototype),Te}function O(xe){if(m.isBuffer(xe)){var pe=_(xe.length)|0,Ae=S(pe);return Ae.length===0||xe.copy(Ae,0,0,pe),Ae}if(xe.length!==void 0)return typeof xe.length!="number"||Ve(xe.length)?S(0):N(xe);if(xe.type==="Buffer"&&Array.isArray(xe.data))return N(xe.data)}function _(xe){if(xe>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return xe|0}m.isBuffer=function(pe){return pe!=null&&pe._isBuffer===!0&&pe!==m.prototype},m.compare=function(pe,Ae){if(Je(pe,Uint8Array)&&(pe=m.from(pe,pe.offset,pe.byteLength)),Je(Ae,Uint8Array)&&(Ae=m.from(Ae,Ae.offset,Ae.byteLength)),!m.isBuffer(pe)||!m.isBuffer(Ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(pe===Ae)return 0;for(var Te=pe.length,Ne=Ae.length,Ye=0,et=Math.min(Te,Ne);Ye<et;++Ye)if(pe[Ye]!==Ae[Ye]){Te=pe[Ye],Ne=Ae[Ye];break}return Te<Ne?-1:Ne<Te?1:0},m.isEncoding=function(pe){switch(String(pe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(pe,Ae){if(!Array.isArray(pe))throw new TypeError('"list" argument must be an Array of Buffers');if(pe.length===0)return m.alloc(0);var Te;if(Ae===void 0)for(Ae=0,Te=0;Te<pe.length;++Te)Ae+=pe[Te].length;var Ne=m.allocUnsafe(Ae),Ye=0;for(Te=0;Te<pe.length;++Te){var et=pe[Te];if(Je(et,Uint8Array))Ye+et.length>Ne.length?(m.isBuffer(et)||(et=m.from(et)),et.copy(Ne,Ye)):Uint8Array.prototype.set.call(Ne,et,Ye);else if(m.isBuffer(et))et.copy(Ne,Ye);else throw new TypeError('"list" argument must be an Array of Buffers');Ye+=et.length}return Ne};function B(xe,pe){if(m.isBuffer(xe))return xe.length;if(ArrayBuffer.isView(xe)||Je(xe,ArrayBuffer))return xe.byteLength;if(typeof xe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+s(xe));var Ae=xe.length,Te=arguments.length>2&&arguments[2]===!0;if(!Te&&Ae===0)return 0;for(var Ne=!1;;)switch(pe){case"ascii":case"latin1":case"binary":return Ae;case"utf8":case"utf-8":return dt(xe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae*2;case"hex":return Ae>>>1;case"base64":return Rt(xe).length;default:if(Ne)return Te?-1:dt(xe).length;pe=(""+pe).toLowerCase(),Ne=!0}}m.byteLength=B;function W(xe,pe,Ae){var Te=!1;if((pe===void 0||pe<0)&&(pe=0),pe>this.length||((Ae===void 0||Ae>this.length)&&(Ae=this.length),Ae<=0)||(Ae>>>=0,pe>>>=0,Ae<=pe))return"";for(xe||(xe="utf8");;)switch(xe){case"hex":return fe(this,pe,Ae);case"utf8":case"utf-8":return oe(this,pe,Ae);case"ascii":return se(this,pe,Ae);case"latin1":case"binary":return ne(this,pe,Ae);case"base64":return q(this,pe,Ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,pe,Ae);default:if(Te)throw new TypeError("Unknown encoding: "+xe);xe=(xe+"").toLowerCase(),Te=!0}}m.prototype._isBuffer=!0;function $(xe,pe,Ae){var Te=xe[pe];xe[pe]=xe[Ae],xe[Ae]=Te}m.prototype.swap16=function(){var pe=this.length;if(pe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ae=0;Ae<pe;Ae+=2)$(this,Ae,Ae+1);return this},m.prototype.swap32=function(){var pe=this.length;if(pe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ae=0;Ae<pe;Ae+=4)$(this,Ae,Ae+3),$(this,Ae+1,Ae+2);return this},m.prototype.swap64=function(){var pe=this.length;if(pe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ae=0;Ae<pe;Ae+=8)$(this,Ae,Ae+7),$(this,Ae+1,Ae+6),$(this,Ae+2,Ae+5),$(this,Ae+3,Ae+4);return this},m.prototype.toString=function(){var pe=this.length;return pe===0?"":arguments.length===0?oe(this,0,pe):W.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(pe){if(!m.isBuffer(pe))throw new TypeError("Argument must be a Buffer");return this===pe?!0:m.compare(this,pe)===0},m.prototype.inspect=function(){var pe="",Ae=p.h2;return pe=this.toString("hex",0,Ae).replace(/(.{2})/g,"$1 ").trim(),this.length>Ae&&(pe+=" ... "),"<Buffer "+pe+">"},w&&(m.prototype[w]=m.prototype.inspect),m.prototype.compare=function(pe,Ae,Te,Ne,Ye){if(Je(pe,Uint8Array)&&(pe=m.from(pe,pe.offset,pe.byteLength)),!m.isBuffer(pe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+s(pe));if(Ae===void 0&&(Ae=0),Te===void 0&&(Te=pe?pe.length:0),Ne===void 0&&(Ne=0),Ye===void 0&&(Ye=this.length),Ae<0||Te>pe.length||Ne<0||Ye>this.length)throw new RangeError("out of range index");if(Ne>=Ye&&Ae>=Te)return 0;if(Ne>=Ye)return-1;if(Ae>=Te)return 1;if(Ae>>>=0,Te>>>=0,Ne>>>=0,Ye>>>=0,this===pe)return 0;for(var et=Ye-Ne,ft=Te-Ae,pt=Math.min(et,ft),Yt=this.slice(Ne,Ye),Jt=pe.slice(Ae,Te),Tt=0;Tt<pt;++Tt)if(Yt[Tt]!==Jt[Tt]){et=Yt[Tt],ft=Jt[Tt];break}return et<ft?-1:ft<et?1:0};function te(xe,pe,Ae,Te,Ne){if(xe.length===0)return-1;if(typeof Ae=="string"?(Te=Ae,Ae=0):Ae>2147483647?Ae=2147483647:Ae<-2147483648&&(Ae=-2147483648),Ae=+Ae,Ve(Ae)&&(Ae=Ne?0:xe.length-1),Ae<0&&(Ae=xe.length+Ae),Ae>=xe.length){if(Ne)return-1;Ae=xe.length-1}else if(Ae<0)if(Ne)Ae=0;else return-1;if(typeof pe=="string"&&(pe=m.from(pe,Te)),m.isBuffer(pe))return pe.length===0?-1:ie(xe,pe,Ae,Te,Ne);if(typeof pe=="number")return pe=pe&255,typeof Uint8Array.prototype.indexOf=="function"?Ne?Uint8Array.prototype.indexOf.call(xe,pe,Ae):Uint8Array.prototype.lastIndexOf.call(xe,pe,Ae):ie(xe,[pe],Ae,Te,Ne);throw new TypeError("val must be string, number or Buffer")}function ie(xe,pe,Ae,Te,Ne){var Ye=1,et=xe.length,ft=pe.length;if(Te!==void 0&&(Te=String(Te).toLowerCase(),Te==="ucs2"||Te==="ucs-2"||Te==="utf16le"||Te==="utf-16le")){if(xe.length<2||pe.length<2)return-1;Ye=2,et/=2,ft/=2,Ae/=2}function pt($t,wr){return Ye===1?$t[wr]:$t.readUInt16BE(wr*Ye)}var Yt;if(Ne){var Jt=-1;for(Yt=Ae;Yt<et;Yt++)if(pt(xe,Yt)===pt(pe,Jt===-1?0:Yt-Jt)){if(Jt===-1&&(Jt=Yt),Yt-Jt+1===ft)return Jt*Ye}else Jt!==-1&&(Yt-=Yt-Jt),Jt=-1}else for(Ae+ft>et&&(Ae=et-ft),Yt=Ae;Yt>=0;Yt--){for(var Tt=!0,_t=0;_t<ft;_t++)if(pt(xe,Yt+_t)!==pt(pe,_t)){Tt=!1;break}if(Tt)return Yt}return-1}m.prototype.includes=function(pe,Ae,Te){return this.indexOf(pe,Ae,Te)!==-1},m.prototype.indexOf=function(pe,Ae,Te){return te(this,pe,Ae,Te,!0)},m.prototype.lastIndexOf=function(pe,Ae,Te){return te(this,pe,Ae,Te,!1)};function ue(xe,pe,Ae,Te){Ae=Number(Ae)||0;var Ne=xe.length-Ae;Te?(Te=Number(Te),Te>Ne&&(Te=Ne)):Te=Ne;var Ye=pe.length;Te>Ye/2&&(Te=Ye/2);var et;for(et=0;et<Te;++et){var ft=parseInt(pe.substr(et*2,2),16);if(Ve(ft))return et;xe[Ae+et]=ft}return et}function J(xe,pe,Ae,Te){return Vt(dt(pe,xe.length-Ae),xe,Ae,Te)}function Y(xe,pe,Ae,Te){return Vt(gt(pe),xe,Ae,Te)}function ae(xe,pe,Ae,Te){return Vt(Rt(pe),xe,Ae,Te)}function j(xe,pe,Ae,Te){return Vt(At(pe,xe.length-Ae),xe,Ae,Te)}m.prototype.write=function(pe,Ae,Te,Ne){if(Ae===void 0)Ne="utf8",Te=this.length,Ae=0;else if(Te===void 0&&typeof Ae=="string")Ne=Ae,Te=this.length,Ae=0;else if(isFinite(Ae))Ae=Ae>>>0,isFinite(Te)?(Te=Te>>>0,Ne===void 0&&(Ne="utf8")):(Ne=Te,Te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ye=this.length-Ae;if((Te===void 0||Te>Ye)&&(Te=Ye),pe.length>0&&(Te<0||Ae<0)||Ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var et=!1;;)switch(Ne){case"hex":return ue(this,pe,Ae,Te);case"utf8":case"utf-8":return J(this,pe,Ae,Te);case"ascii":case"latin1":case"binary":return Y(this,pe,Ae,Te);case"base64":return ae(this,pe,Ae,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,pe,Ae,Te);default:if(et)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),et=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(xe,pe,Ae){return pe===0&&Ae===xe.length?d.fromByteArray(xe):d.fromByteArray(xe.slice(pe,Ae))}function oe(xe,pe,Ae){Ae=Math.min(xe.length,Ae);for(var Te=[],Ne=pe;Ne<Ae;){var Ye=xe[Ne],et=null,ft=Ye>239?4:Ye>223?3:Ye>191?2:1;if(Ne+ft<=Ae){var pt=void 0,Yt=void 0,Jt=void 0,Tt=void 0;switch(ft){case 1:Ye<128&&(et=Ye);break;case 2:pt=xe[Ne+1],(pt&192)===128&&(Tt=(Ye&31)<<6|pt&63,Tt>127&&(et=Tt));break;case 3:pt=xe[Ne+1],Yt=xe[Ne+2],(pt&192)===128&&(Yt&192)===128&&(Tt=(Ye&15)<<12|(pt&63)<<6|Yt&63,Tt>2047&&(Tt<55296||Tt>57343)&&(et=Tt));break;case 4:pt=xe[Ne+1],Yt=xe[Ne+2],Jt=xe[Ne+3],(pt&192)===128&&(Yt&192)===128&&(Jt&192)===128&&(Tt=(Ye&15)<<18|(pt&63)<<12|(Yt&63)<<6|Jt&63,Tt>65535&&Tt<1114112&&(et=Tt))}}et===null?(et=65533,ft=1):et>65535&&(et-=65536,Te.push(et>>>10&1023|55296),et=56320|et&1023),Te.push(et),Ne+=ft}return X(Te)}var Q=4096;function X(xe){var pe=xe.length;if(pe<=Q)return String.fromCharCode.apply(String,xe);for(var Ae="",Te=0;Te<pe;)Ae+=String.fromCharCode.apply(String,xe.slice(Te,Te+=Q));return Ae}function se(xe,pe,Ae){var Te="";Ae=Math.min(xe.length,Ae);for(var Ne=pe;Ne<Ae;++Ne)Te+=String.fromCharCode(xe[Ne]&127);return Te}function ne(xe,pe,Ae){var Te="";Ae=Math.min(xe.length,Ae);for(var Ne=pe;Ne<Ae;++Ne)Te+=String.fromCharCode(xe[Ne]);return Te}function fe(xe,pe,Ae){var Te=xe.length;(!pe||pe<0)&&(pe=0),(!Ae||Ae<0||Ae>Te)&&(Ae=Te);for(var Ne="",Ye=pe;Ye<Ae;++Ye)Ne+=Ie[xe[Ye]];return Ne}function ye(xe,pe,Ae){for(var Te=xe.slice(pe,Ae),Ne="",Ye=0;Ye<Te.length-1;Ye+=2)Ne+=String.fromCharCode(Te[Ye]+Te[Ye+1]*256);return Ne}m.prototype.slice=function(pe,Ae){var Te=this.length;pe=~~pe,Ae=Ae===void 0?Te:~~Ae,pe<0?(pe+=Te,pe<0&&(pe=0)):pe>Te&&(pe=Te),Ae<0?(Ae+=Te,Ae<0&&(Ae=0)):Ae>Te&&(Ae=Te),Ae<pe&&(Ae=pe);var Ne=this.subarray(pe,Ae);return Object.setPrototypeOf(Ne,m.prototype),Ne};function Se(xe,pe,Ae){if(xe%1!==0||xe<0)throw new RangeError("offset is not uint");if(xe+pe>Ae)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(pe,Ae,Te){pe=pe>>>0,Ae=Ae>>>0,Te||Se(pe,Ae,this.length);for(var Ne=this[pe],Ye=1,et=0;++et<Ae&&(Ye*=256);)Ne+=this[pe+et]*Ye;return Ne},m.prototype.readUintBE=m.prototype.readUIntBE=function(pe,Ae,Te){pe=pe>>>0,Ae=Ae>>>0,Te||Se(pe,Ae,this.length);for(var Ne=this[pe+--Ae],Ye=1;Ae>0&&(Ye*=256);)Ne+=this[pe+--Ae]*Ye;return Ne},m.prototype.readUint8=m.prototype.readUInt8=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,1,this.length),this[pe]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,2,this.length),this[pe]|this[pe+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,2,this.length),this[pe]<<8|this[pe+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,4,this.length),(this[pe]|this[pe+1]<<8|this[pe+2]<<16)+this[pe+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,4,this.length),this[pe]*16777216+(this[pe+1]<<16|this[pe+2]<<8|this[pe+3])},m.prototype.readBigUInt64LE=Oe(function(pe){pe=pe>>>0,lt(pe,"offset");var Ae=this[pe],Te=this[pe+7];(Ae===void 0||Te===void 0)&&$e(pe,this.length-8);var Ne=Ae+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24),Ye=this[++pe]+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+Te*Math.pow(2,24);return BigInt(Ne)+(BigInt(Ye)<<BigInt(32))}),m.prototype.readBigUInt64BE=Oe(function(pe){pe=pe>>>0,lt(pe,"offset");var Ae=this[pe],Te=this[pe+7];(Ae===void 0||Te===void 0)&&$e(pe,this.length-8);var Ne=Ae*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe],Ye=this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+Te;return(BigInt(Ne)<<BigInt(32))+BigInt(Ye)}),m.prototype.readIntLE=function(pe,Ae,Te){pe=pe>>>0,Ae=Ae>>>0,Te||Se(pe,Ae,this.length);for(var Ne=this[pe],Ye=1,et=0;++et<Ae&&(Ye*=256);)Ne+=this[pe+et]*Ye;return Ye*=128,Ne>=Ye&&(Ne-=Math.pow(2,8*Ae)),Ne},m.prototype.readIntBE=function(pe,Ae,Te){pe=pe>>>0,Ae=Ae>>>0,Te||Se(pe,Ae,this.length);for(var Ne=Ae,Ye=1,et=this[pe+--Ne];Ne>0&&(Ye*=256);)et+=this[pe+--Ne]*Ye;return Ye*=128,et>=Ye&&(et-=Math.pow(2,8*Ae)),et},m.prototype.readInt8=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,1,this.length),this[pe]&128?(255-this[pe]+1)*-1:this[pe]},m.prototype.readInt16LE=function(pe,Ae){pe=pe>>>0,Ae||Se(pe,2,this.length);var Te=this[pe]|this[pe+1]<<8;return Te&32768?Te|4294901760:Te},m.prototype.readInt16BE=function(pe,Ae){pe=pe>>>0,Ae||Se(pe,2,this.length);var Te=this[pe+1]|this[pe]<<8;return Te&32768?Te|4294901760:Te},m.prototype.readInt32LE=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,4,this.length),this[pe]|this[pe+1]<<8|this[pe+2]<<16|this[pe+3]<<24},m.prototype.readInt32BE=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,4,this.length),this[pe]<<24|this[pe+1]<<16|this[pe+2]<<8|this[pe+3]},m.prototype.readBigInt64LE=Oe(function(pe){pe=pe>>>0,lt(pe,"offset");var Ae=this[pe],Te=this[pe+7];(Ae===void 0||Te===void 0)&&$e(pe,this.length-8);var Ne=this[pe+4]+this[pe+5]*Math.pow(2,8)+this[pe+6]*Math.pow(2,16)+(Te<<24);return(BigInt(Ne)<<BigInt(32))+BigInt(Ae+this[++pe]*Math.pow(2,8)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,24))}),m.prototype.readBigInt64BE=Oe(function(pe){pe=pe>>>0,lt(pe,"offset");var Ae=this[pe],Te=this[pe+7];(Ae===void 0||Te===void 0)&&$e(pe,this.length-8);var Ne=(Ae<<24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+this[++pe];return(BigInt(Ne)<<BigInt(32))+BigInt(this[++pe]*Math.pow(2,24)+this[++pe]*Math.pow(2,16)+this[++pe]*Math.pow(2,8)+Te)}),m.prototype.readFloatLE=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,4,this.length),A.read(this,pe,!0,23,4)},m.prototype.readFloatBE=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,4,this.length),A.read(this,pe,!1,23,4)},m.prototype.readDoubleLE=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,8,this.length),A.read(this,pe,!0,52,8)},m.prototype.readDoubleBE=function(pe,Ae){return pe=pe>>>0,Ae||Se(pe,8,this.length),A.read(this,pe,!1,52,8)};function we(xe,pe,Ae,Te,Ne,Ye){if(!m.isBuffer(xe))throw new TypeError('"buffer" argument must be a Buffer instance');if(pe>Ne||pe<Ye)throw new RangeError('"value" argument is out of bounds');if(Ae+Te>xe.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(pe,Ae,Te,Ne){if(pe=+pe,Ae=Ae>>>0,Te=Te>>>0,!Ne){var Ye=Math.pow(2,8*Te)-1;we(this,pe,Ae,Te,Ye,0)}var et=1,ft=0;for(this[Ae]=pe&255;++ft<Te&&(et*=256);)this[Ae+ft]=pe/et&255;return Ae+Te},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(pe,Ae,Te,Ne){if(pe=+pe,Ae=Ae>>>0,Te=Te>>>0,!Ne){var Ye=Math.pow(2,8*Te)-1;we(this,pe,Ae,Te,Ye,0)}var et=Te-1,ft=1;for(this[Ae+et]=pe&255;--et>=0&&(ft*=256);)this[Ae+et]=pe/ft&255;return Ae+Te},m.prototype.writeUint8=m.prototype.writeUInt8=function(pe,Ae,Te){return pe=+pe,Ae=Ae>>>0,Te||we(this,pe,Ae,1,255,0),this[Ae]=pe&255,Ae+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(pe,Ae,Te){return pe=+pe,Ae=Ae>>>0,Te||we(this,pe,Ae,2,65535,0),this[Ae]=pe&255,this[Ae+1]=pe>>>8,Ae+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(pe,Ae,Te){return pe=+pe,Ae=Ae>>>0,Te||we(this,pe,Ae,2,65535,0),this[Ae]=pe>>>8,this[Ae+1]=pe&255,Ae+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(pe,Ae,Te){return pe=+pe,Ae=Ae>>>0,Te||we(this,pe,Ae,4,4294967295,0),this[Ae+3]=pe>>>24,this[Ae+2]=pe>>>16,this[Ae+1]=pe>>>8,this[Ae]=pe&255,Ae+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(pe,Ae,Te){return pe=+pe,Ae=Ae>>>0,Te||we(this,pe,Ae,4,4294967295,0),this[Ae]=pe>>>24,this[Ae+1]=pe>>>16,this[Ae+2]=pe>>>8,this[Ae+3]=pe&255,Ae+4};function _e(xe,pe,Ae,Te,Ne){nt(pe,Te,Ne,xe,Ae,7);var Ye=Number(pe&BigInt(4294967295));xe[Ae++]=Ye,Ye=Ye>>8,xe[Ae++]=Ye,Ye=Ye>>8,xe[Ae++]=Ye,Ye=Ye>>8,xe[Ae++]=Ye;var et=Number(pe>>BigInt(32)&BigInt(4294967295));return xe[Ae++]=et,et=et>>8,xe[Ae++]=et,et=et>>8,xe[Ae++]=et,et=et>>8,xe[Ae++]=et,Ae}function ke(xe,pe,Ae,Te,Ne){nt(pe,Te,Ne,xe,Ae,7);var Ye=Number(pe&BigInt(4294967295));xe[Ae+7]=Ye,Ye=Ye>>8,xe[Ae+6]=Ye,Ye=Ye>>8,xe[Ae+5]=Ye,Ye=Ye>>8,xe[Ae+4]=Ye;var et=Number(pe>>BigInt(32)&BigInt(4294967295));return xe[Ae+3]=et,et=et>>8,xe[Ae+2]=et,et=et>>8,xe[Ae+1]=et,et=et>>8,xe[Ae]=et,Ae+8}m.prototype.writeBigUInt64LE=Oe(function(pe){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return _e(this,pe,Ae,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=Oe(function(pe){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ke(this,pe,Ae,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(pe,Ae,Te,Ne){if(pe=+pe,Ae=Ae>>>0,!Ne){var Ye=Math.pow(2,8*Te-1);we(this,pe,Ae,Te,Ye-1,-Ye)}var et=0,ft=1,pt=0;for(this[Ae]=pe&255;++et<Te&&(ft*=256);)pe<0&&pt===0&&this[Ae+et-1]!==0&&(pt=1),this[Ae+et]=(pe/ft>>0)-pt&255;return Ae+Te},m.prototype.writeIntBE=function(pe,Ae,Te,Ne){if(pe=+pe,Ae=Ae>>>0,!Ne){var Ye=Math.pow(2,8*Te-1);we(this,pe,Ae,Te,Ye-1,-Ye)}var et=Te-1,ft=1,pt=0;for(this[Ae+et]=pe&255;--et>=0&&(ft*=256);)pe<0&&pt===0&&this[Ae+et+1]!==0&&(pt=1),this[Ae+et]=(pe/ft>>0)-pt&255;return Ae+Te},m.prototype.writeInt8=function(pe,Ae,Te){return pe=+pe,Ae=Ae>>>0,Te||we(this,pe,Ae,1,127,-128),pe<0&&(pe=255+pe+1),this[Ae]=pe&255,Ae+1},m.prototype.writeInt16LE=function(pe,Ae,Te){return pe=+pe,Ae=Ae>>>0,Te||we(this,pe,Ae,2,32767,-32768),this[Ae]=pe&255,this[Ae+1]=pe>>>8,Ae+2},m.prototype.writeInt16BE=function(pe,Ae,Te){return pe=+pe,Ae=Ae>>>0,Te||we(this,pe,Ae,2,32767,-32768),this[Ae]=pe>>>8,this[Ae+1]=pe&255,Ae+2},m.prototype.writeInt32LE=function(pe,Ae,Te){return pe=+pe,Ae=Ae>>>0,Te||we(this,pe,Ae,4,2147483647,-2147483648),this[Ae]=pe&255,this[Ae+1]=pe>>>8,this[Ae+2]=pe>>>16,this[Ae+3]=pe>>>24,Ae+4},m.prototype.writeInt32BE=function(pe,Ae,Te){return pe=+pe,Ae=Ae>>>0,Te||we(this,pe,Ae,4,2147483647,-2147483648),pe<0&&(pe=4294967295+pe+1),this[Ae]=pe>>>24,this[Ae+1]=pe>>>16,this[Ae+2]=pe>>>8,this[Ae+3]=pe&255,Ae+4},m.prototype.writeBigInt64LE=Oe(function(pe){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return _e(this,pe,Ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=Oe(function(pe){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ke(this,pe,Ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Me(xe,pe,Ae,Te,Ne,Ye){if(Ae+Te>xe.length)throw new RangeError("Index out of range");if(Ae<0)throw new RangeError("Index out of range")}function me(xe,pe,Ae,Te,Ne){return pe=+pe,Ae=Ae>>>0,Ne||Me(xe,pe,Ae,4),A.write(xe,pe,Ae,Te,23,4),Ae+4}m.prototype.writeFloatLE=function(pe,Ae,Te){return me(this,pe,Ae,!0,Te)},m.prototype.writeFloatBE=function(pe,Ae,Te){return me(this,pe,Ae,!1,Te)};function Ee(xe,pe,Ae,Te,Ne){return pe=+pe,Ae=Ae>>>0,Ne||Me(xe,pe,Ae,8),A.write(xe,pe,Ae,Te,52,8),Ae+8}m.prototype.writeDoubleLE=function(pe,Ae,Te){return Ee(this,pe,Ae,!0,Te)},m.prototype.writeDoubleBE=function(pe,Ae,Te){return Ee(this,pe,Ae,!1,Te)},m.prototype.copy=function(pe,Ae,Te,Ne){if(!m.isBuffer(pe))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),!Ne&&Ne!==0&&(Ne=this.length),Ae>=pe.length&&(Ae=pe.length),Ae||(Ae=0),Ne>0&&Ne<Te&&(Ne=Te),Ne===Te||pe.length===0||this.length===0)return 0;if(Ae<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),pe.length-Ae<Ne-Te&&(Ne=pe.length-Ae+Te);var Ye=Ne-Te;return this===pe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ae,Te,Ne):Uint8Array.prototype.set.call(pe,this.subarray(Te,Ne),Ae),Ye},m.prototype.fill=function(pe,Ae,Te,Ne){if(typeof pe=="string"){if(typeof Ae=="string"?(Ne=Ae,Ae=0,Te=this.length):typeof Te=="string"&&(Ne=Te,Te=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!m.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(pe.length===1){var Ye=pe.charCodeAt(0);(Ne==="utf8"&&Ye<128||Ne==="latin1")&&(pe=Ye)}}else typeof pe=="number"?pe=pe&255:typeof pe=="boolean"&&(pe=Number(pe));if(Ae<0||this.length<Ae||this.length<Te)throw new RangeError("Out of range index");if(Te<=Ae)return this;Ae=Ae>>>0,Te=Te===void 0?this.length:Te>>>0,pe||(pe=0);var et;if(typeof pe=="number")for(et=Ae;et<Te;++et)this[et]=pe;else{var ft=m.isBuffer(pe)?pe:m.from(pe,Ne),pt=ft.length;if(pt===0)throw new TypeError('The value "'+pe+'" is invalid for argument "value"');for(et=0;et<Te-Ae;++et)this[et+Ae]=ft[et%pt]}return this};var Be={};function Ue(xe,pe,Ae){Be[xe]=function(Te){c(Ye,Te);var Ne=l(Ye);function Ye(){var et;return t(this,Ye),et=Ne.call(this),Object.defineProperty(f(et),"message",{value:pe.apply(f(et),arguments),writable:!0,configurable:!0}),et.name="".concat(et.name," [").concat(xe,"]"),et.stack,delete et.name,et}return n(Ye,[{key:"code",get:function(){return xe},set:function(ft){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ft,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(xe,"]: ").concat(this.message)}}]),Ye}(Ae)}Ue("ERR_BUFFER_OUT_OF_BOUNDS",function(xe){return xe?"".concat(xe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ue("ERR_INVALID_ARG_TYPE",function(xe,pe){return'The "'.concat(xe,'" argument must be of type number. Received type ').concat(s(pe))},TypeError),Ue("ERR_OUT_OF_RANGE",function(xe,pe,Ae){var Te='The value of "'.concat(xe,'" is out of range.'),Ne=Ae;return Number.isInteger(Ae)&&Math.abs(Ae)>Math.pow(2,32)?Ne=De(String(Ae)):typeof Ae=="bigint"&&(Ne=String(Ae),(Ae>Math.pow(BigInt(2),BigInt(32))||Ae<-Math.pow(BigInt(2),BigInt(32)))&&(Ne=De(Ne)),Ne+="n"),Te+=" It must be ".concat(pe,". Received ").concat(Ne),Te},RangeError);function De(xe){for(var pe="",Ae=xe.length,Te=xe[0]==="-"?1:0;Ae>=Te+4;Ae-=3)pe="_".concat(xe.slice(Ae-3,Ae)).concat(pe);return"".concat(xe.slice(0,Ae)).concat(pe)}function He(xe,pe,Ae){lt(pe,"offset"),(xe[pe]===void 0||xe[pe+Ae]===void 0)&&$e(pe,xe.length-(Ae+1))}function nt(xe,pe,Ae,Te,Ne,Ye){if(xe>Ae||xe<pe){var et=typeof pe=="bigint"?"n":"",ft;throw Ye>3?pe===0||pe===BigInt(0)?ft=">= 0".concat(et," and < 2").concat(et," ** ").concat((Ye+1)*8).concat(et):ft=">= -(2".concat(et," ** ").concat((Ye+1)*8-1).concat(et,") and < 2 ** ")+"".concat((Ye+1)*8-1).concat(et):ft=">= ".concat(pe).concat(et," and <= ").concat(Ae).concat(et),new Be.ERR_OUT_OF_RANGE("value",ft,xe)}He(Te,Ne,Ye)}function lt(xe,pe){if(typeof xe!="number")throw new Be.ERR_INVALID_ARG_TYPE(pe,"number",xe)}function $e(xe,pe,Ae){throw Math.floor(xe)!==xe?(lt(xe,Ae),new Be.ERR_OUT_OF_RANGE(Ae||"offset","an integer",xe)):pe<0?new Be.ERR_BUFFER_OUT_OF_BOUNDS:new Be.ERR_OUT_OF_RANGE(Ae||"offset",">= ".concat(Ae?1:0," and <= ").concat(pe),xe)}var qe=/[^+/0-9A-Za-z-_]/g;function ct(xe){if(xe=xe.split("=")[0],xe=xe.trim().replace(qe,""),xe.length<2)return"";for(;xe.length%4!==0;)xe=xe+"=";return xe}function dt(xe,pe){pe=pe||1/0;for(var Ae,Te=xe.length,Ne=null,Ye=[],et=0;et<Te;++et){if(Ae=xe.charCodeAt(et),Ae>55295&&Ae<57344){if(!Ne){if(Ae>56319){(pe-=3)>-1&&Ye.push(239,191,189);continue}else if(et+1===Te){(pe-=3)>-1&&Ye.push(239,191,189);continue}Ne=Ae;continue}if(Ae<56320){(pe-=3)>-1&&Ye.push(239,191,189),Ne=Ae;continue}Ae=(Ne-55296<<10|Ae-56320)+65536}else Ne&&(pe-=3)>-1&&Ye.push(239,191,189);if(Ne=null,Ae<128){if((pe-=1)<0)break;Ye.push(Ae)}else if(Ae<2048){if((pe-=2)<0)break;Ye.push(Ae>>6|192,Ae&63|128)}else if(Ae<65536){if((pe-=3)<0)break;Ye.push(Ae>>12|224,Ae>>6&63|128,Ae&63|128)}else if(Ae<1114112){if((pe-=4)<0)break;Ye.push(Ae>>18|240,Ae>>12&63|128,Ae>>6&63|128,Ae&63|128)}else throw new Error("Invalid code point")}return Ye}function gt(xe){for(var pe=[],Ae=0;Ae<xe.length;++Ae)pe.push(xe.charCodeAt(Ae)&255);return pe}function At(xe,pe){for(var Ae,Te,Ne,Ye=[],et=0;et<xe.length&&!((pe-=2)<0);++et)Ae=xe.charCodeAt(et),Te=Ae>>8,Ne=Ae%256,Ye.push(Ne),Ye.push(Te);return Ye}function Rt(xe){return d.toByteArray(ct(xe))}function Vt(xe,pe,Ae,Te){var Ne;for(Ne=0;Ne<Te&&!(Ne+Ae>=pe.length||Ne>=xe.length);++Ne)pe[Ne+Ae]=xe[Ne];return Ne}function Je(xe,pe){return xe instanceof pe||xe!=null&&xe.constructor!=null&&xe.constructor.name!=null&&xe.constructor.name===pe.name}function Ve(xe){return xe!==xe}var Ie=function(){for(var xe="0123456789abcdef",pe=new Array(256),Ae=0;Ae<16;++Ae)for(var Te=Ae*16,Ne=0;Ne<16;++Ne)pe[Te+Ne]=xe[Ae]+xe[Ne];return pe}();function Oe(xe){return typeof BigInt>"u"?Le:xe}function Le(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=i,v.exports.isMobile=i,v.exports.default=i;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function i(n){n||(n={});var c=n.ua;if(!c&&typeof navigator<"u"&&(c=navigator.userAgent),c&&c.headers&&typeof c.headers["user-agent"]=="string"&&(c=c.headers["user-agent"]),typeof c!="string")return!1;var u=p.test(c)&&!r.test(c)||!!n.tablet&&t.test(c);return!u&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&c.indexOf("Macintosh")!==-1&&c.indexOf("Safari")!==-1&&(u=!0),u}},3910:function(v,p){p.byteLength=g,p.toByteArray=T,p.fromByteArray=d;for(var r=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=n.length;c<u;++c)r[c]=n[c],t[n.charCodeAt(c)]=c;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function l(A){var w=A.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=A.indexOf("=");C===-1&&(C=w);var b=C===w?0:4-C%4;return[C,b]}function g(A){var w=l(A),C=w[0],b=w[1];return(C+b)*3/4-b}function f(A,w,C){return(w+C)*3/4-C}function T(A){var w,C=l(A),b=C[0],S=C[1],m=new i(f(A,b,S)),a=0,E=S>0?b-4:b,x;for(x=0;x<E;x+=4)w=t[A.charCodeAt(x)]<<18|t[A.charCodeAt(x+1)]<<12|t[A.charCodeAt(x+2)]<<6|t[A.charCodeAt(x+3)],m[a++]=w>>16&255,m[a++]=w>>8&255,m[a++]=w&255;return S===2&&(w=t[A.charCodeAt(x)]<<2|t[A.charCodeAt(x+1)]>>4,m[a++]=w&255),S===1&&(w=t[A.charCodeAt(x)]<<10|t[A.charCodeAt(x+1)]<<4|t[A.charCodeAt(x+2)]>>2,m[a++]=w>>8&255,m[a++]=w&255),m}function h(A){return r[A>>18&63]+r[A>>12&63]+r[A>>6&63]+r[A&63]}function s(A,w,C){for(var b,S=[],m=w;m<C;m+=3)b=(A[m]<<16&16711680)+(A[m+1]<<8&65280)+(A[m+2]&255),S.push(h(b));return S.join("")}function d(A){for(var w,C=A.length,b=C%3,S=[],m=16383,a=0,E=C-b;a<E;a+=m)S.push(s(A,a,a+m>E?E:a+m));return b===1?(w=A[C-1],S.push(r[w>>2]+r[w<<4&63]+"==")):b===2&&(w=(A[C-2]<<8)+A[C-1],S.push(r[w>>10]+r[w>>4&63]+r[w<<2&63]+"=")),S.join("")}},3187:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,i,n,c){var u,l,g=c*8-n-1,f=(1<<g)-1,T=f>>1,h=-7,s=i?c-1:0,d=i?-1:1,A=r[t+s];for(s+=d,u=A&(1<<-h)-1,A>>=-h,h+=g;h>0;u=u*256+r[t+s],s+=d,h-=8);for(l=u&(1<<-h)-1,u>>=-h,h+=n;h>0;l=l*256+r[t+s],s+=d,h-=8);if(u===0)u=1-T;else{if(u===f)return l?NaN:(A?-1:1)*(1/0);l=l+Math.pow(2,n),u=u-T}return(A?-1:1)*l*Math.pow(2,u-n)},p.write=function(r,t,i,n,c,u){var l,g,f,T=u*8-c-1,h=(1<<T)-1,s=h>>1,d=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:u-1,w=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,l=h):(l=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-l))<1&&(l--,f*=2),l+s>=1?t+=d/f:t+=d*Math.pow(2,1-s),t*f>=2&&(l++,f/=2),l+s>=h?(g=0,l=h):l+s>=1?(g=(t*f-1)*Math.pow(2,c),l=l+s):(g=t*Math.pow(2,s-1)*Math.pow(2,c),l=0));c>=8;r[i+A]=g&255,A+=w,g/=256,c-=8);for(l=l<<c|g,T+=c;T>0;r[i+A]=l&255,A+=w,l/=256,T-=8);r[i+A-w]|=C*128}},1152:function(v,p,r){v.exports=l;var t=r(3440),i=r(7774),n=r(9298);function c(g,f){this._controllerNames=Object.keys(g),this._controllerList=this._controllerNames.map(function(T){return g[T]}),this._mode=f,this._active=g[f],this._active||(this._mode="turntable",this._active=g.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=c.prototype;u.flush=function(g){for(var f=this._controllerList,T=0;T<f.length;++T)f[T].flush(g)},u.idle=function(g){for(var f=this._controllerList,T=0;T<f.length;++T)f[T].idle(g)},u.lookAt=function(g,f,T,h){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].lookAt(g,f,T,h)},u.rotate=function(g,f,T,h){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].rotate(g,f,T,h)},u.pan=function(g,f,T,h){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].pan(g,f,T,h)},u.translate=function(g,f,T,h){for(var s=this._controllerList,d=0;d<s.length;++d)s[d].translate(g,f,T,h)},u.setMatrix=function(g,f){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setMatrix(g,f)},u.setDistanceLimits=function(g,f){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistanceLimits(g,f)},u.setDistance=function(g,f){for(var T=this._controllerList,h=0;h<T.length;++h)T[h].setDistance(g,f)},u.recalcMatrix=function(g){this._active.recalcMatrix(g)},u.getDistance=function(g){return this._active.getDistance(g)},u.getDistanceLimits=function(g){return this._active.getDistanceLimits(g)},u.lastT=function(){return this._active.lastT()},u.setMode=function(g){if(g!==this._mode){var f=this._controllerNames.indexOf(g);if(!(f<0)){var T=this._active,h=this._controllerList[f],s=Math.max(T.lastT(),h.lastT());T.recalcMatrix(s),h.setMatrix(s,T.computedMatrix),this._active=h,this._mode=g,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function l(g){g=g||{};var f=g.eye||[0,0,1],T=g.center||[0,0,0],h=g.up||[0,1,0],s=g.distanceLimits||[0,1/0],d=g.mode||"turntable",A=t(),w=i(),C=n();return A.setDistanceLimits(s[0],s[1]),A.lookAt(0,f,T,h),w.setDistanceLimits(s[0],s[1]),w.lookAt(0,f,T,h),C.setDistanceLimits(s[0],s[1]),C.lookAt(0,f,T,h),new c({turntable:A,orbit:w,matrix:C},d)}},8126:function(v,p,r){var t=typeof WeakMap>"u"?r(5346):WeakMap,i=r(5827),n=r(2944),c=new t;function u(l){var g=c.get(l),f=g&&(g._triangleBuffer.handle||g._triangleBuffer.buffer);if(!f||!l.isBuffer(f)){var T=i(l,new Float32Array([-1,-1,-1,4,4,-1]));g=n(l,[{buffer:T,type:l.FLOAT,size:2}]),g._triangleBuffer=T,c.set(l,g)}g.bind(),l.drawArrays(l.TRIANGLES,0,3),g.unbind()}v.exports=u},8008:function(v,p,r){var t=r(4930);v.exports=i;function i(n,c,u){c=typeof c=="number"?c:1,u=u||": ";var l=n.split(/\r?\n/),g=String(l.length+c-1).length;return l.map(function(f,T){var h=T+c,s=String(h).length,d=t(h,g-s);return d+u+f}).join(`
`)}},2153:function(v,p,r){v.exports=n;var t=r(417);function i(c,u){for(var l=new Array(u+1),g=0;g<c.length;++g)l[g]=c[g];for(var g=0;g<=c.length;++g){for(var f=c.length;f<=u;++f){for(var T=new Array(u),h=0;h<u;++h)T[h]=Math.pow(f+1-g,h);l[f]=T}var s=t.apply(void 0,l);if(s)return!0}return!1}function n(c){var u=c.length;if(u===0)return[];if(u===1)return[0];for(var l=c[0].length,g=[c[0]],f=[0],T=1;T<u;++T){if(g.push(c[T]),!i(g,l)){g.pop();continue}if(f.push(T),f.length===l+1)return f}return f}},4653:function(v,p,r){v.exports=n;var t=r(4419),i=r(1778);function n(c,u){return t(u).filter(function(l){for(var g=new Array(l.length),f=0;f<l.length;++f)g[f]=u[l[f]];return i(g)*c<1})}},2350:function(v,p,r){v.exports=n;var t=r(4653),i=r(8691);function n(c,u){return i(t(c,u))}},7896:function(v){v.exports=function(r){return atob(r)}},957:function(v,p,r){v.exports=n;var t=r(6606);function i(c){for(var u=0,l=0;l<c.length;++l)u+=c[l];return u}function n(c,u){for(var l=u.length,g=new Array(l+1),f=0;f<l;++f){for(var T=new Array(l+1),h=0;h<=l;++h)T[h]=c[h][f];g[f]=T}g[l]=new Array(l+1);for(var f=0;f<=l;++f)g[l][f]=1;for(var s=new Array(l+1),f=0;f<l;++f)s[f]=u[f];s[l]=1;var d=t(g,s),A=i(d[l+1]);A===0&&(A=1);for(var w=new Array(l+1),f=0;f<=l;++f)w[f]=i(d[f])/A;return w}},1539:function(v,p,r){var t=r(8524);v.exports=i;function i(n,c){return t(n[0].mul(c[1]).add(c[0].mul(n[1])),n[1].mul(c[1]))}},8846:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},9189:function(v,p,r){var t=r(8524);v.exports=i;function i(n,c){return t(n[0].mul(c[1]),n[1].mul(c[0]))}},5125:function(v,p,r){var t=r(234),i=r(3218),n=r(5514),c=r(2813),u=r(8524),l=r(9189);v.exports=g;function g(f,T){if(t(f))return T?l(f,g(T)):[f[0].clone(),f[1].clone()];var h=0,s,d;if(i(f))s=f.clone();else if(typeof f=="string")s=c(f);else{if(f===0)return[n(0),n(1)];if(f===Math.floor(f))s=n(f);else{for(;f!==Math.floor(f);)f=f*Math.pow(2,256),h-=256;s=n(f)}}if(t(T))s.mul(T[1]),d=T[0].clone();else if(i(T))d=T.clone();else if(typeof T=="string")d=c(T);else if(!T)d=n(1);else if(T===Math.floor(T))d=n(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),h+=256;d=n(T)}return h>0?s=s.ushln(h):h<0&&(d=d.ushln(-h)),u(s,d)}},234:function(v,p,r){var t=r(3218);v.exports=i;function i(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},4275:function(v,p,r){var t=r(1928);v.exports=i;function i(n){return n.cmp(new t(0))}},9958:function(v,p,r){var t=r(4275);v.exports=i;function i(n){var c=n.length,u=n.words,l=0;if(c===1)l=u[0];else if(c===2)l=u[0]+u[1]*67108864;else for(var g=0;g<c;g++){var f=u[g];l+=f*Math.pow(67108864,g)}return t(n)*l}},1112:function(v,p,r){var t=r(8362),i=r(2288).countTrailingZeros;v.exports=n;function n(c){var u=i(t.lo(c));if(u<32)return u;var l=i(t.hi(c));return l>20?52:l+32}},3218:function(v,p,r){r(1928),v.exports=t;function t(i){return i&&typeof i=="object"&&!!i.words}},5514:function(v,p,r){var t=r(1928),i=r(8362);v.exports=n;function n(c){var u=i.exponent(c);return u<52?new t(c):new t(c*Math.pow(2,52-u)).ushln(u-52)}},8524:function(v,p,r){var t=r(5514),i=r(4275);v.exports=n;function n(c,u){var l=i(c),g=i(u);if(l===0)return[t(0),t(1)];if(g===0)return[t(0),t(0)];g<0&&(c=c.neg(),u=u.neg());var f=c.gcd(u);return f.cmpn(1)?[c.div(f),u.div(f)]:[c,u]}},2813:function(v,p,r){var t=r(1928);v.exports=i;function i(n){return new t(n)}},3962:function(v,p,r){var t=r(8524);v.exports=i;function i(n,c){return t(n[0].mul(c[0]),n[1].mul(c[1]))}},4951:function(v,p,r){var t=r(4275);v.exports=i;function i(n){return t(n[0])*t(n[1])}},4354:function(v,p,r){var t=r(8524);v.exports=i;function i(n,c){return t(n[0].mul(c[1]).sub(n[1].mul(c[0])),n[1].mul(c[1]))}},7999:function(v,p,r){var t=r(9958),i=r(1112);v.exports=n;function n(c){var u=c[0],l=c[1];if(u.cmpn(0)===0)return 0;var g=u.abs().divmod(l.abs()),f=g.div,T=t(f),h=g.mod,s=u.negative!==l.negative?-1:1;if(h.cmpn(0)===0)return s*T;if(T){var d=i(T)+4,A=t(h.ushln(d).divRound(l));return s*(T+A*Math.pow(2,-d))}else{var w=l.bitLength()-h.bitLength()+53,A=t(h.ushln(w).divRound(l));return w<1023?s*A*Math.pow(2,-w):(A*=Math.pow(2,-1023),s*A*Math.pow(2,1023-w))}}},5070:function(v){function p(u,l,g,f,T){for(var h=T+1;f<=T;){var s=f+T>>>1,d=u[s],A=g!==void 0?g(d,l):d-l;A>=0?(h=s,T=s-1):f=s+1}return h}function r(u,l,g,f,T){for(var h=T+1;f<=T;){var s=f+T>>>1,d=u[s],A=g!==void 0?g(d,l):d-l;A>0?(h=s,T=s-1):f=s+1}return h}function t(u,l,g,f,T){for(var h=f-1;f<=T;){var s=f+T>>>1,d=u[s],A=g!==void 0?g(d,l):d-l;A<0?(h=s,f=s+1):T=s-1}return h}function i(u,l,g,f,T){for(var h=f-1;f<=T;){var s=f+T>>>1,d=u[s],A=g!==void 0?g(d,l):d-l;A<=0?(h=s,f=s+1):T=s-1}return h}function n(u,l,g,f,T){for(;f<=T;){var h=f+T>>>1,s=u[h],d=g!==void 0?g(s,l):s-l;if(d===0)return h;d<=0?f=h+1:T=h-1}return-1}function c(u,l,g,f,T,h){return typeof g=="function"?h(u,l,g,f===void 0?0:f|0,T===void 0?u.length-1:T|0):h(u,l,void 0,g===void 0?0:g|0,f===void 0?u.length-1:f|0)}v.exports={ge:function(u,l,g,f,T){return c(u,l,g,f,T,p)},gt:function(u,l,g,f,T){return c(u,l,g,f,T,r)},lt:function(u,l,g,f,T){return c(u,l,g,f,T,t)},le:function(u,l,g,f,T){return c(u,l,g,f,T,i)},eq:function(u,l,g,f,T){return c(u,l,g,f,T,n)}}},2288:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var c=n>>r-1;return(n^c)-c},p.min=function(n,c){return c^(n^c)&-(n<c)},p.max=function(n,c){return n^(n^c)&-(n<c)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var c,u;return c=(n>65535)<<4,n>>>=c,u=(n>255)<<3,n>>>=u,c|=u,u=(n>15)<<2,n>>>=u,c|=u,u=(n>3)<<1,n>>>=u,c|=u,c|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var c=32;return n&=-n,n&&c--,n&65535&&(c-=16),n&16711935&&(c-=8),n&252645135&&(c-=4),n&858993459&&(c-=2),n&1431655765&&(c-=1),c}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var i=new Array(256);(function(n){for(var c=0;c<256;++c){var u=c,l=c,g=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--g;n[c]=l<<g&255}})(i),p.reverse=function(n){return i[n&255]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},p.interleave2=function(n,c){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,c&=65535,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,n|c<<1},p.deinterleave2=function(n,c){return n=n>>>c&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,c,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,n|=c<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,c){return n=n>>>c&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var c=n|n-1;return c+1|(~c&-~c)-1>>>t(n)+1}},1928:function(v,p,r){v=r.nmd(v),function(t,i){function n(O,_){if(!O)throw new Error(_||"Assertion failed")}function c(O,_){O.super_=_;var B=function(){};B.prototype=_.prototype,O.prototype=new B,O.prototype.constructor=O}function u(O,_,B){if(u.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((_==="le"||_==="be")&&(B=_,_=10),this._init(O||0,_||10,B||"be"))}typeof t=="object"?t.exports=u:i.BN=u,u.BN=u,u.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(6601).Buffer}catch{}u.isBN=function(_){return _ instanceof u?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===u.wordSize&&Array.isArray(_.words)},u.max=function(_,B){return _.cmp(B)>0?_:B},u.min=function(_,B){return _.cmp(B)<0?_:B},u.prototype._init=function(_,B,W){if(typeof _=="number")return this._initNumber(_,B,W);if(typeof _=="object")return this._initArray(_,B,W);B==="hex"&&(B=16),n(B===(B|0)&&B>=2&&B<=36),_=_.toString().replace(/\s+/g,"");var $=0;_[0]==="-"&&($++,this.negative=1),$<_.length&&(B===16?this._parseHex(_,$,W):(this._parseBase(_,B,$),W==="le"&&this._initArray(this.toArray(),B,W)))},u.prototype._initNumber=function(_,B,W){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(n(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),W==="le"&&this._initArray(this.toArray(),B,W)},u.prototype._initArray=function(_,B,W){if(n(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var te,ie,ue=0;if(W==="be")for($=_.length-1,te=0;$>=0;$-=3)ie=_[$]|_[$-1]<<8|_[$-2]<<16,this.words[te]|=ie<<ue&67108863,this.words[te+1]=ie>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,te++);else if(W==="le")for($=0,te=0;$<_.length;$+=3)ie=_[$]|_[$+1]<<8|_[$+2]<<16,this.words[te]|=ie<<ue&67108863,this.words[te+1]=ie>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,te++);return this.strip()};function g(O,_){var B=O.charCodeAt(_);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function f(O,_,B){var W=g(O,B);return B-1>=_&&(W|=g(O,B-1)<<4),W}u.prototype._parseHex=function(_,B,W){this.length=Math.ceil((_.length-B)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var te=0,ie=0,ue;if(W==="be")for($=_.length-1;$>=B;$-=2)ue=f(_,B,$)<<te,this.words[ie]|=ue&67108863,te>=18?(te-=18,ie+=1,this.words[ie]|=ue>>>26):te+=8;else{var J=_.length-B;for($=J%2===0?B+1:B;$<_.length;$+=2)ue=f(_,B,$)<<te,this.words[ie]|=ue&67108863,te>=18?(te-=18,ie+=1,this.words[ie]|=ue>>>26):te+=8}this.strip()};function T(O,_,B,W){for(var $=0,te=Math.min(O.length,B),ie=_;ie<te;ie++){var ue=O.charCodeAt(ie)-48;$*=W,ue>=49?$+=ue-49+10:ue>=17?$+=ue-17+10:$+=ue}return $}u.prototype._parseBase=function(_,B,W){this.words=[0],this.length=1;for(var $=0,te=1;te<=67108863;te*=B)$++;$--,te=te/B|0;for(var ie=_.length-W,ue=ie%$,J=Math.min(ie,ie-ue)+W,Y=0,ae=W;ae<J;ae+=$)Y=T(_,ae,ae+$,B),this.imuln(te),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(ue!==0){var j=1;for(Y=T(_,ae,_.length,B),ae=0;ae<ue;ae++)j*=B;this.imuln(j),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},u.prototype.copy=function(_){_.words=new Array(this.length);for(var B=0;B<this.length;B++)_.words[B]=this.words[B];_.length=this.length,_.negative=this.negative,_.red=this.red},u.prototype.clone=function(){var _=new u(null);return this.copy(_),_},u.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],s=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(_,B){_=_||10,B=B|0||1;var W;if(_===16||_==="hex"){W="";for(var $=0,te=0,ie=0;ie<this.length;ie++){var ue=this.words[ie],J=((ue<<$|te)&16777215).toString(16);te=ue>>>24-$&16777215,te!==0||ie!==this.length-1?W=h[6-J.length]+J+W:W=J+W,$+=2,$>=26&&($-=26,ie--)}for(te!==0&&(W=te.toString(16)+W);W.length%B!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}if(_===(_|0)&&_>=2&&_<=36){var Y=s[_],ae=d[_];W="";var j=this.clone();for(j.negative=0;!j.isZero();){var q=j.modn(ae).toString(_);j=j.idivn(ae),j.isZero()?W=q+W:W=h[Y-q.length]+q+W}for(this.isZero()&&(W="0"+W);W.length%B!==0;)W="0"+W;return this.negative!==0&&(W="-"+W),W}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(_,B){return n(typeof l<"u"),this.toArrayLike(l,_,B)},u.prototype.toArray=function(_,B){return this.toArrayLike(Array,_,B)},u.prototype.toArrayLike=function(_,B,W){var $=this.byteLength(),te=W||Math.max(1,$);n($<=te,"byte array longer than desired length"),n(te>0,"Requested array length <= 0"),this.strip();var ie=B==="le",ue=new _(te),J,Y,ae=this.clone();if(ie){for(Y=0;!ae.isZero();Y++)J=ae.andln(255),ae.iushrn(8),ue[Y]=J;for(;Y<te;Y++)ue[Y]=0}else{for(Y=0;Y<te-$;Y++)ue[Y]=0;for(Y=0;!ae.isZero();Y++)J=ae.andln(255),ae.iushrn(8),ue[te-Y-1]=J}return ue},Math.clz32?u.prototype._countBits=function(_){return 32-Math.clz32(_)}:u.prototype._countBits=function(_){var B=_,W=0;return B>=4096&&(W+=13,B>>>=13),B>=64&&(W+=7,B>>>=7),B>=8&&(W+=4,B>>>=4),B>=2&&(W+=2,B>>>=2),W+B},u.prototype._zeroBits=function(_){if(_===0)return 26;var B=_,W=0;return B&8191||(W+=13,B>>>=13),B&127||(W+=7,B>>>=7),B&15||(W+=4,B>>>=4),B&3||(W+=2,B>>>=2),B&1||W++,W},u.prototype.bitLength=function(){var _=this.words[this.length-1],B=this._countBits(_);return(this.length-1)*26+B};function A(O){for(var _=new Array(O.bitLength()),B=0;B<_.length;B++){var W=B/26|0,$=B%26;_[B]=(O.words[W]&1<<$)>>>$}return _}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,B=0;B<this.length;B++){var W=this._zeroBits(this.words[B]);if(_+=W,W!==26)break}return _},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},u.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var B=0;B<_.length;B++)this.words[B]=this.words[B]|_.words[B];return this.strip()},u.prototype.ior=function(_){return n((this.negative|_.negative)===0),this.iuor(_)},u.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},u.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},u.prototype.iuand=function(_){var B;this.length>_.length?B=_:B=this;for(var W=0;W<B.length;W++)this.words[W]=this.words[W]&_.words[W];return this.length=B.length,this.strip()},u.prototype.iand=function(_){return n((this.negative|_.negative)===0),this.iuand(_)},u.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},u.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},u.prototype.iuxor=function(_){var B,W;this.length>_.length?(B=this,W=_):(B=_,W=this);for(var $=0;$<W.length;$++)this.words[$]=B.words[$]^W.words[$];if(this!==B)for(;$<B.length;$++)this.words[$]=B.words[$];return this.length=B.length,this.strip()},u.prototype.ixor=function(_){return n((this.negative|_.negative)===0),this.iuxor(_)},u.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},u.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},u.prototype.inotn=function(_){n(typeof _=="number"&&_>=0);var B=Math.ceil(_/26)|0,W=_%26;this._expand(B),W>0&&B--;for(var $=0;$<B;$++)this.words[$]=~this.words[$]&67108863;return W>0&&(this.words[$]=~this.words[$]&67108863>>26-W),this.strip()},u.prototype.notn=function(_){return this.clone().inotn(_)},u.prototype.setn=function(_,B){n(typeof _=="number"&&_>=0);var W=_/26|0,$=_%26;return this._expand(W+1),B?this.words[W]=this.words[W]|1<<$:this.words[W]=this.words[W]&~(1<<$),this.strip()},u.prototype.iadd=function(_){var B;if(this.negative!==0&&_.negative===0)return this.negative=0,B=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,B=this.isub(_),_.negative=1,B._normSign();var W,$;this.length>_.length?(W=this,$=_):(W=_,$=this);for(var te=0,ie=0;ie<$.length;ie++)B=(W.words[ie]|0)+($.words[ie]|0)+te,this.words[ie]=B&67108863,te=B>>>26;for(;te!==0&&ie<W.length;ie++)B=(W.words[ie]|0)+te,this.words[ie]=B&67108863,te=B>>>26;if(this.length=W.length,te!==0)this.words[this.length]=te,this.length++;else if(W!==this)for(;ie<W.length;ie++)this.words[ie]=W.words[ie];return this},u.prototype.add=function(_){var B;return _.negative!==0&&this.negative===0?(_.negative=0,B=this.sub(_),_.negative^=1,B):_.negative===0&&this.negative!==0?(this.negative=0,B=_.sub(this),this.negative=1,B):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},u.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var B=this.iadd(_);return _.negative=1,B._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var W=this.cmp(_);if(W===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,te;W>0?($=this,te=_):($=_,te=this);for(var ie=0,ue=0;ue<te.length;ue++)B=($.words[ue]|0)-(te.words[ue]|0)+ie,ie=B>>26,this.words[ue]=B&67108863;for(;ie!==0&&ue<$.length;ue++)B=($.words[ue]|0)+ie,ie=B>>26,this.words[ue]=B&67108863;if(ie===0&&ue<$.length&&$!==this)for(;ue<$.length;ue++)this.words[ue]=$.words[ue];return this.length=Math.max(this.length,ue),$!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(_){return this.clone().isub(_)};function w(O,_,B){B.negative=_.negative^O.negative;var W=O.length+_.length|0;B.length=W,W=W-1|0;var $=O.words[0]|0,te=_.words[0]|0,ie=$*te,ue=ie&67108863,J=ie/67108864|0;B.words[0]=ue;for(var Y=1;Y<W;Y++){for(var ae=J>>>26,j=J&67108863,q=Math.min(Y,_.length-1),oe=Math.max(0,Y-O.length+1);oe<=q;oe++){var Q=Y-oe|0;$=O.words[Q]|0,te=_.words[oe]|0,ie=$*te+j,ae+=ie/67108864|0,j=ie&67108863}B.words[Y]=j|0,J=ae|0}return J!==0?B.words[Y]=J|0:B.length--,B.strip()}var C=function(_,B,W){var $=_.words,te=B.words,ie=W.words,ue=0,J,Y,ae,j=$[0]|0,q=j&8191,oe=j>>>13,Q=$[1]|0,X=Q&8191,se=Q>>>13,ne=$[2]|0,fe=ne&8191,ye=ne>>>13,Se=$[3]|0,we=Se&8191,_e=Se>>>13,ke=$[4]|0,Me=ke&8191,me=ke>>>13,Ee=$[5]|0,Be=Ee&8191,Ue=Ee>>>13,De=$[6]|0,He=De&8191,nt=De>>>13,lt=$[7]|0,$e=lt&8191,qe=lt>>>13,ct=$[8]|0,dt=ct&8191,gt=ct>>>13,At=$[9]|0,Rt=At&8191,Vt=At>>>13,Je=te[0]|0,Ve=Je&8191,Ie=Je>>>13,Oe=te[1]|0,Le=Oe&8191,xe=Oe>>>13,pe=te[2]|0,Ae=pe&8191,Te=pe>>>13,Ne=te[3]|0,Ye=Ne&8191,et=Ne>>>13,ft=te[4]|0,pt=ft&8191,Yt=ft>>>13,Jt=te[5]|0,Tt=Jt&8191,_t=Jt>>>13,$t=te[6]|0,wr=$t&8191,yt=$t>>>13,jt=te[7]|0,Qt=jt&8191,gr=jt>>>13,sr=te[8]|0,vt=sr&8191,at=sr>>>13,xt=te[9]|0,Mt=xt&8191,Dt=xt>>>13;W.negative=_.negative^B.negative,W.length=19,J=Math.imul(q,Ve),Y=Math.imul(q,Ie),Y=Y+Math.imul(oe,Ve)|0,ae=Math.imul(oe,Ie);var Lt=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,J=Math.imul(X,Ve),Y=Math.imul(X,Ie),Y=Y+Math.imul(se,Ve)|0,ae=Math.imul(se,Ie),J=J+Math.imul(q,Le)|0,Y=Y+Math.imul(q,xe)|0,Y=Y+Math.imul(oe,Le)|0,ae=ae+Math.imul(oe,xe)|0;var Bt=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,J=Math.imul(fe,Ve),Y=Math.imul(fe,Ie),Y=Y+Math.imul(ye,Ve)|0,ae=Math.imul(ye,Ie),J=J+Math.imul(X,Le)|0,Y=Y+Math.imul(X,xe)|0,Y=Y+Math.imul(se,Le)|0,ae=ae+Math.imul(se,xe)|0,J=J+Math.imul(q,Ae)|0,Y=Y+Math.imul(q,Te)|0,Y=Y+Math.imul(oe,Ae)|0,ae=ae+Math.imul(oe,Te)|0;var Nt=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,J=Math.imul(we,Ve),Y=Math.imul(we,Ie),Y=Y+Math.imul(_e,Ve)|0,ae=Math.imul(_e,Ie),J=J+Math.imul(fe,Le)|0,Y=Y+Math.imul(fe,xe)|0,Y=Y+Math.imul(ye,Le)|0,ae=ae+Math.imul(ye,xe)|0,J=J+Math.imul(X,Ae)|0,Y=Y+Math.imul(X,Te)|0,Y=Y+Math.imul(se,Ae)|0,ae=ae+Math.imul(se,Te)|0,J=J+Math.imul(q,Ye)|0,Y=Y+Math.imul(q,et)|0,Y=Y+Math.imul(oe,Ye)|0,ae=ae+Math.imul(oe,et)|0;var Xt=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,J=Math.imul(Me,Ve),Y=Math.imul(Me,Ie),Y=Y+Math.imul(me,Ve)|0,ae=Math.imul(me,Ie),J=J+Math.imul(we,Le)|0,Y=Y+Math.imul(we,xe)|0,Y=Y+Math.imul(_e,Le)|0,ae=ae+Math.imul(_e,xe)|0,J=J+Math.imul(fe,Ae)|0,Y=Y+Math.imul(fe,Te)|0,Y=Y+Math.imul(ye,Ae)|0,ae=ae+Math.imul(ye,Te)|0,J=J+Math.imul(X,Ye)|0,Y=Y+Math.imul(X,et)|0,Y=Y+Math.imul(se,Ye)|0,ae=ae+Math.imul(se,et)|0,J=J+Math.imul(q,pt)|0,Y=Y+Math.imul(q,Yt)|0,Y=Y+Math.imul(oe,pt)|0,ae=ae+Math.imul(oe,Yt)|0;var lr=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(lr>>>26)|0,lr&=67108863,J=Math.imul(Be,Ve),Y=Math.imul(Be,Ie),Y=Y+Math.imul(Ue,Ve)|0,ae=Math.imul(Ue,Ie),J=J+Math.imul(Me,Le)|0,Y=Y+Math.imul(Me,xe)|0,Y=Y+Math.imul(me,Le)|0,ae=ae+Math.imul(me,xe)|0,J=J+Math.imul(we,Ae)|0,Y=Y+Math.imul(we,Te)|0,Y=Y+Math.imul(_e,Ae)|0,ae=ae+Math.imul(_e,Te)|0,J=J+Math.imul(fe,Ye)|0,Y=Y+Math.imul(fe,et)|0,Y=Y+Math.imul(ye,Ye)|0,ae=ae+Math.imul(ye,et)|0,J=J+Math.imul(X,pt)|0,Y=Y+Math.imul(X,Yt)|0,Y=Y+Math.imul(se,pt)|0,ae=ae+Math.imul(se,Yt)|0,J=J+Math.imul(q,Tt)|0,Y=Y+Math.imul(q,_t)|0,Y=Y+Math.imul(oe,Tt)|0,ae=ae+Math.imul(oe,_t)|0;var fr=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(fr>>>26)|0,fr&=67108863,J=Math.imul(He,Ve),Y=Math.imul(He,Ie),Y=Y+Math.imul(nt,Ve)|0,ae=Math.imul(nt,Ie),J=J+Math.imul(Be,Le)|0,Y=Y+Math.imul(Be,xe)|0,Y=Y+Math.imul(Ue,Le)|0,ae=ae+Math.imul(Ue,xe)|0,J=J+Math.imul(Me,Ae)|0,Y=Y+Math.imul(Me,Te)|0,Y=Y+Math.imul(me,Ae)|0,ae=ae+Math.imul(me,Te)|0,J=J+Math.imul(we,Ye)|0,Y=Y+Math.imul(we,et)|0,Y=Y+Math.imul(_e,Ye)|0,ae=ae+Math.imul(_e,et)|0,J=J+Math.imul(fe,pt)|0,Y=Y+Math.imul(fe,Yt)|0,Y=Y+Math.imul(ye,pt)|0,ae=ae+Math.imul(ye,Yt)|0,J=J+Math.imul(X,Tt)|0,Y=Y+Math.imul(X,_t)|0,Y=Y+Math.imul(se,Tt)|0,ae=ae+Math.imul(se,_t)|0,J=J+Math.imul(q,wr)|0,Y=Y+Math.imul(q,yt)|0,Y=Y+Math.imul(oe,wr)|0,ae=ae+Math.imul(oe,yt)|0;var hr=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(hr>>>26)|0,hr&=67108863,J=Math.imul($e,Ve),Y=Math.imul($e,Ie),Y=Y+Math.imul(qe,Ve)|0,ae=Math.imul(qe,Ie),J=J+Math.imul(He,Le)|0,Y=Y+Math.imul(He,xe)|0,Y=Y+Math.imul(nt,Le)|0,ae=ae+Math.imul(nt,xe)|0,J=J+Math.imul(Be,Ae)|0,Y=Y+Math.imul(Be,Te)|0,Y=Y+Math.imul(Ue,Ae)|0,ae=ae+Math.imul(Ue,Te)|0,J=J+Math.imul(Me,Ye)|0,Y=Y+Math.imul(Me,et)|0,Y=Y+Math.imul(me,Ye)|0,ae=ae+Math.imul(me,et)|0,J=J+Math.imul(we,pt)|0,Y=Y+Math.imul(we,Yt)|0,Y=Y+Math.imul(_e,pt)|0,ae=ae+Math.imul(_e,Yt)|0,J=J+Math.imul(fe,Tt)|0,Y=Y+Math.imul(fe,_t)|0,Y=Y+Math.imul(ye,Tt)|0,ae=ae+Math.imul(ye,_t)|0,J=J+Math.imul(X,wr)|0,Y=Y+Math.imul(X,yt)|0,Y=Y+Math.imul(se,wr)|0,ae=ae+Math.imul(se,yt)|0,J=J+Math.imul(q,Qt)|0,Y=Y+Math.imul(q,gr)|0,Y=Y+Math.imul(oe,Qt)|0,ae=ae+Math.imul(oe,gr)|0;var We=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(We>>>26)|0,We&=67108863,J=Math.imul(dt,Ve),Y=Math.imul(dt,Ie),Y=Y+Math.imul(gt,Ve)|0,ae=Math.imul(gt,Ie),J=J+Math.imul($e,Le)|0,Y=Y+Math.imul($e,xe)|0,Y=Y+Math.imul(qe,Le)|0,ae=ae+Math.imul(qe,xe)|0,J=J+Math.imul(He,Ae)|0,Y=Y+Math.imul(He,Te)|0,Y=Y+Math.imul(nt,Ae)|0,ae=ae+Math.imul(nt,Te)|0,J=J+Math.imul(Be,Ye)|0,Y=Y+Math.imul(Be,et)|0,Y=Y+Math.imul(Ue,Ye)|0,ae=ae+Math.imul(Ue,et)|0,J=J+Math.imul(Me,pt)|0,Y=Y+Math.imul(Me,Yt)|0,Y=Y+Math.imul(me,pt)|0,ae=ae+Math.imul(me,Yt)|0,J=J+Math.imul(we,Tt)|0,Y=Y+Math.imul(we,_t)|0,Y=Y+Math.imul(_e,Tt)|0,ae=ae+Math.imul(_e,_t)|0,J=J+Math.imul(fe,wr)|0,Y=Y+Math.imul(fe,yt)|0,Y=Y+Math.imul(ye,wr)|0,ae=ae+Math.imul(ye,yt)|0,J=J+Math.imul(X,Qt)|0,Y=Y+Math.imul(X,gr)|0,Y=Y+Math.imul(se,Qt)|0,ae=ae+Math.imul(se,gr)|0,J=J+Math.imul(q,vt)|0,Y=Y+Math.imul(q,at)|0,Y=Y+Math.imul(oe,vt)|0,ae=ae+Math.imul(oe,at)|0;var Ge=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,J=Math.imul(Rt,Ve),Y=Math.imul(Rt,Ie),Y=Y+Math.imul(Vt,Ve)|0,ae=Math.imul(Vt,Ie),J=J+Math.imul(dt,Le)|0,Y=Y+Math.imul(dt,xe)|0,Y=Y+Math.imul(gt,Le)|0,ae=ae+Math.imul(gt,xe)|0,J=J+Math.imul($e,Ae)|0,Y=Y+Math.imul($e,Te)|0,Y=Y+Math.imul(qe,Ae)|0,ae=ae+Math.imul(qe,Te)|0,J=J+Math.imul(He,Ye)|0,Y=Y+Math.imul(He,et)|0,Y=Y+Math.imul(nt,Ye)|0,ae=ae+Math.imul(nt,et)|0,J=J+Math.imul(Be,pt)|0,Y=Y+Math.imul(Be,Yt)|0,Y=Y+Math.imul(Ue,pt)|0,ae=ae+Math.imul(Ue,Yt)|0,J=J+Math.imul(Me,Tt)|0,Y=Y+Math.imul(Me,_t)|0,Y=Y+Math.imul(me,Tt)|0,ae=ae+Math.imul(me,_t)|0,J=J+Math.imul(we,wr)|0,Y=Y+Math.imul(we,yt)|0,Y=Y+Math.imul(_e,wr)|0,ae=ae+Math.imul(_e,yt)|0,J=J+Math.imul(fe,Qt)|0,Y=Y+Math.imul(fe,gr)|0,Y=Y+Math.imul(ye,Qt)|0,ae=ae+Math.imul(ye,gr)|0,J=J+Math.imul(X,vt)|0,Y=Y+Math.imul(X,at)|0,Y=Y+Math.imul(se,vt)|0,ae=ae+Math.imul(se,at)|0,J=J+Math.imul(q,Mt)|0,Y=Y+Math.imul(q,Dt)|0,Y=Y+Math.imul(oe,Mt)|0,ae=ae+Math.imul(oe,Dt)|0;var kt=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(kt>>>26)|0,kt&=67108863,J=Math.imul(Rt,Le),Y=Math.imul(Rt,xe),Y=Y+Math.imul(Vt,Le)|0,ae=Math.imul(Vt,xe),J=J+Math.imul(dt,Ae)|0,Y=Y+Math.imul(dt,Te)|0,Y=Y+Math.imul(gt,Ae)|0,ae=ae+Math.imul(gt,Te)|0,J=J+Math.imul($e,Ye)|0,Y=Y+Math.imul($e,et)|0,Y=Y+Math.imul(qe,Ye)|0,ae=ae+Math.imul(qe,et)|0,J=J+Math.imul(He,pt)|0,Y=Y+Math.imul(He,Yt)|0,Y=Y+Math.imul(nt,pt)|0,ae=ae+Math.imul(nt,Yt)|0,J=J+Math.imul(Be,Tt)|0,Y=Y+Math.imul(Be,_t)|0,Y=Y+Math.imul(Ue,Tt)|0,ae=ae+Math.imul(Ue,_t)|0,J=J+Math.imul(Me,wr)|0,Y=Y+Math.imul(Me,yt)|0,Y=Y+Math.imul(me,wr)|0,ae=ae+Math.imul(me,yt)|0,J=J+Math.imul(we,Qt)|0,Y=Y+Math.imul(we,gr)|0,Y=Y+Math.imul(_e,Qt)|0,ae=ae+Math.imul(_e,gr)|0,J=J+Math.imul(fe,vt)|0,Y=Y+Math.imul(fe,at)|0,Y=Y+Math.imul(ye,vt)|0,ae=ae+Math.imul(ye,at)|0,J=J+Math.imul(X,Mt)|0,Y=Y+Math.imul(X,Dt)|0,Y=Y+Math.imul(se,Mt)|0,ae=ae+Math.imul(se,Dt)|0;var It=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(It>>>26)|0,It&=67108863,J=Math.imul(Rt,Ae),Y=Math.imul(Rt,Te),Y=Y+Math.imul(Vt,Ae)|0,ae=Math.imul(Vt,Te),J=J+Math.imul(dt,Ye)|0,Y=Y+Math.imul(dt,et)|0,Y=Y+Math.imul(gt,Ye)|0,ae=ae+Math.imul(gt,et)|0,J=J+Math.imul($e,pt)|0,Y=Y+Math.imul($e,Yt)|0,Y=Y+Math.imul(qe,pt)|0,ae=ae+Math.imul(qe,Yt)|0,J=J+Math.imul(He,Tt)|0,Y=Y+Math.imul(He,_t)|0,Y=Y+Math.imul(nt,Tt)|0,ae=ae+Math.imul(nt,_t)|0,J=J+Math.imul(Be,wr)|0,Y=Y+Math.imul(Be,yt)|0,Y=Y+Math.imul(Ue,wr)|0,ae=ae+Math.imul(Ue,yt)|0,J=J+Math.imul(Me,Qt)|0,Y=Y+Math.imul(Me,gr)|0,Y=Y+Math.imul(me,Qt)|0,ae=ae+Math.imul(me,gr)|0,J=J+Math.imul(we,vt)|0,Y=Y+Math.imul(we,at)|0,Y=Y+Math.imul(_e,vt)|0,ae=ae+Math.imul(_e,at)|0,J=J+Math.imul(fe,Mt)|0,Y=Y+Math.imul(fe,Dt)|0,Y=Y+Math.imul(ye,Mt)|0,ae=ae+Math.imul(ye,Dt)|0;var Zt=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,J=Math.imul(Rt,Ye),Y=Math.imul(Rt,et),Y=Y+Math.imul(Vt,Ye)|0,ae=Math.imul(Vt,et),J=J+Math.imul(dt,pt)|0,Y=Y+Math.imul(dt,Yt)|0,Y=Y+Math.imul(gt,pt)|0,ae=ae+Math.imul(gt,Yt)|0,J=J+Math.imul($e,Tt)|0,Y=Y+Math.imul($e,_t)|0,Y=Y+Math.imul(qe,Tt)|0,ae=ae+Math.imul(qe,_t)|0,J=J+Math.imul(He,wr)|0,Y=Y+Math.imul(He,yt)|0,Y=Y+Math.imul(nt,wr)|0,ae=ae+Math.imul(nt,yt)|0,J=J+Math.imul(Be,Qt)|0,Y=Y+Math.imul(Be,gr)|0,Y=Y+Math.imul(Ue,Qt)|0,ae=ae+Math.imul(Ue,gr)|0,J=J+Math.imul(Me,vt)|0,Y=Y+Math.imul(Me,at)|0,Y=Y+Math.imul(me,vt)|0,ae=ae+Math.imul(me,at)|0,J=J+Math.imul(we,Mt)|0,Y=Y+Math.imul(we,Dt)|0,Y=Y+Math.imul(_e,Mt)|0,ae=ae+Math.imul(_e,Dt)|0;var rr=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(rr>>>26)|0,rr&=67108863,J=Math.imul(Rt,pt),Y=Math.imul(Rt,Yt),Y=Y+Math.imul(Vt,pt)|0,ae=Math.imul(Vt,Yt),J=J+Math.imul(dt,Tt)|0,Y=Y+Math.imul(dt,_t)|0,Y=Y+Math.imul(gt,Tt)|0,ae=ae+Math.imul(gt,_t)|0,J=J+Math.imul($e,wr)|0,Y=Y+Math.imul($e,yt)|0,Y=Y+Math.imul(qe,wr)|0,ae=ae+Math.imul(qe,yt)|0,J=J+Math.imul(He,Qt)|0,Y=Y+Math.imul(He,gr)|0,Y=Y+Math.imul(nt,Qt)|0,ae=ae+Math.imul(nt,gr)|0,J=J+Math.imul(Be,vt)|0,Y=Y+Math.imul(Be,at)|0,Y=Y+Math.imul(Ue,vt)|0,ae=ae+Math.imul(Ue,at)|0,J=J+Math.imul(Me,Mt)|0,Y=Y+Math.imul(Me,Dt)|0,Y=Y+Math.imul(me,Mt)|0,ae=ae+Math.imul(me,Dt)|0;var ur=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(ur>>>26)|0,ur&=67108863,J=Math.imul(Rt,Tt),Y=Math.imul(Rt,_t),Y=Y+Math.imul(Vt,Tt)|0,ae=Math.imul(Vt,_t),J=J+Math.imul(dt,wr)|0,Y=Y+Math.imul(dt,yt)|0,Y=Y+Math.imul(gt,wr)|0,ae=ae+Math.imul(gt,yt)|0,J=J+Math.imul($e,Qt)|0,Y=Y+Math.imul($e,gr)|0,Y=Y+Math.imul(qe,Qt)|0,ae=ae+Math.imul(qe,gr)|0,J=J+Math.imul(He,vt)|0,Y=Y+Math.imul(He,at)|0,Y=Y+Math.imul(nt,vt)|0,ae=ae+Math.imul(nt,at)|0,J=J+Math.imul(Be,Mt)|0,Y=Y+Math.imul(Be,Dt)|0,Y=Y+Math.imul(Ue,Mt)|0,ae=ae+Math.imul(Ue,Dt)|0;var er=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(er>>>26)|0,er&=67108863,J=Math.imul(Rt,wr),Y=Math.imul(Rt,yt),Y=Y+Math.imul(Vt,wr)|0,ae=Math.imul(Vt,yt),J=J+Math.imul(dt,Qt)|0,Y=Y+Math.imul(dt,gr)|0,Y=Y+Math.imul(gt,Qt)|0,ae=ae+Math.imul(gt,gr)|0,J=J+Math.imul($e,vt)|0,Y=Y+Math.imul($e,at)|0,Y=Y+Math.imul(qe,vt)|0,ae=ae+Math.imul(qe,at)|0,J=J+Math.imul(He,Mt)|0,Y=Y+Math.imul(He,Dt)|0,Y=Y+Math.imul(nt,Mt)|0,ae=ae+Math.imul(nt,Dt)|0;var zt=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(zt>>>26)|0,zt&=67108863,J=Math.imul(Rt,Qt),Y=Math.imul(Rt,gr),Y=Y+Math.imul(Vt,Qt)|0,ae=Math.imul(Vt,gr),J=J+Math.imul(dt,vt)|0,Y=Y+Math.imul(dt,at)|0,Y=Y+Math.imul(gt,vt)|0,ae=ae+Math.imul(gt,at)|0,J=J+Math.imul($e,Mt)|0,Y=Y+Math.imul($e,Dt)|0,Y=Y+Math.imul(qe,Mt)|0,ae=ae+Math.imul(qe,Dt)|0;var vr=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(vr>>>26)|0,vr&=67108863,J=Math.imul(Rt,vt),Y=Math.imul(Rt,at),Y=Y+Math.imul(Vt,vt)|0,ae=Math.imul(Vt,at),J=J+Math.imul(dt,Mt)|0,Y=Y+Math.imul(dt,Dt)|0,Y=Y+Math.imul(gt,Mt)|0,ae=ae+Math.imul(gt,Dt)|0;var yr=(ue+J|0)+((Y&8191)<<13)|0;ue=(ae+(Y>>>13)|0)+(yr>>>26)|0,yr&=67108863,J=Math.imul(Rt,Mt),Y=Math.imul(Rt,Dt),Y=Y+Math.imul(Vt,Mt)|0,ae=Math.imul(Vt,Dt);var pr=(ue+J|0)+((Y&8191)<<13)|0;return ue=(ae+(Y>>>13)|0)+(pr>>>26)|0,pr&=67108863,ie[0]=Lt,ie[1]=Bt,ie[2]=Nt,ie[3]=Xt,ie[4]=lr,ie[5]=fr,ie[6]=hr,ie[7]=We,ie[8]=Ge,ie[9]=kt,ie[10]=It,ie[11]=Zt,ie[12]=rr,ie[13]=ur,ie[14]=er,ie[15]=zt,ie[16]=vr,ie[17]=yr,ie[18]=pr,ue!==0&&(ie[19]=ue,W.length++),W};Math.imul||(C=w);function b(O,_,B){B.negative=_.negative^O.negative,B.length=O.length+_.length;for(var W=0,$=0,te=0;te<B.length-1;te++){var ie=$;$=0;for(var ue=W&67108863,J=Math.min(te,_.length-1),Y=Math.max(0,te-O.length+1);Y<=J;Y++){var ae=te-Y,j=O.words[ae]|0,q=_.words[Y]|0,oe=j*q,Q=oe&67108863;ie=ie+(oe/67108864|0)|0,Q=Q+ue|0,ue=Q&67108863,ie=ie+(Q>>>26)|0,$+=ie>>>26,ie&=67108863}B.words[te]=ue,W=ie,ie=$}return W!==0?B.words[te]=W:B.length--,B.strip()}function S(O,_,B){var W=new m;return W.mulp(O,_,B)}u.prototype.mulTo=function(_,B){var W,$=this.length+_.length;return this.length===10&&_.length===10?W=C(this,_,B):$<63?W=w(this,_,B):$<1024?W=b(this,_,B):W=S(this,_,B),W};function m(O,_){this.x=O,this.y=_}m.prototype.makeRBT=function(_){for(var B=new Array(_),W=u.prototype._countBits(_)-1,$=0;$<_;$++)B[$]=this.revBin($,W,_);return B},m.prototype.revBin=function(_,B,W){if(_===0||_===W-1)return _;for(var $=0,te=0;te<B;te++)$|=(_&1)<<B-te-1,_>>=1;return $},m.prototype.permute=function(_,B,W,$,te,ie){for(var ue=0;ue<ie;ue++)$[ue]=B[_[ue]],te[ue]=W[_[ue]]},m.prototype.transform=function(_,B,W,$,te,ie){this.permute(ie,_,B,W,$,te);for(var ue=1;ue<te;ue<<=1)for(var J=ue<<1,Y=Math.cos(2*Math.PI/J),ae=Math.sin(2*Math.PI/J),j=0;j<te;j+=J)for(var q=Y,oe=ae,Q=0;Q<ue;Q++){var X=W[j+Q],se=$[j+Q],ne=W[j+Q+ue],fe=$[j+Q+ue],ye=q*ne-oe*fe;fe=q*fe+oe*ne,ne=ye,W[j+Q]=X+ne,$[j+Q]=se+fe,W[j+Q+ue]=X-ne,$[j+Q+ue]=se-fe,Q!==J&&(ye=Y*q-ae*oe,oe=Y*oe+ae*q,q=ye)}},m.prototype.guessLen13b=function(_,B){var W=Math.max(B,_)|1,$=W&1,te=0;for(W=W/2|0;W;W=W>>>1)te++;return 1<<te+1+$},m.prototype.conjugate=function(_,B,W){if(!(W<=1))for(var $=0;$<W/2;$++){var te=_[$];_[$]=_[W-$-1],_[W-$-1]=te,te=B[$],B[$]=-B[W-$-1],B[W-$-1]=-te}},m.prototype.normalize13b=function(_,B){for(var W=0,$=0;$<B/2;$++){var te=Math.round(_[2*$+1]/B)*8192+Math.round(_[2*$]/B)+W;_[$]=te&67108863,te<67108864?W=0:W=te/67108864|0}return _},m.prototype.convert13b=function(_,B,W,$){for(var te=0,ie=0;ie<B;ie++)te=te+(_[ie]|0),W[2*ie]=te&8191,te=te>>>13,W[2*ie+1]=te&8191,te=te>>>13;for(ie=2*B;ie<$;++ie)W[ie]=0;n(te===0),n((te&-8192)===0)},m.prototype.stub=function(_){for(var B=new Array(_),W=0;W<_;W++)B[W]=0;return B},m.prototype.mulp=function(_,B,W){var $=2*this.guessLen13b(_.length,B.length),te=this.makeRBT($),ie=this.stub($),ue=new Array($),J=new Array($),Y=new Array($),ae=new Array($),j=new Array($),q=new Array($),oe=W.words;oe.length=$,this.convert13b(_.words,_.length,ue,$),this.convert13b(B.words,B.length,ae,$),this.transform(ue,ie,J,Y,$,te),this.transform(ae,ie,j,q,$,te);for(var Q=0;Q<$;Q++){var X=J[Q]*j[Q]-Y[Q]*q[Q];Y[Q]=J[Q]*q[Q]+Y[Q]*j[Q],J[Q]=X}return this.conjugate(J,Y,$),this.transform(J,Y,oe,ie,$,te),this.conjugate(oe,ie,$),this.normalize13b(oe,$),W.negative=_.negative^B.negative,W.length=_.length+B.length,W.strip()},u.prototype.mul=function(_){var B=new u(null);return B.words=new Array(this.length+_.length),this.mulTo(_,B)},u.prototype.mulf=function(_){var B=new u(null);return B.words=new Array(this.length+_.length),S(this,_,B)},u.prototype.imul=function(_){return this.clone().mulTo(_,this)},u.prototype.imuln=function(_){n(typeof _=="number"),n(_<67108864);for(var B=0,W=0;W<this.length;W++){var $=(this.words[W]|0)*_,te=($&67108863)+(B&67108863);B>>=26,B+=$/67108864|0,B+=te>>>26,this.words[W]=te&67108863}return B!==0&&(this.words[W]=B,this.length++),this},u.prototype.muln=function(_){return this.clone().imuln(_)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(_){var B=A(_);if(B.length===0)return new u(1);for(var W=this,$=0;$<B.length&&B[$]===0;$++,W=W.sqr());if(++$<B.length)for(var te=W.sqr();$<B.length;$++,te=te.sqr())B[$]!==0&&(W=W.mul(te));return W},u.prototype.iushln=function(_){n(typeof _=="number"&&_>=0);var B=_%26,W=(_-B)/26,$=67108863>>>26-B<<26-B,te;if(B!==0){var ie=0;for(te=0;te<this.length;te++){var ue=this.words[te]&$,J=(this.words[te]|0)-ue<<B;this.words[te]=J|ie,ie=ue>>>26-B}ie&&(this.words[te]=ie,this.length++)}if(W!==0){for(te=this.length-1;te>=0;te--)this.words[te+W]=this.words[te];for(te=0;te<W;te++)this.words[te]=0;this.length+=W}return this.strip()},u.prototype.ishln=function(_){return n(this.negative===0),this.iushln(_)},u.prototype.iushrn=function(_,B,W){n(typeof _=="number"&&_>=0);var $;B?$=(B-B%26)/26:$=0;var te=_%26,ie=Math.min((_-te)/26,this.length),ue=67108863^67108863>>>te<<te,J=W;if($-=ie,$=Math.max(0,$),J){for(var Y=0;Y<ie;Y++)J.words[Y]=this.words[Y];J.length=ie}if(ie!==0)if(this.length>ie)for(this.length-=ie,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+ie];else this.words[0]=0,this.length=1;var ae=0;for(Y=this.length-1;Y>=0&&(ae!==0||Y>=$);Y--){var j=this.words[Y]|0;this.words[Y]=ae<<26-te|j>>>te,ae=j&ue}return J&&ae!==0&&(J.words[J.length++]=ae),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(_,B,W){return n(this.negative===0),this.iushrn(_,B,W)},u.prototype.shln=function(_){return this.clone().ishln(_)},u.prototype.ushln=function(_){return this.clone().iushln(_)},u.prototype.shrn=function(_){return this.clone().ishrn(_)},u.prototype.ushrn=function(_){return this.clone().iushrn(_)},u.prototype.testn=function(_){n(typeof _=="number"&&_>=0);var B=_%26,W=(_-B)/26,$=1<<B;if(this.length<=W)return!1;var te=this.words[W];return!!(te&$)},u.prototype.imaskn=function(_){n(typeof _=="number"&&_>=0);var B=_%26,W=(_-B)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=W)return this;if(B!==0&&W++,this.length=Math.min(W,this.length),B!==0){var $=67108863^67108863>>>B<<B;this.words[this.length-1]&=$}return this.strip()},u.prototype.maskn=function(_){return this.clone().imaskn(_)},u.prototype.iaddn=function(_){return n(typeof _=="number"),n(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},u.prototype._iaddn=function(_){this.words[0]+=_;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},u.prototype.isubn=function(_){if(n(typeof _=="number"),n(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},u.prototype.addn=function(_){return this.clone().iaddn(_)},u.prototype.subn=function(_){return this.clone().isubn(_)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(_,B,W){var $=_.length+W,te;this._expand($);var ie,ue=0;for(te=0;te<_.length;te++){ie=(this.words[te+W]|0)+ue;var J=(_.words[te]|0)*B;ie-=J&67108863,ue=(ie>>26)-(J/67108864|0),this.words[te+W]=ie&67108863}for(;te<this.length-W;te++)ie=(this.words[te+W]|0)+ue,ue=ie>>26,this.words[te+W]=ie&67108863;if(ue===0)return this.strip();for(n(ue===-1),ue=0,te=0;te<this.length;te++)ie=-(this.words[te]|0)+ue,ue=ie>>26,this.words[te]=ie&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(_,B){var W=this.length-_.length,$=this.clone(),te=_,ie=te.words[te.length-1]|0,ue=this._countBits(ie);W=26-ue,W!==0&&(te=te.ushln(W),$.iushln(W),ie=te.words[te.length-1]|0);var J=$.length-te.length,Y;if(B!=="mod"){Y=new u(null),Y.length=J+1,Y.words=new Array(Y.length);for(var ae=0;ae<Y.length;ae++)Y.words[ae]=0}var j=$.clone()._ishlnsubmul(te,1,J);j.negative===0&&($=j,Y&&(Y.words[J]=1));for(var q=J-1;q>=0;q--){var oe=($.words[te.length+q]|0)*67108864+($.words[te.length+q-1]|0);for(oe=Math.min(oe/ie|0,67108863),$._ishlnsubmul(te,oe,q);$.negative!==0;)oe--,$.negative=0,$._ishlnsubmul(te,1,q),$.isZero()||($.negative^=1);Y&&(Y.words[q]=oe)}return Y&&Y.strip(),$.strip(),B!=="div"&&W!==0&&$.iushrn(W),{div:Y||null,mod:$}},u.prototype.divmod=function(_,B,W){if(n(!_.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var $,te,ie;return this.negative!==0&&_.negative===0?(ie=this.neg().divmod(_,B),B!=="mod"&&($=ie.div.neg()),B!=="div"&&(te=ie.mod.neg(),W&&te.negative!==0&&te.iadd(_)),{div:$,mod:te}):this.negative===0&&_.negative!==0?(ie=this.divmod(_.neg(),B),B!=="mod"&&($=ie.div.neg()),{div:$,mod:ie.mod}):this.negative&_.negative?(ie=this.neg().divmod(_.neg(),B),B!=="div"&&(te=ie.mod.neg(),W&&te.negative!==0&&te.isub(_)),{div:ie.div,mod:te}):_.length>this.length||this.cmp(_)<0?{div:new u(0),mod:this}:_.length===1?B==="div"?{div:this.divn(_.words[0]),mod:null}:B==="mod"?{div:null,mod:new u(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new u(this.modn(_.words[0]))}:this._wordDiv(_,B)},u.prototype.div=function(_){return this.divmod(_,"div",!1).div},u.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},u.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},u.prototype.divRound=function(_){var B=this.divmod(_);if(B.mod.isZero())return B.div;var W=B.div.negative!==0?B.mod.isub(_):B.mod,$=_.ushrn(1),te=_.andln(1),ie=W.cmp($);return ie<0||te===1&&ie===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},u.prototype.modn=function(_){n(_<=67108863);for(var B=(1<<26)%_,W=0,$=this.length-1;$>=0;$--)W=(B*W+(this.words[$]|0))%_;return W},u.prototype.idivn=function(_){n(_<=67108863);for(var B=0,W=this.length-1;W>=0;W--){var $=(this.words[W]|0)+B*67108864;this.words[W]=$/_|0,B=$%_}return this.strip()},u.prototype.divn=function(_){return this.clone().idivn(_)},u.prototype.egcd=function(_){n(_.negative===0),n(!_.isZero());var B=this,W=_.clone();B.negative!==0?B=B.umod(_):B=B.clone();for(var $=new u(1),te=new u(0),ie=new u(0),ue=new u(1),J=0;B.isEven()&&W.isEven();)B.iushrn(1),W.iushrn(1),++J;for(var Y=W.clone(),ae=B.clone();!B.isZero();){for(var j=0,q=1;!(B.words[0]&q)&&j<26;++j,q<<=1);if(j>0)for(B.iushrn(j);j-- >0;)($.isOdd()||te.isOdd())&&($.iadd(Y),te.isub(ae)),$.iushrn(1),te.iushrn(1);for(var oe=0,Q=1;!(W.words[0]&Q)&&oe<26;++oe,Q<<=1);if(oe>0)for(W.iushrn(oe);oe-- >0;)(ie.isOdd()||ue.isOdd())&&(ie.iadd(Y),ue.isub(ae)),ie.iushrn(1),ue.iushrn(1);B.cmp(W)>=0?(B.isub(W),$.isub(ie),te.isub(ue)):(W.isub(B),ie.isub($),ue.isub(te))}return{a:ie,b:ue,gcd:W.iushln(J)}},u.prototype._invmp=function(_){n(_.negative===0),n(!_.isZero());var B=this,W=_.clone();B.negative!==0?B=B.umod(_):B=B.clone();for(var $=new u(1),te=new u(0),ie=W.clone();B.cmpn(1)>0&&W.cmpn(1)>0;){for(var ue=0,J=1;!(B.words[0]&J)&&ue<26;++ue,J<<=1);if(ue>0)for(B.iushrn(ue);ue-- >0;)$.isOdd()&&$.iadd(ie),$.iushrn(1);for(var Y=0,ae=1;!(W.words[0]&ae)&&Y<26;++Y,ae<<=1);if(Y>0)for(W.iushrn(Y);Y-- >0;)te.isOdd()&&te.iadd(ie),te.iushrn(1);B.cmp(W)>=0?(B.isub(W),$.isub(te)):(W.isub(B),te.isub($))}var j;return B.cmpn(1)===0?j=$:j=te,j.cmpn(0)<0&&j.iadd(_),j},u.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var B=this.clone(),W=_.clone();B.negative=0,W.negative=0;for(var $=0;B.isEven()&&W.isEven();$++)B.iushrn(1),W.iushrn(1);do{for(;B.isEven();)B.iushrn(1);for(;W.isEven();)W.iushrn(1);var te=B.cmp(W);if(te<0){var ie=B;B=W,W=ie}else if(te===0||W.cmpn(1)===0)break;B.isub(W)}while(!0);return W.iushln($)},u.prototype.invm=function(_){return this.egcd(_).a.umod(_)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(_){return this.words[0]&_},u.prototype.bincn=function(_){n(typeof _=="number");var B=_%26,W=(_-B)/26,$=1<<B;if(this.length<=W)return this._expand(W+1),this.words[W]|=$,this;for(var te=$,ie=W;te!==0&&ie<this.length;ie++){var ue=this.words[ie]|0;ue+=te,te=ue>>>26,ue&=67108863,this.words[ie]=ue}return te!==0&&(this.words[ie]=te,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(_){var B=_<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;this.strip();var W;if(this.length>1)W=1;else{B&&(_=-_),n(_<=67108863,"Number is too big");var $=this.words[0]|0;W=$===_?0:$<_?-1:1}return this.negative!==0?-W|0:W},u.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var B=this.ucmp(_);return this.negative!==0?-B|0:B},u.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var B=0,W=this.length-1;W>=0;W--){var $=this.words[W]|0,te=_.words[W]|0;if($!==te){$<te?B=-1:$>te&&(B=1);break}}return B},u.prototype.gtn=function(_){return this.cmpn(_)===1},u.prototype.gt=function(_){return this.cmp(_)===1},u.prototype.gten=function(_){return this.cmpn(_)>=0},u.prototype.gte=function(_){return this.cmp(_)>=0},u.prototype.ltn=function(_){return this.cmpn(_)===-1},u.prototype.lt=function(_){return this.cmp(_)===-1},u.prototype.lten=function(_){return this.cmpn(_)<=0},u.prototype.lte=function(_){return this.cmp(_)<=0},u.prototype.eqn=function(_){return this.cmpn(_)===0},u.prototype.eq=function(_){return this.cmp(_)===0},u.red=function(_){return new F(_)},u.prototype.toRed=function(_){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(_){return this.red=_,this},u.prototype.forceRed=function(_){return n(!this.red,"Already a number in reduction context"),this._forceRed(_)},u.prototype.redAdd=function(_){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},u.prototype.redIAdd=function(_){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},u.prototype.redSub=function(_){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},u.prototype.redISub=function(_){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},u.prototype.redShl=function(_){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},u.prototype.redMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},u.prototype.redIMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(_){return n(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var a={k256:null,p224:null,p192:null,p25519:null};function E(O,_){this.name=O,this.p=new u(_,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var _=new u(null);return _.words=new Array(Math.ceil(this.n/13)),_},E.prototype.ireduce=function(_){var B=_,W;do this.split(B,this.tmp),B=this.imulK(B),B=B.iadd(this.tmp),W=B.bitLength();while(W>this.n);var $=W<this.n?-1:B.ucmp(this.p);return $===0?(B.words[0]=0,B.length=1):$>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},E.prototype.split=function(_,B){_.iushrn(this.n,0,B)},E.prototype.imulK=function(_){return _.imul(this.k)};function x(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(x,E),x.prototype.split=function(_,B){for(var W=4194303,$=Math.min(_.length,9),te=0;te<$;te++)B.words[te]=_.words[te];if(B.length=$,_.length<=9){_.words[0]=0,_.length=1;return}var ie=_.words[9];for(B.words[B.length++]=ie&W,te=10;te<_.length;te++){var ue=_.words[te]|0;_.words[te-10]=(ue&W)<<4|ie>>>22,ie=ue}ie>>>=22,_.words[te-10]=ie,ie===0&&_.length>10?_.length-=10:_.length-=9},x.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var B=0,W=0;W<_.length;W++){var $=_.words[W]|0;B+=$*977,_.words[W]=B&67108863,B=$*64+(B/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function k(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(k,E);function I(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(I,E);function N(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(N,E),N.prototype.imulK=function(_){for(var B=0,W=0;W<_.length;W++){var $=(_.words[W]|0)*19+B,te=$&67108863;$>>>=26,_.words[W]=te,B=$}return B!==0&&(_.words[_.length++]=B),_},u._prime=function(_){if(a[_])return a[_];var B;if(_==="k256")B=new x;else if(_==="p224")B=new k;else if(_==="p192")B=new I;else if(_==="p25519")B=new N;else throw new Error("Unknown prime "+_);return a[_]=B,B};function F(O){if(typeof O=="string"){var _=u._prime(O);this.m=_.p,this.prime=_}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}F.prototype._verify1=function(_){n(_.negative===0,"red works only with positives"),n(_.red,"red works only with red numbers")},F.prototype._verify2=function(_,B){n((_.negative|B.negative)===0,"red works only with positives"),n(_.red&&_.red===B.red,"red works only with red numbers")},F.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},F.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},F.prototype.add=function(_,B){this._verify2(_,B);var W=_.add(B);return W.cmp(this.m)>=0&&W.isub(this.m),W._forceRed(this)},F.prototype.iadd=function(_,B){this._verify2(_,B);var W=_.iadd(B);return W.cmp(this.m)>=0&&W.isub(this.m),W},F.prototype.sub=function(_,B){this._verify2(_,B);var W=_.sub(B);return W.cmpn(0)<0&&W.iadd(this.m),W._forceRed(this)},F.prototype.isub=function(_,B){this._verify2(_,B);var W=_.isub(B);return W.cmpn(0)<0&&W.iadd(this.m),W},F.prototype.shl=function(_,B){return this._verify1(_),this.imod(_.ushln(B))},F.prototype.imul=function(_,B){return this._verify2(_,B),this.imod(_.imul(B))},F.prototype.mul=function(_,B){return this._verify2(_,B),this.imod(_.mul(B))},F.prototype.isqr=function(_){return this.imul(_,_.clone())},F.prototype.sqr=function(_){return this.mul(_,_)},F.prototype.sqrt=function(_){if(_.isZero())return _.clone();var B=this.m.andln(3);if(n(B%2===1),B===3){var W=this.m.add(new u(1)).iushrn(2);return this.pow(_,W)}for(var $=this.m.subn(1),te=0;!$.isZero()&&$.andln(1)===0;)te++,$.iushrn(1);n(!$.isZero());var ie=new u(1).toRed(this),ue=ie.redNeg(),J=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new u(2*Y*Y).toRed(this);this.pow(Y,J).cmp(ue)!==0;)Y.redIAdd(ue);for(var ae=this.pow(Y,$),j=this.pow(_,$.addn(1).iushrn(1)),q=this.pow(_,$),oe=te;q.cmp(ie)!==0;){for(var Q=q,X=0;Q.cmp(ie)!==0;X++)Q=Q.redSqr();n(X<oe);var se=this.pow(ae,new u(1).iushln(oe-X-1));j=j.redMul(se),ae=se.redSqr(),q=q.redMul(ae),oe=X}return j},F.prototype.invm=function(_){var B=_._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},F.prototype.pow=function(_,B){if(B.isZero())return new u(1).toRed(this);if(B.cmpn(1)===0)return _.clone();var W=4,$=new Array(1<<W);$[0]=new u(1).toRed(this),$[1]=_;for(var te=2;te<$.length;te++)$[te]=this.mul($[te-1],_);var ie=$[0],ue=0,J=0,Y=B.bitLength()%26;for(Y===0&&(Y=26),te=B.length-1;te>=0;te--){for(var ae=B.words[te],j=Y-1;j>=0;j--){var q=ae>>j&1;if(ie!==$[0]&&(ie=this.sqr(ie)),q===0&&ue===0){J=0;continue}ue<<=1,ue|=q,J++,!(J!==W&&(te!==0||j!==0))&&(ie=this.mul(ie,$[ue]),J=0,ue=0)}Y=26}return ie},F.prototype.convertTo=function(_){var B=_.umod(this.m);return B===_?B.clone():B},F.prototype.convertFrom=function(_){var B=_.clone();return B.red=null,B},u.mont=function(_){return new z(_)};function z(O){F.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(z,F),z.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},z.prototype.convertFrom=function(_){var B=this.imod(_.mul(this.rinv));return B.red=null,B},z.prototype.imul=function(_,B){if(_.isZero()||B.isZero())return _.words[0]=0,_.length=1,_;var W=_.imul(B),$=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=W.isub($).iushrn(this.shift),ie=te;return te.cmp(this.m)>=0?ie=te.isub(this.m):te.cmpn(0)<0&&(ie=te.iadd(this.m)),ie._forceRed(this)},z.prototype.mul=function(_,B){if(_.isZero()||B.isZero())return new u(0)._forceRed(this);var W=_.mul(B),$=W.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=W.isub($).iushrn(this.shift),ie=te;return te.cmp(this.m)>=0?ie=te.isub(this.m):te.cmpn(0)<0&&(ie=te.iadd(this.m)),ie._forceRed(this)},z.prototype.invm=function(_){var B=this.imod(_._invmp(this.m).mul(this.r2));return B._forceRed(this)}}(v,this)},2692:function(v){v.exports=p;function p(r){var t,i,n,c=r.length,u=0;for(t=0;t<c;++t)u+=r[t].length;var l=new Array(u),g=0;for(t=0;t<c;++t){var f=r[t],T=f.length;for(i=0;i<T;++i){var h=l[g++]=new Array(T-1),s=0;for(n=0;n<T;++n)n!==i&&(h[s++]=f[n]);if(i&1){var d=h[1];h[1]=h[0],h[0]=d}}}return l}},2569:function(v,p,r){v.exports=s;var t=r(5306),i=r(1390),n=r(2337);function c(d,A){for(var w=0;w<d;++w)if(!(A[w]<=A[w+d]))return!0;return!1}function u(d,A,w,C){for(var b=0,S=0,m=0,a=d.length;m<a;++m){var E=d[m];if(!c(A,E)){for(var x=0;x<2*A;++x)w[b++]=E[x];C[S++]=m}}return S}function l(d,A,w,C){var b=d.length,S=A.length;if(!(b<=0||S<=0)){var m=d[0].length>>>1;if(!(m<=0)){var a,E=t.mallocDouble(2*m*b),x=t.mallocInt32(b);if(b=u(d,m,E,x),b>0){if(m===1&&C)i.init(b),a=i.sweepComplete(m,w,0,b,E,x,0,b,E,x);else{var k=t.mallocDouble(2*m*S),I=t.mallocInt32(S);S=u(A,m,k,I),S>0&&(i.init(b+S),m===1?a=i.sweepBipartite(m,w,0,b,E,x,0,S,k,I):a=n(m,w,C,b,E,x,S,k,I),t.free(k),t.free(I))}t.free(E),t.free(x)}return a}}}var g;function f(d,A){g.push([d,A])}function T(d){return g=[],l(d,d,f,!0),g}function h(d,A){return g=[],l(d,A,f,!1),g}function s(d,A,w){switch(arguments.length){case 1:return T(d);case 2:return typeof A=="function"?l(d,d,A,!0):h(d,A);case 3:return l(d,A,w,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,p){function r(){function n(l,g,f,T,h,s,d,A,w,C,b){for(var S=2*l,m=T,a=S*T;m<h;++m,a+=S){var E=s[g+a],x=s[g+a+l],k=d[m];e:for(var I=A,N=S*A;I<w;++I,N+=S){var F=C[g+N],z=C[g+N+l],O=b[I];if(!(z<E||x<F)){for(var _=g+1;_<l;++_){var B=s[_+a],W=s[_+l+a],$=C[_+N],te=C[_+l+N];if(W<$||te<B)continue e}var ie=f(k,O);if(ie!==void 0)return ie}}}}function c(l,g,f,T,h,s,d,A,w,C,b){for(var S=2*l,m=A,a=S*A;m<w;++m,a+=S){var E=C[g+a],x=C[g+a+l],k=b[m];e:for(var I=T,N=S*T;I<h;++I,N+=S){var F=s[g+N],z=s[g+N+l],O=d[I];if(!(x<F||z<E)){for(var _=g+1;_<l;++_){var B=s[_+N],W=s[_+l+N],$=C[_+a],te=C[_+l+a];if(W<$||te<B)continue e}var ie=f(O,k);if(ie!==void 0)return ie}}}}function u(l,g,f,T,h,s,d,A,w,C,b){return h-T>w-A?n(l,g,f,T,h,s,d,A,w,C,b):c(l,g,f,T,h,s,d,A,w,C,b)}return u}function t(){function n(f,T,h,s,d,A,w,C,b,S,m){for(var a=2*f,E=s,x=a*s;E<d;++E,x+=a){var k=A[T+x],I=A[T+x+f],N=w[E];e:for(var F=C,z=a*C;F<b;++F,z+=a){var O=S[T+z],_=m[F];if(!(O<=k||I<O)){for(var B=T+1;B<f;++B){var W=A[B+x],$=A[B+f+x],te=S[B+z],ie=S[B+f+z];if($<te||ie<W)continue e}var ue=h(_,N);if(ue!==void 0)return ue}}}}function c(f,T,h,s,d,A,w,C,b,S,m){for(var a=2*f,E=s,x=a*s;E<d;++E,x+=a){var k=A[T+x],I=A[T+x+f],N=w[E];e:for(var F=C,z=a*C;F<b;++F,z+=a){var O=S[T+z],_=m[F];if(!(O<k||I<O)){for(var B=T+1;B<f;++B){var W=A[B+x],$=A[B+f+x],te=S[B+z],ie=S[B+f+z];if($<te||ie<W)continue e}var ue=h(N,_);if(ue!==void 0)return ue}}}}function u(f,T,h,s,d,A,w,C,b,S,m){for(var a=2*f,E=C,x=a*C;E<b;++E,x+=a){var k=S[T+x],I=m[E];e:for(var N=s,F=a*s;N<d;++N,F+=a){var z=A[T+F],O=A[T+F+f],_=w[N];if(!(k<=z||O<k)){for(var B=T+1;B<f;++B){var W=A[B+F],$=A[B+f+F],te=S[B+x],ie=S[B+f+x];if($<te||ie<W)continue e}var ue=h(I,_);if(ue!==void 0)return ue}}}}function l(f,T,h,s,d,A,w,C,b,S,m){for(var a=2*f,E=C,x=a*C;E<b;++E,x+=a){var k=S[T+x],I=m[E];e:for(var N=s,F=a*s;N<d;++N,F+=a){var z=A[T+F],O=A[T+F+f],_=w[N];if(!(k<z||O<k)){for(var B=T+1;B<f;++B){var W=A[B+F],$=A[B+f+F],te=S[B+x],ie=S[B+f+x];if($<te||ie<W)continue e}var ue=h(_,I);if(ue!==void 0)return ue}}}}function g(f,T,h,s,d,A,w,C,b,S,m,a){return A-d>S-b?s?n(f,T,h,d,A,w,C,b,S,m,a):c(f,T,h,d,A,w,C,b,S,m,a):s?u(f,T,h,d,A,w,C,b,S,m,a):l(f,T,h,d,A,w,C,b,S,m,a)}return g}function i(n){return n?r():t()}p.partial=i(!1),p.full=i(!0)},2337:function(v,p,r){v.exports=O;var t=r(5306),i=r(2288),n=r(7333),c=n.partial,u=n.full,l=r(1390),g=r(2464),f=r(122),T=128,h=1<<22,s=1<<22,d=f("!(lo>=p0)&&!(p1>=hi)"),A=f("lo===p0"),w=f("lo<p0"),C=f("hi<=p0"),b=f("lo<=p0&&p0<=hi"),S=f("lo<p0&&p0<=hi"),m=6,a=2,E=1024,x=t.mallocInt32(E),k=t.mallocDouble(E);function I(_,B){var W=8*i.log2(B+1)*(_+1)|0,$=i.nextPow2(m*W);x.length<$&&(t.free(x),x=t.mallocInt32($));var te=i.nextPow2(a*W);k.length<te&&(t.free(k),k=t.mallocDouble(te))}function N(_,B,W,$,te,ie,ue,J,Y){var ae=m*_;x[ae]=B,x[ae+1]=W,x[ae+2]=$,x[ae+3]=te,x[ae+4]=ie,x[ae+5]=ue;var j=a*_;k[j]=J,k[j+1]=Y}function F(_,B,W,$,te,ie,ue,J,Y,ae,j){var q=2*_,oe=Y*q,Q=ae[oe+B];e:for(var X=te,se=te*q;X<ie;++X,se+=q){var ne=ue[se+B],fe=ue[se+B+_];if(!(Q<ne||fe<Q)&&!($&&Q===ne)){for(var ye=J[X],Se=B+1;Se<_;++Se){var ne=ue[se+Se],fe=ue[se+Se+_],we=ae[oe+Se],_e=ae[oe+Se+_];if(fe<we||_e<ne)continue e}var ke;if($?ke=W(j,ye):ke=W(ye,j),ke!==void 0)return ke}}}function z(_,B,W,$,te,ie,ue,J,Y,ae){var j=2*_,q=J*j,oe=Y[q+B];e:for(var Q=$,X=$*j;Q<te;++Q,X+=j){var se=ue[Q];if(se!==ae){var ne=ie[X+B],fe=ie[X+B+_];if(!(oe<ne||fe<oe)){for(var ye=B+1;ye<_;++ye){var ne=ie[X+ye],fe=ie[X+ye+_],Se=Y[q+ye],we=Y[q+ye+_];if(fe<Se||we<ne)continue e}var _e=W(se,ae);if(_e!==void 0)return _e}}}}function O(_,B,W,$,te,ie,ue,J,Y){I(_,$+ue);var ae=0,j=2*_,q;for(N(ae++,0,0,$,0,ue,W?16:0,-1/0,1/0),W||N(ae++,0,0,ue,0,$,1,-1/0,1/0);ae>0;){ae-=1;var oe=ae*m,Q=x[oe],X=x[oe+1],se=x[oe+2],ne=x[oe+3],fe=x[oe+4],ye=x[oe+5],Se=ae*a,we=k[Se],_e=k[Se+1],ke=ye&1,Me=!!(ye&16),me=te,Ee=ie,Be=J,Ue=Y;if(ke&&(me=J,Ee=Y,Be=te,Ue=ie),!(ye&2&&(se=w(_,Q,X,se,me,Ee,_e),X>=se))&&!(ye&4&&(X=C(_,Q,X,se,me,Ee,we),X>=se))){var De=se-X,He=fe-ne;if(Me){if(_*De*(De+He)<s){if(q=l.scanComplete(_,Q,B,X,se,me,Ee,ne,fe,Be,Ue),q!==void 0)return q;continue}}else if(_*Math.min(De,He)<T){if(q=c(_,Q,B,ke,X,se,me,Ee,ne,fe,Be,Ue),q!==void 0)return q;continue}else if(_*De*He<h){if(q=l.scanBipartite(_,Q,B,ke,X,se,me,Ee,ne,fe,Be,Ue),q!==void 0)return q;continue}var nt=d(_,Q,X,se,me,Ee,we,_e);if(X<nt)if(_*(nt-X)<T){if(q=u(_,Q+1,B,X,nt,me,Ee,ne,fe,Be,Ue),q!==void 0)return q}else if(Q===_-2){if(ke?q=l.sweepBipartite(_,B,ne,fe,Be,Ue,X,nt,me,Ee):q=l.sweepBipartite(_,B,X,nt,me,Ee,ne,fe,Be,Ue),q!==void 0)return q}else N(ae++,Q+1,X,nt,ne,fe,ke,-1/0,1/0),N(ae++,Q+1,ne,fe,X,nt,ke^1,-1/0,1/0);if(nt<se){var lt=g(_,Q,ne,fe,Be,Ue),$e=Be[j*lt+Q],qe=A(_,Q,lt,fe,Be,Ue,$e);if(qe<fe&&N(ae++,Q,nt,se,qe,fe,(ke|4)+(Me?16:0),$e,_e),ne<lt&&N(ae++,Q,nt,se,ne,lt,(ke|2)+(Me?16:0),we,$e),lt+1===qe){if(Me?q=z(_,Q,B,nt,se,me,Ee,lt,Be,Ue[lt]):q=F(_,Q,B,ke,nt,se,me,Ee,lt,Be,Ue[lt]),q!==void 0)return q}else if(lt<qe){var ct;if(Me){if(ct=b(_,Q,nt,se,me,Ee,$e),nt<ct){var dt=A(_,Q,nt,ct,me,Ee,$e);if(Q===_-2){if(nt<dt&&(q=l.sweepComplete(_,B,nt,dt,me,Ee,lt,qe,Be,Ue),q!==void 0)||dt<ct&&(q=l.sweepBipartite(_,B,dt,ct,me,Ee,lt,qe,Be,Ue),q!==void 0))return q}else nt<dt&&N(ae++,Q+1,nt,dt,lt,qe,16,-1/0,1/0),dt<ct&&(N(ae++,Q+1,dt,ct,lt,qe,0,-1/0,1/0),N(ae++,Q+1,lt,qe,dt,ct,1,-1/0,1/0))}}else ke?ct=S(_,Q,nt,se,me,Ee,$e):ct=b(_,Q,nt,se,me,Ee,$e),nt<ct&&(Q===_-2?ke?q=l.sweepBipartite(_,B,lt,qe,Be,Ue,nt,ct,me,Ee):q=l.sweepBipartite(_,B,nt,ct,me,Ee,lt,qe,Be,Ue):(N(ae++,Q+1,nt,ct,lt,qe,ke,-1/0,1/0),N(ae++,Q+1,lt,qe,nt,ct,ke^1,-1/0,1/0)))}}}}}},2464:function(v,p,r){v.exports=u;var t=r(122),i=t("lo<p0"),n=8;function c(l,g,f,T,h,s){for(var d=2*l,A=d*(f+1)+g,w=f+1;w<T;++w,A+=d)for(var C=h[A],b=w,S=d*(w-1);b>f&&h[S+g]>C;--b,S-=d){for(var m=S,a=S+d,E=0;E<d;++E,++m,++a){var x=h[m];h[m]=h[a],h[a]=x}var k=s[b];s[b]=s[b-1],s[b-1]=k}}function u(l,g,f,T,h,s){if(T<=f+1)return f;for(var d=f,A=T,w=T+f>>>1,C=2*l,b=w,S=h[C*w+g];d<A;){if(A-d<n){c(l,g,d,A,h,s),S=h[C*w+g];break}var m=A-d,a=Math.random()*m+d|0,E=h[C*a+g],x=Math.random()*m+d|0,k=h[C*x+g],I=Math.random()*m+d|0,N=h[C*I+g];E<=k?N>=k?(b=x,S=k):E>=N?(b=a,S=E):(b=I,S=N):k>=N?(b=x,S=k):N>=E?(b=a,S=E):(b=I,S=N);for(var O=C*(A-1),_=C*b,F=0;F<C;++F,++O,++_){var z=h[O];h[O]=h[_],h[_]=z}var B=s[A-1];s[A-1]=s[b],s[b]=B,b=i(l,g,d,A-1,h,s,S);for(var O=C*(A-1),_=C*b,F=0;F<C;++F,++O,++_){var z=h[O];h[O]=h[_],h[_]=z}var B=s[A-1];if(s[A-1]=s[b],s[b]=B,w<b){for(A=b-1;d<A&&h[C*(A-1)+g]===S;)A-=1;A+=1}else if(b<w)for(d=b+1;d<A&&h[C*d+g]===S;)d+=1;else break}return i(l,g,f,w,h,s,h[C*w+g])}},122:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":i,"lo<=p0":n,"hi<=p0":c,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":g};function r(f){return p[f]}function t(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,m=h,a=T,E=f+T,x=h;s>x;++x,b+=C){var k=d[b+a];if(k===w)if(m===x)m+=1,S+=C;else{for(var I=0;C>I;++I){var N=d[b+I];d[b+I]=d[S],d[S++]=N}var F=A[x];A[x]=A[m],A[m++]=F}}return m}function i(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,m=h,a=T,E=f+T,x=h;s>x;++x,b+=C){var k=d[b+a];if(k<w)if(m===x)m+=1,S+=C;else{for(var I=0;C>I;++I){var N=d[b+I];d[b+I]=d[S],d[S++]=N}var F=A[x];A[x]=A[m],A[m++]=F}}return m}function n(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,m=h,a=T,E=f+T,x=h;s>x;++x,b+=C){var k=d[b+E];if(k<=w)if(m===x)m+=1,S+=C;else{for(var I=0;C>I;++I){var N=d[b+I];d[b+I]=d[S],d[S++]=N}var F=A[x];A[x]=A[m],A[m++]=F}}return m}function c(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,m=h,a=T,E=f+T,x=h;s>x;++x,b+=C){var k=d[b+E];if(k<=w)if(m===x)m+=1,S+=C;else{for(var I=0;C>I;++I){var N=d[b+I];d[b+I]=d[S],d[S++]=N}var F=A[x];A[x]=A[m],A[m++]=F}}return m}function u(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,m=h,a=T,E=f+T,x=h;s>x;++x,b+=C){var k=d[b+a],I=d[b+E];if(k<=w&&w<=I)if(m===x)m+=1,S+=C;else{for(var N=0;C>N;++N){var F=d[b+N];d[b+N]=d[S],d[S++]=F}var z=A[x];A[x]=A[m],A[m++]=z}}return m}function l(f,T,h,s,d,A,w){for(var C=2*f,b=C*h,S=b,m=h,a=T,E=f+T,x=h;s>x;++x,b+=C){var k=d[b+a],I=d[b+E];if(k<w&&w<=I)if(m===x)m+=1,S+=C;else{for(var N=0;C>N;++N){var F=d[b+N];d[b+N]=d[S],d[S++]=F}var z=A[x];A[x]=A[m],A[m++]=z}}return m}function g(f,T,h,s,d,A,w,C){for(var b=2*f,S=b*h,m=S,a=h,E=T,x=f+T,k=h;s>k;++k,S+=b){var I=d[S+E],N=d[S+x];if(!(I>=w)&&!(C>=N))if(a===k)a+=1,m+=b;else{for(var F=0;b>F;++F){var z=d[S+F];d[S+F]=d[m],d[m++]=z}var O=A[k];A[k]=A[a],A[a++]=O}}return a}},309:function(v){v.exports=r;var p=32;function r(T,h){h<=4*p?t(0,h-1,T):f(0,h-1,T)}function t(T,h,s){for(var d=2*(T+1),A=T+1;A<=h;++A){for(var w=s[d++],C=s[d++],b=A,S=d-2;b-- >T;){var m=s[S-2],a=s[S-1];if(m<w)break;if(m===w&&a<C)break;s[S]=m,s[S+1]=a,S-=2}s[S]=w,s[S+1]=C}}function i(T,h,s){T*=2,h*=2;var d=s[T],A=s[T+1];s[T]=s[h],s[T+1]=s[h+1],s[h]=d,s[h+1]=A}function n(T,h,s){T*=2,h*=2,s[T]=s[h],s[T+1]=s[h+1]}function c(T,h,s,d){T*=2,h*=2,s*=2;var A=d[T],w=d[T+1];d[T]=d[h],d[T+1]=d[h+1],d[h]=d[s],d[h+1]=d[s+1],d[s]=A,d[s+1]=w}function u(T,h,s,d,A){T*=2,h*=2,A[T]=A[h],A[h]=s,A[T+1]=A[h+1],A[h+1]=d}function l(T,h,s){T*=2,h*=2;var d=s[T],A=s[h];return d<A?!1:d===A?s[T+1]>s[h+1]:!0}function g(T,h,s,d){T*=2;var A=d[T];return A<h?!0:A===h?d[T+1]<s:!1}function f(T,h,s){var d=(h-T+1)/6|0,A=T+d,w=h-d,C=T+h>>1,b=C-d,S=C+d,m=A,a=b,E=C,x=S,k=w,I=T+1,N=h-1,F=0;l(m,a,s)&&(F=m,m=a,a=F),l(x,k,s)&&(F=x,x=k,k=F),l(m,E,s)&&(F=m,m=E,E=F),l(a,E,s)&&(F=a,a=E,E=F),l(m,x,s)&&(F=m,m=x,x=F),l(E,x,s)&&(F=E,E=x,x=F),l(a,k,s)&&(F=a,a=k,k=F),l(a,E,s)&&(F=a,a=E,E=F),l(x,k,s)&&(F=x,x=k,k=F);for(var z=s[2*a],O=s[2*a+1],_=s[2*x],B=s[2*x+1],W=2*m,$=2*E,te=2*k,ie=2*A,ue=2*C,J=2*w,Y=0;Y<2;++Y){var ae=s[W+Y],j=s[$+Y],q=s[te+Y];s[ie+Y]=ae,s[ue+Y]=j,s[J+Y]=q}n(b,T,s),n(S,h,s);for(var oe=I;oe<=N;++oe)if(g(oe,z,O,s))oe!==I&&i(oe,I,s),++I;else if(!g(oe,_,B,s))for(;;)if(g(N,_,B,s)){g(N,z,O,s)?(c(oe,I,N,s),++I,--N):(i(oe,N,s),--N);break}else{if(--N<oe)break;continue}u(T,I-1,z,O,s),u(h,N+1,_,B,s),I-2-T<=p?t(T,I-2,s):f(T,I-2,s),h-(N+2)<=p?t(N+2,h,s):f(N+2,h,s),N-I<=p?t(I,N,s):f(I,N,s)}},1390:function(v,p,r){v.exports={init:A,sweepBipartite:b,sweepComplete:S,scanBipartite:m,scanComplete:a};var t=r(5306),i=r(2288),n=r(309),c=1<<28,u=1024,l=t.mallocInt32(u),g=t.mallocInt32(u),f=t.mallocInt32(u),T=t.mallocInt32(u),h=t.mallocInt32(u),s=t.mallocInt32(u),d=t.mallocDouble(u*8);function A(E){var x=i.nextPow2(E);l.length<x&&(t.free(l),l=t.mallocInt32(x)),g.length<x&&(t.free(g),g=t.mallocInt32(x)),f.length<x&&(t.free(f),f=t.mallocInt32(x)),T.length<x&&(t.free(T),T=t.mallocInt32(x)),h.length<x&&(t.free(h),h=t.mallocInt32(x)),s.length<x&&(t.free(s),s=t.mallocInt32(x));var k=8*x;d.length<k&&(t.free(d),d=t.mallocDouble(k))}function w(E,x,k,I){var N=x[I],F=E[k-1];E[N]=F,x[F]=N}function C(E,x,k,I){E[k]=I,x[I]=k}function b(E,x,k,I,N,F,z,O,_,B){for(var W=0,$=2*E,te=E-1,ie=$-1,ue=k;ue<I;++ue){var J=F[ue],Y=$*ue;d[W++]=N[Y+te],d[W++]=-(J+1),d[W++]=N[Y+ie],d[W++]=J}for(var ue=z;ue<O;++ue){var J=B[ue]+c,ae=$*ue;d[W++]=_[ae+te],d[W++]=-J,d[W++]=_[ae+ie],d[W++]=J}var j=W>>>1;n(d,j);for(var q=0,oe=0,ue=0;ue<j;++ue){var Q=d[2*ue+1]|0;if(Q>=c)Q=Q-c|0,w(f,T,oe--,Q);else if(Q>=0)w(l,g,q--,Q);else if(Q<=-c){Q=-Q-c|0;for(var X=0;X<q;++X){var se=x(l[X],Q);if(se!==void 0)return se}C(f,T,oe++,Q)}else{Q=-Q-1|0;for(var X=0;X<oe;++X){var se=x(Q,f[X]);if(se!==void 0)return se}C(l,g,q++,Q)}}}function S(E,x,k,I,N,F,z,O,_,B){for(var W=0,$=2*E,te=E-1,ie=$-1,ue=k;ue<I;++ue){var J=F[ue]+1<<1,Y=$*ue;d[W++]=N[Y+te],d[W++]=-J,d[W++]=N[Y+ie],d[W++]=J}for(var ue=z;ue<O;++ue){var J=B[ue]+1<<1,ae=$*ue;d[W++]=_[ae+te],d[W++]=-J|1,d[W++]=_[ae+ie],d[W++]=J|1}var j=W>>>1;n(d,j);for(var q=0,oe=0,Q=0,ue=0;ue<j;++ue){var X=d[2*ue+1]|0,se=X&1;if(ue<j-1&&X>>1===d[2*ue+3]>>1&&(se=2,ue+=1),X<0){for(var ne=-(X>>1)-1,fe=0;fe<Q;++fe){var ye=x(h[fe],ne);if(ye!==void 0)return ye}if(se!==0)for(var fe=0;fe<q;++fe){var ye=x(l[fe],ne);if(ye!==void 0)return ye}if(se!==1)for(var fe=0;fe<oe;++fe){var ye=x(f[fe],ne);if(ye!==void 0)return ye}se===0?C(l,g,q++,ne):se===1?C(f,T,oe++,ne):se===2&&C(h,s,Q++,ne)}else{var ne=(X>>1)-1;se===0?w(l,g,q--,ne):se===1?w(f,T,oe--,ne):se===2&&w(h,s,Q--,ne)}}}function m(E,x,k,I,N,F,z,O,_,B,W,$){var te=0,ie=2*E,ue=x,J=x+E,Y=1,ae=1;I?ae=c:Y=c;for(var j=N;j<F;++j){var q=j+Y,oe=ie*j;d[te++]=z[oe+ue],d[te++]=-q,d[te++]=z[oe+J],d[te++]=q}for(var j=_;j<B;++j){var q=j+ae,Q=ie*j;d[te++]=W[Q+ue],d[te++]=-q}var X=te>>>1;n(d,X);for(var se=0,j=0;j<X;++j){var ne=d[2*j+1]|0;if(ne<0){var q=-ne,fe=!1;if(q>=c?(fe=!I,q-=c):(fe=!!I,q-=1),fe)C(l,g,se++,q);else{var ye=$[q],Se=ie*q,we=W[Se+x+1],_e=W[Se+x+1+E];e:for(var ke=0;ke<se;++ke){var Me=l[ke],me=ie*Me;if(!(_e<z[me+x+1]||z[me+x+1+E]<we)){for(var Ee=x+2;Ee<E;++Ee)if(W[Se+Ee+E]<z[me+Ee]||z[me+Ee+E]<W[Se+Ee])continue e;var Be=O[Me],Ue;if(I?Ue=k(ye,Be):Ue=k(Be,ye),Ue!==void 0)return Ue}}}}else w(l,g,se--,ne-Y)}}function a(E,x,k,I,N,F,z,O,_,B,W){for(var $=0,te=2*E,ie=x,ue=x+E,J=I;J<N;++J){var Y=J+c,ae=te*J;d[$++]=F[ae+ie],d[$++]=-Y,d[$++]=F[ae+ue],d[$++]=Y}for(var J=O;J<_;++J){var Y=J+1,j=te*J;d[$++]=B[j+ie],d[$++]=-Y}var q=$>>>1;n(d,q);for(var oe=0,J=0;J<q;++J){var Q=d[2*J+1]|0;if(Q<0){var Y=-Q;if(Y>=c)l[oe++]=Y-c;else{Y-=1;var X=W[Y],se=te*Y,ne=B[se+x+1],fe=B[se+x+1+E];e:for(var ye=0;ye<oe;++ye){var Se=l[ye],we=z[Se];if(we===X)break;var _e=te*Se;if(!(fe<F[_e+x+1]||F[_e+x+1+E]<ne)){for(var ke=x+2;ke<E;++ke)if(B[se+ke+E]<F[_e+ke]||F[_e+ke+E]<B[se+ke])continue e;var Me=k(we,X);if(Me!==void 0)return Me}}}}else{for(var Y=Q-c,ye=oe-1;ye>=0;--ye)if(l[ye]===Y){for(var ke=ye+1;ke<oe;++ke)l[ke-1]=l[ke];break}--oe}}}},7761:function(v,p,r){var t=r(9971),i=r(743),n=r(2161),c=r(7098);v.exports=T;function u(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function l(h,s){return h[0]-s[0]||h[1]-s[1]}function g(h){return h.map(u).sort(l)}function f(h,s,d){return s in h?h[s]:d}function T(h,s,d){Array.isArray(s)?(d=d||{},s=s||[]):(d=s||{},s=[]);var A=!!f(d,"delaunay",!0),w=!!f(d,"interior",!0),C=!!f(d,"exterior",!0),b=!!f(d,"infinity",!1);if(!w&&!C||h.length===0)return[];var S=t(h,s);if(A||w!==C||b){for(var m=i(h.length,g(s)),a=0;a<S.length;++a){var E=S[a];m.addTriangle(E[0],E[1],E[2])}return A&&n(h,m),C?w?b?c(m,0,b):m.cells():c(m,1,b):c(m,-1)}else return S}},2161:function(v,p,r){var t=r(2227)[4];r(5070),v.exports=n;function i(c,u,l,g,f,T){var h=u.opposite(g,f);if(!(h<0)){if(f<g){var s=g;g=f,f=s,s=T,T=h,h=s}u.isConstraint(g,f)||t(c[g],c[f],c[T],c[h])<0&&l.push(g,f)}}function n(c,u){for(var l=[],g=c.length,f=u.stars,T=0;T<g;++T)for(var h=f[T],s=1;s<h.length;s+=2){var d=h[s];if(!(d<T)&&!u.isConstraint(T,d)){for(var A=h[s-1],w=-1,C=1;C<h.length;C+=2)if(h[C-1]===d){w=h[C];break}w<0||t(c[T],c[d],c[A],c[w])<0&&l.push(T,d)}}for(;l.length>0;){for(var d=l.pop(),T=l.pop(),A=-1,w=-1,h=f[T],b=1;b<h.length;b+=2){var S=h[b-1],m=h[b];S===d?w=m:m===d&&(A=S)}A<0||w<0||t(c[T],c[d],c[A],c[w])>=0||(u.flip(T,d),i(c,u,l,A,T,w),i(c,u,l,T,w,A),i(c,u,l,w,d,A),i(c,u,l,d,A,w))}}},7098:function(v,p,r){var t=r(5070);v.exports=g;function i(f,T,h,s,d,A,w){this.cells=f,this.neighbor=T,this.flags=s,this.constraint=h,this.active=d,this.next=A,this.boundary=w}var n=i.prototype;function c(f,T){return f[0]-T[0]||f[1]-T[1]||f[2]-T[2]}n.locate=function(){var f=[0,0,0];return function(T,h,s){var d=T,A=h,w=s;return h<s?h<T&&(d=h,A=s,w=T):s<T&&(d=s,A=T,w=h),d<0?-1:(f[0]=d,f[1]=A,f[2]=w,t.eq(this.cells,f,c))}}();function u(f,T){for(var h=f.cells(),s=h.length,d=0;d<s;++d){var A=h[d],w=A[0],C=A[1],b=A[2];C<b?C<w&&(A[0]=C,A[1]=b,A[2]=w):b<w&&(A[0]=b,A[1]=w,A[2]=C)}h.sort(c);for(var S=new Array(s),d=0;d<S.length;++d)S[d]=0;var m=[],a=[],E=new Array(3*s),x=new Array(3*s),k=null;T&&(k=[]);for(var I=new i(h,E,x,S,m,a,k),d=0;d<s;++d)for(var A=h[d],N=0;N<3;++N){var w=A[N],C=A[(N+1)%3],F=E[3*d+N]=I.locate(C,w,f.opposite(C,w)),z=x[3*d+N]=f.isConstraint(w,C);F<0&&(z?a.push(d):(m.push(d),S[d]=1),T&&k.push([C,w,-1]))}return I}function l(f,T,h){for(var s=0,d=0;d<f.length;++d)T[d]===h&&(f[s++]=f[d]);return f.length=s,f}function g(f,T,h){var s=u(f,h);if(T===0)return h?s.cells.concat(s.boundary):s.cells;for(var d=1,A=s.active,w=s.next,C=s.flags,b=s.cells,S=s.constraint,m=s.neighbor;A.length>0||w.length>0;){for(;A.length>0;){var a=A.pop();if(C[a]!==-d){C[a]=d,b[a];for(var E=0;E<3;++E){var x=m[3*a+E];x>=0&&C[x]===0&&(S[3*a+E]?w.push(x):(A.push(x),C[x]=d))}}}var k=w;w=A,A=k,w.length=0,d=-d}var I=l(b,C,T);return h?I.concat(s.boundary):I}},9971:function(v,p,r){var t=r(5070),i=r(417)[3],n=0,c=1,u=2;v.exports=w;function l(C,b,S,m,a){this.a=C,this.b=b,this.idx=S,this.lowerIds=m,this.upperIds=a}function g(C,b,S,m){this.a=C,this.b=b,this.type=S,this.idx=m}function f(C,b){var S=C.a[0]-b.a[0]||C.a[1]-b.a[1]||C.type-b.type;return S||C.type!==n&&(S=i(C.a,C.b,b.b),S)?S:C.idx-b.idx}function T(C,b){return i(C.a,C.b,b)}function h(C,b,S,m,a){for(var E=t.lt(b,m,T),x=t.gt(b,m,T),k=E;k<x;++k){for(var I=b[k],N=I.lowerIds,z=N.length;z>1&&i(S[N[z-2]],S[N[z-1]],m)>0;)C.push([N[z-1],N[z-2],a]),z-=1;N.length=z,N.push(a);for(var F=I.upperIds,z=F.length;z>1&&i(S[F[z-2]],S[F[z-1]],m)<0;)C.push([F[z-2],F[z-1],a]),z-=1;F.length=z,F.push(a)}}function s(C,b){var S;return C.a[0]<b.a[0]?S=i(C.a,C.b,b.a):S=i(b.b,b.a,C.a),S||(b.b[0]<C.b[0]?S=i(C.a,C.b,b.b):S=i(b.b,b.a,C.b),S||C.idx-b.idx)}function d(C,b,S){var m=t.le(C,S,s),a=C[m],E=a.upperIds,x=E[E.length-1];a.upperIds=[x],C.splice(m+1,0,new l(S.a,S.b,S.idx,[x],E))}function A(C,b,S){var m=S.a;S.a=S.b,S.b=m;var a=t.eq(C,S,s),E=C[a],x=C[a-1];x.upperIds=E.upperIds,C.splice(a,1)}function w(C,b){for(var S=C.length,m=b.length,a=[],E=0;E<S;++E)a.push(new g(C[E],null,n,E));for(var E=0;E<m;++E){var x=b[E],k=C[x[0]],I=C[x[1]];k[0]<I[0]?a.push(new g(k,I,u,E),new g(I,k,c,E)):k[0]>I[0]&&a.push(new g(I,k,u,E),new g(k,I,c,E))}a.sort(f);for(var N=a[0].a[0]-(1+Math.abs(a[0].a[0]))*Math.pow(2,-52),F=[new l([N,1],[N,0],-1,[],[])],z=[],E=0,O=a.length;E<O;++E){var _=a[E],B=_.type;B===n?h(z,F,C,_.a,_.idx):B===u?d(F,C,_):A(F,C,_)}return z}},743:function(v,p,r){var t=r(5070);v.exports=u;function i(l,g){this.stars=l,this.edges=g}var n=i.prototype;function c(l,g,f){for(var T=1,h=l.length;T<h;T+=2)if(l[T-1]===g&&l[T]===f){l[T-1]=l[h-2],l[T]=l[h-1],l.length=h-2;return}}n.isConstraint=function(){var l=[0,0];function g(f,T){return f[0]-T[0]||f[1]-T[1]}return function(f,T){return l[0]=Math.min(f,T),l[1]=Math.max(f,T),t.eq(this.edges,l,g)>=0}}(),n.removeTriangle=function(l,g,f){var T=this.stars;c(T[l],g,f),c(T[g],f,l),c(T[f],l,g)},n.addTriangle=function(l,g,f){var T=this.stars;T[l].push(g,f),T[g].push(f,l),T[f].push(l,g)},n.opposite=function(l,g){for(var f=this.stars[g],T=1,h=f.length;T<h;T+=2)if(f[T]===l)return f[T-1];return-1},n.flip=function(l,g){var f=this.opposite(l,g),T=this.opposite(g,l);this.removeTriangle(l,g,f),this.removeTriangle(g,l,T),this.addTriangle(l,T,f),this.addTriangle(g,f,T)},n.edges=function(){for(var l=this.stars,g=[],f=0,T=l.length;f<T;++f)for(var h=l[f],s=0,d=h.length;s<d;s+=2)g.push([h[s],h[s+1]]);return g},n.cells=function(){for(var l=this.stars,g=[],f=0,T=l.length;f<T;++f)for(var h=l[f],s=0,d=h.length;s<d;s+=2){var A=h[s],w=h[s+1];f<Math.min(A,w)&&g.push([f,A,w])}return g};function u(l,g){for(var f=new Array(l),T=0;T<l;++T)f[T]=[];return new i(f,g)}},9887:function(v){v.exports=p;function p(r){for(var t=1,i=1;i<r.length;++i)for(var n=0;n<i;++n)if(r[i]<r[n])t=-t;else if(r[n]===r[i])return 0;return t}},9243:function(v,p,r){var t=r(3094),i=r(6606);function n(l,g){for(var f=0,T=l.length,h=0;h<T;++h)f+=l[h]*g[h];return f}function c(l){var g=l.length;if(g===0)return[];l[0].length;var f=t([l.length+1,l.length+1],1),T=t([l.length+1],1);f[g][g]=0;for(var h=0;h<g;++h){for(var s=0;s<=h;++s)f[s][h]=f[h][s]=2*n(l[h],l[s]);T[h]=n(l[h],l[h])}for(var d=i(f,T),A=0,w=d[g+1],h=0;h<w.length;++h)A+=w[h];for(var C=new Array(g),h=0;h<g;++h){for(var w=d[h],b=0,s=0;s<w.length;++s)b+=w[s];C[h]=b/A}return C}function u(l){if(l.length===0)return[];for(var g=l[0].length,f=t([g]),T=c(l),h=0;h<l.length;++h)for(var s=0;s<g;++s)f[s]+=l[h][s]*T[h];return f}u.barycenetric=c,v.exports=u},1778:function(v,p,r){v.exports=i;var t=r(9243);function i(n){for(var c=t(n),u=0,l=0;l<n.length;++l)for(var g=n[l],f=0;f<c.length;++f)u+=Math.pow(g[f]-c[f],2);return Math.sqrt(u/n.length)}},197:function(v,p,r){v.exports=k;var t=r(1731),i=r(2569),n=r(4434),c=r(5125),u=r(8846),l=r(7999),g=r(2826),f=r(8551),T=r(5528);function h(I){var N=l(I);return[f(N,-1/0),f(N,1/0)]}function s(I,N){for(var F=new Array(N.length),z=0;z<N.length;++z){var O=N[z],_=I[O[0]],B=I[O[1]];F[z]=[f(Math.min(_[0],B[0]),-1/0),f(Math.min(_[1],B[1]),-1/0),f(Math.max(_[0],B[0]),1/0),f(Math.max(_[1],B[1]),1/0)]}return F}function d(I){for(var N=new Array(I.length),F=0;F<I.length;++F){var z=I[F];N[F]=[f(z[0],-1/0),f(z[1],-1/0),f(z[0],1/0),f(z[1],1/0)]}return N}function A(I,N,F){var z=[];return i(F,function(O,_){var B=N[O],W=N[_];if(!(B[0]===W[0]||B[0]===W[1]||B[1]===W[0]||B[1]===W[1])){var $=I[B[0]],te=I[B[1]],ie=I[W[0]],ue=I[W[1]];n($,te,ie,ue)&&z.push([O,_])}}),z}function w(I,N,F,z){var O=[];return i(F,z,function(_,B){var W=N[_];if(!(W[0]===B||W[1]===B)){var $=I[B],te=I[W[0]],ie=I[W[1]];n(te,ie,$,$)&&O.push([_,B])}}),O}function C(I,N,F,z,O){var _,B,W=I.map(function(Se){return[c(Se[0]),c(Se[1])]});for(_=0;_<F.length;++_){var $=F[_];B=$[0];var te=$[1],ie=N[B],ue=N[te],J=T(g(I[ie[0]]),g(I[ie[1]]),g(I[ue[0]]),g(I[ue[1]]));if(J){var Y=I.length;I.push([l(J[0]),l(J[1])]),W.push(J),z.push([B,Y],[te,Y])}}for(z.sort(function(Se,we){if(Se[0]!==we[0])return Se[0]-we[0];var _e=W[Se[1]],ke=W[we[1]];return u(_e[0],ke[0])||u(_e[1],ke[1])}),_=z.length-1;_>=0;--_){var ae=z[_];B=ae[0];var j=N[B],q=j[0],oe=j[1],Q=I[q],X=I[oe];if((Q[0]-X[0]||Q[1]-X[1])<0){var se=q;q=oe,oe=se}j[0]=q;var ne=j[1]=ae[1],fe;for(O&&(fe=j[2]);_>0&&z[_-1][0]===B;){var ae=z[--_],ye=ae[1];O?N.push([ne,ye,fe]):N.push([ne,ye]),ne=ye}O?N.push([ne,oe,fe]):N.push([ne,oe])}return W}function b(I,N,F){for(var z=N.length,O=new t(z),_=[],B=0;B<N.length;++B){var W=N[B],$=h(W[0]),te=h(W[1]);_.push([f($[0],-1/0),f(te[0],-1/0),f($[1],1/0),f(te[1],1/0)])}i(_,function(ae,j){O.link(ae,j)});for(var ie=!0,ue=new Array(z),B=0;B<z;++B){var J=O.find(B);J!==B&&(ie=!1,I[J]=[Math.min(I[B][0],I[J][0]),Math.min(I[B][1],I[J][1])])}if(ie)return null;for(var Y=0,B=0;B<z;++B){var J=O.find(B);J===B?(ue[B]=Y,I[Y++]=I[B]):ue[B]=-1}I.length=Y;for(var B=0;B<z;++B)ue[B]<0&&(ue[B]=ue[O.find(B)]);return ue}function S(I,N){return I[0]-N[0]||I[1]-N[1]}function m(I,N){var F=I[0]-N[0]||I[1]-N[1];return F||(I[2]<N[2]?-1:I[2]>N[2]?1:0)}function a(I,N,F){if(I.length!==0){if(N)for(var z=0;z<I.length;++z){var O=I[z],_=N[O[0]],B=N[O[1]];O[0]=Math.min(_,B),O[1]=Math.max(_,B)}else for(var z=0;z<I.length;++z){var O=I[z],_=O[0],B=O[1];O[0]=Math.min(_,B),O[1]=Math.max(_,B)}F?I.sort(m):I.sort(S);for(var W=1,z=1;z<I.length;++z){var $=I[z-1],te=I[z];te[0]===$[0]&&te[1]===$[1]&&(!F||te[2]===$[2])||(I[W++]=te)}I.length=W}}function E(I,N,F){var z=b(I,[],d(I));return a(N,z,F),!!z}function x(I,N,F){var z=s(I,N),O=A(I,N,z),_=d(I),B=w(I,N,z,_),W=C(I,N,O,B,F),$=b(I,W);return a(N,$,F),$?!0:O.length>0||B.length>0}function k(I,N,F){var z;if(F){z=N;for(var O=new Array(N.length),_=0;_<N.length;++_){var B=N[_];O[_]=[B[0],B[1],F[_]]}N=O}for(var W=E(I,N,!!F);x(I,N,!!F);)W=!0;if(F&&W){z.length=0,F.length=0;for(var _=0;_<N.length;++_){var B=N[_];z.push([B[0],B[1]]),F.push(B[2])}}return W}},5528:function(v,p,r){v.exports=T;var t=r(3962),i=r(9189),n=r(4354),c=r(4951),u=r(6695),l=r(7584),g=r(4469);function f(h,s){return n(t(h[0],s[1]),t(h[1],s[0]))}function T(h,s,d,A){var w=u(s,h),C=u(A,d),b=f(w,C);if(c(b)===0)return null;var S=u(h,d),m=f(C,S),a=i(m,b),E=g(w,a),x=l(h,E);return x}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,p,r){var t=r(5692),i=r(3578);v.exports=n;function n(g){var f,T,h,s,d,A,w,C,a,b,S;if(g||(g={}),C=(g.nshades||72)-1,w=g.format||"hex",A=g.colormap,A||(A="jet"),typeof A=="string"){if(A=A.toLowerCase(),!t[A])throw Error(A+" not a supported colorscale");d=t[A]}else if(Array.isArray(A))d=A.slice();else throw Error("unsupported colormap option",A);if(d.length>C+1)throw new Error(A+" map requires nshades to be at least size "+d.length);Array.isArray(g.alpha)?g.alpha.length!==2?b=[1,1]:b=g.alpha.slice():typeof g.alpha=="number"?b=[g.alpha,g.alpha]:b=[1,1],f=d.map(function(k){return Math.round(k.index*C)}),b[0]=Math.min(Math.max(b[0],0),1),b[1]=Math.min(Math.max(b[1],0),1);var m=d.map(function(k,I){var N=d[I].index,F=d[I].rgb.slice();return F.length===4&&F[3]>=0&&F[3]<=1||(F[3]=b[0]+(b[1]-b[0])*N),F}),a=[];for(S=0;S<f.length-1;++S){s=f[S+1]-f[S],T=m[S],h=m[S+1];for(var E=0;E<s;E++){var x=E/s;a.push([Math.round(i(T[0],h[0],x)),Math.round(i(T[1],h[1],x)),Math.round(i(T[2],h[2],x)),i(T[3],h[3],x)])}}return a.push(d[d.length-1].rgb.concat(b[1])),w==="hex"?a=a.map(u):w==="rgbaString"?a=a.map(l):w==="float"&&(a=a.map(c)),a}function c(g){return[g[0]/255,g[1]/255,g[2]/255,g[3]]}function u(g){for(var f,T="#",h=0;h<3;++h)f=g[h],f=f.toString(16),T+=("00"+f).substr(f.length);return T}function l(g){return"rgba("+g.join(",")+")"}},9398:function(v,p,r){v.exports=g;var t=r(417),i=r(7538),n=r(87),c=r(2019),u=r(9662);function l(f,T,h){var s=n(f[0],-T[0]),d=n(f[1],-T[1]),A=n(h[0],-T[0]),w=n(h[1],-T[1]),C=u(c(s,A),c(d,w));return C[C.length-1]>=0}function g(f,T,h,s){var d=t(T,h,s);if(d===0){var A=i(t(f,T,h)),w=i(t(f,T,s));if(A===w){if(A===0){var C=l(f,T,h),b=l(f,T,s);return C===b?0:C?1:-1}return 0}else{if(w===0)return A>0||l(f,T,s)?-1:1;if(A===0)return w>0||l(f,T,h)?1:-1}return i(w-A)}var S=t(f,T,h);if(S>0)return d>0&&t(f,T,s)>0?1:-1;if(S<0)return d>0||t(f,T,s)>0?1:-1;var m=t(f,T,s);return m>0||l(f,T,h)?1:-1}},7538:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},9209:function(v){v.exports=t;var p=Math.min;function r(i,n){return i-n}function t(i,n){var c=i.length,u=i.length-n.length;if(u)return u;switch(c){case 0:return 0;case 1:return i[0]-n[0];case 2:return i[0]+i[1]-n[0]-n[1]||p(i[0],i[1])-p(n[0],n[1]);case 3:var l=i[0]+i[1],g=n[0]+n[1];if(u=l+i[2]-(g+n[2]),u)return u;var f=p(i[0],i[1]),T=p(n[0],n[1]);return p(f,i[2])-p(T,n[2])||p(f+i[2],l)-p(T+n[2],g);case 4:var h=i[0],s=i[1],d=i[2],A=i[3],w=n[0],C=n[1],b=n[2],S=n[3];return h+s+d+A-(w+C+b+S)||p(h,s,d,A)-p(w,C,b,S,w)||p(h+s,h+d,h+A,s+d,s+A,d+A)-p(w+C,w+b,w+S,C+b,C+S,b+S)||p(h+s+d,h+s+A,h+d+A,s+d+A)-p(w+C+b,w+C+S,w+b+S,C+b+S);default:for(var m=i.slice().sort(r),a=n.slice().sort(r),E=0;E<c;++E)if(u=m[E]-a[E],u)return u;return 0}}},1284:function(v,p,r){var t=r(9209),i=r(9887);v.exports=n;function n(c,u){return t(c,u)||i(c)-i(u)}},5537:function(v,p,r){var t=r(8950),i=r(8722),n=r(3332);v.exports=c;function c(u){var l=u.length;if(l===0)return[];if(l===1)return[[0]];var g=u[0].length;return g===0?[]:g===1?t(u):g===2?i(u):n(u,g)}},8950:function(v){v.exports=p;function p(r){for(var t=0,i=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[i][0]&&(i=n);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},8722:function(v,p,r){v.exports=i;var t=r(3266);function i(n){var c=t(n),u=c.length;if(u<=2)return[];for(var l=new Array(u),g=c[u-1],f=0;f<u;++f){var T=c[f];l[f]=[g,T],g=T}return l}},3332:function(v,p,r){v.exports=u;var t=r(2183),i=r(2153);function n(l,g){for(var f=l.length,T=new Array(f),h=0;h<g.length;++h)T[h]=l[g[h]];for(var s=g.length,h=0;h<f;++h)g.indexOf(h)<0&&(T[s++]=l[h]);return T}function c(l,g){for(var f=l.length,T=g.length,h=0;h<f;++h)for(var s=l[h],d=0;d<s.length;++d){var A=s[d];if(A<T)s[d]=g[A];else{A=A-T;for(var w=0;w<T;++w)A>=g[w]&&(A+=1);s[d]=A}}return l}function u(l,g){try{return t(l,!0)}catch{var f=i(l);if(f.length<=g)return[];var T=n(l,f),h=t(T,!0);return c(h,f)}}},9680:function(v){function p(t,i,n,c,u,l){var g=6*u*u-6*u,f=3*u*u-4*u+1,T=-6*u*u+6*u,h=3*u*u-2*u;if(t.length){l||(l=new Array(t.length));for(var s=t.length-1;s>=0;--s)l[s]=g*t[s]+f*i[s]+T*n[s]+h*c[s];return l}return g*t+f*i+T*n[s]+h*c}function r(t,i,n,c,u,l){var g=u-1,f=u*u,T=g*g,h=(1+2*u)*T,s=u*T,d=f*(3-2*u),A=f*g;if(t.length){l||(l=new Array(t.length));for(var w=t.length-1;w>=0;--w)l[w]=h*t[w]+s*i[w]+d*n[w]+A*c[w];return l}return h*t+s*i+d*n+A*c}v.exports=r,v.exports.derivative=p},4419:function(v,p,r){var t=r(2183),i=r(1215);v.exports=l;function n(g,f){this.point=g,this.index=f}function c(g,f){for(var T=g.point,h=f.point,s=T.length,d=0;d<s;++d){var A=h[d]-T[d];if(A)return A}return 0}function u(g,f,T){if(g===1)return T?[[-1,0]]:[];var h=f.map(function(C,b){return[C[0],b]});h.sort(function(C,b){return C[0]-b[0]});for(var s=new Array(g-1),d=1;d<g;++d){var A=h[d-1],w=h[d];s[d-1]=[A[1],w[1]]}return T&&s.push([-1,s[0][1]],[s[g-1][1],-1]),s}function l(g,f){var T=g.length;if(T===0)return[];var h=g[0].length;if(h<1)return[];if(h===1)return u(T,g,f);for(var s=new Array(T),d=1,A=0;A<T;++A){for(var w=g[A],C=new Array(h+1),b=0,S=0;S<h;++S){var m=w[S];C[S]=m,b+=m*m}C[h]=b,s[A]=new n(C,A),d=Math.max(b,d)}i(s,c),T=s.length;for(var a=new Array(T+h+1),E=new Array(T+h+1),x=(h+1)*(h+1)*d,k=new Array(h+1),A=0;A<=h;++A)k[A]=0;k[h]=x,a[0]=k.slice(),E[0]=-1;for(var A=0;A<=h;++A){var C=k.slice();C[A]=1,a[A+1]=C,E[A+1]=-1}for(var A=0;A<T;++A){var I=s[A];a[A+h+1]=I.point,E[A+h+1]=I.index}var N=t(a,!1);if(f?N=N.filter(function(F){for(var z=0,O=0;O<=h;++O){var _=E[F[O]];if(_<0&&++z>=2)return!1;F[O]=_}return!0}):N=N.filter(function(F){for(var z=0;z<=h;++z){var O=E[F[z]];if(O<0)return!1;F[z]=O}return!0}),h&1)for(var A=0;A<N.length;++A){var I=N[A],C=I[0];I[0]=I[1],I[1]=C}return N}},8362:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let d=function(C,b){return t[0]=C,t[1]=b,r[0]},A=function(C){return r[0]=C,t[0]},w=function(C){return r[0]=C,t[1]};var n=d,c=A,u=w;v.exports=function(b){return r[0]=b,[t[0],t[1]]},v.exports.pack=d,v.exports.lo=A,v.exports.hi=w}else if(t[0]===1072693248){let d=function(C,b){return t[1]=C,t[0]=b,r[0]},A=function(C){return r[0]=C,t[1]},w=function(C){return r[0]=C,t[0]};var l=d,g=A,f=w;v.exports=function(b){return r[0]=b,[t[1],t[0]]},v.exports.pack=d,v.exports.lo=A,v.exports.hi=w}else p=!1}if(!p){let d=function(C,b){return i.writeUInt32LE(C,0,!0),i.writeUInt32LE(b,4,!0),i.readDoubleLE(0,!0)},A=function(C){return i.writeDoubleLE(C,0,!0),i.readUInt32LE(0,!0)},w=function(C){return i.writeDoubleLE(C,0,!0),i.readUInt32LE(4,!0)};var T=d,h=A,s=w,i=new Buffer(8);v.exports=function(b){return i.writeDoubleLE(b,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},v.exports.pack=d,v.exports.lo=A,v.exports.hi=w}v.exports.sign=function(d){return v.exports.hi(d)>>>31},v.exports.exponent=function(d){var A=v.exports.hi(d);return(A<<1>>>21)-1023},v.exports.fraction=function(d){var A=v.exports.lo(d),w=v.exports.hi(d),C=w&(1<<20)-1;return w&2146435072&&(C+=1048576),[A,C]},v.exports.denormalized=function(d){var A=v.exports.hi(d);return!(A&2146435072)}},3094:function(v){function p(i,n,c){var u=i[c]|0;if(u<=0)return[];var l=new Array(u),g;if(c===i.length-1)for(g=0;g<u;++g)l[g]=n;else for(g=0;g<u;++g)l[g]=p(i,n,c+1);return l}function r(i,n){var c,u;for(c=new Array(i),u=0;u<i;++u)c[u]=n;return c}function t(i,n){switch(typeof n>"u"&&(n=0),typeof i){case"number":if(i>0)return r(i|0,n);break;case"object":if(typeof i.length=="number")return p(i,n,0);break}return[]}v.exports=t},8348:function(v,p,r){v.exports=i;var t=r(1215);function i(n,c){var u=n.length;if(typeof c!="number"){c=0;for(var l=0;l<u;++l){var g=n[l];c=Math.max(c,g[0],g[1])}c=(c|0)+1}c=c|0;for(var f=new Array(c),l=0;l<c;++l)f[l]=[];for(var l=0;l<u;++l){var g=n[l];f[g[0]].push(g[1]),f[g[1]].push(g[0])}for(var T=0;T<c;++T)t(f[T],function(h,s){return h-s});return f}},5795:function(v){v.exports=p;function p(r,t,i){var n=t||0,c=i||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[c*r[12]-r[8],c*r[13]-r[9],c*r[14]-r[10],c*r[15]-r[11]]]}},8444:function(v,p,r){v.exports=g;var t=r(9680),i=r(5070);function n(f,T,h){return Math.min(T,Math.max(f,h))}function c(f,T,h){this.dimension=f.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var s=0;s<this.dimension;++s)this.bounds[0][s]=-1/0,this.bounds[1][s]=1/0;this._state=f.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[h],this._scratch=[f.slice(),f.slice(),f.slice(),f.slice(),f.slice()]}var u=c.prototype;u.flush=function(f){var T=i.gt(this._time,f)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},u.curve=function(f){var T=this._time,h=T.length,s=i.le(T,f),d=this._scratch[0],A=this._state,w=this._velocity,C=this.dimension,b=this.bounds;if(s<0)for(var S=C-1,m=0;m<C;++m,--S)d[m]=A[S];else if(s>=h-1)for(var S=A.length-1,a=f-T[h-1],m=0;m<C;++m,--S)d[m]=A[S]+a*w[S];else{for(var S=C*(s+1)-1,E=T[s],x=T[s+1],k=x-E||1,I=this._scratch[1],N=this._scratch[2],F=this._scratch[3],z=this._scratch[4],O=!0,m=0;m<C;++m,--S)I[m]=A[S],F[m]=w[S]*k,N[m]=A[S+C],z[m]=w[S+C]*k,O=O&&I[m]===N[m]&&F[m]===z[m]&&F[m]===0;if(O)for(var m=0;m<C;++m)d[m]=I[m];else t(I,F,N,z,(f-E)/k,d)}for(var _=b[0],B=b[1],m=0;m<C;++m)d[m]=n(_[m],B[m],d[m]);return d},u.dcurve=function(f){var T=this._time,h=T.length,s=i.le(T,f),d=this._scratch[0],A=this._state,w=this._velocity,C=this.dimension;if(s>=h-1){var b=A.length-1;f-T[h-1];for(var S=0;S<C;++S,--b)d[S]=w[b]}else{for(var b=C*(s+1)-1,m=T[s],a=T[s+1],E=a-m||1,x=this._scratch[1],k=this._scratch[2],I=this._scratch[3],N=this._scratch[4],F=!0,S=0;S<C;++S,--b)x[S]=A[b],I[S]=w[b]*E,k[S]=A[b+C],N[S]=w[b+C]*E,F=F&&x[S]===k[S]&&I[S]===N[S]&&I[S]===0;if(F)for(var S=0;S<C;++S)d[S]=0;else{t.derivative(x,I,k,N,(f-m)/E,d);for(var S=0;S<C;++S)d[S]/=E}}return d},u.lastT=function(){var f=this._time;return f[f.length-1]},u.stable=function(){for(var f=this._velocity,T=f.length,h=this.dimension-1;h>=0;--h)if(f[--T])return!1;return!0},u.jump=function(f){var T=this.lastT(),h=this.dimension;if(!(f<T||arguments.length!==h+1)){var s=this._state,d=this._velocity,A=s.length-this.dimension,w=this.bounds,C=w[0],b=w[1];this._time.push(T,f);for(var S=0;S<2;++S)for(var m=0;m<h;++m)s.push(s[A++]),d.push(0);this._time.push(f);for(var m=h;m>0;--m)s.push(n(C[m-1],b[m-1],arguments[m])),d.push(0)}},u.push=function(f){var T=this.lastT(),h=this.dimension;if(!(f<T||arguments.length!==h+1)){var s=this._state,d=this._velocity,A=s.length-this.dimension,w=f-T,C=this.bounds,b=C[0],S=C[1],m=w>1e-6?1/w:0;this._time.push(f);for(var a=h;a>0;--a){var E=n(b[a-1],S[a-1],arguments[a]);s.push(E),d.push((E-s[A++])*m)}}},u.set=function(f){var T=this.dimension;if(!(f<this.lastT()||arguments.length!==T+1)){var h=this._state,s=this._velocity,d=this.bounds,A=d[0],w=d[1];this._time.push(f);for(var C=T;C>0;--C)h.push(n(A[C-1],w[C-1],arguments[C])),s.push(0)}},u.move=function(f){var T=this.lastT(),h=this.dimension;if(!(f<=T||arguments.length!==h+1)){var s=this._state,d=this._velocity,A=s.length-this.dimension,w=this.bounds,C=w[0],b=w[1],S=f-T,m=S>1e-6?1/S:0;this._time.push(f);for(var a=h;a>0;--a){var E=arguments[a];s.push(n(C[a-1],b[a-1],s[A++]+E)),d.push(E*m)}}},u.idle=function(f){var T=this.lastT();if(!(f<T)){var h=this.dimension,s=this._state,d=this._velocity,A=s.length-h,w=this.bounds,C=w[0],b=w[1],S=f-T;this._time.push(f);for(var m=h-1;m>=0;--m)s.push(n(C[m],b[m],s[A]+S*d[A])),d.push(0),A+=1}};function l(f){for(var T=new Array(f),h=0;h<f;++h)T[h]=0;return T}function g(f,T,h){switch(arguments.length){case 0:return new c([0],[0],0);case 1:if(typeof f=="number"){var s=l(f);return new c(s,s,0)}else return new c(f,l(f.length),0);case 2:if(typeof T=="number"){var s=l(f.length);return new c(f,s,+T)}else h=0;case 3:if(f.length!==T.length)throw new Error("state and velocity lengths must match");return new c(f,T,h)}}},7080:function(v){v.exports=C;var p=0,r=1;function t(b,S,m,a,E,x){this._color=b,this.key=S,this.value=m,this.left=a,this.right=E,this._count=x}function i(b){return new t(b._color,b.key,b.value,b.left,b.right,b._count)}function n(b,S){return new t(b,S.key,S.value,S.left,S.right,S._count)}function c(b){b._count=1+(b.left?b.left._count:0)+(b.right?b.right._count:0)}function u(b,S){this._compare=b,this.root=S}var l=u.prototype;Object.defineProperty(l,"keys",{get:function(){var b=[];return this.forEach(function(S,m){b.push(S)}),b}}),Object.defineProperty(l,"values",{get:function(){var b=[];return this.forEach(function(S,m){b.push(m)}),b}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(b,S){for(var m=this._compare,a=this.root,E=[],x=[];a;){var k=m(b,a.key);E.push(a),x.push(k),k<=0?a=a.left:a=a.right}E.push(new t(p,b,S,null,null,1));for(var I=E.length-2;I>=0;--I){var a=E[I];x[I]<=0?E[I]=new t(a._color,a.key,a.value,E[I+1],a.right,a._count+1):E[I]=new t(a._color,a.key,a.value,a.left,E[I+1],a._count+1)}for(var I=E.length-1;I>1;--I){var N=E[I-1],a=E[I];if(N._color===r||a._color===r)break;var F=E[I-2];if(F.left===N)if(N.left===a){var z=F.right;if(z&&z._color===p)N._color=r,F.right=n(r,z),F._color=p,I-=1;else{if(F._color=p,F.left=N.right,N._color=r,N.right=F,E[I-2]=N,E[I-1]=a,c(F),c(N),I>=3){var O=E[I-3];O.left===F?O.left=N:O.right=N}break}}else{var z=F.right;if(z&&z._color===p)N._color=r,F.right=n(r,z),F._color=p,I-=1;else{if(N.right=a.left,F._color=p,F.left=a.right,a._color=r,a.left=N,a.right=F,E[I-2]=a,E[I-1]=N,c(F),c(N),c(a),I>=3){var O=E[I-3];O.left===F?O.left=a:O.right=a}break}}else if(N.right===a){var z=F.left;if(z&&z._color===p)N._color=r,F.left=n(r,z),F._color=p,I-=1;else{if(F._color=p,F.right=N.left,N._color=r,N.left=F,E[I-2]=N,E[I-1]=a,c(F),c(N),I>=3){var O=E[I-3];O.right===F?O.right=N:O.left=N}break}}else{var z=F.left;if(z&&z._color===p)N._color=r,F.left=n(r,z),F._color=p,I-=1;else{if(N.left=a.right,F._color=p,F.right=a.left,a._color=r,a.right=N,a.left=F,E[I-2]=a,E[I-1]=N,c(F),c(N),c(a),I>=3){var O=E[I-3];O.right===F?O.right=a:O.left=a}break}}}return E[0]._color=r,new u(m,E[0])};function g(b,S){if(S.left){var m=g(b,S.left);if(m)return m}var m=b(S.key,S.value);if(m)return m;if(S.right)return g(b,S.right)}function f(b,S,m,a){var E=S(b,a.key);if(E<=0){if(a.left){var x=f(b,S,m,a.left);if(x)return x}var x=m(a.key,a.value);if(x)return x}if(a.right)return f(b,S,m,a.right)}function T(b,S,m,a,E){var x=m(b,E.key),k=m(S,E.key),I;if(x<=0&&(E.left&&(I=T(b,S,m,a,E.left),I)||k>0&&(I=a(E.key,E.value),I)))return I;if(k>0&&E.right)return T(b,S,m,a,E.right)}l.forEach=function(S,m,a){if(this.root)switch(arguments.length){case 1:return g(S,this.root);case 2:return f(m,this._compare,S,this.root);case 3:return this._compare(m,a)>=0?void 0:T(m,a,this._compare,S,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var b=[],S=this.root;S;)b.push(S),S=S.left;return new h(this,b)}}),Object.defineProperty(l,"end",{get:function(){for(var b=[],S=this.root;S;)b.push(S),S=S.right;return new h(this,b)}}),l.at=function(b){if(b<0)return new h(this,[]);for(var S=this.root,m=[];;){if(m.push(S),S.left){if(b<S.left._count){S=S.left;continue}b-=S.left._count}if(!b)return new h(this,m);if(b-=1,S.right){if(b>=S.right._count)break;S=S.right}else break}return new h(this,[])},l.ge=function(b){for(var S=this._compare,m=this.root,a=[],E=0;m;){var x=S(b,m.key);a.push(m),x<=0&&(E=a.length),x<=0?m=m.left:m=m.right}return a.length=E,new h(this,a)},l.gt=function(b){for(var S=this._compare,m=this.root,a=[],E=0;m;){var x=S(b,m.key);a.push(m),x<0&&(E=a.length),x<0?m=m.left:m=m.right}return a.length=E,new h(this,a)},l.lt=function(b){for(var S=this._compare,m=this.root,a=[],E=0;m;){var x=S(b,m.key);a.push(m),x>0&&(E=a.length),x<=0?m=m.left:m=m.right}return a.length=E,new h(this,a)},l.le=function(b){for(var S=this._compare,m=this.root,a=[],E=0;m;){var x=S(b,m.key);a.push(m),x>=0&&(E=a.length),x<0?m=m.left:m=m.right}return a.length=E,new h(this,a)},l.find=function(b){for(var S=this._compare,m=this.root,a=[];m;){var E=S(b,m.key);if(a.push(m),E===0)return new h(this,a);E<=0?m=m.left:m=m.right}return new h(this,[])},l.remove=function(b){var S=this.find(b);return S?S.remove():this},l.get=function(b){for(var S=this._compare,m=this.root;m;){var a=S(b,m.key);if(a===0)return m.value;a<=0?m=m.left:m=m.right}};function h(b,S){this.tree=b,this._stack=S}var s=h.prototype;Object.defineProperty(s,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(s,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),s.clone=function(){return new h(this.tree,this._stack.slice())};function d(b,S){b.key=S.key,b.value=S.value,b.left=S.left,b.right=S.right,b._color=S._color,b._count=S._count}function A(b){for(var S,m,a,E,x=b.length-1;x>=0;--x){if(S=b[x],x===0){S._color=r;return}if(m=b[x-1],m.left===S){if(a=m.right,a.right&&a.right._color===p){if(a=m.right=i(a),E=a.right=i(a.right),m.right=a.left,a.left=m,a.right=E,a._color=m._color,S._color=r,m._color=r,E._color=r,c(m),c(a),x>1){var k=b[x-2];k.left===m?k.left=a:k.right=a}b[x-1]=a;return}else if(a.left&&a.left._color===p){if(a=m.right=i(a),E=a.left=i(a.left),m.right=E.left,a.left=E.right,E.left=m,E.right=a,E._color=m._color,m._color=r,a._color=r,S._color=r,c(m),c(a),c(E),x>1){var k=b[x-2];k.left===m?k.left=E:k.right=E}b[x-1]=E;return}if(a._color===r)if(m._color===p){m._color=r,m.right=n(p,a);return}else{m.right=n(p,a);continue}else{if(a=i(a),m.right=a.left,a.left=m,a._color=m._color,m._color=p,c(m),c(a),x>1){var k=b[x-2];k.left===m?k.left=a:k.right=a}b[x-1]=a,b[x]=m,x+1<b.length?b[x+1]=S:b.push(S),x=x+2}}else{if(a=m.left,a.left&&a.left._color===p){if(a=m.left=i(a),E=a.left=i(a.left),m.left=a.right,a.right=m,a.left=E,a._color=m._color,S._color=r,m._color=r,E._color=r,c(m),c(a),x>1){var k=b[x-2];k.right===m?k.right=a:k.left=a}b[x-1]=a;return}else if(a.right&&a.right._color===p){if(a=m.left=i(a),E=a.right=i(a.right),m.left=E.right,a.right=E.left,E.right=m,E.left=a,E._color=m._color,m._color=r,a._color=r,S._color=r,c(m),c(a),c(E),x>1){var k=b[x-2];k.right===m?k.right=E:k.left=E}b[x-1]=E;return}if(a._color===r)if(m._color===p){m._color=r,m.left=n(p,a);return}else{m.left=n(p,a);continue}else{if(a=i(a),m.left=a.right,a.right=m,a._color=m._color,m._color=p,c(m),c(a),x>1){var k=b[x-2];k.right===m?k.right=a:k.left=a}b[x-1]=a,b[x]=m,x+1<b.length?b[x+1]=S:b.push(S),x=x+2}}}}s.remove=function(){var b=this._stack;if(b.length===0)return this.tree;var S=new Array(b.length),m=b[b.length-1];S[S.length-1]=new t(m._color,m.key,m.value,m.left,m.right,m._count);for(var a=b.length-2;a>=0;--a){var m=b[a];m.left===b[a+1]?S[a]=new t(m._color,m.key,m.value,S[a+1],m.right,m._count):S[a]=new t(m._color,m.key,m.value,m.left,S[a+1],m._count)}if(m=S[S.length-1],m.left&&m.right){var E=S.length;for(m=m.left;m.right;)S.push(m),m=m.right;var x=S[E-1];S.push(new t(m._color,x.key,x.value,m.left,m.right,m._count)),S[E-1].key=m.key,S[E-1].value=m.value;for(var a=S.length-2;a>=E;--a)m=S[a],S[a]=new t(m._color,m.key,m.value,m.left,S[a+1],m._count);S[E-1].left=S[E]}if(m=S[S.length-1],m._color===p){var k=S[S.length-2];k.left===m?k.left=null:k.right===m&&(k.right=null),S.pop();for(var a=0;a<S.length;++a)S[a]._count--;return new u(this.tree._compare,S[0])}else if(m.left||m.right){m.left?d(m,m.left):m.right&&d(m,m.right),m._color=r;for(var a=0;a<S.length-1;++a)S[a]._count--;return new u(this.tree._compare,S[0])}else{if(S.length===1)return new u(this.tree._compare,null);for(var a=0;a<S.length;++a)S[a]._count--;var I=S[S.length-2];A(S),I.left===m?I.left=null:I.right=null}return new u(this.tree._compare,S[0])},Object.defineProperty(s,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(s,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(s,"index",{get:function(){var b=0,S=this._stack;if(S.length===0){var m=this.tree.root;return m?m._count:0}else S[S.length-1].left&&(b=S[S.length-1].left._count);for(var a=S.length-2;a>=0;--a)S[a+1]===S[a].right&&(++b,S[a].left&&(b+=S[a].left._count));return b},enumerable:!0}),s.next=function(){var b=this._stack;if(b.length!==0){var S=b[b.length-1];if(S.right)for(S=S.right;S;)b.push(S),S=S.left;else for(b.pop();b.length>0&&b[b.length-1].right===S;)S=b[b.length-1],b.pop()}},Object.defineProperty(s,"hasNext",{get:function(){var b=this._stack;if(b.length===0)return!1;if(b[b.length-1].right)return!0;for(var S=b.length-1;S>0;--S)if(b[S-1].left===b[S])return!0;return!1}}),s.update=function(b){var S=this._stack;if(S.length===0)throw new Error("Can't update empty node!");var m=new Array(S.length),a=S[S.length-1];m[m.length-1]=new t(a._color,a.key,b,a.left,a.right,a._count);for(var E=S.length-2;E>=0;--E)a=S[E],a.left===S[E+1]?m[E]=new t(a._color,a.key,a.value,m[E+1],a.right,a._count):m[E]=new t(a._color,a.key,a.value,a.left,m[E+1],a._count);return new u(this.tree._compare,m[0])},s.prev=function(){var b=this._stack;if(b.length!==0){var S=b[b.length-1];if(S.left)for(S=S.left;S;)b.push(S),S=S.right;else for(b.pop();b.length>0&&b[b.length-1].left===S;)S=b[b.length-1],b.pop()}},Object.defineProperty(s,"hasPrev",{get:function(){var b=this._stack;if(b.length===0)return!1;if(b[b.length-1].left)return!0;for(var S=b.length-1;S>0;--S)if(b[S-1].right===b[S])return!0;return!1}});function w(b,S){return b<S?-1:b>S?1:0}function C(b){return new u(b||w,null)}},7453:function(v,p,r){v.exports=a;var t=r(9557),i=r(1681),n=r(1011),c=r(2864),u=r(8468),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function g(E,x){return E[0]=x[0],E[1]=x[1],E[2]=x[2],E}function f(E){this.gl=E,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(E)}var T=f.prototype;T.update=function(E){E=E||{};function x(ie,ue,J){if(J in E){var Y=E[J],ae=this[J],j;(ie?Array.isArray(Y)&&Array.isArray(Y[0]):Array.isArray(Y))?this[J]=j=[ue(Y[0]),ue(Y[1]),ue(Y[2])]:this[J]=j=[ue(Y),ue(Y),ue(Y)];for(var q=0;q<3;++q)if(j[q]!==ae[q])return!0}return!1}var k=x.bind(this,!1,Number),I=x.bind(this,!1,Boolean),N=x.bind(this,!1,String),F=x.bind(this,!0,function(ie){if(Array.isArray(ie)){if(ie.length===3)return[+ie[0],+ie[1],+ie[2],1];if(ie.length===4)return[+ie[0],+ie[1],+ie[2],+ie[3]]}return[0,0,0,1]}),z,O=!1,_=!1;if("bounds"in E)for(var B=E.bounds,W=0;W<2;++W)for(var $=0;$<3;++$)B[W][$]!==this.bounds[W][$]&&(_=!0),this.bounds[W][$]=B[W][$];if("ticks"in E){z=E.ticks,O=!0,this.autoTicks=!1;for(var W=0;W<3;++W)this.tickSpacing[W]=0}else k("tickSpacing")&&(this.autoTicks=!0,_=!0);if(this._firstInit&&("ticks"in E||"tickSpacing"in E||(this.autoTicks=!0),_=!0,O=!0,this._firstInit=!1),_&&this.autoTicks&&(z=u.create(this.bounds,this.tickSpacing),O=!0),O){for(var W=0;W<3;++W)z[W].sort(function(ue,J){return ue.x-J.x});u.equal(z,this.ticks)?O=!1:this.ticks=z}I("tickEnable"),N("tickFont")&&(O=!0),k("tickSize"),k("tickAngle"),k("tickPad"),F("tickColor");var te=N("labels");N("labelFont")&&(te=!0),I("labelEnable"),k("labelSize"),k("labelPad"),F("labelColor"),I("lineEnable"),I("lineMirror"),k("lineWidth"),F("lineColor"),I("lineTickEnable"),I("lineTickMirror"),k("lineTickLength"),k("lineTickWidth"),F("lineTickColor"),I("gridEnable"),k("gridWidth"),F("gridColor"),I("zeroEnable"),F("zeroLineColor"),k("zeroLineWidth"),I("backgroundEnable"),F("backgroundColor"),this._text?this._text&&(te||O)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=t(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&O&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var s=[new h,new h,new h];function d(E,x,k,I,N){for(var F=E.primalOffset,z=E.primalMinor,O=E.mirrorOffset,_=E.mirrorMinor,B=I[x],W=0;W<3;++W)if(x!==W){var $=F,te=O,ie=z,ue=_;B&1<<W&&($=O,te=F,ie=_,ue=z),$[W]=k[0][W],te[W]=k[1][W],N[W]>0?(ie[W]=-1,ue[W]=0):(ie[W]=0,ue[W]=1)}}var A=[0,0,0],w={model:l,view:l,projection:l,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(E){};var C=0,b=[0,0,0],S=[0,0,0],m=[0,0,0];T.draw=function(E){E=E||w;for(var ae=this.gl,x=E.model||l,k=E.view||l,I=E.projection||l,N=this.bounds,F=E._ortho||!1,z=c(x,k,I,N,F),O=z.cubeEdges,_=z.axis,B=k[12],W=k[13],$=k[14],te=k[15],ie=F?2:1,ue=ie*this.pixelRatio*(I[3]*B+I[7]*W+I[11]*$+I[15]*te)/ae.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=O[J],this.lastCubeProps.axis[J]=_[J];for(var Y=s,J=0;J<3;++J)d(s[J],J,this.bounds,O,_);for(var ae=this.gl,j=A,J=0;J<3;++J)this.backgroundEnable[J]?j[J]=_[J]:j[J]=0;this._background.draw(x,k,I,N,j,this.backgroundColor),this._lines.bind(x,k,I,this);for(var J=0;J<3;++J){var q=[0,0,0];_[J]>0?q[J]=N[1][J]:q[J]=N[0][J];for(var oe=0;oe<2;++oe){var Q=(J+1+oe)%3,X=(J+1+(oe^1))%3;this.gridEnable[Q]&&this._lines.drawGrid(Q,X,this.bounds,q,this.gridColor[Q],this.gridWidth[Q]*this.pixelRatio)}for(var oe=0;oe<2;++oe){var Q=(J+1+oe)%3,X=(J+1+(oe^1))%3;this.zeroEnable[X]&&Math.min(N[0][X],N[1][X])<=0&&Math.max(N[0][X],N[1][X])>=0&&this._lines.drawZero(Q,X,this.bounds,q,this.zeroLineColor[X],this.zeroLineWidth[X]*this.pixelRatio)}}for(var J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,Y[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,Y[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);for(var se=g(b,Y[J].primalMinor),ne=g(S,Y[J].mirrorMinor),fe=this.lineTickLength,oe=0;oe<3;++oe){var ye=ue/x[5*oe];se[oe]*=fe[oe]*ye,ne[oe]*=fe[oe]*ye}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,Y[J].primalOffset,se,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,Y[J].mirrorOffset,ne,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(x,k,I,this.pixelRatio);var Se,we=.5,_e,ke;function Me(He){ke=[0,0,0],ke[He]=1}function me(He,nt,lt){var $e=(He+1)%3,qe=(He+2)%3,ct=nt[$e],dt=nt[qe],gt=lt[$e],At=lt[qe];if(ct>0&&At>0){Me($e);return}else if(ct>0&&At<0){Me($e);return}else if(ct<0&&At>0){Me($e);return}else if(ct<0&&At<0){Me($e);return}else if(dt>0&&gt>0){Me(qe);return}else if(dt>0&&gt<0){Me(qe);return}else if(dt<0&&gt>0){Me(qe);return}else if(dt<0&&gt<0){Me(qe);return}}for(var J=0;J<3;++J){for(var Ee=Y[J].primalMinor,Be=Y[J].mirrorMinor,Ue=g(m,Y[J].primalOffset),oe=0;oe<3;++oe)this.lineTickEnable[J]&&(Ue[oe]+=ue*Ee[oe]*Math.max(this.lineTickLength[oe],0)/x[5*oe]);var De=[0,0,0];if(De[J]=1,this.tickEnable[J]){this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,_e=1,Se=[this.tickAlign[J],we,_e],Se[0]==="auto"?Se[0]=C:Se[0]=parseInt(""+Se[0]),ke=[0,0,0],me(J,Ee,Be);for(var oe=0;oe<3;++oe)Ue[oe]+=ue*Ee[oe]*this.tickPad[oe]/x[5*oe];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],Ue,this.tickColor[J],De,ke,Se)}if(this.labelEnable[J]){_e=0,ke=[0,0,0],this.labels[J].length>4&&(Me(J),_e=1),Se=[this.labelAlign[J],we,_e],Se[0]==="auto"?Se[0]=C:Se[0]=parseInt(""+Se[0]);for(var oe=0;oe<3;++oe)Ue[oe]+=ue*Ee[oe]*this.labelPad[oe]/x[5*oe];Ue[J]+=.5*(N[0][J]+N[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],Ue,this.labelColor[J],[0,0,0],ke,Se)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function a(E,x){var k=new f(E);return k.update(x),k}},1011:function(v,p,r){v.exports=l;var t=r(5827),i=r(2944),n=r(1943).bg;function c(g,f,T,h){this.gl=g,this.buffer=f,this.vao=T,this.shader=h}var u=c.prototype;u.draw=function(g,f,T,h,s,d){for(var A=!1,w=0;w<3;++w)A=A||s[w];if(A){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:g,view:f,projection:T,bounds:h,enable:s,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(g){for(var f=[],T=[],h=0,s=0;s<3;++s)for(var d=(s+1)%3,A=(s+2)%3,w=[0,0,0],C=[0,0,0],b=-1;b<=1;b+=2){T.push(h,h+2,h+1,h+1,h+2,h+3),w[s]=b,C[s]=b;for(var S=-1;S<=1;S+=2){w[d]=S;for(var m=-1;m<=1;m+=2)w[A]=m,f.push(w[0],w[1],w[2],C[0],C[1],C[2]),h+=1}var a=d;d=A,A=a}var E=t(g,new Float32Array(f)),x=t(g,new Uint16Array(T),g.ELEMENT_ARRAY_BUFFER),k=i(g,[{buffer:E,type:g.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:g.FLOAT,size:3,offset:12,stride:24}],x),I=n(g);return I.attributes.position.location=0,I.attributes.normal.location=1,new c(g,E,k,I)}},2864:function(v,p,r){v.exports=b;var t=r(2288),i=r(104),n=r(4670),c=r(417),u=new Array(16),l=new Array(8),g=new Array(8),f=new Array(3),T=[0,0,0];(function(){for(var S=0;S<8;++S)l[S]=[1,1,1,1],g[S]=[1,1,1]})();function h(S,m,a){for(var E=0;E<4;++E){S[E]=a[12+E];for(var x=0;x<3;++x)S[E]+=m[x]*a[4*x+E]}}var s=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(S){for(var m=0;m<s.length;++m)if(S=n.positive(S,s[m]),S.length<3)return 0;for(var a=S[0],E=a[0]/a[3],x=a[1]/a[3],k=0,m=1;m+1<S.length;++m){var I=S[m],N=S[m+1],F=I[0]/I[3],z=I[1]/I[3],O=N[0]/N[3],_=N[1]/N[3],B=F-E,W=z-x,$=O-E,te=_-x;k+=Math.abs(B*te-W*$)}return k}var A=[1,1,1],w=[0,0,0],C={cubeEdges:A,axis:w};function b(S,m,a,E,x){i(u,m,S),i(u,a,u);for(var k=0,I=0;I<2;++I){f[2]=E[I][2];for(var N=0;N<2;++N){f[1]=E[N][1];for(var F=0;F<2;++F)f[0]=E[F][0],h(l[k],f,u),k+=1}}for(var z=-1,I=0;I<8;++I){for(var O=l[I][3],_=0;_<3;++_)g[I][_]=l[I][_]/O;x&&(g[I][2]*=-1),O<0&&(z<0||g[I][2]<g[z][2])&&(z=I)}if(z<0){z=0;for(var B=0;B<3;++B){for(var W=(B+2)%3,$=(B+1)%3,te=-1,ie=-1,ue=0;ue<2;++ue){var J=ue<<B,Y=J+(ue<<W)+(1-ue<<$),ae=J+(1-ue<<W)+(ue<<$);c(g[J],g[Y],g[ae],T)<0||(ue?te=1:ie=1)}if(te<0||ie<0){ie>te&&(z|=1<<B);continue}for(var ue=0;ue<2;++ue){var J=ue<<B,Y=J+(ue<<W)+(1-ue<<$),ae=J+(1-ue<<W)+(ue<<$),j=d([l[J],l[Y],l[ae],l[J+(1<<W)+(1<<$)]]);ue?te=j:ie=j}if(ie>te){z|=1<<B;continue}}}for(var q=7^z,oe=-1,I=0;I<8;++I)I===z||I===q||(oe<0||g[oe][1]>g[I][1])&&(oe=I);for(var Q=-1,I=0;I<3;++I){var X=oe^1<<I;if(!(X===z||X===q)){Q<0&&(Q=X);var $=g[X];$[0]<g[Q][0]&&(Q=X)}}for(var se=-1,I=0;I<3;++I){var X=oe^1<<I;if(!(X===z||X===q||X===Q)){se<0&&(se=X);var $=g[X];$[0]>g[se][0]&&(se=X)}}var ne=A;ne[0]=ne[1]=ne[2]=0,ne[t.log2(Q^oe)]=oe&Q,ne[t.log2(oe^se)]=oe&se;var fe=se^7;fe===z||fe===q?(fe=Q^7,ne[t.log2(se^fe)]=fe&se):ne[t.log2(Q^fe)]=fe&Q;for(var ye=w,Se=z,B=0;B<3;++B)Se&1<<B?ye[B]=-1:ye[B]=1;return C}},1681:function(v,p,r){v.exports=A;var t=r(5827),i=r(2944),n=r(1943).j,c=[0,0,0],u=[0,0,0],l=[0,0,0],g=[0,0,0],f=[1,1];function T(w){return w[0]=w[1]=w[2]=0,w}function h(w,C){return w[0]=C[0],w[1]=C[1],w[2]=C[2],w}function s(w,C,b,S,m,a,E,x){this.gl=w,this.vertBuffer=C,this.vao=b,this.shader=S,this.tickCount=m,this.tickOffset=a,this.gridCount=E,this.gridOffset=x}var d=s.prototype;d.bind=function(w,C,b){this.shader.bind(),this.shader.uniforms.model=w,this.shader.uniforms.view=C,this.shader.uniforms.projection=b,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=f,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(w,C,b,S,m){var a=T(u);this.shader.uniforms.majorAxis=u,a[w]=C[1][w]-C[0][w],this.shader.uniforms.minorAxis=a;var E=h(g,b);E[w]+=C[0][w],this.shader.uniforms.offset=E,this.shader.uniforms.lineWidth=m,this.shader.uniforms.color=S;var x=T(l);x[(w+2)%3]=1,this.shader.uniforms.screenAxis=x,this.vao.draw(this.gl.TRIANGLES,6);var x=T(l);x[(w+1)%3]=1,this.shader.uniforms.screenAxis=x,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(w,C,b,S,m){if(this.tickCount[w]){var a=T(c);a[w]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=b,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=m;var E=T(l);E[w]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w])}},d.drawGrid=function(w,C,b,S,m,a){if(this.gridCount[w]){var E=T(u);E[C]=b[1][C]-b[0][C],this.shader.uniforms.minorAxis=E;var x=h(g,S);x[C]+=b[0][C],this.shader.uniforms.offset=x;var k=T(c);k[w]=1,this.shader.uniforms.majorAxis=k;var I=T(l);I[w]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=m,this.vao.draw(this.gl.TRIANGLES,this.gridCount[w],this.gridOffset[w])}},d.drawZero=function(w,C,b,S,m,a){var E=T(u);this.shader.uniforms.majorAxis=E,E[w]=b[1][w]-b[0][w],this.shader.uniforms.minorAxis=E;var x=h(g,S);x[w]+=b[0][w],this.shader.uniforms.offset=x;var k=T(l);k[C]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=m,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function A(w,C,b){var S=[],m=[0,0,0],a=[0,0,0],E=[0,0,0],x=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var k=0;k<3;++k){for(var F=S.length/3|0,I=0;I<b[k].length;++I){var N=+b[k][I].x;S.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var O=S.length/3|0;m[k]=F,a[k]=O-F;for(var F=S.length/3|0,z=0;z<b[k].length;++z){var N=+b[k][z].x;S.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var O=S.length/3|0;E[k]=F,x[k]=O-F}var _=t(w,new Float32Array(S)),B=i(w,[{buffer:_,type:w.FLOAT,size:3,stride:0,offset:0}]),W=n(w);return W.attributes.position.location=0,new s(w,_,B,W,a,m,x,E)}},1943:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),c=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.j=function(T){return i(T,n,c,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.f=function(T){return i(T,u,l,null,[{name:"position",type:"vec3"}])};var g=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(T){return i(T,g,f,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,p,r){v.exports=d;var t=r(5827),i=r(2944),n=r(875),c=r(1943).f,u=window||y.global||{},l=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var g=3;function f(A,w,C,b){this.gl=A,this.shader=w,this.buffer=C,this.vao=b,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=f.prototype,h=[0,0];T.bind=function(A,w,C,b){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=A,S.view=w,S.projection=C,S.pixelScale=b,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},T.unbind=function(){this.vao.unbind()},T.update=function(A,w,C,b,S){var m=[];function a(_,B,W,$,te,ie){var ue=l[W];ue||(ue=l[W]={});var J=ue[B];J||(J=ue[B]=s(B,{triangles:!0,font:W,textAlign:"center",textBaseline:"middle",lineSpacing:te,styletags:ie}));for(var Y=($||12)/12,ae=J.positions,j=J.cells,q=0,oe=j.length;q<oe;++q)for(var Q=j[q],X=2;X>=0;--X){var se=ae[Q[X]];m.push(Y*se[0],-Y*se[1],_)}}for(var E=[0,0,0],x=[0,0,0],k=[0,0,0],I=[0,0,0],N=1.25,F={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},z=0;z<3;++z){k[z]=m.length/g|0,a(.5*(A[0][z]+A[1][z]),w[z],C[z],12,N,F),I[z]=(m.length/g|0)-k[z],E[z]=m.length/g|0;for(var O=0;O<b[z].length;++O)b[z][O].text&&a(b[z][O].x,b[z][O].text,b[z][O].font||S,b[z][O].fontSize||12,N,F);x[z]=(m.length/g|0)-E[z]}this.buffer.update(m),this.tickOffset=E,this.tickCount=x,this.labelOffset=k,this.labelCount=I},T.drawTicks=function(A,w,C,b,S,m,a,E){this.tickCount[A]&&(this.shader.uniforms.axis=m,this.shader.uniforms.color=S,this.shader.uniforms.angle=C,this.shader.uniforms.scale=w,this.shader.uniforms.offset=b,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A]))},T.drawLabel=function(A,w,C,b,S,m,a,E){this.labelCount[A]&&(this.shader.uniforms.axis=m,this.shader.uniforms.color=S,this.shader.uniforms.angle=C,this.shader.uniforms.scale=w,this.shader.uniforms.offset=b,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[A],this.labelOffset[A]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function s(A,w){try{return n(A,w)}catch(C){return console.warn('error vectorizing text:"'+A+'" error:',C),{cells:[],positions:[]}}}function d(A,w,C,b,S,m){var a=t(A),E=i(A,[{buffer:a,size:3}]),x=c(A);x.attributes.position.location=0;var k=new f(A,x,a,E);return k.update(w,C,b,S,m),k}},8468:function(v,p){p.create=t,p.equal=i;function r(n,c){var u=n+"",l=u.indexOf("."),g=0;l>=0&&(g=u.length-l-1);var f=Math.pow(10,g),T=Math.round(n*c*f),h=T+"";if(h.indexOf("e")>=0)return h;var s=T/f,d=T%f;T<0?(s=-Math.ceil(s)|0,d=-d|0):(s=Math.floor(s)|0,d=d|0);var A=""+s;if(T<0&&(A="-"+A),g){for(var w=""+d;w.length<g;)w="0"+w;return A+"."+w}else return A}function t(n,c){for(var u=[],l=0;l<3;++l){var g=[];.5*(n[0][l]+n[1][l]);for(var f=0;f*c[l]<=n[1][l];++f)g.push({x:f*c[l],text:r(c[l],f)});for(var f=-1;f*c[l]>=n[0][l];--f)g.push({x:f*c[l],text:r(c[l],f)});u.push(g)}return u}function i(n,c){for(var u=0;u<3;++u){if(n[u].length!==c[u].length)return!1;for(var l=0;l<n[u].length;++l){var g=n[u][l],f=c[u][l];if(g.x!==f.x||g.text!==f.text||g.font!==f.font||g.fontColor!==f.fontColor||g.fontSize!==f.fontSize||g.dx!==f.dx||g.dy!==f.dy)return!1}}return!0}},2771:function(v,p,r){v.exports=C;var t=r(5795),i=r(4670),n=r(2864),c=r(104),u=r(2142),l=r(6342),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),f=new Float32Array(16);function T(b,S,m){this.lo=b,this.hi=S,this.pixelsPerDataUnit=m}var h=[0,0,0,1],s=[0,0,0,1];function d(b,S,m,a,E){for(var x=0;x<3;++x){for(var k=h,I=s,N=0;N<3;++N)I[N]=k[N]=m[N];I[3]=k[3]=1,I[x]+=1,l(I,I,S),I[3]<0&&(b[x]=1/0),k[x]-=1,l(k,k,S),k[3]<0&&(b[x]=1/0);var F=(k[0]/k[3]-I[0]/I[3])*a,z=(k[1]/k[3]-I[1]/I[3])*E;b[x]=.25*Math.sqrt(F*F+z*z)}return b}var A=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],w=[0,0,0];function C(b,S,m,a,z){var x=S.model||g,k=S.view||g,I=S.projection||g,N=S._ortho||!1,F=b.bounds,z=z||n(x,k,I,F,N),O=z.axis;c(f,k,x),c(f,I,f);for(var _=A,B=0;B<3;++B)_[B].lo=1/0,_[B].hi=-1/0,_[B].pixelsPerDataUnit=1/0;var W=t(u(f,f));u(f,f);for(var $=0;$<3;++$){var te=($+1)%3,ie=($+2)%3,ue=w;e:for(var B=0;B<2;++B){var J=[];if(O[$]<0!=!!B){ue[$]=F[B][$];for(var Y=0;Y<2;++Y){ue[te]=F[Y^B][te];for(var ae=0;ae<2;++ae)ue[ie]=F[ae^Y^B][ie],J.push(ue.slice())}for(var j=N?5:4,Y=j;Y===j;++Y){if(J.length===0)continue e;J=i.positive(J,W[Y])}for(var Y=0;Y<J.length;++Y)for(var ie=J[Y],q=d(w,f,ie,m,a),ae=0;ae<3;++ae)_[ae].lo=Math.min(_[ae].lo,ie[ae]),_[ae].hi=Math.max(_[ae].hi,ie[ae]),ae!==$&&(_[ae].pixelsPerDataUnit=Math.min(_[ae].pixelsPerDataUnit,Math.abs(q[ae])))}}}return _}},5827:function(v,p,r){var t=r(5306),i=r(7498),n=r(5050),c=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(s,d,A,w,C){this.gl=s,this.type=d,this.handle=A,this.length=w,this.usage=C}var l=u.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function g(s,d,A,w,C,b){var S=C.length*C.BYTES_PER_ELEMENT;if(b<0)return s.bufferData(d,C,w),S;if(S+b>A)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return s.bufferSubData(d,b,C),A}function f(s,d){for(var A=t.malloc(s.length,d),w=s.length,C=0;C<w;++C)A[C]=s[C];return A}function T(s,d){for(var A=1,w=d.length-1;w>=0;--w){if(d[w]!==A)return!1;A*=s[w]}return!0}l.update=function(s,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof s=="object"&&typeof s.shape<"u"){var A=s.dtype;if(c.indexOf(A)<0&&(A="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var w=gl.getExtension("OES_element_index_uint");w&&A!=="uint16"?A="uint32":A="uint16"}if(A===s.dtype&&T(s.shape,s.stride))s.offset===0&&s.data.length===s.shape[0]?this.length=g(this.gl,this.type,this.length,this.usage,s.data,d):this.length=g(this.gl,this.type,this.length,this.usage,s.data.subarray(s.offset,s.shape[0]),d);else{var C=t.malloc(s.size,A),b=n(C,s.shape);i.assign(b,s),d<0?this.length=g(this.gl,this.type,this.length,this.usage,C,d):this.length=g(this.gl,this.type,this.length,this.usage,C.subarray(0,s.size),d),t.free(C)}}else if(Array.isArray(s)){var S;this.type===this.gl.ELEMENT_ARRAY_BUFFER?S=f(s,"uint16"):S=f(s,"float32"),d<0?this.length=g(this.gl,this.type,this.length,this.usage,S,d):this.length=g(this.gl,this.type,this.length,this.usage,S.subarray(0,s.length),d),t.free(S)}else if(typeof s=="object"&&typeof s.length=="number")this.length=g(this.gl,this.type,this.length,this.usage,s,d);else if(typeof s=="number"||s===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");s=s|0,s<=0&&(s=1),this.gl.bufferData(this.type,s|0,this.usage),this.length=s}else throw new Error("gl-buffer: Invalid data type")};function h(s,d,A,w){if(A=A||s.ARRAY_BUFFER,w=w||s.DYNAMIC_DRAW,A!==s.ARRAY_BUFFER&&A!==s.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==s.DYNAMIC_DRAW&&w!==s.STATIC_DRAW&&w!==s.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=s.createBuffer(),b=new u(s,A,C,0,w);return b.update(d),b}v.exports=h},1140:function(v,p,r){var t=r(2858);v.exports=function(n,c){var u=n.positions,l=n.vectors,g={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return c&&(c[0]=[0,0,0],c[1]=[0,0,0]),g;for(var f=0,T=1/0,h=-1/0,s=1/0,d=-1/0,A=1/0,w=-1/0,C=null,b=null,S=[],m=1/0,a=!1,E=0;E<u.length;E++){var x=u[E];T=Math.min(x[0],T),h=Math.max(x[0],h),s=Math.min(x[1],s),d=Math.max(x[1],d),A=Math.min(x[2],A),w=Math.max(x[2],w);var k=l[E];if(t.length(k)>f&&(f=t.length(k)),E){var I=2*t.distance(C,x)/(t.length(b)+t.length(k));I?(m=Math.min(m,I),a=!1):a=!0}a||(C=x,b=k),S.push(k)}var N=[T,s,A],F=[h,d,w];c&&(c[0]=N,c[1]=F),f===0&&(f=1);var z=1/f;isFinite(m)||(m=1),g.vectorScale=m;var O=n.coneSize||.5;n.absoluteConeSize&&(O=n.absoluteConeSize*z),g.coneScale=O;for(var E=0,_=0;E<u.length;E++)for(var x=u[E],B=x[0],W=x[1],$=x[2],te=S[E],ie=t.length(te)*z,ue=0,J=8;ue<J;ue++){g.positions.push([B,W,$,_++]),g.positions.push([B,W,$,_++]),g.positions.push([B,W,$,_++]),g.positions.push([B,W,$,_++]),g.positions.push([B,W,$,_++]),g.positions.push([B,W,$,_++]),g.vectors.push(te),g.vectors.push(te),g.vectors.push(te),g.vectors.push(te),g.vectors.push(te),g.vectors.push(te),g.vertexIntensity.push(ie,ie,ie),g.vertexIntensity.push(ie,ie,ie);var Y=g.positions.length;g.cells.push([Y-6,Y-5,Y-4],[Y-3,Y-2,Y-1])}return g};var i=r(7234);v.exports.createMesh=r(5028),v.exports.createConeMesh=function(n,c){return v.exports.createMesh(n,c,{shaders:i,traceType:"cone"})}},5028:function(v,p,r){var t=r(5158),i=r(5827),n=r(2944),c=r(8931),u=r(104),l=r(7437),g=r(5050),f=r(9156),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(S,m,a,E,x,k,I,N,F,z,O){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=m,this.dirty=!0,this.triShader=a,this.pickShader=E,this.trianglePositions=x,this.triangleVectors=k,this.triangleColors=N,this.triangleUVs=F,this.triangleIds=I,this.triangleVAO=z,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=O,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var s=h.prototype;s.isOpaque=function(){return this.opacity>=1},s.isTransparent=function(){return this.opacity<1},s.pickSlots=1,s.setPickBase=function(S){this.pickId=S};function d(S){for(var m=f({colormap:S,nshades:256,format:"rgba"}),a=new Uint8Array(256*4),E=0;E<256;++E){for(var x=m[E],k=0;k<3;++k)a[4*E+k]=x[k];a[4*E+3]=x[3]*255}return g(a,[256,256,4],[4,0,1])}function A(S){for(var m=S.length,a=new Array(m),E=0;E<m;++E)a[E]=S[E][2];return a}s.update=function(S){S=S||{};var m=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),S.tubeScale!==void 0&&(this.tubeScale=S.tubeScale),S.vectorScale!==void 0&&(this.vectorScale=S.vectorScale),S.coneScale!==void 0&&(this.coneScale=S.coneScale),S.coneOffset!==void 0&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=m.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=m.LINEAR,this.texture.setPixels(d(S.colormap)),this.texture.generateMipmap());var a=S.cells,E=S.positions,x=S.vectors;if(!(!E||!a||!x)){var k=[],I=[],N=[],F=[],z=[];this.cells=a,this.positions=E,this.vectors=x;var O=S.meshColor||[1,1,1,1],_=S.vertexIntensity,B=1/0,W=-1/0;if(_)if(S.vertexIntensityBounds)B=+S.vertexIntensityBounds[0],W=+S.vertexIntensityBounds[1];else for(var $=0;$<_.length;++$){var te=_[$];B=Math.min(B,te),W=Math.max(W,te)}else for(var $=0;$<E.length;++$){var te=E[$][2];B=Math.min(B,te),W=Math.max(W,te)}_?this.intensity=_:this.intensity=A(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var $=0;$<E.length;++$)for(var ie=E[$],ue=0;ue<3;++ue)isNaN(ie[ue])||!isFinite(ie[ue])||(this.bounds[0][ue]=Math.min(this.bounds[0][ue],ie[ue]),this.bounds[1][ue]=Math.max(this.bounds[1][ue],ie[ue]));var J=0;e:for(var $=0;$<a.length;++$){var Y=a[$];switch(Y.length){case 3:for(var ue=0;ue<3;++ue)for(var ae=Y[ue],ie=E[ae],j=0;j<3;++j)if(isNaN(ie[j])||!isFinite(ie[j]))continue e;for(var ue=0;ue<3;++ue){var ae=Y[2-ue],ie=E[ae];k.push(ie[0],ie[1],ie[2],ie[3]);var q=x[ae];I.push(q[0],q[1],q[2],q[3]||0);var oe=O;oe.length===3?N.push(oe[0],oe[1],oe[2],1):N.push(oe[0],oe[1],oe[2],oe[3]);var Q;_?Q=[(_[ae]-B)/(W-B),0]:Q=[(ie[2]-B)/(W-B),0],F.push(Q[0],Q[1]),z.push($)}J+=1;break}}this.triangleCount=J,this.trianglePositions.update(k),this.triangleVectors.update(I),this.triangleColors.update(N),this.triangleUVs.update(F),this.triangleIds.update(new Uint32Array(z))}},s.drawTransparent=s.draw=function(S){S=S||{};for(var m=this.gl,a=S.model||T,E=S.view||T,x=S.projection||T,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)k[0][I]=Math.max(k[0][I],this.clipBounds[0][I]),k[1][I]=Math.min(k[1][I],this.clipBounds[1][I]);var N={model:a,view:E,projection:x,inverseModel:T.slice(),clipBounds:k,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=l(N.inverseModel,N.model),m.disable(m.CULL_FACE),this.texture.bind(0);var F=new Array(16);u(F,N.view,N.model),u(F,N.projection,F),l(F,F);for(var I=0;I<3;++I)N.eyePosition[I]=F[12+I]/F[15];for(var z=F[15],I=0;I<3;++I)z+=this.lightPosition[I]*F[4*I+3];for(var I=0;I<3;++I){for(var O=F[12+I],_=0;_<3;++_)O+=F[4*_+I]*this.lightPosition[_];N.lightPosition[I]=O/z}if(this.triangleCount>0){var B=this.triShader;B.bind(),B.uniforms=N,this.triangleVAO.bind(),m.drawArrays(m.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},s.drawPick=function(S){S=S||{};for(var m=this.gl,a=S.model||T,E=S.view||T,x=S.projection||T,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)k[0][I]=Math.max(k[0][I],this.clipBounds[0][I]),k[1][I]=Math.min(k[1][I],this.clipBounds[1][I]);this._model=[].slice.call(a),this._view=[].slice.call(E),this._projection=[].slice.call(x),this._resolution=[m.drawingBufferWidth,m.drawingBufferHeight];var N={model:a,view:E,projection:x,clipBounds:k,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},F=this.pickShader;F.bind(),F.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),m.drawArrays(m.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},s.pick=function(S){if(!S||S.id!==this.pickId)return null;var m=S.value[0]+256*S.value[1]+65536*S.value[2],a=this.cells[m],E=this.positions[a[1]].slice(0,3),x={position:E,dataCoordinate:E,index:Math.floor(a[1]/48)};return this.traceType==="cone"?x.index=Math.floor(a[1]/48):this.traceType==="streamtube"&&(x.intensity=this.intensity[a[1]],x.velocity=this.vectors[a[1]].slice(0,3),x.divergence=this.vectors[a[1]][3],x.index=m),x},s.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function w(S,m){var a=t(S,m.meshShader.vertex,m.meshShader.fragment,null,m.meshShader.attributes);return a.attributes.position.location=0,a.attributes.color.location=2,a.attributes.uv.location=3,a.attributes.vector.location=4,a}function C(S,m){var a=t(S,m.pickShader.vertex,m.pickShader.fragment,null,m.pickShader.attributes);return a.attributes.position.location=0,a.attributes.id.location=1,a.attributes.vector.location=4,a}function b(S,m,a){var E=a.shaders;arguments.length===1&&(m=S,S=m.gl);var x=w(S,E),k=C(S,E),I=c(S,g(new Uint8Array([255,255,255,255]),[1,1,4]));I.generateMipmap(),I.minFilter=S.LINEAR_MIPMAP_LINEAR,I.magFilter=S.LINEAR;var N=i(S),F=i(S),z=i(S),O=i(S),_=i(S),B=n(S,[{buffer:N,type:S.FLOAT,size:4},{buffer:_,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:z,type:S.FLOAT,size:4},{buffer:O,type:S.FLOAT,size:2},{buffer:F,type:S.FLOAT,size:4}]),W=new h(S,I,x,k,N,F,_,z,O,B,a.traceType||"cone");return W.update(m),W}v.exports=b},7234:function(v,p,r){var t=r(6832),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),c=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:c,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,p,r){var t=r(1950);v.exports=function(n){return t[n]}},3110:function(v,p,r){v.exports=h;var t=r(5827),i=r(2944),n=r(7667),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(s,d,A,w){this.gl=s,this.shader=w,this.buffer=d,this.vao=A,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=u.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(s){var d=this.gl,A=this.shader.uniforms;this.shader.bind();var w=A.view=s.view||c,C=A.projection=s.projection||c;A.model=s.model||c,A.clipBounds=this.clipBounds,A.opacity=this.opacity;var b=w[12],S=w[13],m=w[14],a=w[15],E=s._ortho||!1,x=E?2:1,k=x*this.pixelRatio*(C[3]*b+C[7]*S+C[11]*m+C[15]*a)/d.drawingBufferHeight;this.vao.bind();for(var I=0;I<3;++I)d.lineWidth(this.lineWidth[I]*this.pixelRatio),A.capSize=this.capSize[I]*k,this.lineCount[I]&&d.drawArrays(d.LINES,this.lineOffset[I],this.lineCount[I]);this.vao.unbind()};function g(s,d){for(var A=0;A<3;++A)s[0][A]=Math.min(s[0][A],d[A]),s[1][A]=Math.max(s[1][A],d[A])}var f=function(){for(var s=new Array(3),d=0;d<3;++d){for(var A=[],w=1;w<=2;++w)for(var C=-1;C<=1;C+=2){var b=(w+d)%3,S=[0,0,0];S[b]=C,A.push(S)}s[d]=A}return s}();function T(s,d,A,w){for(var C=f[w],b=0;b<C.length;++b){var S=C[b];s.push(d[0],d[1],d[2],A[0],A[1],A[2],A[3],S[0],S[1],S[2])}return C.length}l.update=function(s){s=s||{},"lineWidth"in s&&(this.lineWidth=s.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in s&&(this.capSize=s.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=s.color||[[0,0,0],[0,0,0],[0,0,0]],A=s.position,w=s.error;if(Array.isArray(d[0])||(d=[d,d,d]),A&&w){var C=[],b=A.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var m=0;m<3;++m){this.lineOffset[m]=S;e:for(var a=0;a<b;++a){for(var E=A[a],x=0;x<3;++x)if(isNaN(E[x])||!isFinite(E[x]))continue e;var k=w[a],I=d[m];if(Array.isArray(I[0])&&(I=d[a]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!(isNaN(k[0][m])||isNaN(k[1][m]))){if(k[0][m]<0){var N=E.slice();N[m]+=k[0][m],C.push(E[0],E[1],E[2],I[0],I[1],I[2],I[3],0,0,0,N[0],N[1],N[2],I[0],I[1],I[2],I[3],0,0,0),g(this.bounds,N),S+=2+T(C,N,I,m)}if(k[1][m]>0){var N=E.slice();N[m]+=k[1][m],C.push(E[0],E[1],E[2],I[0],I[1],I[2],I[3],0,0,0,N[0],N[1],N[2],I[0],I[1],I[2],I[3],0,0,0),g(this.bounds,N),S+=2+T(C,N,I,m)}}}this.lineCount[m]=S-this.lineOffset[m]}this.buffer.update(C)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function h(s){var d=s.gl,A=t(d),w=i(d,[{buffer:A,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:A,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:A,type:d.FLOAT,size:3,offset:28,stride:40}]),C=n(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var b=new u(d,A,w,C);return b.update(s),b}},7667:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return i(u,n,c,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,p,r){var t=r(8931);v.exports=S;var i=null,n,c,u,l;function g(m){var a=m.getParameter(m.FRAMEBUFFER_BINDING),E=m.getParameter(m.RENDERBUFFER_BINDING),x=m.getParameter(m.TEXTURE_BINDING_2D);return[a,E,x]}function f(m,a){m.bindFramebuffer(m.FRAMEBUFFER,a[0]),m.bindRenderbuffer(m.RENDERBUFFER,a[1]),m.bindTexture(m.TEXTURE_2D,a[2])}function T(m,a){var E=m.getParameter(a.MAX_COLOR_ATTACHMENTS_WEBGL);i=new Array(E+1);for(var x=0;x<=E;++x){for(var k=new Array(E),I=0;I<x;++I)k[I]=m.COLOR_ATTACHMENT0+I;for(var I=x;I<E;++I)k[I]=m.NONE;i[x]=k}}function h(m){switch(m){case n:throw new Error("gl-fbo: Framebuffer unsupported");case c:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function s(m,a,E,x,k,I){if(!x)return null;var N=t(m,a,E,k,x);return N.magFilter=m.NEAREST,N.minFilter=m.NEAREST,N.mipSamples=1,N.bind(),m.framebufferTexture2D(m.FRAMEBUFFER,I,m.TEXTURE_2D,N.handle,0),N}function d(m,a,E,x,k){var I=m.createRenderbuffer();return m.bindRenderbuffer(m.RENDERBUFFER,I),m.renderbufferStorage(m.RENDERBUFFER,x,a,E),m.framebufferRenderbuffer(m.FRAMEBUFFER,k,m.RENDERBUFFER,I),I}function A(m){var a=g(m.gl),E=m.gl,x=m.handle=E.createFramebuffer(),k=m._shape[0],I=m._shape[1],N=m.color.length,F=m._ext,z=m._useStencil,O=m._useDepth,_=m._colorType;E.bindFramebuffer(E.FRAMEBUFFER,x);for(var B=0;B<N;++B)m.color[B]=s(E,k,I,_,E.RGBA,E.COLOR_ATTACHMENT0+B);N===0?(m._color_rb=d(E,k,I,E.RGBA4,E.COLOR_ATTACHMENT0),F&&F.drawBuffersWEBGL(i[0])):N>1&&F.drawBuffersWEBGL(i[N]);var W=E.getExtension("WEBGL_depth_texture");W?z?m.depth=s(E,k,I,W.UNSIGNED_INT_24_8_WEBGL,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):O&&(m.depth=s(E,k,I,E.UNSIGNED_SHORT,E.DEPTH_COMPONENT,E.DEPTH_ATTACHMENT)):O&&z?m._depth_rb=d(E,k,I,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):O?m._depth_rb=d(E,k,I,E.DEPTH_COMPONENT16,E.DEPTH_ATTACHMENT):z&&(m._depth_rb=d(E,k,I,E.STENCIL_INDEX,E.STENCIL_ATTACHMENT));var $=E.checkFramebufferStatus(E.FRAMEBUFFER);if($!==E.FRAMEBUFFER_COMPLETE){m._destroyed=!0,E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(m.handle),m.handle=null,m.depth&&(m.depth.dispose(),m.depth=null),m._depth_rb&&(E.deleteRenderbuffer(m._depth_rb),m._depth_rb=null);for(var B=0;B<m.color.length;++B)m.color[B].dispose(),m.color[B]=null;m._color_rb&&(E.deleteRenderbuffer(m._color_rb),m._color_rb=null),f(E,a),h($)}f(E,a)}function w(m,a,E,x,k,I,N,F){this.gl=m,this._shape=[a|0,E|0],this._destroyed=!1,this._ext=F,this.color=new Array(k);for(var z=0;z<k;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=x,this._useDepth=I,this._useStencil=N;var O=this,_=[a|0,E|0];Object.defineProperties(_,{0:{get:function(){return O._shape[0]},set:function(B){return O.width=B}},1:{get:function(){return O._shape[1]},set:function(B){return O.height=B}}}),this._shapeVector=_,A(this)}var C=w.prototype;function b(m,a,E){if(m._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(m._shape[0]===a&&m._shape[1]===E)){var x=m.gl,k=x.getParameter(x.MAX_RENDERBUFFER_SIZE);if(a<0||a>k||E<0||E>k)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");m._shape[0]=a,m._shape[1]=E;for(var I=g(x),N=0;N<m.color.length;++N)m.color[N].shape=m._shape;m._color_rb&&(x.bindRenderbuffer(x.RENDERBUFFER,m._color_rb),x.renderbufferStorage(x.RENDERBUFFER,x.RGBA4,m._shape[0],m._shape[1])),m.depth&&(m.depth.shape=m._shape),m._depth_rb&&(x.bindRenderbuffer(x.RENDERBUFFER,m._depth_rb),m._useDepth&&m._useStencil?x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_STENCIL,m._shape[0],m._shape[1]):m._useDepth?x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_COMPONENT16,m._shape[0],m._shape[1]):m._useStencil&&x.renderbufferStorage(x.RENDERBUFFER,x.STENCIL_INDEX,m._shape[0],m._shape[1])),x.bindFramebuffer(x.FRAMEBUFFER,m.handle);var F=x.checkFramebufferStatus(x.FRAMEBUFFER);F!==x.FRAMEBUFFER_COMPLETE&&(m.dispose(),f(x,I),h(F)),f(x,I)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(m){if(Array.isArray(m)||(m=[m|0,m|0]),m.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var a=m[0]|0,E=m[1]|0;return b(this,a,E),[a,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(m){return m=m|0,b(this,m,this._shape[1]),m},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(m){return m=m|0,b(this,this._shape[0],m),m},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var m=this.gl;m.bindFramebuffer(m.FRAMEBUFFER,this.handle),m.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var m=this.gl;m.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(m.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var a=0;a<this.color.length;++a)this.color[a].dispose(),this.color[a]=null;this._color_rb&&(m.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function S(m,a,E,x){n||(n=m.FRAMEBUFFER_UNSUPPORTED,c=m.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=m.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=m.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var k=m.getExtension("WEBGL_draw_buffers");if(!i&&k&&T(m,k),Array.isArray(a)&&(x=E,E=a[1]|0,a=a[0]|0),typeof a!="number")throw new Error("gl-fbo: Missing shape parameter");var I=m.getParameter(m.MAX_RENDERBUFFER_SIZE);if(a<0||a>I||E<0||E>I)throw new Error("gl-fbo: Parameters are too large for FBO");x=x||{};var N=1;if("color"in x){if(N=Math.max(x.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(k){if(N>m.getParameter(k.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var F=m.UNSIGNED_BYTE,z=m.getExtension("OES_texture_float");if(x.float&&N>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");F=m.FLOAT}else x.preferFloat&&N>0&&z&&(F=m.FLOAT);var O=!0;"depth"in x&&(O=!!x.depth);var _=!1;return"stencil"in x&&(_=!!x.stencil),new w(m,a,E,F,N,O,_,k)}},3530:function(v,p,r){var t=r(8974).sprintf,i=r(6603),n=r(9365),c=r(8008);v.exports=u;function u(l,g,f){var T=n(g)||"of unknown name (see npm glsl-shader-name)",h="unknown type";f!==void 0&&(h=f===i.FRAGMENT_SHADER?"fragment":"vertex");for(var s=t(`Error compiling %s shader %s:
`,h,T),d=t("%s%s",s,l),A=l.split(`
`),w={},C=0;C<A.length;C++){var b=A[C];if(!(b===""||b==="\0")){var S=parseInt(b.split(":")[2]);if(isNaN(S))throw new Error(t("Could not parse error: %s",b));w[S]=b}}for(var m=c(g).split(`
`),C=0;C<m.length;C++)if(!(!w[C+3]&&!w[C+2]&&!w[C+1])){var a=m[C];if(s+=a+`
`,w[C+1]){var E=w[C+1];E=E.substr(E.split(":",3).join(":").length+1).trim(),s+=t(`^^^ %s

`,E)}}return{long:s.trim(),short:d.trim()}}},6386:function(v,p,r){v.exports=h;var t=r(5070),i=r(9560),n=r(5306),c=r(5158),u=r(5827),l=r(1292);function g(s,d,A,w,C,b,S){this.plot=s,this.shader=d,this.pickShader=A,this.positionBuffer=w,this.weightBuffer=C,this.colorBuffer=b,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var f=g.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];f.draw=function(){var s=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,A=this.shader,w=this.bounds,C=this.numVertices;if(!(C<=0)){var b=d.gl,S=d.dataBox,m=w[2]-w[0],a=w[3]-w[1],E=S[2]-S[0],x=S[3]-S[1];s[0]=2*m/E,s[4]=2*a/x,s[6]=2*(w[0]-S[0])/E-1,s[7]=2*(w[1]-S[1])/x-1,A.bind();var k=A.uniforms;k.viewTransform=s,k.shape=this.shape;var I=A.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(b.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(b.UNSIGNED_BYTE,!0),b.drawArrays(b.TRIANGLES,0,C)}}}(),f.drawPick=function(){var s=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(A){var w=this.plot,C=this.pickShader,b=this.bounds,S=this.numVertices;if(!(S<=0)){var m=w.gl,a=w.dataBox,E=b[2]-b[0],x=b[3]-b[1],k=a[2]-a[0],I=a[3]-a[1];s[0]=2*E/k,s[4]=2*x/I,s[6]=2*(b[0]-a[0])/k-1,s[7]=2*(b[1]-a[1])/I-1;for(var N=0;N<4;++N)d[N]=A>>N*8&255;this.pickOffset=A,C.bind();var F=C.uniforms;F.viewTransform=s,F.pickOffset=d,F.shape=this.shape;var z=C.attributes;return this.positionBuffer.bind(),z.position.pointer(),this.weightBuffer.bind(),z.weight.pointer(m.UNSIGNED_BYTE,!1),this.idBuffer.bind(),z.pickId.pointer(m.UNSIGNED_BYTE,!1),m.drawArrays(m.TRIANGLES,0,S),A+this.shape[0]*this.shape[1]}}}(),f.pick=function(s,d,A){var w=this.pickOffset,C=this.shape[0]*this.shape[1];if(A<w||A>=w+C)return null;var b=A-w,S=this.xData,m=this.yData;return{object:this,pointId:b,dataCoord:[S[b%this.shape[0]],m[b/this.shape[0]|0]]}},f.update=function(s){s=s||{};var d=s.shape||[0,0],A=s.x||i(d[0]),w=s.y||i(d[1]),C=s.z||new Float32Array(d[0]*d[1]),b=s.zsmooth!==!1;this.xData=A,this.yData=w;var S=s.colorLevels||[0],m=s.colorValues||[0,0,0,1],a=S.length,E=this.bounds,x,k,I,N;b?(x=E[0]=A[0],k=E[1]=w[0],I=E[2]=A[A.length-1],N=E[3]=w[w.length-1]):(x=E[0]=A[0]+(A[1]-A[0])/2,k=E[1]=w[0]+(w[1]-w[0])/2,I=E[2]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2,N=E[3]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2);var F=1/(I-x),z=1/(N-k),O=d[0],_=d[1];this.shape=[O,_];var B=(b?(O-1)*(_-1):O*_)*(T.length>>>1);this.numVertices=B;for(var W=n.mallocUint8(B*4),$=n.mallocFloat32(B*2),te=n.mallocUint8(B*2),ie=n.mallocUint32(B),ue=0,J=b?O-1:O,Y=b?_-1:_,ae=0;ae<Y;++ae){var j,q;b?(j=z*(w[ae]-k),q=z*(w[ae+1]-k)):(j=ae<_-1?z*(w[ae]-(w[ae+1]-w[ae])/2-k):z*(w[ae]-(w[ae]-w[ae-1])/2-k),q=ae<_-1?z*(w[ae]+(w[ae+1]-w[ae])/2-k):z*(w[ae]+(w[ae]-w[ae-1])/2-k));for(var oe=0;oe<J;++oe){var Q,X;b?(Q=F*(A[oe]-x),X=F*(A[oe+1]-x)):(Q=oe<O-1?F*(A[oe]-(A[oe+1]-A[oe])/2-x):F*(A[oe]-(A[oe]-A[oe-1])/2-x),X=oe<O-1?F*(A[oe]+(A[oe+1]-A[oe])/2-x):F*(A[oe]+(A[oe]-A[oe-1])/2-x));for(var se=0;se<T.length;se+=2){var ne=T[se],fe=T[se+1],ye=b?(ae+fe)*O+(oe+ne):ae*O+oe,Se=C[ye],we=t.le(S,Se),_e,ke,Me,me;if(we<0)_e=m[0],ke=m[1],Me=m[2],me=m[3];else if(we===a-1)_e=m[4*a-4],ke=m[4*a-3],Me=m[4*a-2],me=m[4*a-1];else{var Ee=(Se-S[we])/(S[we+1]-S[we]),Be=1-Ee,Ue=4*we,De=4*(we+1);_e=Be*m[Ue]+Ee*m[De],ke=Be*m[Ue+1]+Ee*m[De+1],Me=Be*m[Ue+2]+Ee*m[De+2],me=Be*m[Ue+3]+Ee*m[De+3]}W[4*ue]=255*_e,W[4*ue+1]=255*ke,W[4*ue+2]=255*Me,W[4*ue+3]=255*me,$[2*ue]=Q*.5+X*.5,$[2*ue+1]=j*.5+q*.5,te[2*ue]=ne,te[2*ue+1]=fe,ie[ue]=ae*O+oe,ue+=1}}}this.positionBuffer.update($),this.weightBuffer.update(te),this.colorBuffer.update(W),this.idBuffer.update(ie),n.free($),n.free(W),n.free(te),n.free(ie)},f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function h(s,d){var A=s.gl,w=c(A,l.vertex,l.fragment),C=c(A,l.pickVertex,l.pickFragment),b=u(A),S=u(A),m=u(A),a=u(A),E=new g(s,w,C,b,S,m,a);return E.update(d),s.addObject(E),E}},1292:function(v,p,r){var t=r(6832);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(g){return i(g,n,c,null,l)},p.createPickShader=function(g){return i(g,n,u,null,l)}},6086:function(v,p,r){v.exports=m;var t=r(5827),i=r(2944),n=r(8931),c=new Uint8Array(4),u=new Float32Array(c.buffer);function l(a,E,x,k){return c[0]=k,c[1]=x,c[2]=E,c[3]=a,u[0]}var g=r(5070),f=r(5050),T=r(248),h=T.createShader,s=T.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function A(a,E){for(var x=0,k=0;k<3;++k){var I=a[k]-E[k];x+=I*I}return Math.sqrt(x)}function w(a){for(var E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],x=0;x<3;++x)E[0][x]=Math.max(a[0][x],E[0][x]),E[1][x]=Math.min(a[1][x],E[1][x]);return E}function C(a,E,x,k){this.arcLength=a,this.position=E,this.index=x,this.dataCoordinate=k}function b(a,E,x,k,I,N){this.gl=a,this.shader=E,this.pickShader=x,this.buffer=k,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=b.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(a){this.pickId=a},S.drawTransparent=S.draw=function(a){if(this.vertexCount){var E=this.gl,x=this.shader,k=this.vao;x.bind(),x.uniforms={model:a.model||d,view:a.view||d,projection:a.projection||d,clipBounds:w(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(E.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.drawPick=function(a){if(this.vertexCount){var E=this.gl,x=this.pickShader,k=this.vao;x.bind(),x.uniforms={model:a.model||d,view:a.view||d,projection:a.projection||d,pickId:this.pickId,clipBounds:w(this.clipBounds),screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(E.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.update=function(a){var E,x;this.dirty=!0;var k=!!a.connectGaps;"dashScale"in a&&(this.dashScale=a.dashScale),this.hasAlpha=!1,"opacity"in a&&(this.opacity=+a.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],N=[],F=[],z=0,O=0,_=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],B=a.position||a.positions;if(B){var W=a.color||a.colors||[0,0,0,1],$=a.lineWidth||1,te=!1;e:for(E=1;E<B.length;++E){var ie=B[E-1],ue=B[E];for(N.push(z),F.push(ie.slice()),x=0;x<3;++x){if(isNaN(ie[x])||isNaN(ue[x])||!isFinite(ie[x])||!isFinite(ue[x])){if(!k&&I.length>0){for(var J=0;J<24;++J)I.push(I[I.length-12]);O+=2,te=!0}continue e}_[0][x]=Math.min(_[0][x],ie[x],ue[x]),_[1][x]=Math.max(_[1][x],ie[x],ue[x])}var Y,ae;Array.isArray(W[0])?(Y=W.length>E-1?W[E-1]:W.length>0?W[W.length-1]:[0,0,0,1],ae=W.length>E?W[E]:W.length>0?W[W.length-1]:[0,0,0,1]):Y=ae=W,Y.length===3&&(Y=[Y[0],Y[1],Y[2],1]),ae.length===3&&(ae=[ae[0],ae[1],ae[2],1]),!this.hasAlpha&&Y[3]<1&&(this.hasAlpha=!0);var j;Array.isArray($)?j=$.length>E-1?$[E-1]:$.length>0?$[$.length-1]:[0,0,0,1]:j=$;var q=z;if(z+=A(ie,ue),te){for(x=0;x<2;++x)I.push(ie[0],ie[1],ie[2],ue[0],ue[1],ue[2],q,j,Y[0],Y[1],Y[2],Y[3]);O+=2,te=!1}I.push(ie[0],ie[1],ie[2],ue[0],ue[1],ue[2],q,j,Y[0],Y[1],Y[2],Y[3],ie[0],ie[1],ie[2],ue[0],ue[1],ue[2],q,-j,Y[0],Y[1],Y[2],Y[3],ue[0],ue[1],ue[2],ie[0],ie[1],ie[2],z,-j,ae[0],ae[1],ae[2],ae[3],ue[0],ue[1],ue[2],ie[0],ie[1],ie[2],z,j,ae[0],ae[1],ae[2],ae[3]),O+=4}}if(this.buffer.update(I),N.push(z),F.push(B[B.length-1].slice()),this.bounds=_,this.vertexCount=O,this.points=F,this.arcLength=N,"dashes"in a){var oe=a.dashes,Q=oe.slice();for(Q.unshift(0),E=1;E<Q.length;++E)Q[E]=Q[E-1]+Q[E];var X=f(new Array(256*4),[256,1,4]);for(E=0;E<256;++E){for(x=0;x<4;++x)X.set(E,0,x,0);g.le(Q,Q[Q.length-1]*E/255)&1?X.set(E,0,0,0):X.set(E,0,0,255)}this.texture.setPixels(X)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(a){if(!a||a.id!==this.pickId)return null;var E=l(a.value[0],a.value[1],a.value[2],0),x=g.le(this.arcLength,E);if(x<0)return null;if(x===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),x);for(var k=this.points[x],I=this.points[Math.min(x+1,this.points.length-1)],N=(E-this.arcLength[x])/(this.arcLength[x+1]-this.arcLength[x]),F=1-N,z=[0,0,0],O=0;O<3;++O)z[O]=F*k[O]+N*I[O];var _=Math.min(N<.5?x:x+1,this.points.length-1);return new C(E,z,_,this.points[_])};function m(a){var E=a.gl||a.scene&&a.scene.gl,x=h(E);x.attributes.position.location=0,x.attributes.nextPosition.location=1,x.attributes.arcLength.location=2,x.attributes.lineWidth.location=3,x.attributes.color.location=4;var k=s(E);k.attributes.position.location=0,k.attributes.nextPosition.location=1,k.attributes.arcLength.location=2,k.attributes.lineWidth.location=3,k.attributes.color.location=4;for(var I=t(E),N=i(E,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),F=f(new Array(256*4),[256,1,4]),z=0;z<1024;++z)F.data[z]=255;var O=n(E,F);O.wrap=E.REPEAT;var _=new b(E,x,k,I,N,O);return _.update(a),_}},7332:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},9823:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],c=r[3],u=r[4],l=r[5],g=r[6],f=r[7],T=r[8],h=r[9],s=r[10],d=r[11],A=r[12],w=r[13],C=r[14],b=r[15],S=t*l-i*u,m=t*g-n*u,a=t*f-c*u,E=i*g-n*l,x=i*f-c*l,k=n*f-c*g,I=T*w-h*A,N=T*C-s*A,F=T*b-d*A,z=h*C-s*w,O=h*b-d*w,_=s*b-d*C;return S*_-m*O+a*z+E*F-x*N+k*I}},5950:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],c=t[2],u=t[3],l=i+i,g=n+n,f=c+c,T=i*l,h=n*l,s=n*g,d=c*l,A=c*g,w=c*f,C=u*l,b=u*g,S=u*f;return r[0]=1-s-w,r[1]=h+S,r[2]=d-b,r[3]=0,r[4]=h-S,r[5]=1-T-w,r[6]=A+C,r[7]=0,r[8]=d+b,r[9]=A-C,r[10]=1-T-s,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(v){v.exports=p;function p(r,t,i){var n=t[0],c=t[1],u=t[2],l=t[3],g=n+n,f=c+c,T=u+u,h=n*g,s=n*f,d=n*T,A=c*f,w=c*T,C=u*T,b=l*g,S=l*f,m=l*T;return r[0]=1-(A+C),r[1]=s+m,r[2]=d-S,r[3]=0,r[4]=s-m,r[5]=1-(h+C),r[6]=w+b,r[7]=0,r[8]=d+S,r[9]=w-b,r[10]=1-(h+A),r[11]=0,r[12]=i[0],r[13]=i[1],r[14]=i[2],r[15]=1,r}},9947:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],c=t[2],u=t[3],l=t[4],g=t[5],f=t[6],T=t[7],h=t[8],s=t[9],d=t[10],A=t[11],w=t[12],C=t[13],b=t[14],S=t[15],m=i*g-n*l,a=i*f-c*l,E=i*T-u*l,x=n*f-c*g,k=n*T-u*g,I=c*T-u*f,N=h*C-s*w,F=h*b-d*w,z=h*S-A*w,O=s*b-d*C,_=s*S-A*C,B=d*S-A*b,W=m*B-a*_+E*O+x*z-k*F+I*N;return W?(W=1/W,r[0]=(g*B-f*_+T*O)*W,r[1]=(c*_-n*B-u*O)*W,r[2]=(C*I-b*k+S*x)*W,r[3]=(d*k-s*I-A*x)*W,r[4]=(f*z-l*B-T*F)*W,r[5]=(i*B-c*z+u*F)*W,r[6]=(b*E-w*I-S*a)*W,r[7]=(h*I-d*E+A*a)*W,r[8]=(l*_-g*z+T*N)*W,r[9]=(n*z-i*_-u*N)*W,r[10]=(w*k-C*E+S*m)*W,r[11]=(s*E-h*k-A*m)*W,r[12]=(g*F-l*O-f*N)*W,r[13]=(i*O-n*F+c*N)*W,r[14]=(C*a-w*x-b*m)*W,r[15]=(h*x-s*a+d*m)*W,r):null}},3012:function(v,p,r){var t=r(9947);v.exports=i;function i(n,c,u,l){var g,f,T,h,s,d,A,w,C,b,S=c[0],m=c[1],a=c[2],E=l[0],x=l[1],k=l[2],I=u[0],N=u[1],F=u[2];return Math.abs(S-I)<1e-6&&Math.abs(m-N)<1e-6&&Math.abs(a-F)<1e-6?t(n):(A=S-I,w=m-N,C=a-F,b=1/Math.sqrt(A*A+w*w+C*C),A*=b,w*=b,C*=b,g=x*C-k*w,f=k*A-E*C,T=E*w-x*A,b=Math.sqrt(g*g+f*f+T*T),b?(b=1/b,g*=b,f*=b,T*=b):(g=0,f=0,T=0),h=w*T-C*f,s=C*g-A*T,d=A*f-w*g,b=Math.sqrt(h*h+s*s+d*d),b?(b=1/b,h*=b,s*=b,d*=b):(h=0,s=0,d=0),n[0]=g,n[1]=h,n[2]=A,n[3]=0,n[4]=f,n[5]=s,n[6]=w,n[7]=0,n[8]=T,n[9]=d,n[10]=C,n[11]=0,n[12]=-(g*S+f*m+T*a),n[13]=-(h*S+s*m+d*a),n[14]=-(A*S+w*m+C*a),n[15]=1,n)}},104:function(v){v.exports=p;function p(r,t,i){var n=t[0],c=t[1],u=t[2],l=t[3],g=t[4],f=t[5],T=t[6],h=t[7],s=t[8],d=t[9],A=t[10],w=t[11],C=t[12],b=t[13],S=t[14],m=t[15],a=i[0],E=i[1],x=i[2],k=i[3];return r[0]=a*n+E*g+x*s+k*C,r[1]=a*c+E*f+x*d+k*b,r[2]=a*u+E*T+x*A+k*S,r[3]=a*l+E*h+x*w+k*m,a=i[4],E=i[5],x=i[6],k=i[7],r[4]=a*n+E*g+x*s+k*C,r[5]=a*c+E*f+x*d+k*b,r[6]=a*u+E*T+x*A+k*S,r[7]=a*l+E*h+x*w+k*m,a=i[8],E=i[9],x=i[10],k=i[11],r[8]=a*n+E*g+x*s+k*C,r[9]=a*c+E*f+x*d+k*b,r[10]=a*u+E*T+x*A+k*S,r[11]=a*l+E*h+x*w+k*m,a=i[12],E=i[13],x=i[14],k=i[15],r[12]=a*n+E*g+x*s+k*C,r[13]=a*c+E*f+x*d+k*b,r[14]=a*u+E*T+x*A+k*S,r[15]=a*l+E*h+x*w+k*m,r}},5268:function(v){v.exports=p;function p(r,t,i,n,c,u,l){var g=1/(t-i),f=1/(n-c),T=1/(u-l);return r[0]=-2*g,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(t+i)*g,r[13]=(c+n)*f,r[14]=(l+u)*T,r[15]=1,r}},1120:function(v){v.exports=p;function p(r,t,i,n,c){var u=1/Math.tan(t/2),l=1/(n-c);return r[0]=u/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(c+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*c*n*l,r[15]=0,r}},4422:function(v){v.exports=p;function p(r,t,i,n){var c=n[0],u=n[1],l=n[2],g=Math.sqrt(c*c+u*u+l*l),f,T,h,s,d,A,w,C,b,S,m,a,E,x,k,I,N,F,z,O,_,B,W,$;return Math.abs(g)<1e-6?null:(g=1/g,c*=g,u*=g,l*=g,f=Math.sin(i),T=Math.cos(i),h=1-T,s=t[0],d=t[1],A=t[2],w=t[3],C=t[4],b=t[5],S=t[6],m=t[7],a=t[8],E=t[9],x=t[10],k=t[11],I=c*c*h+T,N=u*c*h+l*f,F=l*c*h-u*f,z=c*u*h-l*f,O=u*u*h+T,_=l*u*h+c*f,B=c*l*h+u*f,W=u*l*h-c*f,$=l*l*h+T,r[0]=s*I+C*N+a*F,r[1]=d*I+b*N+E*F,r[2]=A*I+S*N+x*F,r[3]=w*I+m*N+k*F,r[4]=s*z+C*O+a*_,r[5]=d*z+b*O+E*_,r[6]=A*z+S*O+x*_,r[7]=w*z+m*O+k*_,r[8]=s*B+C*W+a*$,r[9]=d*B+b*W+E*$,r[10]=A*B+S*W+x*$,r[11]=w*B+m*W+k*$,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},6109:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),c=Math.cos(i),u=t[4],l=t[5],g=t[6],f=t[7],T=t[8],h=t[9],s=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*c+T*n,r[5]=l*c+h*n,r[6]=g*c+s*n,r[7]=f*c+d*n,r[8]=T*c-u*n,r[9]=h*c-l*n,r[10]=s*c-g*n,r[11]=d*c-f*n,r}},7115:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),c=Math.cos(i),u=t[0],l=t[1],g=t[2],f=t[3],T=t[8],h=t[9],s=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*c-T*n,r[1]=l*c-h*n,r[2]=g*c-s*n,r[3]=f*c-d*n,r[8]=u*n+T*c,r[9]=l*n+h*c,r[10]=g*n+s*c,r[11]=f*n+d*c,r}},5240:function(v){v.exports=p;function p(r,t,i){var n=Math.sin(i),c=Math.cos(i),u=t[0],l=t[1],g=t[2],f=t[3],T=t[4],h=t[5],s=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*c+T*n,r[1]=l*c+h*n,r[2]=g*c+s*n,r[3]=f*c+d*n,r[4]=T*c-u*n,r[5]=h*c-l*n,r[6]=s*c-g*n,r[7]=d*c-f*n,r}},3668:function(v){v.exports=p;function p(r,t,i){var n=i[0],c=i[1],u=i[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*c,r[5]=t[5]*c,r[6]=t[6]*c,r[7]=t[7]*c,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},998:function(v){v.exports=p;function p(r,t,i){var n=i[0],c=i[1],u=i[2],l,g,f,T,h,s,d,A,w,C,b,S;return t===r?(r[12]=t[0]*n+t[4]*c+t[8]*u+t[12],r[13]=t[1]*n+t[5]*c+t[9]*u+t[13],r[14]=t[2]*n+t[6]*c+t[10]*u+t[14],r[15]=t[3]*n+t[7]*c+t[11]*u+t[15]):(l=t[0],g=t[1],f=t[2],T=t[3],h=t[4],s=t[5],d=t[6],A=t[7],w=t[8],C=t[9],b=t[10],S=t[11],r[0]=l,r[1]=g,r[2]=f,r[3]=T,r[4]=h,r[5]=s,r[6]=d,r[7]=A,r[8]=w,r[9]=C,r[10]=b,r[11]=S,r[12]=l*n+h*c+w*u+t[12],r[13]=g*n+s*c+C*u+t[13],r[14]=f*n+d*c+b*u+t[14],r[15]=T*n+A*c+S*u+t[15]),r}},2142:function(v){v.exports=p;function p(r,t){if(r===t){var i=t[1],n=t[2],c=t[3],u=t[6],l=t[7],g=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=i,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=c,r[13]=l,r[14]=g}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},4340:function(v,p,r){var t=r(957),i=r(7309);v.exports=g;function n(f,T){for(var h=[0,0,0,0],s=0;s<4;++s)for(var d=0;d<4;++d)h[d]+=f[4*s+d]*T[s];return h}function c(f,T,h,s,d){for(var A=n(s,n(h,n(T,[f[0],f[1],f[2],1]))),w=0;w<3;++w)A[w]/=A[3];return[.5*d[0]*(1+A[0]),.5*d[1]*(1-A[1])]}function u(f,T){if(f.length===2){for(var h=0,s=0,d=0;d<2;++d)h+=Math.pow(T[d]-f[0][d],2),s+=Math.pow(T[d]-f[1][d],2);return h=Math.sqrt(h),s=Math.sqrt(s),h+s<1e-6?[1,0]:[s/(h+s),h/(s+h)]}else if(f.length===3){var A=[0,0];return i(f[0],f[1],f[2],T,A),t(f,A)}return[]}function l(f,T){for(var h=[0,0,0],s=0;s<f.length;++s)for(var d=f[s],A=T[s],w=0;w<3;++w)h[w]+=A*d[w];return h}function g(f,T,h,s,d,A){if(f.length===1)return[0,f[0].slice()];for(var w=new Array(f.length),C=0;C<f.length;++C)w[C]=c(f[C],h,s,d,A);for(var b=0,S=1/0,C=0;C<w.length;++C){for(var m=0,a=0;a<2;++a)m+=Math.pow(w[C][a]-T[a],2);m<S&&(S=m,b=C)}for(var E=u(w,T),x=0,C=0;C<3;++C){if(E[C]<-.001||E[C]>1.0001)return null;x+=E[C]}return Math.abs(x-1)>.001?null:[b,l(f,E),E]}},2056:function(v,p,r){var t=r(6832),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),c=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),g=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),T=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),s=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:c,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:l,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:f,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:s,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,p,r){var t=1e-6,i=1e-6,n=r(5158),c=r(5827),u=r(2944),l=r(8931),g=r(115),f=r(104),T=r(7437),h=r(5050),s=r(9156),d=r(7212),A=r(5306),w=r(2056),C=r(4340),b=w.meshShader,S=w.wireShader,m=w.pointShader,a=w.pickShader,E=w.pointPickShader,x=w.contourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(J,Y,ae,j,q,oe,Q,X,se,ne,fe,ye,Se,we,_e,ke,Me,me,Ee,Be,Ue,De,He,nt,lt,$e,qe){this.gl=J,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Y,this.dirty=!0,this.triShader=ae,this.lineShader=j,this.pointShader=q,this.pickShader=oe,this.pointPickShader=Q,this.contourShader=X,this.trianglePositions=se,this.triangleColors=fe,this.triangleNormals=Se,this.triangleUVs=ye,this.triangleIds=ne,this.triangleVAO=we,this.triangleCount=0,this.lineWidth=1,this.edgePositions=_e,this.edgeColors=Me,this.edgeUVs=me,this.edgeIds=ke,this.edgeVAO=Ee,this.edgeCount=0,this.pointPositions=Be,this.pointColors=De,this.pointUVs=He,this.pointSizes=nt,this.pointIds=Ue,this.pointVAO=lt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=$e,this.contourVAO=qe,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var N=I.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(J){this.pickId=J};function F(J,Y){if(!Y||!Y.length)return 1;for(var ae=0;ae<Y.length;++ae){if(Y.length<2)return 1;if(Y[ae][0]===J)return Y[ae][1];if(Y[ae][0]>J&&ae>0){var j=(Y[ae][0]-J)/(Y[ae][0]-Y[ae-1][0]);return Y[ae][1]*(1-j)+j*Y[ae-1][1]}}return 1}function z(J,Y){for(var ae=s({colormap:J,nshades:256,format:"rgba"}),j=new Uint8Array(256*4),q=0;q<256;++q){for(var oe=ae[q],Q=0;Q<3;++Q)j[4*q+Q]=oe[Q];Y?j[4*q+3]=255*F(q/255,Y):j[4*q+3]=255*oe[3]}return h(j,[256,256,4],[4,0,1])}function O(J){for(var Y=J.length,ae=new Array(Y),j=0;j<Y;++j)ae[j]=J[j][2];return ae}N.highlight=function(J){if(!J||!this.contourEnable){this.contourCount=0;return}for(var Y=d(this.cells,this.intensity,J.intensity),ae=Y.cells,j=Y.vertexIds,q=Y.vertexWeights,oe=ae.length,Q=A.mallocFloat32(2*3*oe),X=0,se=0;se<oe;++se)for(var ne=ae[se],fe=0;fe<2;++fe){var ye=ne[0];ne.length===2&&(ye=ne[fe]);for(var Se=j[ye][0],we=j[ye][1],_e=q[ye],ke=1-_e,Me=this.positions[Se],me=this.positions[we],Ee=0;Ee<3;++Ee)Q[X++]=_e*Me[Ee]+ke*me[Ee]}this.contourCount=X/3|0,this.contourPositions.update(Q.subarray(0,X)),A.free(Q)},N.update=function(J){J=J||{};var Y=this.gl;this.dirty=!0,"contourEnable"in J&&(this.contourEnable=J.contourEnable),"contourColor"in J&&(this.contourColor=J.contourColor),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"lightPosition"in J&&(this.lightPosition=J.lightPosition),this.hasAlpha=!1,"opacity"in J&&(this.opacity=J.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in J&&(this.opacityscale=J.opacityscale,this.hasAlpha=!0),"ambient"in J&&(this.ambientLight=J.ambient),"diffuse"in J&&(this.diffuseLight=J.diffuse),"specular"in J&&(this.specularLight=J.specular),"roughness"in J&&(this.roughness=J.roughness),"fresnel"in J&&(this.fresnel=J.fresnel),J.texture?(this.texture.dispose(),this.texture=l(Y,J.texture)):J.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Y.LINEAR,this.texture.setPixels(z(J.colormap,this.opacityscale)),this.texture.generateMipmap());var ae=J.cells,j=J.positions;if(!(!j||!ae)){var q=[],oe=[],Q=[],X=[],se=[],ne=[],fe=[],ye=[],Se=[],we=[],_e=[],ke=[],Me=[],me=[];this.cells=ae,this.positions=j;var Ee=J.vertexNormals,Be=J.cellNormals,Ue=J.vertexNormalsEpsilon===void 0?t:J.vertexNormalsEpsilon,De=J.faceNormalsEpsilon===void 0?i:J.faceNormalsEpsilon;J.useFacetNormals&&!Be&&(Be=g.faceNormals(ae,j,De)),!Be&&!Ee&&(Ee=g.vertexNormals(ae,j,Ue));var He=J.vertexColors,nt=J.cellColors,lt=J.meshColor||[1,1,1,1],$e=J.vertexUVs,qe=J.vertexIntensity,ct=J.cellUVs,dt=J.cellIntensity,gt=1/0,At=-1/0;if(!$e&&!ct)if(qe)if(J.vertexIntensityBounds)gt=+J.vertexIntensityBounds[0],At=+J.vertexIntensityBounds[1];else for(var Rt=0;Rt<qe.length;++Rt){var Vt=qe[Rt];gt=Math.min(gt,Vt),At=Math.max(At,Vt)}else if(dt)if(J.cellIntensityBounds)gt=+J.cellIntensityBounds[0],At=+J.cellIntensityBounds[1];else for(var Rt=0;Rt<dt.length;++Rt){var Vt=dt[Rt];gt=Math.min(gt,Vt),At=Math.max(At,Vt)}else for(var Rt=0;Rt<j.length;++Rt){var Vt=j[Rt][2];gt=Math.min(gt,Vt),At=Math.max(At,Vt)}qe?this.intensity=qe:dt?this.intensity=dt:this.intensity=O(j),this.pickVertex=!(dt||nt);var Je=J.pointSizes,Ve=J.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Rt=0;Rt<j.length;++Rt)for(var Ie=j[Rt],Oe=0;Oe<3;++Oe)isNaN(Ie[Oe])||!isFinite(Ie[Oe])||(this.bounds[0][Oe]=Math.min(this.bounds[0][Oe],Ie[Oe]),this.bounds[1][Oe]=Math.max(this.bounds[1][Oe],Ie[Oe]));var Le=0,xe=0,pe=0;e:for(var Rt=0;Rt<ae.length;++Rt){var Ae=ae[Rt];switch(Ae.length){case 1:for(var Te=Ae[0],Ie=j[Te],Oe=0;Oe<3;++Oe)if(isNaN(Ie[Oe])||!isFinite(Ie[Oe]))continue e;we.push(Ie[0],Ie[1],Ie[2]);var Ne;He?Ne=He[Te]:nt?Ne=nt[Rt]:Ne=lt,this.opacityscale&&qe?oe.push(Ne[0],Ne[1],Ne[2],this.opacity*F((qe[Te]-gt)/(At-gt),this.opacityscale)):Ne.length===3?_e.push(Ne[0],Ne[1],Ne[2],this.opacity):(_e.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0));var Ye;$e?Ye=$e[Te]:qe?Ye=[(qe[Te]-gt)/(At-gt),0]:ct?Ye=ct[Rt]:dt?Ye=[(dt[Rt]-gt)/(At-gt),0]:Ye=[(Ie[2]-gt)/(At-gt),0],ke.push(Ye[0],Ye[1]),Je?Me.push(Je[Te]):Me.push(Ve),me.push(Rt),pe+=1;break;case 2:for(var Oe=0;Oe<2;++Oe)for(var Te=Ae[Oe],Ie=j[Te],et=0;et<3;++et)if(isNaN(Ie[et])||!isFinite(Ie[et]))continue e;for(var Oe=0;Oe<2;++Oe){var Te=Ae[Oe],Ie=j[Te];ne.push(Ie[0],Ie[1],Ie[2]);var Ne;He?Ne=He[Te]:nt?Ne=nt[Rt]:Ne=lt,this.opacityscale&&qe?oe.push(Ne[0],Ne[1],Ne[2],this.opacity*F((qe[Te]-gt)/(At-gt),this.opacityscale)):Ne.length===3?fe.push(Ne[0],Ne[1],Ne[2],this.opacity):(fe.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0));var Ye;$e?Ye=$e[Te]:qe?Ye=[(qe[Te]-gt)/(At-gt),0]:ct?Ye=ct[Rt]:dt?Ye=[(dt[Rt]-gt)/(At-gt),0]:Ye=[(Ie[2]-gt)/(At-gt),0],ye.push(Ye[0],Ye[1]),Se.push(Rt)}xe+=1;break;case 3:for(var Oe=0;Oe<3;++Oe)for(var Te=Ae[Oe],Ie=j[Te],et=0;et<3;++et)if(isNaN(Ie[et])||!isFinite(Ie[et]))continue e;for(var Oe=0;Oe<3;++Oe){var Te=Ae[2-Oe],Ie=j[Te];q.push(Ie[0],Ie[1],Ie[2]);var Ne;He?Ne=He[Te]:nt?Ne=nt[Rt]:Ne=lt,Ne?this.opacityscale&&qe?oe.push(Ne[0],Ne[1],Ne[2],this.opacity*F((qe[Te]-gt)/(At-gt),this.opacityscale)):Ne.length===3?oe.push(Ne[0],Ne[1],Ne[2],this.opacity):(oe.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0)):oe.push(.5,.5,.5,1);var Ye;$e?Ye=$e[Te]:qe?Ye=[(qe[Te]-gt)/(At-gt),0]:ct?Ye=ct[Rt]:dt?Ye=[(dt[Rt]-gt)/(At-gt),0]:Ye=[(Ie[2]-gt)/(At-gt),0],X.push(Ye[0],Ye[1]);var ft;Ee?ft=Ee[Te]:ft=Be[Rt],Q.push(ft[0],ft[1],ft[2]),se.push(Rt)}Le+=1;break}}this.pointCount=pe,this.edgeCount=xe,this.triangleCount=Le,this.pointPositions.update(we),this.pointColors.update(_e),this.pointUVs.update(ke),this.pointSizes.update(Me),this.pointIds.update(new Uint32Array(me)),this.edgePositions.update(ne),this.edgeColors.update(fe),this.edgeUVs.update(ye),this.edgeIds.update(new Uint32Array(Se)),this.trianglePositions.update(q),this.triangleColors.update(oe),this.triangleUVs.update(X),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(se))}},N.drawTransparent=N.draw=function(J){J=J||{};for(var Y=this.gl,ae=J.model||k,j=J.view||k,q=J.projection||k,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)oe[0][Q]=Math.max(oe[0][Q],this.clipBounds[0][Q]),oe[1][Q]=Math.min(oe[1][Q],this.clipBounds[1][Q]);var X={model:ae,view:j,projection:q,inverseModel:k.slice(),clipBounds:oe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};X.inverseModel=T(X.inverseModel,X.model),Y.disable(Y.CULL_FACE),this.texture.bind(0);var se=new Array(16);f(se,X.view,X.model),f(se,X.projection,se),T(se,se);for(var Q=0;Q<3;++Q)X.eyePosition[Q]=se[12+Q]/se[15];for(var ne=se[15],Q=0;Q<3;++Q)ne+=this.lightPosition[Q]*se[4*Q+3];for(var Q=0;Q<3;++Q){for(var fe=se[12+Q],ye=0;ye<3;++ye)fe+=se[4*ye+Q]*this.lightPosition[ye];X.lightPosition[Q]=fe/ne}if(this.triangleCount>0){var Se=this.triShader;Se.bind(),Se.uniforms=X,this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Se=this.lineShader;Se.bind(),Se.uniforms=X,this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Se=this.pointShader;Se.bind(),Se.uniforms=X,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Se=this.contourShader;Se.bind(),Se.uniforms=X,this.contourVAO.bind(),Y.drawArrays(Y.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function(J){J=J||{};for(var Y=this.gl,ae=J.model||k,j=J.view||k,q=J.projection||k,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)oe[0][Q]=Math.max(oe[0][Q],this.clipBounds[0][Q]),oe[1][Q]=Math.min(oe[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(ae),this._view=[].slice.call(j),this._projection=[].slice.call(q),this._resolution=[Y.drawingBufferWidth,Y.drawingBufferHeight];var X={model:ae,view:j,projection:q,clipBounds:oe,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=X,this.triangleCount>0&&(this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=X,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function(J){if(!J||J.id!==this.pickId)return null;for(var Y=J.value[0]+256*J.value[1]+65536*J.value[2],ae=this.cells[Y],j=this.positions,q=new Array(ae.length),oe=0;oe<ae.length;++oe)q[oe]=j[ae[oe]];var Q=J.coord[0],X=J.coord[1];if(!this.pickVertex){var se=this.positions[ae[0]],ne=this.positions[ae[1]],fe=this.positions[ae[2]],ye=[(se[0]+ne[0]+fe[0])/3,(se[1]+ne[1]+fe[1])/3,(se[2]+ne[2]+fe[2])/3];return{_cellCenter:!0,position:[Q,X],index:Y,cell:ae,cellId:Y,intensity:this.intensity[Y],dataCoordinate:ye}}var Se=C(q,[Q*this.pixelRatio,this._resolution[1]-X*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Se)return null;for(var we=Se[2],_e=0,oe=0;oe<ae.length;++oe)_e+=we[oe]*this.intensity[ae[oe]];return{position:Se[1],index:ae[Se[0]],cell:ae,cellId:Y,intensity:_e,dataCoordinate:this.positions[ae[Se[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function _(J){var Y=n(J,b.vertex,b.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.normal.location=4,Y}function B(J){var Y=n(J,S.vertex,S.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y}function W(J){var Y=n(J,m.vertex,m.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.pointSize.location=4,Y}function $(J){var Y=n(J,a.vertex,a.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y}function te(J){var Y=n(J,E.vertex,E.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y.attributes.pointSize.location=4,Y}function ie(J){var Y=n(J,x.vertex,x.fragment);return Y.attributes.position.location=0,Y}function ue(J,Y){arguments.length===1&&(Y=J,J=Y.gl);var ae=J.getExtension("OES_standard_derivatives")||J.getExtension("MOZ_OES_standard_derivatives")||J.getExtension("WEBKIT_OES_standard_derivatives");if(!ae)throw new Error("derivatives not supported");var j=_(J),q=B(J),oe=W(J),Q=$(J),X=te(J),se=ie(J),ne=l(J,h(new Uint8Array([255,255,255,255]),[1,1,4]));ne.generateMipmap(),ne.minFilter=J.LINEAR_MIPMAP_LINEAR,ne.magFilter=J.LINEAR;var fe=c(J),ye=c(J),Se=c(J),we=c(J),_e=c(J),ke=u(J,[{buffer:fe,type:J.FLOAT,size:3},{buffer:_e,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:J.FLOAT,size:4},{buffer:Se,type:J.FLOAT,size:2},{buffer:we,type:J.FLOAT,size:3}]),Me=c(J),me=c(J),Ee=c(J),Be=c(J),Ue=u(J,[{buffer:Me,type:J.FLOAT,size:3},{buffer:Be,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:J.FLOAT,size:4},{buffer:Ee,type:J.FLOAT,size:2}]),De=c(J),He=c(J),nt=c(J),lt=c(J),$e=c(J),qe=u(J,[{buffer:De,type:J.FLOAT,size:3},{buffer:$e,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:He,type:J.FLOAT,size:4},{buffer:nt,type:J.FLOAT,size:2},{buffer:lt,type:J.FLOAT,size:1}]),ct=c(J),dt=u(J,[{buffer:ct,type:J.FLOAT,size:3}]),gt=new I(J,ne,j,q,oe,Q,X,se,fe,_e,ye,Se,we,ke,Me,Be,me,Ee,Ue,De,$e,He,nt,lt,qe,ct,dt);return gt.update(Y),gt}v.exports=ue},4554:function(v,p,r){v.exports=l;var t=r(5827),i=r(5158),n=r(2709);function c(g,f,T){this.plot=g,this.vbo=f,this.shader=T}var u=c.prototype;u.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var g=[0,0],f=[0,0];return function(T,h,s,d,A){var w=this.plot,C=this.shader,b=w.gl;g[0]=T,g[1]=h,f[0]=s,f[1]=d,C.uniforms.lo=g,C.uniforms.hi=f,C.uniforms.color=A,b.drawArrays(b.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(g){var f=g.gl,T=t(f,[0,0,0,1,1,0,1,1]),h=i(f,n.boxVert,n.lineFrag);return new c(g,T,h)}},3016:function(v,p,r){v.exports=f;var t=r(5827),i=r(5158),n=r(5070),c=r(2709);function u(T,h,s,d){this.plot=T,this.vbo=h,this.shader=s,this.tickShader=d,this.ticks=[[],[]]}function l(T,h){return T-h}var g=u.prototype;g.draw=function(){var T=[0,0],h=[0,0],s=[0,0];return function(){for(var d=this.plot,A=this.vbo,w=this.shader,C=this.ticks,b=d.gl,S=d._tickBounds,m=d.dataBox,a=d.viewBox,E=d.gridLineWidth,x=d.gridLineColor,k=d.gridLineEnable,I=d.pixelRatio,N=0;N<2;++N){var F=S[N],z=S[N+2],O=z-F,_=.5*(m[N+2]+m[N]),B=m[N+2]-m[N];h[N]=2*O/B,T[N]=2*(F-_)/B}w.bind(),A.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=T,w.uniforms.dataScale=h;for(var W=0,N=0;N<2;++N){s[0]=s[1]=0,s[N]=1,w.uniforms.dataAxis=s,w.uniforms.lineWidth=E[N]/(a[N+2]-a[N])*I,w.uniforms.color=x[N];var $=C[N].length*6;k[N]&&$&&b.drawArrays(b.TRIANGLES,W,$),W+=$}}}(),g.drawTickMarks=function(){var T=[0,0],h=[0,0],s=[1,0],d=[0,1],A=[0,0],w=[0,0];return function(){for(var C=this.plot,b=this.vbo,S=this.tickShader,m=this.ticks,a=C.gl,E=C._tickBounds,x=C.dataBox,k=C.viewBox,I=C.pixelRatio,N=C.screenBox,F=N[2]-N[0],z=N[3]-N[1],O=k[2]-k[0],_=k[3]-k[1],B=0;B<2;++B){var W=E[B],$=E[B+2],te=$-W,ie=.5*(x[B+2]+x[B]),ue=x[B+2]-x[B];h[B]=2*te/ue,T[B]=2*(W-ie)/ue}h[0]*=O/F,T[0]*=O/F,h[1]*=_/z,T[1]*=_/z,S.bind(),b.bind(),S.attributes.dataCoord.pointer();var J=S.uniforms;J.dataShift=T,J.dataScale=h;var Y=C.tickMarkLength,ae=C.tickMarkWidth,j=C.tickMarkColor,q=0,oe=m[0].length*6,Q=Math.min(n.ge(m[0],(x[0]-E[0])/(E[2]-E[0]),l),m[0].length),X=Math.min(n.gt(m[0],(x[2]-E[0])/(E[2]-E[0]),l),m[0].length),se=q+6*Q,ne=6*Math.max(0,X-Q),fe=Math.min(n.ge(m[1],(x[1]-E[1])/(E[3]-E[1]),l),m[1].length),ye=Math.min(n.gt(m[1],(x[3]-E[1])/(E[3]-E[1]),l),m[1].length),Se=oe+6*fe,we=6*Math.max(0,ye-fe);A[0]=2*(k[0]-Y[1])/F-1,A[1]=(k[3]+k[1])/z-1,w[0]=Y[1]*I/F,w[1]=ae[1]*I/z,we&&(J.color=j[1],J.tickScale=w,J.dataAxis=d,J.screenOffset=A,a.drawArrays(a.TRIANGLES,Se,we)),A[0]=(k[2]+k[0])/F-1,A[1]=2*(k[1]-Y[0])/z-1,w[0]=ae[0]*I/F,w[1]=Y[0]*I/z,ne&&(J.color=j[0],J.tickScale=w,J.dataAxis=s,J.screenOffset=A,a.drawArrays(a.TRIANGLES,se,ne)),A[0]=2*(k[2]+Y[3])/F-1,A[1]=(k[3]+k[1])/z-1,w[0]=Y[3]*I/F,w[1]=ae[3]*I/z,we&&(J.color=j[3],J.tickScale=w,J.dataAxis=d,J.screenOffset=A,a.drawArrays(a.TRIANGLES,Se,we)),A[0]=(k[2]+k[0])/F-1,A[1]=2*(k[3]+Y[2])/z-1,w[0]=ae[2]*I/F,w[1]=Y[2]*I/z,ne&&(J.color=j[2],J.tickScale=w,J.dataAxis=s,J.screenOffset=A,a.drawArrays(a.TRIANGLES,se,ne))}}(),g.update=function(){var T=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1];return function(s){var d=s.ticks,A=s.bounds,w=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,b=[[],[]],S=0;S<2;++S)for(var m=b[S],a=d[S],E=A[S],x=A[S+2],k=0;k<a.length;++k){var I=(a[k].x-E)/(x-E);m.push(I);for(var N=0;N<6;++N)w[C++]=I,w[C++]=T[N],w[C++]=h[N]}this.ticks=b,this.vbo.update(w)}}(),g.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function f(T){var h=T.gl,s=t(h),d=i(h,c.gridVert,c.gridFrag),A=i(h,c.tickVert,c.gridFrag),w=new u(T,s,d,A);return w}},1154:function(v,p,r){v.exports=l;var t=r(5827),i=r(5158),n=r(2709);function c(g,f,T){this.plot=g,this.vbo=f,this.shader=T}var u=c.prototype;u.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var g=[0,0],f=[0,0];return function(T,h,s,d,A,w){var C=this.plot,b=this.shader,S=C.gl;g[0]=T,g[1]=h,f[0]=s,f[1]=d,b.uniforms.start=g,b.uniforms.end=f,b.uniforms.width=A*C.pixelRatio,b.uniforms.color=w,S.drawArrays(S.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(g){var f=g.gl,T=t(f,[-1,-1,-1,1,1,-1,1,1]),h=i(f,n.lineVert,n.lineFrag),s=new c(g,T,h);return s}},2709:function(v,p,r){var t=r(6832),i=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:i,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:i,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:i,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,p,r){v.exports=f;var t=r(5827),i=r(5158),n=r(6946),c=r(5070),u=r(2709);function l(T,h,s){this.plot=T,this.vbo=h,this.shader=s,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var g=l.prototype;g.drawTicks=function(){var T=[0,0],h=[0,0],s=[0,0];return function(d){var A=this.plot,w=this.shader,C=this.tickX[d],b=this.tickOffset[d],S=A.gl,m=A.viewBox,a=A.dataBox,E=A.screenBox,x=A.pixelRatio,k=A.tickEnable,I=A.tickPad,N=A.tickColor,F=A.tickAngle,z=A.labelEnable,O=A.labelPad,_=A.labelColor,B=A.labelAngle,W=this.labelOffset[d],$=this.labelCount[d],te=c.lt(C,a[d]),ie=c.le(C,a[d+2]);T[0]=T[1]=0,T[d]=1,h[d]=(m[2+d]+m[d])/(E[2+d]-E[d])-1;var ue=2/E[2+(d^1)]-E[d^1];h[d^1]=ue*m[d^1]-1,k[d]&&(h[d^1]-=ue*x*I[d],te<ie&&b[ie]>b[te]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=h,w.uniforms.color=N[d],w.uniforms.angle=F[d],S.drawArrays(S.TRIANGLES,b[te],b[ie]-b[te]))),z[d]&&$&&(h[d^1]-=ue*x*O[d],w.uniforms.dataAxis=s,w.uniforms.screenOffset=h,w.uniforms.color=_[d],w.uniforms.angle=B[d],S.drawArrays(S.TRIANGLES,W,$)),h[d^1]=ue*m[2+(d^1)]-1,k[d+2]&&(h[d^1]+=ue*x*I[d+2],te<ie&&b[ie]>b[te]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=h,w.uniforms.color=N[d+2],w.uniforms.angle=F[d+2],S.drawArrays(S.TRIANGLES,b[te],b[ie]-b[te]))),z[d+2]&&$&&(h[d^1]+=ue*x*O[d+2],w.uniforms.dataAxis=s,w.uniforms.screenOffset=h,w.uniforms.color=_[d+2],w.uniforms.angle=B[d+2],S.drawArrays(S.TRIANGLES,W,$))}}(),g.drawTitle=function(){var T=[0,0],h=[0,0];return function(){var s=this.plot,d=this.shader,A=s.gl,w=s.screenBox,C=s.titleCenter,b=s.titleAngle,S=s.titleColor,m=s.pixelRatio;if(this.titleCount){for(var a=0;a<2;++a)h[a]=2*(C[a]*m-w[a])/(w[2+a]-w[a])-1;d.bind(),d.uniforms.dataAxis=T,d.uniforms.screenOffset=h,d.uniforms.angle=b,d.uniforms.color=S,A.drawArrays(A.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=function(){var T=[0,0],h=[0,0],s=[0,0];return function(){var d=this.plot,A=this.shader,w=d._tickBounds,C=d.dataBox,b=d.screenBox,S=d.viewBox;A.bind();for(var m=0;m<2;++m){var a=w[m],E=w[m+2],x=E-a,k=.5*(C[m+2]+C[m]),I=C[m+2]-C[m],N=S[m],F=S[m+2],z=F-N,O=b[m],_=b[m+2],B=_-O;h[m]=2*x/I*z/B,T[m]=2*(a-k)/I*z/B}s[1]=2*d.pixelRatio/(b[3]-b[1]),s[0]=s[1]*(b[3]-b[1])/(b[2]-b[0]),A.uniforms.dataScale=h,A.uniforms.dataShift=T,A.uniforms.textScale=s,this.vbo.bind(),A.attributes.textCoordinate.pointer()}}(),g.update=function(T){var h=[],s=T.ticks,d=T.bounds,A,w,C,b,S;for(S=0;S<2;++S){var m=[Math.floor(h.length/3)],a=[-1/0],E=s[S];for(A=0;A<E.length;++A){var x=E[A],k=x.x,I=x.text,N=x.font||"sans-serif";b=x.fontSize||12;for(var F=1/(d[S+2]-d[S]),z=d[S],O=I.split(`
`),_=0;_<O.length;_++)for(C=n(N,O[_]).data,w=0;w<C.length;w+=2)h.push(C[w]*b,-C[w+1]*b-_*b*1.2,(k-z)*F);m.push(Math.floor(h.length/3)),a.push(k)}this.tickOffset[S]=m,this.tickX[S]=a}for(S=0;S<2;++S){for(this.labelOffset[S]=Math.floor(h.length/3),C=n(T.labelFont[S],T.labels[S],{textAlign:"center"}).data,b=T.labelSize[S],A=0;A<C.length;A+=2)h.push(C[A]*b,-C[A+1]*b,0);this.labelCount[S]=Math.floor(h.length/3)-this.labelOffset[S]}for(this.titleOffset=Math.floor(h.length/3),C=n(T.titleFont,T.title).data,b=T.titleSize,A=0;A<C.length;A+=2)h.push(C[A]*b,-C[A+1]*b,0);this.titleCount=Math.floor(h.length/3)-this.titleOffset,this.vbo.update(h)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(T){var h=T.gl,s=t(h),d=i(h,u.textVert,u.textFrag),A=new l(T,s,d);return A}},2117:function(v,p,r){v.exports=h;var t=r(2611),i=r(3016),n=r(5613),c=r(1154),u=r(4554);function l(s,d){this.gl=s,this.pickBuffer=d,this.screenBox=[0,0,s.drawingBufferWidth,s.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var g=l.prototype;g.setDirty=function(){this.dirty=this.pickDirty=!0},g.setOverlayDirty=function(){this.dirty=!0},g.nextDepthValue=function(){return this._depthCounter++/65536},g.draw=function(){return function(){var s=this.gl,d=this.screenBox,A=this.viewBox,w=this.dataBox,C=this.pixelRatio,b=this.grid,S=this.line,m=this.text,a=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,s.bindFramebuffer(s.FRAMEBUFFER,null),s.enable(s.SCISSOR_TEST),s.disable(s.DEPTH_TEST),s.depthFunc(s.LESS),s.depthMask(!1),s.enable(s.BLEND),s.blendEquation(s.FUNC_ADD,s.FUNC_ADD),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),this.borderColor){s.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var E=this.borderColor;s.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT)}s.scissor(A[0],A[1],A[2]-A[0],A[3]-A[1]),s.viewport(A[0],A[1],A[2]-A[0],A[3]-A[1]);var x=this.backgroundColor;s.clearColor(x[0]*x[3],x[1]*x[3],x[2]*x[3],x[3]),s.clear(s.COLOR_BUFFER_BIT),b.draw();var k=this.zeroLineEnable,I=this.zeroLineColor,N=this.zeroLineWidth;if(k[0]||k[1]){S.bind();for(var F=0;F<2;++F)if(!(!k[F]||!(w[F]<=0&&w[F+2]>=0))){var z=d[F]-w[F]*(d[F+2]-d[F])/(w[F+2]-w[F]);F===0?S.drawLine(z,d[1],z,d[3],N[F],I[F]):S.drawLine(d[0],z,d[2],z,N[F],I[F])}}for(var F=0;F<a.length;++F)a[F].draw();s.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),s.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),S.bind();var O=this.borderLineEnable,_=this.borderLineWidth,B=this.borderLineColor;O[1]&&S.drawLine(A[0],A[1]-.5*_[1]*C,A[0],A[3]+.5*_[3]*C,_[1],B[1]),O[0]&&S.drawLine(A[0]-.5*_[0]*C,A[1],A[2]+.5*_[2]*C,A[1],_[0],B[0]),O[3]&&S.drawLine(A[2],A[1]-.5*_[1]*C,A[2],A[3]+.5*_[3]*C,_[3],B[3]),O[2]&&S.drawLine(A[0]-.5*_[0]*C,A[3],A[2]+.5*_[2]*C,A[3],_[2],B[2]),m.bind();for(var F=0;F<2;++F)m.drawTicks(F);this.titleEnable&&m.drawTitle();for(var W=this.overlays,F=0;F<W.length;++F)W[F].draw();s.disable(s.SCISSOR_TEST),s.disable(s.BLEND),s.depthMask(!0)}}}(),g.drawPick=function(){return function(){if(!this.static){var s=this.pickBuffer;this.gl,this._pickTimeout=null,s.begin();for(var d=1,A=this.objects,w=0;w<A.length;++w)d=A[w].drawPick(d);s.end()}}}(),g.pick=function(){return function(s,d){if(!this.static){var A=this.pixelRatio,w=this.pickPixelRatio,C=this.viewBox,b=Math.round((s-C[0]/A)*w)|0,S=Math.round((d-C[1]/A)*w)|0,m=this.pickBuffer.query(b,S,this.pickRadius);if(!m)return null;for(var a=m.id+(m.value[0]<<8)+(m.value[1]<<16)+(m.value[2]<<24),E=this.objects,x=0;x<E.length;++x){var k=E[x].pick(b,S,a);if(k)return k}return null}}}();function f(s){for(var d=s.slice(),A=0;A<d.length;++A)d[A]=d[A].slice();return d}function T(s,d){return s.x-d.x}g.setScreenBox=function(s){var d=this.screenBox,A=this.pixelRatio;d[0]=Math.round(s[0]*A)|0,d[1]=Math.round(s[1]*A)|0,d[2]=Math.round(s[2]*A)|0,d[3]=Math.round(s[3]*A)|0,this.setDirty()},g.setDataBox=function(s){var d=this.dataBox,A=d[0]!==s[0]||d[1]!==s[1]||d[2]!==s[2]||d[3]!==s[3];A&&(d[0]=s[0],d[1]=s[1],d[2]=s[2],d[3]=s[3],this.setDirty())},g.setViewBox=function(s){var d=this.pixelRatio,A=this.viewBox;A[0]=Math.round(s[0]*d)|0,A[1]=Math.round(s[1]*d)|0,A[2]=Math.round(s[2]*d)|0,A[3]=Math.round(s[3]*d)|0;var w=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((s[2]-s[0])*w)|0,Math.round((s[3]-s[1])*w)|0],this.setDirty()},g.update=function(s){s=s||{};var d=this.gl;this.pixelRatio=s.pixelRatio||1;var A=this.pixelRatio;this.pickPixelRatio=Math.max(A,1),this.setScreenBox(s.screenBox||[0,0,d.drawingBufferWidth/A,d.drawingBufferHeight/A]),this.screenBox,this.setViewBox(s.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/A,.125*(this.screenBox[3]-this.screenBox[1])/A,.875*(this.screenBox[2]-this.screenBox[0])/A,.875*(this.screenBox[3]-this.screenBox[1])/A]);var w=this.viewBox,C=(w[2]-w[0])/(w[3]-w[1]);this.setDataBox(s.dataBox||[-10,-10/C,10,10/C]),this.borderColor=s.borderColor!==!1?(s.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(s.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(s.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(s.gridLineWidth||[1,1]).slice(),this.gridLineColor=f(s.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(s.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(s.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=f(s.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(s.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(s.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=f(s.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(s.titleCenter||[.5*(w[0]+w[2])/A,(w[3]+120)/A]).slice(),this.titleEnable=!("titleEnable"in s)||!!s.titleEnable,this.titleAngle=s.titleAngle||0,this.titleColor=(s.titleColor||[0,0,0,1]).slice(),this.labelPad=(s.labelPad||[15,15,15,15]).slice(),this.labelAngle=(s.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(s.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=f(s.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(s.tickPad||[15,15,15,15]).slice(),this.tickAngle=(s.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(s.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=f(s.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(s.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(s.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=f(s.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var b=s.ticks||[[],[]],S=this._tickBounds;S[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(var m=0;m<2;++m){var a=b[m].slice(0);a.length!==0&&(a.sort(T),S[m]=Math.min(S[m],a[0].x),S[m+2]=Math.max(S[m+2],a[a.length-1].x))}this.grid.update({bounds:S,ticks:b}),this.text.update({bounds:S,ticks:b,labels:s.labels||["x","y"],labelSize:s.labelSize||[12,12],labelFont:s.labelFont||["sans-serif","sans-serif"],title:s.title||"",titleSize:s.titleSize||18,titleFont:s.titleFont||"sans-serif"}),this.static=!!s.static,this.setDirty()},g.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var s=this.objects.length-1;s>=0;--s)this.objects[s].dispose();this.objects.length=0;for(var s=this.overlays.length-1;s>=0;--s)this.overlays[s].dispose();this.overlays.length=0,this.gl=null},g.addObject=function(s){this.objects.indexOf(s)<0&&(this.objects.push(s),this.setDirty())},g.removeObject=function(s){for(var d=this.objects,A=0;A<d.length;++A)if(d[A]===s){d.splice(A,1),this.setDirty();break}},g.addOverlay=function(s){this.overlays.indexOf(s)<0&&(this.overlays.push(s),this.setOverlayDirty())},g.removeOverlay=function(s){for(var d=this.overlays,A=0;A<d.length;++A)if(d[A]===s){d.splice(A,1),this.setOverlayDirty();break}};function h(s){var d=s.gl,A=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),w=new l(d,A);return w.grid=i(w),w.text=n(w),w.line=c(w),w.box=u(w),w.update(s),w}},4296:function(v,p,r){v.exports=g;var t=r(8161),i=r(1152),n=r(6145),c=r(6475),u=r(2565),l=r(5233);function g(f,T){f=f||document.body,T=T||{};var h=[.01,1/0];"distanceLimits"in T&&(h[0]=T.distanceLimits[0],h[1]=T.distanceLimits[1]),"zoomMin"in T&&(h[0]=T.zoomMin),"zoomMax"in T&&(h[1]=T.zoomMax);var s=i({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:h}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=0,w=f.clientWidth,C=f.clientHeight,b={keyBindingMode:"rotate",enableWheel:!0,view:s,element:f,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:s.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var S=t(),m=this.delay,a=S-2*m;s.idle(S-m),s.recalcMatrix(a),s.flush(S-(100+m*2));for(var E=!0,x=s.computedMatrix,k=0;k<16;++k)E=E&&d[k]===x[k],d[k]=x[k];var I=f.clientWidth===w&&f.clientHeight===C;return w=f.clientWidth,C=f.clientHeight,E?!I:(A=Math.exp(s.computedRadius[0]),!0)},lookAt:function(S,m,a){s.lookAt(s.lastT(),S,m,a)},rotate:function(S,m,a){s.rotate(s.lastT(),S,m,a)},pan:function(S,m,a){s.pan(s.lastT(),S,m,a)},translate:function(S,m,a){s.translate(s.lastT(),S,m,a)}};return Object.defineProperties(b,{matrix:{get:function(){return s.computedMatrix},set:function(S){return s.setMatrix(s.lastT(),S),s.computedMatrix},enumerable:!0},mode:{get:function(){return s.getMode()},set:function(S){var m=s.computedUp.slice(),a=s.computedEye.slice(),E=s.computedCenter.slice();if(s.setMode(S),S==="turntable"){var x=t();s._active.lookAt(x,a,E,m),s._active.lookAt(x+500,a,E,[0,0,1]),s._active.flush(x)}return s.getMode()},enumerable:!0},center:{get:function(){return s.computedCenter},set:function(S){return s.lookAt(s.lastT(),null,S),s.computedCenter},enumerable:!0},eye:{get:function(){return s.computedEye},set:function(S){return s.lookAt(s.lastT(),S),s.computedEye},enumerable:!0},up:{get:function(){return s.computedUp},set:function(S){return s.lookAt(s.lastT(),null,null,S),s.computedUp},enumerable:!0},distance:{get:function(){return A},set:function(S){return s.setDistance(s.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return s.getDistanceLimits(h)},set:function(S){return s.setDistanceLimits(S),S},enumerable:!0}}),f.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),b._lastX=-1,b._lastY=-1,b._lastMods={shift:!1,control:!1,alt:!1,meta:!1},b.enableMouseListeners=function(){b.mouseListener=n(f,S),f.addEventListener("touchstart",function(m){var a=u(m.changedTouches[0],f);S(0,a[0],a[1],b._lastMods),S(1,a[0],a[1],b._lastMods)},l?{passive:!0}:!1),f.addEventListener("touchmove",function(m){var a=u(m.changedTouches[0],f);S(1,a[0],a[1],b._lastMods),m.preventDefault()},l?{passive:!1}:!1),f.addEventListener("touchend",function(m){S(0,b._lastX,b._lastY,b._lastMods)},l?{passive:!0}:!1);function S(m,a,E,x){var k=b.keyBindingMode;if(k!==!1){var I=k==="rotate",N=k==="pan",F=k==="zoom",z=!!x.control,O=!!x.alt,_=!!x.shift,B=!!(m&1),W=!!(m&2),$=!!(m&4),te=1/f.clientHeight,ie=te*(a-b._lastX),ue=te*(E-b._lastY),J=b.flipX?1:-1,Y=b.flipY?1:-1,ae=Math.PI*b.rotateSpeed,j=t();if(b._lastX!==-1&&b._lastY!==-1&&((I&&B&&!z&&!O&&!_||B&&!z&&!O&&_)&&s.rotate(j,J*ae*ie,-Y*ae*ue,0),(N&&B&&!z&&!O&&!_||W||B&&z&&!O&&!_)&&s.pan(j,-b.translateSpeed*ie*A,b.translateSpeed*ue*A,0),F&&B&&!z&&!O&&!_||$||B&&!z&&O&&!_)){var q=-b.zoomSpeed*ue/window.innerHeight*(j-s.lastT())*100;s.pan(j,0,0,A*(Math.exp(q)-1))}return b._lastX=a,b._lastY=E,b._lastMods=x,!0}}b.wheelListener=c(f,function(m,a){if(b.keyBindingMode!==!1&&b.enableWheel){var E=b.flipX?1:-1,x=b.flipY?1:-1,k=t();if(Math.abs(m)>Math.abs(a))s.rotate(k,0,0,-m*E*Math.PI*b.rotateSpeed/window.innerWidth);else if(!b._ortho){var I=-b.zoomSpeed*x*a/window.innerHeight*(k-s.lastT())/20;s.pan(k,0,0,A*(Math.exp(I)-1))}}},!0)},b.enableMouseListeners(),b}},8245:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),c=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return i(u,n,c,null,[{name:"position",type:"vec2"}])}},1059:function(v,p,r){var t=r(4296),i=r(7453),n=r(2771),c=r(6496),u=r(2611),l=r(4234),g=r(8126),f=r(6145),T=r(1120),h=r(5268),s=r(8245),d=r(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:S,createCamera:t};function A(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function w(a,E){var x=null;try{x=a.getContext("webgl",E),x||(x=a.getContext("experimental-webgl",E))}catch{return null}return x}function C(a){var E=Math.round(Math.log(Math.abs(a))/Math.log(10));if(E<0){var x=Math.round(Math.pow(10,-E));return Math.ceil(a*x)/x}else if(E>0){var x=Math.round(Math.pow(10,E));return Math.ceil(a/x)*x}return Math.ceil(a)}function b(a){return typeof a=="boolean"?a:!0}function S(a){a=a||{},a.camera=a.camera||{};var E=a.canvas;if(!E)if(E=document.createElement("canvas"),a.container){var x=a.container;x.appendChild(E)}else document.body.appendChild(E);var k=a.gl;if(k||(a.glOptions&&(d=!!a.glOptions.preserveDrawingBuffer),k=w(E,a.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!k)throw new Error("webgl not supported");var I=a.bounds||[[-10,-10,-10],[10,10,10]],N=new A,F=l(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!d}),z=s(k),O=a.cameraObject&&a.cameraObject._ortho===!0||a.camera.projection&&a.camera.projection.type==="orthographic"||!1,_={eye:a.camera.eye||[2,0,0],center:a.camera.center||[0,0,0],up:a.camera.up||[0,1,0],zoomMin:a.camera.zoomMax||.1,zoomMax:a.camera.zoomMin||100,mode:a.camera.mode||"turntable",_ortho:O},B=a.axes||{},W=i(k,B);W.enable=!B.disable;var $=a.spikes||{},te=c(k,$),ie=[],ue=[],J=[],Y=[],ae=!0,Q=!0,j=new Array(16),q=new Array(16),oe={view:null,projection:j,model:q,_ortho:!1},Q=!0,X=[k.drawingBufferWidth,k.drawingBufferHeight],se=a.cameraObject||t(E,_),ne={gl:k,contextLost:!1,pixelRatio:a.pixelRatio||1,canvas:E,selection:N,camera:se,axes:W,axesPixels:null,spikes:te,bounds:I,objects:ie,shape:X,aspect:a.aspectRatio||[1,1,1],pickRadius:a.pickRadius||10,zNear:a.zNear||.01,zFar:a.zFar||1e3,fovy:a.fovy||Math.PI/4,clearColor:a.clearColor||[0,0,0,0],autoResize:b(a.autoResize),autoBounds:b(a.autoBounds),autoScale:!!a.autoScale,autoCenter:b(a.autoCenter),clipToBounds:b(a.clipToBounds),snapToData:!!a.snapToData,onselect:a.onselect||null,onrender:a.onrender||null,onclick:a.onclick||null,cameraParams:oe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Be){this.aspect[0]=Be.x,this.aspect[1]=Be.y,this.aspect[2]=Be.z,Q=!0},setBounds:function(Be,Ue){this.bounds[0][Be]=Ue.min,this.bounds[1][Be]=Ue.max},setClearColor:function(Be){this.clearColor=Be},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},fe=[k.drawingBufferWidth/ne.pixelRatio|0,k.drawingBufferHeight/ne.pixelRatio|0];function ye(){if(!ne._stopped&&ne.autoResize){var Be=E.parentNode,Ue=1,De=1;Be&&Be!==document.body?(Ue=Be.clientWidth,De=Be.clientHeight):(Ue=window.innerWidth,De=window.innerHeight);var He=Math.ceil(Ue*ne.pixelRatio)|0,nt=Math.ceil(De*ne.pixelRatio)|0;if(He!==E.width||nt!==E.height){E.width=He,E.height=nt;var lt=E.style;lt.position=lt.position||"absolute",lt.left="0px",lt.top="0px",lt.width=Ue+"px",lt.height=De+"px",ae=!0}}}ne.autoResize&&ye(),window.addEventListener("resize",ye);function Se(){for(var Be=ie.length,Ue=Y.length,De=0;De<Ue;++De)J[De]=0;e:for(var De=0;De<Be;++De){var He=ie[De],nt=He.pickSlots;if(!nt){ue[De]=-1;continue}for(var lt=0;lt<Ue;++lt)if(J[lt]+nt<255){ue[De]=lt,He.setPickBase(J[lt]+1),J[lt]+=nt;continue e}var $e=u(k,X);ue[De]=Ue,Y.push($e),J.push(nt),He.setPickBase(1),Ue+=1}for(;Ue>0&&J[Ue-1]===0;)J.pop(),Y.pop().dispose()}ne.update=function(Be){ne._stopped||(ae=!0,Q=!0)},ne.add=function(Be){ne._stopped||(Be.axes=W,ie.push(Be),ue.push(-1),ae=!0,Q=!0,Se())},ne.remove=function(Be){if(!ne._stopped){var Ue=ie.indexOf(Be);Ue<0||(ie.splice(Ue,1),ue.pop(),ae=!0,Q=!0,Se())}},ne.dispose=function(){if(!ne._stopped&&(ne._stopped=!0,window.removeEventListener("resize",ye),E.removeEventListener("webglcontextlost",we),ne.mouseListener.enabled=!1,!ne.contextLost)){W.dispose(),te.dispose();for(var Be=0;Be<ie.length;++Be)ie[Be].dispose();F.dispose();for(var Be=0;Be<Y.length;++Be)Y[Be].dispose();z.dispose(),k=null,W=null,te=null,ie=[]}},ne._mouseRotating=!1,ne._prevButtons=0,ne.enableMouseListeners=function(){ne.mouseListener=f(E,function(Be,Ue,De){if(!ne._stopped){var He=Y.length,nt=ie.length,lt=N.object;N.distance=1/0,N.mouse[0]=Ue,N.mouse[1]=De,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var $e=!1;if(Be&&ne._prevButtons)ne._mouseRotating=!0;else{ne._mouseRotating&&(Q=!0),ne._mouseRotating=!1;for(var qe=0;qe<He;++qe){var ct=Y[qe].query(Ue,fe[1]-De-1,ne.pickRadius);if(ct){if(ct.distance>N.distance)continue;for(var dt=0;dt<nt;++dt){var gt=ie[dt];if(ue[dt]===qe){var At=gt.pick(ct);At&&(N.buttons=Be,N.screen=ct.coord,N.distance=ct.distance,N.object=gt,N.index=At.distance,N.dataPosition=At.position,N.dataCoordinate=At.dataCoordinate,N.data=At,$e=!0)}}}}}lt&&lt!==N.object&&(lt.highlight&&lt.highlight(null),ae=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),ae=!0),$e=$e||N.object!==lt,$e&&ne.onselect&&ne.onselect(N),Be&1&&!(ne._prevButtons&1)&&ne.onclick&&ne.onclick(N),ne._prevButtons=Be}})};function we(){if(ne.contextLost)return!0;k.isContextLost()&&(ne.contextLost=!0,ne.mouseListener.enabled=!1,ne.selection.object=null,ne.oncontextloss&&ne.oncontextloss())}E.addEventListener("webglcontextlost",we);function _e(){if(!we()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Be=ie.length,Ue=Y.length,De=0;De<Ue;++De){var He=Y[De];He.shape=fe,He.begin();for(var nt=0;nt<Be;++nt)if(ue[nt]===De){var lt=ie[nt];lt.drawPick&&(lt.pixelRatio=1,lt.drawPick(oe))}He.end()}}}var ke=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Me=[ke[0].slice(),ke[1].slice()];function me(){if(!we()){ye();var Be=ne.camera.tick();oe.view=ne.camera.matrix,ae=ae||Be,Q=Q||Be,W.pixelRatio=ne.pixelRatio,te.pixelRatio=ne.pixelRatio;var Ue=ie.length,De=ke[0],He=ke[1];De[0]=De[1]=De[2]=1/0,He[0]=He[1]=He[2]=-1/0;for(var nt=0;nt<Ue;++nt){var lt=ie[nt];lt.pixelRatio=ne.pixelRatio,lt.axes=ne.axes,ae=ae||!!lt.dirty,Q=Q||!!lt.dirty;var $e=lt.bounds;if($e)for(var qe=$e[0],ct=$e[1],dt=0;dt<3;++dt)De[dt]=Math.min(De[dt],qe[dt]),He[dt]=Math.max(He[dt],ct[dt])}var gt=ne.bounds;if(ne.autoBounds)for(var dt=0;dt<3;++dt){if(He[dt]<De[dt])De[dt]=-1,He[dt]=1;else{De[dt]===He[dt]&&(De[dt]-=1,He[dt]+=1);var At=.05*(He[dt]-De[dt]);De[dt]=De[dt]-At,He[dt]=He[dt]+At}gt[0][dt]=De[dt],gt[1][dt]=He[dt]}for(var Rt=!1,dt=0;dt<3;++dt)Rt=Rt||Me[0][dt]!==gt[0][dt]||Me[1][dt]!==gt[1][dt],Me[0][dt]=gt[0][dt],Me[1][dt]=gt[1][dt];if(Q=Q||Rt,ae=ae||Rt,!!ae){if(Rt){for(var Vt=[0,0,0],nt=0;nt<3;++nt)Vt[nt]=C((gt[1][nt]-gt[0][nt])/10);W.autoTicks?W.update({bounds:gt,tickSpacing:Vt}):W.update({bounds:gt})}var Je=k.drawingBufferWidth,Ve=k.drawingBufferHeight;X[0]=Je,X[1]=Ve,fe[0]=Math.max(Je/ne.pixelRatio,1)|0,fe[1]=Math.max(Ve/ne.pixelRatio,1)|0,m(ne,O);for(var nt=0;nt<Ue;++nt){var lt=ie[nt];lt.axesBounds=gt,ne.clipToBounds&&(lt.clipBounds=gt)}N.object&&(ne.snapToData?te.position=N.dataCoordinate:te.position=N.dataPosition,te.bounds=gt),Q&&(Q=!1,_e()),ne.axesPixels=n(ne.axes,oe,Je,Ve),ne.onrender&&ne.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,Je,Ve),ne.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var Ie=!1;W.enable&&(Ie=Ie||W.isTransparent(),W.draw(oe)),te.axes=W,N.object&&te.draw(oe),k.disable(k.CULL_FACE);for(var nt=0;nt<Ue;++nt){var lt=ie[nt];lt.axes=W,lt.pixelRatio=ne.pixelRatio,lt.isOpaque&&lt.isOpaque()&&lt.draw(oe),lt.isTransparent&&lt.isTransparent()&&(Ie=!0)}if(Ie){F.shape=X,F.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),W.enable&&W.isTransparent()&&W.drawTransparent(oe);for(var nt=0;nt<Ue;++nt){var lt=ie[nt];lt.isOpaque&&lt.isOpaque()&&lt.draw(oe)}k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),W.isTransparent()&&W.drawTransparent(oe);for(var nt=0;nt<Ue;++nt){var lt=ie[nt];lt.isTransparent&&lt.isTransparent()&&lt.drawTransparent(oe)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),z.bind(),F.color[0].bind(0),z.uniforms.accumBuffer=0,g(k),k.disable(k.BLEND)}ae=!1;for(var nt=0;nt<Ue;++nt)ie[nt].dirty=!1}}}function Ee(){ne._stopped||ne.contextLost||(me(),requestAnimationFrame(Ee))}return ne.enableMouseListeners(),Ee(),ne.redraw=function(){ne._stopped||(ae=!0,me())},ne}function m(a,E){var x=a.bounds,k=a.cameraParams,I=k.projection,N=k.model,F=a.gl.drawingBufferWidth,z=a.gl.drawingBufferHeight,O=a.zNear,_=a.zFar,B=a.fovy,W=F/z;E?(h(I,-W,W,-1,1,O,_),k._ortho=!0):(T(I,B,W,O,_),k._ortho=!1);for(var $=0;$<16;++$)N[$]=0;N[15]=1;for(var te=0,$=0;$<3;++$)te=Math.max(te,x[1][$]-x[0][$]);for(var $=0;$<3;++$)a.autoScale?N[5*$]=a.aspect[$]/(x[1][$]-x[0][$]):N[5*$]=1/te,a.autoCenter&&(N[12+$]=-N[5*$]*.5*(x[0][$]+x[1][$]))}},8023:function(v,p,r){var t=r(6832);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,p,r){var t=r(5158),i=r(5827),n=r(5306),c=r(8023);v.exports=f;function u(T,h,s,d,A){this.plot=T,this.offsetBuffer=h,this.pickBuffer=s,this.shader=d,this.pickShader=A,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=u.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(T){var h;T=T||{};function s(m,a){return m in T?T[m]:a}this.sizeMin=s("sizeMin",.5),this.sizeMax=s("sizeMax",20),this.color=s("color",[1,0,0,1]).slice(),this.areaRatio=s("areaRatio",1),this.borderColor=s("borderColor",[0,0,0,1]).slice(),this.blend=s("blend",!1);var d=T.positions.length>>>1,A=T.positions instanceof Float32Array,w=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=d,C=T.positions,b=A?C:n.mallocFloat32(C.length),S=w?T.idToIndex:n.mallocInt32(d);if(A||b.set(C),!w)for(b.set(C),h=0;h<d;h++)S[h]=h;this.points=C,this.offsetBuffer.update(b),this.pickBuffer.update(S),A||n.free(b),w||n.free(S),this.pointCount=d,this.pickOffset=0};function g(T,h){var s=0,d=T.length>>>1,A;for(A=0;A<d;A++){var w=T[A*2],C=T[A*2+1];w>=h[0]&&w<=h[2]&&C>=h[1]&&C<=h[3]&&s++}return s}l.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(s){var d=s!==void 0,A=d?this.pickShader:this.shader,w=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return s;var b=C[2]-C[0],S=C[3]-C[1],m=g(this.points,C),a=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(m,.33333)));T[0]=2/b,T[4]=2/S,T[6]=-2*C[0]/b-1,T[7]=-2*C[1]/S-1,this.offsetBuffer.bind(),A.bind(),A.attributes.position.pointer(),A.uniforms.matrix=T,A.uniforms.color=this.color,A.uniforms.borderColor=this.borderColor,A.uniforms.pointCloud=a<5,A.uniforms.pointSize=a,A.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(h[0]=s&255,h[1]=s>>8&255,h[2]=s>>16&255,h[3]=s>>24&255,this.pickBuffer.bind(),A.attributes.pickId.pointer(w.UNSIGNED_BYTE),A.uniforms.pickOffset=h,this.pickOffset=s);var E=w.getParameter(w.BLEND),x=w.getParameter(w.DITHER);return E&&!this.blend&&w.disable(w.BLEND),x&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),E&&!this.blend&&w.enable(w.BLEND),x&&w.enable(w.DITHER),s+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(T,h,s){var d=this.pickOffset,A=this.pointCount;if(s<d||s>=d+A)return null;var w=s-d,C=this.points;return{object:this,pointId:w,dataCoord:[C[2*w],C[2*w+1]]}};function f(T,h){var s=T.gl,d=i(s),A=i(s),w=t(s,c.pointVertex,c.pointFragment),C=t(s,c.pickVertex,c.pickFragment),b=new u(T,d,A,w,C);return b.update(h),T.addObject(b),b}},6093:function(v){v.exports=p;function p(r,t,i,n){var c=t[0],u=t[1],l=t[2],g=t[3],f=i[0],T=i[1],h=i[2],s=i[3],d,A,w,C,b;return A=c*f+u*T+l*h+g*s,A<0&&(A=-A,f=-f,T=-T,h=-h,s=-s),1-A>1e-6?(d=Math.acos(A),w=Math.sin(d),C=Math.sin((1-n)*d)/w,b=Math.sin(n*d)/w):(C=1-n,b=n),r[0]=C*c+b*f,r[1]=C*u+b*T,r[2]=C*l+b*h,r[3]=C*g+b*s,r}},8240:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},4123:function(v,p,r){var t=r(875);v.exports=n;var i={};function n(c,u,l){var g=i[u];if(g||(g=i[u]={}),c in g)return g[c];var f={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};f.triangles=!0;var T=t(c,f);f.triangles=!1;var h=t(c,f),s,d;if(l&&l!==1){for(s=0;s<T.positions.length;++s)for(d=0;d<T.positions[s].length;++d)T.positions[s][d]/=l;for(s=0;s<h.positions.length;++s)for(d=0;d<h.positions[s].length;++d)h.positions[s][d]/=l}var A=[[1/0,1/0],[-1/0,-1/0]],w=h.positions.length;for(s=0;s<w;++s){var C=h.positions[s];for(d=0;d<2;++d)A[0][d]=Math.min(A[0][d],C[d]),A[1][d]=Math.max(A[1][d],C[d])}return g[c]=[T,h,A]}},9282:function(v,p,r){var t=r(5158),i=r(6832),n=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),c=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),g=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),f=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:n,fragment:l,attributes:f},h={vertex:c,fragment:l,attributes:f},s={vertex:u,fragment:l,attributes:f},d={vertex:n,fragment:g,attributes:f},A={vertex:c,fragment:g,attributes:f},w={vertex:u,fragment:g,attributes:f};function C(b,S){var m=t(b,S),a=m.attributes;return a.position.location=0,a.color.location=1,a.glyph.location=2,a.id.location=3,m}p.createPerspective=function(b){return C(b,T)},p.createOrtho=function(b){return C(b,h)},p.createProject=function(b){return C(b,s)},p.createPickPerspective=function(b){return C(b,d)},p.createPickOrtho=function(b){return C(b,A)},p.createPickProject=function(b){return C(b,w)}},2182:function(v,p,r){var t=r(3596),i=r(5827),n=r(2944),c=r(5306),u=r(104),l=r(9282),g=r(4123),f=r(8240),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=ue;function h(J,Y){var ae=J[0],j=J[1],q=J[2],oe=J[3];return J[0]=Y[0]*ae+Y[4]*j+Y[8]*q+Y[12]*oe,J[1]=Y[1]*ae+Y[5]*j+Y[9]*q+Y[13]*oe,J[2]=Y[2]*ae+Y[6]*j+Y[10]*q+Y[14]*oe,J[3]=Y[3]*ae+Y[7]*j+Y[11]*q+Y[15]*oe,J}function s(J,Y,ae,j){return h(j,j),h(j,j),h(j,j)}function d(J,Y){this.index=J,this.dataCoordinate=this.position=Y}function A(J){return J===!0||J>1?1:J}function w(J,Y,ae,j,q,oe,Q,X,se,ne,fe,ye){this.gl=J,this.pixelRatio=1,this.shader=Y,this.orthoShader=ae,this.projectShader=j,this.pointBuffer=q,this.colorBuffer=oe,this.glyphBuffer=Q,this.idBuffer=X,this.vao=se,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ne,this.pickOrthoShader=fe,this.pickProjectShader=ye,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var C=w.prototype;C.pickSlots=1,C.setPickBase=function(J){this.pickId=J},C.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},C.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var b=[0,0],S=[0,0,0],m=[0,0,0],a=[0,0,0,1],E=[0,0,0,1],x=T.slice(),k=[0,0,0],I=[[0,0,0],[0,0,0]];function N(J){return J[0]=J[1]=J[2]=0,J}function F(J,Y){return J[0]=Y[0],J[1]=Y[1],J[2]=Y[2],J[3]=1,J}function z(J,Y,ae,j){return J[0]=Y[0],J[1]=Y[1],J[2]=Y[2],J[ae]=j,J}function O(J){for(var Y=I,ae=0;ae<2;++ae)for(var j=0;j<3;++j)Y[ae][j]=Math.max(Math.min(J[ae][j],1e8),-1e8);return Y}function _(J,Y,ae,j){var q=Y.axesProject,oe=Y.gl,Q=J.uniforms,X=ae.model||T,se=ae.view||T,ne=ae.projection||T,fe=Y.axesBounds,ye=O(Y.clipBounds),Se;Y.axes&&Y.axes.lastCubeProps?Se=Y.axes.lastCubeProps.axis:Se=[1,1,1],b[0]=2/oe.drawingBufferWidth,b[1]=2/oe.drawingBufferHeight,J.bind(),Q.view=se,Q.projection=ne,Q.screenSize=b,Q.highlightId=Y.highlightId,Q.highlightScale=Y.highlightScale,Q.clipBounds=ye,Q.pickGroup=Y.pickId/255,Q.pixelRatio=j;for(var we=0;we<3;++we)if(q[we]){Q.scale=Y.projectScale[we],Q.opacity=Y.projectOpacity[we];for(var _e=x,ke=0;ke<16;++ke)_e[ke]=0;for(var ke=0;ke<4;++ke)_e[5*ke]=1;_e[5*we]=0,Se[we]<0?_e[12+we]=fe[0][we]:_e[12+we]=fe[1][we],u(_e,X,_e),Q.model=_e;var Me=(we+1)%3,me=(we+2)%3,Ee=N(S),Be=N(m);Ee[Me]=1,Be[me]=1;var Ue=s(ne,se,X,F(a,Ee)),De=s(ne,se,X,F(E,Be));if(Math.abs(Ue[1])>Math.abs(De[1])){var He=Ue;Ue=De,De=He,He=Ee,Ee=Be,Be=He;var nt=Me;Me=me,me=nt}Ue[0]<0&&(Ee[Me]=-1),De[1]>0&&(Be[me]=-1);for(var lt=0,$e=0,ke=0;ke<4;++ke)lt+=Math.pow(X[4*Me+ke],2),$e+=Math.pow(X[4*me+ke],2);Ee[Me]/=Math.sqrt(lt),Be[me]/=Math.sqrt($e),Q.axes[0]=Ee,Q.axes[1]=Be,Q.fragClipBounds[0]=z(k,ye[0],we,-1e8),Q.fragClipBounds[1]=z(k,ye[1],we,1e8),Y.vao.bind(),Y.vao.draw(oe.TRIANGLES,Y.vertexCount),Y.lineWidth>0&&(oe.lineWidth(Y.lineWidth*j),Y.vao.draw(oe.LINES,Y.lineVertexCount,Y.vertexCount)),Y.vao.unbind()}}var B=[-1e8,-1e8,-1e8],W=[1e8,1e8,1e8],$=[B,W];function te(J,Y,ae,j,q,oe,Q){var X=ae.gl;if((oe===ae.projectHasAlpha||Q)&&_(Y,ae,j,q),oe===ae.hasAlpha||Q){J.bind();var se=J.uniforms;se.model=j.model||T,se.view=j.view||T,se.projection=j.projection||T,b[0]=2/X.drawingBufferWidth,b[1]=2/X.drawingBufferHeight,se.screenSize=b,se.highlightId=ae.highlightId,se.highlightScale=ae.highlightScale,se.fragClipBounds=$,se.clipBounds=ae.axes.bounds,se.opacity=ae.opacity,se.pickGroup=ae.pickId/255,se.pixelRatio=q,ae.vao.bind(),ae.vao.draw(X.TRIANGLES,ae.vertexCount),ae.lineWidth>0&&(X.lineWidth(ae.lineWidth*q),ae.vao.draw(X.LINES,ae.lineVertexCount,ae.vertexCount)),ae.vao.unbind()}}C.draw=function(J){var Y=this.useOrtho?this.orthoShader:this.shader;te(Y,this.projectShader,this,J,this.pixelRatio,!1,!1)},C.drawTransparent=function(J){var Y=this.useOrtho?this.orthoShader:this.shader;te(Y,this.projectShader,this,J,this.pixelRatio,!0,!1)},C.drawPick=function(J){var Y=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;te(Y,this.pickProjectShader,this,J,1,!0,!0)},C.pick=function(J){if(!J||J.id!==this.pickId)return null;var Y=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(Y>=this.pointCount||Y<0)return null;var ae=this.points[Y],j=this._selectResult;j.index=Y;for(var q=0;q<3;++q)j.position[q]=j.dataCoordinate[q]=ae[q];return j},C.highlight=function(J){if(!J)this.highlightId=[1,1,1,1];else{var Y=J.index,ae=Y&255,j=Y>>8&255,q=Y>>16&255;this.highlightId=[ae/255,j/255,q/255,0]}};function ie(J,Y,ae,j){var q;Array.isArray(J)?Y<J.length?q=J[Y]:q=void 0:q=J,q=f(q);var oe=!0;t(q)&&(q="",oe=!1);var Q=g(q,ae,j);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:oe}}C.update=function(J){if(J=J||{},"perspective"in J&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(Array.isArray(J.project))this.axesProject=J.project;else{var Y=!!J.project;this.axesProject=[Y,Y,Y]}if("projectScale"in J)if(Array.isArray(J.projectScale))this.projectScale=J.projectScale.slice();else{var ae=+J.projectScale;this.projectScale=[ae,ae,ae]}if(this.projectHasAlpha=!1,"projectOpacity"in J){if(Array.isArray(J.projectOpacity))this.projectOpacity=J.projectOpacity.slice();else{var ae=+J.projectOpacity;this.projectOpacity=[ae,ae,ae]}for(var j=0;j<3;++j)this.projectOpacity[j]=A(this.projectOpacity[j]),this.projectOpacity[j]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=A(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var q=J.position,oe=J.font||"normal",Q=J.alignment||[0,0],X,se;if(Q.length===2)X=Q[0],se=Q[1];else{X=[],se=[];for(var j=0;j<Q.length;++j)X[j]=Q[j][0],se[j]=Q[j][1]}var ne=[1/0,1/0,1/0],fe=[-1/0,-1/0,-1/0],ye=J.glyph,Se=J.color,we=J.size,_e=J.angle,ke=J.lineColor,Me=-1,me=0,Ee=0,Be=0;if(q.length){Be=q.length;e:for(var j=0;j<Be;++j){for(var Ue=q[j],De=0;De<3;++De)if(isNaN(Ue[De])||!isFinite(Ue[De]))continue e;var He=ie(ye,j,oe,this.pixelRatio),nt=He.mesh,lt=He.lines,$e=He.bounds;me+=nt.cells.length*3,Ee+=lt.edges.length*2}}var qe=me+Ee,ct=c.mallocFloat(3*qe),dt=c.mallocFloat(4*qe),gt=c.mallocFloat(2*qe),At=c.mallocUint32(qe);if(qe>0){var Rt=0,Vt=me,Je=[0,0,0,1],Ve=[0,0,0,1],Ie=Array.isArray(Se)&&Array.isArray(Se[0]),Oe=Array.isArray(ke)&&Array.isArray(ke[0]);e:for(var j=0;j<Be;++j){Me+=1;for(var Ue=q[j],De=0;De<3;++De){if(isNaN(Ue[De])||!isFinite(Ue[De]))continue e;fe[De]=Math.max(fe[De],Ue[De]),ne[De]=Math.min(ne[De],Ue[De])}var He=ie(ye,j,oe,this.pixelRatio),nt=He.mesh,lt=He.lines,$e=He.bounds,Le=He.visible;if(!Le)Je=[1,1,1,0];else if(Array.isArray(Se)){var xe;if(Ie?j<Se.length?xe=Se[j]:xe=[0,0,0,0]:xe=Se,xe.length===3){for(var De=0;De<3;++De)Je[De]=xe[De];Je[3]=1}else if(xe.length===4){for(var De=0;De<4;++De)Je[De]=xe[De];!this.hasAlpha&&xe[3]<1&&(this.hasAlpha=!0)}}else Je[0]=Je[1]=Je[2]=0,Je[3]=1;if(!Le)Ve=[1,1,1,0];else if(Array.isArray(ke)){var xe;if(Oe?j<ke.length?xe=ke[j]:xe=[0,0,0,0]:xe=ke,xe.length===3){for(var De=0;De<3;++De)Ve[De]=xe[De];Ve[De]=1}else if(xe.length===4){for(var De=0;De<4;++De)Ve[De]=xe[De];!this.hasAlpha&&xe[3]<1&&(this.hasAlpha=!0)}}else Ve[0]=Ve[1]=Ve[2]=0,Ve[3]=1;var pe=.5;Le?Array.isArray(we)?j<we.length?pe=+we[j]:pe=12:we?pe=+we:this.useOrtho&&(pe=12):pe=0;var Ae=0;Array.isArray(_e)?j<_e.length?Ae=+_e[j]:Ae=0:_e&&(Ae=+_e);for(var Te=Math.cos(Ae),Ne=Math.sin(Ae),Ue=q[j],De=0;De<3;++De)fe[De]=Math.max(fe[De],Ue[De]),ne[De]=Math.min(ne[De],Ue[De]);var Ye=X,et=se,Ye=0;Array.isArray(X)?j<X.length?Ye=X[j]:Ye=0:X&&(Ye=X);var et=0;Array.isArray(se)?j<se.length?et=se[j]:et=0:se&&(et=se),Ye*=Ye>0?1-$e[0][0]:Ye<0?1+$e[1][0]:1,et*=et>0?1-$e[0][1]:et<0?1+$e[1][1]:1;for(var ft=[Ye,et],_t=nt.cells||[],$t=nt.positions||[],De=0;De<_t.length;++De)for(var pt=_t[De],Yt=0;Yt<3;++Yt){for(var Jt=0;Jt<3;++Jt)ct[3*Rt+Jt]=Ue[Jt];for(var Jt=0;Jt<4;++Jt)dt[4*Rt+Jt]=Je[Jt];At[Rt]=Me;var Tt=$t[pt[Yt]];gt[2*Rt]=pe*(Te*Tt[0]-Ne*Tt[1]+ft[0]),gt[2*Rt+1]=pe*(Ne*Tt[0]+Te*Tt[1]+ft[1]),Rt+=1}for(var _t=lt.edges,$t=lt.positions,De=0;De<_t.length;++De)for(var pt=_t[De],Yt=0;Yt<2;++Yt){for(var Jt=0;Jt<3;++Jt)ct[3*Vt+Jt]=Ue[Jt];for(var Jt=0;Jt<4;++Jt)dt[4*Vt+Jt]=Ve[Jt];At[Vt]=Me;var Tt=$t[pt[Yt]];gt[2*Vt]=pe*(Te*Tt[0]-Ne*Tt[1]+ft[0]),gt[2*Vt+1]=pe*(Ne*Tt[0]+Te*Tt[1]+ft[1]),Vt+=1}}}this.bounds=[ne,fe],this.points=q,this.pointCount=q.length,this.vertexCount=me,this.lineVertexCount=Ee,this.pointBuffer.update(ct),this.colorBuffer.update(dt),this.glyphBuffer.update(gt),this.idBuffer.update(At),c.free(ct),c.free(dt),c.free(gt),c.free(At)},C.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ue(J){var Y=J.gl,ae=l.createPerspective(Y),j=l.createOrtho(Y),q=l.createProject(Y),oe=l.createPickPerspective(Y),Q=l.createPickOrtho(Y),X=l.createPickProject(Y),se=i(Y),ne=i(Y),fe=i(Y),ye=i(Y),Se=n(Y,[{buffer:se,size:3,type:Y.FLOAT},{buffer:ne,size:4,type:Y.FLOAT},{buffer:fe,size:2,type:Y.FLOAT},{buffer:ye,size:4,type:Y.UNSIGNED_BYTE,normalized:!0}]),we=new w(Y,ae,j,q,se,ne,fe,ye,Se,oe,Q,X);return we.update(J),we}},1884:function(v,p,r){var t=r(6832);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,p,r){var t=r(5158),i=r(5827),n=r(1884);v.exports=l;function c(g,f,T){this.plot=g,this.boxBuffer=f,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=c.prototype;u.draw=function(){if(this.enabled){var g=this.plot,f=this.selectBox,T=this.borderWidth;this.innerFill;var h=this.innerColor;this.outerFill;var s=this.outerColor,d=this.borderColor,A=g.box,w=g.screenBox,C=g.dataBox,b=g.viewBox,S=g.pixelRatio,m=(f[0]-C[0])*(b[2]-b[0])/(C[2]-C[0])+b[0],a=(f[1]-C[1])*(b[3]-b[1])/(C[3]-C[1])+b[1],E=(f[2]-C[0])*(b[2]-b[0])/(C[2]-C[0])+b[0],x=(f[3]-C[1])*(b[3]-b[1])/(C[3]-C[1])+b[1];if(m=Math.max(m,b[0]),a=Math.max(a,b[1]),E=Math.min(E,b[2]),x=Math.min(x,b[3]),!(E<m||x<a)){A.bind();var k=w[2]-w[0],I=w[3]-w[1];if(this.outerFill&&(A.drawBox(0,0,k,a,s),A.drawBox(0,a,m,x,s),A.drawBox(0,x,k,I,s),A.drawBox(E,a,k,x,s)),this.innerFill&&A.drawBox(m,a,E,x,h),T>0){var N=T*S;A.drawBox(m-N,a-N,E+N,a+N,d),A.drawBox(m-N,x-N,E+N,x+N,d),A.drawBox(m-N,a-N,m+N,x+N,d),A.drawBox(E-N,a-N,E+N,x+N,d)}}}},u.update=function(g){g=g||{},this.innerFill=!!g.innerFill,this.outerFill=!!g.outerFill,this.innerColor=(g.innerColor||[0,0,0,.5]).slice(),this.outerColor=(g.outerColor||[0,0,0,.5]).slice(),this.borderColor=(g.borderColor||[0,0,0,1]).slice(),this.borderWidth=g.borderWidth||0,this.selectBox=(g.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(g,f){var T=g.gl,h=i(T,[0,0,0,1,1,0,1,1]),s=t(T,n.boxVertex,n.boxFragment),d=new c(g,h,s);return d.update(f),g.addOverlay(d),d}},2611:function(v,p,r){v.exports=T;var t=r(4234),i=r(5306),n=r(5050),c=r(2288).nextPow2,u=function(h,s,d){for(var A=1e8,w=-1,C=-1,b=h.shape[0],S=h.shape[1],m=0;m<b;m++)for(var a=0;a<S;a++){var E=h.get(m,a,0),x=h.get(m,a,1),k=h.get(m,a,2),I=h.get(m,a,3);if(E<255||x<255||k<255||I<255){var N=s-m,F=d-a,z=N*N+F*F;z<A&&(A=z,w=m,C=a)}}return[w,C,A]};function l(h,s,d,A,w){this.coord=[h,s],this.id=d,this.value=A,this.distance=w}function g(h,s,d){this.gl=h,this.fbo=s,this.buffer=d,this._readTimeout=null;var A=this;this._readCallback=function(){A.gl&&(s.bind(),h.readPixels(0,0,s.shape[0],s.shape[1],h.RGBA,h.UNSIGNED_BYTE,A.buffer),A._readTimeout=null)}}var f=g.prototype;Object.defineProperty(f,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var s=this.fbo.shape[0],d=this.fbo.shape[1];if(d*s*4>this.buffer.length){i.free(this.buffer);for(var A=this.buffer=i.mallocUint8(c(d*s*4)),w=0;w<d*s*4;++w)A[w]=255}return h}}}),f.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},f.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},f.query=function(h,s,d){if(!this.gl)return null;var A=this.fbo.shape.slice();h=h|0,s=s|0,typeof d!="number"&&(d=1);var w=Math.min(Math.max(h-d,0),A[0])|0,C=Math.min(Math.max(h+d,0),A[0])|0,b=Math.min(Math.max(s-d,0),A[1])|0,S=Math.min(Math.max(s+d,0),A[1])|0;if(C<=w||S<=b)return null;var m=[C-w,S-b],a=n(this.buffer,[m[0],m[1],4],[4,A[0]*4,1],4*(w+A[0]*b)),E=u(a.hi(m[0],m[1],1),d,d),x=E[0],k=E[1];if(x<0||Math.pow(this.radius,2)<E[2])return null;var I=a.get(x,k,0),N=a.get(x,k,1),F=a.get(x,k,2),z=a.get(x,k,3);return new l(x+w|0,k+b|0,I,[N,F,z],Math.sqrt(E[2]))},f.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(h,s){var d=s[0],A=s[1],w={},C=t(h,d,A,w),b=i.mallocUint8(d*A*4);return new g(h,C,b)}},5158:function(v,p,r){var t=r(9016),i=r(4280),n=r(3984),c=r(1628),u=r(2631),l=r(9068);function g(s){this.gl=s,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var f=g.prototype;f.bind=function(){this.program||this._relink();var s,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),A=this.gl.lastAttribCount;if(d>A)for(s=A;s<d;s++)this.gl.enableVertexAttribArray(s);else if(A>d)for(s=d;s<A;s++)this.gl.disableVertexAttribArray(s);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},f.dispose=function(){for(var s=this.gl.lastAttribCount,d=0;d<s;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(s,d){return s.name<d.name?-1:1}f.update=function(s,d,A,w){if(!d||arguments.length===1){var C=s;s=C.vertex,d=C.fragment,A=C.uniforms,w=C.attributes}var b=this,S=b.gl,m=b._vref;b._vref=c.shader(S,S.VERTEX_SHADER,s),m&&m.dispose(),b.vertShader=b._vref.shader;var a=this._fref;if(b._fref=c.shader(S,S.FRAGMENT_SHADER,d),a&&a.dispose(),b.fragShader=b._fref.shader,!A||!w){var E=S.createProgram();if(S.attachShader(E,b.fragShader),S.attachShader(E,b.vertShader),S.linkProgram(E),!S.getProgramParameter(E,S.LINK_STATUS)){var x=S.getProgramInfoLog(E);throw new l(x,"Error linking program:"+x)}A=A||u.uniforms(S,E),w=w||u.attributes(S,E),S.deleteProgram(E)}w=w.slice(),w.sort(T);var k=[],I=[],N=[],F;for(F=0;F<w.length;++F){var z=w[F];if(z.type.indexOf("mat")>=0){for(var O=z.type.charAt(z.type.length-1)|0,_=new Array(O),B=0;B<O;++B)_[B]=N.length,I.push(z.name+"["+B+"]"),typeof z.location=="number"?N.push(z.location+B):Array.isArray(z.location)&&z.location.length===O&&typeof z.location[B]=="number"?N.push(z.location[B]|0):N.push(-1);k.push({name:z.name,type:z.type,locations:_})}else k.push({name:z.name,type:z.type,locations:[N.length]}),I.push(z.name),typeof z.location=="number"?N.push(z.location|0):N.push(-1)}var W=0;for(F=0;F<N.length;++F)if(N[F]<0){for(;N.indexOf(W)>=0;)W+=1;N[F]=W}var $=new Array(A.length);function te(){b.program=c.program(S,b._vref,b._fref,I,N);for(var ie=0;ie<A.length;++ie)$[ie]=S.getUniformLocation(b.program,A[ie].name)}te(),b._relink=te,b.types={uniforms:n(A),attributes:n(w)},b.attributes=i(S,b,k,N),Object.defineProperty(b,"uniforms",t(S,b,A,$))};function h(s,d,A,w,C){var b=new g(s);return b.update(d,A,w,C),b}v.exports=h},9068:function(v){function p(r,t,i){this.shortMessage=t||"",this.longMessage=i||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(i?`
`+i:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},4280:function(v,p,r){v.exports=g;var t=r(9068);function i(f,T,h,s,d,A){this._gl=f,this._wrapper=T,this._index=h,this._locations=s,this._dimension=d,this._constFunc=A}var n=i.prototype;n.pointer=function(T,h,s,d){var A=this,w=A._gl,C=A._locations[A._index];w.vertexAttribPointer(C,A._dimension,T||w.FLOAT,!!h,s||0,d||0),w.enableVertexAttribArray(C)},n.set=function(f,T,h,s){return this._constFunc(this._locations[this._index],f,T,h,s)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(f){return f!==this._locations[this._index]&&(this._locations[this._index]=f|0,this._wrapper.program=null),f|0}});var c=[function(f,T,h){return h.length===void 0?f.vertexAttrib1f(T,h):f.vertexAttrib1fv(T,h)},function(f,T,h,s){return h.length===void 0?f.vertexAttrib2f(T,h,s):f.vertexAttrib2fv(T,h)},function(f,T,h,s,d){return h.length===void 0?f.vertexAttrib3f(T,h,s,d):f.vertexAttrib3fv(T,h)},function(f,T,h,s,d,A){return h.length===void 0?f.vertexAttrib4f(T,h,s,d,A):f.vertexAttrib4fv(T,h)}];function u(f,T,h,s,d,A,w){var C=c[d],b=new i(f,T,h,s,d,C);Object.defineProperty(A,w,{set:function(S){return f.disableVertexAttribArray(s[h]),C(f,s[h],S),S},get:function(){return b},enumerable:!0})}function l(f,T,h,s,d,A,w){for(var C=new Array(d),b=new Array(d),S=0;S<d;++S)u(f,T,h[S],s,d,C,S),b[S]=C[S];Object.defineProperty(C,"location",{set:function(E){if(Array.isArray(E))for(var x=0;x<d;++x)b[x].location=E[x];else for(var x=0;x<d;++x)b[x].location=E+x;return E},get:function(){for(var E=new Array(d),x=0;x<d;++x)E[x]=s[h[x]];return E},enumerable:!0}),C.pointer=function(E,x,k,I){E=E||f.FLOAT,x=!!x,k=k||d*d,I=I||0;for(var N=0;N<d;++N){var F=s[h[N]];f.vertexAttribPointer(F,d,E,x,k,I+N*d),f.enableVertexAttribArray(F)}};var m=new Array(d),a=f["vertexAttrib"+d+"fv"];Object.defineProperty(A,w,{set:function(E){for(var x=0;x<d;++x){var k=s[h[x]];if(f.disableVertexAttribArray(k),Array.isArray(E[0]))a.call(f,k,E[x]);else{for(var I=0;I<d;++I)m[I]=E[d*x+I];a.call(f,k,m)}}return E},get:function(){return C},enumerable:!0})}function g(f,T,h,s){for(var d={},A=0,w=h.length;A<w;++A){var C=h[A],b=C.name,S=C.type,m=C.locations;switch(S){case"bool":case"int":case"float":u(f,T,m[0],s,1,d,b);break;default:if(S.indexOf("vec")>=0){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new t("","Invalid data type for attribute "+b+": "+S);u(f,T,m[0],s,a,d,b)}else if(S.indexOf("mat")>=0){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new t("","Invalid data type for attribute "+b+": "+S);l(f,T,m,s,a,d,b)}else throw new t("","Unknown data type for attribute "+b+": "+S);break}}return d}},9016:function(v,p,r){var t=r(3984),i=r(9068);v.exports=u;function n(l){return function(){return l}}function c(l,g){for(var f=new Array(l),T=0;T<l;++T)f[T]=g;return f}function u(l,g,f,T){function h(S){return function(m,a,E){return m.getUniform(a.program,E[S])}}function s(S){return function(a){for(var E=d("",S),x=0;x<E.length;++x){var k=E[x],I=k[0],N=k[1];if(T[N]){var F=a;if(typeof I=="string"&&(I.indexOf(".")===0||I.indexOf("[")===0)){var z=I;if(I.indexOf(".")===0&&(z=I.slice(1)),z.indexOf("]")===z.length-1){var O=z.indexOf("["),_=z.slice(0,O),B=z.slice(O+1,z.length-1);F=_?a[_][B]:a[B]}else F=a[z]}var W=f[N].type,$;switch(W){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(T[N],F);break;case"float":l.uniform1f(T[N],F);break;default:var te=W.indexOf("vec");if(0<=te&&te<=1&&W.length===4+te){if($=W.charCodeAt(W.length-1)-48,$<2||$>4)throw new i("","Invalid data type");switch(W.charAt(0)){case"b":case"i":l["uniform"+$+"iv"](T[N],F);break;case"v":l["uniform"+$+"fv"](T[N],F);break;default:throw new i("","Unrecognized data type for vector "+name+": "+W)}}else if(W.indexOf("mat")===0&&W.length===4){if($=W.charCodeAt(W.length-1)-48,$<2||$>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+W);l["uniformMatrix"+$+"fv"](T[N],!1,F);break}else throw new i("","Unknown uniform data type for "+name+": "+W)}}}}}function d(S,m){if(typeof m!="object")return[[S,m]];var a=[];for(var E in m){var x=m[E],k=S;parseInt(E)+""===E?k+="["+E+"]":k+="."+E,typeof x=="object"?a.push.apply(a,d(k,x)):a.push([k,x])}return a}function A(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var m=S.indexOf("vec");if(0<=m&&m<=1&&S.length===4+m){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new i("","Invalid data type");return S.charAt(0)==="b"?c(a,!1):c(a,0)}else if(S.indexOf("mat")===0&&S.length===4){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+S);return c(a*a,0)}else throw new i("","Unknown uniform data type for "+name+": "+S)}}function w(S,m,a){if(typeof a=="object"){var E=C(a);Object.defineProperty(S,m,{get:n(E),set:s(a),enumerable:!0,configurable:!1})}else T[a]?Object.defineProperty(S,m,{get:h(a),set:s(a),enumerable:!0,configurable:!1}):S[m]=A(f[a].type)}function C(S){var m;if(Array.isArray(S)){m=new Array(S.length);for(var a=0;a<S.length;++a)w(m,a,S[a])}else{m={};for(var E in S)w(m,E,S[E])}return m}var b=t(f,!0);return{get:n(C(b)),set:s(b),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=p;function p(r,t){for(var i={},n=0;n<r.length;++n)for(var c=r[n].name,u=c.split("."),l=i,g=0;g<u.length;++g){var f=u[g].split("[");if(f.length>1){f[0]in l||(l[f[0]]=[]),l=l[f[0]];for(var T=1;T<f.length;++T){var h=parseInt(f[T]);T<f.length-1||g<u.length-1?(h in l||(T<f.length-1?l[h]=[]:l[h]={}),l=l[h]):t?l[h]=n:l[h]=r[n].type}}else g<u.length-1?(f[0]in l||(l[f[0]]={}),l=l[f[0]]):t?l[f[0]]=n:l[f[0]]=r[n].type}return i}},2631:function(v,p){p.uniforms=n,p.attributes=c;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function i(u,l){if(!t){var g=Object.keys(r);t={};for(var f=0;f<g.length;++f){var T=g[f];t[u[T]]=r[T]}}return t[l]}function n(u,l){for(var g=u.getProgramParameter(l,u.ACTIVE_UNIFORMS),f=[],T=0;T<g;++T){var h=u.getActiveUniform(l,T);if(h){var s=i(u,h.type);if(h.size>1)for(var d=0;d<h.size;++d)f.push({name:h.name.replace("[0]","["+d+"]"),type:s});else f.push({name:h.name,type:s})}}return f}function c(u,l){for(var g=u.getProgramParameter(l,u.ACTIVE_ATTRIBUTES),f=[],T=0;T<g;++T){var h=u.getActiveAttrib(l,T);h&&f.push({name:h.name,type:i(u,h.type)})}return f}},1628:function(v,p,r){p.shader=d,p.program=A;var t=r(9068),i=r(3530),n=typeof WeakMap>"u"?r(4037):WeakMap,c=new n,u=0;function l(w,C,b,S,m,a,E){this.id=w,this.src=C,this.type=b,this.shader=S,this.count=a,this.programs=[],this.cache=E}l.prototype.dispose=function(){if(--this.count===0){for(var w=this.cache,C=w.gl,b=this.programs,S=0,m=b.length;S<m;++S){var a=w.programs[b[S]];a&&(delete w.programs[S],C.deleteProgram(a))}C.deleteShader(this.shader),delete w.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function g(w){this.gl=w,this.shaders=[{},{}],this.programs={}}var f=g.prototype;function T(w,C,b){var S=w.createShader(C);if(w.shaderSource(S,b),w.compileShader(S),!w.getShaderParameter(S,w.COMPILE_STATUS)){var m=w.getShaderInfoLog(S);try{var a=i(m,b,C)}catch(E){throw console.warn("Failed to format compiler error: "+E),new t(m,`Error compiling shader:
`+m)}throw new t(m,a.short,a.long)}return S}f.getShaderReference=function(w,C){var b=this.gl,S=this.shaders[w===b.FRAGMENT_SHADER|0],m=S[C];if(!m||!b.isShader(m.shader)){var a=T(b,w,C);m=S[C]=new l(u++,C,w,a,[],1,this)}else m.count+=1;return m};function h(w,C,b,S,m){var a=w.createProgram();w.attachShader(a,C),w.attachShader(a,b);for(var E=0;E<S.length;++E)w.bindAttribLocation(a,m[E],S[E]);if(w.linkProgram(a),!w.getProgramParameter(a,w.LINK_STATUS)){var x=w.getProgramInfoLog(a);throw new t(x,"Error linking program: "+x)}return a}f.getProgram=function(w,C,b,S){var m=[w.id,C.id,b.join(":"),S.join(":")].join("@"),a=this.programs[m];return(!a||!this.gl.isProgram(a))&&(this.programs[m]=a=h(this.gl,w.shader,C.shader,b,S),w.programs.push(m),C.programs.push(m)),a};function s(w){var C=c.get(w);return C||(C=new g(w),c.set(w,C)),C}function d(w,C,b){return s(w).getShaderReference(C,b)}function A(w,C,b,S,m){return s(w).getProgram(C,b,S,m)}},3050:function(v){v.exports=t;function p(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var i=this.enable,n=this.width,c=this.color,u=this.center,l=this.plot,g=l.line,f=l.dataBox,T=l.viewBox;if(g.bind(),f[0]<=u[0]&&u[0]<=f[2]&&f[1]<=u[1]&&u[1]<=f[3]){var h=T[0]+(u[0]-f[0])/(f[2]-f[0])*(T[2]-T[0]),s=T[1]+(u[1]-f[1])/(f[3]-f[1])*(T[3]-T[1]);i[0]&&g.drawLine(h,s,T[0],s,n[0],c[0]),i[1]&&g.drawLine(h,s,h,T[1],n[1],c[1]),i[2]&&g.drawLine(h,s,T[2],s,n[2],c[2]),i[3]&&g.drawLine(h,s,h,T[3],n[3],c[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(i,n){var c=new p(i);return c.update(n),i.addOverlay(c),c}},3540:function(v,p,r){var t=r(6832),i=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),c=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return i(u,n,c,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,p,r){var t=r(5827),i=r(2944),n=r(3540);v.exports=h;var c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(s,d,A,w){this.gl=s,this.buffer=d,this.vao=A,this.shader=w,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=u.prototype,g=[0,0,0],f=[0,0,0],T=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(s){},l.draw=function(s){var d=this.gl,A=this.vao,w=this.shader;A.bind(),w.bind();var C=s.model||c,b=s.view||c,S=s.projection||c,m;this.axes&&(m=this.axes.lastCubeProps.axis);for(var a=g,E=f,x=0;x<3;++x)m&&m[x]<0?(a[x]=this.bounds[0][x],E[x]=this.bounds[1][x]):(a[x]=this.bounds[1][x],E[x]=this.bounds[0][x]);T[0]=d.drawingBufferWidth,T[1]=d.drawingBufferHeight,w.uniforms.model=C,w.uniforms.view=b,w.uniforms.projection=S,w.uniforms.coordinates=[this.position,a,E],w.uniforms.colors=this.colors,w.uniforms.screenShape=T;for(var x=0;x<3;++x)w.uniforms.lineWidth=this.lineWidth[x]*this.pixelRatio,this.enabled[x]&&(A.draw(d.TRIANGLES,6,6*x),this.drawSides[x]&&A.draw(d.TRIANGLES,12,18+12*x));A.unbind()},l.update=function(s){s&&("bounds"in s&&(this.bounds=s.bounds),"position"in s&&(this.position=s.position),"lineWidth"in s&&(this.lineWidth=s.lineWidth),"colors"in s&&(this.colors=s.colors),"enabled"in s&&(this.enabled=s.enabled),"drawSides"in s&&(this.drawSides=s.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(s,d){var A=[];function w(a,E,x,k,I,N){var F=[a,E,x,0,0,0,1];F[k+3]=1,F[k]=I,A.push.apply(A,F),F[6]=-1,A.push.apply(A,F),F[k]=N,A.push.apply(A,F),A.push.apply(A,F),F[6]=1,A.push.apply(A,F),F[k]=I,A.push.apply(A,F)}w(0,0,0,0,0,1),w(0,0,0,1,0,1),w(0,0,0,2,0,1),w(1,0,0,1,-1,1),w(1,0,0,2,-1,1),w(0,1,0,0,-1,1),w(0,1,0,2,-1,1),w(0,0,1,0,-1,1),w(0,0,1,1,-1,1);var C=t(s,A),b=i(s,[{type:s.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:s.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:s.FLOAT,buffer:C,size:1,offset:24,stride:28}]),S=n(s);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var m=new u(s,C,b,S);return m.update(d),m}},9578:function(v,p,r){var t=r(6832),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),c=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:i,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:c,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,p,r){var t=r(2858),i=r(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],c=function(A,w,C,b){for(var S=A.points,m=A.velocities,a=A.divergences,E=[],x=[],k=[],I=[],N=[],F=[],z=0,O=0,_=i.create(),B=i.create(),W=8,$=0;$<S.length;$++){var te=S[$],ie=m[$],ue=a[$];w===0&&(ue=C*.05),O=t.length(ie)/b,_=i.create(),t.copy(_,ie),_[3]=ue;for(var J=0;J<W;J++)N[J]=[te[0],te[1],te[2],J];if(I.length>0)for(var J=0;J<W;J++){var Y=(J+1)%W;E.push(I[J],N[J],N[Y],N[Y],I[Y],I[J]),k.push(B,_,_,_,B,B),F.push(z,O,O,O,z,z);var ae=E.length;x.push([ae-6,ae-5,ae-4],[ae-3,ae-2,ae-1])}var j=I;I=N,N=j;var q=B;B=_,_=q;var oe=z;z=O,O=oe}return{positions:E,cells:x,vectors:k,vertexIntensity:F}},u=function(A,w,C,b){for(var S=0,m=0;m<A.length;m++)for(var a=A[m].velocities,E=0;E<a.length;E++)S=Math.max(S,t.length(a[E]));for(var x=A.map(function($){return c($,C,b,S)}),k=[],I=[],N=[],F=[],m=0;m<x.length;m++){var z=x[m],O=k.length;k=k.concat(z.positions),N=N.concat(z.vectors),F=F.concat(z.vertexIntensity);for(var E=0;E<z.cells.length;E++){var _=z.cells[E],B=[];I.push(B);for(var W=0;W<_.length;W++)B.push(_[W]+O)}}return{positions:k,cells:I,vectors:N,vertexIntensity:F,colormap:w}},l=function(A,w){var C=A.length,b;for(b=0;b<C;b++){var S=A[b];if(S===w)return b;if(S>w)return b-1}return b},g=function(A,w,C){return A<w?w:A>C?C:A},f=function(A,w,C){var b=w.vectors,S=w.meshgrid,m=A[0],a=A[1],E=A[2],x=S[0].length,k=S[1].length,I=S[2].length,N=l(S[0],m),F=l(S[1],a),z=l(S[2],E),O=N+1,_=F+1,B=z+1;if(N=g(N,0,x-1),O=g(O,0,x-1),F=g(F,0,k-1),_=g(_,0,k-1),z=g(z,0,I-1),B=g(B,0,I-1),N<0||F<0||z<0||O>x-1||_>k-1||B>I-1)return t.create();var W=S[0][N],$=S[0][O],te=S[1][F],ie=S[1][_],ue=S[2][z],J=S[2][B],Y=(m-W)/($-W),ae=(a-te)/(ie-te),j=(E-ue)/(J-ue);isFinite(Y)||(Y=.5),isFinite(ae)||(ae=.5),isFinite(j)||(j=.5);var q,oe,Q,X,se,ne;switch(C.reversedX&&(N=x-1-N,O=x-1-O),C.reversedY&&(F=k-1-F,_=k-1-_),C.reversedZ&&(z=I-1-z,B=I-1-B),C.filled){case 5:se=z,ne=B,Q=F*I,X=_*I,q=N*I*k,oe=O*I*k;break;case 4:se=z,ne=B,q=N*I,oe=O*I,Q=F*I*x,X=_*I*x;break;case 3:Q=F,X=_,se=z*k,ne=B*k,q=N*k*I,oe=O*k*I;break;case 2:Q=F,X=_,q=N*k,oe=O*k,se=z*k*x,ne=B*k*x;break;case 1:q=N,oe=O,se=z*x,ne=B*x,Q=F*x*I,X=_*x*I;break;default:q=N,oe=O,Q=F*x,X=_*x,se=z*x*k,ne=B*x*k;break}var fe=b[q+Q+se],ye=b[q+Q+ne],Se=b[q+X+se],we=b[q+X+ne],_e=b[oe+Q+se],ke=b[oe+Q+ne],Me=b[oe+X+se],me=b[oe+X+ne],Ee=t.create(),Be=t.create(),Ue=t.create(),De=t.create();t.lerp(Ee,fe,_e,Y),t.lerp(Be,ye,ke,Y),t.lerp(Ue,Se,Me,Y),t.lerp(De,we,me,Y);var He=t.create(),nt=t.create();t.lerp(He,Ee,Ue,ae),t.lerp(nt,Be,De,ae);var lt=t.create();return t.lerp(lt,He,nt,j),lt},T=function(A){var w=1/0;A.sort(function(m,a){return m-a});for(var C=A.length,b=1;b<C;b++){var S=Math.abs(A[b]-A[b-1]);S<w&&(w=S)}return w},h=function(A){for(var w=[],C=[],b=[],S={},m={},a={},E=A.length,x=0;x<E;x++){var k=A[x],I=k[0],N=k[1],F=k[2];S[I]||(w.push(I),S[I]=!0),m[N]||(C.push(N),m[N]=!0),a[F]||(b.push(F),a[F]=!0)}var z=T(w),O=T(C),_=T(b),B=Math.min(z,O,_);return isFinite(B)?B:1};v.exports=function(A,w){var C=A.startingPositions,b=A.maxLength||1e3,S=A.tubeSize||1,m=A.absoluteTubeSize,a=A.gridFill||"+x+y+z",E={};a.indexOf("-x")!==-1&&(E.reversedX=!0),a.indexOf("-y")!==-1&&(E.reversedY=!0),a.indexOf("-z")!==-1&&(E.reversedZ=!0),E.filled=n.indexOf(a.replace(/-/g,"").replace(/\+/g,""));var x=A.getVelocity||function(ke){return f(ke,A,E)},k=A.getDivergence||function(ke,Me){var me=t.create(),Ee=1e-4;t.add(me,ke,[Ee,0,0]);var Be=x(me);t.subtract(Be,Be,Me),t.scale(Be,Be,1/Ee),t.add(me,ke,[0,Ee,0]);var Ue=x(me);t.subtract(Ue,Ue,Me),t.scale(Ue,Ue,1/Ee),t.add(me,ke,[0,0,Ee]);var De=x(me);return t.subtract(De,De,Me),t.scale(De,De,1/Ee),t.add(me,Be,Ue),t.add(me,me,De),me},I=[],N=w[0][0],F=w[0][1],z=w[0][2],O=w[1][0],_=w[1][1],B=w[1][2],W=function(ke){var Me=ke[0],me=ke[1],Ee=ke[2];return!(Me<N||Me>O||me<F||me>_||Ee<z||Ee>B)},$=t.distance(w[0],w[1]),te=10*$/b,ie=te*te,ue=1,J=0,Y=C.length;Y>1&&(ue=h(C));for(var ae=0;ae<Y;ae++){var j=t.create();t.copy(j,C[ae]);var q=[j],oe=[],Q=x(j),X=j;oe.push(Q);var se=[],ne=k(j,Q),fe=t.length(ne);isFinite(fe)&&fe>J&&(J=fe),se.push(fe),I.push({points:q,velocities:oe,divergences:se});for(var ye=0;ye<b*100&&q.length<b&&W(j);){ye++;var Se=t.clone(Q),we=t.squaredLength(Se);if(we===0)break;if(we>ie&&t.scale(Se,Se,te/Math.sqrt(we)),t.add(Se,Se,j),Q=x(Se),t.squaredDistance(X,Se)-ie>-1e-4*ie){q.push(Se),X=Se,oe.push(Q);var ne=k(Se,Q),fe=t.length(ne);isFinite(fe)&&fe>J&&(J=fe),se.push(fe)}j=Se}}var _e=u(I,A.colormap,J,ue);return m?_e.tubeScale=m:(J===0&&(J=1),_e.tubeScale=S*.5*ue/J),_e};var s=r(9578),d=r(1140).createMesh;v.exports.createTubeMesh=function(A,w){return d(A,w,{shaders:s,traceType:"streamtube"})}},9054:function(v,p,r){var t=r(5158),i=r(6832),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),c=i([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(g){var f=t(g,n,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},p.createPickShader=function(g){var f=t(g,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},p.createContourShader=function(g){var f=t(g,u,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f},p.createPickContourShader=function(g){var f=t(g,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f}},3754:function(v,p,r){v.exports=oe;var t=r(2288),i=r(5827),n=r(2944),c=r(8931),u=r(5306),l=r(9156),g=r(7498),f=r(7382),T=r(5050),h=r(4162),s=r(104),d=r(7437),A=r(5070),w=r(9144),C=r(9054),b=C.createShader,S=C.createContourShader,m=C.createPickShader,a=C.createPickContourShader,E=4*(4+3+3),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],k=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var Q=0;Q<3;++Q){var X=I[Q],se=(Q+1)%3,ne=(Q+2)%3;X[se+0]=1,X[ne+3]=1,X[Q+6]=1}})();function N(Q,X,se,ne,fe){this.position=Q,this.index=X,this.uv=se,this.level=ne,this.dataCoordinate=fe}var F=256;function z(Q,X,se,ne,fe,ye,Se,we,_e,ke,Me,me,Ee,Be,Ue){this.gl=Q,this.shape=X,this.bounds=se,this.objectOffset=Ue,this.intensityBounds=[],this._shader=ne,this._pickShader=fe,this._coordinateBuffer=ye,this._vao=Se,this._colorMap=we,this._contourShader=_e,this._contourPickShader=ke,this._contourBuffer=Me,this._contourVAO=me,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ee,this._dynamicVAO=Be,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var O=z.prototype;O.genColormap=function(Q,X){var se=!1,ne=f([l({colormap:Q,nshades:F,format:"rgba"}).map(function(fe,ye){var Se=X?_(ye/255,X):fe[3];return Se<1&&(se=!0),[fe[0],fe[1],fe[2],255*Se]})]);return g.divseq(ne,255),this.hasAlphaScale=se,ne},O.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},O.isOpaque=function(){return!this.isTransparent()},O.pickSlots=1,O.setPickBase=function(Q){this.pickId=Q};function _(Q,X){if(!X||!X.length)return 1;for(var se=0;se<X.length;++se){if(X.length<2)return 1;if(X[se][0]===Q)return X[se][1];if(X[se][0]>Q&&se>0){var ne=(X[se][0]-Q)/(X[se][0]-X[se-1][0]);return X[se][1]*(1-ne)+ne*X[se-1][1]}}return 1}var B=[0,0,0],W={showSurface:!1,showContour:!1,projections:[x.slice(),x.slice(),x.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function $(Q,X){var se,ne,fe,ye=X.axes&&X.axes.lastCubeProps.axis||B,Se=X.showSurface,we=X.showContour;for(se=0;se<3;++se)for(Se=Se||X.surfaceProject[se],ne=0;ne<3;++ne)we=we||X.contourProject[se][ne];for(se=0;se<3;++se){var _e=W.projections[se];for(ne=0;ne<16;++ne)_e[ne]=0;for(ne=0;ne<4;++ne)_e[5*ne]=1;_e[5*se]=0,_e[12+se]=X.axesBounds[+(ye[se]>0)][se],s(_e,Q.model,_e);var ke=W.clipBounds[se];for(fe=0;fe<2;++fe)for(ne=0;ne<3;++ne)ke[fe][ne]=Q.clipBounds[fe][ne];ke[0][se]=-1e8,ke[1][se]=1e8}return W.showSurface=Se,W.showContour=we,W}var te={model:x,view:x,projection:x,inverseModel:x.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ie=x.slice(),ue=[1,0,0,0,1,0,0,0,1];function J(Q,X){Q=Q||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var ne=te;ne.model=Q.model||x,ne.view=Q.view||x,ne.projection=Q.projection||x,ne.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ne.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ne.objectOffset=this.objectOffset,ne.contourColor=this.contourColor[0],ne.inverseModel=d(ne.inverseModel,ne.model);for(var fe=0;fe<2;++fe)for(var ye=ne.clipBounds[fe],Se=0;Se<3;++Se)ye[Se]=Math.min(Math.max(this.clipBounds[fe][Se],-1e8),1e8);ne.kambient=this.ambientLight,ne.kdiffuse=this.diffuseLight,ne.kspecular=this.specularLight,ne.roughness=this.roughness,ne.fresnel=this.fresnel,ne.opacity=this.opacity,ne.height=0,ne.permutation=ue,ne.vertexColor=this.vertexColor;var we=ie;for(s(we,ne.view,ne.model),s(we,ne.projection,we),d(we,we),fe=0;fe<3;++fe)ne.eyePosition[fe]=we[12+fe]/we[15];var _e=we[15];for(fe=0;fe<3;++fe)_e+=this.lightPosition[fe]*we[4*fe+3];for(fe=0;fe<3;++fe){var ke=we[12+fe];for(Se=0;Se<3;++Se)ke+=we[4*Se+fe]*this.lightPosition[Se];ne.lightPosition[fe]=ke/_e}var Me=$(ne,this);if(Me.showSurface){for(this._shader.bind(),this._shader.uniforms=ne,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),fe=0;fe<3;++fe)!this.surfaceProject[fe]||!this.vertexCount||(this._shader.uniforms.model=Me.projections[fe],this._shader.uniforms.clipBounds=Me.clipBounds[fe],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Me.showContour){var me=this._contourShader;ne.kambient=1,ne.kdiffuse=0,ne.kspecular=0,ne.opacity=1,me.bind(),me.uniforms=ne;var Ee=this._contourVAO;for(Ee.bind(),fe=0;fe<3;++fe)for(me.uniforms.permutation=I[fe],se.lineWidth(this.contourWidth[fe]*this.pixelRatio),Se=0;Se<this.contourLevels[fe].length;++Se)Se===this.highlightLevel[fe]?(me.uniforms.contourColor=this.highlightColor[fe],me.uniforms.contourTint=this.highlightTint[fe]):(Se===0||Se-1===this.highlightLevel[fe])&&(me.uniforms.contourColor=this.contourColor[fe],me.uniforms.contourTint=this.contourTint[fe]),this._contourCounts[fe][Se]&&(me.uniforms.height=this.contourLevels[fe][Se],Ee.draw(se.LINES,this._contourCounts[fe][Se],this._contourOffsets[fe][Se]));for(fe=0;fe<3;++fe)for(me.uniforms.model=Me.projections[fe],me.uniforms.clipBounds=Me.clipBounds[fe],Se=0;Se<3;++Se)if(this.contourProject[fe][Se]){me.uniforms.permutation=I[Se],se.lineWidth(this.contourWidth[Se]*this.pixelRatio);for(var Be=0;Be<this.contourLevels[Se].length;++Be)Be===this.highlightLevel[Se]?(me.uniforms.contourColor=this.highlightColor[Se],me.uniforms.contourTint=this.highlightTint[Se]):(Be===0||Be-1===this.highlightLevel[Se])&&(me.uniforms.contourColor=this.contourColor[Se],me.uniforms.contourTint=this.contourTint[Se]),this._contourCounts[Se][Be]&&(me.uniforms.height=this.contourLevels[Se][Be],Ee.draw(se.LINES,this._contourCounts[Se][Be],this._contourOffsets[Se][Be]))}for(Ee.unbind(),Ee=this._dynamicVAO,Ee.bind(),fe=0;fe<3;++fe)if(this._dynamicCounts[fe]!==0)for(me.uniforms.model=ne.model,me.uniforms.clipBounds=ne.clipBounds,me.uniforms.permutation=I[fe],se.lineWidth(this.dynamicWidth[fe]*this.pixelRatio),me.uniforms.contourColor=this.dynamicColor[fe],me.uniforms.contourTint=this.dynamicTint[fe],me.uniforms.height=this.dynamicLevel[fe],Ee.draw(se.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]),Se=0;Se<3;++Se)this.contourProject[Se][fe]&&(me.uniforms.model=Me.projections[Se],me.uniforms.clipBounds=Me.clipBounds[Se],Ee.draw(se.LINES,this._dynamicCounts[fe],this._dynamicOffsets[fe]));Ee.unbind()}}O.draw=function(Q){return J.call(this,Q,!1)},O.drawTransparent=function(Q){return J.call(this,Q,!0)};var Y={model:x,view:x,projection:x,inverseModel:x,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};O.drawPick=function(Q){Q=Q||{};var X=this.gl;X.disable(X.CULL_FACE);var se=Y;se.model=Q.model||x,se.view=Q.view||x,se.projection=Q.projection||x,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=ue;for(var ne=0;ne<2;++ne)for(var fe=se.clipBounds[ne],ye=0;ye<3;++ye)fe[ye]=Math.min(Math.max(this.clipBounds[ne][ye],-1e8),1e8);var Se=$(se,this);if(Se.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(X.TRIANGLES,this._vertexCount),ne=0;ne<3;++ne)this.surfaceProject[ne]&&(this._pickShader.uniforms.model=Se.projections[ne],this._pickShader.uniforms.clipBounds=Se.clipBounds[ne],this._vao.draw(X.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Se.showContour){var we=this._contourPickShader;we.bind(),we.uniforms=se;var _e=this._contourVAO;for(_e.bind(),ye=0;ye<3;++ye)for(X.lineWidth(this.contourWidth[ye]*this.pixelRatio),we.uniforms.permutation=I[ye],ne=0;ne<this.contourLevels[ye].length;++ne)this._contourCounts[ye][ne]&&(we.uniforms.height=this.contourLevels[ye][ne],_e.draw(X.LINES,this._contourCounts[ye][ne],this._contourOffsets[ye][ne]));for(ne=0;ne<3;++ne)for(we.uniforms.model=Se.projections[ne],we.uniforms.clipBounds=Se.clipBounds[ne],ye=0;ye<3;++ye)if(this.contourProject[ne][ye]){we.uniforms.permutation=I[ye],X.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var ke=0;ke<this.contourLevels[ye].length;++ke)this._contourCounts[ye][ke]&&(we.uniforms.height=this.contourLevels[ye][ke],_e.draw(X.LINES,this._contourCounts[ye][ke],this._contourOffsets[ye][ke]))}_e.unbind()}},O.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var X=this._field[2].shape,se=this._pickResult,ne=X[0]*(Q.value[0]+(Q.value[2]>>4)/16)/255,fe=Math.floor(ne),ye=ne-fe,Se=X[1]*(Q.value[1]+(Q.value[2]&15)/16)/255,we=Math.floor(Se),_e=Se-we;fe+=1,we+=1;var ke=se.position;ke[0]=ke[1]=ke[2]=0;for(var Me=0;Me<2;++Me)for(var me=Me?ye:1-ye,Ee=0;Ee<2;++Ee)for(var Be=Ee?_e:1-_e,Ue=fe+Me,De=we+Ee,He=me*Be,nt=0;nt<3;++nt)ke[nt]+=this._field[nt].get(Ue,De)*He;for(var lt=this._pickResult.level,$e=0;$e<3;++$e)if(lt[$e]=A.le(this.contourLevels[$e],ke[$e]),lt[$e]<0)this.contourLevels[$e].length>0&&(lt[$e]=0);else if(lt[$e]<this.contourLevels[$e].length-1){var qe=this.contourLevels[$e][lt[$e]],ct=this.contourLevels[$e][lt[$e]+1];Math.abs(qe-ke[$e])>Math.abs(ct-ke[$e])&&(lt[$e]+=1)}for(se.index[0]=ye<.5?fe:fe+1,se.index[1]=_e<.5?we:we+1,se.uv[0]=ne/X[0],se.uv[1]=Se/X[1],nt=0;nt<3;++nt)se.dataCoordinate[nt]=this._field[nt].get(se.index[0],se.index[1]);return se},O.padField=function(Q,X){var se=X.shape.slice(),ne=Q.shape.slice();g.assign(Q.lo(1,1).hi(se[0],se[1]),X),g.assign(Q.lo(1).hi(se[0],1),X.hi(se[0],1)),g.assign(Q.lo(1,ne[1]-1).hi(se[0],1),X.lo(0,se[1]-1).hi(se[0],1)),g.assign(Q.lo(0,1).hi(1,se[1]),X.hi(1)),g.assign(Q.lo(ne[0]-1,1).hi(1,se[1]),X.lo(se[0]-1)),Q.set(0,0,X.get(0,0)),Q.set(0,ne[1]-1,X.get(0,se[1]-1)),Q.set(ne[0]-1,0,X.get(se[0]-1,0)),Q.set(ne[0]-1,ne[1]-1,X.get(se[0]-1,se[1]-1))};function ae(Q,X){return Array.isArray(Q)?[X(Q[0]),X(Q[1]),X(Q[2])]:[X(Q),X(Q),X(Q)]}function j(Q){return Array.isArray(Q)?Q.length===3?[Q[0],Q[1],Q[2],1]:[Q[0],Q[1],Q[2],Q[3]]:[0,0,0,1]}function q(Q){if(Array.isArray(Q)){if(Array.isArray(Q))return[j(Q[0]),j(Q[1]),j(Q[2])];var X=j(Q);return[X.slice(),X.slice(),X.slice()]}}O.update=function(Q){Q=Q||{},this.objectOffset=Q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Q&&(this.contourWidth=ae(Q.contourWidth,Number)),"showContour"in Q&&(this.showContour=ae(Q.showContour,Boolean)),"showSurface"in Q&&(this.showSurface=!!Q.showSurface),"contourTint"in Q&&(this.contourTint=ae(Q.contourTint,Boolean)),"contourColor"in Q&&(this.contourColor=q(Q.contourColor)),"contourProject"in Q&&(this.contourProject=ae(Q.contourProject,function(It){return ae(It,Boolean)})),"surfaceProject"in Q&&(this.surfaceProject=Q.surfaceProject),"dynamicColor"in Q&&(this.dynamicColor=q(Q.dynamicColor)),"dynamicTint"in Q&&(this.dynamicTint=ae(Q.dynamicTint,Number)),"dynamicWidth"in Q&&(this.dynamicWidth=ae(Q.dynamicWidth,Number)),"opacity"in Q&&(this.opacity=Q.opacity),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale),"colorBounds"in Q&&(this.colorBounds=Q.colorBounds),"vertexColor"in Q&&(this.vertexColor=Q.vertexColor?1:0),"colormap"in Q&&this._colorMap.setPixels(this.genColormap(Q.colormap,this.opacityscale));var X=Q.field||Q.coords&&Q.coords[2]||null,se=!1;if(X||(this._field[2].shape[0]||this._field[2].shape[2]?X=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):X=this._field[2].hi(0,0)),"field"in Q||"coords"in Q){var ne=(X.shape[0]+2)*(X.shape[1]+2);ne>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(ne))),this._field[2]=T(this._field[2].data,[X.shape[0]+2,X.shape[1]+2]),this.padField(this._field[2],X),this.shape=X.shape.slice();for(var fe=this.shape,ye=0;ye<2;++ye)this._field[2].size>this._field[ye].data.length&&(u.freeFloat(this._field[ye].data),this._field[ye].data=u.mallocFloat(this._field[2].size)),this._field[ye]=T(this._field[ye].data,[fe[0]+2,fe[1]+2]);if(Q.coords){var Se=Q.coords;if(!Array.isArray(Se)||Se.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ye=0;ye<2;++ye){var we=Se[ye];for(Ee=0;Ee<2;++Ee)if(we.shape[Ee]!==fe[Ee])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ye],we)}}else if(Q.ticks){var _e=Q.ticks;if(!Array.isArray(_e)||_e.length!==2)throw new Error("gl-surface: invalid ticks");for(ye=0;ye<2;++ye){var ke=_e[ye];if((Array.isArray(ke)||ke.length)&&(ke=T(ke)),ke.shape[0]!==fe[ye])throw new Error("gl-surface: invalid tick length");var Me=T(ke.data,fe);Me.stride[ye]=ke.stride[0],Me.stride[ye^1]=0,this.padField(this._field[ye],Me)}}else{for(ye=0;ye<2;++ye){var me=[0,0];me[ye]=1,this._field[ye]=T(this._field[ye].data,[fe[0]+2,fe[1]+2],me,0)}this._field[0].set(0,0,0);for(var Ee=0;Ee<fe[0];++Ee)this._field[0].set(Ee+1,0,Ee);for(this._field[0].set(fe[0]+1,0,fe[0]-1),this._field[1].set(0,0,0),Ee=0;Ee<fe[1];++Ee)this._field[1].set(0,Ee+1,Ee);this._field[1].set(0,fe[1]+1,fe[1]-1)}var Be=this._field,Ue=T(u.mallocFloat(Be[2].size*3*2),[3,fe[0]+2,fe[1]+2,2]);for(ye=0;ye<3;++ye)w(Ue.pick(ye),Be[ye],"mirror");var De=T(u.mallocFloat(Be[2].size*3),[fe[0]+2,fe[1]+2,3]);for(ye=0;ye<fe[0]+2;++ye)for(Ee=0;Ee<fe[1]+2;++Ee){var He=Ue.get(0,ye,Ee,0),nt=Ue.get(0,ye,Ee,1),lt=Ue.get(1,ye,Ee,0),$e=Ue.get(1,ye,Ee,1),qe=Ue.get(2,ye,Ee,0),ct=Ue.get(2,ye,Ee,1),dt=lt*ct-$e*qe,gt=qe*nt-ct*He,At=He*$e-nt*lt,Rt=Math.sqrt(dt*dt+gt*gt+At*At);Rt<1e-8?(Rt=Math.max(Math.abs(dt),Math.abs(gt),Math.abs(At)),Rt<1e-8?(At=1,gt=dt=0,Rt=1):Rt=1/Rt):Rt=1/Math.sqrt(Rt),De.set(ye,Ee,0,dt*Rt),De.set(ye,Ee,1,gt*Rt),De.set(ye,Ee,2,At*Rt)}u.free(Ue.data);var Vt=[1/0,1/0,1/0],Je=[-1/0,-1/0,-1/0],Ve=1/0,Ie=-1/0,Oe=(fe[0]-1)*(fe[1]-1)*6,Le=u.mallocFloat(t.nextPow2(10*Oe)),xe=0,pe=0;for(ye=0;ye<fe[0]-1;++ye)e:for(Ee=0;Ee<fe[1]-1;++Ee){for(var Ae=0;Ae<2;++Ae)for(var Te=0;Te<2;++Te)for(var Ne=0;Ne<3;++Ne){var Ye=this._field[Ne].get(1+ye+Ae,1+Ee+Te);if(isNaN(Ye)||!isFinite(Ye))continue e}for(Ne=0;Ne<6;++Ne){var et=ye+k[Ne][0],ft=Ee+k[Ne][1],pt=this._field[0].get(et+1,ft+1),Yt=this._field[1].get(et+1,ft+1);Ye=this._field[2].get(et+1,ft+1),dt=De.get(et+1,ft+1,0),gt=De.get(et+1,ft+1,1),At=De.get(et+1,ft+1,2),Q.intensity&&(Jt=Q.intensity.get(et,ft));var Jt=Q.intensity?Q.intensity.get(et,ft):Ye+this.objectOffset[2];Le[xe++]=et,Le[xe++]=ft,Le[xe++]=pt,Le[xe++]=Yt,Le[xe++]=Ye,Le[xe++]=0,Le[xe++]=Jt,Le[xe++]=dt,Le[xe++]=gt,Le[xe++]=At,Vt[0]=Math.min(Vt[0],pt+this.objectOffset[0]),Vt[1]=Math.min(Vt[1],Yt+this.objectOffset[1]),Vt[2]=Math.min(Vt[2],Ye+this.objectOffset[2]),Ve=Math.min(Ve,Jt),Je[0]=Math.max(Je[0],pt+this.objectOffset[0]),Je[1]=Math.max(Je[1],Yt+this.objectOffset[1]),Je[2]=Math.max(Je[2],Ye+this.objectOffset[2]),Ie=Math.max(Ie,Jt),pe+=1}}for(Q.intensityBounds&&(Ve=+Q.intensityBounds[0],Ie=+Q.intensityBounds[1]),ye=6;ye<xe;ye+=10)Le[ye]=(Le[ye]-Ve)/(Ie-Ve);this._vertexCount=pe,this._coordinateBuffer.update(Le.subarray(0,xe)),u.freeFloat(Le),u.free(De.data),this.bounds=[Vt,Je],this.intensity=Q.intensity||this._field[2],(this.intensityBounds[0]!==Ve||this.intensityBounds[1]!==Ie)&&(se=!0),this.intensityBounds=[Ve,Ie]}if("levels"in Q){var Tt=Q.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],ye=0;ye<3;++ye)Tt[ye]=Tt[ye].slice(),Tt[ye].sort(function(It,Zt){return It-Zt});for(ye=0;ye<3;++ye)for(Ee=0;Ee<Tt[ye].length;++Ee)Tt[ye][Ee]-=this.objectOffset[ye];e:for(ye=0;ye<3;++ye){if(Tt[ye].length!==this.contourLevels[ye].length){se=!0;break}for(Ee=0;Ee<Tt[ye].length;++Ee)if(Tt[ye][Ee]!==this.contourLevels[ye][Ee]){se=!0;break e}}this.contourLevels=Tt}if(se){Be=this._field,fe=this.shape;for(var _t=[],$t=0;$t<3;++$t){var wr=this.contourLevels[$t],yt=[],jt=[],Qt=[0,0,0];for(ye=0;ye<wr.length;++ye){var gr=h(this._field[$t],wr[ye]);yt.push(_t.length/5|0),pe=0;e:for(Ee=0;Ee<gr.cells.length;++Ee){var sr=gr.cells[Ee];for(Ne=0;Ne<2;++Ne){var vt=gr.positions[sr[Ne]],at=vt[0],xt=Math.floor(at)|0,Mt=at-xt,Dt=vt[1],Lt=Math.floor(Dt)|0,Bt=Dt-Lt,Nt=!1;t:for(var Xt=0;Xt<3;++Xt){Qt[Xt]=0;var lr=($t+Xt+1)%3;for(Ae=0;Ae<2;++Ae){var fr=Ae?Mt:1-Mt;for(et=Math.min(Math.max(xt+Ae,0),fe[0])|0,Te=0;Te<2;++Te){var hr=Te?Bt:1-Bt;if(ft=Math.min(Math.max(Lt+Te,0),fe[1])|0,Xt<2?Ye=this._field[lr].get(et,ft):Ye=(this.intensity.get(et,ft)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ye)||isNaN(Ye)){Nt=!0;break t}var We=fr*hr;Qt[Xt]+=We*Ye}}}if(!Nt)_t.push(Qt[0],Qt[1],vt[0],vt[1],Qt[2]),pe+=1;else{if(Ne>0){for(var Ge=0;Ge<5;++Ge)_t.pop();pe-=1}continue e}}}jt.push(pe)}this._contourOffsets[$t]=yt,this._contourCounts[$t]=jt}var kt=u.mallocFloat(_t.length);for(ye=0;ye<_t.length;++ye)kt[ye]=_t[ye];this._contourBuffer.update(kt),u.freeFloat(kt)}},O.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Q=0;Q<3;++Q)u.freeFloat(this._field[Q].data)},O.highlight=function(Q){var X;if(!Q){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(X=0;X<3;++X)this.enableHighlight[X]?this.highlightLevel[X]=Q.level[X]:this.highlightLevel[X]=-1;var se;for(this.snapToData?se=Q.dataCoordinate:se=Q.position,X=0;X<3;++X)se[X]-=this.objectOffset[X];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var ne=0,fe=this.shape,ye=u.mallocFloat(12*fe[0]*fe[1]),Se=0;Se<3;++Se){if(!this.enableDynamic[Se]){this.dynamicLevel[Se]=NaN,this._dynamicCounts[Se]=0;continue}this.dynamicLevel[Se]=se[Se];var we=(Se+1)%3,_e=(Se+2)%3,ke=this._field[Se],Me=this._field[we],me=this._field[_e],Ee=h(ke,se[Se]),Be=Ee.cells,Ue=Ee.positions;for(this._dynamicOffsets[Se]=ne,X=0;X<Be.length;++X)for(var De=Be[X],He=0;He<2;++He){var nt=Ue[De[He]],lt=+nt[0],$e=lt|0,qe=Math.min($e+1,fe[0])|0,ct=lt-$e,dt=1-ct,gt=+nt[1],At=gt|0,Rt=Math.min(At+1,fe[1])|0,Vt=gt-At,Je=1-Vt,Ve=dt*Je,Ie=dt*Vt,Oe=ct*Je,Le=ct*Vt,xe=Ve*Me.get($e,At)+Ie*Me.get($e,Rt)+Oe*Me.get(qe,At)+Le*Me.get(qe,Rt),pe=Ve*me.get($e,At)+Ie*me.get($e,Rt)+Oe*me.get(qe,At)+Le*me.get(qe,Rt);if(isNaN(xe)||isNaN(pe)){He&&(ne-=1);break}ye[2*ne+0]=xe,ye[2*ne+1]=pe,ne+=1}this._dynamicCounts[Se]=ne-this._dynamicOffsets[Se]}this._dynamicBuffer.update(ye.subarray(0,2*ne)),u.freeFloat(ye)}};function oe(Q){var X=Q.gl,se=b(X),ne=m(X),fe=S(X),ye=a(X),Se=i(X),we=n(X,[{buffer:Se,size:4,stride:E,offset:0},{buffer:Se,size:3,stride:E,offset:16},{buffer:Se,size:3,stride:E,offset:28}]),_e=i(X),ke=n(X,[{buffer:_e,size:4,stride:20,offset:0},{buffer:_e,size:1,stride:20,offset:16}]),Me=i(X),me=n(X,[{buffer:Me,size:2,type:X.FLOAT}]),Ee=c(X,1,F,X.RGBA,X.UNSIGNED_BYTE);Ee.minFilter=X.LINEAR,Ee.magFilter=X.LINEAR;var Be=new z(X,[0,0],[[0,0,0],[0,0,0]],se,ne,Se,we,Ee,fe,ye,_e,ke,Me,me,[0,0,0]),Ue={levels:[[],[],[]]};for(var De in Q)Ue[De]=Q[De];return Ue.colormap=Ue.colormap||"jet",Be.update(Ue),Be}},8931:function(v,p,r){var t=r(5050),i=r(7498),n=r(5306);v.exports=a;var c=null,u=null,l=null;function g(E){c=[E.LINEAR,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_NEAREST],u=[E.NEAREST,E.LINEAR,E.NEAREST_MIPMAP_NEAREST,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_LINEAR],l=[E.REPEAT,E.CLAMP_TO_EDGE,E.MIRRORED_REPEAT]}function f(E){return typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&E instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&E instanceof HTMLVideoElement||typeof ImageData<"u"&&E instanceof ImageData}var T=function(E,x){i.muls(E,x,255)};function h(E,x,k){var I=E.gl,N=I.getParameter(I.MAX_TEXTURE_SIZE);if(x<0||x>N||k<0||k>N)throw new Error("gl-texture2d: Invalid texture size");return E._shape=[x,k],E.bind(),I.texImage2D(I.TEXTURE_2D,0,E.format,x,k,0,E.format,E.type,null),E._mipLevels=[0],E}function s(E,x,k,I,N,F){this.gl=E,this.handle=x,this.format=N,this.type=F,this._shape=[k,I],this._mipLevels=[0],this._magFilter=E.NEAREST,this._minFilter=E.NEAREST,this._wrapS=E.CLAMP_TO_EDGE,this._wrapT=E.CLAMP_TO_EDGE,this._anisoSamples=1;var z=this,O=[this._wrapS,this._wrapT];Object.defineProperties(O,[{get:function(){return z._wrapS},set:function(B){return z.wrapS=B}},{get:function(){return z._wrapT},set:function(B){return z.wrapT=B}}]),this._wrapVector=O;var _=[this._shape[0],this._shape[1]];Object.defineProperties(_,[{get:function(){return z._shape[0]},set:function(B){return z.width=B}},{get:function(){return z._shape[1]},set:function(B){return z.height=B}}]),this._shapeVector=_}var d=s.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(E){this.bind();var x=this.gl;if(this.type===x.FLOAT&&c.indexOf(E)>=0&&(x.getExtension("OES_texture_float_linear")||(E=x.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,E),this._minFilter=E}},magFilter:{get:function(){return this._magFilter},set:function(E){this.bind();var x=this.gl;if(this.type===x.FLOAT&&c.indexOf(E)>=0&&(x.getExtension("OES_texture_float_linear")||(E=x.NEAREST)),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,E),this._magFilter=E}},mipSamples:{get:function(){return this._anisoSamples},set:function(E){var x=this._anisoSamples;if(this._anisoSamples=Math.max(E,1)|0,x!==this._anisoSamples){var k=this.gl.getExtension("EXT_texture_filter_anisotropic");k&&this.gl.texParameterf(this.gl.TEXTURE_2D,k.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(E){if(this.bind(),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,E),this._wrapS=E}},wrapT:{get:function(){return this._wrapT},set:function(E){if(this.bind(),l.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,E),this._wrapT=E}},wrap:{get:function(){return this._wrapVector},set:function(E){if(Array.isArray(E)||(E=[E,E]),E.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var x=0;x<2;++x)if(l.indexOf(E[x])<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);this._wrapS=E[0],this._wrapT=E[1];var k=this.gl;return this.bind(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this._wrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this._wrapT),E}},shape:{get:function(){return this._shapeVector},set:function(E){if(!Array.isArray(E))E=[E|0,E|0];else if(E.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return h(this,E[0]|0,E[1]|0),[E[0]|0,E[1]|0]}},width:{get:function(){return this._shape[0]},set:function(E){return E=E|0,h(this,E,this._shape[1]),E}},height:{get:function(){return this._shape[1]},set:function(E){return E=E|0,h(this,this._shape[0],E),E}}}),d.bind=function(E){var x=this.gl;return E!==void 0&&x.activeTexture(x.TEXTURE0+(E|0)),x.bindTexture(x.TEXTURE_2D,this.handle),E!==void 0?E|0:x.getParameter(x.ACTIVE_TEXTURE)-x.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var E=Math.min(this._shape[0],this._shape[1]),x=0;E>0;++x,E>>>=1)this._mipLevels.indexOf(x)<0&&this._mipLevels.push(x)},d.setPixels=function(E,x,k,I){var N=this.gl;this.bind(),Array.isArray(x)?(I=k,k=x[1]|0,x=x[0]|0):(x=x||0,k=k||0),I=I||0;var F=f(E)?E:E.raw;if(F){var z=this._mipLevels.indexOf(I)<0;z?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,F),this._mipLevels.push(I)):N.texSubImage2D(N.TEXTURE_2D,I,x,k,this.format,this.type,F)}else if(E.shape&&E.stride&&E.data){if(E.shape.length<2||x+E.shape[1]>this._shape[1]>>>I||k+E.shape[0]>this._shape[0]>>>I||x<0||k<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");w(N,x,k,I,this.format,this.type,this._mipLevels,E)}else throw new Error("gl-texture2d: Unsupported data type")};function A(E,x){return E.length===3?x[2]===1&&x[1]===E[0]*E[2]&&x[0]===E[2]:x[0]===1&&x[1]===E[0]}function w(E,x,k,I,N,F,z,O){var _=O.dtype,B=O.shape.slice();if(B.length<2||B.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var W=0,$=0,te=A(B,O.stride.slice());if(_==="float32"?W=E.FLOAT:_==="float64"?(W=E.FLOAT,te=!1,_="float32"):_==="uint8"?W=E.UNSIGNED_BYTE:(W=E.UNSIGNED_BYTE,te=!1,_="uint8"),B.length===2)$=E.LUMINANCE,B=[B[0],B[1],1],O=t(O.data,B,[O.stride[0],O.stride[1],1],O.offset);else if(B.length===3){if(B[2]===1)$=E.ALPHA;else if(B[2]===2)$=E.LUMINANCE_ALPHA;else if(B[2]===3)$=E.RGB;else if(B[2]===4)$=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");B[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if(($===E.LUMINANCE||$===E.ALPHA)&&(N===E.LUMINANCE||N===E.ALPHA)&&($=N),$!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ie=O.size,ue=z.indexOf(I)<0;if(ue&&z.push(I),W===F&&te)O.offset===0&&O.data.length===ie?ue?E.texImage2D(E.TEXTURE_2D,I,N,B[0],B[1],0,N,F,O.data):E.texSubImage2D(E.TEXTURE_2D,I,x,k,B[0],B[1],N,F,O.data):ue?E.texImage2D(E.TEXTURE_2D,I,N,B[0],B[1],0,N,F,O.data.subarray(O.offset,O.offset+ie)):E.texSubImage2D(E.TEXTURE_2D,I,x,k,B[0],B[1],N,F,O.data.subarray(O.offset,O.offset+ie));else{var J;F===E.FLOAT?J=n.mallocFloat32(ie):J=n.mallocUint8(ie);var Y=t(J,B,[B[2],B[2]*B[0],1]);W===E.FLOAT&&F===E.UNSIGNED_BYTE?T(Y,O):i.assign(Y,O),ue?E.texImage2D(E.TEXTURE_2D,I,N,B[0],B[1],0,N,F,J.subarray(0,ie)):E.texSubImage2D(E.TEXTURE_2D,I,x,k,B[0],B[1],N,F,J.subarray(0,ie)),F===E.FLOAT?n.freeFloat32(J):n.freeUint8(J)}}function C(E){var x=E.createTexture();return E.bindTexture(E.TEXTURE_2D,x),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),x}function b(E,x,k,I,N){var F=E.getParameter(E.MAX_TEXTURE_SIZE);if(x<0||x>F||k<0||k>F)throw new Error("gl-texture2d: Invalid texture shape");if(N===E.FLOAT&&!E.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var z=C(E);return E.texImage2D(E.TEXTURE_2D,0,I,x,k,0,I,N,null),new s(E,z,x,k,I,N)}function S(E,x,k,I,N,F){var z=C(E);return E.texImage2D(E.TEXTURE_2D,0,N,N,F,x),new s(E,z,k,I,N,F)}function m(E,x){var k=x.dtype,I=x.shape.slice(),N=E.getParameter(E.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>N||I[1]<0||I[1]>N)throw new Error("gl-texture2d: Invalid texture size");var F=A(I,x.stride.slice()),z=0;k==="float32"?z=E.FLOAT:k==="float64"?(z=E.FLOAT,F=!1,k="float32"):k==="uint8"?z=E.UNSIGNED_BYTE:(z=E.UNSIGNED_BYTE,F=!1,k="uint8");var O=0;if(I.length===2)O=E.LUMINANCE,I=[I[0],I[1],1],x=t(x.data,I,[x.stride[0],x.stride[1],1],x.offset);else if(I.length===3)if(I[2]===1)O=E.ALPHA;else if(I[2]===2)O=E.LUMINANCE_ALPHA;else if(I[2]===3)O=E.RGB;else if(I[2]===4)O=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");z===E.FLOAT&&!E.getExtension("OES_texture_float")&&(z=E.UNSIGNED_BYTE,F=!1);var _,B,W=x.size;if(F)x.offset===0&&x.data.length===W?_=x.data:_=x.data.subarray(x.offset,x.offset+W);else{var $=[I[2],I[2]*I[0],1];B=n.malloc(W,k);var te=t(B,I,$,0);(k==="float32"||k==="float64")&&z===E.UNSIGNED_BYTE?T(te,x):i.assign(te,x),_=B.subarray(0,W)}var ie=C(E);return E.texImage2D(E.TEXTURE_2D,0,O,I[0],I[1],0,O,z,_),F||n.free(B),new s(E,ie,I[0],I[1],O,z)}function a(E){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(c||g(E),typeof arguments[1]=="number")return b(E,arguments[1],arguments[2],arguments[3]||E.RGBA,arguments[4]||E.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return b(E,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var x=arguments[1],k=f(x)?x:x.raw;if(k)return S(E,k,x.width|0,x.height|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(x.shape&&x.data&&x.stride)return m(E,x)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function p(r,t,i){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(i){if(i.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var c=0;c<i.length;++c){var u=i[c];if(u.buffer){var l=u.buffer,g=u.size||4,f=u.type||r.FLOAT,T=!!u.normalized,h=u.stride||0,s=u.offset||0;l.bind(),r.enableVertexAttribArray(c),r.vertexAttribPointer(c,g,f,T,h,s)}else{if(typeof u=="number")r.vertexAttrib1f(c,u);else if(u.length===1)r.vertexAttrib1f(c,u[0]);else if(u.length===2)r.vertexAttrib2f(c,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(c,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(c,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(c)}}for(;c<n;++c)r.disableVertexAttribArray(c)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var c=0;c<n;++c)r.disableVertexAttribArray(c)}}v.exports=p},7220:function(v,p,r){var t=r(3056);function i(c){this.gl=c,this._elements=null,this._attributes=null,this._elementsType=c.UNSIGNED_SHORT}i.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},i.prototype.update=function(c,u,l){this._elements=u,this._attributes=c,this._elementsType=l||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(c,u,l){l=l||0;var g=this.gl;this._elements?g.drawElements(c,u,this._elementsType,l):g.drawArrays(c,l,u)};function n(c){return new i(c)}v.exports=n},3778:function(v,p,r){var t=r(3056);function i(u,l,g,f,T,h){this.location=u,this.dimension=l,this.a=g,this.b=f,this.c=T,this.d=h}i.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(u,l,g){this.gl=u,this._ext=l,this.handle=g,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(u,l,g){if(this.bind(),t(this.gl,l,u),this.unbind(),this._attribs.length=0,u)for(var f=0;f<u.length;++f){var T=u[f];typeof T=="number"?this._attribs.push(new i(f,1,T)):Array.isArray(T)&&this._attribs.push(new i(f,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!l,this._elementsType=g||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(u,l,g){g=g||0;var f=this.gl;this._useElements?f.drawElements(u,l,this._elementsType,g):f.drawArrays(u,g,l)};function c(u,l){return new n(u,l,l.createVertexArrayOES())}v.exports=c},2944:function(v,p,r){var t=r(3778),i=r(7220);function n(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function c(u,l,g,f){var T=u.createVertexArray?new n(u):u.getExtension("OES_vertex_array_object"),h;return T?h=t(u,T):h=i(u),h.update(l,g,f),h}v.exports=c},2598:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r}},5879:function(v,p,r){v.exports=c;var t=r(5415),i=r(899),n=r(9305);function c(u,l){var g=t(u[0],u[1],u[2]),f=t(l[0],l[1],l[2]);i(g,g),i(f,f);var T=n(g,f);return T>1?0:Math.acos(T)}},8827:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},7622:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8782:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8501:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(v){v.exports=p;function p(r,t,i){var n=t[0],c=t[1],u=t[2],l=i[0],g=i[1],f=i[2];return r[0]=c*f-u*g,r[1]=u*l-n*f,r[2]=n*g-c*l,r}},5981:function(v,p,r){v.exports=r(8288)},8288:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],c=t[2]-r[2];return Math.sqrt(i*i+n*n+c*c)}},8629:function(v,p,r){v.exports=r(7979)},7979:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r}},9305:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},154:function(v){v.exports=1e-6},4932:function(v,p,r){v.exports=i;var t=r(154);function i(n,c){var u=n[0],l=n[1],g=n[2],f=c[0],T=c[1],h=c[2];return Math.abs(u-f)<=t*Math.max(1,Math.abs(u),Math.abs(f))&&Math.abs(l-T)<=t*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(g-h)<=t*Math.max(1,Math.abs(g),Math.abs(h))}},5777:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},3306:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},7447:function(v,p,r){v.exports=i;var t=r(8501)();function i(n,c,u,l,g,f){var T,h;for(c||(c=3),u||(u=0),l?h=Math.min(l*c+u,n.length):h=n.length,T=u;T<h;T+=c)t[0]=n[T],t[1]=n[T+1],t[2]=n[T+2],g(t,t,f),n[T]=t[0],n[T+1]=t[1],n[T+2]=t[2];return n}},5415:function(v){v.exports=p;function p(r,t,i){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=i,n}},2858:function(v,p,r){v.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},1468:function(v,p,r){v.exports=r(4693)},4693:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2];return Math.sqrt(t*t+i*i+n*n)}},1868:function(v){v.exports=p;function p(r,t,i,n){var c=t[0],u=t[1],l=t[2];return r[0]=c+n*(i[0]-c),r[1]=u+n*(i[1]-u),r[2]=l+n*(i[2]-l),r}},1716:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r}},3605:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r}},5733:function(v,p,r){v.exports=r(105)},105:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r}},435:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},899:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],c=t[2],u=i*i+n*n+c*c;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},6660:function(v){v.exports=p;function p(r,t){t=t||1;var i=Math.random()*2*Math.PI,n=Math.random()*2-1,c=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(i)*c,r[1]=Math.sin(i)*c,r[2]=n*t,r}},392:function(v){v.exports=p;function p(r,t,i,n){var c=i[1],u=i[2],l=t[1]-c,g=t[2]-u,f=Math.sin(n),T=Math.cos(n);return r[0]=t[0],r[1]=c+l*T-g*f,r[2]=u+l*f+g*T,r}},3222:function(v){v.exports=p;function p(r,t,i,n){var c=i[0],u=i[2],l=t[0]-c,g=t[2]-u,f=Math.sin(n),T=Math.cos(n);return r[0]=c+g*f+l*T,r[1]=t[1],r[2]=u+g*T-l*f,r}},3388:function(v){v.exports=p;function p(r,t,i,n){var c=i[0],u=i[1],l=t[0]-c,g=t[1]-u,f=Math.sin(n),T=Math.cos(n);return r[0]=c+l*T-g*f,r[1]=u+l*f+g*T,r[2]=t[2],r}},1624:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},5685:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r}},6722:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n,r}},831:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t,r[1]=i,r[2]=n,r}},5294:function(v,p,r){v.exports=r(6403)},3303:function(v,p,r){v.exports=r(4337)},6403:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],c=t[2]-r[2];return i*i+n*n+c*c}},4337:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2];return t*t+i*i+n*n}},8921:function(v,p,r){v.exports=r(911)},911:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r}},9908:function(v){v.exports=p;function p(r,t,i){var n=t[0],c=t[1],u=t[2];return r[0]=n*i[0]+c*i[3]+u*i[6],r[1]=n*i[1]+c*i[4]+u*i[7],r[2]=n*i[2]+c*i[5]+u*i[8],r}},3255:function(v){v.exports=p;function p(r,t,i){var n=t[0],c=t[1],u=t[2],l=i[3]*n+i[7]*c+i[11]*u+i[15];return l=l||1,r[0]=(i[0]*n+i[4]*c+i[8]*u+i[12])/l,r[1]=(i[1]*n+i[5]*c+i[9]*u+i[13])/l,r[2]=(i[2]*n+i[6]*c+i[10]*u+i[14])/l,r}},6568:function(v){v.exports=p;function p(r,t,i){var n=t[0],c=t[1],u=t[2],l=i[0],g=i[1],f=i[2],T=i[3],h=T*n+g*u-f*c,s=T*c+f*n-l*u,d=T*u+l*c-g*n,A=-l*n-g*c-f*u;return r[0]=h*T+A*-l+s*-f-d*-g,r[1]=s*T+A*-g+d*-l-h*-f,r[2]=d*T+A*-f+h*-g-s*-l,r}},3433:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r[3]=t[3]+i[3],r}},1413:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},3470:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},5313:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],c=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(i*i+n*n+c*c+u*u)}},205:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r[3]=t[3]/i[3],r}},4242:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},5680:function(v){v.exports=p;function p(r,t,i,n){var c=new Float32Array(4);return c[0]=r,c[1]=t,c[2]=i,c[3]=n,c}},4020:function(v,p,r){v.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},8177:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],c=r[3];return Math.sqrt(t*t+i*i+n*n+c*c)}},8746:function(v){v.exports=p;function p(r,t,i,n){var c=t[0],u=t[1],l=t[2],g=t[3];return r[0]=c+n*(i[0]-c),r[1]=u+n*(i[1]-u),r[2]=l+n*(i[2]-l),r[3]=g+n*(i[3]-g),r}},3030:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r[3]=Math.max(t[3],i[3]),r}},2170:function(v){v.exports=p;function p(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r[3]=Math.min(t[3],i[3]),r}},746:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r[3]=t[3]*i[3],r}},6459:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},381:function(v){v.exports=p;function p(r,t){var i=t[0],n=t[1],c=t[2],u=t[3],l=i*i+n*n+c*c+u*u;return l>0&&(l=1/Math.sqrt(l),r[0]=i*l,r[1]=n*l,r[2]=c*l,r[3]=u*l),r}},3770:function(v,p,r){var t=r(381),i=r(5510);v.exports=n;function n(c,u){return u=u||1,c[0]=Math.random(),c[1]=Math.random(),c[2]=Math.random(),c[3]=Math.random(),t(c,c),i(c,c,u),c}},5510:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r[3]=t[3]*i,r}},4224:function(v){v.exports=p;function p(r,t,i,n){return r[0]=t[0]+i[0]*n,r[1]=t[1]+i[1]*n,r[2]=t[2]+i[2]*n,r[3]=t[3]+i[3]*n,r}},6453:function(v){v.exports=p;function p(r,t,i,n,c){return r[0]=t,r[1]=i,r[2]=n,r[3]=c,r}},1542:function(v){v.exports=p;function p(r,t){var i=t[0]-r[0],n=t[1]-r[1],c=t[2]-r[2],u=t[3]-r[3];return i*i+n*n+c*c+u*u}},9037:function(v){v.exports=p;function p(r){var t=r[0],i=r[1],n=r[2],c=r[3];return t*t+i*i+n*n+c*c}},2705:function(v){v.exports=p;function p(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r[3]=t[3]-i[3],r}},6342:function(v){v.exports=p;function p(r,t,i){var n=t[0],c=t[1],u=t[2],l=t[3];return r[0]=i[0]*n+i[4]*c+i[8]*u+i[12]*l,r[1]=i[1]*n+i[5]*c+i[9]*u+i[13]*l,r[2]=i[2]*n+i[6]*c+i[10]*u+i[14]*l,r[3]=i[3]*n+i[7]*c+i[11]*u+i[15]*l,r}},5022:function(v){v.exports=p;function p(r,t,i){var n=t[0],c=t[1],u=t[2],l=i[0],g=i[1],f=i[2],T=i[3],h=T*n+g*u-f*c,s=T*c+f*n-l*u,d=T*u+l*c-g*n,A=-l*n-g*c-f*u;return r[0]=h*T+A*-l+s*-f-d*-g,r[1]=s*T+A*-g+d*-l-h*-f,r[2]=d*T+A*-f+h*-g-s*-l,r[3]=t[3],r}},9365:function(v,p,r){var t=r(8096),i=r(7896);v.exports=n;function n(c){for(var u=Array.isArray(c)?c:t(c),l=0;l<u.length;l++){var g=u[l];if(g.type==="preprocessor"){var f=g.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(f&&f[2]){var T=f[1],h=f[2];return(T?i(h):h).trim()}}}}},3193:function(v,p,r){v.exports=x;var t=r(399),i=r(9746),n=r(9525),c=r(9458),u=r(3585),l=999,g=9999,f=0,T=1,h=2,s=3,d=4,A=5,w=6,C=7,b=8,S=9,m=10,a=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function x(k){var I=0,N=0,F=l,z,O,_=[],B=[],W=1,$=0,te=0,ie=!1,ue=!1,J="",Y;k=k||{};var ae=n,j=t;k.version==="300 es"&&(ae=u,j=c);for(var q={},oe={},I=0;I<ae.length;I++)q[ae[I]]=!0;for(var I=0;I<j.length;I++)oe[j[I]]=!0;return function(Ue){return B=[],Ue!==null?X(Ue):se()};function Q(Ue){Ue.length&&B.push({type:E[F],data:Ue,position:te,line:W,column:$})}function X(Ue){I=0,Ue.toString&&(Ue=Ue.toString()),J+=Ue.replace(/\r\n/g,`
`),Y=J.length;for(var De;z=J[I],I<Y;){switch(De=I,F){case f:I=we();break;case T:I=Se();break;case h:I=ye();break;case s:I=_e();break;case d:I=me();break;case a:I=Me();break;case A:I=Ee();break;case g:I=Be();break;case S:I=fe();break;case l:I=ne();break}if(De!==I)switch(J[De]){case`
`:$=0,++W;break;default:++$;break}}return N+=I,J=J.slice(I),B}function se(Ue){return _.length&&Q(_.join("")),F=m,Q("(eof)"),B}function ne(){return _=_.length?[]:_,O==="/"&&z==="*"?(te=N+I-1,F=f,O=z,I+1):O==="/"&&z==="/"?(te=N+I-1,F=T,O=z,I+1):z==="#"?(F=h,te=N+I,I):/\s/.test(z)?(F=S,te=N+I,I):(ie=/\d/.test(z),ue=/[^\w_]/.test(z),te=N+I,F=ie?d:ue?s:g,I)}function fe(){return/[^\s]/g.test(z)?(Q(_.join("")),F=l,I):(_.push(z),O=z,I+1)}function ye(){return(z==="\r"||z===`
`)&&O!=="\\"?(Q(_.join("")),F=l,I):(_.push(z),O=z,I+1)}function Se(){return ye()}function we(){return z==="/"&&O==="*"?(_.push(z),Q(_.join("")),F=l,I+1):(_.push(z),O=z,I+1)}function _e(){if(O==="."&&/\d/.test(z))return F=A,I;if(O==="/"&&z==="*")return F=f,I;if(O==="/"&&z==="/")return F=T,I;if(z==="."&&_.length){for(;ke(_););return F=A,I}if(z===";"||z===")"||z==="("){if(_.length)for(;ke(_););return Q(z),F=l,I+1}var Ue=_.length===2&&z!=="=";if(/[\w_\d\s]/.test(z)||Ue){for(;ke(_););return F=l,I}return _.push(z),O=z,I+1}function ke(Ue){var De=0,He,nt;do{if(He=i.indexOf(Ue.slice(0,Ue.length+De).join("")),nt=i[He],He===-1){if(De--+Ue.length>0)continue;nt=Ue.slice(0,1).join("")}return Q(nt),te+=nt.length,_=_.slice(nt.length),_.length}while(1)}function Me(){return/[^a-fA-F0-9]/.test(z)?(Q(_.join("")),F=l,I):(_.push(z),O=z,I+1)}function me(){return z==="."||/[eE]/.test(z)?(_.push(z),F=A,O=z,I+1):z==="x"&&_.length===1&&_[0]==="0"?(F=a,_.push(z),O=z,I+1):/[^\d]/.test(z)?(Q(_.join("")),F=l,I):(_.push(z),O=z,I+1)}function Ee(){return z==="f"&&(_.push(z),O=z,I+=1),/[eE]/.test(z)||(z==="-"||z==="+")&&/[eE]/.test(O)?(_.push(z),O=z,I+1):/[^\d]/.test(z)?(Q(_.join("")),F=l,I):(_.push(z),O=z,I+1)}function Be(){if(/[^\d\w_]/.test(z)){var Ue=_.join("");return oe[Ue]?F=b:q[Ue]?F=C:F=w,Q(_.join("")),F=l,I}return _.push(z),O=z,I+1}}},3585:function(v,p,r){var t=r(9525);t=t.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,p,r){var t=r(399);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,p,r){var t=r(3193);v.exports=i;function i(n,c){var u=t(c),l=[];return l=l.concat(u(n)),l=l.concat(u(null)),l}},6832:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],i=0;i<p.length-1;i++)t.push(p[i],r[i]||"");return t.push(p[i]),t.join("")}},5233:function(v,p,r){var t=r(4846);function i(){var n=!1;try{var c=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,c),window.removeEventListener("test",null,c)}catch{n=!1}return n}v.exports=t&&i()},2183:function(v,p,r){v.exports=s;var t=r(417),i=r(8211).H;function n(d,A,w){this.vertices=d,this.adjacent=A,this.boundary=w,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var A=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=A};function c(d,A,w){this.vertices=d,this.cell=A,this.index=w}function u(d,A){return i(d.vertices,A.vertices)}function l(d){return function(){var A=this.tuple;return d.apply(this,A)}}function g(d){var A=t[d+1];return A||(A=t),l(A)}var f=[];function T(d,A,w){this.dimension=d,this.vertices=A,this.simplices=w,this.interior=w.filter(function(S){return!S.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var b=f[d];b||(b=f[d]=g(d)),this.orient=b}var h=T.prototype;h.handleBoundaryDegeneracy=function(d,A){var w=this.dimension,C=this.vertices.length-1,b=this.tuple,S=this.vertices,m=[d];for(d.lastVisited=-C;m.length>0;){d=m.pop();for(var a=d.adjacent,E=0;E<=w;++E){var x=a[E];if(!(!x.boundary||x.lastVisited<=-C)){for(var k=x.vertices,I=0;I<=w;++I){var N=k[I];N<0?b[I]=A:b[I]=S[N]}var F=this.orient();if(F>0)return x;x.lastVisited=-C,F===0&&m.push(x)}}}return null},h.walk=function(d,A){var w=this.vertices.length-1,C=this.dimension,b=this.vertices,S=this.tuple,m=A?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[m];e:for(;!a.boundary;){for(var E=a.vertices,x=a.adjacent,k=0;k<=C;++k)S[k]=b[E[k]];a.lastVisited=w;for(var k=0;k<=C;++k){var I=x[k];if(!(I.lastVisited>=w)){var N=S[k];S[k]=d;var F=this.orient();if(S[k]=N,F<0){a=I;continue e}else I.boundary?I.lastVisited=-w:I.lastVisited=w}}return}return a},h.addPeaks=function(d,A){var w=this.vertices.length-1,C=this.dimension,b=this.vertices,S=this.tuple,m=this.interior,a=this.simplices,E=[A];A.lastVisited=w,A.vertices[A.vertices.indexOf(-1)]=w,A.boundary=!1,m.push(A);for(var x=[];E.length>0;){var A=E.pop(),k=A.vertices,I=A.adjacent,N=k.indexOf(w);if(!(N<0)){for(var F=0;F<=C;++F)if(F!==N){var z=I[F];if(!(!z.boundary||z.lastVisited>=w)){var O=z.vertices;if(z.lastVisited!==-w){for(var _=0,B=0;B<=C;++B)O[B]<0?(_=B,S[B]=d):S[B]=b[O[B]];var W=this.orient();if(W>0){O[_]=w,z.boundary=!1,m.push(z),E.push(z),z.lastVisited=w;continue}else z.lastVisited=-w}var $=z.adjacent,te=k.slice(),ie=I.slice(),ue=new n(te,ie,!0);a.push(ue);var J=$.indexOf(A);if(!(J<0)){$[J]=ue,ie[N]=z,te[F]=-1,ie[F]=A,I[F]=ue,ue.flip();for(var B=0;B<=C;++B){var Y=te[B];if(!(Y<0||Y===w)){for(var ae=new Array(C-1),j=0,q=0;q<=C;++q){var oe=te[q];oe<0||q===B||(ae[j++]=oe)}x.push(new c(ae,ue,B))}}}}}}}x.sort(u);for(var F=0;F+1<x.length;F+=2){var Q=x[F],X=x[F+1],se=Q.index,ne=X.index;se<0||ne<0||(Q.cell.adjacent[Q.index]=X.cell,X.cell.adjacent[X.index]=Q.cell)}},h.insert=function(d,A){var w=this.vertices;w.push(d);var C=this.walk(d,A);if(C){for(var b=this.dimension,S=this.tuple,m=0;m<=b;++m){var a=C.vertices[m];a<0?S[m]=d:S[m]=w[a]}var E=this.orient(S);E<0||E===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},h.boundary=function(){for(var d=this.dimension,A=[],w=this.simplices,C=w.length,b=0;b<C;++b){var S=w[b];if(S.boundary){for(var m=new Array(d),a=S.vertices,E=0,x=0,k=0;k<=d;++k)a[k]>=0?m[E++]=a[k]:x=k&1;if(x===(d&1)){var I=m[0];m[0]=m[1],m[1]=I}A.push(m)}}return A};function s(d,A){var w=d.length;if(w===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(w<=C)throw new Error("Must input at least d+1 points");var b=d.slice(0,C+1),S=t.apply(void 0,b);if(S===0)throw new Error("Input not in general position");for(var m=new Array(C+1),a=0;a<=C;++a)m[a]=a;S<0&&(m[0]=1,m[1]=0);for(var E=new n(m,new Array(C+1),!1),x=E.adjacent,k=new Array(C+2),a=0;a<=C;++a){for(var I=m.slice(),N=0;N<=C;++N)N===a&&(I[N]=-1);var F=I[0];I[0]=I[1],I[1]=F;var z=new n(I,new Array(C+1),!0);x[a]=z,k[a]=z}k[C+1]=E;for(var a=0;a<=C;++a)for(var I=x[a].vertices,O=x[a].adjacent,N=0;N<=C;++N){var _=I[N];if(_<0){O[N]=E;continue}for(var B=0;B<=C;++B)x[B].vertices.indexOf(_)<0&&(O[N]=x[B])}for(var W=new T(C,b,k),$=!!A,a=C+1;a<w;++a)W.insert(d[a],$);return W.boundary()}},9014:function(v,p,r){var t=r(5070),i=0,n=1,c=2;v.exports=E;function u(x,k,I,N,F){this.mid=x,this.left=k,this.right=I,this.leftPoints=N,this.rightPoints=F,this.count=(k?k.count:0)+(I?I.count:0)+N.length}var l=u.prototype;function g(x,k){x.mid=k.mid,x.left=k.left,x.right=k.right,x.leftPoints=k.leftPoints,x.rightPoints=k.rightPoints,x.count=k.count}function f(x,k){var I=S(k);x.mid=I.mid,x.left=I.left,x.right=I.right,x.leftPoints=I.leftPoints,x.rightPoints=I.rightPoints,x.count=I.count}function T(x,k){var I=x.intervals([]);I.push(k),f(x,I)}function h(x,k){var I=x.intervals([]),N=I.indexOf(k);return N<0?i:(I.splice(N,1),f(x,I),n)}l.intervals=function(x){return x.push.apply(x,this.leftPoints),this.left&&this.left.intervals(x),this.right&&this.right.intervals(x),x},l.insert=function(x){var k=this.count-this.leftPoints.length;if(this.count+=1,x[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?T(this,x):this.left.insert(x):this.left=S([x]);else if(x[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?T(this,x):this.right.insert(x):this.right=S([x]);else{var I=t.ge(this.leftPoints,x,C),N=t.ge(this.rightPoints,x,b);this.leftPoints.splice(I,0,x),this.rightPoints.splice(N,0,x)}},l.remove=function(x){var k=this.count-this.leftPoints;if(x[1]<this.mid){if(!this.left)return i;var I=this.right?this.right.count:0;if(4*I>3*(k-1))return h(this,x);var N=this.left.remove(x);return N===c?(this.left=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else if(x[0]>this.mid){if(!this.right)return i;var F=this.left?this.left.count:0;if(4*F>3*(k-1))return h(this,x);var N=this.right.remove(x);return N===c?(this.right=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===x?c:i;if(this.leftPoints.length===1&&this.leftPoints[0]===x){if(this.left&&this.right){for(var z=this,O=this.left;O.right;)z=O,O=O.right;if(z===this)O.right=this.right;else{var _=this.left,N=this.right;z.count-=O.count,z.right=O.left,O.left=_,O.right=N}g(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?g(this,this.left):g(this,this.right);return n}for(var _=t.ge(this.leftPoints,x,C);_<this.leftPoints.length&&this.leftPoints[_][0]===x[0];++_)if(this.leftPoints[_]===x){this.count-=1,this.leftPoints.splice(_,1);for(var N=t.ge(this.rightPoints,x,b);N<this.rightPoints.length&&this.rightPoints[N][1]===x[1];++N)if(this.rightPoints[N]===x)return this.rightPoints.splice(N,1),n}return i}};function s(x,k,I){for(var N=0;N<x.length&&x[N][0]<=k;++N){var F=I(x[N]);if(F)return F}}function d(x,k,I){for(var N=x.length-1;N>=0&&x[N][1]>=k;--N){var F=I(x[N]);if(F)return F}}function A(x,k){for(var I=0;I<x.length;++I){var N=k(x[I]);if(N)return N}}l.queryPoint=function(x,k){if(x<this.mid){if(this.left){var I=this.left.queryPoint(x,k);if(I)return I}return s(this.leftPoints,x,k)}else if(x>this.mid){if(this.right){var I=this.right.queryPoint(x,k);if(I)return I}return d(this.rightPoints,x,k)}else return A(this.leftPoints,k)},l.queryInterval=function(x,k,I){if(x<this.mid&&this.left){var N=this.left.queryInterval(x,k,I);if(N)return N}if(k>this.mid&&this.right){var N=this.right.queryInterval(x,k,I);if(N)return N}return k<this.mid?s(this.leftPoints,k,I):x>this.mid?d(this.rightPoints,x,I):A(this.leftPoints,I)};function w(x,k){return x-k}function C(x,k){var I=x[0]-k[0];return I||x[1]-k[1]}function b(x,k){var I=x[1]-k[1];return I||x[0]-k[0]}function S(x){if(x.length===0)return null;for(var k=[],I=0;I<x.length;++I)k.push(x[I][0],x[I][1]);k.sort(w);for(var N=k[k.length>>1],F=[],z=[],O=[],I=0;I<x.length;++I){var _=x[I];_[1]<N?F.push(_):N<_[0]?z.push(_):O.push(_)}var B=O,W=O.slice();return B.sort(C),W.sort(b),new u(N,S(F),S(z),B,W)}function m(x){this.root=x}var a=m.prototype;a.insert=function(x){this.root?this.root.insert(x):this.root=new u(x[0],null,null,[x],[x])},a.remove=function(x){if(this.root){var k=this.root.remove(x);return k===c&&(this.root=null),k!==i}return!1},a.queryPoint=function(x,k){if(this.root)return this.root.queryPoint(x,k)},a.queryInterval=function(x,k,I){if(x<=k&&this.root)return this.root.queryInterval(x,k,I)},Object.defineProperty(a,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(a,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function E(x){return!x||x.length===0?new m(null):new m(S(x))}},9560:function(v){function p(r){for(var t=new Array(r),i=0;i<r;++i)t[i]=i;return t}v.exports=p},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},3596:function(v){v.exports=function(p){for(var r=p.length,t,i=0;i<r;i++)if(t=p.charCodeAt(i),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(v){function p(r,t,i){return r*(1-i)+t*i}v.exports=p},7191:function(v,p,r){var t=r(4690),i=r(9823),n=r(7332),c=r(7787),u=r(7437),l=r(2142),g={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},f=i(),T=i(),h=[0,0,0,0],s=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(S,m,a,E,x,k){if(m||(m=[0,0,0]),a||(a=[0,0,0]),E||(E=[0,0,0]),x||(x=[0,0,0,1]),k||(k=[0,0,0,1]),!t(f,S)||(n(T,f),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(c(T)<1e-8)))return!1;var I=f[3],N=f[7],F=f[11],z=f[12],O=f[13],_=f[14],B=f[15];if(I!==0||N!==0||F!==0){h[0]=I,h[1]=N,h[2]=F,h[3]=B;var W=u(T,T);if(!W)return!1;l(T,T),A(x,h,T)}else x[0]=x[1]=x[2]=0,x[3]=1;if(m[0]=z,m[1]=O,m[2]=_,w(s,f),a[0]=g.length(s[0]),g.normalize(s[0],s[0]),E[0]=g.dot(s[0],s[1]),C(s[1],s[1],s[0],1,-E[0]),a[1]=g.length(s[1]),g.normalize(s[1],s[1]),E[0]/=a[1],E[1]=g.dot(s[0],s[2]),C(s[2],s[2],s[0],1,-E[1]),E[2]=g.dot(s[1],s[2]),C(s[2],s[2],s[1],1,-E[2]),a[2]=g.length(s[2]),g.normalize(s[2],s[2]),E[1]/=a[2],E[2]/=a[2],g.cross(d,s[1],s[2]),g.dot(s[0],d)<0)for(var $=0;$<3;$++)a[$]*=-1,s[$][0]*=-1,s[$][1]*=-1,s[$][2]*=-1;return k[0]=.5*Math.sqrt(Math.max(1+s[0][0]-s[1][1]-s[2][2],0)),k[1]=.5*Math.sqrt(Math.max(1-s[0][0]+s[1][1]-s[2][2],0)),k[2]=.5*Math.sqrt(Math.max(1-s[0][0]-s[1][1]+s[2][2],0)),k[3]=.5*Math.sqrt(Math.max(1+s[0][0]+s[1][1]+s[2][2],0)),s[2][1]>s[1][2]&&(k[0]=-k[0]),s[0][2]>s[2][0]&&(k[1]=-k[1]),s[1][0]>s[0][1]&&(k[2]=-k[2]),!0};function A(b,S,m){var a=S[0],E=S[1],x=S[2],k=S[3];return b[0]=m[0]*a+m[4]*E+m[8]*x+m[12]*k,b[1]=m[1]*a+m[5]*E+m[9]*x+m[13]*k,b[2]=m[2]*a+m[6]*E+m[10]*x+m[14]*k,b[3]=m[3]*a+m[7]*E+m[11]*x+m[15]*k,b}function w(b,S){b[0][0]=S[0],b[0][1]=S[1],b[0][2]=S[2],b[1][0]=S[4],b[1][1]=S[5],b[1][2]=S[6],b[2][0]=S[8],b[2][1]=S[9],b[2][2]=S[10]}function C(b,S,m,a,E){b[0]=S[0]*a+m[0]*E,b[1]=S[1]*a+m[1]*E,b[2]=S[2]*a+m[2]*E}},4690:function(v){v.exports=function(r,t){var i=t[15];if(i===0)return!1;for(var n=1/i,c=0;c<16;c++)r[c]=t[c]*n;return!0}},7649:function(v,p,r){var t=r(1868),i=r(1102),n=r(7191),c=r(7787),u=r(1116),l=h(),g=h(),f=h();v.exports=T;function T(A,w,C,b){if(c(w)===0||c(C)===0)return!1;var S=n(w,l.translate,l.scale,l.skew,l.perspective,l.quaternion),m=n(C,g.translate,g.scale,g.skew,g.perspective,g.quaternion);return!S||!m?!1:(t(f.translate,l.translate,g.translate,b),t(f.skew,l.skew,g.skew,b),t(f.scale,l.scale,g.scale,b),t(f.perspective,l.perspective,g.perspective,b),u(f.quaternion,l.quaternion,g.quaternion,b),i(A,f.translate,f.scale,f.skew,f.perspective,f.quaternion),!0)}function h(){return{translate:s(),scale:s(1),skew:s(),perspective:d(),quaternion:d()}}function s(A){return[A||0,A||0,A||0]}function d(){return[0,0,0,1]}},1102:function(v,p,r){var t={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)};t.create();var i=t.create();v.exports=function(c,u,l,g,f,T){return t.identity(c),t.fromRotationTranslation(c,T,u),c[3]=f[0],c[7]=f[1],c[11]=f[2],c[15]=f[3],t.identity(i),g[2]!==0&&(i[9]=g[2],t.multiply(c,c,i)),g[1]!==0&&(i[9]=0,i[8]=g[1],t.multiply(c,c,i)),g[0]!==0&&(i[8]=0,i[4]=g[0],t.multiply(c,c,i)),t.scale(c,c,l),c}},9298:function(v,p,r){var t=r(5070),i=r(7649),n=r(7437),c=r(6109),u=r(7115),l=r(5240),g=r(3012),f=r(998);r(3668);var T=r(899),h=[0,0,0];v.exports=w;function s(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=s.prototype;d.recalcMatrix=function(C){var b=this._time,S=t.le(b,C),m=this.computedMatrix;if(!(S<0)){var a=this._components;if(S===b.length-1)for(var E=16*S,x=0;x<16;++x)m[x]=a[E++];else{for(var k=b[S+1]-b[S],E=16*S,I=this.prevMatrix,N=!0,x=0;x<16;++x)I[x]=a[E++];for(var F=this.nextMatrix,x=0;x<16;++x)F[x]=a[E++],N=N&&I[x]===F[x];if(k<1e-6||N)for(var x=0;x<16;++x)m[x]=I[x];else i(m,I,F,(C-b[S])/k)}var z=this.computedUp;z[0]=m[1],z[1]=m[5],z[2]=m[9],T(z,z);var O=this.computedInverse;n(O,m);var _=this.computedEye,B=O[15];_[0]=O[12]/B,_[1]=O[13]/B,_[2]=O[14]/B;for(var W=this.computedCenter,$=Math.exp(this.computedRadius[0]),x=0;x<3;++x)W[x]=_[x]-m[2+4*x]*$}},d.idle=function(C){if(!(C<this.lastT())){for(var b=this._components,S=b.length-16,m=0;m<16;++m)b.push(b[S++]);this._time.push(C)}},d.flush=function(C){var b=t.gt(this._time,C)-2;b<0||(this._time.splice(0,b),this._components.splice(0,16*b))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,b,S,m){this.recalcMatrix(C),b=b||this.computedEye,S=S||h,m=m||this.computedUp,this.setMatrix(C,g(this.computedMatrix,b,S,m));for(var a=0,E=0;E<3;++E)a+=Math.pow(S[E]-b[E],2);a=Math.log(Math.sqrt(a)),this.computedRadius[0]=a},d.rotate=function(C,b,S,m){this.recalcMatrix(C);var a=this.computedInverse;b&&u(a,a,b),S&&c(a,a,S),m&&l(a,a,m),this.setMatrix(C,n(this.computedMatrix,a))};var A=[0,0,0];d.pan=function(C,b,S,m){A[0]=-(b||0),A[1]=-(S||0),A[2]=-(m||0),this.recalcMatrix(C);var a=this.computedInverse;f(a,a,A),this.setMatrix(C,n(a,a))},d.translate=function(C,b,S,m){A[0]=b||0,A[1]=S||0,A[2]=m||0,this.recalcMatrix(C);var a=this.computedMatrix;f(a,a,A),this.setMatrix(C,a)},d.setMatrix=function(C,b){if(!(C<this.lastT())){this._time.push(C);for(var S=0;S<16;++S)this._components.push(b[S])}},d.setDistance=function(C,b){this.computedRadius[0]=b},d.setDistanceLimits=function(C,b){var S=this._limits;S[0]=C,S[1]=b},d.getDistanceLimits=function(C){var b=this._limits;return C?(C[0]=b[0],C[1]=b[1],C):b};function w(C){C=C||{};var b=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new s(b)}},3266:function(v,p,r){v.exports=i;var t=r(417)[3];function i(n){var c=n.length;if(c<3){for(var d=new Array(c),u=0;u<c;++u)d[u]=u;return c===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var l=new Array(c),u=0;u<c;++u)l[u]=u;l.sort(function(b,S){var m=n[b][0]-n[S][0];return m||n[b][1]-n[S][1]});for(var g=[l[0],l[1]],f=[l[0],l[1]],u=2;u<c;++u){for(var T=l[u],h=n[T],s=g.length;s>1&&t(n[g[s-2]],n[g[s-1]],h)<=0;)s-=1,g.pop();for(g.push(T),s=f.length;s>1&&t(n[f[s-2]],n[f[s-1]],h)>=0;)s-=1,f.pop();f.push(T)}for(var d=new Array(f.length+g.length-2),A=0,u=0,w=g.length;u<w;++u)d[A++]=g[u];for(var C=f.length-2;C>0;--C)d[A++]=f[C];return d}},6145:function(v,p,r){v.exports=i;var t=r(4110);function i(n,c){c||(c=n,n=window);var u=0,l=0,g=0,f={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function h(x){var k=!1;return"altKey"in x&&(k=k||x.altKey!==f.alt,f.alt=!!x.altKey),"shiftKey"in x&&(k=k||x.shiftKey!==f.shift,f.shift=!!x.shiftKey),"ctrlKey"in x&&(k=k||x.ctrlKey!==f.control,f.control=!!x.ctrlKey),"metaKey"in x&&(k=k||x.metaKey!==f.meta,f.meta=!!x.metaKey),k}function s(x,k){var I=t.x(k),N=t.y(k);"buttons"in k&&(x=k.buttons|0),(x!==u||I!==l||N!==g||h(k))&&(u=x|0,l=I||0,g=N||0,c&&c(u,l,g,f))}function d(x){s(0,x)}function A(){(u||l||g||f.shift||f.alt||f.meta||f.control)&&(l=g=0,u=0,f.shift=f.alt=f.control=f.meta=!1,c&&c(0,0,0,f))}function w(x){h(x)&&c&&c(u,l,g,f)}function C(x){t.buttons(x)===0?s(0,x):s(u,x)}function b(x){s(u|t.buttons(x),x)}function S(x){s(u&~t.buttons(x),x)}function m(){T||(T=!0,n.addEventListener("mousemove",C),n.addEventListener("mousedown",b),n.addEventListener("mouseup",S),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",A),n.addEventListener("keyup",w),n.addEventListener("keydown",w),n.addEventListener("keypress",w),n!==window&&(window.addEventListener("blur",A),window.addEventListener("keyup",w),window.addEventListener("keydown",w),window.addEventListener("keypress",w)))}function a(){T&&(T=!1,n.removeEventListener("mousemove",C),n.removeEventListener("mousedown",b),n.removeEventListener("mouseup",S),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",A),n.removeEventListener("keyup",w),n.removeEventListener("keydown",w),n.removeEventListener("keypress",w),n!==window&&(window.removeEventListener("blur",A),window.removeEventListener("keyup",w),window.removeEventListener("keydown",w),window.removeEventListener("keypress",w)))}m();var E={element:n};return Object.defineProperties(E,{enabled:{get:function(){return T},set:function(x){x?m():a()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return f},enumerable:!0}}),E}},2565:function(v){var p={left:0,top:0};v.exports=r;function r(i,n,c){n=n||i.currentTarget||i.srcElement,Array.isArray(c)||(c=[0,0]);var u=i.clientX||0,l=i.clientY||0,g=t(n);return c[0]=u-g.left,c[1]=l-g.top,c}function t(i){return i===window||i===document||i===document.body?p:i.getBoundingClientRect()}},4110:function(v,p){function r(c){if(typeof c=="object"){if("buttons"in c)return c.buttons;if("which"in c){var u=c.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in c){var u=c.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}p.buttons=r;function t(c){return c.target||c.srcElement||window}p.element=t;function i(c){if(typeof c=="object"){if("offsetX"in c)return c.offsetX;var u=t(c),l=u.getBoundingClientRect();return c.clientX-l.left}return 0}p.x=i;function n(c){if(typeof c=="object"){if("offsetY"in c)return c.offsetY;var u=t(c),l=u.getBoundingClientRect();return c.clientY-l.top}return 0}p.y=n},6475:function(v,p,r){var t=r(14);v.exports=i;function i(n,c,u){typeof n=="function"&&(u=!!c,c=n,n=window);var l=t("ex",n),g=function(f){u&&f.preventDefault();var T=f.deltaX||0,h=f.deltaY||0,s=f.deltaZ||0,d=f.deltaMode,A=1;switch(d){case 1:A=l;break;case 2:A=window.innerHeight;break}if(T*=A,h*=A,s*=A,T||h||s)return c(T,h,s,f)};return n.addEventListener("wheel",g),g}},9284:function(v,p,r){var t=r(5306);v.exports=c;var i={"false,0,1":function(l,g,f,T,h){return function(d,A,w,C){var b=d.shape[0]|0,S=d.shape[1]|0,m=d.data,a=d.offset|0,E=d.stride[0]|0,x=d.stride[1]|0,k=a,I,N=-E|0,F=0,z=-x|0,O=0,_=-E-x|0,B=0,W=E|0,$=x-E*b|0,te=0,ie=0,ue=0,J=2*b|0,Y=T(J),ae=T(J),j=0,q=0,oe=-1,Q=-1,X=0,se=-b|0,ne=b|0,fe=0,ye=-b-1|0,Se=b-1|0,we=0,_e=0,ke=0;for(te=0;te<b;++te)Y[j++]=f(m[k],A,w,C),k+=W;if(k+=$,S>0){if(ie=1,Y[j++]=f(m[k],A,w,C),k+=W,b>0)for(te=1,I=m[k],q=Y[j]=f(I,A,w,C),X=Y[j+oe],fe=Y[j+se],we=Y[j+ye],(q!==X||q!==fe||q!==we)&&(F=m[k+N],O=m[k+z],B=m[k+_],l(te,ie,I,F,O,B,q,X,fe,we,A,w,C),_e=ae[j]=ue++),j+=1,k+=W,te=2;te<b;++te)I=m[k],q=Y[j]=f(I,A,w,C),X=Y[j+oe],fe=Y[j+se],we=Y[j+ye],(q!==X||q!==fe||q!==we)&&(F=m[k+N],O=m[k+z],B=m[k+_],l(te,ie,I,F,O,B,q,X,fe,we,A,w,C),_e=ae[j]=ue++,we!==X&&g(ae[j+oe],_e,B,F,we,X,A,w,C)),j+=1,k+=W;for(k+=$,j=0,ke=oe,oe=Q,Q=ke,ke=se,se=ne,ne=ke,ke=ye,ye=Se,Se=ke,ie=2;ie<S;++ie){if(Y[j++]=f(m[k],A,w,C),k+=W,b>0)for(te=1,I=m[k],q=Y[j]=f(I,A,w,C),X=Y[j+oe],fe=Y[j+se],we=Y[j+ye],(q!==X||q!==fe||q!==we)&&(F=m[k+N],O=m[k+z],B=m[k+_],l(te,ie,I,F,O,B,q,X,fe,we,A,w,C),_e=ae[j]=ue++,we!==fe&&g(ae[j+se],_e,O,B,fe,we,A,w,C)),j+=1,k+=W,te=2;te<b;++te)I=m[k],q=Y[j]=f(I,A,w,C),X=Y[j+oe],fe=Y[j+se],we=Y[j+ye],(q!==X||q!==fe||q!==we)&&(F=m[k+N],O=m[k+z],B=m[k+_],l(te,ie,I,F,O,B,q,X,fe,we,A,w,C),_e=ae[j]=ue++,we!==fe&&g(ae[j+se],_e,O,B,fe,we,A,w,C),we!==X&&g(ae[j+oe],_e,B,F,we,X,A,w,C)),j+=1,k+=W;ie&1&&(j=0),ke=oe,oe=Q,Q=ke,ke=se,se=ne,ne=ke,ke=ye,ye=Se,Se=ke,k+=$}}h(ae),h(Y)}},"false,1,0":function(l,g,f,T,h){return function(d,A,w,C){var b=d.shape[0]|0,S=d.shape[1]|0,m=d.data,a=d.offset|0,E=d.stride[0]|0,x=d.stride[1]|0,k=a,I,N=-E|0,F=0,z=-x|0,O=0,_=-E-x|0,B=0,W=x|0,$=E-x*S|0,te=0,ie=0,ue=0,J=2*S|0,Y=T(J),ae=T(J),j=0,q=0,oe=-1,Q=-1,X=0,se=-S|0,ne=S|0,fe=0,ye=-S-1|0,Se=S-1|0,we=0,_e=0,ke=0;for(ie=0;ie<S;++ie)Y[j++]=f(m[k],A,w,C),k+=W;if(k+=$,b>0){if(te=1,Y[j++]=f(m[k],A,w,C),k+=W,S>0)for(ie=1,I=m[k],q=Y[j]=f(I,A,w,C),fe=Y[j+se],X=Y[j+oe],we=Y[j+ye],(q!==fe||q!==X||q!==we)&&(F=m[k+N],O=m[k+z],B=m[k+_],l(te,ie,I,F,O,B,q,fe,X,we,A,w,C),_e=ae[j]=ue++),j+=1,k+=W,ie=2;ie<S;++ie)I=m[k],q=Y[j]=f(I,A,w,C),fe=Y[j+se],X=Y[j+oe],we=Y[j+ye],(q!==fe||q!==X||q!==we)&&(F=m[k+N],O=m[k+z],B=m[k+_],l(te,ie,I,F,O,B,q,fe,X,we,A,w,C),_e=ae[j]=ue++,we!==X&&g(ae[j+oe],_e,O,B,X,we,A,w,C)),j+=1,k+=W;for(k+=$,j=0,ke=se,se=ne,ne=ke,ke=oe,oe=Q,Q=ke,ke=ye,ye=Se,Se=ke,te=2;te<b;++te){if(Y[j++]=f(m[k],A,w,C),k+=W,S>0)for(ie=1,I=m[k],q=Y[j]=f(I,A,w,C),fe=Y[j+se],X=Y[j+oe],we=Y[j+ye],(q!==fe||q!==X||q!==we)&&(F=m[k+N],O=m[k+z],B=m[k+_],l(te,ie,I,F,O,B,q,fe,X,we,A,w,C),_e=ae[j]=ue++,we!==fe&&g(ae[j+se],_e,B,F,we,fe,A,w,C)),j+=1,k+=W,ie=2;ie<S;++ie)I=m[k],q=Y[j]=f(I,A,w,C),fe=Y[j+se],X=Y[j+oe],we=Y[j+ye],(q!==fe||q!==X||q!==we)&&(F=m[k+N],O=m[k+z],B=m[k+_],l(te,ie,I,F,O,B,q,fe,X,we,A,w,C),_e=ae[j]=ue++,we!==X&&g(ae[j+oe],_e,O,B,X,we,A,w,C),we!==fe&&g(ae[j+se],_e,B,F,we,fe,A,w,C)),j+=1,k+=W;te&1&&(j=0),ke=se,se=ne,ne=ke,ke=oe,oe=Q,Q=ke,ke=ye,ye=Se,Se=ke,k+=$}}h(ae),h(Y)}}};function n(u,l,g,f,T,h){var s=[h,T].join(","),d=i[s];return d(u,l,g,t.mallocUint32,t.freeUint32)}function c(u){function l(A){throw new Error("ndarray-extract-contour: "+A)}typeof u!="object"&&l("Must specify arguments");var g=u.order;Array.isArray(g)||l("Must specify order");var f=u.arrayArguments||1;f<1&&l("Must have at least one array argument");var T=u.scalarArguments||0;T<0&&l("Scalar arg count must be > 0"),typeof u.vertex!="function"&&l("Must specify vertex creation function"),typeof u.cell!="function"&&l("Must specify cell creation function"),typeof u.phase!="function"&&l("Must specify phase function");for(var h=u.getters||[],s=new Array(f),d=0;d<f;++d)h.indexOf(d)>=0?s[d]=!0:s[d]=!1;return n(u.vertex,u.cell,u.phase,T,g,s)}},9144:function(v,p,r){var t=r(3094),i={zero:function(w,C,b,S){var m=w[0],a=b[0];S|=0;var E=0,x=a;for(E=0;E<m;++E)C[S]=0,S+=x},fdTemplate1:function(w,C,b,S,m,a,E){var x=w[0],k=b[0],I=a[0],N=-1*k,F=k;S|=0,E|=0;var z=0,O=k,_=I;for(z=0;z<x;++z)m[E]=.5*(C[S+N]-C[S+F]),S+=O,E+=_},fdTemplate2:function(w,C,b,S,m,a,E,x,k,I){var N=w[0],F=w[1],z=b[0],O=b[1],_=a[0],B=a[1],W=k[0],$=k[1],te=-1*z,ie=z,ue=-1*O,J=O;S|=0,E|=0,I|=0;var Y=0,ae=0,j=O,q=z-F*O,oe=B,Q=_-F*B,X=$,se=W-F*$;for(ae=0;ae<N;++ae){for(Y=0;Y<F;++Y)m[E]=.5*(C[S+te]-C[S+ie]),x[I]=.5*(C[S+ue]-C[S+J]),S+=j,E+=oe,I+=X;S+=q,E+=Q,I+=se}}},n={cdiff:function(w){var C={};return function(S,m,a){var E=S.dtype,x=S.order,k=m.dtype,I=m.order,N=a.dtype,F=a.order,z=[E,x.join(),k,I.join(),N,F.join()].join(),O=C[z];return O||(C[z]=O=w([E,x,k,I,N,F])),O(S.shape.slice(0),S.data,S.stride,S.offset|0,m.data,m.stride,m.offset|0,a.data,a.stride,a.offset|0)}},zero:function(w){var C={};return function(S){var m=S.dtype,a=S.order,E=[m,a.join()].join(),x=C[E];return x||(C[E]=x=w([m,a])),x(S.shape.slice(0),S.data,S.stride,S.offset|0)}},fdTemplate1:function(w){var C={};return function(S,m){var a=S.dtype,E=S.order,x=m.dtype,k=m.order,I=[a,E.join(),x,k.join()].join(),N=C[I];return N||(C[I]=N=w([a,E,x,k])),N(S.shape.slice(0),S.data,S.stride,S.offset|0,m.data,m.stride,m.offset|0)}},fdTemplate2:function(w){var C={};return function(S,m,a){var E=S.dtype,x=S.order,k=m.dtype,I=m.order,N=a.dtype,F=a.order,z=[E,x.join(),k,I.join(),N,F.join()].join(),O=C[z];return O||(C[z]=O=w([E,x,k,I,N,F])),O(S.shape.slice(0),S.data,S.stride,S.offset|0,m.data,m.stride,m.offset|0,a.data,a.stride,a.offset|0)}}};function c(w){var C=n[w.funcName];return C(u.bind(void 0,w))}function u(w){return i[w.funcName]}function l(w){return c({funcName:w.funcName})}var g={},f={},T=l({funcName:"cdiff"}),h=l({funcName:"zero"});function s(w){return w in g?g[w]:g[w]=l({funcName:"fdTemplate"+w})}function d(w,C,b,S){return function(m,a){var E=a.shape.slice();return E[0]>2&&E[1]>2&&S(a.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),m.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),m.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(b(a.pick(0,-1).lo(1).hi(E[1]-2),m.pick(0,-1,1).lo(1).hi(E[1]-2)),C(m.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(b(a.pick(E[0]-1,-1).lo(1).hi(E[1]-2),m.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),C(m.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(b(a.pick(-1,0).lo(1).hi(E[0]-2),m.pick(-1,0,0).lo(1).hi(E[0]-2)),C(m.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(b(a.pick(-1,E[1]-1).lo(1).hi(E[0]-2),m.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),C(m.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),m.set(0,0,0,0),m.set(0,0,1,0),m.set(E[0]-1,0,0,0),m.set(E[0]-1,0,1,0),m.set(0,E[1]-1,0,0),m.set(0,E[1]-1,1,0),m.set(E[0]-1,E[1]-1,0,0),m.set(E[0]-1,E[1]-1,1,0),m}}function A(w){var C=w.join(),E=f[C];if(E)return E;for(var b=w.length,S=[T,h],m=1;m<=b;++m)S.push(s(m));var a=d,E=a.apply(void 0,S);return f[C]=E,E}v.exports=function(C,b,S){if(Array.isArray(S)||(typeof S=="string"?S=t(b.dimension,S):S=t(b.dimension,"clamp")),b.size===0)return C;if(b.dimension===0)return C.set(0),C;var m=A(S);return m(C,b)}},3581:function(v){function p(c,u){var l=Math.floor(u),g=u-l,f=0<=l&&l<c.shape[0],T=0<=l+1&&l+1<c.shape[0],h=f?+c.get(l):0,s=T?+c.get(l+1):0;return(1-g)*h+g*s}function r(c,u,l){var g=Math.floor(u),f=u-g,T=0<=g&&g<c.shape[0],h=0<=g+1&&g+1<c.shape[0],s=Math.floor(l),d=l-s,A=0<=s&&s<c.shape[1],w=0<=s+1&&s+1<c.shape[1],C=T&&A?c.get(g,s):0,b=T&&w?c.get(g,s+1):0,S=h&&A?c.get(g+1,s):0,m=h&&w?c.get(g+1,s+1):0;return(1-d)*((1-f)*C+f*S)+d*((1-f)*b+f*m)}function t(c,u,l,g){var f=Math.floor(u),T=u-f,h=0<=f&&f<c.shape[0],s=0<=f+1&&f+1<c.shape[0],d=Math.floor(l),A=l-d,w=0<=d&&d<c.shape[1],C=0<=d+1&&d+1<c.shape[1],b=Math.floor(g),S=g-b,m=0<=b&&b<c.shape[2],a=0<=b+1&&b+1<c.shape[2],E=h&&w&&m?c.get(f,d,b):0,x=h&&C&&m?c.get(f,d+1,b):0,k=s&&w&&m?c.get(f+1,d,b):0,I=s&&C&&m?c.get(f+1,d+1,b):0,N=h&&w&&a?c.get(f,d,b+1):0,F=h&&C&&a?c.get(f,d+1,b+1):0,z=s&&w&&a?c.get(f+1,d,b+1):0,O=s&&C&&a?c.get(f+1,d+1,b+1):0;return(1-S)*((1-A)*((1-T)*E+T*k)+A*((1-T)*x+T*I))+S*((1-A)*((1-T)*N+T*z)+A*((1-T)*F+T*O))}function i(c){var u=c.shape.length|0,l=new Array(u),g=new Array(u),f=new Array(u),T=new Array(u),h,s;for(h=0;h<u;++h)s=+arguments[h+1],l[h]=Math.floor(s),g[h]=s-l[h],f[h]=0<=l[h]&&l[h]<c.shape[h],T[h]=0<=l[h]+1&&l[h]+1<c.shape[h];var d=0,A,w,C;e:for(h=0;h<1<<u;++h){for(w=1,C=c.offset,A=0;A<u;++A)if(h&1<<A){if(!T[A])continue e;w*=g[A],C+=c.stride[A]*(l[A]+1)}else{if(!f[A])continue e;w*=1-g[A],C+=c.stride[A]*l[A]}d+=w*c.data[C]}return d}function n(c,u,l,g){switch(c.shape.length){case 0:return 0;case 1:return p(c,u);case 2:return r(c,u,l);case 3:return t(c,u,l,g);default:return i.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},7498:function(v,p){var r={"float64,2,1,0":function(){return function(f,T,h,s,d){var A=f[0],w=f[1],C=f[2],b=h[0],S=h[1],m=h[2];s|=0;var a=0,E=0,x=0,k=m,I=S-C*m,N=b-w*S;for(x=0;x<A;++x){for(E=0;E<w;++E){for(a=0;a<C;++a)T[s]/=d,s+=k;s+=I}s+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(f,T,h,s,d,A,w,C){var b=f[0],S=f[1],m=f[2],a=h[0],E=h[1],x=h[2],k=A[0],I=A[1],N=A[2];s|=0,w|=0;for(var F=s,z=w,O=f[0]|0;O>0;){O<64?(b=O,O=0):(b=64,O-=64);for(var _=f[1]|0;_>0;){_<64?(S=_,_=0):(S=64,_-=64),s=F+O*a+_*E,w=z+O*k+_*I;var B=0,W=0,$=0,te=x,ie=a-m*x,ue=E-b*a,J=N,Y=k-m*N,ae=I-b*k;for($=0;$<S;++$){for(W=0;W<b;++W){for(B=0;B<m;++B)T[s]=d[w]*C,s+=te,w+=J;s+=ie,w+=Y}s+=ue,w+=ae}}}}},"float32,1,0,float32,1,0":function(){return function(f,T,h,s,d,A,w){var C=f[0],b=f[1],S=h[0],m=h[1],a=A[0],E=A[1];s|=0,w|=0;var x=0,k=0,I=m,N=S-b*m,F=E,z=a-b*E;for(k=0;k<C;++k){for(x=0;x<b;++x)T[s]=d[w],s+=I,w+=F;s+=N,w+=z}}},"float32,1,0,float32,0,1":function(){return function(f,T,h,s,d,A,w){var C=f[0],b=f[1],S=h[0],m=h[1],a=A[0],E=A[1];s|=0,w|=0;for(var x=s,k=w,I=f[1]|0;I>0;){I<64?(b=I,I=0):(b=64,I-=64);for(var N=f[0]|0;N>0;){N<64?(C=N,N=0):(C=64,N-=64),s=x+I*m+N*S,w=k+I*E+N*a;var F=0,z=0,O=m,_=S-b*m,B=E,W=a-b*E;for(z=0;z<C;++z){for(F=0;F<b;++F)T[s]=d[w],s+=O,w+=B;s+=_,w+=W}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(f,T,h,s,d,A,w){var C=f[0],b=f[1],S=f[2],m=h[0],a=h[1],E=h[2],x=A[0],k=A[1],I=A[2];s|=0,w|=0;for(var N=s,F=w,z=f[2]|0;z>0;){z<64?(S=z,z=0):(S=64,z-=64);for(var O=f[0]|0;O>0;){O<64?(C=O,O=0):(C=64,O-=64);for(var _=f[1]|0;_>0;){_<64?(b=_,_=0):(b=64,_-=64),s=N+z*E+O*m+_*a,w=F+z*I+O*x+_*k;var B=0,W=0,$=0,te=E,ie=m-S*E,ue=a-C*m,J=I,Y=x-S*I,ae=k-C*x;for($=0;$<b;++$){for(W=0;W<C;++W){for(B=0;B<S;++B)T[s]=d[w],s+=te,w+=J;s+=ie,w+=Y}s+=ue,w+=ae}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(f,T,h,s,d,A,w){var C=f[0],b=f[1],S=f[2],m=h[0],a=h[1],E=h[2],x=A[0],k=A[1],I=A[2];s|=0,w|=0;var N=0,F=0,z=0,O=E,_=m-S*E,B=a-C*m,W=I,$=x-S*I,te=k-C*x;for(z=0;z<b;++z){for(F=0;F<C;++F){for(N=0;N<S;++N)T[s]=d[w],s+=O,w+=W;s+=_,w+=$}s+=B,w+=te}}}};function t(g,f){var T=f.join(","),h=r[T];return h()}var i=t,n={mul:function(g){var f={};return function(h,s,d){var A=h.dtype,w=h.order,C=s.dtype,b=s.order,S=d.dtype,m=d.order,a=[A,w.join(),C,b.join(),S,m.join()].join(),E=f[a];return E||(f[a]=E=g([A,w,C,b,S,m])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,s.data,s.stride,s.offset|0,d.data,d.stride,d.offset|0)}},muls:function(g){var f={};return function(h,s,d){var A=h.dtype,w=h.order,C=s.dtype,b=s.order,S=[A,w.join(),C,b.join()].join(),m=f[S];return m||(f[S]=m=g([A,w,C,b])),m(h.shape.slice(0),h.data,h.stride,h.offset|0,s.data,s.stride,s.offset|0,d)}},mulseq:function(g){var f={};return function(h,s){var d=h.dtype,A=h.order,w=[d,A.join()].join(),C=f[w];return C||(f[w]=C=g([d,A])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,s)}},div:function(g){var f={};return function(h,s,d){var A=h.dtype,w=h.order,C=s.dtype,b=s.order,S=d.dtype,m=d.order,a=[A,w.join(),C,b.join(),S,m.join()].join(),E=f[a];return E||(f[a]=E=g([A,w,C,b,S,m])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,s.data,s.stride,s.offset|0,d.data,d.stride,d.offset|0)}},divs:function(g){var f={};return function(h,s,d){var A=h.dtype,w=h.order,C=s.dtype,b=s.order,S=[A,w.join(),C,b.join()].join(),m=f[S];return m||(f[S]=m=g([A,w,C,b])),m(h.shape.slice(0),h.data,h.stride,h.offset|0,s.data,s.stride,s.offset|0,d)}},divseq:function(g){var f={};return function(h,s){var d=h.dtype,A=h.order,w=[d,A.join()].join(),C=f[w];return C||(f[w]=C=g([d,A])),C(h.shape.slice(0),h.data,h.stride,h.offset|0,s)}},assign:function(g){var f={};return function(h,s){var d=h.dtype,A=h.order,w=s.dtype,C=s.order,b=[d,A.join(),w,C.join()].join(),S=f[b];return S||(f[b]=S=g([d,A,w,C])),S(h.shape.slice(0),h.data,h.stride,h.offset|0,s.data,s.stride,s.offset|0)}}};function c(g){var f=n[g.funcName];return f(i.bind(void 0,g))}function u(g){return c({funcName:g.funcName})}var l={mul:"*",div:"/"};(function(){for(var g in l)p[g]=u({funcName:g}),p[g+"s"]=u({funcName:g+"s"}),p[g+"seq"]=u({funcName:g+"seq"})})(),p.assign=u({funcName:"assign"})},7382:function(v,p,r){var t=r(5050),i=r(9262);v.exports=function(c,u){for(var l=[],g=c,f=1;Array.isArray(g);)l.push(g.length),f*=g.length,g=g[0];return l.length===0?t():(u||(u=t(new Float64Array(f),l)),i(u,c),u)}},9262:function(v){function p(){return function(u,l,g,f,T){var h=u[0],s=u[1],d=u[2],A=g[0],w=g[1],C=g[2],b=[0,0,0];f|=0;var S=0,m=0,a=0,E=C,x=w-d*C,k=A-s*w;for(a=0;a<h;++a){for(m=0;m<s;++m){for(S=0;S<d;++S){{var I=T,N;for(N=0;N<b.length-1;++N)I=I[b[N]];l[f]=I[b[b.length-1]]}f+=E,++b[2]}f+=x,b[2]-=d,++b[1]}f+=k,b[1]-=s,++b[0]}}}function r(){return p()}var t=r;function i(u){var l={};return function(f,T){var h=f.dtype,s=f.order,d=[h,s.join()].join(),A=l[d];return A||(l[d]=A=u([h,s])),A(f.shape.slice(0),f.data,f.stride,f.offset|0,T)}}function n(u){return i(t.bind(void 0,u))}function c(u){return n({funcName:u.funcName})}v.exports=c({funcName:"convert"})},8139:function(v,p,r){var t=r(5306);function i(T){switch(T){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(T,h){return function(d,A,w,C,b,S,m,a,E,x,k){var I,N,F,z=d*b+C,O,_=T(a),B,W,$,te;for(I=d+1;I<=A;++I){for(N=I,z+=b,F=z,B=0,W=z,O=0;O<a;++O)_[B++]=w[W],W+=E;e:for(;N-- >d;){B=0,W=F-b;t:for(O=0;O<a;++O){if($=w[W],te=_[B],$<te)break e;if($>te)break t;W+=x,B+=k}for(B=F,W=F-b,O=0;O<a;++O)w[B]=w[W],B+=E,W+=E;F-=b}for(B=F,W=0,O=0;O<a;++O)w[B]=_[W++],B+=E}h(_)}}};function c(T,h){var s=i(h),d=[h,T].join(","),A=n[d];return s?A(s[0],s[1]):A()}var u={"uint32,1,0":function(T,h,s){return function d(A,w,C,b,S,m,a,E,x,k,I){var N=(w-A+1)/6|0,F=A+N,z=w-N,O=A+w>>1,_=O-N,B=O+N,W=F,$=_,te=O,ie=B,ue=z,J=A+1,Y=w-1,ae=!0,j,q,oe,Q,X,se,ne,fe,ye,Se=0,we=0,_e=0,ke,Me,me,Ee,Be,Ue,De,He,nt,lt,$e,qe,ct,dt,gt,At,Rt=E,Vt=h(Rt),Je=h(Rt);Me=S*W,me=S*$,At=b;e:for(ke=0;ke<E;++ke){if(ne=Me+At,fe=me+At,_e=C[ne]-C[fe],_e>0){q=W,W=$,$=q;break e}if(_e<0)break e;At+=k}Me=S*ie,me=S*ue,At=b;e:for(ke=0;ke<E;++ke){if(ne=Me+At,fe=me+At,_e=C[ne]-C[fe],_e>0){q=ie,ie=ue,ue=q;break e}if(_e<0)break e;At+=k}Me=S*W,me=S*te,At=b;e:for(ke=0;ke<E;++ke){if(ne=Me+At,fe=me+At,_e=C[ne]-C[fe],_e>0){q=W,W=te,te=q;break e}if(_e<0)break e;At+=k}Me=S*$,me=S*te,At=b;e:for(ke=0;ke<E;++ke){if(ne=Me+At,fe=me+At,_e=C[ne]-C[fe],_e>0){q=$,$=te,te=q;break e}if(_e<0)break e;At+=k}Me=S*W,me=S*ie,At=b;e:for(ke=0;ke<E;++ke){if(ne=Me+At,fe=me+At,_e=C[ne]-C[fe],_e>0){q=W,W=ie,ie=q;break e}if(_e<0)break e;At+=k}Me=S*te,me=S*ie,At=b;e:for(ke=0;ke<E;++ke){if(ne=Me+At,fe=me+At,_e=C[ne]-C[fe],_e>0){q=te,te=ie,ie=q;break e}if(_e<0)break e;At+=k}Me=S*$,me=S*ue,At=b;e:for(ke=0;ke<E;++ke){if(ne=Me+At,fe=me+At,_e=C[ne]-C[fe],_e>0){q=$,$=ue,ue=q;break e}if(_e<0)break e;At+=k}Me=S*$,me=S*te,At=b;e:for(ke=0;ke<E;++ke){if(ne=Me+At,fe=me+At,_e=C[ne]-C[fe],_e>0){q=$,$=te,te=q;break e}if(_e<0)break e;At+=k}Me=S*ie,me=S*ue,At=b;e:for(ke=0;ke<E;++ke){if(ne=Me+At,fe=me+At,_e=C[ne]-C[fe],_e>0){q=ie,ie=ue,ue=q;break e}if(_e<0)break e;At+=k}for(Me=S*W,me=S*$,Ee=S*te,Be=S*ie,Ue=S*ue,De=S*F,He=S*O,nt=S*z,gt=0,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,ye=Ee+At,lt=Be+At,$e=Ue+At,qe=De+At,ct=He+At,dt=nt+At,Vt[gt]=C[fe],Je[gt]=C[lt],ae=ae&&Vt[gt]===Je[gt],oe=C[ne],Q=C[ye],X=C[$e],C[qe]=oe,C[ct]=Q,C[dt]=X,++gt,At+=x;for(Me=S*_,me=S*A,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,C[ne]=C[fe],At+=x;for(Me=S*B,me=S*w,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,C[ne]=C[fe],At+=x;if(ae)for(se=J;se<=Y;++se){ne=b+se*S,gt=0;e:for(ke=0;ke<E;++ke){if(_e=C[ne]-Vt[gt],_e!==0)break e;gt+=I,ne+=k}if(_e!==0)if(_e<0){if(se!==J)for(Me=S*se,me=S*J,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=x;++J}else for(;;){ne=b+Y*S,gt=0;e:for(ke=0;ke<E;++ke){if(_e=C[ne]-Vt[gt],_e!==0)break e;gt+=I,ne+=k}if(_e>0)Y--;else if(_e<0){for(Me=S*se,me=S*J,Ee=S*Y,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,ye=Ee+At,j=C[ne],C[ne]=C[fe],C[fe]=C[ye],C[ye]=j,At+=x;++J,--Y;break}else{for(Me=S*se,me=S*Y,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=x;--Y;break}}}else for(se=J;se<=Y;++se){ne=b+se*S,gt=0;e:for(ke=0;ke<E;++ke){if(Se=C[ne]-Vt[gt],Se!==0)break e;gt+=I,ne+=k}if(Se<0){if(se!==J)for(Me=S*se,me=S*J,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=x;++J}else{ne=b+se*S,gt=0;e:for(ke=0;ke<E;++ke){if(we=C[ne]-Je[gt],we!==0)break e;gt+=I,ne+=k}if(we>0)for(;;){ne=b+Y*S,gt=0;e:for(ke=0;ke<E;++ke){if(_e=C[ne]-Je[gt],_e!==0)break e;gt+=I,ne+=k}if(_e>0){if(--Y<se)break;continue}else{ne=b+Y*S,gt=0;e:for(ke=0;ke<E;++ke){if(_e=C[ne]-Vt[gt],_e!==0)break e;gt+=I,ne+=k}if(_e<0){for(Me=S*se,me=S*J,Ee=S*Y,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,ye=Ee+At,j=C[ne],C[ne]=C[fe],C[fe]=C[ye],C[ye]=j,At+=x;++J,--Y}else{for(Me=S*se,me=S*Y,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=x;--Y}break}}}}for(Me=S*A,me=S*(J-1),gt=0,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,C[ne]=C[fe],C[fe]=Vt[gt],++gt,At+=x;for(Me=S*w,me=S*(Y+1),gt=0,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,C[ne]=C[fe],C[fe]=Je[gt],++gt,At+=x;if(J-2-A<=32?T(A,J-2,C,b,S,m,a,E,x,k,I):d(A,J-2,C,b,S,m,a,E,x,k,I),w-(Y+2)<=32?T(Y+2,w,C,b,S,m,a,E,x,k,I):d(Y+2,w,C,b,S,m,a,E,x,k,I),ae){s(Vt),s(Je);return}if(J<F&&Y>z){e:for(;;){for(ne=b+J*S,gt=0,At=b,ke=0;ke<E;++ke){if(C[ne]!==Vt[gt])break e;++gt,ne+=x}++J}e:for(;;){for(ne=b+Y*S,gt=0,At=b,ke=0;ke<E;++ke){if(C[ne]!==Je[gt])break e;++gt,ne+=x}--Y}for(se=J;se<=Y;++se){ne=b+se*S,gt=0;e:for(ke=0;ke<E;++ke){if(Se=C[ne]-Vt[gt],Se!==0)break e;gt+=I,ne+=k}if(Se===0){if(se!==J)for(Me=S*se,me=S*J,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=x;++J}else{ne=b+se*S,gt=0;e:for(ke=0;ke<E;++ke){if(we=C[ne]-Je[gt],we!==0)break e;gt+=I,ne+=k}if(we===0)for(;;){ne=b+Y*S,gt=0;e:for(ke=0;ke<E;++ke){if(_e=C[ne]-Je[gt],_e!==0)break e;gt+=I,ne+=k}if(_e===0){if(--Y<se)break;continue}else{ne=b+Y*S,gt=0;e:for(ke=0;ke<E;++ke){if(_e=C[ne]-Vt[gt],_e!==0)break e;gt+=I,ne+=k}if(_e<0){for(Me=S*se,me=S*J,Ee=S*Y,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,ye=Ee+At,j=C[ne],C[ne]=C[fe],C[fe]=C[ye],C[ye]=j,At+=x;++J,--Y}else{for(Me=S*se,me=S*Y,At=b,ke=0;ke<E;++ke)ne=Me+At,fe=me+At,j=C[ne],C[ne]=C[fe],C[fe]=j,At+=x;--Y}break}}}}}s(Vt),s(Je),Y-J<=32?T(J,Y,C,b,S,m,a,E,x,k,I):d(J,Y,C,b,S,m,a,E,x,k,I)}}};function l(T,h,s){var d=i(h),A=[h,T].join(","),w=u[A];return T.length>1&&d?w(s,d[0],d[1]):w(s)}var g={"uint32,1,0":function(T,h){return function(s){var d=s.data,A=s.offset|0,w=s.shape,C=s.stride,b=C[0]|0,S=w[0]|0,m=C[1]|0,a=w[1]|0,E=m,x=m,k=1;S<=32?T(0,S-1,d,A,b,m,S,a,E,x,k):h(0,S-1,d,A,b,m,S,a,E,x,k)}}};function f(T,h){var s=[h,T].join(","),d=g[s],A=c(T,h),w=l(T,h,A);return d(A,w)}v.exports=f},8729:function(v,p,r){var t=r(8139),i={};function n(c){var u=c.order,l=c.dtype,g=[u,l],f=g.join(":"),T=i[f];return T||(i[f]=T=t(u,l)),T(c),c}v.exports=n},5050:function(v,p,r){var t=r(4780),i=typeof Float64Array<"u";function n(h,s){return h[0]-s[0]}function c(){var h=this.stride,s=new Array(h.length),d;for(d=0;d<s.length;++d)s[d]=[Math.abs(h[d]),d];s.sort(n);var A=new Array(s.length);for(d=0;d<A.length;++d)A[d]=s[d][1];return A}var u={T:function(h){function s(A){this.data=A}var d=s.prototype;return d.dtype=h,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new s(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(w){return new s(w)}},0:function(h,s){function d(w,C){this.data=w,this.offset=C}var A=d.prototype;return A.dtype=h,A.index=function(){return this.offset},A.dimension=0,A.size=1,A.shape=A.stride=A.order=[],A.lo=A.hi=A.transpose=A.step=function(){return new d(this.data,this.offset)},A.pick=function(){return s(this.data)},A.valueOf=A.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},A.set=function(C){return h==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,b,S,m){return new d(C,m)}},1:function(h,s,d){function A(C,b,S,m){this.data=C,this.shape=[b],this.stride=[S],this.offset=m|0}var w=A.prototype;return w.dtype=h,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(b,S){return h==="generic"?this.data.set(this.offset+this.stride[0]*b,S):this.data[this.offset+this.stride[0]*b]=S},w.get=function(b){return h==="generic"?this.data.get(this.offset+this.stride[0]*b):this.data[this.offset+this.stride[0]*b]},w.index=function(b){return this.offset+this.stride[0]*b},w.hi=function(b){return new A(this.data,typeof b!="number"||b<0?this.shape[0]:b|0,this.stride[0],this.offset)},w.lo=function(b){var S=this.offset,m=0,a=this.shape[0],E=this.stride[0];return typeof b=="number"&&b>=0&&(m=b|0,S+=E*m,a-=m),new A(this.data,a,E,S)},w.step=function(b){var S=this.shape[0],m=this.stride[0],a=this.offset,E=0,x=Math.ceil;return typeof b=="number"&&(E=b|0,E<0?(a+=m*(S-1),S=x(-S/E)):S=x(S/E),m*=E),new A(this.data,S,m,a)},w.transpose=function(b){b=b===void 0?0:b|0;var S=this.shape,m=this.stride;return new A(this.data,S[b],m[b],this.offset)},w.pick=function(b){var S=[],m=[],a=this.offset;typeof b=="number"&&b>=0?a=a+this.stride[0]*b|0:(S.push(this.shape[0]),m.push(this.stride[0]));var E=s[S.length+1];return E(this.data,S,m,a)},function(b,S,m,a){return new A(b,S[0],m[0],a)}},2:function(h,s,d){function A(C,b,S,m,a,E){this.data=C,this.shape=[b,S],this.stride=[m,a],this.offset=E|0}var w=A.prototype;return w.dtype=h,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(b,S,m){return h==="generic"?this.data.set(this.offset+this.stride[0]*b+this.stride[1]*S,m):this.data[this.offset+this.stride[0]*b+this.stride[1]*S]=m},w.get=function(b,S){return h==="generic"?this.data.get(this.offset+this.stride[0]*b+this.stride[1]*S):this.data[this.offset+this.stride[0]*b+this.stride[1]*S]},w.index=function(b,S){return this.offset+this.stride[0]*b+this.stride[1]*S},w.hi=function(b,S){return new A(this.data,typeof b!="number"||b<0?this.shape[0]:b|0,typeof S!="number"||S<0?this.shape[1]:S|0,this.stride[0],this.stride[1],this.offset)},w.lo=function(b,S){var m=this.offset,a=0,E=this.shape[0],x=this.shape[1],k=this.stride[0],I=this.stride[1];return typeof b=="number"&&b>=0&&(a=b|0,m+=k*a,E-=a),typeof S=="number"&&S>=0&&(a=S|0,m+=I*a,x-=a),new A(this.data,E,x,k,I,m)},w.step=function(b,S){var m=this.shape[0],a=this.shape[1],E=this.stride[0],x=this.stride[1],k=this.offset,I=0,N=Math.ceil;return typeof b=="number"&&(I=b|0,I<0?(k+=E*(m-1),m=N(-m/I)):m=N(m/I),E*=I),typeof S=="number"&&(I=S|0,I<0?(k+=x*(a-1),a=N(-a/I)):a=N(a/I),x*=I),new A(this.data,m,a,E,x,k)},w.transpose=function(b,S){b=b===void 0?0:b|0,S=S===void 0?1:S|0;var m=this.shape,a=this.stride;return new A(this.data,m[b],m[S],a[b],a[S],this.offset)},w.pick=function(b,S){var m=[],a=[],E=this.offset;typeof b=="number"&&b>=0?E=E+this.stride[0]*b|0:(m.push(this.shape[0]),a.push(this.stride[0])),typeof S=="number"&&S>=0?E=E+this.stride[1]*S|0:(m.push(this.shape[1]),a.push(this.stride[1]));var x=s[m.length+1];return x(this.data,m,a,E)},function(b,S,m,a){return new A(b,S[0],S[1],m[0],m[1],a)}},3:function(h,s,d){function A(C,b,S,m,a,E,x,k){this.data=C,this.shape=[b,S,m],this.stride=[a,E,x],this.offset=k|0}var w=A.prototype;return w.dtype=h,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var b=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),m=Math.abs(this.stride[2]);return b>S?S>m?[2,1,0]:b>m?[1,2,0]:[1,0,2]:b>m?[2,0,1]:m>S?[0,1,2]:[0,2,1]}}),w.set=function(b,S,m,a){return h==="generic"?this.data.set(this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*m,a):this.data[this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*m]=a},w.get=function(b,S,m){return h==="generic"?this.data.get(this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*m):this.data[this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*m]},w.index=function(b,S,m){return this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*m},w.hi=function(b,S,m){return new A(this.data,typeof b!="number"||b<0?this.shape[0]:b|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof m!="number"||m<0?this.shape[2]:m|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(b,S,m){var a=this.offset,E=0,x=this.shape[0],k=this.shape[1],I=this.shape[2],N=this.stride[0],F=this.stride[1],z=this.stride[2];return typeof b=="number"&&b>=0&&(E=b|0,a+=N*E,x-=E),typeof S=="number"&&S>=0&&(E=S|0,a+=F*E,k-=E),typeof m=="number"&&m>=0&&(E=m|0,a+=z*E,I-=E),new A(this.data,x,k,I,N,F,z,a)},w.step=function(b,S,m){var a=this.shape[0],E=this.shape[1],x=this.shape[2],k=this.stride[0],I=this.stride[1],N=this.stride[2],F=this.offset,z=0,O=Math.ceil;return typeof b=="number"&&(z=b|0,z<0?(F+=k*(a-1),a=O(-a/z)):a=O(a/z),k*=z),typeof S=="number"&&(z=S|0,z<0?(F+=I*(E-1),E=O(-E/z)):E=O(E/z),I*=z),typeof m=="number"&&(z=m|0,z<0?(F+=N*(x-1),x=O(-x/z)):x=O(x/z),N*=z),new A(this.data,a,E,x,k,I,N,F)},w.transpose=function(b,S,m){b=b===void 0?0:b|0,S=S===void 0?1:S|0,m=m===void 0?2:m|0;var a=this.shape,E=this.stride;return new A(this.data,a[b],a[S],a[m],E[b],E[S],E[m],this.offset)},w.pick=function(b,S,m){var a=[],E=[],x=this.offset;typeof b=="number"&&b>=0?x=x+this.stride[0]*b|0:(a.push(this.shape[0]),E.push(this.stride[0])),typeof S=="number"&&S>=0?x=x+this.stride[1]*S|0:(a.push(this.shape[1]),E.push(this.stride[1])),typeof m=="number"&&m>=0?x=x+this.stride[2]*m|0:(a.push(this.shape[2]),E.push(this.stride[2]));var k=s[a.length+1];return k(this.data,a,E,x)},function(b,S,m,a){return new A(b,S[0],S[1],S[2],m[0],m[1],m[2],a)}},4:function(h,s,d){function A(C,b,S,m,a,E,x,k,I,N){this.data=C,this.shape=[b,S,m,a],this.stride=[E,x,k,I],this.offset=N|0}var w=A.prototype;return w.dtype=h,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:d}),w.set=function(b,S,m,a,E){return h==="generic"?this.data.set(this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*m+this.stride[3]*a,E):this.data[this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*m+this.stride[3]*a]=E},w.get=function(b,S,m,a){return h==="generic"?this.data.get(this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*m+this.stride[3]*a):this.data[this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*m+this.stride[3]*a]},w.index=function(b,S,m,a){return this.offset+this.stride[0]*b+this.stride[1]*S+this.stride[2]*m+this.stride[3]*a},w.hi=function(b,S,m,a){return new A(this.data,typeof b!="number"||b<0?this.shape[0]:b|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof m!="number"||m<0?this.shape[2]:m|0,typeof a!="number"||a<0?this.shape[3]:a|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(b,S,m,a){var E=this.offset,x=0,k=this.shape[0],I=this.shape[1],N=this.shape[2],F=this.shape[3],z=this.stride[0],O=this.stride[1],_=this.stride[2],B=this.stride[3];return typeof b=="number"&&b>=0&&(x=b|0,E+=z*x,k-=x),typeof S=="number"&&S>=0&&(x=S|0,E+=O*x,I-=x),typeof m=="number"&&m>=0&&(x=m|0,E+=_*x,N-=x),typeof a=="number"&&a>=0&&(x=a|0,E+=B*x,F-=x),new A(this.data,k,I,N,F,z,O,_,B,E)},w.step=function(b,S,m,a){var E=this.shape[0],x=this.shape[1],k=this.shape[2],I=this.shape[3],N=this.stride[0],F=this.stride[1],z=this.stride[2],O=this.stride[3],_=this.offset,B=0,W=Math.ceil;return typeof b=="number"&&(B=b|0,B<0?(_+=N*(E-1),E=W(-E/B)):E=W(E/B),N*=B),typeof S=="number"&&(B=S|0,B<0?(_+=F*(x-1),x=W(-x/B)):x=W(x/B),F*=B),typeof m=="number"&&(B=m|0,B<0?(_+=z*(k-1),k=W(-k/B)):k=W(k/B),z*=B),typeof a=="number"&&(B=a|0,B<0?(_+=O*(I-1),I=W(-I/B)):I=W(I/B),O*=B),new A(this.data,E,x,k,I,N,F,z,O,_)},w.transpose=function(b,S,m,a){b=b===void 0?0:b|0,S=S===void 0?1:S|0,m=m===void 0?2:m|0,a=a===void 0?3:a|0;var E=this.shape,x=this.stride;return new A(this.data,E[b],E[S],E[m],E[a],x[b],x[S],x[m],x[a],this.offset)},w.pick=function(b,S,m,a){var E=[],x=[],k=this.offset;typeof b=="number"&&b>=0?k=k+this.stride[0]*b|0:(E.push(this.shape[0]),x.push(this.stride[0])),typeof S=="number"&&S>=0?k=k+this.stride[1]*S|0:(E.push(this.shape[1]),x.push(this.stride[1])),typeof m=="number"&&m>=0?k=k+this.stride[2]*m|0:(E.push(this.shape[2]),x.push(this.stride[2])),typeof a=="number"&&a>=0?k=k+this.stride[3]*a|0:(E.push(this.shape[3]),x.push(this.stride[3]));var I=s[E.length+1];return I(this.data,E,x,k)},function(b,S,m,a){return new A(b,S[0],S[1],S[2],S[3],m[0],m[1],m[2],m[3],a)}},5:function(s,d,A){function w(b,S,m,a,E,x,k,I,N,F,z,O){this.data=b,this.shape=[S,m,a,E,x],this.stride=[k,I,N,F,z],this.offset=O|0}var C=w.prototype;return C.dtype=s,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:A}),C.set=function(S,m,a,E,x,k){return s==="generic"?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*m+this.stride[2]*a+this.stride[3]*E+this.stride[4]*x,k):this.data[this.offset+this.stride[0]*S+this.stride[1]*m+this.stride[2]*a+this.stride[3]*E+this.stride[4]*x]=k},C.get=function(S,m,a,E,x){return s==="generic"?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*m+this.stride[2]*a+this.stride[3]*E+this.stride[4]*x):this.data[this.offset+this.stride[0]*S+this.stride[1]*m+this.stride[2]*a+this.stride[3]*E+this.stride[4]*x]},C.index=function(S,m,a,E,x){return this.offset+this.stride[0]*S+this.stride[1]*m+this.stride[2]*a+this.stride[3]*E+this.stride[4]*x},C.hi=function(S,m,a,E,x){return new w(this.data,typeof S!="number"||S<0?this.shape[0]:S|0,typeof m!="number"||m<0?this.shape[1]:m|0,typeof a!="number"||a<0?this.shape[2]:a|0,typeof E!="number"||E<0?this.shape[3]:E|0,typeof x!="number"||x<0?this.shape[4]:x|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(S,m,a,E,x){var k=this.offset,I=0,N=this.shape[0],F=this.shape[1],z=this.shape[2],O=this.shape[3],_=this.shape[4],B=this.stride[0],W=this.stride[1],$=this.stride[2],te=this.stride[3],ie=this.stride[4];return typeof S=="number"&&S>=0&&(I=S|0,k+=B*I,N-=I),typeof m=="number"&&m>=0&&(I=m|0,k+=W*I,F-=I),typeof a=="number"&&a>=0&&(I=a|0,k+=$*I,z-=I),typeof E=="number"&&E>=0&&(I=E|0,k+=te*I,O-=I),typeof x=="number"&&x>=0&&(I=x|0,k+=ie*I,_-=I),new w(this.data,N,F,z,O,_,B,W,$,te,ie,k)},C.step=function(S,m,a,E,x){var k=this.shape[0],I=this.shape[1],N=this.shape[2],F=this.shape[3],z=this.shape[4],O=this.stride[0],_=this.stride[1],B=this.stride[2],W=this.stride[3],$=this.stride[4],te=this.offset,ie=0,ue=Math.ceil;return typeof S=="number"&&(ie=S|0,ie<0?(te+=O*(k-1),k=ue(-k/ie)):k=ue(k/ie),O*=ie),typeof m=="number"&&(ie=m|0,ie<0?(te+=_*(I-1),I=ue(-I/ie)):I=ue(I/ie),_*=ie),typeof a=="number"&&(ie=a|0,ie<0?(te+=B*(N-1),N=ue(-N/ie)):N=ue(N/ie),B*=ie),typeof E=="number"&&(ie=E|0,ie<0?(te+=W*(F-1),F=ue(-F/ie)):F=ue(F/ie),W*=ie),typeof x=="number"&&(ie=x|0,ie<0?(te+=$*(z-1),z=ue(-z/ie)):z=ue(z/ie),$*=ie),new w(this.data,k,I,N,F,z,O,_,B,W,$,te)},C.transpose=function(S,m,a,E,x){S=S===void 0?0:S|0,m=m===void 0?1:m|0,a=a===void 0?2:a|0,E=E===void 0?3:E|0,x=x===void 0?4:x|0;var k=this.shape,I=this.stride;return new w(this.data,k[S],k[m],k[a],k[E],k[x],I[S],I[m],I[a],I[E],I[x],this.offset)},C.pick=function(S,m,a,E,x){var k=[],I=[],N=this.offset;typeof S=="number"&&S>=0?N=N+this.stride[0]*S|0:(k.push(this.shape[0]),I.push(this.stride[0])),typeof m=="number"&&m>=0?N=N+this.stride[1]*m|0:(k.push(this.shape[1]),I.push(this.stride[1])),typeof a=="number"&&a>=0?N=N+this.stride[2]*a|0:(k.push(this.shape[2]),I.push(this.stride[2])),typeof E=="number"&&E>=0?N=N+this.stride[3]*E|0:(k.push(this.shape[3]),I.push(this.stride[3])),typeof x=="number"&&x>=0?N=N+this.stride[4]*x|0:(k.push(this.shape[4]),I.push(this.stride[4]));var F=d[k.length+1];return F(this.data,k,I,N)},function(S,m,a,E){return new w(S,m[0],m[1],m[2],m[3],m[4],a[0],a[1],a[2],a[3],a[4],E)}}};function l(h,s){var d=s===-1?"T":String(s),A=u[d];return s===-1?A(h):s===0?A(h,f[h][0]):A(h,f[h],c)}function g(h){if(t(h))return"buffer";if(i)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var f={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(h,s,d,A){if(h===void 0){var a=f.array[0];return a([])}else typeof h=="number"&&(h=[h]);s===void 0&&(s=[h.length]);var w=s.length;if(d===void 0){d=new Array(w);for(var C=w-1,b=1;C>=0;--C)d[C]=b,b*=s[C]}if(A===void 0){A=0;for(var C=0;C<w;++C)d[C]<0&&(A-=(s[C]-1)*d[C])}for(var S=g(h),m=f[S];m.length<=w+1;)m.push(l(S,m.length-1));var a=m[w+1];return a(h,s,d,A)}v.exports=T},8551:function(v,p,r){var t=r(8362),i=Math.pow(2,-1074),n=-1>>>0;v.exports=c;function c(u,l){if(isNaN(u)||isNaN(l))return NaN;if(u===l)return u;if(u===0)return l<0?-i:i;var g=t.hi(u),f=t.lo(u);return l>u==u>0?f===n?(g+=1,f=0):f+=1:f===0?(f=n,g-=1):f-=1,t.pack(f,g)}},115:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(i,n,c){for(var u=n.length,l=new Array(u),g=c===void 0?r:c,f=0;f<u;++f)l[f]=[0,0,0];for(var f=0;f<i.length;++f)for(var T=i[f],h=0,s=T[T.length-1],d=T[0],A=0;A<T.length;++A){h=s,s=d,d=T[(A+1)%T.length];for(var w=n[h],C=n[s],b=n[d],S=new Array(3),m=0,a=new Array(3),E=0,x=0;x<3;++x)S[x]=w[x]-C[x],m+=S[x]*S[x],a[x]=b[x]-C[x],E+=a[x]*a[x];if(m*E>g)for(var k=l[s],I=1/Math.sqrt(m*E),x=0;x<3;++x){var N=(x+1)%3,F=(x+2)%3;k[x]+=I*(a[N]*S[F]-a[F]*S[N])}}for(var f=0;f<u;++f){for(var k=l[f],z=0,x=0;x<3;++x)z+=k[x]*k[x];if(z>g)for(var I=1/Math.sqrt(z),x=0;x<3;++x)k[x]*=I;else for(var x=0;x<3;++x)k[x]=0}return l},p.faceNormals=function(i,n,c){for(var u=i.length,l=new Array(u),g=c===void 0?t:c,f=0;f<u;++f){for(var T=i[f],h=new Array(3),s=0;s<3;++s)h[s]=n[T[s]];for(var d=new Array(3),A=new Array(3),s=0;s<3;++s)d[s]=h[1][s]-h[0][s],A[s]=h[2][s]-h[0][s];for(var w=new Array(3),C=0,s=0;s<3;++s){var b=(s+1)%3,S=(s+2)%3;w[s]=d[b]*A[S]-d[S]*A[b],C+=w[s]*w[s]}C>g?C=1/Math.sqrt(C):C=0;for(var s=0;s<3;++s)w[s]*=C;l[f]=w}return l}},567:function(v){v.exports=p;function p(r,t,i,n,c,u,l,g,f,T){var h=t+u+T;if(s>0){var s=Math.sqrt(h+1);r[0]=.5*(l-f)/s,r[1]=.5*(g-n)/s,r[2]=.5*(i-u)/s,r[3]=.5*s}else{var d=Math.max(t,u,T),s=Math.sqrt(2*d-h+1);t>=d?(r[0]=.5*s,r[1]=.5*(c+i)/s,r[2]=.5*(g+n)/s,r[3]=.5*(l-f)/s):u>=d?(r[0]=.5*(i+c)/s,r[1]=.5*s,r[2]=.5*(f+l)/s,r[3]=.5*(g-n)/s):(r[0]=.5*(n+g)/s,r[1]=.5*(l+f)/s,r[2]=.5*s,r[3]=.5*(i-c)/s)}return r}},7774:function(v,p,r){v.exports=s;var t=r(8444),i=r(3012),n=r(5950),c=r(7437),u=r(567);function l(d,A,w){return Math.sqrt(Math.pow(d,2)+Math.pow(A,2)+Math.pow(w,2))}function g(d,A,w,C){return Math.sqrt(Math.pow(d,2)+Math.pow(A,2)+Math.pow(w,2)+Math.pow(C,2))}function f(d,A){var w=A[0],C=A[1],b=A[2],S=A[3],m=g(w,C,b,S);m>1e-6?(d[0]=w/m,d[1]=C/m,d[2]=b/m,d[3]=S/m):(d[0]=d[1]=d[2]=0,d[3]=1)}function T(d,A,w){this.radius=t([w]),this.center=t(A),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=T.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var A=this.computedRotation;f(A,A);var w=this.computedMatrix;n(w,A);var C=this.computedCenter,b=this.computedEye,S=this.computedUp,m=Math.exp(this.computedRadius[0]);b[0]=C[0]+m*w[2],b[1]=C[1]+m*w[6],b[2]=C[2]+m*w[10],S[0]=w[1],S[1]=w[5],S[2]=w[9];for(var a=0;a<3;++a){for(var E=0,x=0;x<3;++x)E+=w[a+4*x]*b[x];w[12+a]=-E}},h.getMatrix=function(d,A){this.recalcMatrix(d);var w=this.computedMatrix;if(A){for(var C=0;C<16;++C)A[C]=w[C];return A}return w},h.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},h.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},h.pan=function(d,A,w,C){A=A||0,w=w||0,C=C||0,this.recalcMatrix(d);var b=this.computedMatrix,S=b[1],m=b[5],a=b[9],E=l(S,m,a);S/=E,m/=E,a/=E;var x=b[0],k=b[4],I=b[8],N=x*S+k*m+I*a;x-=S*N,k-=m*N,I-=a*N;var F=l(x,k,I);x/=F,k/=F,I/=F,b[2],b[6],b[10];var z=x*A+S*w,O=k*A+m*w,_=I*A+a*w;this.center.move(d,z,O,_);var B=Math.exp(this.computedRadius[0]);B=Math.max(1e-4,B+C),this.radius.set(d,Math.log(B))},h.rotate=function(d,A,w,C){this.recalcMatrix(d),A=A||0,w=w||0;var b=this.computedMatrix,S=b[0],m=b[4],a=b[8],E=b[1],x=b[5],k=b[9],I=b[2],N=b[6],F=b[10],z=A*S+w*E,O=A*m+w*x,_=A*a+w*k,B=-(N*_-F*O),W=-(F*z-I*_),$=-(I*O-N*z),te=Math.sqrt(Math.max(0,1-Math.pow(B,2)-Math.pow(W,2)-Math.pow($,2))),ie=g(B,W,$,te);ie>1e-6?(B/=ie,W/=ie,$/=ie,te/=ie):(B=W=$=0,te=1);var ue=this.computedRotation,J=ue[0],Y=ue[1],ae=ue[2],j=ue[3],q=J*te+j*B+Y*$-ae*W,oe=Y*te+j*W+ae*B-J*$,Q=ae*te+j*$+J*W-Y*B,X=j*te-J*B-Y*W-ae*$;if(C){B=I,W=N,$=F;var se=Math.sin(C)/l(B,W,$);B*=se,W*=se,$*=se,te=Math.cos(A),q=q*te+X*B+oe*$-Q*W,oe=oe*te+X*W+Q*B-q*$,Q=Q*te+X*$+q*W-oe*B,X=X*te-q*B-oe*W-Q*$}var ne=g(q,oe,Q,X);ne>1e-6?(q/=ne,oe/=ne,Q/=ne,X/=ne):(q=oe=Q=0,X=1),this.rotation.set(d,q,oe,Q,X)},h.lookAt=function(d,A,w,C){this.recalcMatrix(d),w=w||this.computedCenter,A=A||this.computedEye,C=C||this.computedUp;var b=this.computedMatrix;i(b,A,w,C);var S=this.computedRotation;u(S,b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]),f(S,S),this.rotation.set(d,S[0],S[1],S[2],S[3]);for(var m=0,a=0;a<3;++a)m+=Math.pow(w[a]-A[a],2);this.radius.set(d,.5*Math.log(Math.max(m,1e-6))),this.center.set(d,w[0],w[1],w[2])},h.translate=function(d,A,w,C){this.center.move(d,A||0,w||0,C||0)},h.setMatrix=function(d,A){var w=this.computedRotation;u(w,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),f(w,w),this.rotation.set(d,w[0],w[1],w[2],w[3]);var C=this.computedMatrix;c(C,A);var b=C[15];if(Math.abs(b)>1e-6){var S=C[12]/b,m=C[13]/b,a=C[14]/b;this.recalcMatrix(d);var E=Math.exp(this.computedRadius[0]);this.center.set(d,S-C[2]*E,m-C[6]*E,a-C[10]*E),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},h.setDistance=function(d,A){A>0&&this.radius.set(d,Math.log(A))},h.setDistanceLimits=function(d,A){d>0?d=Math.log(d):d=-1/0,A>0?A=Math.log(A):A=1/0,A=Math.max(A,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=A},h.getDistanceLimits=function(d){var A=this.radius.bounds;return d?(d[0]=Math.exp(A[0][0]),d[1]=Math.exp(A[1][0]),d):[Math.exp(A[0][0]),Math.exp(A[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(d){var A=this.lastT(),w=d.center;w&&this.center.set(A,w[0],w[1],w[2]);var C=d.rotation;C&&this.rotation.set(A,C[0],C[1],C[2],C[3]);var b=d.distance;b&&b>0&&this.radius.set(A,Math.log(b)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function s(d){d=d||{};var A=d.center||[0,0,0],w=d.rotation||[0,0,0,1],C=d.radius||1;A=[].slice.call(A,0,3),w=[].slice.call(w,0,4),f(w,w);var b=new T(w,A,Math.log(C));return b.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&b.lookAt(0,d.eye,d.center,d.up),b}},4930:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(6184);v.exports=function(n,c,u){return u=typeof u<"u"?u+"":" ",t(u,c)+n}},4405:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var i=parseFloat(r,10);return t[0]=i,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(v,p,r){v.exports=i;var t=r(9398);function i(n,c){for(var u=c.length|0,l=n.length,g=[new Array(u),new Array(u)],f=0;f<u;++f)g[0][f]=[],g[1][f]=[];for(var f=0;f<l;++f){var T=n[f];g[0][T[0]].push(T),g[1][T[1]].push(T)}for(var h=[],f=0;f<u;++f)g[0][f].length+g[1][f].length===0&&h.push([f]);function s(m,a){var E=g[a][m[a]];E.splice(E.indexOf(m),1)}function d(m,a,E){for(var x,k,I,N=0;N<2;++N)if(g[N][a].length>0){x=g[N][a][0],I=N;break}k=x[I^1];for(var F=0;F<2;++F)for(var z=g[F][a],O=0;O<z.length;++O){var _=z[O],B=_[F^1],W=t(c[m],c[a],c[k],c[B]);W>0&&(x=_,k=B,I=F)}return E||x&&s(x,I),k}function A(m,a){var E=g[a][m][0],x=[m];s(E,a);for(var k=E[a^1];;){for(;k!==m;)x.push(k),k=d(x[x.length-2],k,!1);if(g[0][m].length+g[1][m].length===0)break;var I=x[x.length-1],N=m,F=x[1],z=d(I,N,!0);if(t(c[I],c[N],c[F],c[z])<0)break;x.push(m),k=d(I,N)}return x}function w(m,a){return a[1]===a[a.length-1]}for(var f=0;f<u;++f)for(var C=0;C<2;++C){for(var b=[];g[C][f].length>0;){g[0][f].length;var S=A(f,C);w(b,S)?b.push.apply(b,S):(b.length>0&&h.push(b),b=S)}b.length>0&&h.push(b)}return h}},3959:function(v,p,r){v.exports=i;var t=r(8348);function i(n,c){for(var u=t(n,c.length),l=new Array(c.length),g=new Array(c.length),f=[],T=0;T<c.length;++T){var h=u[T].length;g[T]=h,l[T]=!0,h<=1&&f.push(T)}for(;f.length>0;){var s=f.pop();l[s]=!1;for(var d=u[s],T=0;T<d.length;++T){var A=d[T];--g[A]===0&&f.push(A)}}for(var w=new Array(c.length),C=[],T=0;T<c.length;++T)if(l[T]){var s=C.length;w[T]=s,C.push(c[T])}else w[T]=-1;for(var b=[],T=0;T<n.length;++T){var S=n[T];l[S[0]]&&l[S[1]]&&b.push([w[S[0]],w[S[1]]])}return[b,C]}},8040:function(v,p,r){v.exports=h;var t=r(8348),i=r(4166),n=r(211),c=r(9660),u=r(9662),l=r(1215),g=r(3959);function f(s,d){for(var A=new Array(s),w=0;w<s;++w)A[w]=d;return A}function T(s){for(var d=new Array(s),A=0;A<s;++A)d[A]=[];return d}function h(s,d){var X=g(s,d);s=X[0],d=X[1];var A=d.length;s.length;for(var w=t(s,d.length),C=0;C<A;++C)if(w[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var b=i(s,d);function S(_e){for(var ke=_e.length,Me=[0],me=0;me<ke;++me){var Ee=d[_e[me]],Be=d[_e[(me+1)%ke]],Ue=c(-Ee[0],Ee[1]),De=c(-Ee[0],Be[1]),He=c(Be[0],Ee[1]),nt=c(Be[0],Be[1]);Me=u(Me,u(u(Ue,De),u(He,nt)))}return Me[Me.length-1]>0}b=b.filter(S);for(var m=b.length,a=new Array(m),E=new Array(m),C=0;C<m;++C){a[C]=C;var x=new Array(m),k=b[C].map(function(ke){return d[ke]}),I=n([k]),N=0;e:for(var F=0;F<m;++F)if(x[F]=0,C!==F){for(var z=b[F],O=z.length,_=0;_<O;++_){var B=I(d[z[_]]);if(B!==0){B<0&&(x[F]=1,N+=1);continue e}}x[F]=1,N+=1}E[C]=[N,C,x]}E.sort(function(_e,ke){return ke[0]-_e[0]});for(var C=0;C<m;++C)for(var x=E[C],W=x[1],$=x[2],F=0;F<m;++F)$[F]&&(a[F]=W);for(var te=T(m),C=0;C<m;++C)te[C].push(a[C]),te[a[C]].push(C);for(var ie={},ue=f(A,!1),C=0;C<m;++C)for(var z=b[C],O=z.length,F=0;F<O;++F){var J=z[F],Y=z[(F+1)%O],ae=Math.min(J,Y)+":"+Math.max(J,Y);if(ae in ie){var j=ie[ae];te[j].push(C),te[C].push(j),ue[J]=ue[Y]=!0}else ie[ae]=C}function q(_e){for(var ke=_e.length,Me=0;Me<ke;++Me)if(!ue[_e[Me]])return!1;return!0}for(var oe=[],Q=f(m,-1),C=0;C<m;++C)a[C]===C&&!q(b[C])?(oe.push(C),Q[C]=0):Q[C]=-1;for(var X=[];oe.length>0;){var se=oe.pop(),ne=te[se];l(ne,function(_e,ke){return _e-ke});var fe=ne.length,ye=Q[se],Se;if(ye===0){var z=b[se];Se=[z]}for(var C=0;C<fe;++C){var we=ne[C];if(!(Q[we]>=0)&&(Q[we]=ye^1,oe.push(we),ye===0)){var z=b[we];q(z)||(z.reverse(),Se.push(z))}}ye===0&&X.push(Se)}return X}},211:function(v,p,r){v.exports=d;var t=r(417)[3],i=r(4385),n=r(9014),c=r(5070);function u(){return!0}function l(A){return function(w,C){var b=A[w];return b?!!b.queryPoint(C,u):!1}}function g(A){for(var w={},C=0;C<A.length;++C){var b=A[C],S=b[0][0],m=b[0][1],a=b[1][1],E=[Math.min(m,a),Math.max(m,a)];S in w?w[S].push(E):w[S]=[E]}for(var x={},k=Object.keys(w),C=0;C<k.length;++C){var I=w[k[C]];x[k[C]]=n(I)}return l(x)}function f(A,w){return function(C){var b=c.le(w,C[0]);if(b<0)return 1;var S=A[b];if(!S)if(b>0&&w[b]===C[0])S=A[b-1];else return 1;for(var m=1;S;){var a=S.key,E=t(C,a[0],a[1]);if(a[0][0]<a[1][0])if(E<0)S=S.left;else if(E>0)m=-1,S=S.right;else return 0;else if(E>0)S=S.left;else if(E<0)m=1,S=S.right;else return 0}return m}}function T(A){return 1}function h(A){return function(C){return A(C[0],C[1])?0:1}}function s(A,w){return function(b){return A(b[0],b[1])?0:w(b)}}function d(A){for(var w=A.length,C=[],b=[],S=0;S<w;++S)for(var m=A[S],a=m.length,E=a-1,x=0;x<a;E=x++){var k=m[E],I=m[x];k[0]===I[0]?b.push([k,I]):C.push([k,I])}if(C.length===0)return b.length===0?T:h(g(b));var N=i(C),F=f(N.slabs,N.coordinates);return b.length===0?F:s(g(b),F)}},7309:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function i(n,c,u,l,g){p.length<l.length&&(p=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var f=0;f<l.length;++f)p[f]=n[f]-l[f],r[f]=c[f]-n[f],t[f]=u[f]-n[f];for(var T=0,h=0,s=0,d=0,A=0,w=0,f=0;f<l.length;++f){var C=r[f],b=t[f],S=p[f];T+=C*C,h+=C*b,s+=b*b,d+=S*C,A+=S*b,w+=S*S}var m=Math.abs(T*s-h*h),a=h*A-s*d,E=h*d-T*A,x;if(a+E<=m)if(a<0)E<0&&d<0?(E=0,-d>=T?(a=1,x=T+2*d+w):(a=-d/T,x=d*a+w)):(a=0,A>=0?(E=0,x=w):-A>=s?(E=1,x=s+2*A+w):(E=-A/s,x=A*E+w));else if(E<0)E=0,d>=0?(a=0,x=w):-d>=T?(a=1,x=T+2*d+w):(a=-d/T,x=d*a+w);else{var k=1/m;a*=k,E*=k,x=a*(T*a+h*E+2*d)+E*(h*a+s*E+2*A)+w}else{var I,N,F,z;a<0?(I=h+d,N=s+A,N>I?(F=N-I,z=T-2*h+s,F>=z?(a=1,E=0,x=T+2*d+w):(a=F/z,E=1-a,x=a*(T*a+h*E+2*d)+E*(h*a+s*E+2*A)+w)):(a=0,N<=0?(E=1,x=s+2*A+w):A>=0?(E=0,x=w):(E=-A/s,x=A*E+w))):E<0?(I=h+A,N=T+d,N>I?(F=N-I,z=T-2*h+s,F>=z?(E=1,a=0,x=s+2*A+w):(E=F/z,a=1-E,x=a*(T*a+h*E+2*d)+E*(h*a+s*E+2*A)+w)):(E=0,N<=0?(a=1,x=T+2*d+w):d>=0?(a=0,x=w):(a=-d/T,x=d*a+w))):(F=s+A-h-d,F<=0?(a=0,E=1,x=s+2*A+w):(z=T-2*h+s,F>=z?(a=1,E=0,x=T+2*d+w):(a=F/z,E=1-a,x=a*(T*a+h*E+2*d)+E*(h*a+s*E+2*A)+w)))}for(var O=1-a-E,f=0;f<l.length;++f)g[f]=O*n[f]+a*c[f]+E*u[f];return x<0?0:x}v.exports=i},1116:function(v,p,r){v.exports=r(6093)},7584:function(v,p,r){var t=r(1539);v.exports=i;function i(n,c){for(var u=n.length,l=new Array(u),g=0;g<u;++g)l[g]=t(n[g],c[g]);return l}},2826:function(v,p,r){v.exports=i;var t=r(5125);function i(n){for(var c=new Array(n.length),u=0;u<n.length;++u)c[u]=t(n[u]);return c}},4469:function(v,p,r){var t=r(5125),i=r(3962);v.exports=n;function n(c,u){for(var l=t(u),g=c.length,f=new Array(g),T=0;T<g;++T)f[T]=i(c[T],l);return f}},6695:function(v,p,r){var t=r(4354);v.exports=i;function i(n,c){for(var u=n.length,l=new Array(u),g=0;g<u;++g)l[g]=t(n[g],c[g]);return l}},7037:function(v,p,r){var t=r(9209),i=r(1284),n=r(9887);v.exports=c;function c(u){u.sort(i);for(var l=u.length,g=0,f=0;f<l;++f){var T=u[f],h=n(T);if(h!==0){if(g>0){var s=u[g-1];if(t(T,s)===0&&n(s)!==h){g-=1;continue}}u[g++]=T}}return u.length=g,u}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(i,n){if(typeof i!="string")throw new TypeError("expected a string");if(n===1)return i;if(n===2)return i+i;var c=i.length*n;if(r!==i||typeof r>"u")r=i,p="";else if(p.length>=c)return p.substr(0,c);for(;c>p.length&&n>1;)n&1&&(p+=i),n>>=1,i+=i;return p+=i,p=p.substr(0,c),p}},8161:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=p;function p(r){for(var t=r.length,i=r[r.length-1],n=t,c=t-2;c>=0;--c){var u=i,l=r[c];i=u+l;var g=i-u,f=l-g;f&&(r[--n]=i,i=f)}for(var T=0,c=n;c<t;++c){var u=r[c],l=i;i=u+l;var g=i-u,f=l-g;f&&(r[T++]=f)}return r[T++]=i,r.length=T,r}},8167:function(v,p,r){var t=r(9660),i=r(9662),n=r(8289),c=r(402),u=6;function l(w,C,b,S){return function(a){return S(w(b(a[0][0],a[1][1]),b(-a[0][1],a[1][0])))}}function g(w,C,b,S){return function(a){return S(w(C(w(b(a[1][1],a[2][2]),b(-a[1][2],a[2][1])),a[0][0]),w(C(w(b(a[1][0],a[2][2]),b(-a[1][2],a[2][0])),-a[0][1]),C(w(b(a[1][0],a[2][1]),b(-a[1][1],a[2][0])),a[0][2]))))}}function f(w,C,b,S){return function(a){return S(w(w(C(w(C(w(b(a[2][2],a[3][3]),b(-a[2][3],a[3][2])),a[1][1]),w(C(w(b(a[2][1],a[3][3]),b(-a[2][3],a[3][1])),-a[1][2]),C(w(b(a[2][1],a[3][2]),b(-a[2][2],a[3][1])),a[1][3]))),a[0][0]),C(w(C(w(b(a[2][2],a[3][3]),b(-a[2][3],a[3][2])),a[1][0]),w(C(w(b(a[2][0],a[3][3]),b(-a[2][3],a[3][0])),-a[1][2]),C(w(b(a[2][0],a[3][2]),b(-a[2][2],a[3][0])),a[1][3]))),-a[0][1])),w(C(w(C(w(b(a[2][1],a[3][3]),b(-a[2][3],a[3][1])),a[1][0]),w(C(w(b(a[2][0],a[3][3]),b(-a[2][3],a[3][0])),-a[1][1]),C(w(b(a[2][0],a[3][1]),b(-a[2][1],a[3][0])),a[1][3]))),a[0][2]),C(w(C(w(b(a[2][1],a[3][2]),b(-a[2][2],a[3][1])),a[1][0]),w(C(w(b(a[2][0],a[3][2]),b(-a[2][2],a[3][0])),-a[1][1]),C(w(b(a[2][0],a[3][1]),b(-a[2][1],a[3][0])),a[1][2]))),-a[0][3]))))}}function T(w,C,b,S){return function(a){return S(w(w(C(w(w(C(w(C(w(b(a[3][3],a[4][4]),b(-a[3][4],a[4][3])),a[2][2]),w(C(w(b(a[3][2],a[4][4]),b(-a[3][4],a[4][2])),-a[2][3]),C(w(b(a[3][2],a[4][3]),b(-a[3][3],a[4][2])),a[2][4]))),a[1][1]),C(w(C(w(b(a[3][3],a[4][4]),b(-a[3][4],a[4][3])),a[2][1]),w(C(w(b(a[3][1],a[4][4]),b(-a[3][4],a[4][1])),-a[2][3]),C(w(b(a[3][1],a[4][3]),b(-a[3][3],a[4][1])),a[2][4]))),-a[1][2])),w(C(w(C(w(b(a[3][2],a[4][4]),b(-a[3][4],a[4][2])),a[2][1]),w(C(w(b(a[3][1],a[4][4]),b(-a[3][4],a[4][1])),-a[2][2]),C(w(b(a[3][1],a[4][2]),b(-a[3][2],a[4][1])),a[2][4]))),a[1][3]),C(w(C(w(b(a[3][2],a[4][3]),b(-a[3][3],a[4][2])),a[2][1]),w(C(w(b(a[3][1],a[4][3]),b(-a[3][3],a[4][1])),-a[2][2]),C(w(b(a[3][1],a[4][2]),b(-a[3][2],a[4][1])),a[2][3]))),-a[1][4]))),a[0][0]),C(w(w(C(w(C(w(b(a[3][3],a[4][4]),b(-a[3][4],a[4][3])),a[2][2]),w(C(w(b(a[3][2],a[4][4]),b(-a[3][4],a[4][2])),-a[2][3]),C(w(b(a[3][2],a[4][3]),b(-a[3][3],a[4][2])),a[2][4]))),a[1][0]),C(w(C(w(b(a[3][3],a[4][4]),b(-a[3][4],a[4][3])),a[2][0]),w(C(w(b(a[3][0],a[4][4]),b(-a[3][4],a[4][0])),-a[2][3]),C(w(b(a[3][0],a[4][3]),b(-a[3][3],a[4][0])),a[2][4]))),-a[1][2])),w(C(w(C(w(b(a[3][2],a[4][4]),b(-a[3][4],a[4][2])),a[2][0]),w(C(w(b(a[3][0],a[4][4]),b(-a[3][4],a[4][0])),-a[2][2]),C(w(b(a[3][0],a[4][2]),b(-a[3][2],a[4][0])),a[2][4]))),a[1][3]),C(w(C(w(b(a[3][2],a[4][3]),b(-a[3][3],a[4][2])),a[2][0]),w(C(w(b(a[3][0],a[4][3]),b(-a[3][3],a[4][0])),-a[2][2]),C(w(b(a[3][0],a[4][2]),b(-a[3][2],a[4][0])),a[2][3]))),-a[1][4]))),-a[0][1])),w(C(w(w(C(w(C(w(b(a[3][3],a[4][4]),b(-a[3][4],a[4][3])),a[2][1]),w(C(w(b(a[3][1],a[4][4]),b(-a[3][4],a[4][1])),-a[2][3]),C(w(b(a[3][1],a[4][3]),b(-a[3][3],a[4][1])),a[2][4]))),a[1][0]),C(w(C(w(b(a[3][3],a[4][4]),b(-a[3][4],a[4][3])),a[2][0]),w(C(w(b(a[3][0],a[4][4]),b(-a[3][4],a[4][0])),-a[2][3]),C(w(b(a[3][0],a[4][3]),b(-a[3][3],a[4][0])),a[2][4]))),-a[1][1])),w(C(w(C(w(b(a[3][1],a[4][4]),b(-a[3][4],a[4][1])),a[2][0]),w(C(w(b(a[3][0],a[4][4]),b(-a[3][4],a[4][0])),-a[2][1]),C(w(b(a[3][0],a[4][1]),b(-a[3][1],a[4][0])),a[2][4]))),a[1][3]),C(w(C(w(b(a[3][1],a[4][3]),b(-a[3][3],a[4][1])),a[2][0]),w(C(w(b(a[3][0],a[4][3]),b(-a[3][3],a[4][0])),-a[2][1]),C(w(b(a[3][0],a[4][1]),b(-a[3][1],a[4][0])),a[2][3]))),-a[1][4]))),a[0][2]),w(C(w(w(C(w(C(w(b(a[3][2],a[4][4]),b(-a[3][4],a[4][2])),a[2][1]),w(C(w(b(a[3][1],a[4][4]),b(-a[3][4],a[4][1])),-a[2][2]),C(w(b(a[3][1],a[4][2]),b(-a[3][2],a[4][1])),a[2][4]))),a[1][0]),C(w(C(w(b(a[3][2],a[4][4]),b(-a[3][4],a[4][2])),a[2][0]),w(C(w(b(a[3][0],a[4][4]),b(-a[3][4],a[4][0])),-a[2][2]),C(w(b(a[3][0],a[4][2]),b(-a[3][2],a[4][0])),a[2][4]))),-a[1][1])),w(C(w(C(w(b(a[3][1],a[4][4]),b(-a[3][4],a[4][1])),a[2][0]),w(C(w(b(a[3][0],a[4][4]),b(-a[3][4],a[4][0])),-a[2][1]),C(w(b(a[3][0],a[4][1]),b(-a[3][1],a[4][0])),a[2][4]))),a[1][2]),C(w(C(w(b(a[3][1],a[4][2]),b(-a[3][2],a[4][1])),a[2][0]),w(C(w(b(a[3][0],a[4][2]),b(-a[3][2],a[4][0])),-a[2][1]),C(w(b(a[3][0],a[4][1]),b(-a[3][1],a[4][0])),a[2][2]))),-a[1][4]))),-a[0][3]),C(w(w(C(w(C(w(b(a[3][2],a[4][3]),b(-a[3][3],a[4][2])),a[2][1]),w(C(w(b(a[3][1],a[4][3]),b(-a[3][3],a[4][1])),-a[2][2]),C(w(b(a[3][1],a[4][2]),b(-a[3][2],a[4][1])),a[2][3]))),a[1][0]),C(w(C(w(b(a[3][2],a[4][3]),b(-a[3][3],a[4][2])),a[2][0]),w(C(w(b(a[3][0],a[4][3]),b(-a[3][3],a[4][0])),-a[2][2]),C(w(b(a[3][0],a[4][2]),b(-a[3][2],a[4][0])),a[2][3]))),-a[1][1])),w(C(w(C(w(b(a[3][1],a[4][3]),b(-a[3][3],a[4][1])),a[2][0]),w(C(w(b(a[3][0],a[4][3]),b(-a[3][3],a[4][0])),-a[2][1]),C(w(b(a[3][0],a[4][1]),b(-a[3][1],a[4][0])),a[2][3]))),a[1][2]),C(w(C(w(b(a[3][1],a[4][2]),b(-a[3][2],a[4][1])),a[2][0]),w(C(w(b(a[3][0],a[4][2]),b(-a[3][2],a[4][0])),-a[2][1]),C(w(b(a[3][0],a[4][1]),b(-a[3][1],a[4][0])),a[2][2]))),-a[1][3]))),a[0][4])))))}}function h(w){var C=w===2?l:w===3?g:w===4?f:w===5?T:void 0;return C(i,n,t,c)}var s=[function(){return[0]},function(C){return[C[0][0]]}];function d(w,C,b,S,m,a,E,x){return function(I){switch(I.length){case 0:return w(I);case 1:return C(I);case 2:return b(I);case 3:return S(I);case 4:return m(I);case 5:return a(I)}var N=E[I.length];return N||(N=E[I.length]=x(I.length)),N(I)}}function A(){for(;s.length<u;)s.push(h(s.length));v.exports=d.apply(void 0,s.concat([s,h]));for(var w=0;w<s.length;++w)v.exports[w]=s[w]}A()},9130:function(v,p,r){var t=r(9660),i=r(9662);v.exports=n;function n(c,u){for(var l=t(c[0],u[0]),g=1;g<c.length;++g)l=i(l,t(c[g],u[g]));return l}},2227:function(v,p,r){var t=r(9660),i=r(9662),n=r(4078),c=r(8289),u=6;function l(m){var a=m===3?h:m===4?s:m===5?d:A;return a(i,n,t,c)}function g(){return 0}function f(){return 0}function T(){return 0}function h(m,a,E,x){function k(I,N,F){var z=E(I[0],I[0]),O=x(z,N[0]),_=x(z,F[0]),B=E(N[0],N[0]),W=x(B,I[0]),$=x(B,F[0]),te=E(F[0],F[0]),ie=x(te,I[0]),ue=x(te,N[0]),J=m(a(ue,$),a(W,O)),Y=a(ie,_),ae=a(J,Y);return ae[ae.length-1]}return k}function s(m,a,E,x){function k(I,N,F,z){var O=m(E(I[0],I[0]),E(I[1],I[1])),_=x(O,N[0]),B=x(O,F[0]),W=x(O,z[0]),$=m(E(N[0],N[0]),E(N[1],N[1])),te=x($,I[0]),ie=x($,F[0]),ue=x($,z[0]),J=m(E(F[0],F[0]),E(F[1],F[1])),Y=x(J,I[0]),ae=x(J,N[0]),j=x(J,z[0]),q=m(E(z[0],z[0]),E(z[1],z[1])),oe=x(q,I[0]),Q=x(q,N[0]),X=x(q,F[0]),se=m(m(x(a(X,j),N[1]),m(x(a(Q,ue),-F[1]),x(a(ae,ie),z[1]))),m(x(a(Q,ue),I[1]),m(x(a(oe,W),-N[1]),x(a(te,_),z[1])))),ne=m(m(x(a(X,j),I[1]),m(x(a(oe,W),-F[1]),x(a(Y,B),z[1]))),m(x(a(ae,ie),I[1]),m(x(a(Y,B),-N[1]),x(a(te,_),F[1])))),fe=a(se,ne);return fe[fe.length-1]}return k}function d(m,a,E,x){function k(I,N,F,z,O){var _=m(E(I[0],I[0]),m(E(I[1],I[1]),E(I[2],I[2]))),B=x(_,N[0]),W=x(_,F[0]),$=x(_,z[0]),te=x(_,O[0]),ie=m(E(N[0],N[0]),m(E(N[1],N[1]),E(N[2],N[2]))),ue=x(ie,I[0]),J=x(ie,F[0]),Y=x(ie,z[0]),ae=x(ie,O[0]),j=m(E(F[0],F[0]),m(E(F[1],F[1]),E(F[2],F[2]))),q=x(j,I[0]),oe=x(j,N[0]),Q=x(j,z[0]),X=x(j,O[0]),se=m(E(z[0],z[0]),m(E(z[1],z[1]),E(z[2],z[2]))),ne=x(se,I[0]),fe=x(se,N[0]),ye=x(se,F[0]),Se=x(se,O[0]),we=m(E(O[0],O[0]),m(E(O[1],O[1]),E(O[2],O[2]))),_e=x(we,I[0]),ke=x(we,N[0]),Me=x(we,F[0]),me=x(we,z[0]),Ee=m(m(m(x(m(x(a(me,Se),F[1]),m(x(a(Me,X),-z[1]),x(a(ye,Q),O[1]))),N[2]),m(x(m(x(a(me,Se),N[1]),m(x(a(ke,ae),-z[1]),x(a(fe,Y),O[1]))),-F[2]),x(m(x(a(Me,X),N[1]),m(x(a(ke,ae),-F[1]),x(a(oe,J),O[1]))),z[2]))),m(x(m(x(a(ye,Q),N[1]),m(x(a(fe,Y),-F[1]),x(a(oe,J),z[1]))),-O[2]),m(x(m(x(a(me,Se),N[1]),m(x(a(ke,ae),-z[1]),x(a(fe,Y),O[1]))),I[2]),x(m(x(a(me,Se),I[1]),m(x(a(_e,te),-z[1]),x(a(ne,$),O[1]))),-N[2])))),m(m(x(m(x(a(ke,ae),I[1]),m(x(a(_e,te),-N[1]),x(a(ue,B),O[1]))),z[2]),m(x(m(x(a(fe,Y),I[1]),m(x(a(ne,$),-N[1]),x(a(ue,B),z[1]))),-O[2]),x(m(x(a(ye,Q),N[1]),m(x(a(fe,Y),-F[1]),x(a(oe,J),z[1]))),I[2]))),m(x(m(x(a(ye,Q),I[1]),m(x(a(ne,$),-F[1]),x(a(q,W),z[1]))),-N[2]),m(x(m(x(a(fe,Y),I[1]),m(x(a(ne,$),-N[1]),x(a(ue,B),z[1]))),F[2]),x(m(x(a(oe,J),I[1]),m(x(a(q,W),-N[1]),x(a(ue,B),F[1]))),-z[2]))))),Be=m(m(m(x(m(x(a(me,Se),F[1]),m(x(a(Me,X),-z[1]),x(a(ye,Q),O[1]))),I[2]),x(m(x(a(me,Se),I[1]),m(x(a(_e,te),-z[1]),x(a(ne,$),O[1]))),-F[2])),m(x(m(x(a(Me,X),I[1]),m(x(a(_e,te),-F[1]),x(a(q,W),O[1]))),z[2]),x(m(x(a(ye,Q),I[1]),m(x(a(ne,$),-F[1]),x(a(q,W),z[1]))),-O[2]))),m(m(x(m(x(a(Me,X),N[1]),m(x(a(ke,ae),-F[1]),x(a(oe,J),O[1]))),I[2]),x(m(x(a(Me,X),I[1]),m(x(a(_e,te),-F[1]),x(a(q,W),O[1]))),-N[2])),m(x(m(x(a(ke,ae),I[1]),m(x(a(_e,te),-N[1]),x(a(ue,B),O[1]))),F[2]),x(m(x(a(oe,J),I[1]),m(x(a(q,W),-N[1]),x(a(ue,B),F[1]))),-O[2])))),Ue=a(Ee,Be);return Ue[Ue.length-1]}return k}function A(m,a,E,x){function k(I,N,F,z,O,_){var B=m(m(E(I[0],I[0]),E(I[1],I[1])),m(E(I[2],I[2]),E(I[3],I[3]))),W=x(B,N[0]),$=x(B,F[0]),te=x(B,z[0]),ie=x(B,O[0]),ue=x(B,_[0]),J=m(m(E(N[0],N[0]),E(N[1],N[1])),m(E(N[2],N[2]),E(N[3],N[3]))),Y=x(J,I[0]),ae=x(J,F[0]),j=x(J,z[0]),q=x(J,O[0]),oe=x(J,_[0]),Q=m(m(E(F[0],F[0]),E(F[1],F[1])),m(E(F[2],F[2]),E(F[3],F[3]))),X=x(Q,I[0]),se=x(Q,N[0]),ne=x(Q,z[0]),fe=x(Q,O[0]),ye=x(Q,_[0]),Se=m(m(E(z[0],z[0]),E(z[1],z[1])),m(E(z[2],z[2]),E(z[3],z[3]))),we=x(Se,I[0]),_e=x(Se,N[0]),ke=x(Se,F[0]),Me=x(Se,O[0]),me=x(Se,_[0]),Ee=m(m(E(O[0],O[0]),E(O[1],O[1])),m(E(O[2],O[2]),E(O[3],O[3]))),Be=x(Ee,I[0]),Ue=x(Ee,N[0]),De=x(Ee,F[0]),He=x(Ee,z[0]),nt=x(Ee,_[0]),lt=m(m(E(_[0],_[0]),E(_[1],_[1])),m(E(_[2],_[2]),E(_[3],_[3]))),$e=x(lt,I[0]),qe=x(lt,N[0]),ct=x(lt,F[0]),dt=x(lt,z[0]),gt=x(lt,O[0]),At=m(m(m(x(m(m(x(m(x(a(gt,nt),z[1]),m(x(a(dt,me),-O[1]),x(a(He,Me),_[1]))),F[2]),x(m(x(a(gt,nt),F[1]),m(x(a(ct,ye),-O[1]),x(a(De,fe),_[1]))),-z[2])),m(x(m(x(a(dt,me),F[1]),m(x(a(ct,ye),-z[1]),x(a(ke,ne),_[1]))),O[2]),x(m(x(a(He,Me),F[1]),m(x(a(De,fe),-z[1]),x(a(ke,ne),O[1]))),-_[2]))),N[3]),m(x(m(m(x(m(x(a(gt,nt),z[1]),m(x(a(dt,me),-O[1]),x(a(He,Me),_[1]))),N[2]),x(m(x(a(gt,nt),N[1]),m(x(a(qe,oe),-O[1]),x(a(Ue,q),_[1]))),-z[2])),m(x(m(x(a(dt,me),N[1]),m(x(a(qe,oe),-z[1]),x(a(_e,j),_[1]))),O[2]),x(m(x(a(He,Me),N[1]),m(x(a(Ue,q),-z[1]),x(a(_e,j),O[1]))),-_[2]))),-F[3]),x(m(m(x(m(x(a(gt,nt),F[1]),m(x(a(ct,ye),-O[1]),x(a(De,fe),_[1]))),N[2]),x(m(x(a(gt,nt),N[1]),m(x(a(qe,oe),-O[1]),x(a(Ue,q),_[1]))),-F[2])),m(x(m(x(a(ct,ye),N[1]),m(x(a(qe,oe),-F[1]),x(a(se,ae),_[1]))),O[2]),x(m(x(a(De,fe),N[1]),m(x(a(Ue,q),-F[1]),x(a(se,ae),O[1]))),-_[2]))),z[3]))),m(m(x(m(m(x(m(x(a(dt,me),F[1]),m(x(a(ct,ye),-z[1]),x(a(ke,ne),_[1]))),N[2]),x(m(x(a(dt,me),N[1]),m(x(a(qe,oe),-z[1]),x(a(_e,j),_[1]))),-F[2])),m(x(m(x(a(ct,ye),N[1]),m(x(a(qe,oe),-F[1]),x(a(se,ae),_[1]))),z[2]),x(m(x(a(ke,ne),N[1]),m(x(a(_e,j),-F[1]),x(a(se,ae),z[1]))),-_[2]))),-O[3]),x(m(m(x(m(x(a(He,Me),F[1]),m(x(a(De,fe),-z[1]),x(a(ke,ne),O[1]))),N[2]),x(m(x(a(He,Me),N[1]),m(x(a(Ue,q),-z[1]),x(a(_e,j),O[1]))),-F[2])),m(x(m(x(a(De,fe),N[1]),m(x(a(Ue,q),-F[1]),x(a(se,ae),O[1]))),z[2]),x(m(x(a(ke,ne),N[1]),m(x(a(_e,j),-F[1]),x(a(se,ae),z[1]))),-O[2]))),_[3])),m(x(m(m(x(m(x(a(gt,nt),z[1]),m(x(a(dt,me),-O[1]),x(a(He,Me),_[1]))),N[2]),x(m(x(a(gt,nt),N[1]),m(x(a(qe,oe),-O[1]),x(a(Ue,q),_[1]))),-z[2])),m(x(m(x(a(dt,me),N[1]),m(x(a(qe,oe),-z[1]),x(a(_e,j),_[1]))),O[2]),x(m(x(a(He,Me),N[1]),m(x(a(Ue,q),-z[1]),x(a(_e,j),O[1]))),-_[2]))),I[3]),x(m(m(x(m(x(a(gt,nt),z[1]),m(x(a(dt,me),-O[1]),x(a(He,Me),_[1]))),I[2]),x(m(x(a(gt,nt),I[1]),m(x(a($e,ue),-O[1]),x(a(Be,ie),_[1]))),-z[2])),m(x(m(x(a(dt,me),I[1]),m(x(a($e,ue),-z[1]),x(a(we,te),_[1]))),O[2]),x(m(x(a(He,Me),I[1]),m(x(a(Be,ie),-z[1]),x(a(we,te),O[1]))),-_[2]))),-N[3])))),m(m(m(x(m(m(x(m(x(a(gt,nt),N[1]),m(x(a(qe,oe),-O[1]),x(a(Ue,q),_[1]))),I[2]),x(m(x(a(gt,nt),I[1]),m(x(a($e,ue),-O[1]),x(a(Be,ie),_[1]))),-N[2])),m(x(m(x(a(qe,oe),I[1]),m(x(a($e,ue),-N[1]),x(a(Y,W),_[1]))),O[2]),x(m(x(a(Ue,q),I[1]),m(x(a(Be,ie),-N[1]),x(a(Y,W),O[1]))),-_[2]))),z[3]),x(m(m(x(m(x(a(dt,me),N[1]),m(x(a(qe,oe),-z[1]),x(a(_e,j),_[1]))),I[2]),x(m(x(a(dt,me),I[1]),m(x(a($e,ue),-z[1]),x(a(we,te),_[1]))),-N[2])),m(x(m(x(a(qe,oe),I[1]),m(x(a($e,ue),-N[1]),x(a(Y,W),_[1]))),z[2]),x(m(x(a(_e,j),I[1]),m(x(a(we,te),-N[1]),x(a(Y,W),z[1]))),-_[2]))),-O[3])),m(x(m(m(x(m(x(a(He,Me),N[1]),m(x(a(Ue,q),-z[1]),x(a(_e,j),O[1]))),I[2]),x(m(x(a(He,Me),I[1]),m(x(a(Be,ie),-z[1]),x(a(we,te),O[1]))),-N[2])),m(x(m(x(a(Ue,q),I[1]),m(x(a(Be,ie),-N[1]),x(a(Y,W),O[1]))),z[2]),x(m(x(a(_e,j),I[1]),m(x(a(we,te),-N[1]),x(a(Y,W),z[1]))),-O[2]))),_[3]),x(m(m(x(m(x(a(dt,me),F[1]),m(x(a(ct,ye),-z[1]),x(a(ke,ne),_[1]))),N[2]),x(m(x(a(dt,me),N[1]),m(x(a(qe,oe),-z[1]),x(a(_e,j),_[1]))),-F[2])),m(x(m(x(a(ct,ye),N[1]),m(x(a(qe,oe),-F[1]),x(a(se,ae),_[1]))),z[2]),x(m(x(a(ke,ne),N[1]),m(x(a(_e,j),-F[1]),x(a(se,ae),z[1]))),-_[2]))),I[3]))),m(m(x(m(m(x(m(x(a(dt,me),F[1]),m(x(a(ct,ye),-z[1]),x(a(ke,ne),_[1]))),I[2]),x(m(x(a(dt,me),I[1]),m(x(a($e,ue),-z[1]),x(a(we,te),_[1]))),-F[2])),m(x(m(x(a(ct,ye),I[1]),m(x(a($e,ue),-F[1]),x(a(X,$),_[1]))),z[2]),x(m(x(a(ke,ne),I[1]),m(x(a(we,te),-F[1]),x(a(X,$),z[1]))),-_[2]))),-N[3]),x(m(m(x(m(x(a(dt,me),N[1]),m(x(a(qe,oe),-z[1]),x(a(_e,j),_[1]))),I[2]),x(m(x(a(dt,me),I[1]),m(x(a($e,ue),-z[1]),x(a(we,te),_[1]))),-N[2])),m(x(m(x(a(qe,oe),I[1]),m(x(a($e,ue),-N[1]),x(a(Y,W),_[1]))),z[2]),x(m(x(a(_e,j),I[1]),m(x(a(we,te),-N[1]),x(a(Y,W),z[1]))),-_[2]))),F[3])),m(x(m(m(x(m(x(a(ct,ye),N[1]),m(x(a(qe,oe),-F[1]),x(a(se,ae),_[1]))),I[2]),x(m(x(a(ct,ye),I[1]),m(x(a($e,ue),-F[1]),x(a(X,$),_[1]))),-N[2])),m(x(m(x(a(qe,oe),I[1]),m(x(a($e,ue),-N[1]),x(a(Y,W),_[1]))),F[2]),x(m(x(a(se,ae),I[1]),m(x(a(X,$),-N[1]),x(a(Y,W),F[1]))),-_[2]))),-z[3]),x(m(m(x(m(x(a(ke,ne),N[1]),m(x(a(_e,j),-F[1]),x(a(se,ae),z[1]))),I[2]),x(m(x(a(ke,ne),I[1]),m(x(a(we,te),-F[1]),x(a(X,$),z[1]))),-N[2])),m(x(m(x(a(_e,j),I[1]),m(x(a(we,te),-N[1]),x(a(Y,W),z[1]))),F[2]),x(m(x(a(se,ae),I[1]),m(x(a(X,$),-N[1]),x(a(Y,W),F[1]))),-z[2]))),_[3]))))),Rt=m(m(m(x(m(m(x(m(x(a(gt,nt),z[1]),m(x(a(dt,me),-O[1]),x(a(He,Me),_[1]))),F[2]),x(m(x(a(gt,nt),F[1]),m(x(a(ct,ye),-O[1]),x(a(De,fe),_[1]))),-z[2])),m(x(m(x(a(dt,me),F[1]),m(x(a(ct,ye),-z[1]),x(a(ke,ne),_[1]))),O[2]),x(m(x(a(He,Me),F[1]),m(x(a(De,fe),-z[1]),x(a(ke,ne),O[1]))),-_[2]))),I[3]),m(x(m(m(x(m(x(a(gt,nt),z[1]),m(x(a(dt,me),-O[1]),x(a(He,Me),_[1]))),I[2]),x(m(x(a(gt,nt),I[1]),m(x(a($e,ue),-O[1]),x(a(Be,ie),_[1]))),-z[2])),m(x(m(x(a(dt,me),I[1]),m(x(a($e,ue),-z[1]),x(a(we,te),_[1]))),O[2]),x(m(x(a(He,Me),I[1]),m(x(a(Be,ie),-z[1]),x(a(we,te),O[1]))),-_[2]))),-F[3]),x(m(m(x(m(x(a(gt,nt),F[1]),m(x(a(ct,ye),-O[1]),x(a(De,fe),_[1]))),I[2]),x(m(x(a(gt,nt),I[1]),m(x(a($e,ue),-O[1]),x(a(Be,ie),_[1]))),-F[2])),m(x(m(x(a(ct,ye),I[1]),m(x(a($e,ue),-F[1]),x(a(X,$),_[1]))),O[2]),x(m(x(a(De,fe),I[1]),m(x(a(Be,ie),-F[1]),x(a(X,$),O[1]))),-_[2]))),z[3]))),m(m(x(m(m(x(m(x(a(dt,me),F[1]),m(x(a(ct,ye),-z[1]),x(a(ke,ne),_[1]))),I[2]),x(m(x(a(dt,me),I[1]),m(x(a($e,ue),-z[1]),x(a(we,te),_[1]))),-F[2])),m(x(m(x(a(ct,ye),I[1]),m(x(a($e,ue),-F[1]),x(a(X,$),_[1]))),z[2]),x(m(x(a(ke,ne),I[1]),m(x(a(we,te),-F[1]),x(a(X,$),z[1]))),-_[2]))),-O[3]),x(m(m(x(m(x(a(He,Me),F[1]),m(x(a(De,fe),-z[1]),x(a(ke,ne),O[1]))),I[2]),x(m(x(a(He,Me),I[1]),m(x(a(Be,ie),-z[1]),x(a(we,te),O[1]))),-F[2])),m(x(m(x(a(De,fe),I[1]),m(x(a(Be,ie),-F[1]),x(a(X,$),O[1]))),z[2]),x(m(x(a(ke,ne),I[1]),m(x(a(we,te),-F[1]),x(a(X,$),z[1]))),-O[2]))),_[3])),m(x(m(m(x(m(x(a(gt,nt),F[1]),m(x(a(ct,ye),-O[1]),x(a(De,fe),_[1]))),N[2]),x(m(x(a(gt,nt),N[1]),m(x(a(qe,oe),-O[1]),x(a(Ue,q),_[1]))),-F[2])),m(x(m(x(a(ct,ye),N[1]),m(x(a(qe,oe),-F[1]),x(a(se,ae),_[1]))),O[2]),x(m(x(a(De,fe),N[1]),m(x(a(Ue,q),-F[1]),x(a(se,ae),O[1]))),-_[2]))),I[3]),x(m(m(x(m(x(a(gt,nt),F[1]),m(x(a(ct,ye),-O[1]),x(a(De,fe),_[1]))),I[2]),x(m(x(a(gt,nt),I[1]),m(x(a($e,ue),-O[1]),x(a(Be,ie),_[1]))),-F[2])),m(x(m(x(a(ct,ye),I[1]),m(x(a($e,ue),-F[1]),x(a(X,$),_[1]))),O[2]),x(m(x(a(De,fe),I[1]),m(x(a(Be,ie),-F[1]),x(a(X,$),O[1]))),-_[2]))),-N[3])))),m(m(m(x(m(m(x(m(x(a(gt,nt),N[1]),m(x(a(qe,oe),-O[1]),x(a(Ue,q),_[1]))),I[2]),x(m(x(a(gt,nt),I[1]),m(x(a($e,ue),-O[1]),x(a(Be,ie),_[1]))),-N[2])),m(x(m(x(a(qe,oe),I[1]),m(x(a($e,ue),-N[1]),x(a(Y,W),_[1]))),O[2]),x(m(x(a(Ue,q),I[1]),m(x(a(Be,ie),-N[1]),x(a(Y,W),O[1]))),-_[2]))),F[3]),x(m(m(x(m(x(a(ct,ye),N[1]),m(x(a(qe,oe),-F[1]),x(a(se,ae),_[1]))),I[2]),x(m(x(a(ct,ye),I[1]),m(x(a($e,ue),-F[1]),x(a(X,$),_[1]))),-N[2])),m(x(m(x(a(qe,oe),I[1]),m(x(a($e,ue),-N[1]),x(a(Y,W),_[1]))),F[2]),x(m(x(a(se,ae),I[1]),m(x(a(X,$),-N[1]),x(a(Y,W),F[1]))),-_[2]))),-O[3])),m(x(m(m(x(m(x(a(De,fe),N[1]),m(x(a(Ue,q),-F[1]),x(a(se,ae),O[1]))),I[2]),x(m(x(a(De,fe),I[1]),m(x(a(Be,ie),-F[1]),x(a(X,$),O[1]))),-N[2])),m(x(m(x(a(Ue,q),I[1]),m(x(a(Be,ie),-N[1]),x(a(Y,W),O[1]))),F[2]),x(m(x(a(se,ae),I[1]),m(x(a(X,$),-N[1]),x(a(Y,W),F[1]))),-O[2]))),_[3]),x(m(m(x(m(x(a(He,Me),F[1]),m(x(a(De,fe),-z[1]),x(a(ke,ne),O[1]))),N[2]),x(m(x(a(He,Me),N[1]),m(x(a(Ue,q),-z[1]),x(a(_e,j),O[1]))),-F[2])),m(x(m(x(a(De,fe),N[1]),m(x(a(Ue,q),-F[1]),x(a(se,ae),O[1]))),z[2]),x(m(x(a(ke,ne),N[1]),m(x(a(_e,j),-F[1]),x(a(se,ae),z[1]))),-O[2]))),I[3]))),m(m(x(m(m(x(m(x(a(He,Me),F[1]),m(x(a(De,fe),-z[1]),x(a(ke,ne),O[1]))),I[2]),x(m(x(a(He,Me),I[1]),m(x(a(Be,ie),-z[1]),x(a(we,te),O[1]))),-F[2])),m(x(m(x(a(De,fe),I[1]),m(x(a(Be,ie),-F[1]),x(a(X,$),O[1]))),z[2]),x(m(x(a(ke,ne),I[1]),m(x(a(we,te),-F[1]),x(a(X,$),z[1]))),-O[2]))),-N[3]),x(m(m(x(m(x(a(He,Me),N[1]),m(x(a(Ue,q),-z[1]),x(a(_e,j),O[1]))),I[2]),x(m(x(a(He,Me),I[1]),m(x(a(Be,ie),-z[1]),x(a(we,te),O[1]))),-N[2])),m(x(m(x(a(Ue,q),I[1]),m(x(a(Be,ie),-N[1]),x(a(Y,W),O[1]))),z[2]),x(m(x(a(_e,j),I[1]),m(x(a(we,te),-N[1]),x(a(Y,W),z[1]))),-O[2]))),F[3])),m(x(m(m(x(m(x(a(De,fe),N[1]),m(x(a(Ue,q),-F[1]),x(a(se,ae),O[1]))),I[2]),x(m(x(a(De,fe),I[1]),m(x(a(Be,ie),-F[1]),x(a(X,$),O[1]))),-N[2])),m(x(m(x(a(Ue,q),I[1]),m(x(a(Be,ie),-N[1]),x(a(Y,W),O[1]))),F[2]),x(m(x(a(se,ae),I[1]),m(x(a(X,$),-N[1]),x(a(Y,W),F[1]))),-O[2]))),-z[3]),x(m(m(x(m(x(a(ke,ne),N[1]),m(x(a(_e,j),-F[1]),x(a(se,ae),z[1]))),I[2]),x(m(x(a(ke,ne),I[1]),m(x(a(we,te),-F[1]),x(a(X,$),z[1]))),-N[2])),m(x(m(x(a(_e,j),I[1]),m(x(a(we,te),-N[1]),x(a(Y,W),z[1]))),F[2]),x(m(x(a(se,ae),I[1]),m(x(a(X,$),-N[1]),x(a(Y,W),F[1]))),-z[2]))),O[3]))))),Vt=a(At,Rt);return Vt[Vt.length-1]}return k}var w=[g,f,T];function C(m){var a=w[m.length];return a||(a=w[m.length]=l(m.length)),a.apply(void 0,m)}function b(m,a,E,x,k,I,N,F){function z(O,_,B,W,$,te){switch(arguments.length){case 0:case 1:return 0;case 2:return x(O,_);case 3:return k(O,_,B);case 4:return I(O,_,B,W);case 5:return N(O,_,B,W,$);case 6:return F(O,_,B,W,$,te)}for(var ie=new Array(arguments.length),ue=0;ue<arguments.length;++ue)ie[ue]=arguments[ue];return m(ie)}return z}function S(){for(;w.length<=u;)w.push(l(w.length));v.exports=b.apply(void 0,[C].concat(w));for(var m=0;m<=u;++m)v.exports[m]=w[m]}S()},6606:function(v,p,r){var t=r(8167),i=6;function n(w){var C=w===2?l:w===3?g:w===4?f:w===5?T:h;return w<6?C(t[w]):C(t)}function c(){return[[0]]}function u(w,C){return[[C[0]],[w[0][0]]]}function l(w){return function(b,S){return[w([[+S[0],+b[0][1]],[+S[1],+b[1][1]]]),w([[+b[0][0],+S[0]],[+b[1][0],+S[1]]]),w(b)]}}function g(w){return function(b,S){return[w([[+S[0],+b[0][1],+b[0][2]],[+S[1],+b[1][1],+b[1][2]],[+S[2],+b[2][1],+b[2][2]]]),w([[+b[0][0],+S[0],+b[0][2]],[+b[1][0],+S[1],+b[1][2]],[+b[2][0],+S[2],+b[2][2]]]),w([[+b[0][0],+b[0][1],+S[0]],[+b[1][0],+b[1][1],+S[1]],[+b[2][0],+b[2][1],+S[2]]]),w(b)]}}function f(w){return function(b,S){return[w([[+S[0],+b[0][1],+b[0][2],+b[0][3]],[+S[1],+b[1][1],+b[1][2],+b[1][3]],[+S[2],+b[2][1],+b[2][2],+b[2][3]],[+S[3],+b[3][1],+b[3][2],+b[3][3]]]),w([[+b[0][0],+S[0],+b[0][2],+b[0][3]],[+b[1][0],+S[1],+b[1][2],+b[1][3]],[+b[2][0],+S[2],+b[2][2],+b[2][3]],[+b[3][0],+S[3],+b[3][2],+b[3][3]]]),w([[+b[0][0],+b[0][1],+S[0],+b[0][3]],[+b[1][0],+b[1][1],+S[1],+b[1][3]],[+b[2][0],+b[2][1],+S[2],+b[2][3]],[+b[3][0],+b[3][1],+S[3],+b[3][3]]]),w([[+b[0][0],+b[0][1],+b[0][2],+S[0]],[+b[1][0],+b[1][1],+b[1][2],+S[1]],[+b[2][0],+b[2][1],+b[2][2],+S[2]],[+b[3][0],+b[3][1],+b[3][2],+S[3]]]),w(b)]}}function T(w){return function(b,S){return[w([[+S[0],+b[0][1],+b[0][2],+b[0][3],+b[0][4]],[+S[1],+b[1][1],+b[1][2],+b[1][3],+b[1][4]],[+S[2],+b[2][1],+b[2][2],+b[2][3],+b[2][4]],[+S[3],+b[3][1],+b[3][2],+b[3][3],+b[3][4]],[+S[4],+b[4][1],+b[4][2],+b[4][3],+b[4][4]]]),w([[+b[0][0],+S[0],+b[0][2],+b[0][3],+b[0][4]],[+b[1][0],+S[1],+b[1][2],+b[1][3],+b[1][4]],[+b[2][0],+S[2],+b[2][2],+b[2][3],+b[2][4]],[+b[3][0],+S[3],+b[3][2],+b[3][3],+b[3][4]],[+b[4][0],+S[4],+b[4][2],+b[4][3],+b[4][4]]]),w([[+b[0][0],+b[0][1],+S[0],+b[0][3],+b[0][4]],[+b[1][0],+b[1][1],+S[1],+b[1][3],+b[1][4]],[+b[2][0],+b[2][1],+S[2],+b[2][3],+b[2][4]],[+b[3][0],+b[3][1],+S[3],+b[3][3],+b[3][4]],[+b[4][0],+b[4][1],+S[4],+b[4][3],+b[4][4]]]),w([[+b[0][0],+b[0][1],+b[0][2],+S[0],+b[0][4]],[+b[1][0],+b[1][1],+b[1][2],+S[1],+b[1][4]],[+b[2][0],+b[2][1],+b[2][2],+S[2],+b[2][4]],[+b[3][0],+b[3][1],+b[3][2],+S[3],+b[3][4]],[+b[4][0],+b[4][1],+b[4][2],+S[4],+b[4][4]]]),w([[+b[0][0],+b[0][1],+b[0][2],+b[0][3],+S[0]],[+b[1][0],+b[1][1],+b[1][2],+b[1][3],+S[1]],[+b[2][0],+b[2][1],+b[2][2],+b[2][3],+S[2]],[+b[3][0],+b[3][1],+b[3][2],+b[3][3],+S[3]],[+b[4][0],+b[4][1],+b[4][2],+b[4][3],+S[4]]]),w(b)]}}function h(w){return function(b,S){return[w([[+S[0],+b[0][1],+b[0][2],+b[0][3],+b[0][4],+b[0][5]],[+S[1],+b[1][1],+b[1][2],+b[1][3],+b[1][4],+b[1][5]],[+S[2],+b[2][1],+b[2][2],+b[2][3],+b[2][4],+b[2][5]],[+S[3],+b[3][1],+b[3][2],+b[3][3],+b[3][4],+b[3][5]],[+S[4],+b[4][1],+b[4][2],+b[4][3],+b[4][4],+b[4][5]],[+S[5],+b[5][1],+b[5][2],+b[5][3],+b[5][4],+b[5][5]]]),w([[+b[0][0],+S[0],+b[0][2],+b[0][3],+b[0][4],+b[0][5]],[+b[1][0],+S[1],+b[1][2],+b[1][3],+b[1][4],+b[1][5]],[+b[2][0],+S[2],+b[2][2],+b[2][3],+b[2][4],+b[2][5]],[+b[3][0],+S[3],+b[3][2],+b[3][3],+b[3][4],+b[3][5]],[+b[4][0],+S[4],+b[4][2],+b[4][3],+b[4][4],+b[4][5]],[+b[5][0],+S[5],+b[5][2],+b[5][3],+b[5][4],+b[5][5]]]),w([[+b[0][0],+b[0][1],+S[0],+b[0][3],+b[0][4],+b[0][5]],[+b[1][0],+b[1][1],+S[1],+b[1][3],+b[1][4],+b[1][5]],[+b[2][0],+b[2][1],+S[2],+b[2][3],+b[2][4],+b[2][5]],[+b[3][0],+b[3][1],+S[3],+b[3][3],+b[3][4],+b[3][5]],[+b[4][0],+b[4][1],+S[4],+b[4][3],+b[4][4],+b[4][5]],[+b[5][0],+b[5][1],+S[5],+b[5][3],+b[5][4],+b[5][5]]]),w([[+b[0][0],+b[0][1],+b[0][2],+S[0],+b[0][4],+b[0][5]],[+b[1][0],+b[1][1],+b[1][2],+S[1],+b[1][4],+b[1][5]],[+b[2][0],+b[2][1],+b[2][2],+S[2],+b[2][4],+b[2][5]],[+b[3][0],+b[3][1],+b[3][2],+S[3],+b[3][4],+b[3][5]],[+b[4][0],+b[4][1],+b[4][2],+S[4],+b[4][4],+b[4][5]],[+b[5][0],+b[5][1],+b[5][2],+S[5],+b[5][4],+b[5][5]]]),w([[+b[0][0],+b[0][1],+b[0][2],+b[0][3],+S[0],+b[0][5]],[+b[1][0],+b[1][1],+b[1][2],+b[1][3],+S[1],+b[1][5]],[+b[2][0],+b[2][1],+b[2][2],+b[2][3],+S[2],+b[2][5]],[+b[3][0],+b[3][1],+b[3][2],+b[3][3],+S[3],+b[3][5]],[+b[4][0],+b[4][1],+b[4][2],+b[4][3],+S[4],+b[4][5]],[+b[5][0],+b[5][1],+b[5][2],+b[5][3],+S[5],+b[5][5]]]),w([[+b[0][0],+b[0][1],+b[0][2],+b[0][3],+b[0][4],+S[0]],[+b[1][0],+b[1][1],+b[1][2],+b[1][3],+b[1][4],+S[1]],[+b[2][0],+b[2][1],+b[2][2],+b[2][3],+b[2][4],+S[2]],[+b[3][0],+b[3][1],+b[3][2],+b[3][3],+b[3][4],+S[3]],[+b[4][0],+b[4][1],+b[4][2],+b[4][3],+b[4][4],+S[4]],[+b[5][0],+b[5][1],+b[5][2],+b[5][3],+b[5][4],+S[5]]]),w(b)]}}var s=[c,u];function d(w,C,b,S,m,a,E,x){return function(I,N){switch(I.length){case 0:return w(I,N);case 1:return C(I,N);case 2:return b(I,N);case 3:return S(I,N);case 4:return m(I,N);case 5:return a(I,N)}var F=E[I.length];return F||(F=E[I.length]=x(I.length)),F(I,N)}}function A(){for(;s.length<i;)s.push(n(s.length));v.exports=d.apply(void 0,s.concat([s,n]));for(var w=0;w<i;++w)v.exports[w]=s[w]}A()},417:function(v,p,r){var t=r(9660),i=r(9662),n=r(8289),c=r(4078),u=5,l=11102230246251565e-32,g=(3+16*l)*l,f=(7+56*l)*l;function T(a,E,x,k){return function(N,F,z){var O=a(a(E(F[1],z[0]),E(-z[1],F[0])),a(E(N[1],F[0]),E(-F[1],N[0]))),_=a(E(N[1],z[0]),E(-z[1],N[0])),B=k(O,_);return B[B.length-1]}}function h(a,E,x,k){return function(N,F,z,O){var _=a(a(x(a(E(z[1],O[0]),E(-O[1],z[0])),F[2]),a(x(a(E(F[1],O[0]),E(-O[1],F[0])),-z[2]),x(a(E(F[1],z[0]),E(-z[1],F[0])),O[2]))),a(x(a(E(F[1],O[0]),E(-O[1],F[0])),N[2]),a(x(a(E(N[1],O[0]),E(-O[1],N[0])),-F[2]),x(a(E(N[1],F[0]),E(-F[1],N[0])),O[2])))),B=a(a(x(a(E(z[1],O[0]),E(-O[1],z[0])),N[2]),a(x(a(E(N[1],O[0]),E(-O[1],N[0])),-z[2]),x(a(E(N[1],z[0]),E(-z[1],N[0])),O[2]))),a(x(a(E(F[1],z[0]),E(-z[1],F[0])),N[2]),a(x(a(E(N[1],z[0]),E(-z[1],N[0])),-F[2]),x(a(E(N[1],F[0]),E(-F[1],N[0])),z[2])))),W=k(_,B);return W[W.length-1]}}function s(a,E,x,k){return function(N,F,z,O,_){var B=a(a(a(x(a(x(a(E(O[1],_[0]),E(-_[1],O[0])),z[2]),a(x(a(E(z[1],_[0]),E(-_[1],z[0])),-O[2]),x(a(E(z[1],O[0]),E(-O[1],z[0])),_[2]))),F[3]),a(x(a(x(a(E(O[1],_[0]),E(-_[1],O[0])),F[2]),a(x(a(E(F[1],_[0]),E(-_[1],F[0])),-O[2]),x(a(E(F[1],O[0]),E(-O[1],F[0])),_[2]))),-z[3]),x(a(x(a(E(z[1],_[0]),E(-_[1],z[0])),F[2]),a(x(a(E(F[1],_[0]),E(-_[1],F[0])),-z[2]),x(a(E(F[1],z[0]),E(-z[1],F[0])),_[2]))),O[3]))),a(x(a(x(a(E(z[1],O[0]),E(-O[1],z[0])),F[2]),a(x(a(E(F[1],O[0]),E(-O[1],F[0])),-z[2]),x(a(E(F[1],z[0]),E(-z[1],F[0])),O[2]))),-_[3]),a(x(a(x(a(E(O[1],_[0]),E(-_[1],O[0])),F[2]),a(x(a(E(F[1],_[0]),E(-_[1],F[0])),-O[2]),x(a(E(F[1],O[0]),E(-O[1],F[0])),_[2]))),N[3]),x(a(x(a(E(O[1],_[0]),E(-_[1],O[0])),N[2]),a(x(a(E(N[1],_[0]),E(-_[1],N[0])),-O[2]),x(a(E(N[1],O[0]),E(-O[1],N[0])),_[2]))),-F[3])))),a(a(x(a(x(a(E(F[1],_[0]),E(-_[1],F[0])),N[2]),a(x(a(E(N[1],_[0]),E(-_[1],N[0])),-F[2]),x(a(E(N[1],F[0]),E(-F[1],N[0])),_[2]))),O[3]),a(x(a(x(a(E(F[1],O[0]),E(-O[1],F[0])),N[2]),a(x(a(E(N[1],O[0]),E(-O[1],N[0])),-F[2]),x(a(E(N[1],F[0]),E(-F[1],N[0])),O[2]))),-_[3]),x(a(x(a(E(z[1],O[0]),E(-O[1],z[0])),F[2]),a(x(a(E(F[1],O[0]),E(-O[1],F[0])),-z[2]),x(a(E(F[1],z[0]),E(-z[1],F[0])),O[2]))),N[3]))),a(x(a(x(a(E(z[1],O[0]),E(-O[1],z[0])),N[2]),a(x(a(E(N[1],O[0]),E(-O[1],N[0])),-z[2]),x(a(E(N[1],z[0]),E(-z[1],N[0])),O[2]))),-F[3]),a(x(a(x(a(E(F[1],O[0]),E(-O[1],F[0])),N[2]),a(x(a(E(N[1],O[0]),E(-O[1],N[0])),-F[2]),x(a(E(N[1],F[0]),E(-F[1],N[0])),O[2]))),z[3]),x(a(x(a(E(F[1],z[0]),E(-z[1],F[0])),N[2]),a(x(a(E(N[1],z[0]),E(-z[1],N[0])),-F[2]),x(a(E(N[1],F[0]),E(-F[1],N[0])),z[2]))),-O[3]))))),W=a(a(a(x(a(x(a(E(O[1],_[0]),E(-_[1],O[0])),z[2]),a(x(a(E(z[1],_[0]),E(-_[1],z[0])),-O[2]),x(a(E(z[1],O[0]),E(-O[1],z[0])),_[2]))),N[3]),x(a(x(a(E(O[1],_[0]),E(-_[1],O[0])),N[2]),a(x(a(E(N[1],_[0]),E(-_[1],N[0])),-O[2]),x(a(E(N[1],O[0]),E(-O[1],N[0])),_[2]))),-z[3])),a(x(a(x(a(E(z[1],_[0]),E(-_[1],z[0])),N[2]),a(x(a(E(N[1],_[0]),E(-_[1],N[0])),-z[2]),x(a(E(N[1],z[0]),E(-z[1],N[0])),_[2]))),O[3]),x(a(x(a(E(z[1],O[0]),E(-O[1],z[0])),N[2]),a(x(a(E(N[1],O[0]),E(-O[1],N[0])),-z[2]),x(a(E(N[1],z[0]),E(-z[1],N[0])),O[2]))),-_[3]))),a(a(x(a(x(a(E(z[1],_[0]),E(-_[1],z[0])),F[2]),a(x(a(E(F[1],_[0]),E(-_[1],F[0])),-z[2]),x(a(E(F[1],z[0]),E(-z[1],F[0])),_[2]))),N[3]),x(a(x(a(E(z[1],_[0]),E(-_[1],z[0])),N[2]),a(x(a(E(N[1],_[0]),E(-_[1],N[0])),-z[2]),x(a(E(N[1],z[0]),E(-z[1],N[0])),_[2]))),-F[3])),a(x(a(x(a(E(F[1],_[0]),E(-_[1],F[0])),N[2]),a(x(a(E(N[1],_[0]),E(-_[1],N[0])),-F[2]),x(a(E(N[1],F[0]),E(-F[1],N[0])),_[2]))),z[3]),x(a(x(a(E(F[1],z[0]),E(-z[1],F[0])),N[2]),a(x(a(E(N[1],z[0]),E(-z[1],N[0])),-F[2]),x(a(E(N[1],F[0]),E(-F[1],N[0])),z[2]))),-_[3])))),$=k(B,W);return $[$.length-1]}}function d(a){var E=a===3?T:a===4?h:s;return E(i,t,n,c)}var A=d(3),w=d(4),C=[function(){return 0},function(){return 0},function(E,x){return x[0]-E[0]},function(E,x,k){var I=(E[1]-k[1])*(x[0]-k[0]),N=(E[0]-k[0])*(x[1]-k[1]),F=I-N,z;if(I>0){if(N<=0)return F;z=I+N}else if(I<0){if(N>=0)return F;z=-(I+N)}else return F;var O=g*z;return F>=O||F<=-O?F:A(E,x,k)},function(E,x,k,I){var N=E[0]-I[0],F=x[0]-I[0],z=k[0]-I[0],O=E[1]-I[1],_=x[1]-I[1],B=k[1]-I[1],W=E[2]-I[2],$=x[2]-I[2],te=k[2]-I[2],ie=F*B,ue=z*_,J=z*O,Y=N*B,ae=N*_,j=F*O,q=W*(ie-ue)+$*(J-Y)+te*(ae-j),oe=(Math.abs(ie)+Math.abs(ue))*Math.abs(W)+(Math.abs(J)+Math.abs(Y))*Math.abs($)+(Math.abs(ae)+Math.abs(j))*Math.abs(te),Q=f*oe;return q>Q||-q>Q?q:w(E,x,k,I)}];function b(a){var E=C[a.length];return E||(E=C[a.length]=d(a.length)),E.apply(void 0,a)}function S(a,E,x,k,I,N,F){return function(O,_,B,W,$){switch(arguments.length){case 0:case 1:return 0;case 2:return k(O,_);case 3:return I(O,_,B);case 4:return N(O,_,B,W);case 5:return F(O,_,B,W,$)}for(var te=new Array(arguments.length),ie=0;ie<arguments.length;++ie)te[ie]=arguments[ie];return a(te)}}function m(){for(;C.length<=u;)C.push(d(C.length));v.exports=S.apply(void 0,[b].concat(C));for(var a=0;a<=u;++a)v.exports[a]=C[a]}m()},2019:function(v,p,r){var t=r(9662),i=r(8289);v.exports=n;function n(c,u){if(c.length===1)return i(u,c[0]);if(u.length===1)return i(c,u[0]);if(c.length===0||u.length===0)return[0];var l=[0];if(c.length<u.length)for(var g=0;g<c.length;++g)l=t(l,i(u,c[g]));else for(var g=0;g<u.length;++g)l=t(l,i(c,u[g]));return l}},8289:function(v,p,r){var t=r(9660),i=r(87);v.exports=n;function n(c,u){var l=c.length;if(l===1){var g=t(c[0],u);return g[0]?g:[g[1]]}var f=new Array(2*l),T=[.1,.1],h=[.1,.1],s=0;t(c[0],u,T),T[0]&&(f[s++]=T[0]);for(var d=1;d<l;++d){t(c[d],u,h);var A=T[1];i(A,h[0],T),T[0]&&(f[s++]=T[0]);var w=h[1],C=T[1],b=w+C,S=b-w,m=C-S;T[1]=b,m&&(f[s++]=m)}return T[1]&&(f[s++]=T[1]),s===0&&(f[s++]=0),f.length=s,f}},4434:function(v,p,r){v.exports=n;var t=r(417)[3];function i(c,u,l,g){for(var f=0;f<2;++f){var T=c[f],h=u[f],s=Math.min(T,h),d=Math.max(T,h),A=l[f],w=g[f],C=Math.min(A,w),b=Math.max(A,w);if(b<s||d<C)return!1}return!0}function n(c,u,l,g){var f=t(c,l,g),T=t(u,l,g);if(f>0&&T>0||f<0&&T<0)return!1;var h=t(l,c,u),s=t(g,c,u);return h>0&&s>0||h<0&&s<0?!1:f===0&&T===0&&h===0&&s===0?i(c,u,l,g):!0}},4078:function(v){v.exports=r;function p(t,i){var n=t+i,c=n-t,u=n-c,l=i-c,g=t-u,f=g+l;return f?[f,n]:[n]}function r(t,i){var n=t.length|0,c=i.length|0;if(n===1&&c===1)return p(t[0],-i[0]);var u=n+c,l=new Array(u),g=0,f=0,T=0,h=Math.abs,s=t[f],d=h(s),A=-i[T],w=h(A),C,b;d<w?(b=s,f+=1,f<n&&(s=t[f],d=h(s))):(b=A,T+=1,T<c&&(A=-i[T],w=h(A))),f<n&&d<w||T>=c?(C=s,f+=1,f<n&&(s=t[f],d=h(s))):(C=A,T+=1,T<c&&(A=-i[T],w=h(A)));for(var S=C+b,m=S-C,a=b-m,E=a,x=S,k,I,N,F,z;f<n&&T<c;)d<w?(C=s,f+=1,f<n&&(s=t[f],d=h(s))):(C=A,T+=1,T<c&&(A=-i[T],w=h(A))),b=E,S=C+b,m=S-C,a=b-m,a&&(l[g++]=a),k=x+S,I=k-x,N=k-I,F=S-I,z=x-N,E=z+F,x=k;for(;f<n;)C=s,b=E,S=C+b,m=S-C,a=b-m,a&&(l[g++]=a),k=x+S,I=k-x,N=k-I,F=S-I,z=x-N,E=z+F,x=k,f+=1,f<n&&(s=t[f]);for(;T<c;)C=A,b=E,S=C+b,m=S-C,a=b-m,a&&(l[g++]=a),k=x+S,I=k-x,N=k-I,F=S-I,z=x-N,E=z+F,x=k,T+=1,T<c&&(A=-i[T]);return E&&(l[g++]=E),x&&(l[g++]=x),g||(l[g++]=0),l.length=g,l}},9662:function(v){v.exports=r;function p(t,i){var n=t+i,c=n-t,u=n-c,l=i-c,g=t-u,f=g+l;return f?[f,n]:[n]}function r(t,i){var n=t.length|0,c=i.length|0;if(n===1&&c===1)return p(t[0],i[0]);var u=n+c,l=new Array(u),g=0,f=0,T=0,h=Math.abs,s=t[f],d=h(s),A=i[T],w=h(A),C,b;d<w?(b=s,f+=1,f<n&&(s=t[f],d=h(s))):(b=A,T+=1,T<c&&(A=i[T],w=h(A))),f<n&&d<w||T>=c?(C=s,f+=1,f<n&&(s=t[f],d=h(s))):(C=A,T+=1,T<c&&(A=i[T],w=h(A)));for(var S=C+b,m=S-C,a=b-m,E=a,x=S,k,I,N,F,z;f<n&&T<c;)d<w?(C=s,f+=1,f<n&&(s=t[f],d=h(s))):(C=A,T+=1,T<c&&(A=i[T],w=h(A))),b=E,S=C+b,m=S-C,a=b-m,a&&(l[g++]=a),k=x+S,I=k-x,N=k-I,F=S-I,z=x-N,E=z+F,x=k;for(;f<n;)C=s,b=E,S=C+b,m=S-C,a=b-m,a&&(l[g++]=a),k=x+S,I=k-x,N=k-I,F=S-I,z=x-N,E=z+F,x=k,f+=1,f<n&&(s=t[f]);for(;T<c;)C=A,b=E,S=C+b,m=S-C,a=b-m,a&&(l[g++]=a),k=x+S,I=k-x,N=k-I,F=S-I,z=x-N,E=z+F,x=k,T+=1,T<c&&(A=i[T]);return E&&(l[g++]=E),x&&(l[g++]=x),g||(l[g++]=0),l.length=g,l}},8691:function(v,p,r){v.exports=n;var t=r(2692),i=r(7037);function n(c){return i(t(c))}},7212:function(v,p,r){v.exports=s;var t=r(5050),i=r(5306),n=r(8729),c=r(1168);function u(d){for(var A=d.length,w=0,C=0;C<A;++C)w=Math.max(w,d[C].length)|0;return w-1}function l(d,A){for(var w=d.length,C=i.mallocUint8(w),b=0;b<w;++b)C[b]=d[b]<A|0;return C}function g(d,A){for(var w=d.length,C=A*(A+1)/2*w|0,b=i.mallocUint32(C*2),S=0,m=0;m<w;++m)for(var a=d[m],A=a.length,E=0;E<A;++E)for(var x=0;x<E;++x){var k=a[x],I=a[E];b[S++]=Math.min(k,I)|0,b[S++]=Math.max(k,I)|0}var N=S/2|0;n(t(b,[N,2]));for(var F=2,m=2;m<S;m+=2)b[m-2]===b[m]&&b[m-1]===b[m+1]||(b[F++]=b[m],b[F++]=b[m+1]);return t(b,[F/2|0,2])}function f(d,A,w,C){for(var b=d.data,S=d.shape[0],m=i.mallocDouble(S),a=0,E=0;E<S;++E){var x=b[2*E],k=b[2*E+1];if(w[x]!==w[k]){var I=A[x],N=A[k];b[2*a]=x,b[2*a+1]=k,m[a++]=(N-C)/(N-I)}}return d.shape[0]=a,t(m,[a])}function T(d,A){var w=i.mallocInt32(A*2),C=d.shape[0],b=d.data;w[0]=0;for(var S=0,m=0;m<C;++m){var a=b[2*m];if(a!==S){for(w[2*S+1]=m;++S<a;)w[2*S]=m,w[2*S+1]=m;w[2*S]=m}}for(w[2*S+1]=C;++S<A;)w[2*S]=w[2*S+1]=C;return w}function h(d){for(var A=d.shape[0]|0,w=d.data,C=new Array(A),b=0;b<A;++b)C[b]=[w[2*b],w[2*b+1]];return C}function s(d,A,w,C){w=w||0,typeof C>"u"&&(C=u(d));var b=d.length;if(b===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=l(A,+w),m=g(d,C),a=f(m,A,S,+w),E=T(m,A.length|0),x=c(C)(d,m.data,E,S),k=h(m),I=[].slice.call(a.data,0,a.shape[0]);return i.free(S),i.free(m.data),i.free(a.data),i.free(E),{cells:x,vertexIds:k,vertexWeights:I}}},1168:function(v){v.exports=r;var p=[function(){function i(n,c,u,l){for(var g=n.length,f=[],T=0;T<g;++T){var h=n[T];h.length}return f}return i},function(){function i(c,u,l,g){for(var f=Math.min(l,g)|0,T=Math.max(l,g)|0,h=c[2*f],s=c[2*f+1];h<s;){var d=h+s>>1,A=u[2*d+1];if(A===T)return d;T<A?s=d:h=d+1}return h}function n(c,u,l,g){for(var f=c.length,T=[],h=0;h<f;++h){var s=c[h],d=s.length;if(d===2){var A=(g[s[0]]<<0)+(g[s[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:T.push([i(l,u,s[0],s[1])]);break;case 2:T.push([i(l,u,s[1],s[0])]);break}}}return T}return n},function(){function i(c,u,l,g){for(var f=Math.min(l,g)|0,T=Math.max(l,g)|0,h=c[2*f],s=c[2*f+1];h<s;){var d=h+s>>1,A=u[2*d+1];if(A===T)return d;T<A?s=d:h=d+1}return h}function n(c,u,l,g){for(var f=c.length,T=[],h=0;h<f;++h){var s=c[h],d=s.length;if(d===3){var A=(g[s[0]]<<0)+(g[s[1]]<<1)+(g[s[2]]<<2);if(A===0||A===7)continue;switch(A){case 0:break;case 1:T.push([i(l,u,s[0],s[2]),i(l,u,s[0],s[1])]);break;case 2:T.push([i(l,u,s[1],s[0]),i(l,u,s[1],s[2])]);break;case 3:T.push([i(l,u,s[0],s[2]),i(l,u,s[1],s[2])]);break;case 4:T.push([i(l,u,s[2],s[1]),i(l,u,s[2],s[0])]);break;case 5:T.push([i(l,u,s[2],s[1]),i(l,u,s[0],s[1])]);break;case 6:T.push([i(l,u,s[1],s[0]),i(l,u,s[2],s[0])]);break}}else if(d===2){var A=(g[s[0]]<<0)+(g[s[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:T.push([i(l,u,s[0],s[1])]);break;case 2:T.push([i(l,u,s[1],s[0])]);break}}}return T}return n},function(){function i(c,u,l,g){for(var f=Math.min(l,g)|0,T=Math.max(l,g)|0,h=c[2*f],s=c[2*f+1];h<s;){var d=h+s>>1,A=u[2*d+1];if(A===T)return d;T<A?s=d:h=d+1}return h}function n(c,u,l,g){for(var f=c.length,T=[],h=0;h<f;++h){var s=c[h],d=s.length;if(d===4){var A=(g[s[0]]<<0)+(g[s[1]]<<1)+(g[s[2]]<<2)+(g[s[3]]<<3);if(A===0||A===15)continue;switch(A){case 0:break;case 1:T.push([i(l,u,s[0],s[1]),i(l,u,s[0],s[2]),i(l,u,s[0],s[3])]);break;case 2:T.push([i(l,u,s[1],s[2]),i(l,u,s[1],s[0]),i(l,u,s[1],s[3])]);break;case 3:T.push([i(l,u,s[1],s[2]),i(l,u,s[0],s[2]),i(l,u,s[0],s[3])],[i(l,u,s[1],s[3]),i(l,u,s[1],s[2]),i(l,u,s[0],s[3])]);break;case 4:T.push([i(l,u,s[2],s[0]),i(l,u,s[2],s[1]),i(l,u,s[2],s[3])]);break;case 5:T.push([i(l,u,s[0],s[1]),i(l,u,s[2],s[1]),i(l,u,s[0],s[3])],[i(l,u,s[2],s[1]),i(l,u,s[2],s[3]),i(l,u,s[0],s[3])]);break;case 6:T.push([i(l,u,s[2],s[0]),i(l,u,s[1],s[0]),i(l,u,s[1],s[3])],[i(l,u,s[2],s[3]),i(l,u,s[2],s[0]),i(l,u,s[1],s[3])]);break;case 7:T.push([i(l,u,s[0],s[3]),i(l,u,s[1],s[3]),i(l,u,s[2],s[3])]);break;case 8:T.push([i(l,u,s[3],s[1]),i(l,u,s[3],s[0]),i(l,u,s[3],s[2])]);break;case 9:T.push([i(l,u,s[3],s[1]),i(l,u,s[0],s[1]),i(l,u,s[0],s[2])],[i(l,u,s[3],s[2]),i(l,u,s[3],s[1]),i(l,u,s[0],s[2])]);break;case 10:T.push([i(l,u,s[1],s[0]),i(l,u,s[3],s[0]),i(l,u,s[1],s[2])],[i(l,u,s[3],s[0]),i(l,u,s[3],s[2]),i(l,u,s[1],s[2])]);break;case 11:T.push([i(l,u,s[1],s[2]),i(l,u,s[0],s[2]),i(l,u,s[3],s[2])]);break;case 12:T.push([i(l,u,s[3],s[0]),i(l,u,s[2],s[0]),i(l,u,s[2],s[1])],[i(l,u,s[3],s[1]),i(l,u,s[3],s[0]),i(l,u,s[2],s[1])]);break;case 13:T.push([i(l,u,s[0],s[1]),i(l,u,s[2],s[1]),i(l,u,s[3],s[1])]);break;case 14:T.push([i(l,u,s[2],s[0]),i(l,u,s[1],s[0]),i(l,u,s[3],s[0])]);break}}else if(d===3){var A=(g[s[0]]<<0)+(g[s[1]]<<1)+(g[s[2]]<<2);if(A===0||A===7)continue;switch(A){case 0:break;case 1:T.push([i(l,u,s[0],s[2]),i(l,u,s[0],s[1])]);break;case 2:T.push([i(l,u,s[1],s[0]),i(l,u,s[1],s[2])]);break;case 3:T.push([i(l,u,s[0],s[2]),i(l,u,s[1],s[2])]);break;case 4:T.push([i(l,u,s[2],s[1]),i(l,u,s[2],s[0])]);break;case 5:T.push([i(l,u,s[2],s[1]),i(l,u,s[0],s[1])]);break;case 6:T.push([i(l,u,s[1],s[0]),i(l,u,s[2],s[0])]);break}}else if(d===2){var A=(g[s[0]]<<0)+(g[s[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:T.push([i(l,u,s[0],s[1])]);break;case 2:T.push([i(l,u,s[1],s[0])]);break}}}return T}return n}];function r(t){return p[t]()}},8211:function(v,p,r){r(2288),r(1731);function t(i,n){var c=i.length,u=i.length-n.length,l=Math.min;if(u)return u;switch(c){case 0:return 0;case 1:return i[0]-n[0];case 2:var s=i[0]+i[1]-n[0]-n[1];return s||l(i[0],i[1])-l(n[0],n[1]);case 3:var g=i[0]+i[1],f=n[0]+n[1];if(s=g+i[2]-(f+n[2]),s)return s;var T=l(i[0],i[1]),h=l(n[0],n[1]),s=l(T,i[2])-l(h,n[2]);return s||l(T+i[2],g)-l(h+n[2],f);default:var d=i.slice(0);d.sort();var A=n.slice(0);A.sort();for(var w=0;w<c;++w)if(u=d[w]-A[w],u)return u;return 0}}p.H=t},9392:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var c=n>>r-1;return(n^c)-c},p.min=function(n,c){return c^(n^c)&-(n<c)},p.max=function(n,c){return n^(n^c)&-(n<c)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var c,u;return c=(n>65535)<<4,n>>>=c,u=(n>255)<<3,n>>>=u,c|=u,u=(n>15)<<2,n>>>=u,c|=u,u=(n>3)<<1,n>>>=u,c|=u,c|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var c=32;return n&=-n,n&&c--,n&65535&&(c-=16),n&16711935&&(c-=8),n&252645135&&(c-=4),n&858993459&&(c-=2),n&1431655765&&(c-=1),c}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var i=new Array(256);(function(n){for(var c=0;c<256;++c){var u=c,l=c,g=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--g;n[c]=l<<g&255}})(i),p.reverse=function(n){return i[n&255]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},p.interleave2=function(n,c){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,c&=65535,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,c=(c|c<<2)&858993459,c=(c|c<<1)&1431655765,n|c<<1},p.deinterleave2=function(n,c){return n=n>>>c&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,c,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,n|=c<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},p.deinterleave3=function(n,c){return n=n>>>c&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var c=n|n-1;return c+1|(~c&-~c)-1>>>t(n)+1}},6656:function(v,p,r){"use restrict";var t=r(9392),i=r(9521);function n(a){for(var E=0,x=Math.max,k=0,I=a.length;k<I;++k)E=x(E,a[k].length);return E-1}p.dimension=n;function c(a){for(var E=-1,x=Math.max,k=0,I=a.length;k<I;++k)for(var N=a[k],F=0,z=N.length;F<z;++F)E=x(E,N[F]);return E+1}p.countVertices=c;function u(a){for(var E=new Array(a.length),x=0,k=a.length;x<k;++x)E[x]=a[x].slice(0);return E}p.cloneCells=u;function l(a,E){var x=a.length,k=a.length-E.length,I=Math.min;if(k)return k;switch(x){case 0:return 0;case 1:return a[0]-E[0];case 2:var _=a[0]+a[1]-E[0]-E[1];return _||I(a[0],a[1])-I(E[0],E[1]);case 3:var N=a[0]+a[1],F=E[0]+E[1];if(_=N+a[2]-(F+E[2]),_)return _;var z=I(a[0],a[1]),O=I(E[0],E[1]),_=I(z,a[2])-I(O,E[2]);return _||I(z+a[2],N)-I(O+E[2],F);default:var B=a.slice(0);B.sort();var W=E.slice(0);W.sort();for(var $=0;$<x;++$)if(k=B[$]-W[$],k)return k;return 0}}p.compareCells=l;function g(a,E){return l(a[0],E[0])}function f(a,E){if(E){for(var x=a.length,k=new Array(x),I=0;I<x;++I)k[I]=[a[I],E[I]];k.sort(g);for(var I=0;I<x;++I)a[I]=k[I][0],E[I]=k[I][1];return a}else return a.sort(l),a}p.normalize=f;function T(a){if(a.length===0)return[];for(var E=1,x=a.length,k=1;k<x;++k){var I=a[k];if(l(I,a[k-1])){if(k===E){E++;continue}a[E++]=I}}return a.length=E,a}p.unique=T;function h(a,E){for(var x=0,k=a.length-1,I=-1;x<=k;){var N=x+k>>1,F=l(a[N],E);F<=0?(F===0&&(I=N),x=N+1):F>0&&(k=N-1)}return I}p.findCell=h;function s(a,E){for(var x=new Array(a.length),k=0,I=x.length;k<I;++k)x[k]=[];for(var N=[],k=0,F=E.length;k<F;++k)for(var z=E[k],O=z.length,_=1,B=1<<O;_<B;++_){N.length=t.popCount(_);for(var W=0,$=0;$<O;++$)_&1<<$&&(N[W++]=z[$]);var te=h(a,N);if(!(te<0))for(;x[te++].push(k),!(te>=a.length||l(a[te],N)!==0););}return x}p.incidence=s;function d(a,E){if(!E)return s(T(w(a,0)),a);for(var x=new Array(E),k=0;k<E;++k)x[k]=[];for(var k=0,I=a.length;k<I;++k)for(var N=a[k],F=0,z=N.length;F<z;++F)x[N[F]].push(k);return x}p.dual=d;function A(a){for(var E=[],x=0,k=a.length;x<k;++x)for(var I=a[x],N=I.length|0,F=1,z=1<<N;F<z;++F){for(var O=[],_=0;_<N;++_)F>>>_&1&&O.push(I[_]);E.push(O)}return f(E)}p.explode=A;function w(a,E){if(E<0)return[];for(var x=[],k=(1<<E+1)-1,I=0;I<a.length;++I)for(var N=a[I],F=k;F<1<<N.length;F=t.nextCombination(F)){for(var z=new Array(E+1),O=0,_=0;_<N.length;++_)F&1<<_&&(z[O++]=N[_]);x.push(z)}return f(x)}p.skeleton=w;function C(a){for(var E=[],x=0,k=a.length;x<k;++x)for(var I=a[x],N=0,F=I.length;N<F;++N){for(var z=new Array(I.length-1),O=0,_=0;O<F;++O)O!==N&&(z[_++]=I[O]);E.push(z)}return f(E)}p.boundary=C;function b(a,E){for(var x=new i(E),k=0;k<a.length;++k)for(var I=a[k],N=0;N<I.length;++N)for(var F=N+1;F<I.length;++F)x.link(I[N],I[F]);for(var z=[],O=x.ranks,k=0;k<O.length;++k)O[k]=-1;for(var k=0;k<a.length;++k){var _=x.find(a[k][0]);O[_]<0?(O[_]=z.length,z.push([a[k].slice(0)])):z[O[_]].push(a[k].slice(0))}return z}function S(a){for(var E=T(f(w(a,0))),x=new i(E.length),k=0;k<a.length;++k)for(var I=a[k],N=0;N<I.length;++N)for(var F=h(E,[I[N]]),z=N+1;z<I.length;++z)x.link(F,h(E,[I[z]]));for(var O=[],_=x.ranks,k=0;k<_.length;++k)_[k]=-1;for(var k=0;k<a.length;++k){var B=x.find(h(E,[a[k][0]]));_[B]<0?(_[B]=O.length,O.push([a[k].slice(0)])):O[_[B]].push(a[k].slice(0))}return O}function m(a,E){return E?b(a,E):S(a)}p.connectedComponents=m},9521:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var i=t[r];t[r]=t[i],r=i}return r},p.prototype.link=function(r,t){var i=this.find(r),n=this.find(t);if(i!==n){var c=this.ranks,u=this.roots,l=c[i],g=c[n];l<g?u[i]=n:g<l?u[n]=i:(u[n]=i,++c[i])}}},8243:function(v,p,r){v.exports=c;var t=r(417),i=r(6656);function n(u,l,g){var f=Math.abs(t(u,l,g)),T=Math.sqrt(Math.pow(l[0]-g[0],2)+Math.pow(l[1]-g[1],2));return f/T}function c(u,l,g){for(var f=l.length,T=u.length,h=new Array(f),s=new Array(f),d=new Array(f),A=new Array(f),w=0;w<f;++w)h[w]=s[w]=-1,d[w]=1/0,A[w]=!1;for(var w=0;w<T;++w){var C=u[w];if(C.length!==2)throw new Error("Input must be a graph");var b=C[1],S=C[0];s[S]!==-1?s[S]=-2:s[S]=b,h[b]!==-1?h[b]=-2:h[b]=S}function m(J){if(A[J])return 1/0;var Y=h[J],ae=s[J];return Y<0||ae<0?1/0:n(l[J],l[Y],l[ae])}function a(J,Y){var ae=O[J],j=O[Y];O[J]=j,O[Y]=ae,_[ae]=Y,_[j]=J}function E(J){return d[O[J]]}function x(J){return J&1?J-1>>1:(J>>1)-1}function k(J){for(var Y=E(J);;){var ae=Y,j=2*J+1,q=2*(J+1),oe=J;if(j<W){var Q=E(j);Q<ae&&(oe=j,ae=Q)}if(q<W){var X=E(q);X<ae&&(oe=q)}if(oe===J)return J;a(J,oe),J=oe}}function I(J){for(var Y=E(J);J>0;){var ae=x(J);if(ae>=0){var j=E(ae);if(Y<j){a(J,ae),J=ae;continue}}return J}}function N(){if(W>0){var J=O[0];return a(0,W-1),W-=1,k(0),J}return-1}function F(J,Y){var ae=O[J];return d[ae]===Y?J:(d[ae]=-1/0,I(J),N(),d[ae]=Y,W+=1,I(W-1))}function z(J){if(!A[J]){A[J]=!0;var Y=h[J],ae=s[J];h[ae]>=0&&(h[ae]=Y),s[Y]>=0&&(s[Y]=ae),_[Y]>=0&&F(_[Y],m(Y)),_[ae]>=0&&F(_[ae],m(ae))}}for(var O=[],_=new Array(f),w=0;w<f;++w){var B=d[w]=m(w);B<1/0?(_[w]=O.length,O.push(w)):_[w]=-1}for(var W=O.length,w=W>>1;w>=0;--w)k(w);for(;;){var $=N();if($<0||d[$]>g)break;z($)}for(var te=[],w=0;w<f;++w)A[w]||(_[w]=te.length,te.push(l[w].slice()));te.length;function ie(J,Y){if(J[Y]<0)return Y;var ae=Y,j=Y;do{var q=J[j];if(!A[j]||q<0||q===j||(j=q,q=J[j],!A[j]||q<0||q===j))break;j=q,ae=J[ae]}while(ae!==j);for(var oe=Y;oe!==j;oe=J[oe])J[oe]=j;return j}var ue=[];return u.forEach(function(J){var Y=ie(h,J[0]),ae=ie(s,J[1]);if(Y>=0&&ae>=0&&Y!==ae){var j=_[Y],q=_[ae];j!==q&&ue.push([j,q])}}),i.unique(i.normalize(ue)),{positions:te,edges:ue}}},6638:function(v,p,r){v.exports=n;var t=r(417);function i(c,u){var l,g;if(u[0][0]<u[1][0])l=u[0],g=u[1];else if(u[0][0]>u[1][0])l=u[1],g=u[0];else{var f=Math.min(c[0][1],c[1][1]),T=Math.max(c[0][1],c[1][1]),h=Math.min(u[0][1],u[1][1]),s=Math.max(u[0][1],u[1][1]);return T<h?T-h:f>s?f-s:T-s}var d,A;c[0][1]<c[1][1]?(d=c[0],A=c[1]):(d=c[1],A=c[0]);var w=t(g,l,d);return w||(w=t(g,l,A),w)?w:A-g}function n(c,u){var l,g;if(u[0][0]<u[1][0])l=u[0],g=u[1];else if(u[0][0]>u[1][0])l=u[1],g=u[0];else return i(u,c);var f,T;if(c[0][0]<c[1][0])f=c[0],T=c[1];else if(c[0][0]>c[1][0])f=c[1],T=c[0];else return-i(c,u);var h=t(l,g,T),s=t(l,g,f);if(h<0){if(s<=0)return h}else if(h>0){if(s>=0)return h}else if(s)return s;if(h=t(T,f,g),s=t(T,f,l),h<0){if(s<=0)return h}else if(h>0){if(s>=0)return h}else if(s)return s;return g[0]-T[0]}},4385:function(v,p,r){v.exports=s;var t=r(5070),i=r(7080),n=r(417),c=r(6638);function u(d,A,w){this.slabs=d,this.coordinates=A,this.horizontal=w}var l=u.prototype;function g(d,A){return d.y-A}function f(d,A){for(var w=null;d;){var C=d.key,b,S;C[0][0]<C[1][0]?(b=C[0],S=C[1]):(b=C[1],S=C[0]);var m=n(b,S,A);if(m<0)d=d.left;else if(m>0)if(A[0]!==C[1][0])w=d,d=d.right;else{var a=f(d.right,A);if(a)return a;d=d.left}else{if(A[0]!==C[1][0])return d;var a=f(d.right,A);if(a)return a;d=d.left}}return w}l.castUp=function(d){var A=t.le(this.coordinates,d[0]);if(A<0)return-1;this.slabs[A];var w=f(this.slabs[A],d),C=-1;if(w&&(C=w.value),this.coordinates[A]===d[0]){var b=null;if(w&&(b=w.key),A>0){var S=f(this.slabs[A-1],d);S&&(b?c(S.key,b)>0&&(b=S.key,C=S.value):(C=S.value,b=S.key))}var m=this.horizontal[A];if(m.length>0){var a=t.ge(m,d[1],g);if(a<m.length){var E=m[a];if(d[1]===E.y){if(E.closed)return E.index;for(;a<m.length-1&&m[a+1].y===d[1];)if(a=a+1,E=m[a],E.closed)return E.index;if(E.y===d[1]&&!E.start){if(a=a+1,a>=m.length)return C;E=m[a]}}if(E.start)if(b){var x=n(b[0],b[1],[d[0],E.y]);b[0][0]>b[1][0]&&(x=-x),x>0&&(C=E.index)}else C=E.index;else E.y!==d[1]&&(C=E.index)}}}return C};function T(d,A,w,C){this.y=d,this.index=A,this.start=w,this.closed=C}function h(d,A,w,C){this.x=d,this.segment=A,this.create=w,this.index=C}function s(d){for(var A=d.length,w=2*A,C=new Array(w),b=0;b<A;++b){var S=d[b],m=S[0][0]<S[1][0];C[2*b]=new h(S[0][0],S,m,b),C[2*b+1]=new h(S[1][0],S,!m,b)}C.sort(function(z,O){var _=z.x-O.x;return _||(_=z.create-O.create,_)?_:Math.min(z.segment[0][1],z.segment[1][1])-Math.min(O.segment[0][1],O.segment[1][1])});for(var a=i(c),E=[],x=[],k=[],b=0;b<w;){for(var I=C[b].x,N=[];b<w;){var F=C[b];if(F.x!==I)break;b+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(N.push(new T(F.segment[0][1],F.index,!0,!0)),N.push(new T(F.segment[1][1],F.index,!1,!1))):(N.push(new T(F.segment[1][1],F.index,!0,!1)),N.push(new T(F.segment[0][1],F.index,!1,!0)))):F.create?a=a.insert(F.segment,F.index):a=a.remove(F.segment)}E.push(a.root),x.push(I),k.push(N)}return new u(E,x,k)}},4670:function(v,p,r){var t=r(9130),i=r(9662);v.exports=u,v.exports.positive=l,v.exports.negative=g;function n(f,T){var h=i(t(f,T),[T[T.length-1]]);return h[h.length-1]}function c(f,T,h,s){var d=s-T,A=-T/d;A<0?A=0:A>1&&(A=1);for(var w=1-A,C=f.length,b=new Array(C),S=0;S<C;++S)b[S]=A*f[S]+w*h[S];return b}function u(f,T){for(var h=[],s=[],d=n(f[f.length-1],T),A=f[f.length-1],w=f[0],C=0;C<f.length;++C,A=w){w=f[C];var b=n(w,T);if(d<0&&b>0||d>0&&b<0){var S=c(A,b,w,d);h.push(S),s.push(S.slice())}b<0?s.push(w.slice()):b>0?h.push(w.slice()):(h.push(w.slice()),s.push(w.slice())),d=b}return{positive:h,negative:s}}function l(f,T){for(var h=[],s=n(f[f.length-1],T),d=f[f.length-1],A=f[0],w=0;w<f.length;++w,d=A){A=f[w];var C=n(A,T);(s<0&&C>0||s>0&&C<0)&&h.push(c(d,C,A,s)),C>=0&&h.push(A.slice()),s=C}return h}function g(f,T){for(var h=[],s=n(f[f.length-1],T),d=f[f.length-1],A=f[0],w=0;w<f.length;++w,d=A){A=f[w];var C=n(A,T);(s<0&&C>0||s>0&&C<0)&&h.push(c(d,C,A,s)),C<=0&&h.push(A.slice()),s=C}return h}},8974:function(v,p,r){var t;(function(){var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(f){return u(g(f),arguments)}function c(f,T){return n.apply(null,[f].concat(T||[]))}function u(f,T){var h=1,s=f.length,d,A="",w,C,b,S,m,a,E,x;for(w=0;w<s;w++)if(typeof f[w]=="string")A+=f[w];else if(typeof f[w]=="object"){if(b=f[w],b.keys)for(d=T[h],C=0;C<b.keys.length;C++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',b.keys[C],b.keys[C-1]));d=d[b.keys[C]]}else b.param_no?d=T[b.param_no]:d=T[h++];if(i.not_type.test(b.type)&&i.not_primitive.test(b.type)&&d instanceof Function&&(d=d()),i.numeric_arg.test(b.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(i.number.test(b.type)&&(E=d>=0),b.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,b.width?parseInt(b.width):0);break;case"e":d=b.precision?parseFloat(d).toExponential(b.precision):parseFloat(d).toExponential();break;case"f":d=b.precision?parseFloat(d).toFixed(b.precision):parseFloat(d);break;case"g":d=b.precision?String(Number(d.toPrecision(b.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=b.precision?d.substring(0,b.precision):d;break;case"t":d=String(!!d),d=b.precision?d.substring(0,b.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=b.precision?d.substring(0,b.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=b.precision?d.substring(0,b.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}i.json.test(b.type)?A+=d:(i.number.test(b.type)&&(!E||b.sign)?(x=E?"+":"-",d=d.toString().replace(i.sign,"")):x="",m=b.pad_char?b.pad_char==="0"?"0":b.pad_char.charAt(1):" ",a=b.width-(x+d).length,S=b.width&&a>0?m.repeat(a):"",A+=b.align?x+d+S:m==="0"?x+S+d:S+x+d)}return A}var l=Object.create(null);function g(f){if(l[f])return l[f];for(var T=f,h,s=[],d=0;T;){if((h=i.text.exec(T))!==null)s.push(h[0]);else if((h=i.modulo.exec(T))!==null)s.push("%");else if((h=i.placeholder.exec(T))!==null){if(h[2]){d|=1;var A=[],w=h[2],C=[];if((C=i.key.exec(w))!==null)for(A.push(C[1]);(w=w.substring(C[0].length))!=="";)if((C=i.key_access.exec(w))!==null)A.push(C[1]);else if((C=i.index_access.exec(w))!==null)A.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=A}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(h[0].length)}return l[f]=s}p.sprintf=n,p.vsprintf=c,typeof window<"u"&&(window.sprintf=n,window.vsprintf=c,t=(function(){return{sprintf:n,vsprintf:c}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},4162:function(v,p,r){v.exports=g;var t=r(9284),i=r(9584),n={"2d":function(f,T,h){var s=f({order:T,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(A,w,C,b){return A>b|0},vertex:function(A,w,C,b,S,m,a,E,x,k,I,N,F){var z=(a<<0)+(E<<1)+(x<<2)+(k<<3)|0;if(!(z===0||z===15))switch(z){case 0:I.push([A-.5,w-.5]);break;case 1:I.push([A-.25-.25*(b+C-2*F)/(C-b),w-.25-.25*(S+C-2*F)/(C-S)]);break;case 2:I.push([A-.75-.25*(-b-C+2*F)/(b-C),w-.25-.25*(m+b-2*F)/(b-m)]);break;case 3:I.push([A-.5,w-.5-.5*(S+C+m+b-4*F)/(C-S+b-m)]);break;case 4:I.push([A-.25-.25*(m+S-2*F)/(S-m),w-.75-.25*(-S-C+2*F)/(S-C)]);break;case 5:I.push([A-.5-.5*(b+C+m+S-4*F)/(C-b+S-m),w-.5]);break;case 6:I.push([A-.5-.25*(-b-C+m+S)/(b-C+S-m),w-.5-.25*(-S-C+m+b)/(S-C+b-m)]);break;case 7:I.push([A-.75-.25*(m+S-2*F)/(S-m),w-.75-.25*(m+b-2*F)/(b-m)]);break;case 8:I.push([A-.75-.25*(-m-S+2*F)/(m-S),w-.75-.25*(-m-b+2*F)/(m-b)]);break;case 9:I.push([A-.5-.25*(b+C+-m-S)/(C-b+m-S),w-.5-.25*(S+C+-m-b)/(C-S+m-b)]);break;case 10:I.push([A-.5-.5*(-b-C+-m-S+4*F)/(b-C+m-S),w-.5]);break;case 11:I.push([A-.25-.25*(-m-S+2*F)/(m-S),w-.75-.25*(S+C-2*F)/(C-S)]);break;case 12:I.push([A-.5,w-.5-.5*(-S-C+-m-b+4*F)/(S-C+m-b)]);break;case 13:I.push([A-.75-.25*(b+C-2*F)/(C-b),w-.25-.25*(-m-b+2*F)/(m-b)]);break;case 14:I.push([A-.25-.25*(-b-C+2*F)/(b-C),w-.25-.25*(-S-C+2*F)/(S-C)]);break;case 15:I.push([A-.5,w-.5]);break}},cell:function(A,w,C,b,S,m,a,E,x){S?E.push([A,w]):E.push([w,A])}});return function(d,A){var w=[],C=[];return s(d,w,C,A),{positions:w,cells:C}}}};function c(f,T){var h=f.length+"d",s=n[h];if(s)return s(t,f,T)}function u(f,T){for(var h=i(f,T),s=h.length,d=new Array(s),A=new Array(s),w=0;w<s;++w)d[w]=[h[w]],A[w]=[w];return{positions:d,cells:A}}var l={};function g(f,d){if(f.dimension<=0)return{positions:[],cells:[]};if(f.dimension===1)return u(f,d);var h=f.order.join()+"-"+f.dtype,s=l[h],d=+d||0;return s||(s=l[h]=c(f.order,f.dtype)),s(f,d)}},6946:function(v,p,r){v.exports=u;var t=r(875),i=window||y.global||{},n=i.__TEXT_CACHE||{};i.__TEXT_CACHE={};function c(l){for(var g=l.cells,f=l.positions,T=new Float32Array(g.length*6),h=0,s=0,d=0;d<g.length;++d)for(var A=g[d],w=0;w<3;++w){var C=f[A[w]];T[h++]=C[0],T[h++]=C[1]+1.4,s=Math.max(C[0],s)}return{data:T,shape:s}}function u(l,g,T){var T=T||{},h=n[l];h||(h=n[l]={" ":{data:new Float32Array(0),shape:.2}});var s=h[g];if(!s)if(g.length<=1||!/\d/.test(g))s=h[g]=c(t(g,{triangles:!0,font:l,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=g.split(/(\d|\s)/),A=new Array(d.length),w=0,C=0,b=0;b<d.length;++b)A[b]=u(l,d[b]),w+=A[b].data.length,C+=A[b].shape,b>0&&(C+=.02);for(var S=new Float32Array(w),m=0,a=-.5*C,b=0;b<A.length;++b){for(var E=A[b].data,x=0;x<E.length;x+=2)S[m++]=E[x]+a,S[m++]=E[x+1];a+=A[b].shape+.02}s=h[g]={data:S,shape:C}}return s}},14:function(v,p,r){var t=r(4405);v.exports=u;var i=96;function n(l,g){var f=t(getComputedStyle(l).getPropertyValue(g));return f[0]*u(f[1],l)}function c(l,g){var f=document.createElement("div");f.style["font-size"]="128"+l,g.appendChild(f);var T=n(f,"font-size")/128;return g.removeChild(f),T}function u(l,g){switch(g=g||document.body,l=(l||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),l){case"%":return g.clientHeight/100;case"ch":case"ex":return c(l,g);case"em":return n(g,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},3440:function(v,p,r){v.exports=A;var t=r(8444),i=r(7437),n=r(4422),c=r(903),u=r(899),l=r(9305);function g(w,C,b){return Math.sqrt(Math.pow(w,2)+Math.pow(C,2)+Math.pow(b,2))}function f(w){return Math.min(1,Math.max(-1,w))}function T(w){var C=Math.abs(w[0]),b=Math.abs(w[1]),S=Math.abs(w[2]),m=[0,0,0];C>Math.max(b,S)?m[2]=1:b>Math.max(C,S)?m[0]=1:m[1]=1;for(var a=0,E=0,x=0;x<3;++x)a+=w[x]*w[x],E+=m[x]*w[x];for(var x=0;x<3;++x)m[x]-=E/a*w[x];return u(m,m),m}function h(w,C,b,S,m,a,E,x){this.center=t(b),this.up=t(S),this.right=t(m),this.radius=t([a]),this.angle=t([E,x]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(w,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var k=0;k<16;++k)this.computedMatrix[k]=.5;this.recalcMatrix(0)}var s=h.prototype;s.setDistanceLimits=function(w,C){w>0?w=Math.log(w):w=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,w),this.radius.bounds[0][0]=w,this.radius.bounds[1][0]=C},s.getDistanceLimits=function(w){var C=this.radius.bounds[0];return w?(w[0]=Math.exp(C[0][0]),w[1]=Math.exp(C[1][0]),w):[Math.exp(C[0][0]),Math.exp(C[1][0])]},s.recalcMatrix=function(w){this.center.curve(w),this.up.curve(w),this.right.curve(w),this.radius.curve(w),this.angle.curve(w);for(var C=this.computedUp,b=this.computedRight,S=0,m=0,a=0;a<3;++a)m+=C[a]*b[a],S+=C[a]*C[a];for(var E=Math.sqrt(S),x=0,a=0;a<3;++a)b[a]-=C[a]*m/S,x+=b[a]*b[a],C[a]/=E;for(var k=Math.sqrt(x),a=0;a<3;++a)b[a]/=k;var I=this.computedToward;c(I,C,b),u(I,I);for(var N=Math.exp(this.computedRadius[0]),F=this.computedAngle[0],z=this.computedAngle[1],O=Math.cos(F),_=Math.sin(F),B=Math.cos(z),W=Math.sin(z),$=this.computedCenter,te=O*B,ie=_*B,ue=W,J=-O*W,Y=-_*W,ae=B,j=this.computedEye,q=this.computedMatrix,a=0;a<3;++a){var oe=te*b[a]+ie*I[a]+ue*C[a];q[4*a+1]=J*b[a]+Y*I[a]+ae*C[a],q[4*a+2]=oe,q[4*a+3]=0}var Q=q[1],X=q[5],se=q[9],ne=q[2],fe=q[6],ye=q[10],Se=X*ye-se*fe,we=se*ne-Q*ye,_e=Q*fe-X*ne,ke=g(Se,we,_e);Se/=ke,we/=ke,_e/=ke,q[0]=Se,q[4]=we,q[8]=_e;for(var a=0;a<3;++a)j[a]=$[a]+q[2+4*a]*N;for(var a=0;a<3;++a){for(var x=0,Me=0;Me<3;++Me)x+=q[a+4*Me]*j[Me];q[12+a]=-x}q[15]=1},s.getMatrix=function(w,C){this.recalcMatrix(w);var b=this.computedMatrix;if(C){for(var S=0;S<16;++S)C[S]=b[S];return C}return b};var d=[0,0,0];s.rotate=function(w,C,b,S){if(this.angle.move(w,C,b),S){this.recalcMatrix(w);var m=this.computedMatrix;d[0]=m[2],d[1]=m[6],d[2]=m[10];for(var a=this.computedUp,E=this.computedRight,x=this.computedToward,k=0;k<3;++k)m[4*k]=a[k],m[4*k+1]=E[k],m[4*k+2]=x[k];n(m,m,S,d);for(var k=0;k<3;++k)a[k]=m[4*k],E[k]=m[4*k+1];this.up.set(w,a[0],a[1],a[2]),this.right.set(w,E[0],E[1],E[2])}},s.pan=function(w,C,b,S){C=C||0,b=b||0,S=S||0,this.recalcMatrix(w);var m=this.computedMatrix;Math.exp(this.computedRadius[0]);var a=m[1],E=m[5],x=m[9],k=g(a,E,x);a/=k,E/=k,x/=k;var I=m[0],N=m[4],F=m[8],z=I*a+N*E+F*x;I-=a*z,N-=E*z,F-=x*z;var O=g(I,N,F);I/=O,N/=O,F/=O;var _=I*C+a*b,B=N*C+E*b,W=F*C+x*b;this.center.move(w,_,B,W);var $=Math.exp(this.computedRadius[0]);$=Math.max(1e-4,$+S),this.radius.set(w,Math.log($))},s.translate=function(w,C,b,S){this.center.move(w,C||0,b||0,S||0)},s.setMatrix=function(w,C,b,S){var m=1;typeof b=="number"&&(m=b|0),(m<0||m>3)&&(m=1);var a=(m+2)%3;C||(this.recalcMatrix(w),C=this.computedMatrix);var E=C[m],x=C[m+4],k=C[m+8];if(S){var N=Math.abs(E),F=Math.abs(x),z=Math.abs(k),O=Math.max(N,F,z);N===O?(E=E<0?-1:1,x=k=0):z===O?(k=k<0?-1:1,E=x=0):(x=x<0?-1:1,E=k=0)}else{var I=g(E,x,k);E/=I,x/=I,k/=I}var _=C[a],B=C[a+4],W=C[a+8],$=_*E+B*x+W*k;_-=E*$,B-=x*$,W-=k*$;var te=g(_,B,W);_/=te,B/=te,W/=te;var ie=x*W-k*B,ue=k*_-E*W,J=E*B-x*_,Y=g(ie,ue,J);ie/=Y,ue/=Y,J/=Y,this.center.jump(w,Ue,De,He),this.radius.idle(w),this.up.jump(w,E,x,k),this.right.jump(w,_,B,W);var ae,j;if(m===2){var q=C[1],oe=C[5],Q=C[9],X=q*_+oe*B+Q*W,se=q*ie+oe*ue+Q*J;Se<0?ae=-Math.PI/2:ae=Math.PI/2,j=Math.atan2(se,X)}else{var ne=C[2],fe=C[6],ye=C[10],Se=ne*E+fe*x+ye*k,we=ne*_+fe*B+ye*W,_e=ne*ie+fe*ue+ye*J;ae=Math.asin(f(Se)),j=Math.atan2(_e,we)}this.angle.jump(w,j,ae),this.recalcMatrix(w);var ke=C[2],Me=C[6],me=C[10],Ee=this.computedMatrix;i(Ee,C);var Be=Ee[15],Ue=Ee[12]/Be,De=Ee[13]/Be,He=Ee[14]/Be,nt=Math.exp(this.computedRadius[0]);this.center.jump(w,Ue-ke*nt,De-Me*nt,He-me*nt)},s.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},s.idle=function(w){this.center.idle(w),this.up.idle(w),this.right.idle(w),this.radius.idle(w),this.angle.idle(w)},s.flush=function(w){this.center.flush(w),this.up.flush(w),this.right.flush(w),this.radius.flush(w),this.angle.flush(w)},s.setDistance=function(w,C){C>0&&this.radius.set(w,Math.log(C))},s.lookAt=function(w,C,b,S){this.recalcMatrix(w),C=C||this.computedEye,b=b||this.computedCenter,S=S||this.computedUp;var m=S[0],a=S[1],E=S[2],x=g(m,a,E);if(!(x<1e-6)){m/=x,a/=x,E/=x;var k=C[0]-b[0],I=C[1]-b[1],N=C[2]-b[2],F=g(k,I,N);if(!(F<1e-6)){k/=F,I/=F,N/=F;var z=this.computedRight,O=z[0],_=z[1],B=z[2],W=m*O+a*_+E*B;O-=W*m,_-=W*a,B-=W*E;var $=g(O,_,B);if(!($<.01&&(O=a*N-E*I,_=E*k-m*N,B=m*I-a*k,$=g(O,_,B),$<1e-6))){O/=$,_/=$,B/=$,this.up.set(w,m,a,E),this.right.set(w,O,_,B),this.center.set(w,b[0],b[1],b[2]),this.radius.set(w,Math.log(F));var te=a*B-E*_,ie=E*O-m*B,ue=m*_-a*O,J=g(te,ie,ue);te/=J,ie/=J,ue/=J;var Y=m*k+a*I+E*N,ae=O*k+_*I+B*N,j=te*k+ie*I+ue*N,q=Math.asin(f(Y)),oe=Math.atan2(j,ae),Q=this.angle._state,X=Q[Q.length-1],se=Q[Q.length-2];X=X%(2*Math.PI);var ne=Math.abs(X+2*Math.PI-oe),fe=Math.abs(X-oe),ye=Math.abs(X-2*Math.PI-oe);ne<fe&&(X+=2*Math.PI),ye<fe&&(X-=2*Math.PI),this.angle.jump(this.angle.lastT(),X,se),this.angle.set(w,oe,q)}}}};function A(w){w=w||{};var C=w.center||[0,0,0],b=w.up||[0,1,0],S=w.right||T(b),m=w.radius||1,a=w.theta||0,E=w.phi||0;if(C=[].slice.call(C,0,3),b=[].slice.call(b,0,3),u(b,b),S=[].slice.call(S,0,3),u(S,S),"eye"in w){var x=w.eye,k=[x[0]-C[0],x[1]-C[1],x[2]-C[2]];c(S,k,b),g(S[0],S[1],S[2])<1e-6?S=T(b):u(S,S),m=g(k[0],k[1],k[2]);var I=l(b,k)/m,N=l(S,k)/m;E=Math.acos(I),a=Math.acos(N)}return m=Math.log(m),new h(w.zoomMin,w.zoomMax,C,b,S,m,a,E)}},9660:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,i,n){var c=t*i,u=p*t,l=u-t,g=u-l,f=t-g,T=p*i,h=T-i,s=T-h,d=i-s,A=c-g*s,w=A-f*s,C=w-g*d,b=f*d-C;return n?(n[0]=b,n[1]=c,n):[b,c]}},87:function(v){v.exports=p;function p(r,t,i){var n=r+t,c=n-r,u=n-c,l=t-c,g=r-u;return i?(i[0]=g+l,i[1]=n,i):[g+l,n]}},5306:function(v,p,r){var t=r(2288),i=r(3094),n=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var c=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",g=r.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=i([32,0])),g.BIGUINT64||(g.BIGUINT64=i([32,0])),g.BIGINT64||(g.BIGINT64=i([32,0])),g.BUFFER||(g.BUFFER=i([32,0]));var f=g.DATA,T=g.BUFFER;p.free=function(O){if(n.isBuffer(O))T[t.log2(O.length)].push(O);else{if(Object.prototype.toString.call(O)!=="[object ArrayBuffer]"&&(O=O.buffer),!O)return;var _=O.length||O.byteLength,B=t.log2(_)|0;f[B].push(O)}};function h(z){if(z){var O=z.length||z.byteLength,_=t.log2(O);f[_].push(z)}}function s(z){h(z.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=s,p.freeArrayBuffer=h,p.freeBuffer=function(O){T[t.log2(O.length)].push(O)},p.malloc=function(O,_){if(_===void 0||_==="arraybuffer")return d(O);switch(_){case"uint8":return A(O);case"uint16":return w(O);case"uint32":return C(O);case"int8":return b(O);case"int16":return S(O);case"int32":return m(O);case"float":case"float32":return a(O);case"double":case"float64":return E(O);case"uint8_clamped":return x(O);case"bigint64":return I(O);case"biguint64":return k(O);case"buffer":return F(O);case"data":case"dataview":return N(O);default:return null}return null};function d(O){var O=t.nextPow2(O),_=t.log2(O),B=f[_];return B.length>0?B.pop():new ArrayBuffer(O)}p.mallocArrayBuffer=d;function A(z){return new Uint8Array(d(z),0,z)}p.mallocUint8=A;function w(z){return new Uint16Array(d(2*z),0,z)}p.mallocUint16=w;function C(z){return new Uint32Array(d(4*z),0,z)}p.mallocUint32=C;function b(z){return new Int8Array(d(z),0,z)}p.mallocInt8=b;function S(z){return new Int16Array(d(2*z),0,z)}p.mallocInt16=S;function m(z){return new Int32Array(d(4*z),0,z)}p.mallocInt32=m;function a(z){return new Float32Array(d(4*z),0,z)}p.mallocFloat32=p.mallocFloat=a;function E(z){return new Float64Array(d(8*z),0,z)}p.mallocFloat64=p.mallocDouble=E;function x(z){return c?new Uint8ClampedArray(d(z),0,z):A(z)}p.mallocUint8Clamped=x;function k(z){return u?new BigUint64Array(d(8*z),0,z):null}p.mallocBigUint64=k;function I(z){return l?new BigInt64Array(d(8*z),0,z):null}p.mallocBigInt64=I;function N(z){return new DataView(d(z),0,z)}p.mallocDataView=N;function F(z){z=t.nextPow2(z);var O=t.log2(z),_=T[O];return _.length>0?_.pop():new n(z)}p.mallocBuffer=F,p.clearCache=function(){for(var O=0;O<32;++O)g.UINT8[O].length=0,g.UINT16[O].length=0,g.UINT32[O].length=0,g.INT8[O].length=0,g.INT16[O].length=0,g.INT32[O].length=0,g.FLOAT[O].length=0,g.DOUBLE[O].length=0,g.BIGUINT64[O].length=0,g.BIGINT64[O].length=0,g.UINT8C[O].length=0,f[O].length=0,T[O].length=0}},1731:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var i=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[i]!==t;){var c=n[i];n[i]=t,i=c}return t},r.link=function(t,i){var n=this.find(t),c=this.find(i);if(n!==c){var u=this.ranks,l=this.roots,g=u[n],f=u[c];g<f?l[n]=c:f<g?l[c]=n:(l[c]=n,++u[n])}}},1215:function(v){function p(i,n){for(var c=1,u=i.length,l=i[0],g=i[0],f=1;f<u;++f)if(g=l,l=i[f],n(l,g)){if(f===c){c++;continue}i[c++]=l}return i.length=c,i}function r(i){for(var n=1,c=i.length,u=i[0],l=i[0],g=1;g<c;++g,l=u)if(l=u,u=i[g],u!==l){if(g===n){n++;continue}i[n++]=u}return i.length=n,i}function t(i,n,c){return i.length===0?i:n?(c||i.sort(n),p(i,n)):(c||i.sort(),r(i))}v.exports=t},875:function(v,p,r){v.exports=c;var t=r(712),i=null,n=null;typeof document<"u"&&(i=document.createElement("canvas"),i.width=8192,i.height=1024,n=i.getContext("2d"));function c(u,l){return(typeof l!="object"||l===null)&&(l={}),t(u,l.canvas||i,l.context||n,l)}},712:function(v,p,r){v.exports=I,v.exports.processPixels=k;var t=r(4162),i=r(5050),n=r(8243),c=r(197),u=r(7761),l=r(8040),g="b",f="b|",T="i",h="i|",s="sup",d="+",A="+1",w="sub",C="-",b="-1";function S(N,F,z,O){for(var _="<"+N+">",B="</"+N+">",W=_.length,$=B.length,te=F[0]===d||F[0]===C,ie=0,ue=-$;ie>-1&&(ie=z.indexOf(_,ie),!(ie===-1||(ue=z.indexOf(B,ie+W),ue===-1)||ue<=ie));){for(var J=ie;J<ue+$;++J)if(J<ie+W||J>=ue)O[J]=null,z=z.substr(0,J)+" "+z.substr(J+1);else if(O[J]!==null){var Y=O[J].indexOf(F[0]);Y===-1?O[J]+=F:te&&(O[J]=O[J].substr(0,Y+1)+(1+parseInt(O[J][Y+1]))+O[J].substr(Y+2))}var ae=ie+W,j=z.substr(ae,ue-ae),q=j.indexOf(_);q!==-1?ie=q:ie=ue+$}return O}function m(N,F,z){for(var O=F.textAlign||"start",_=F.textBaseline||"alphabetic",B=[1<<30,1<<30],W=[0,0],$=N.length,te=0;te<$;++te)for(var ie=N[te],ue=0;ue<2;++ue)B[ue]=Math.min(B[ue],ie[ue])|0,W[ue]=Math.max(W[ue],ie[ue])|0;var J=0;switch(O){case"center":J=-.5*(B[0]+W[0]);break;case"right":case"end":J=-W[0];break;case"left":case"start":J=-B[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+O+"'")}var Y=0;switch(_){case"hanging":case"top":Y=-B[1];break;case"middle":Y=-.5*(B[1]+W[1]);break;case"alphabetic":case"ideographic":Y=-3*z;break;case"bottom":Y=-W[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+_+"'")}var ae=1/z;return"lineHeight"in F?ae*=+F.lineHeight:"width"in F?ae=F.width/(W[0]-B[0]):"height"in F&&(ae=F.height/(W[1]-B[1])),N.map(function(j){return[ae*(j[0]+J),ae*(j[1]+Y)]})}function a(N,F,z,O,_,B){z=z.replace(/\n/g,""),B.breaklines===!0?z=z.replace(/\<br\>/g,`
`):z=z.replace(/\<br\>/g," ");var W="",$=[];for(X=0;X<z.length;++X)$[X]=W;B.bolds===!0&&($=S(g,f,z,$)),B.italics===!0&&($=S(T,h,z,$)),B.superscripts===!0&&($=S(s,A,z,$)),B.subscripts===!0&&($=S(w,b,z,$));var te=[],ie="";for(X=0;X<z.length;++X)$[X]!==null&&(ie+=z[X],te.push($[X]));var ue=ie.split(`
`),J=ue.length,Y=Math.round(_*O),ae=O,j=O*2,q=0,oe=J*Y+j;N.height<oe&&(N.height=oe),F.fillStyle="#000",F.fillRect(0,0,N.width,N.height),F.fillStyle="#fff";var Q,X,se,ne,fe,ye=0,Se="";function we(){if(Se!==""){var He=F.measureText(Se).width;F.fillText(Se,ae+se,j+ne),se+=He}}function _e(){return""+Math.round(fe)+"px "}function ke(He,nt){var lt=""+F.font;if(B.subscripts===!0){var $e=He.indexOf(C),qe=nt.indexOf(C),ct=$e>-1?parseInt(He[1+$e]):0,dt=qe>-1?parseInt(nt[1+qe]):0;ct!==dt&&(lt=lt.replace(_e(),"?px "),fe*=Math.pow(.75,dt-ct),lt=lt.replace("?px ",_e())),ne+=.25*Y*(dt-ct)}if(B.superscripts===!0){var gt=He.indexOf(d),At=nt.indexOf(d),Rt=gt>-1?parseInt(He[1+gt]):0,Vt=At>-1?parseInt(nt[1+At]):0;Rt!==Vt&&(lt=lt.replace(_e(),"?px "),fe*=Math.pow(.75,Vt-Rt),lt=lt.replace("?px ",_e())),ne-=.25*Y*(Vt-Rt)}if(B.bolds===!0){var Je=He.indexOf(f)>-1,Ve=nt.indexOf(f)>-1;!Je&&Ve&&(Ie?lt=lt.replace("italic ","italic bold "):lt="bold "+lt),Je&&!Ve&&(lt=lt.replace("bold ",""))}if(B.italics===!0){var Ie=He.indexOf(h)>-1,Oe=nt.indexOf(h)>-1;!Ie&&Oe&&(lt="italic "+lt),Ie&&!Oe&&(lt=lt.replace("italic ",""))}F.font=lt}for(Q=0;Q<J;++Q){var Me=ue[Q]+`
`;for(se=0,ne=Q*Y,fe=O,Se="",X=0;X<Me.length;++X){var me=X+ye<te.length?te[X+ye]:te[te.length-1];W===me?Se+=Me[X]:(we(),Se=Me[X],me!==void 0&&(ke(W,me),W=me))}we(),ye+=Me.length;var Ee=Math.round(se+2*ae)|0;q<Ee&&(q=Ee)}var Be=q,Ue=j+Y*J,De=i(F.getImageData(0,0,Be,Ue).data,[Ue,Be,4]);return De.pick(-1,-1,0).transpose(1,0)}function E(N,F){var z=t(N,128);return F?n(z.cells,z.positions,.25):{edges:z.cells,positions:z.positions}}function x(N,F,z,O){var _=E(N,O),B=m(_.positions,F,z),W=_.edges,$=F.orientation==="ccw";if(c(B,W),F.polygons||F.polygon||F.polyline){for(var te=l(W,B),ie=new Array(te.length),ue=0;ue<te.length;++ue){for(var J=te[ue],Y=new Array(J.length),ae=0;ae<J.length;++ae){for(var j=J[ae],q=new Array(j.length),oe=0;oe<j.length;++oe)q[oe]=B[j[oe]].slice();$&&q.reverse(),Y[ae]=q}ie[ue]=Y}return ie}else return F.triangles||F.triangulate||F.triangle?{cells:u(B,W,{delaunay:!1,exterior:!1,interior:!0}),positions:B}:{edges:W,positions:B}}function k(N,F,z){try{return x(N,F,z,!0)}catch{}try{return x(N,F,z,!1)}catch{}return F.polygons||F.polyline||F.polygon?[]:F.triangles||F.triangulate||F.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function I(N,F,z,O){var _=64,B=1.25,W={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};O&&(O.size&&O.size>0&&(_=O.size),O.lineSpacing&&O.lineSpacing>0&&(B=O.lineSpacing),O.styletags&&O.styletags.breaklines&&(W.breaklines=!!O.styletags.breaklines),O.styletags&&O.styletags.bolds&&(W.bolds=!!O.styletags.bolds),O.styletags&&O.styletags.italics&&(W.italics=!!O.styletags.italics),O.styletags&&O.styletags.subscripts&&(W.subscripts=!!O.styletags.subscripts),O.styletags&&O.styletags.superscripts&&(W.superscripts=!!O.styletags.superscripts)),z.font=[O.fontStyle,O.fontVariant,O.fontWeight,_+"px",O.font].filter(function(te){return te}).join(" "),z.textAlign="start",z.textBaseline="alphabetic",z.direction="ltr";var $=a(F,z,N,_,B,W);return k($,O,_)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(E){E.permitHostObjects___&&E.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new i,c=Object.freeze({});if(n.set(c,1),n.get(c)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,l=Object.defineProperty,g=Object.isExtensible,f="weakmap:",T=f+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),s=new Uint8Array(h);crypto.getRandomValues(s),T=f+"rand:"+Array.prototype.map.call(s,function(E){return(E%36).toString(36)}).join("")+"___"}function d(E){return!(E.substr(0,f.length)==f&&E.substr(E.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(x){return u(x).filter(d)}}),"getPropertyNames"in Object){var A=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(x){return A(x).filter(d)}})}function w(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var x=E[T];if(x&&x.key===E)return x;if(g(E)){x={key:E};try{return l(E,T,{value:x,writable:!1,enumerable:!1,configurable:!1}),x}catch{return}}}(function(){var E=Object.freeze;l(Object,"freeze",{value:function(N){return w(N),E(N)}});var x=Object.seal;l(Object,"seal",{value:function(N){return w(N),x(N)}});var k=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return w(N),k(N)}})})();function C(E){return E.prototype=null,Object.freeze(E)}var b=!1;function S(){!b&&typeof console<"u"&&(b=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var m=0,a=function(){this instanceof a||S();var E=[],x=[],k=m++;function I(O,_){var B,W=w(O);return W?k in W?W[k]:_:(B=E.indexOf(O),B>=0?x[B]:_)}function N(O){var _=w(O);return _?k in _:E.indexOf(O)>=0}function F(O,_){var B,W=w(O);return W?W[k]=_:(B=E.indexOf(O),B>=0?x[B]=_:(B=E.length,x[B]=_,E[B]=O)),this}function z(O){var _=w(O),B,W;return _?k in _&&delete _[k]:(B=E.indexOf(O),B<0?!1:(W=E.length-1,E[B]=void 0,x[B]=x[W],E[B]=E[W],E.length=W,x.length=W,!0))}return Object.create(a.prototype,{get___:{value:C(I)},has___:{value:C(N)},set___:{value:C(F)},delete___:{value:C(z)}})};a.prototype=Object.create(Object.prototype,{get:{value:function(x,k){return this.get___(x,k)},writable:!0,configurable:!0},has:{value:function(x){return this.has___(x)},writable:!0,configurable:!0},set:{value:function(x,k){return this.set___(x,k)},writable:!0,configurable:!0},delete:{value:function(x){return this.delete___(x)},writable:!0,configurable:!0}}),typeof i=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function E(){this instanceof a||S();var x=new i,k=void 0,I=!1;function N(_,B){return k?x.has(_)?x.get(_):k.get___(_,B):x.get(_,B)}function F(_){return x.has(_)||(k?k.has___(_):!1)}var z;t?z=function(_,B){return x.set(_,B),x.has(_)||(k||(k=new a),k.set(_,B)),this}:z=function(_,B){if(I)try{x.set(_,B)}catch{k||(k=new a),k.set___(_,B)}else x.set(_,B);return this};function O(_){var B=!!x.delete(_);return k&&k.delete___(_)||B}return Object.create(a.prototype,{get___:{value:C(N)},has___:{value:C(F)},set___:{value:C(z)},delete___:{value:C(O)},permitHostObjects___:{value:C(function(_){if(_===r)I=!0;else throw new Error("bogus call to permitHostObjects___")})}})}E.prototype=a.prototype,v.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=a)})()},9222:function(v,p,r){var t=r(7178);v.exports=i;function i(){var n={};return function(c){if((typeof c!="object"||c===null)&&typeof c!="function")throw new Error("Weakmap-shim: Key must be object");var u=c.valueOf(n);return u&&u.identity===n?u:t(c,n)}}},7178:function(v){v.exports=p;function p(r,t){var i={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(c){return c!==t?n.apply(this,arguments):i},writable:!0}),i}},4037:function(v,p,r){var t=r(9222);v.exports=i;function i(){var n=t();return{get:function(c,u){var l=n(c);return l.hasOwnProperty("value")?l.value:u},set:function(c,u){return n(c).value=u,this},has:function(c){return"value"in n(c)},delete:function(c){return delete n(c).value}}}},6183:function(v){function p(){return function(u,l,g,f,T,h){var s=u[0],d=g[0],A=[0],w=d;f|=0;var C=0,b=d;for(C=0;C<s;++C){{var S=l[f]-h,m=l[f+w]-h;S>=0!=m>=0&&T.push(A[0]+.5+.5*(S+m)/(S-m))}f+=b,++A[0]}}}function r(){return p()}var t=r;function i(u){var l={};return function(f,T,h){var s=f.dtype,d=f.order,A=[s,d.join()].join(),w=l[A];return w||(l[A]=w=u([s,d])),w(f.shape.slice(0),f.data,f.stride,f.offset|0,T,h)}}function n(u){return i(t.bind(void 0,u))}function c(u){return n({funcName:u.funcName})}v.exports=c({funcName:"zeroCrossings"})},9584:function(v,p,r){v.exports=i;var t=r(6183);function i(n,c){var u=[];return c=+c||0,t(n.hi(n.shape[0]-1),u,c),u}},6601:function(){}},o={};function L(v){var p=o[v];if(p!==void 0)return p.exports;var r=o[v]={id:v,loaded:!1,exports:{}};return P[v].call(r.exports,r,r.exports,L),r.loaded=!0,r.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var M=L(7386);return M}()})},12856:function(G,V,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function y(Je,Ve){if(!(Je instanceof Ve))throw new TypeError("Cannot call a class as a function")}function P(Je,Ve){for(var Ie=0;Ie<Ve.length;Ie++){var Oe=Ve[Ie];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(Je,L(Oe.key),Oe)}}function o(Je,Ve,Ie){return Ve&&P(Je.prototype,Ve),Ie&&P(Je,Ie),Object.defineProperty(Je,"prototype",{writable:!1}),Je}function L(Je){var Ve=M(Je,"string");return u(Ve)==="symbol"?Ve:String(Ve)}function M(Je,Ve){if(u(Je)!=="object"||Je===null)return Je;var Ie=Je[Symbol.toPrimitive];if(Ie!==void 0){var Oe=Ie.call(Je,Ve||"default");if(u(Oe)!=="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ve==="string"?String:Number)(Je)}function v(Je,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),Object.defineProperty(Je,"prototype",{writable:!1}),Ve&&p(Je,Ve)}function p(Je,Ve){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Oe,Le){return Oe.__proto__=Le,Oe},p(Je,Ve)}function r(Je){var Ve=n();return function(){var Oe=c(Je),Le;if(Ve){var xe=c(this).constructor;Le=Reflect.construct(Oe,arguments,xe)}else Le=Oe.apply(this,arguments);return t(this,Le)}}function t(Je,Ve){if(Ve&&(u(Ve)==="object"||typeof Ve=="function"))return Ve;if(Ve!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(Je)}function i(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(Je){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ie){return Ie.__proto__||Object.getPrototypeOf(Ie)},c(Je)}function u(Je){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ve){return typeof Ve}:function(Ve){return Ve&&typeof Symbol=="function"&&Ve.constructor===Symbol&&Ve!==Symbol.prototype?"symbol":typeof Ve},u(Je)}var l=e(95341),g=e(95280),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=d,V.SlowBuffer=I,V.INSPECT_MAX_BYTES=50;var T=2147483647;V.kMaxLength=T,d.TYPED_ARRAY_SUPPORT=h(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var Je=new Uint8Array(1),Ve={foo:function(){return 42}};return Object.setPrototypeOf(Ve,Uint8Array.prototype),Object.setPrototypeOf(Je,Ve),Je.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function s(Je){if(Je>T)throw new RangeError('The value "'+Je+'" is invalid for option "size"');var Ve=new Uint8Array(Je);return Object.setPrototypeOf(Ve,d.prototype),Ve}function d(Je,Ve,Ie){if(typeof Je=="number"){if(typeof Ve=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(Je)}return A(Je,Ve,Ie)}d.poolSize=8192;function A(Je,Ve,Ie){if(typeof Je=="string")return S(Je,Ve);if(ArrayBuffer.isView(Je))return a(Je);if(Je==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(Je));if(dt(Je,ArrayBuffer)||Je&&dt(Je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dt(Je,SharedArrayBuffer)||Je&&dt(Je.buffer,SharedArrayBuffer)))return E(Je,Ve,Ie);if(typeof Je=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Oe=Je.valueOf&&Je.valueOf();if(Oe!=null&&Oe!==Je)return d.from(Oe,Ve,Ie);var Le=x(Je);if(Le)return Le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Je[Symbol.toPrimitive]=="function")return d.from(Je[Symbol.toPrimitive]("string"),Ve,Ie);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(Je))}d.from=function(Je,Ve,Ie){return A(Je,Ve,Ie)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function w(Je){if(typeof Je!="number")throw new TypeError('"size" argument must be of type number');if(Je<0)throw new RangeError('The value "'+Je+'" is invalid for option "size"')}function C(Je,Ve,Ie){return w(Je),Je<=0?s(Je):Ve!==void 0?typeof Ie=="string"?s(Je).fill(Ve,Ie):s(Je).fill(Ve):s(Je)}d.alloc=function(Je,Ve,Ie){return C(Je,Ve,Ie)};function b(Je){return w(Je),s(Je<0?0:k(Je)|0)}d.allocUnsafe=function(Je){return b(Je)},d.allocUnsafeSlow=function(Je){return b(Je)};function S(Je,Ve){if((typeof Ve!="string"||Ve==="")&&(Ve="utf8"),!d.isEncoding(Ve))throw new TypeError("Unknown encoding: "+Ve);var Ie=N(Je,Ve)|0,Oe=s(Ie),Le=Oe.write(Je,Ve);return Le!==Ie&&(Oe=Oe.slice(0,Le)),Oe}function m(Je){for(var Ve=Je.length<0?0:k(Je.length)|0,Ie=s(Ve),Oe=0;Oe<Ve;Oe+=1)Ie[Oe]=Je[Oe]&255;return Ie}function a(Je){if(dt(Je,Uint8Array)){var Ve=new Uint8Array(Je);return E(Ve.buffer,Ve.byteOffset,Ve.byteLength)}return m(Je)}function E(Je,Ve,Ie){if(Ve<0||Je.byteLength<Ve)throw new RangeError('"offset" is outside of buffer bounds');if(Je.byteLength<Ve+(Ie||0))throw new RangeError('"length" is outside of buffer bounds');var Oe;return Ve===void 0&&Ie===void 0?Oe=new Uint8Array(Je):Ie===void 0?Oe=new Uint8Array(Je,Ve):Oe=new Uint8Array(Je,Ve,Ie),Object.setPrototypeOf(Oe,d.prototype),Oe}function x(Je){if(d.isBuffer(Je)){var Ve=k(Je.length)|0,Ie=s(Ve);return Ie.length===0||Je.copy(Ie,0,0,Ve),Ie}if(Je.length!==void 0)return typeof Je.length!="number"||gt(Je.length)?s(0):m(Je);if(Je.type==="Buffer"&&Array.isArray(Je.data))return m(Je.data)}function k(Je){if(Je>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return Je|0}function I(Je){return+Je!=Je&&(Je=0),d.alloc(+Je)}d.isBuffer=function(Ve){return Ve!=null&&Ve._isBuffer===!0&&Ve!==d.prototype},d.compare=function(Ve,Ie){if(dt(Ve,Uint8Array)&&(Ve=d.from(Ve,Ve.offset,Ve.byteLength)),dt(Ie,Uint8Array)&&(Ie=d.from(Ie,Ie.offset,Ie.byteLength)),!d.isBuffer(Ve)||!d.isBuffer(Ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ve===Ie)return 0;for(var Oe=Ve.length,Le=Ie.length,xe=0,pe=Math.min(Oe,Le);xe<pe;++xe)if(Ve[xe]!==Ie[xe]){Oe=Ve[xe],Le=Ie[xe];break}return Oe<Le?-1:Le<Oe?1:0},d.isEncoding=function(Ve){switch(String(Ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(Ve,Ie){if(!Array.isArray(Ve))throw new TypeError('"list" argument must be an Array of Buffers');if(Ve.length===0)return d.alloc(0);var Oe;if(Ie===void 0)for(Ie=0,Oe=0;Oe<Ve.length;++Oe)Ie+=Ve[Oe].length;var Le=d.allocUnsafe(Ie),xe=0;for(Oe=0;Oe<Ve.length;++Oe){var pe=Ve[Oe];if(dt(pe,Uint8Array))xe+pe.length>Le.length?(d.isBuffer(pe)||(pe=d.from(pe)),pe.copy(Le,xe)):Uint8Array.prototype.set.call(Le,pe,xe);else if(d.isBuffer(pe))pe.copy(Le,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=pe.length}return Le};function N(Je,Ve){if(d.isBuffer(Je))return Je.length;if(ArrayBuffer.isView(Je)||dt(Je,ArrayBuffer))return Je.byteLength;if(typeof Je!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(Je));var Ie=Je.length,Oe=arguments.length>2&&arguments[2]===!0;if(!Oe&&Ie===0)return 0;for(var Le=!1;;)switch(Ve){case"ascii":case"latin1":case"binary":return Ie;case"utf8":case"utf-8":return nt(Je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie*2;case"hex":return Ie>>>1;case"base64":return qe(Je).length;default:if(Le)return Oe?-1:nt(Je).length;Ve=(""+Ve).toLowerCase(),Le=!0}}d.byteLength=N;function F(Je,Ve,Ie){var Oe=!1;if((Ve===void 0||Ve<0)&&(Ve=0),Ve>this.length||((Ie===void 0||Ie>this.length)&&(Ie=this.length),Ie<=0)||(Ie>>>=0,Ve>>>=0,Ie<=Ve))return"";for(Je||(Je="utf8");;)switch(Je){case"hex":return oe(this,Ve,Ie);case"utf8":case"utf-8":return J(this,Ve,Ie);case"ascii":return j(this,Ve,Ie);case"latin1":case"binary":return q(this,Ve,Ie);case"base64":return ue(this,Ve,Ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Ve,Ie);default:if(Oe)throw new TypeError("Unknown encoding: "+Je);Je=(Je+"").toLowerCase(),Oe=!0}}d.prototype._isBuffer=!0;function z(Je,Ve,Ie){var Oe=Je[Ve];Je[Ve]=Je[Ie],Je[Ie]=Oe}d.prototype.swap16=function(){var Ve=this.length;if(Ve%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ie=0;Ie<Ve;Ie+=2)z(this,Ie,Ie+1);return this},d.prototype.swap32=function(){var Ve=this.length;if(Ve%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ie=0;Ie<Ve;Ie+=4)z(this,Ie,Ie+3),z(this,Ie+1,Ie+2);return this},d.prototype.swap64=function(){var Ve=this.length;if(Ve%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ie=0;Ie<Ve;Ie+=8)z(this,Ie,Ie+7),z(this,Ie+1,Ie+6),z(this,Ie+2,Ie+5),z(this,Ie+3,Ie+4);return this},d.prototype.toString=function(){var Ve=this.length;return Ve===0?"":arguments.length===0?J(this,0,Ve):F.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(Ve){if(!d.isBuffer(Ve))throw new TypeError("Argument must be a Buffer");return this===Ve?!0:d.compare(this,Ve)===0},d.prototype.inspect=function(){var Ve="",Ie=V.INSPECT_MAX_BYTES;return Ve=this.toString("hex",0,Ie).replace(/(.{2})/g,"$1 ").trim(),this.length>Ie&&(Ve+=" ... "),"<Buffer "+Ve+">"},f&&(d.prototype[f]=d.prototype.inspect),d.prototype.compare=function(Ve,Ie,Oe,Le,xe){if(dt(Ve,Uint8Array)&&(Ve=d.from(Ve,Ve.offset,Ve.byteLength)),!d.isBuffer(Ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(Ve));if(Ie===void 0&&(Ie=0),Oe===void 0&&(Oe=Ve?Ve.length:0),Le===void 0&&(Le=0),xe===void 0&&(xe=this.length),Ie<0||Oe>Ve.length||Le<0||xe>this.length)throw new RangeError("out of range index");if(Le>=xe&&Ie>=Oe)return 0;if(Le>=xe)return-1;if(Ie>=Oe)return 1;if(Ie>>>=0,Oe>>>=0,Le>>>=0,xe>>>=0,this===Ve)return 0;for(var pe=xe-Le,Ae=Oe-Ie,Te=Math.min(pe,Ae),Ne=this.slice(Le,xe),Ye=Ve.slice(Ie,Oe),et=0;et<Te;++et)if(Ne[et]!==Ye[et]){pe=Ne[et],Ae=Ye[et];break}return pe<Ae?-1:Ae<pe?1:0};function O(Je,Ve,Ie,Oe,Le){if(Je.length===0)return-1;if(typeof Ie=="string"?(Oe=Ie,Ie=0):Ie>2147483647?Ie=2147483647:Ie<-2147483648&&(Ie=-2147483648),Ie=+Ie,gt(Ie)&&(Ie=Le?0:Je.length-1),Ie<0&&(Ie=Je.length+Ie),Ie>=Je.length){if(Le)return-1;Ie=Je.length-1}else if(Ie<0)if(Le)Ie=0;else return-1;if(typeof Ve=="string"&&(Ve=d.from(Ve,Oe)),d.isBuffer(Ve))return Ve.length===0?-1:_(Je,Ve,Ie,Oe,Le);if(typeof Ve=="number")return Ve=Ve&255,typeof Uint8Array.prototype.indexOf=="function"?Le?Uint8Array.prototype.indexOf.call(Je,Ve,Ie):Uint8Array.prototype.lastIndexOf.call(Je,Ve,Ie):_(Je,[Ve],Ie,Oe,Le);throw new TypeError("val must be string, number or Buffer")}function _(Je,Ve,Ie,Oe,Le){var xe=1,pe=Je.length,Ae=Ve.length;if(Oe!==void 0&&(Oe=String(Oe).toLowerCase(),Oe==="ucs2"||Oe==="ucs-2"||Oe==="utf16le"||Oe==="utf-16le")){if(Je.length<2||Ve.length<2)return-1;xe=2,pe/=2,Ae/=2,Ie/=2}function Te(pt,Yt){return xe===1?pt[Yt]:pt.readUInt16BE(Yt*xe)}var Ne;if(Le){var Ye=-1;for(Ne=Ie;Ne<pe;Ne++)if(Te(Je,Ne)===Te(Ve,Ye===-1?0:Ne-Ye)){if(Ye===-1&&(Ye=Ne),Ne-Ye+1===Ae)return Ye*xe}else Ye!==-1&&(Ne-=Ne-Ye),Ye=-1}else for(Ie+Ae>pe&&(Ie=pe-Ae),Ne=Ie;Ne>=0;Ne--){for(var et=!0,ft=0;ft<Ae;ft++)if(Te(Je,Ne+ft)!==Te(Ve,ft)){et=!1;break}if(et)return Ne}return-1}d.prototype.includes=function(Ve,Ie,Oe){return this.indexOf(Ve,Ie,Oe)!==-1},d.prototype.indexOf=function(Ve,Ie,Oe){return O(this,Ve,Ie,Oe,!0)},d.prototype.lastIndexOf=function(Ve,Ie,Oe){return O(this,Ve,Ie,Oe,!1)};function B(Je,Ve,Ie,Oe){Ie=Number(Ie)||0;var Le=Je.length-Ie;Oe?(Oe=Number(Oe),Oe>Le&&(Oe=Le)):Oe=Le;var xe=Ve.length;Oe>xe/2&&(Oe=xe/2);var pe;for(pe=0;pe<Oe;++pe){var Ae=parseInt(Ve.substr(pe*2,2),16);if(gt(Ae))return pe;Je[Ie+pe]=Ae}return pe}function W(Je,Ve,Ie,Oe){return ct(nt(Ve,Je.length-Ie),Je,Ie,Oe)}function $(Je,Ve,Ie,Oe){return ct(lt(Ve),Je,Ie,Oe)}function te(Je,Ve,Ie,Oe){return ct(qe(Ve),Je,Ie,Oe)}function ie(Je,Ve,Ie,Oe){return ct($e(Ve,Je.length-Ie),Je,Ie,Oe)}d.prototype.write=function(Ve,Ie,Oe,Le){if(Ie===void 0)Le="utf8",Oe=this.length,Ie=0;else if(Oe===void 0&&typeof Ie=="string")Le=Ie,Oe=this.length,Ie=0;else if(isFinite(Ie))Ie=Ie>>>0,isFinite(Oe)?(Oe=Oe>>>0,Le===void 0&&(Le="utf8")):(Le=Oe,Oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var xe=this.length-Ie;if((Oe===void 0||Oe>xe)&&(Oe=xe),Ve.length>0&&(Oe<0||Ie<0)||Ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");for(var pe=!1;;)switch(Le){case"hex":return B(this,Ve,Ie,Oe);case"utf8":case"utf-8":return W(this,Ve,Ie,Oe);case"ascii":case"latin1":case"binary":return $(this,Ve,Ie,Oe);case"base64":return te(this,Ve,Ie,Oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,Ve,Ie,Oe);default:if(pe)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),pe=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ue(Je,Ve,Ie){return Ve===0&&Ie===Je.length?l.fromByteArray(Je):l.fromByteArray(Je.slice(Ve,Ie))}function J(Je,Ve,Ie){Ie=Math.min(Je.length,Ie);for(var Oe=[],Le=Ve;Le<Ie;){var xe=Je[Le],pe=null,Ae=xe>239?4:xe>223?3:xe>191?2:1;if(Le+Ae<=Ie){var Te=void 0,Ne=void 0,Ye=void 0,et=void 0;switch(Ae){case 1:xe<128&&(pe=xe);break;case 2:Te=Je[Le+1],(Te&192)===128&&(et=(xe&31)<<6|Te&63,et>127&&(pe=et));break;case 3:Te=Je[Le+1],Ne=Je[Le+2],(Te&192)===128&&(Ne&192)===128&&(et=(xe&15)<<12|(Te&63)<<6|Ne&63,et>2047&&(et<55296||et>57343)&&(pe=et));break;case 4:Te=Je[Le+1],Ne=Je[Le+2],Ye=Je[Le+3],(Te&192)===128&&(Ne&192)===128&&(Ye&192)===128&&(et=(xe&15)<<18|(Te&63)<<12|(Ne&63)<<6|Ye&63,et>65535&&et<1114112&&(pe=et))}}pe===null?(pe=65533,Ae=1):pe>65535&&(pe-=65536,Oe.push(pe>>>10&1023|55296),pe=56320|pe&1023),Oe.push(pe),Le+=Ae}return ae(Oe)}var Y=4096;function ae(Je){var Ve=Je.length;if(Ve<=Y)return String.fromCharCode.apply(String,Je);for(var Ie="",Oe=0;Oe<Ve;)Ie+=String.fromCharCode.apply(String,Je.slice(Oe,Oe+=Y));return Ie}function j(Je,Ve,Ie){var Oe="";Ie=Math.min(Je.length,Ie);for(var Le=Ve;Le<Ie;++Le)Oe+=String.fromCharCode(Je[Le]&127);return Oe}function q(Je,Ve,Ie){var Oe="";Ie=Math.min(Je.length,Ie);for(var Le=Ve;Le<Ie;++Le)Oe+=String.fromCharCode(Je[Le]);return Oe}function oe(Je,Ve,Ie){var Oe=Je.length;(!Ve||Ve<0)&&(Ve=0),(!Ie||Ie<0||Ie>Oe)&&(Ie=Oe);for(var Le="",xe=Ve;xe<Ie;++xe)Le+=At[Je[xe]];return Le}function Q(Je,Ve,Ie){for(var Oe=Je.slice(Ve,Ie),Le="",xe=0;xe<Oe.length-1;xe+=2)Le+=String.fromCharCode(Oe[xe]+Oe[xe+1]*256);return Le}d.prototype.slice=function(Ve,Ie){var Oe=this.length;Ve=~~Ve,Ie=Ie===void 0?Oe:~~Ie,Ve<0?(Ve+=Oe,Ve<0&&(Ve=0)):Ve>Oe&&(Ve=Oe),Ie<0?(Ie+=Oe,Ie<0&&(Ie=0)):Ie>Oe&&(Ie=Oe),Ie<Ve&&(Ie=Ve);var Le=this.subarray(Ve,Ie);return Object.setPrototypeOf(Le,d.prototype),Le};function X(Je,Ve,Ie){if(Je%1!==0||Je<0)throw new RangeError("offset is not uint");if(Je+Ve>Ie)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(Ve,Ie,Oe){Ve=Ve>>>0,Ie=Ie>>>0,Oe||X(Ve,Ie,this.length);for(var Le=this[Ve],xe=1,pe=0;++pe<Ie&&(xe*=256);)Le+=this[Ve+pe]*xe;return Le},d.prototype.readUintBE=d.prototype.readUIntBE=function(Ve,Ie,Oe){Ve=Ve>>>0,Ie=Ie>>>0,Oe||X(Ve,Ie,this.length);for(var Le=this[Ve+--Ie],xe=1;Ie>0&&(xe*=256);)Le+=this[Ve+--Ie]*xe;return Le},d.prototype.readUint8=d.prototype.readUInt8=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,1,this.length),this[Ve]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,2,this.length),this[Ve]|this[Ve+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,2,this.length),this[Ve]<<8|this[Ve+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,4,this.length),(this[Ve]|this[Ve+1]<<8|this[Ve+2]<<16)+this[Ve+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,4,this.length),this[Ve]*16777216+(this[Ve+1]<<16|this[Ve+2]<<8|this[Ve+3])},d.prototype.readBigUInt64LE=Rt(function(Ve){Ve=Ve>>>0,Be(Ve,"offset");var Ie=this[Ve],Oe=this[Ve+7];(Ie===void 0||Oe===void 0)&&Ue(Ve,this.length-8);var Le=Ie+this[++Ve]*Math.pow(2,8)+this[++Ve]*Math.pow(2,16)+this[++Ve]*Math.pow(2,24),xe=this[++Ve]+this[++Ve]*Math.pow(2,8)+this[++Ve]*Math.pow(2,16)+Oe*Math.pow(2,24);return BigInt(Le)+(BigInt(xe)<<BigInt(32))}),d.prototype.readBigUInt64BE=Rt(function(Ve){Ve=Ve>>>0,Be(Ve,"offset");var Ie=this[Ve],Oe=this[Ve+7];(Ie===void 0||Oe===void 0)&&Ue(Ve,this.length-8);var Le=Ie*Math.pow(2,24)+this[++Ve]*Math.pow(2,16)+this[++Ve]*Math.pow(2,8)+this[++Ve],xe=this[++Ve]*Math.pow(2,24)+this[++Ve]*Math.pow(2,16)+this[++Ve]*Math.pow(2,8)+Oe;return(BigInt(Le)<<BigInt(32))+BigInt(xe)}),d.prototype.readIntLE=function(Ve,Ie,Oe){Ve=Ve>>>0,Ie=Ie>>>0,Oe||X(Ve,Ie,this.length);for(var Le=this[Ve],xe=1,pe=0;++pe<Ie&&(xe*=256);)Le+=this[Ve+pe]*xe;return xe*=128,Le>=xe&&(Le-=Math.pow(2,8*Ie)),Le},d.prototype.readIntBE=function(Ve,Ie,Oe){Ve=Ve>>>0,Ie=Ie>>>0,Oe||X(Ve,Ie,this.length);for(var Le=Ie,xe=1,pe=this[Ve+--Le];Le>0&&(xe*=256);)pe+=this[Ve+--Le]*xe;return xe*=128,pe>=xe&&(pe-=Math.pow(2,8*Ie)),pe},d.prototype.readInt8=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,1,this.length),this[Ve]&128?(255-this[Ve]+1)*-1:this[Ve]},d.prototype.readInt16LE=function(Ve,Ie){Ve=Ve>>>0,Ie||X(Ve,2,this.length);var Oe=this[Ve]|this[Ve+1]<<8;return Oe&32768?Oe|4294901760:Oe},d.prototype.readInt16BE=function(Ve,Ie){Ve=Ve>>>0,Ie||X(Ve,2,this.length);var Oe=this[Ve+1]|this[Ve]<<8;return Oe&32768?Oe|4294901760:Oe},d.prototype.readInt32LE=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,4,this.length),this[Ve]|this[Ve+1]<<8|this[Ve+2]<<16|this[Ve+3]<<24},d.prototype.readInt32BE=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,4,this.length),this[Ve]<<24|this[Ve+1]<<16|this[Ve+2]<<8|this[Ve+3]},d.prototype.readBigInt64LE=Rt(function(Ve){Ve=Ve>>>0,Be(Ve,"offset");var Ie=this[Ve],Oe=this[Ve+7];(Ie===void 0||Oe===void 0)&&Ue(Ve,this.length-8);var Le=this[Ve+4]+this[Ve+5]*Math.pow(2,8)+this[Ve+6]*Math.pow(2,16)+(Oe<<24);return(BigInt(Le)<<BigInt(32))+BigInt(Ie+this[++Ve]*Math.pow(2,8)+this[++Ve]*Math.pow(2,16)+this[++Ve]*Math.pow(2,24))}),d.prototype.readBigInt64BE=Rt(function(Ve){Ve=Ve>>>0,Be(Ve,"offset");var Ie=this[Ve],Oe=this[Ve+7];(Ie===void 0||Oe===void 0)&&Ue(Ve,this.length-8);var Le=(Ie<<24)+this[++Ve]*Math.pow(2,16)+this[++Ve]*Math.pow(2,8)+this[++Ve];return(BigInt(Le)<<BigInt(32))+BigInt(this[++Ve]*Math.pow(2,24)+this[++Ve]*Math.pow(2,16)+this[++Ve]*Math.pow(2,8)+Oe)}),d.prototype.readFloatLE=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,4,this.length),g.read(this,Ve,!0,23,4)},d.prototype.readFloatBE=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,4,this.length),g.read(this,Ve,!1,23,4)},d.prototype.readDoubleLE=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,8,this.length),g.read(this,Ve,!0,52,8)},d.prototype.readDoubleBE=function(Ve,Ie){return Ve=Ve>>>0,Ie||X(Ve,8,this.length),g.read(this,Ve,!1,52,8)};function se(Je,Ve,Ie,Oe,Le,xe){if(!d.isBuffer(Je))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ve>Le||Ve<xe)throw new RangeError('"value" argument is out of bounds');if(Ie+Oe>Je.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(Ve,Ie,Oe,Le){if(Ve=+Ve,Ie=Ie>>>0,Oe=Oe>>>0,!Le){var xe=Math.pow(2,8*Oe)-1;se(this,Ve,Ie,Oe,xe,0)}var pe=1,Ae=0;for(this[Ie]=Ve&255;++Ae<Oe&&(pe*=256);)this[Ie+Ae]=Ve/pe&255;return Ie+Oe},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(Ve,Ie,Oe,Le){if(Ve=+Ve,Ie=Ie>>>0,Oe=Oe>>>0,!Le){var xe=Math.pow(2,8*Oe)-1;se(this,Ve,Ie,Oe,xe,0)}var pe=Oe-1,Ae=1;for(this[Ie+pe]=Ve&255;--pe>=0&&(Ae*=256);)this[Ie+pe]=Ve/Ae&255;return Ie+Oe},d.prototype.writeUint8=d.prototype.writeUInt8=function(Ve,Ie,Oe){return Ve=+Ve,Ie=Ie>>>0,Oe||se(this,Ve,Ie,1,255,0),this[Ie]=Ve&255,Ie+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(Ve,Ie,Oe){return Ve=+Ve,Ie=Ie>>>0,Oe||se(this,Ve,Ie,2,65535,0),this[Ie]=Ve&255,this[Ie+1]=Ve>>>8,Ie+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(Ve,Ie,Oe){return Ve=+Ve,Ie=Ie>>>0,Oe||se(this,Ve,Ie,2,65535,0),this[Ie]=Ve>>>8,this[Ie+1]=Ve&255,Ie+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(Ve,Ie,Oe){return Ve=+Ve,Ie=Ie>>>0,Oe||se(this,Ve,Ie,4,4294967295,0),this[Ie+3]=Ve>>>24,this[Ie+2]=Ve>>>16,this[Ie+1]=Ve>>>8,this[Ie]=Ve&255,Ie+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(Ve,Ie,Oe){return Ve=+Ve,Ie=Ie>>>0,Oe||se(this,Ve,Ie,4,4294967295,0),this[Ie]=Ve>>>24,this[Ie+1]=Ve>>>16,this[Ie+2]=Ve>>>8,this[Ie+3]=Ve&255,Ie+4};function ne(Je,Ve,Ie,Oe,Le){Ee(Ve,Oe,Le,Je,Ie,7);var xe=Number(Ve&BigInt(4294967295));Je[Ie++]=xe,xe=xe>>8,Je[Ie++]=xe,xe=xe>>8,Je[Ie++]=xe,xe=xe>>8,Je[Ie++]=xe;var pe=Number(Ve>>BigInt(32)&BigInt(4294967295));return Je[Ie++]=pe,pe=pe>>8,Je[Ie++]=pe,pe=pe>>8,Je[Ie++]=pe,pe=pe>>8,Je[Ie++]=pe,Ie}function fe(Je,Ve,Ie,Oe,Le){Ee(Ve,Oe,Le,Je,Ie,7);var xe=Number(Ve&BigInt(4294967295));Je[Ie+7]=xe,xe=xe>>8,Je[Ie+6]=xe,xe=xe>>8,Je[Ie+5]=xe,xe=xe>>8,Je[Ie+4]=xe;var pe=Number(Ve>>BigInt(32)&BigInt(4294967295));return Je[Ie+3]=pe,pe=pe>>8,Je[Ie+2]=pe,pe=pe>>8,Je[Ie+1]=pe,pe=pe>>8,Je[Ie]=pe,Ie+8}d.prototype.writeBigUInt64LE=Rt(function(Ve){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,Ve,Ie,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Rt(function(Ve){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return fe(this,Ve,Ie,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(Ve,Ie,Oe,Le){if(Ve=+Ve,Ie=Ie>>>0,!Le){var xe=Math.pow(2,8*Oe-1);se(this,Ve,Ie,Oe,xe-1,-xe)}var pe=0,Ae=1,Te=0;for(this[Ie]=Ve&255;++pe<Oe&&(Ae*=256);)Ve<0&&Te===0&&this[Ie+pe-1]!==0&&(Te=1),this[Ie+pe]=(Ve/Ae>>0)-Te&255;return Ie+Oe},d.prototype.writeIntBE=function(Ve,Ie,Oe,Le){if(Ve=+Ve,Ie=Ie>>>0,!Le){var xe=Math.pow(2,8*Oe-1);se(this,Ve,Ie,Oe,xe-1,-xe)}var pe=Oe-1,Ae=1,Te=0;for(this[Ie+pe]=Ve&255;--pe>=0&&(Ae*=256);)Ve<0&&Te===0&&this[Ie+pe+1]!==0&&(Te=1),this[Ie+pe]=(Ve/Ae>>0)-Te&255;return Ie+Oe},d.prototype.writeInt8=function(Ve,Ie,Oe){return Ve=+Ve,Ie=Ie>>>0,Oe||se(this,Ve,Ie,1,127,-128),Ve<0&&(Ve=255+Ve+1),this[Ie]=Ve&255,Ie+1},d.prototype.writeInt16LE=function(Ve,Ie,Oe){return Ve=+Ve,Ie=Ie>>>0,Oe||se(this,Ve,Ie,2,32767,-32768),this[Ie]=Ve&255,this[Ie+1]=Ve>>>8,Ie+2},d.prototype.writeInt16BE=function(Ve,Ie,Oe){return Ve=+Ve,Ie=Ie>>>0,Oe||se(this,Ve,Ie,2,32767,-32768),this[Ie]=Ve>>>8,this[Ie+1]=Ve&255,Ie+2},d.prototype.writeInt32LE=function(Ve,Ie,Oe){return Ve=+Ve,Ie=Ie>>>0,Oe||se(this,Ve,Ie,4,2147483647,-2147483648),this[Ie]=Ve&255,this[Ie+1]=Ve>>>8,this[Ie+2]=Ve>>>16,this[Ie+3]=Ve>>>24,Ie+4},d.prototype.writeInt32BE=function(Ve,Ie,Oe){return Ve=+Ve,Ie=Ie>>>0,Oe||se(this,Ve,Ie,4,2147483647,-2147483648),Ve<0&&(Ve=4294967295+Ve+1),this[Ie]=Ve>>>24,this[Ie+1]=Ve>>>16,this[Ie+2]=Ve>>>8,this[Ie+3]=Ve&255,Ie+4},d.prototype.writeBigInt64LE=Rt(function(Ve){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,Ve,Ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Rt(function(Ve){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return fe(this,Ve,Ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ye(Je,Ve,Ie,Oe,Le,xe){if(Ie+Oe>Je.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("Index out of range")}function Se(Je,Ve,Ie,Oe,Le){return Ve=+Ve,Ie=Ie>>>0,Le||ye(Je,Ve,Ie,4),g.write(Je,Ve,Ie,Oe,23,4),Ie+4}d.prototype.writeFloatLE=function(Ve,Ie,Oe){return Se(this,Ve,Ie,!0,Oe)},d.prototype.writeFloatBE=function(Ve,Ie,Oe){return Se(this,Ve,Ie,!1,Oe)};function we(Je,Ve,Ie,Oe,Le){return Ve=+Ve,Ie=Ie>>>0,Le||ye(Je,Ve,Ie,8),g.write(Je,Ve,Ie,Oe,52,8),Ie+8}d.prototype.writeDoubleLE=function(Ve,Ie,Oe){return we(this,Ve,Ie,!0,Oe)},d.prototype.writeDoubleBE=function(Ve,Ie,Oe){return we(this,Ve,Ie,!1,Oe)},d.prototype.copy=function(Ve,Ie,Oe,Le){if(!d.isBuffer(Ve))throw new TypeError("argument should be a Buffer");if(Oe||(Oe=0),!Le&&Le!==0&&(Le=this.length),Ie>=Ve.length&&(Ie=Ve.length),Ie||(Ie=0),Le>0&&Le<Oe&&(Le=Oe),Le===Oe||Ve.length===0||this.length===0)return 0;if(Ie<0)throw new RangeError("targetStart out of bounds");if(Oe<0||Oe>=this.length)throw new RangeError("Index out of range");if(Le<0)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),Ve.length-Ie<Le-Oe&&(Le=Ve.length-Ie+Oe);var xe=Le-Oe;return this===Ve&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ie,Oe,Le):Uint8Array.prototype.set.call(Ve,this.subarray(Oe,Le),Ie),xe},d.prototype.fill=function(Ve,Ie,Oe,Le){if(typeof Ve=="string"){if(typeof Ie=="string"?(Le=Ie,Ie=0,Oe=this.length):typeof Oe=="string"&&(Le=Oe,Oe=this.length),Le!==void 0&&typeof Le!="string")throw new TypeError("encoding must be a string");if(typeof Le=="string"&&!d.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);if(Ve.length===1){var xe=Ve.charCodeAt(0);(Le==="utf8"&&xe<128||Le==="latin1")&&(Ve=xe)}}else typeof Ve=="number"?Ve=Ve&255:typeof Ve=="boolean"&&(Ve=Number(Ve));if(Ie<0||this.length<Ie||this.length<Oe)throw new RangeError("Out of range index");if(Oe<=Ie)return this;Ie=Ie>>>0,Oe=Oe===void 0?this.length:Oe>>>0,Ve||(Ve=0);var pe;if(typeof Ve=="number")for(pe=Ie;pe<Oe;++pe)this[pe]=Ve;else{var Ae=d.isBuffer(Ve)?Ve:d.from(Ve,Le),Te=Ae.length;if(Te===0)throw new TypeError('The value "'+Ve+'" is invalid for argument "value"');for(pe=0;pe<Oe-Ie;++pe)this[pe+Ie]=Ae[pe%Te]}return this};var _e={};function ke(Je,Ve,Ie){_e[Je]=function(Oe){v(xe,Oe);var Le=r(xe);function xe(){var pe;return y(this,xe),pe=Le.call(this),Object.defineProperty(i(pe),"message",{value:Ve.apply(i(pe),arguments),writable:!0,configurable:!0}),pe.name="".concat(pe.name," [").concat(Je,"]"),pe.stack,delete pe.name,pe}return o(xe,[{key:"code",get:function(){return Je},set:function(Ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ae,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Je,"]: ").concat(this.message)}}]),xe}(Ie)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(Je){return Je?"".concat(Je," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(Je,Ve){return'The "'.concat(Je,'" argument must be of type number. Received type ').concat(u(Ve))},TypeError),ke("ERR_OUT_OF_RANGE",function(Je,Ve,Ie){var Oe='The value of "'.concat(Je,'" is out of range.'),Le=Ie;return Number.isInteger(Ie)&&Math.abs(Ie)>Math.pow(2,32)?Le=Me(String(Ie)):typeof Ie=="bigint"&&(Le=String(Ie),(Ie>Math.pow(BigInt(2),BigInt(32))||Ie<-Math.pow(BigInt(2),BigInt(32)))&&(Le=Me(Le)),Le+="n"),Oe+=" It must be ".concat(Ve,". Received ").concat(Le),Oe},RangeError);function Me(Je){for(var Ve="",Ie=Je.length,Oe=Je[0]==="-"?1:0;Ie>=Oe+4;Ie-=3)Ve="_".concat(Je.slice(Ie-3,Ie)).concat(Ve);return"".concat(Je.slice(0,Ie)).concat(Ve)}function me(Je,Ve,Ie){Be(Ve,"offset"),(Je[Ve]===void 0||Je[Ve+Ie]===void 0)&&Ue(Ve,Je.length-(Ie+1))}function Ee(Je,Ve,Ie,Oe,Le,xe){if(Je>Ie||Je<Ve){var pe=typeof Ve=="bigint"?"n":"",Ae;throw xe>3?Ve===0||Ve===BigInt(0)?Ae=">= 0".concat(pe," and < 2").concat(pe," ** ").concat((xe+1)*8).concat(pe):Ae=">= -(2".concat(pe," ** ").concat((xe+1)*8-1).concat(pe,") and < 2 ** ")+"".concat((xe+1)*8-1).concat(pe):Ae=">= ".concat(Ve).concat(pe," and <= ").concat(Ie).concat(pe),new _e.ERR_OUT_OF_RANGE("value",Ae,Je)}me(Oe,Le,xe)}function Be(Je,Ve){if(typeof Je!="number")throw new _e.ERR_INVALID_ARG_TYPE(Ve,"number",Je)}function Ue(Je,Ve,Ie){throw Math.floor(Je)!==Je?(Be(Je,Ie),new _e.ERR_OUT_OF_RANGE(Ie||"offset","an integer",Je)):Ve<0?new _e.ERR_BUFFER_OUT_OF_BOUNDS:new _e.ERR_OUT_OF_RANGE(Ie||"offset",">= ".concat(Ie?1:0," and <= ").concat(Ve),Je)}var De=/[^+/0-9A-Za-z-_]/g;function He(Je){if(Je=Je.split("=")[0],Je=Je.trim().replace(De,""),Je.length<2)return"";for(;Je.length%4!==0;)Je=Je+"=";return Je}function nt(Je,Ve){Ve=Ve||1/0;for(var Ie,Oe=Je.length,Le=null,xe=[],pe=0;pe<Oe;++pe){if(Ie=Je.charCodeAt(pe),Ie>55295&&Ie<57344){if(!Le){if(Ie>56319){(Ve-=3)>-1&&xe.push(239,191,189);continue}else if(pe+1===Oe){(Ve-=3)>-1&&xe.push(239,191,189);continue}Le=Ie;continue}if(Ie<56320){(Ve-=3)>-1&&xe.push(239,191,189),Le=Ie;continue}Ie=(Le-55296<<10|Ie-56320)+65536}else Le&&(Ve-=3)>-1&&xe.push(239,191,189);if(Le=null,Ie<128){if((Ve-=1)<0)break;xe.push(Ie)}else if(Ie<2048){if((Ve-=2)<0)break;xe.push(Ie>>6|192,Ie&63|128)}else if(Ie<65536){if((Ve-=3)<0)break;xe.push(Ie>>12|224,Ie>>6&63|128,Ie&63|128)}else if(Ie<1114112){if((Ve-=4)<0)break;xe.push(Ie>>18|240,Ie>>12&63|128,Ie>>6&63|128,Ie&63|128)}else throw new Error("Invalid code point")}return xe}function lt(Je){for(var Ve=[],Ie=0;Ie<Je.length;++Ie)Ve.push(Je.charCodeAt(Ie)&255);return Ve}function $e(Je,Ve){for(var Ie,Oe,Le,xe=[],pe=0;pe<Je.length&&!((Ve-=2)<0);++pe)Ie=Je.charCodeAt(pe),Oe=Ie>>8,Le=Ie%256,xe.push(Le),xe.push(Oe);return xe}function qe(Je){return l.toByteArray(He(Je))}function ct(Je,Ve,Ie,Oe){var Le;for(Le=0;Le<Oe&&!(Le+Ie>=Ve.length||Le>=Je.length);++Le)Ve[Le+Ie]=Je[Le];return Le}function dt(Je,Ve){return Je instanceof Ve||Je!=null&&Je.constructor!=null&&Je.constructor.name!=null&&Je.constructor.name===Ve.name}function gt(Je){return Je!==Je}var At=function(){for(var Je="0123456789abcdef",Ve=new Array(256),Ie=0;Ie<16;++Ie)for(var Oe=Ie*16,Le=0;Le<16;++Le)Ve[Oe+Le]=Je[Ie]+Je[Le];return Ve}();function Rt(Je){return typeof BigInt>"u"?Vt:Je}function Vt(){throw new Error("BigInt not supported")}},35791:function(G){G.exports=P,G.exports.isMobile=P,G.exports.default=P;var V=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,y=/android|ipad|playbook|silk/i;function P(o){o||(o={});var L=o.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var M=V.test(L)&&!e.test(L)||!!o.tablet&&y.test(L);return!M&&o.tablet&&o.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(M=!0),M}},86781:function(G,V,e){e.r(V),e.d(V,{sankeyCenter:function(){return i},sankeyCircular:function(){return E},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var y=e(33064),P=e(15140),o=e(45879),L=e(2502),M=e.n(L);function v(we){return we.target.depth}function p(we){return we.depth}function r(we,_e){return _e-1-we.height}function t(we,_e){return we.sourceLinks.length?we.depth:_e-1}function i(we){return we.targetLinks.length?we.depth:we.sourceLinks.length?(0,y.VV)(we.sourceLinks,v)-1:0}function n(we){return function(){return we}}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we};function u(we,_e){return g(we.source,_e.source)||we.index-_e.index}function l(we,_e){return g(we.target,_e.target)||we.index-_e.index}function g(we,_e){return we.partOfCycle===_e.partOfCycle?we.y0-_e.y0:we.circularLinkType==="top"||_e.circularLinkType==="bottom"?-1:1}function f(we){return we.value}function T(we){return(we.y0+we.y1)/2}function h(we){return T(we.source)}function s(we){return T(we.target)}function d(we){return we.index}function A(we){return we.nodes}function w(we){return we.links}function C(we,_e){var ke=we.get(_e);if(!ke)throw new Error("missing: "+_e);return ke}function b(we,_e){return _e(we)}var S=25,m=10,a=.3;function E(){var we=0,_e=0,ke=1,Me=1,me=24,Ee,Be=d,Ue=t,De=A,He=w,nt=32,lt=2,$e,qe=null;function ct(){var Ie={nodes:De.apply(null,arguments),links:He.apply(null,arguments)};dt(Ie),x(Ie,Be,qe),gt(Ie),Vt(Ie),k(Ie,Be),Je(Ie,nt,Be),Ve(Ie);for(var Oe=4,Le=0;Le<Oe;Le++)X(Ie,Me,Be),se(Ie,Me,Be),q(Ie,_e,Me,Be),X(Ie,Me,Be),se(Ie,Me,Be);return Se(Ie,_e,Me),_(Ie,lt,Me,Be),Ie}ct.nodeId=function(Ie){return arguments.length?(Be=typeof Ie=="function"?Ie:n(Ie),ct):Be},ct.nodeAlign=function(Ie){return arguments.length?(Ue=typeof Ie=="function"?Ie:n(Ie),ct):Ue},ct.nodeWidth=function(Ie){return arguments.length?(me=+Ie,ct):me},ct.nodePadding=function(Ie){return arguments.length?(Ee=+Ie,ct):Ee},ct.nodes=function(Ie){return arguments.length?(De=typeof Ie=="function"?Ie:n(Ie),ct):De},ct.links=function(Ie){return arguments.length?(He=typeof Ie=="function"?Ie:n(Ie),ct):He},ct.size=function(Ie){return arguments.length?(we=_e=0,ke=+Ie[0],Me=+Ie[1],ct):[ke-we,Me-_e]},ct.extent=function(Ie){return arguments.length?(we=+Ie[0][0],ke=+Ie[1][0],_e=+Ie[0][1],Me=+Ie[1][1],ct):[[we,_e],[ke,Me]]},ct.iterations=function(Ie){return arguments.length?(nt=+Ie,ct):nt},ct.circularLinkGap=function(Ie){return arguments.length?(lt=+Ie,ct):lt},ct.nodePaddingRatio=function(Ie){return arguments.length?($e=+Ie,ct):$e},ct.sortNodes=function(Ie){return arguments.length?(qe=Ie,ct):qe},ct.update=function(Ie){return k(Ie,Be),Ve(Ie),Ie.links.forEach(function(Oe){Oe.circular&&(Oe.circularLinkType=Oe.y0+Oe.y1<Me?"top":"bottom",Oe.source.circularLinkType=Oe.circularLinkType,Oe.target.circularLinkType=Oe.circularLinkType)}),X(Ie,Me,Be,!1),se(Ie,Me,Be),_(Ie,lt,Me,Be),Ie};function dt(Ie){Ie.nodes.forEach(function(Le,xe){Le.index=xe,Le.sourceLinks=[],Le.targetLinks=[]});var Oe=(0,P.UI)(Ie.nodes,Be);return Ie.links.forEach(function(Le,xe){Le.index=xe;var pe=Le.source,Ae=Le.target;(typeof pe>"u"?"undefined":c(pe))!=="object"&&(pe=Le.source=C(Oe,pe)),(typeof Ae>"u"?"undefined":c(Ae))!=="object"&&(Ae=Le.target=C(Oe,Ae)),pe.sourceLinks.push(Le),Ae.targetLinks.push(Le)}),Ie}function gt(Ie){Ie.nodes.forEach(function(Oe){Oe.partOfCycle=!1,Oe.value=Math.max((0,y.Sm)(Oe.sourceLinks,f),(0,y.Sm)(Oe.targetLinks,f)),Oe.sourceLinks.forEach(function(Le){Le.circular&&(Oe.partOfCycle=!0,Oe.circularLinkType=Le.circularLinkType)}),Oe.targetLinks.forEach(function(Le){Le.circular&&(Oe.partOfCycle=!0,Oe.circularLinkType=Le.circularLinkType)})})}function At(Ie){var Oe=0,Le=0,xe=0,pe=0,Ae=(0,y.Fp)(Ie.nodes,function(Te){return Te.column});return Ie.links.forEach(function(Te){Te.circular&&(Te.circularLinkType=="top"?Oe=Oe+Te.width:Le=Le+Te.width,Te.target.column==0&&(pe=pe+Te.width),Te.source.column==Ae&&(xe=xe+Te.width))}),Oe=Oe>0?Oe+S+m:Oe,Le=Le>0?Le+S+m:Le,xe=xe>0?xe+S+m:xe,pe=pe>0?pe+S+m:pe,{top:Oe,bottom:Le,left:pe,right:xe}}function Rt(Ie,Oe){var Le=(0,y.Fp)(Ie.nodes,function(et){return et.column}),xe=ke-we,pe=Me-_e,Ae=xe+Oe.right+Oe.left,Te=pe+Oe.top+Oe.bottom,Ne=xe/Ae,Ye=pe/Te;return we=we*Ne+Oe.left,ke=Oe.right==0?ke:ke*Ne,_e=_e*Ye+Oe.top,Me=Me*Ye,Ie.nodes.forEach(function(et){et.x0=we+et.column*((ke-we-me)/Le),et.x1=et.x0+me}),Ye}function Vt(Ie){var Oe,Le,xe;for(Oe=Ie.nodes,Le=[],xe=0;Oe.length;++xe,Oe=Le,Le=[])Oe.forEach(function(pe){pe.depth=xe,pe.sourceLinks.forEach(function(Ae){Le.indexOf(Ae.target)<0&&!Ae.circular&&Le.push(Ae.target)})});for(Oe=Ie.nodes,Le=[],xe=0;Oe.length;++xe,Oe=Le,Le=[])Oe.forEach(function(pe){pe.height=xe,pe.targetLinks.forEach(function(Ae){Le.indexOf(Ae.source)<0&&!Ae.circular&&Le.push(Ae.source)})});Ie.nodes.forEach(function(pe){pe.column=Math.floor(Ue.call(null,pe,xe))})}function Je(Ie,Oe,Le){var xe=(0,P.b1)().key(function(et){return et.column}).sortKeys(y.j2).entries(Ie.nodes).map(function(et){return et.values});Te(Le),Ye();for(var pe=1,Ae=Oe;Ae>0;--Ae)Ne(pe*=.99,Le),Ye();function Te(et){if($e){var ft=1/0;xe.forEach(function(Tt){var _t=Me*$e/(Tt.length+1);ft=_t<ft?_t:ft}),Ee=ft}var pt=(0,y.VV)(xe,function(Tt){return(Me-_e-(Tt.length-1)*Ee)/(0,y.Sm)(Tt,f)});pt=pt*a,Ie.links.forEach(function(Tt){Tt.width=Tt.value*pt});var Yt=At(Ie),Jt=Rt(Ie,Yt);pt=pt*Jt,Ie.links.forEach(function(Tt){Tt.width=Tt.value*pt}),xe.forEach(function(Tt){var _t=Tt.length;Tt.forEach(function($t,wr){$t.depth==xe.length-1&&_t==1||$t.depth==0&&_t==1?($t.y0=Me/2-$t.value*pt,$t.y1=$t.y0+$t.value*pt):$t.partOfCycle?F($t,et)==0?($t.y0=Me/2+wr,$t.y1=$t.y0+$t.value*pt):$t.circularLinkType=="top"?($t.y0=_e+wr,$t.y1=$t.y0+$t.value*pt):($t.y0=Me-$t.value*pt-wr,$t.y1=$t.y0+$t.value*pt):Yt.top==0||Yt.bottom==0?($t.y0=(Me-_e)/_t*wr,$t.y1=$t.y0+$t.value*pt):($t.y0=(Me-_e)/2-_t/2+wr,$t.y1=$t.y0+$t.value*pt)})})}function Ne(et,ft){var pt=xe.length;xe.forEach(function(Yt){var Jt=Yt.length,Tt=Yt[0].depth;Yt.forEach(function(_t){var $t;if((_t.sourceLinks.length||_t.targetLinks.length)&&!(_t.partOfCycle&&F(_t,ft)>0))if(Tt==0&&Jt==1)$t=_t.y1-_t.y0,_t.y0=Me/2-$t/2,_t.y1=Me/2+$t/2;else if(Tt==pt-1&&Jt==1)$t=_t.y1-_t.y0,_t.y0=Me/2-$t/2,_t.y1=Me/2+$t/2;else{var wr=0,yt=(0,y.J6)(_t.sourceLinks,s),jt=(0,y.J6)(_t.targetLinks,h);yt&&jt?wr=(yt+jt)/2:wr=yt||jt;var Qt=(wr-T(_t))*et;_t.y0+=Qt,_t.y1+=Qt}})})}function Ye(){xe.forEach(function(et){var ft,pt,Yt=_e,Jt=et.length,Tt;for(et.sort(g),Tt=0;Tt<Jt;++Tt)ft=et[Tt],pt=Yt-ft.y0,pt>0&&(ft.y0+=pt,ft.y1+=pt),Yt=ft.y1+Ee;if(pt=Yt-Ee-Me,pt>0)for(Yt=ft.y0-=pt,ft.y1-=pt,Tt=Jt-2;Tt>=0;--Tt)ft=et[Tt],pt=ft.y1+Ee-Yt,pt>0&&(ft.y0-=pt,ft.y1-=pt),Yt=ft.y0})}}function Ve(Ie){Ie.nodes.forEach(function(Oe){Oe.sourceLinks.sort(l),Oe.targetLinks.sort(u)}),Ie.nodes.forEach(function(Oe){var Le=Oe.y0,xe=Le,pe=Oe.y1,Ae=pe;Oe.sourceLinks.forEach(function(Te){Te.circular?(Te.y0=pe-Te.width/2,pe=pe-Te.width):(Te.y0=Le+Te.width/2,Le+=Te.width)}),Oe.targetLinks.forEach(function(Te){Te.circular?(Te.y1=Ae-Te.width/2,Ae=Ae-Te.width):(Te.y1=xe+Te.width/2,xe+=Te.width)})})}return ct}function x(we,_e,ke){var Me=0;if(ke===null){for(var me=[],Ee=0;Ee<we.links.length;Ee++){var Be=we.links[Ee],Ue=Be.source.index,De=Be.target.index;me[Ue]||(me[Ue]=[]),me[De]||(me[De]=[]),me[Ue].indexOf(De)===-1&&me[Ue].push(De)}var He=M()(me);He.sort(function(qe,ct){return qe.length-ct.length});var nt={};for(Ee=0;Ee<He.length;Ee++){var lt=He[Ee],$e=lt.slice(-2);nt[$e[0]]||(nt[$e[0]]={}),nt[$e[0]][$e[1]]=!0}we.links.forEach(function(qe){var ct=qe.target.index,dt=qe.source.index;ct===dt||nt[dt]&&nt[dt][ct]?(qe.circular=!0,qe.circularLinkID=Me,Me=Me+1):qe.circular=!1})}else we.links.forEach(function(qe){qe.source[ke]<qe.target[ke]?qe.circular=!1:(qe.circular=!0,qe.circularLinkID=Me,Me=Me+1)})}function k(we,_e){var ke=0,Me=0;we.links.forEach(function(me){me.circular&&(me.source.circularLinkType||me.target.circularLinkType?me.circularLinkType=me.source.circularLinkType?me.source.circularLinkType:me.target.circularLinkType:me.circularLinkType=ke<Me?"top":"bottom",me.circularLinkType=="top"?ke=ke+1:Me=Me+1,we.nodes.forEach(function(Ee){(b(Ee,_e)==b(me.source,_e)||b(Ee,_e)==b(me.target,_e))&&(Ee.circularLinkType=me.circularLinkType)}))}),we.links.forEach(function(me){me.circular&&(me.source.circularLinkType==me.target.circularLinkType&&(me.circularLinkType=me.source.circularLinkType),ye(me,_e)&&(me.circularLinkType=me.source.circularLinkType))})}function I(we){var _e=Math.abs(we.y1-we.y0),ke=Math.abs(we.target.x0-we.source.x1);return Math.atan(ke/_e)}function N(we,_e){return we.source.column<_e.target.column?!1:!(we.target.column>_e.source.column)}function F(we,_e){var ke=0;we.sourceLinks.forEach(function(me){ke=me.circular&&!ye(me,_e)?ke+1:ke});var Me=0;return we.targetLinks.forEach(function(me){Me=me.circular&&!ye(me,_e)?Me+1:Me}),ke+Me}function z(we){var _e=we.source.sourceLinks,ke=0;_e.forEach(function(Ee){ke=Ee.circular?ke+1:ke});var Me=we.target.targetLinks,me=0;return Me.forEach(function(Ee){me=Ee.circular?me+1:me}),!(ke>1||me>1)}function O(we,_e,ke){return we.sort(W),we.forEach(function(Me,me){var Ee=0;if(ye(Me,ke)&&z(Me))Me.circularPathData.verticalBuffer=Ee+Me.width/2;else{var Be=0;for(Be;Be<me;Be++)if(N(we[me],we[Be])){var Ue=we[Be].circularPathData.verticalBuffer+we[Be].width/2+_e;Ee=Ue>Ee?Ue:Ee}Me.circularPathData.verticalBuffer=Ee+Me.width/2}}),we}function _(we,_e,ke,Me){var me=5,Ee=(0,y.VV)(we.links,function(De){return De.source.y0});we.links.forEach(function(De){De.circular&&(De.circularPathData={})});var Be=we.links.filter(function(De){return De.circularLinkType=="top"});O(Be,_e,Me);var Ue=we.links.filter(function(De){return De.circularLinkType=="bottom"});O(Ue,_e,Me),we.links.forEach(function(De){if(De.circular){if(De.circularPathData.arcRadius=De.width+m,De.circularPathData.leftNodeBuffer=me,De.circularPathData.rightNodeBuffer=me,De.circularPathData.sourceWidth=De.source.x1-De.source.x0,De.circularPathData.sourceX=De.source.x0+De.circularPathData.sourceWidth,De.circularPathData.targetX=De.target.x0,De.circularPathData.sourceY=De.y0,De.circularPathData.targetY=De.y1,ye(De,Me)&&z(De))De.circularPathData.leftSmallArcRadius=m+De.width/2,De.circularPathData.leftLargeArcRadius=m+De.width/2,De.circularPathData.rightSmallArcRadius=m+De.width/2,De.circularPathData.rightLargeArcRadius=m+De.width/2,De.circularLinkType=="bottom"?(De.circularPathData.verticalFullExtent=De.source.y1+S+De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.rightLargeArcRadius):(De.circularPathData.verticalFullExtent=De.source.y0-S-De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.rightLargeArcRadius);else{var He=De.source.column,nt=De.circularLinkType,lt=we.links.filter(function(ct){return ct.source.column==He&&ct.circularLinkType==nt});De.circularLinkType=="bottom"?lt.sort(te):lt.sort($);var $e=0;lt.forEach(function(ct,dt){ct.circularLinkID==De.circularLinkID&&(De.circularPathData.leftSmallArcRadius=m+De.width/2+$e,De.circularPathData.leftLargeArcRadius=m+De.width/2+dt*_e+$e),$e=$e+ct.width}),He=De.target.column,lt=we.links.filter(function(ct){return ct.target.column==He&&ct.circularLinkType==nt}),De.circularLinkType=="bottom"?lt.sort(ue):lt.sort(ie),$e=0,lt.forEach(function(ct,dt){ct.circularLinkID==De.circularLinkID&&(De.circularPathData.rightSmallArcRadius=m+De.width/2+$e,De.circularPathData.rightLargeArcRadius=m+De.width/2+dt*_e+$e),$e=$e+ct.width}),De.circularLinkType=="bottom"?(De.circularPathData.verticalFullExtent=Math.max(ke,De.source.y1,De.target.y1)+S+De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.rightLargeArcRadius):(De.circularPathData.verticalFullExtent=Ee-S-De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.rightLargeArcRadius)}De.circularPathData.leftInnerExtent=De.circularPathData.sourceX+De.circularPathData.leftNodeBuffer,De.circularPathData.rightInnerExtent=De.circularPathData.targetX-De.circularPathData.rightNodeBuffer,De.circularPathData.leftFullExtent=De.circularPathData.sourceX+De.circularPathData.leftLargeArcRadius+De.circularPathData.leftNodeBuffer,De.circularPathData.rightFullExtent=De.circularPathData.targetX-De.circularPathData.rightLargeArcRadius-De.circularPathData.rightNodeBuffer}if(De.circular)De.path=B(De);else{var qe=(0,o.h5)().source(function(ct){var dt=ct.source.x0+(ct.source.x1-ct.source.x0),gt=ct.y0;return[dt,gt]}).target(function(ct){var dt=ct.target.x0,gt=ct.y1;return[dt,gt]});De.path=qe(De)}})}function B(we){var _e="";return we.circularLinkType=="top"?_e="M"+we.circularPathData.sourceX+" "+we.circularPathData.sourceY+" L"+we.circularPathData.leftInnerExtent+" "+we.circularPathData.sourceY+" A"+we.circularPathData.leftLargeArcRadius+" "+we.circularPathData.leftSmallArcRadius+" 0 0 0 "+we.circularPathData.leftFullExtent+" "+(we.circularPathData.sourceY-we.circularPathData.leftSmallArcRadius)+" L"+we.circularPathData.leftFullExtent+" "+we.circularPathData.verticalLeftInnerExtent+" A"+we.circularPathData.leftLargeArcRadius+" "+we.circularPathData.leftLargeArcRadius+" 0 0 0 "+we.circularPathData.leftInnerExtent+" "+we.circularPathData.verticalFullExtent+" L"+we.circularPathData.rightInnerExtent+" "+we.circularPathData.verticalFullExtent+" A"+we.circularPathData.rightLargeArcRadius+" "+we.circularPathData.rightLargeArcRadius+" 0 0 0 "+we.circularPathData.rightFullExtent+" "+we.circularPathData.verticalRightInnerExtent+" L"+we.circularPathData.rightFullExtent+" "+(we.circularPathData.targetY-we.circularPathData.rightSmallArcRadius)+" A"+we.circularPathData.rightLargeArcRadius+" "+we.circularPathData.rightSmallArcRadius+" 0 0 0 "+we.circularPathData.rightInnerExtent+" "+we.circularPathData.targetY+" L"+we.circularPathData.targetX+" "+we.circularPathData.targetY:_e="M"+we.circularPathData.sourceX+" "+we.circularPathData.sourceY+" L"+we.circularPathData.leftInnerExtent+" "+we.circularPathData.sourceY+" A"+we.circularPathData.leftLargeArcRadius+" "+we.circularPathData.leftSmallArcRadius+" 0 0 1 "+we.circularPathData.leftFullExtent+" "+(we.circularPathData.sourceY+we.circularPathData.leftSmallArcRadius)+" L"+we.circularPathData.leftFullExtent+" "+we.circularPathData.verticalLeftInnerExtent+" A"+we.circularPathData.leftLargeArcRadius+" "+we.circularPathData.leftLargeArcRadius+" 0 0 1 "+we.circularPathData.leftInnerExtent+" "+we.circularPathData.verticalFullExtent+" L"+we.circularPathData.rightInnerExtent+" "+we.circularPathData.verticalFullExtent+" A"+we.circularPathData.rightLargeArcRadius+" "+we.circularPathData.rightLargeArcRadius+" 0 0 1 "+we.circularPathData.rightFullExtent+" "+we.circularPathData.verticalRightInnerExtent+" L"+we.circularPathData.rightFullExtent+" "+(we.circularPathData.targetY+we.circularPathData.rightSmallArcRadius)+" A"+we.circularPathData.rightLargeArcRadius+" "+we.circularPathData.rightSmallArcRadius+" 0 0 1 "+we.circularPathData.rightInnerExtent+" "+we.circularPathData.targetY+" L"+we.circularPathData.targetX+" "+we.circularPathData.targetY,_e}function W(we,_e){return J(we)==J(_e)?we.circularLinkType=="bottom"?te(we,_e):$(we,_e):J(_e)-J(we)}function $(we,_e){return we.y0-_e.y0}function te(we,_e){return _e.y0-we.y0}function ie(we,_e){return we.y1-_e.y1}function ue(we,_e){return _e.y1-we.y1}function J(we){return we.target.column-we.source.column}function Y(we){return we.target.x0-we.source.x1}function ae(we,_e){var ke=I(we),Me=Y(_e)/Math.tan(ke),me=fe(we)=="up"?we.y1+Me:we.y1-Me;return me}function j(we,_e){var ke=I(we),Me=Y(_e)/Math.tan(ke),me=fe(we)=="up"?we.y1-Me:we.y1+Me;return me}function q(we,_e,ke,Me){we.links.forEach(function(me){if(!me.circular&&me.target.column-me.source.column>1){var Ee=me.source.column+1,Be=me.target.column-1,Ue=1,De=Be-Ee+1;for(Ue=1;Ee<=Be;Ee++,Ue++)we.nodes.forEach(function(He){if(He.column==Ee){var nt=Ue/(De+1),lt=Math.pow(1-nt,3),$e=3*nt*Math.pow(1-nt,2),qe=3*Math.pow(nt,2)*(1-nt),ct=Math.pow(nt,3),dt=lt*me.y0+$e*me.y0+qe*me.y1+ct*me.y1,gt=dt-me.width/2,At=dt+me.width/2,Rt;gt>He.y0&&gt<He.y1?(Rt=He.y1-gt+10,Rt=He.circularLinkType=="bottom"?Rt:-Rt,He=Q(He,Rt,_e,ke),we.nodes.forEach(function(Vt){b(Vt,Me)==b(He,Me)||Vt.column!=He.column||oe(He,Vt)&&Q(Vt,Rt,_e,ke)})):At>He.y0&&At<He.y1?(Rt=At-He.y0+10,He=Q(He,Rt,_e,ke),we.nodes.forEach(function(Vt){b(Vt,Me)==b(He,Me)||Vt.column!=He.column||Vt.y0<He.y1&&Vt.y1>He.y1&&Q(Vt,Rt,_e,ke)})):gt<He.y0&&At>He.y1&&(Rt=At-He.y0+10,He=Q(He,Rt,_e,ke),we.nodes.forEach(function(Vt){b(Vt,Me)==b(He,Me)||Vt.column!=He.column||Vt.y0<He.y1&&Vt.y1>He.y1&&Q(Vt,Rt,_e,ke)}))}})}})}function oe(we,_e){return we.y0>_e.y0&&we.y0<_e.y1||we.y1>_e.y0&&we.y1<_e.y1?!0:we.y0<_e.y0&&we.y1>_e.y1}function Q(we,_e,ke,Me){return we.y0+_e>=ke&&we.y1+_e<=Me&&(we.y0=we.y0+_e,we.y1=we.y1+_e,we.targetLinks.forEach(function(me){me.y1=me.y1+_e}),we.sourceLinks.forEach(function(me){me.y0=me.y0+_e})),we}function X(we,_e,ke,Me){we.nodes.forEach(function(me){Me&&me.y+(me.y1-me.y0)>_e&&(me.y=me.y-(me.y+(me.y1-me.y0)-_e));var Ee=we.links.filter(function(De){return b(De.source,ke)==b(me,ke)}),Be=Ee.length;Be>1&&Ee.sort(function(De,He){if(!De.circular&&!He.circular){if(De.target.column==He.target.column)return De.y1-He.y1;if(ne(De,He)){if(De.target.column>He.target.column){var nt=j(He,De);return De.y1-nt}if(He.target.column>De.target.column){var lt=j(De,He);return lt-He.y1}}else return De.y1-He.y1}if(De.circular&&!He.circular)return De.circularLinkType=="top"?-1:1;if(He.circular&&!De.circular)return He.circularLinkType=="top"?1:-1;if(De.circular&&He.circular)return De.circularLinkType===He.circularLinkType&&De.circularLinkType=="top"?De.target.column===He.target.column?De.target.y1-He.target.y1:He.target.column-De.target.column:De.circularLinkType===He.circularLinkType&&De.circularLinkType=="bottom"?De.target.column===He.target.column?He.target.y1-De.target.y1:De.target.column-He.target.column:De.circularLinkType=="top"?-1:1});var Ue=me.y0;Ee.forEach(function(De){De.y0=Ue+De.width/2,Ue=Ue+De.width}),Ee.forEach(function(De,He){if(De.circularLinkType=="bottom"){var nt=He+1,lt=0;for(nt;nt<Be;nt++)lt=lt+Ee[nt].width;De.y0=me.y1-lt-De.width/2}})})}function se(we,_e,ke){we.nodes.forEach(function(Me){var me=we.links.filter(function(Ue){return b(Ue.target,ke)==b(Me,ke)}),Ee=me.length;Ee>1&&me.sort(function(Ue,De){if(!Ue.circular&&!De.circular){if(Ue.source.column==De.source.column)return Ue.y0-De.y0;if(ne(Ue,De)){if(De.source.column<Ue.source.column){var He=ae(De,Ue);return Ue.y0-He}if(Ue.source.column<De.source.column){var nt=ae(Ue,De);return nt-De.y0}}else return Ue.y0-De.y0}if(Ue.circular&&!De.circular)return Ue.circularLinkType=="top"?-1:1;if(De.circular&&!Ue.circular)return De.circularLinkType=="top"?1:-1;if(Ue.circular&&De.circular)return Ue.circularLinkType===De.circularLinkType&&Ue.circularLinkType=="top"?Ue.source.column===De.source.column?Ue.source.y1-De.source.y1:Ue.source.column-De.source.column:Ue.circularLinkType===De.circularLinkType&&Ue.circularLinkType=="bottom"?Ue.source.column===De.source.column?Ue.source.y1-De.source.y1:De.source.column-Ue.source.column:Ue.circularLinkType=="top"?-1:1});var Be=Me.y0;me.forEach(function(Ue){Ue.y1=Be+Ue.width/2,Be=Be+Ue.width}),me.forEach(function(Ue,De){if(Ue.circularLinkType=="bottom"){var He=De+1,nt=0;for(He;He<Ee;He++)nt=nt+me[He].width;Ue.y1=Me.y1-nt-Ue.width/2}})})}function ne(we,_e){return fe(we)==fe(_e)}function fe(we){return we.y0-we.y1>0?"up":"down"}function ye(we,_e){return b(we.source,_e)==b(we.target,_e)}function Se(we,_e,ke){var Me=we.nodes,me=we.links,Ee=!1,Be=!1;if(me.forEach(function($e){$e.circularLinkType=="top"?Ee=!0:$e.circularLinkType=="bottom"&&(Be=!0)}),Ee==!1||Be==!1){var Ue=(0,y.VV)(Me,function($e){return $e.y0}),De=(0,y.Fp)(Me,function($e){return $e.y1}),He=De-Ue,nt=ke-_e,lt=nt/He;Me.forEach(function($e){var qe=($e.y1-$e.y0)*lt;$e.y0=($e.y0-Ue)*lt,$e.y1=$e.y0+qe}),me.forEach(function($e){$e.y0=($e.y0-Ue)*lt,$e.y1=($e.y1-Ue)*lt,$e.width=$e.width*lt})}}},30838:function(G,V,e){e.r(V),e.d(V,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return b},sankeyRight:function(){return M}});var y=e(33064),P=e(15140);function o(S){return S.target.depth}function L(S){return S.depth}function M(S,m){return m-1-S.height}function v(S,m){return S.sourceLinks.length?S.depth:m-1}function p(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,y.VV)(S.sourceLinks,o)-1:0}function r(S){return function(){return S}}function t(S,m){return n(S.source,m.source)||S.index-m.index}function i(S,m){return n(S.target,m.target)||S.index-m.index}function n(S,m){return S.y0-m.y0}function c(S){return S.value}function u(S){return(S.y0+S.y1)/2}function l(S){return u(S.source)*S.value}function g(S){return u(S.target)*S.value}function f(S){return S.index}function T(S){return S.nodes}function h(S){return S.links}function s(S,m){var a=S.get(m);if(!a)throw new Error("missing: "+m);return a}function d(){var S=0,m=0,a=1,E=1,x=24,k=8,I=f,N=v,F=T,z=h,O=32,_=2/3;function B(){var J={nodes:F.apply(null,arguments),links:z.apply(null,arguments)};return W(J),$(J),te(J),ie(J),ue(J),J}B.update=function(J){return ue(J),J},B.nodeId=function(J){return arguments.length?(I=typeof J=="function"?J:r(J),B):I},B.nodeAlign=function(J){return arguments.length?(N=typeof J=="function"?J:r(J),B):N},B.nodeWidth=function(J){return arguments.length?(x=+J,B):x},B.nodePadding=function(J){return arguments.length?(k=+J,B):k},B.nodes=function(J){return arguments.length?(F=typeof J=="function"?J:r(J),B):F},B.links=function(J){return arguments.length?(z=typeof J=="function"?J:r(J),B):z},B.size=function(J){return arguments.length?(S=m=0,a=+J[0],E=+J[1],B):[a-S,E-m]},B.extent=function(J){return arguments.length?(S=+J[0][0],a=+J[1][0],m=+J[0][1],E=+J[1][1],B):[[S,m],[a,E]]},B.iterations=function(J){return arguments.length?(O=+J,B):O};function W(J){J.nodes.forEach(function(ae,j){ae.index=j,ae.sourceLinks=[],ae.targetLinks=[]});var Y=(0,P.UI)(J.nodes,I);J.links.forEach(function(ae,j){ae.index=j;var q=ae.source,oe=ae.target;typeof q!="object"&&(q=ae.source=s(Y,q)),typeof oe!="object"&&(oe=ae.target=s(Y,oe)),q.sourceLinks.push(ae),oe.targetLinks.push(ae)})}function $(J){J.nodes.forEach(function(Y){Y.value=Math.max((0,y.Sm)(Y.sourceLinks,c),(0,y.Sm)(Y.targetLinks,c))})}function te(J){var Y,ae,j;for(Y=J.nodes,ae=[],j=0;Y.length;++j,Y=ae,ae=[])Y.forEach(function(oe){oe.depth=j,oe.sourceLinks.forEach(function(Q){ae.indexOf(Q.target)<0&&ae.push(Q.target)})});for(Y=J.nodes,ae=[],j=0;Y.length;++j,Y=ae,ae=[])Y.forEach(function(oe){oe.height=j,oe.targetLinks.forEach(function(Q){ae.indexOf(Q.source)<0&&ae.push(Q.source)})});var q=(a-S-x)/(j-1);J.nodes.forEach(function(oe){oe.x1=(oe.x0=S+Math.max(0,Math.min(j-1,Math.floor(N.call(null,oe,j))))*q)+x})}function ie(J){var Y=(0,P.b1)().key(function(se){return se.x0}).sortKeys(y.j2).entries(J.nodes).map(function(se){return se.values});q(),X();for(var ae=1,j=O;j>0;--j)Q(ae*=.99),X(),oe(ae),X();function q(){var se=(0,y.Fp)(Y,function(ye){return ye.length}),ne=_*(E-m)/(se-1);k>ne&&(k=ne);var fe=(0,y.VV)(Y,function(ye){return(E-m-(ye.length-1)*k)/(0,y.Sm)(ye,c)});Y.forEach(function(ye){ye.forEach(function(Se,we){Se.y1=(Se.y0=we)+Se.value*fe})}),J.links.forEach(function(ye){ye.width=ye.value*fe})}function oe(se){Y.forEach(function(ne){ne.forEach(function(fe){if(fe.targetLinks.length){var ye=((0,y.Sm)(fe.targetLinks,l)/(0,y.Sm)(fe.targetLinks,c)-u(fe))*se;fe.y0+=ye,fe.y1+=ye}})})}function Q(se){Y.slice().reverse().forEach(function(ne){ne.forEach(function(fe){if(fe.sourceLinks.length){var ye=((0,y.Sm)(fe.sourceLinks,g)/(0,y.Sm)(fe.sourceLinks,c)-u(fe))*se;fe.y0+=ye,fe.y1+=ye}})})}function X(){Y.forEach(function(se){var ne,fe,ye=m,Se=se.length,we;for(se.sort(n),we=0;we<Se;++we)ne=se[we],fe=ye-ne.y0,fe>0&&(ne.y0+=fe,ne.y1+=fe),ye=ne.y1+k;if(fe=ye-k-E,fe>0)for(ye=ne.y0-=fe,ne.y1-=fe,we=Se-2;we>=0;--we)ne=se[we],fe=ne.y1+k-ye,fe>0&&(ne.y0-=fe,ne.y1-=fe),ye=ne.y0})}}function ue(J){J.nodes.forEach(function(Y){Y.sourceLinks.sort(i),Y.targetLinks.sort(t)}),J.nodes.forEach(function(Y){var ae=Y.y0,j=ae;Y.sourceLinks.forEach(function(q){q.y0=ae+q.width/2,ae+=q.width}),Y.targetLinks.forEach(function(q){q.y1=j+q.width/2,j+=q.width})})}return B}var A=e(45879);function w(S){return[S.source.x1,S.y0]}function C(S){return[S.target.x0,S.y1]}function b(){return(0,A.h5)().source(w).target(C)}},39898:function(G,V,e){var y,P;(function(){var o={version:"3.8.0"},L=[].slice,M=function(le){return L.call(le)},v=self.document;function p(le){return le&&(le.ownerDocument||le.document||le).documentElement}function r(le){return le&&(le.ownerDocument&&le.ownerDocument.defaultView||le.document&&le||le.defaultView)}if(v)try{M(v.documentElement.childNodes)[0].nodeType}catch{M=function(Ce){for(var ze=Ce.length,Qe=new Array(ze);ze--;)Qe[ze]=Ce[ze];return Qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,i=t.setAttribute,n=t.setAttributeNS,c=this.CSSStyleDeclaration.prototype,u=c.setProperty;t.setAttribute=function(Ce,ze){i.call(this,Ce,ze+"")},t.setAttributeNS=function(Ce,ze,Qe){n.call(this,Ce,ze,Qe+"")},c.setProperty=function(Ce,ze,Qe){u.call(this,Ce,ze+"",Qe)}}o.ascending=l;function l(le,Ce){return le<Ce?-1:le>Ce?1:le>=Ce?0:NaN}o.descending=function(le,Ce){return Ce<le?-1:Ce>le?1:Ce>=le?0:NaN},o.min=function(le,Ce){var ze=-1,Qe=le.length,tt,ot;if(arguments.length===1){for(;++ze<Qe;)if((ot=le[ze])!=null&&ot>=ot){tt=ot;break}for(;++ze<Qe;)(ot=le[ze])!=null&&tt>ot&&(tt=ot)}else{for(;++ze<Qe;)if((ot=Ce.call(le,le[ze],ze))!=null&&ot>=ot){tt=ot;break}for(;++ze<Qe;)(ot=Ce.call(le,le[ze],ze))!=null&&tt>ot&&(tt=ot)}return tt},o.max=function(le,Ce){var ze=-1,Qe=le.length,tt,ot;if(arguments.length===1){for(;++ze<Qe;)if((ot=le[ze])!=null&&ot>=ot){tt=ot;break}for(;++ze<Qe;)(ot=le[ze])!=null&&ot>tt&&(tt=ot)}else{for(;++ze<Qe;)if((ot=Ce.call(le,le[ze],ze))!=null&&ot>=ot){tt=ot;break}for(;++ze<Qe;)(ot=Ce.call(le,le[ze],ze))!=null&&ot>tt&&(tt=ot)}return tt},o.extent=function(le,Ce){var ze=-1,Qe=le.length,tt,ot,Et;if(arguments.length===1){for(;++ze<Qe;)if((ot=le[ze])!=null&&ot>=ot){tt=Et=ot;break}for(;++ze<Qe;)(ot=le[ze])!=null&&(tt>ot&&(tt=ot),Et<ot&&(Et=ot))}else{for(;++ze<Qe;)if((ot=Ce.call(le,le[ze],ze))!=null&&ot>=ot){tt=Et=ot;break}for(;++ze<Qe;)(ot=Ce.call(le,le[ze],ze))!=null&&(tt>ot&&(tt=ot),Et<ot&&(Et=ot))}return[tt,Et]};function g(le){return le===null?NaN:+le}function f(le){return!isNaN(le)}o.sum=function(le,Ce){var ze=0,Qe=le.length,tt,ot=-1;if(arguments.length===1)for(;++ot<Qe;)f(tt=+le[ot])&&(ze+=tt);else for(;++ot<Qe;)f(tt=+Ce.call(le,le[ot],ot))&&(ze+=tt);return ze},o.mean=function(le,Ce){var ze=0,Qe=le.length,tt,ot=-1,Et=Qe;if(arguments.length===1)for(;++ot<Qe;)f(tt=g(le[ot]))?ze+=tt:--Et;else for(;++ot<Qe;)f(tt=g(Ce.call(le,le[ot],ot)))?ze+=tt:--Et;if(Et)return ze/Et},o.quantile=function(le,Ce){var ze=(le.length-1)*Ce+1,Qe=Math.floor(ze),tt=+le[Qe-1],ot=ze-Qe;return ot?tt+ot*(le[Qe]-tt):tt},o.median=function(le,Ce){var ze=[],Qe=le.length,tt,ot=-1;if(arguments.length===1)for(;++ot<Qe;)f(tt=g(le[ot]))&&ze.push(tt);else for(;++ot<Qe;)f(tt=g(Ce.call(le,le[ot],ot)))&&ze.push(tt);if(ze.length)return o.quantile(ze.sort(l),.5)},o.variance=function(le,Ce){var ze=le.length,Qe=0,tt,ot,Et=0,bt=-1,Ht=0;if(arguments.length===1)for(;++bt<ze;)f(tt=g(le[bt]))&&(ot=tt-Qe,Qe+=ot/++Ht,Et+=ot*(tt-Qe));else for(;++bt<ze;)f(tt=g(Ce.call(le,le[bt],bt)))&&(ot=tt-Qe,Qe+=ot/++Ht,Et+=ot*(tt-Qe));if(Ht>1)return Et/(Ht-1)},o.deviation=function(){var le=o.variance.apply(this,arguments);return le&&Math.sqrt(le)};function T(le){return{left:function(Ce,ze,Qe,tt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(tt=Ce.length);Qe<tt;){var ot=Qe+tt>>>1;le(Ce[ot],ze)<0?Qe=ot+1:tt=ot}return Qe},right:function(Ce,ze,Qe,tt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(tt=Ce.length);Qe<tt;){var ot=Qe+tt>>>1;le(Ce[ot],ze)>0?tt=ot:Qe=ot+1}return Qe}}}var h=T(l);o.bisectLeft=h.left,o.bisect=o.bisectRight=h.right,o.bisector=function(le){return T(le.length===1?function(Ce,ze){return l(le(Ce),ze)}:le)},o.shuffle=function(le,Ce,ze){(Qe=arguments.length)<3&&(ze=le.length,Qe<2&&(Ce=0));for(var Qe=ze-Ce,tt,ot;Qe;)ot=Math.random()*Qe--|0,tt=le[Qe+Ce],le[Qe+Ce]=le[ot+Ce],le[ot+Ce]=tt;return le},o.permute=function(le,Ce){for(var ze=Ce.length,Qe=new Array(ze);ze--;)Qe[ze]=le[Ce[ze]];return Qe},o.pairs=function(le){for(var Ce=0,ze=le.length-1,Qe=le[0],tt=new Array(ze<0?0:ze);Ce<ze;)tt[Ce]=[Qe,Qe=le[++Ce]];return tt},o.transpose=function(le){if(!(ot=le.length))return[];for(var Ce=-1,ze=o.min(le,s),Qe=new Array(ze);++Ce<ze;)for(var tt=-1,ot,Et=Qe[Ce]=new Array(ot);++tt<ot;)Et[tt]=le[tt][Ce];return Qe};function s(le){return le.length}o.zip=function(){return o.transpose(arguments)},o.keys=function(le){var Ce=[];for(var ze in le)Ce.push(ze);return Ce},o.values=function(le){var Ce=[];for(var ze in le)Ce.push(le[ze]);return Ce},o.entries=function(le){var Ce=[];for(var ze in le)Ce.push({key:ze,value:le[ze]});return Ce},o.merge=function(le){for(var Ce=le.length,ze,Qe=-1,tt=0,ot,Et;++Qe<Ce;)tt+=le[Qe].length;for(ot=new Array(tt);--Ce>=0;)for(Et=le[Ce],ze=Et.length;--ze>=0;)ot[--tt]=Et[ze];return ot};var d=Math.abs;o.range=function(le,Ce,ze){if(arguments.length<3&&(ze=1,arguments.length<2&&(Ce=le,le=0)),(Ce-le)/ze===1/0)throw new Error("infinite range");var Qe=[],tt=A(d(ze)),ot=-1,Et;if(le*=tt,Ce*=tt,ze*=tt,ze<0)for(;(Et=le+ze*++ot)>Ce;)Qe.push(Et/tt);else for(;(Et=le+ze*++ot)<Ce;)Qe.push(Et/tt);return Qe};function A(le){for(var Ce=1;le*Ce%1;)Ce*=10;return Ce}function w(le,Ce){for(var ze in Ce)Object.defineProperty(le.prototype,ze,{value:Ce[ze],enumerable:!1})}o.map=function(le,Ce){var ze=new C;if(le instanceof C)le.forEach(function(bt,Ht){ze.set(bt,Ht)});else if(Array.isArray(le)){var Qe=-1,tt=le.length,ot;if(arguments.length===1)for(;++Qe<tt;)ze.set(Qe,le[Qe]);else for(;++Qe<tt;)ze.set(Ce.call(le,ot=le[Qe],Qe),ot)}else for(var Et in le)ze.set(Et,le[Et]);return ze};function C(){this._=Object.create(null)}var b="__proto__",S="\0";w(C,{has:E,get:function(le){return this._[m(le)]},set:function(le,Ce){return this._[m(le)]=Ce},remove:x,keys:k,values:function(){var le=[];for(var Ce in this._)le.push(this._[Ce]);return le},entries:function(){var le=[];for(var Ce in this._)le.push({key:a(Ce),value:this._[Ce]});return le},size:I,empty:N,forEach:function(le){for(var Ce in this._)le.call(this,a(Ce),this._[Ce])}});function m(le){return(le+="")===b||le[0]===S?S+le:le}function a(le){return(le+="")[0]===S?le.slice(1):le}function E(le){return m(le)in this._}function x(le){return(le=m(le))in this._&&delete this._[le]}function k(){var le=[];for(var Ce in this._)le.push(a(Ce));return le}function I(){var le=0;for(var Ce in this._)++le;return le}function N(){for(var le in this._)return!1;return!0}o.nest=function(){var le={},Ce=[],ze=[],Qe,tt;function ot(bt,Ht,Gt){if(Gt>=Ce.length)return tt?tt.call(le,Ht):Qe?Ht.sort(Qe):Ht;for(var tr=-1,Cr=Ht.length,Pr=Ce[Gt++],Jr,nn,Dr,Br=new C,jr;++tr<Cr;)(jr=Br.get(Jr=Pr(nn=Ht[tr])))?jr.push(nn):Br.set(Jr,[nn]);return bt?(nn=bt(),Dr=function(ln,cn){nn.set(ln,ot(bt,cn,Gt))}):(nn={},Dr=function(ln,cn){nn[ln]=ot(bt,cn,Gt)}),Br.forEach(Dr),nn}function Et(bt,Ht){if(Ht>=Ce.length)return bt;var Gt=[],tr=ze[Ht++];return bt.forEach(function(Cr,Pr){Gt.push({key:Cr,values:Et(Pr,Ht)})}),tr?Gt.sort(function(Cr,Pr){return tr(Cr.key,Pr.key)}):Gt}return le.map=function(bt,Ht){return ot(Ht,bt,0)},le.entries=function(bt){return Et(ot(o.map,bt,0),0)},le.key=function(bt){return Ce.push(bt),le},le.sortKeys=function(bt){return ze[Ce.length-1]=bt,le},le.sortValues=function(bt){return Qe=bt,le},le.rollup=function(bt){return tt=bt,le},le},o.set=function(le){var Ce=new F;if(le)for(var ze=0,Qe=le.length;ze<Qe;++ze)Ce.add(le[ze]);return Ce};function F(){this._=Object.create(null)}w(F,{has:E,add:function(le){return this._[m(le+="")]=!0,le},remove:x,values:k,size:I,empty:N,forEach:function(le){for(var Ce in this._)le.call(this,a(Ce))}}),o.behavior={};function z(le){return le}o.rebind=function(le,Ce){for(var ze=1,Qe=arguments.length,tt;++ze<Qe;)le[tt=arguments[ze]]=O(le,Ce,Ce[tt]);return le};function O(le,Ce,ze){return function(){var Qe=ze.apply(Ce,arguments);return Qe===Ce?le:Qe}}function _(le,Ce){if(Ce in le)return Ce;Ce=Ce.charAt(0).toUpperCase()+Ce.slice(1);for(var ze=0,Qe=B.length;ze<Qe;++ze){var tt=B[ze]+Ce;if(tt in le)return tt}}var B=["webkit","ms","moz","Moz","o","O"];function W(){}o.dispatch=function(){for(var le=new $,Ce=-1,ze=arguments.length;++Ce<ze;)le[arguments[Ce]]=te(le);return le};function $(){}$.prototype.on=function(le,Ce){var ze=le.indexOf("."),Qe="";if(ze>=0&&(Qe=le.slice(ze+1),le=le.slice(0,ze)),le)return arguments.length<2?this[le].on(Qe):this[le].on(Qe,Ce);if(arguments.length===2){if(Ce==null)for(le in this)this.hasOwnProperty(le)&&this[le].on(Qe,null);return this}};function te(le){var Ce=[],ze=new C;function Qe(){for(var tt=Ce,ot=-1,Et=tt.length,bt;++ot<Et;)(bt=tt[ot].on)&&bt.apply(this,arguments);return le}return Qe.on=function(tt,ot){var Et=ze.get(tt),bt;return arguments.length<2?Et&&Et.on:(Et&&(Et.on=null,Ce=Ce.slice(0,bt=Ce.indexOf(Et)).concat(Ce.slice(bt+1)),ze.remove(tt)),ot&&Ce.push(ze.set(tt,{on:ot})),le)},Qe}o.event=null;function ie(){o.event.preventDefault()}function ue(){for(var le=o.event,Ce;Ce=le.sourceEvent;)le=Ce;return le}function J(le){for(var Ce=new $,ze=0,Qe=arguments.length;++ze<Qe;)Ce[arguments[ze]]=te(Ce);return Ce.of=function(tt,ot){return function(Et){try{var bt=Et.sourceEvent=o.event;Et.target=le,o.event=Et,Ce[Et.type].apply(tt,ot)}finally{o.event=bt}}},Ce}o.requote=function(le){return le.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ae={}.__proto__?function(le,Ce){le.__proto__=Ce}:function(le,Ce){for(var ze in Ce)le[ze]=Ce[ze]};function j(le){return ae(le,X),le}var q=function(le,Ce){return Ce.querySelector(le)},oe=function(le,Ce){return Ce.querySelectorAll(le)},Q=function(le,Ce){var ze=le.matches||le[_(le,"matchesSelector")];return Q=function(Qe,tt){return ze.call(Qe,tt)},Q(le,Ce)};typeof Sizzle=="function"&&(q=function(le,Ce){return Sizzle(le,Ce)[0]||null},oe=Sizzle,Q=Sizzle.matchesSelector),o.selection=function(){return o.select(v.documentElement)};var X=o.selection.prototype=[];X.select=function(le){var Ce=[],ze,Qe,tt,ot;le=se(le);for(var Et=-1,bt=this.length;++Et<bt;){Ce.push(ze=[]),ze.parentNode=(tt=this[Et]).parentNode;for(var Ht=-1,Gt=tt.length;++Ht<Gt;)(ot=tt[Ht])?(ze.push(Qe=le.call(ot,ot.__data__,Ht,Et)),Qe&&"__data__"in ot&&(Qe.__data__=ot.__data__)):ze.push(null)}return j(Ce)};function se(le){return typeof le=="function"?le:function(){return q(le,this)}}X.selectAll=function(le){var Ce=[],ze,Qe;le=ne(le);for(var tt=-1,ot=this.length;++tt<ot;)for(var Et=this[tt],bt=-1,Ht=Et.length;++bt<Ht;)(Qe=Et[bt])&&(Ce.push(ze=M(le.call(Qe,Qe.__data__,bt,tt))),ze.parentNode=Qe);return j(Ce)};function ne(le){return typeof le=="function"?le:function(){return oe(le,this)}}var fe="http://www.w3.org/1999/xhtml",ye={svg:"http://www.w3.org/2000/svg",xhtml:fe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};o.ns={prefix:ye,qualify:function(le){var Ce=le.indexOf(":"),ze=le;return Ce>=0&&(ze=le.slice(0,Ce))!=="xmlns"&&(le=le.slice(Ce+1)),ye.hasOwnProperty(ze)?{space:ye[ze],local:le}:le}},X.attr=function(le,Ce){if(arguments.length<2){if(typeof le=="string"){var ze=this.node();return le=o.ns.qualify(le),le.local?ze.getAttributeNS(le.space,le.local):ze.getAttribute(le)}for(Ce in le)this.each(Se(Ce,le[Ce]));return this}return this.each(Se(le,Ce))};function Se(le,Ce){le=o.ns.qualify(le);function ze(){this.removeAttribute(le)}function Qe(){this.removeAttributeNS(le.space,le.local)}function tt(){this.setAttribute(le,Ce)}function ot(){this.setAttributeNS(le.space,le.local,Ce)}function Et(){var Ht=Ce.apply(this,arguments);Ht==null?this.removeAttribute(le):this.setAttribute(le,Ht)}function bt(){var Ht=Ce.apply(this,arguments);Ht==null?this.removeAttributeNS(le.space,le.local):this.setAttributeNS(le.space,le.local,Ht)}return Ce==null?le.local?Qe:ze:typeof Ce=="function"?le.local?bt:Et:le.local?ot:tt}function we(le){return le.trim().replace(/\s+/g," ")}X.classed=function(le,Ce){if(arguments.length<2){if(typeof le=="string"){var ze=this.node(),Qe=(le=ke(le)).length,tt=-1;if(Ce=ze.classList){for(;++tt<Qe;)if(!Ce.contains(le[tt]))return!1}else for(Ce=ze.getAttribute("class");++tt<Qe;)if(!_e(le[tt]).test(Ce))return!1;return!0}for(Ce in le)this.each(Me(Ce,le[Ce]));return this}return this.each(Me(le,Ce))};function _e(le){return new RegExp("(?:^|\\s+)"+o.requote(le)+"(?:\\s+|$)","g")}function ke(le){return(le+"").trim().split(/^|\s+/)}function Me(le,Ce){le=ke(le).map(me);var ze=le.length;function Qe(){for(var ot=-1;++ot<ze;)le[ot](this,Ce)}function tt(){for(var ot=-1,Et=Ce.apply(this,arguments);++ot<ze;)le[ot](this,Et)}return typeof Ce=="function"?tt:Qe}function me(le){var Ce=_e(le);return function(ze,Qe){if(tt=ze.classList)return Qe?tt.add(le):tt.remove(le);var tt=ze.getAttribute("class")||"";Qe?(Ce.lastIndex=0,Ce.test(tt)||ze.setAttribute("class",we(tt+" "+le))):ze.setAttribute("class",we(tt.replace(Ce," ")))}}X.style=function(le,Ce,ze){var Qe=arguments.length;if(Qe<3){if(typeof le!="string"){Qe<2&&(Ce="");for(ze in le)this.each(Ee(ze,le[ze],Ce));return this}if(Qe<2){var tt=this.node();return r(tt).getComputedStyle(tt,null).getPropertyValue(le)}ze=""}return this.each(Ee(le,Ce,ze))};function Ee(le,Ce,ze){function Qe(){this.style.removeProperty(le)}function tt(){this.style.setProperty(le,Ce,ze)}function ot(){var Et=Ce.apply(this,arguments);Et==null?this.style.removeProperty(le):this.style.setProperty(le,Et,ze)}return Ce==null?Qe:typeof Ce=="function"?ot:tt}X.property=function(le,Ce){if(arguments.length<2){if(typeof le=="string")return this.node()[le];for(Ce in le)this.each(Be(Ce,le[Ce]));return this}return this.each(Be(le,Ce))};function Be(le,Ce){function ze(){delete this[le]}function Qe(){this[le]=Ce}function tt(){var ot=Ce.apply(this,arguments);ot==null?delete this[le]:this[le]=ot}return Ce==null?ze:typeof Ce=="function"?tt:Qe}X.text=function(le){return arguments.length?this.each(typeof le=="function"?function(){var Ce=le.apply(this,arguments);this.textContent=Ce??""}:le==null?function(){this.textContent=""}:function(){this.textContent=le}):this.node().textContent},X.html=function(le){return arguments.length?this.each(typeof le=="function"?function(){var Ce=le.apply(this,arguments);this.innerHTML=Ce??""}:le==null?function(){this.innerHTML=""}:function(){this.innerHTML=le}):this.node().innerHTML},X.append=function(le){return le=Ue(le),this.select(function(){return this.appendChild(le.apply(this,arguments))})};function Ue(le){function Ce(){var Qe=this.ownerDocument,tt=this.namespaceURI;return tt===fe&&Qe.documentElement.namespaceURI===fe?Qe.createElement(le):Qe.createElementNS(tt,le)}function ze(){return this.ownerDocument.createElementNS(le.space,le.local)}return typeof le=="function"?le:(le=o.ns.qualify(le)).local?ze:Ce}X.insert=function(le,Ce){return le=Ue(le),Ce=se(Ce),this.select(function(){return this.insertBefore(le.apply(this,arguments),Ce.apply(this,arguments)||null)})},X.remove=function(){return this.each(De)};function De(){var le=this.parentNode;le&&le.removeChild(this)}X.data=function(le,Ce){var ze=-1,Qe=this.length,tt,ot;if(!arguments.length){for(le=new Array(Qe=(tt=this[0]).length);++ze<Qe;)(ot=tt[ze])&&(le[ze]=ot.__data__);return le}function Et(tr,Cr){var Pr,Jr=tr.length,nn=Cr.length,Dr=Math.min(Jr,nn),Br=new Array(nn),jr=new Array(nn),ln=new Array(Jr),cn,$r;if(Ce){var Nn=new C,aa=new Array(Jr),ha;for(Pr=-1;++Pr<Jr;)(cn=tr[Pr])&&(Nn.has(ha=Ce.call(cn,cn.__data__,Pr))?ln[Pr]=cn:Nn.set(ha,cn),aa[Pr]=ha);for(Pr=-1;++Pr<nn;)(cn=Nn.get(ha=Ce.call(Cr,$r=Cr[Pr],Pr)))?cn!==!0&&(Br[Pr]=cn,cn.__data__=$r):jr[Pr]=He($r),Nn.set(ha,!0);for(Pr=-1;++Pr<Jr;)Pr in aa&&Nn.get(aa[Pr])!==!0&&(ln[Pr]=tr[Pr])}else{for(Pr=-1;++Pr<Dr;)cn=tr[Pr],$r=Cr[Pr],cn?(cn.__data__=$r,Br[Pr]=cn):jr[Pr]=He($r);for(;Pr<nn;++Pr)jr[Pr]=He(Cr[Pr]);for(;Pr<Jr;++Pr)ln[Pr]=tr[Pr]}jr.update=Br,jr.parentNode=Br.parentNode=ln.parentNode=tr.parentNode,bt.push(jr),Ht.push(Br),Gt.push(ln)}var bt=qe([]),Ht=j([]),Gt=j([]);if(typeof le=="function")for(;++ze<Qe;)Et(tt=this[ze],le.call(tt,tt.parentNode.__data__,ze));else for(;++ze<Qe;)Et(tt=this[ze],le);return Ht.enter=function(){return bt},Ht.exit=function(){return Gt},Ht};function He(le){return{__data__:le}}X.datum=function(le){return arguments.length?this.property("__data__",le):this.property("__data__")},X.filter=function(le){var Ce=[],ze,Qe,tt;typeof le!="function"&&(le=nt(le));for(var ot=0,Et=this.length;ot<Et;ot++){Ce.push(ze=[]),ze.parentNode=(Qe=this[ot]).parentNode;for(var bt=0,Ht=Qe.length;bt<Ht;bt++)(tt=Qe[bt])&&le.call(tt,tt.__data__,bt,ot)&&ze.push(tt)}return j(Ce)};function nt(le){return function(){return Q(this,le)}}X.order=function(){for(var le=-1,Ce=this.length;++le<Ce;)for(var ze=this[le],Qe=ze.length-1,tt=ze[Qe],ot;--Qe>=0;)(ot=ze[Qe])&&(tt&&tt!==ot.nextSibling&&tt.parentNode.insertBefore(ot,tt),tt=ot);return this},X.sort=function(le){le=lt.apply(this,arguments);for(var Ce=-1,ze=this.length;++Ce<ze;)this[Ce].sort(le);return this.order()};function lt(le){return arguments.length||(le=l),function(Ce,ze){return Ce&&ze?le(Ce.__data__,ze.__data__):!Ce-!ze}}X.each=function(le){return $e(this,function(Ce,ze,Qe){le.call(Ce,Ce.__data__,ze,Qe)})};function $e(le,Ce){for(var ze=0,Qe=le.length;ze<Qe;ze++)for(var tt=le[ze],ot=0,Et=tt.length,bt;ot<Et;ot++)(bt=tt[ot])&&Ce(bt,ot,ze);return le}X.call=function(le){var Ce=M(arguments);return le.apply(Ce[0]=this,Ce),this},X.empty=function(){return!this.node()},X.node=function(){for(var le=0,Ce=this.length;le<Ce;le++)for(var ze=this[le],Qe=0,tt=ze.length;Qe<tt;Qe++){var ot=ze[Qe];if(ot)return ot}return null},X.size=function(){var le=0;return $e(this,function(){++le}),le};function qe(le){return ae(le,ct),le}var ct=[];o.selection.enter=qe,o.selection.enter.prototype=ct,ct.append=X.append,ct.empty=X.empty,ct.node=X.node,ct.call=X.call,ct.size=X.size,ct.select=function(le){for(var Ce=[],ze,Qe,tt,ot,Et,bt=-1,Ht=this.length;++bt<Ht;){tt=(ot=this[bt]).update,Ce.push(ze=[]),ze.parentNode=ot.parentNode;for(var Gt=-1,tr=ot.length;++Gt<tr;)(Et=ot[Gt])?(ze.push(tt[Gt]=Qe=le.call(ot.parentNode,Et.__data__,Gt,bt)),Qe.__data__=Et.__data__):ze.push(null)}return j(Ce)},ct.insert=function(le,Ce){return arguments.length<2&&(Ce=dt(this)),X.insert.call(this,le,Ce)};function dt(le){var Ce,ze;return function(Qe,tt,ot){var Et=le[ot].update,bt=Et.length,Ht;for(ot!=ze&&(ze=ot,Ce=0),tt>=Ce&&(Ce=tt+1);!(Ht=Et[Ce])&&++Ce<bt;);return Ht}}o.select=function(le){var Ce;return typeof le=="string"?(Ce=[q(le,v)],Ce.parentNode=v.documentElement):(Ce=[le],Ce.parentNode=p(le)),j([Ce])},o.selectAll=function(le){var Ce;return typeof le=="string"?(Ce=M(oe(le,v)),Ce.parentNode=v.documentElement):(Ce=M(le),Ce.parentNode=null),j([Ce])},X.on=function(le,Ce,ze){var Qe=arguments.length;if(Qe<3){if(typeof le!="string"){Qe<2&&(Ce=!1);for(ze in le)this.each(gt(ze,le[ze],Ce));return this}if(Qe<2)return(Qe=this.node()["__on"+le])&&Qe._;ze=!1}return this.each(gt(le,Ce,ze))};function gt(le,Ce,ze){var Qe="__on"+le,tt=le.indexOf("."),ot=Rt;tt>0&&(le=le.slice(0,tt));var Et=At.get(le);Et&&(le=Et,ot=Vt);function bt(){var tr=this[Qe];tr&&(this.removeEventListener(le,tr,tr.$),delete this[Qe])}function Ht(){var tr=ot(Ce,M(arguments));bt.call(this),this.addEventListener(le,this[Qe]=tr,tr.$=ze),tr._=Ce}function Gt(){var tr=new RegExp("^__on([^.]+)"+o.requote(le)+"$"),Cr;for(var Pr in this)if(Cr=Pr.match(tr)){var Jr=this[Pr];this.removeEventListener(Cr[1],Jr,Jr.$),delete this[Pr]}}return tt?Ce?Ht:bt:Ce?W:Gt}var At=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&At.forEach(function(le){"on"+le in v&&At.remove(le)});function Rt(le,Ce){return function(ze){var Qe=o.event;o.event=ze,Ce[0]=this.__data__;try{le.apply(this,Ce)}finally{o.event=Qe}}}function Vt(le,Ce){var ze=Rt(le,Ce);return function(Qe){var tt=this,ot=Qe.relatedTarget;(!ot||ot!==tt&&!(ot.compareDocumentPosition(tt)&8))&&ze.call(tt,Qe)}}var Je,Ve=0;function Ie(le){var Ce=".dragsuppress-"+ ++Ve,ze="click"+Ce,Qe=o.select(r(le)).on("touchmove"+Ce,ie).on("dragstart"+Ce,ie).on("selectstart"+Ce,ie);if(Je==null&&(Je="onselectstart"in le?!1:_(le.style,"userSelect")),Je){var tt=p(le).style,ot=tt[Je];tt[Je]="none"}return function(Et){if(Qe.on(Ce,null),Je&&(tt[Je]=ot),Et){var bt=function(){Qe.on(ze,null)};Qe.on(ze,function(){ie(),bt()},!0),setTimeout(bt,0)}}}o.mouse=function(le){return Le(le,ue())};var Oe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Le(le,Ce){Ce.changedTouches&&(Ce=Ce.changedTouches[0]);var ze=le.ownerSVGElement||le;if(ze.createSVGPoint){var Qe=ze.createSVGPoint();if(Oe<0){var tt=r(le);if(tt.scrollX||tt.scrollY){ze=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ot=ze[0][0].getScreenCTM();Oe=!(ot.f||ot.e),ze.remove()}}return Oe?(Qe.x=Ce.pageX,Qe.y=Ce.pageY):(Qe.x=Ce.clientX,Qe.y=Ce.clientY),Qe=Qe.matrixTransform(le.getScreenCTM().inverse()),[Qe.x,Qe.y]}var Et=le.getBoundingClientRect();return[Ce.clientX-Et.left-le.clientLeft,Ce.clientY-Et.top-le.clientTop]}o.touch=function(le,Ce,ze){if(arguments.length<3&&(ze=Ce,Ce=ue().changedTouches),Ce){for(var Qe=0,tt=Ce.length,ot;Qe<tt;++Qe)if((ot=Ce[Qe]).identifier===ze)return Le(le,ot)}},o.behavior.drag=function(){var le=J(tt,"drag","dragstart","dragend"),Ce=null,ze=ot(W,o.mouse,r,"mousemove","mouseup"),Qe=ot(xe,o.touch,z,"touchmove","touchend");function tt(){this.on("mousedown.drag",ze).on("touchstart.drag",Qe)}function ot(Et,bt,Ht,Gt,tr){return function(){var Cr=this,Pr=o.event.target.correspondingElement||o.event.target,Jr=Cr.parentNode,nn=le.of(Cr,arguments),Dr=0,Br=Et(),jr=".drag"+(Br==null?"":"-"+Br),ln,cn=o.select(Ht(Pr)).on(Gt+jr,aa).on(tr+jr,ha),$r=Ie(Pr),Nn=bt(Jr,Br);Ce?(ln=Ce.apply(Cr,arguments),ln=[ln.x-Nn[0],ln.y-Nn[1]]):ln=[0,0],nn({type:"dragstart"});function aa(){var ra=bt(Jr,Br),la,va;ra&&(la=ra[0]-Nn[0],va=ra[1]-Nn[1],Dr|=la|va,Nn=ra,nn({type:"drag",x:ra[0]+ln[0],y:ra[1]+ln[1],dx:la,dy:va}))}function ha(){bt(Jr,Br)&&(cn.on(Gt+jr,null).on(tr+jr,null),$r(Dr),nn({type:"dragend"}))}}}return tt.origin=function(Et){return arguments.length?(Ce=Et,tt):Ce},o.rebind(tt,le,"on")};function xe(){return o.event.changedTouches[0].identifier}o.touches=function(le,Ce){return arguments.length<2&&(Ce=ue().touches),Ce?M(Ce).map(function(ze){var Qe=Le(le,ze);return Qe.identifier=ze.identifier,Qe}):[]};var pe=1e-6,Ae=pe*pe,Te=Math.PI,Ne=2*Te,Ye=Ne-pe,et=Te/2,ft=Te/180,pt=180/Te;function Yt(le,Ce,ze){return(Ce[0]-le[0])*(ze[1]-le[1])-(Ce[1]-le[1])*(ze[0]-le[0])}function Jt(le){return le>1?et:le<-1?-et:Math.asin(le)}function Tt(le){return((le=Math.exp(le))-1/le)/2}function _t(le){return((le=Math.exp(le))+1/le)/2}function $t(le){return((le=Math.exp(2*le))-1)/(le+1)}var wr=Math.SQRT2,yt=2,jt=4;o.interpolateZoom=function(le,Ce){var ze=le[0],Qe=le[1],tt=le[2],ot=Ce[0],Et=Ce[1],bt=Ce[2],Ht=ot-ze,Gt=Et-Qe,tr=Ht*Ht+Gt*Gt,Cr,Pr;if(tr<Ae)Pr=Math.log(bt/tt)/wr,Cr=function(ln){return[ze+ln*Ht,Qe+ln*Gt,tt*Math.exp(wr*ln*Pr)]};else{var Jr=Math.sqrt(tr),nn=(bt*bt-tt*tt+jt*tr)/(2*tt*yt*Jr),Dr=(bt*bt-tt*tt-jt*tr)/(2*bt*yt*Jr),Br=Math.log(Math.sqrt(nn*nn+1)-nn),jr=Math.log(Math.sqrt(Dr*Dr+1)-Dr);Pr=(jr-Br)/wr,Cr=function(ln){var cn=ln*Pr,$r=_t(Br),Nn=tt/(yt*Jr)*($r*$t(wr*cn+Br)-Tt(Br));return[ze+Nn*Ht,Qe+Nn*Gt,tt*$r/_t(wr*cn+Br)]}}return Cr.duration=Pr*1e3,Cr},o.behavior.zoom=function(){var le={x:0,y:0,k:1},Ce,ze,Qe,tt=[960,500],ot=Qt,Et=250,bt=0,Ht="mousedown.zoom",Gt="mousemove.zoom",tr="mouseup.zoom",Cr,Pr="touchstart.zoom",Jr,nn=J(cn,"zoomstart","zoom","zoomend"),Dr,Br,jr,ln;sr||(sr="onwheel"in v?(gr=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(gr=function(){return o.event.wheelDelta},"mousewheel"):(gr=function(){return-o.event.detail},"MozMousePixelScroll"));function cn(qn){qn.on(Ht,Fa).on(sr+".zoom",zi).on("dblclick.zoom",ui).on(Pr,ni)}cn.event=function(qn){qn.each(function(){var Ua=nn.of(this,arguments),Ma=le;Ir?o.select(this).transition().each("start.zoom",function(){le=this.__chart__||{x:0,y:0,k:1},va(Ua)}).tween("zoom:zoom",function(){var Xa=tt[0],bi=tt[1],ai=ze?ze[0]:Xa/2,$i=ze?ze[1]:bi/2,qi=o.interpolateZoom([(ai-le.x)/le.k,($i-le.y)/le.k,Xa/le.k],[(ai-Ma.x)/Ma.k,($i-Ma.y)/Ma.k,Xa/Ma.k]);return function(ao){var wi=qi(ao),go=Xa/wi[2];this.__chart__=le={x:ai-wi[0]*go,y:$i-wi[1]*go,k:go},Ba(Ua)}}).each("interrupt.zoom",function(){Ea(Ua)}).each("end.zoom",function(){Ea(Ua)}):(this.__chart__=le,va(Ua),Ba(Ua),Ea(Ua))})},cn.translate=function(qn){return arguments.length?(le={x:+qn[0],y:+qn[1],k:le.k},la(),cn):[le.x,le.y]},cn.scale=function(qn){return arguments.length?(le={x:le.x,y:le.y,k:null},aa(+qn),la(),cn):le.k},cn.scaleExtent=function(qn){return arguments.length?(ot=qn==null?Qt:[+qn[0],+qn[1]],cn):ot},cn.center=function(qn){return arguments.length?(Qe=qn&&[+qn[0],+qn[1]],cn):Qe},cn.size=function(qn){return arguments.length?(tt=qn&&[+qn[0],+qn[1]],cn):tt},cn.duration=function(qn){return arguments.length?(Et=+qn,cn):Et},cn.x=function(qn){return arguments.length?(Br=qn,Dr=qn.copy(),le={x:0,y:0,k:1},cn):Br},cn.y=function(qn){return arguments.length?(ln=qn,jr=qn.copy(),le={x:0,y:0,k:1},cn):ln};function $r(qn){return[(qn[0]-le.x)/le.k,(qn[1]-le.y)/le.k]}function Nn(qn){return[qn[0]*le.k+le.x,qn[1]*le.k+le.y]}function aa(qn){le.k=Math.max(ot[0],Math.min(ot[1],qn))}function ha(qn,Ua){Ua=Nn(Ua),le.x+=qn[0]-Ua[0],le.y+=qn[1]-Ua[1]}function ra(qn,Ua,Ma,Xa){qn.__chart__={x:le.x,y:le.y,k:le.k},aa(Math.pow(2,Xa)),ha(ze=Ua,Ma),qn=o.select(qn),Et>0&&(qn=qn.transition().duration(Et)),qn.call(cn.event)}function la(){Br&&Br.domain(Dr.range().map(function(qn){return(qn-le.x)/le.k}).map(Dr.invert)),ln&&ln.domain(jr.range().map(function(qn){return(qn-le.y)/le.k}).map(jr.invert))}function va(qn){bt++||qn({type:"zoomstart"})}function Ba(qn){la(),qn({type:"zoom",scale:le.k,translate:[le.x,le.y]})}function Ea(qn){--bt||(qn({type:"zoomend"}),ze=null)}function Fa(){var qn=this,Ua=nn.of(qn,arguments),Ma=0,Xa=o.select(r(qn)).on(Gt,$i).on(tr,qi),bi=$r(o.mouse(qn)),ai=Ie(qn);Ot.call(qn),va(Ua);function $i(){Ma=1,ha(o.mouse(qn),bi),Ba(Ua)}function qi(){Xa.on(Gt,null).on(tr,null),ai(Ma),Ea(Ua)}}function ni(){var qn=this,Ua=nn.of(qn,arguments),Ma={},Xa=0,bi,ai=".zoom-"+o.event.changedTouches[0].identifier,$i="touchmove"+ai,qi="touchend"+ai,ao=[],wi=o.select(qn),go=Ie(qn);La(),va(Ua),wi.on(Ht,null).on(Pr,La);function fa(){var io=o.touches(qn);return bi=le.k,io.forEach(function(fi){fi.identifier in Ma&&(Ma[fi.identifier]=$r(fi))}),io}function La(){var io=o.event.target;o.select(io).on($i,Io).on(qi,Bo),ao.push(io);for(var fi=o.event.changedTouches,Wi=0,Bi=fi.length;Wi<Bi;++Wi)Ma[fi[Wi].identifier]=null;var ps=fa(),Is=Date.now();if(ps.length===1){if(Is-Jr<500){var Ci=ps[0];ra(qn,Ci,Ma[Ci.identifier],Math.floor(Math.log(le.k)/Math.LN2)+1),ie()}Jr=Is}else if(ps.length>1){var Ci=ps[0],Wl=ps[1],Ka=Ci[0]-Wl[0],Li=Ci[1]-Wl[1];Xa=Ka*Ka+Li*Li}}function Io(){var io=o.touches(qn),fi,Wi,Bi,ps;Ot.call(qn);for(var Is=0,Ci=io.length;Is<Ci;++Is,ps=null)if(Bi=io[Is],ps=Ma[Bi.identifier]){if(Wi)break;fi=Bi,Wi=ps}if(ps){var Wl=(Wl=Bi[0]-fi[0])*Wl+(Wl=Bi[1]-fi[1])*Wl,Ka=Xa&&Math.sqrt(Wl/Xa);fi=[(fi[0]+Bi[0])/2,(fi[1]+Bi[1])/2],Wi=[(Wi[0]+ps[0])/2,(Wi[1]+ps[1])/2],aa(Ka*bi)}Jr=null,ha(fi,Wi),Ba(Ua)}function Bo(){if(o.event.touches.length){for(var io=o.event.changedTouches,fi=0,Wi=io.length;fi<Wi;++fi)delete Ma[io[fi].identifier];for(var Bi in Ma)return void fa()}o.selectAll(ao).on(ai,null),wi.on(Ht,Fa).on(Pr,ni),go(),Ea(Ua)}}function zi(){var qn=nn.of(this,arguments);Cr?clearTimeout(Cr):(Ot.call(this),Ce=$r(ze=Qe||o.mouse(this)),va(qn)),Cr=setTimeout(function(){Cr=null,Ea(qn)},50),ie(),aa(Math.pow(2,gr()*.002)*le.k),ha(ze,Ce),Ba(qn)}function ui(){var qn=o.mouse(this),Ua=Math.log(le.k)/Math.LN2;ra(this,qn,$r(qn),o.event.shiftKey?Math.ceil(Ua)-1:Math.floor(Ua)+1)}return o.rebind(cn,nn,"on")};var Qt=[0,1/0],gr,sr;o.color=vt;function vt(){}vt.prototype.toString=function(){return this.rgb()+""},o.hsl=at;function at(le,Ce,ze){return this instanceof at?(this.h=+le,this.s=+Ce,void(this.l=+ze)):arguments.length<2?le instanceof at?new at(le.h,le.s,le.l):pr(""+le,cr,at):new at(le,Ce,ze)}var xt=at.prototype=new vt;xt.brighter=function(le){return le=Math.pow(.7,arguments.length?le:1),new at(this.h,this.s,this.l/le)},xt.darker=function(le){return le=Math.pow(.7,arguments.length?le:1),new at(this.h,this.s,le*this.l)},xt.rgb=function(){return Mt(this.h,this.s,this.l)};function Mt(le,Ce,ze){var Qe,tt;le=isNaN(le)?0:(le%=360)<0?le+360:le,Ce=isNaN(Ce)||Ce<0?0:Ce>1?1:Ce,ze=ze<0?0:ze>1?1:ze,tt=ze<=.5?ze*(1+Ce):ze+Ce-ze*Ce,Qe=2*ze-tt;function ot(bt){return bt>360?bt-=360:bt<0&&(bt+=360),bt<60?Qe+(tt-Qe)*bt/60:bt<180?tt:bt<240?Qe+(tt-Qe)*(240-bt)/60:Qe}function Et(bt){return Math.round(ot(bt)*255)}return new ur(Et(le+120),Et(le),Et(le-120))}o.hcl=Dt;function Dt(le,Ce,ze){return this instanceof Dt?(this.h=+le,this.c=+Ce,void(this.l=+ze)):arguments.length<2?le instanceof Dt?new Dt(le.h,le.c,le.l):le instanceof Nt?kt(le.l,le.a,le.b):kt((le=Ur((le=o.rgb(le)).r,le.g,le.b)).l,le.a,le.b):new Dt(le,Ce,ze)}var Lt=Dt.prototype=new vt;Lt.brighter=function(le){return new Dt(this.h,this.c,Math.min(100,this.l+Xt*(arguments.length?le:1)))},Lt.darker=function(le){return new Dt(this.h,this.c,Math.max(0,this.l-Xt*(arguments.length?le:1)))},Lt.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(le,Ce,ze){return isNaN(le)&&(le=0),isNaN(Ce)&&(Ce=0),new Nt(ze,Math.cos(le*=ft)*Ce,Math.sin(le)*Ce)}o.lab=Nt;function Nt(le,Ce,ze){return this instanceof Nt?(this.l=+le,this.a=+Ce,void(this.b=+ze)):arguments.length<2?le instanceof Nt?new Nt(le.l,le.a,le.b):le instanceof Dt?Bt(le.h,le.c,le.l):Ur((le=ur(le)).r,le.g,le.b):new Nt(le,Ce,ze)}var Xt=18,lr=.95047,fr=1,hr=1.08883,We=Nt.prototype=new vt;We.brighter=function(le){return new Nt(Math.min(100,this.l+Xt*(arguments.length?le:1)),this.a,this.b)},We.darker=function(le){return new Nt(Math.max(0,this.l-Xt*(arguments.length?le:1)),this.a,this.b)},We.rgb=function(){return Ge(this.l,this.a,this.b)};function Ge(le,Ce,ze){var Qe=(le+16)/116,tt=Qe+Ce/500,ot=Qe-ze/200;return tt=It(tt)*lr,Qe=It(Qe)*fr,ot=It(ot)*hr,new ur(rr(3.2404542*tt-1.5371385*Qe-.4985314*ot),rr(-.969266*tt+1.8760108*Qe+.041556*ot),rr(.0556434*tt-.2040259*Qe+1.0572252*ot))}function kt(le,Ce,ze){return le>0?new Dt(Math.atan2(ze,Ce)*pt,Math.sqrt(Ce*Ce+ze*ze),le):new Dt(NaN,NaN,le)}function It(le){return le>.206893034?le*le*le:(le-.13793103448275862)/7.787037}function Zt(le){return le>.008856?Math.pow(le,.3333333333333333):7.787037*le+.13793103448275862}function rr(le){return Math.round(255*(le<=.00304?12.92*le:1.055*Math.pow(le,.4166666666666667)-.055))}o.rgb=ur;function ur(le,Ce,ze){return this instanceof ur?(this.r=~~le,this.g=~~Ce,void(this.b=~~ze)):arguments.length<2?le instanceof ur?new ur(le.r,le.g,le.b):pr(""+le,ur,Mt):new ur(le,Ce,ze)}function er(le){return new ur(le>>16,le>>8&255,le&255)}function zt(le){return er(le)+""}var vr=ur.prototype=new vt;vr.brighter=function(le){le=Math.pow(.7,arguments.length?le:1);var Ce=this.r,ze=this.g,Qe=this.b,tt=30;return!Ce&&!ze&&!Qe?new ur(tt,tt,tt):(Ce&&Ce<tt&&(Ce=tt),ze&&ze<tt&&(ze=tt),Qe&&Qe<tt&&(Qe=tt),new ur(Math.min(255,Ce/le),Math.min(255,ze/le),Math.min(255,Qe/le)))},vr.darker=function(le){return le=Math.pow(.7,arguments.length?le:1),new ur(le*this.r,le*this.g,le*this.b)},vr.hsl=function(){return cr(this.r,this.g,this.b)},vr.toString=function(){return"#"+yr(this.r)+yr(this.g)+yr(this.b)};function yr(le){return le<16?"0"+Math.max(0,le).toString(16):Math.min(255,le).toString(16)}function pr(le,Ce,ze){var Qe=0,tt=0,ot=0,Et,bt,Ht;if(Et=/([a-z]+)\((.*)\)/.exec(le=le.toLowerCase()),Et)switch(bt=Et[2].split(","),Et[1]){case"hsl":return ze(parseFloat(bt[0]),parseFloat(bt[1])/100,parseFloat(bt[2])/100);case"rgb":return Ce(Rr(bt[0]),Rr(bt[1]),Rr(bt[2]))}return(Ht=vn.get(le))?Ce(Ht.r,Ht.g,Ht.b):(le!=null&&le.charAt(0)==="#"&&!isNaN(Ht=parseInt(le.slice(1),16))&&(le.length===4?(Qe=(Ht&3840)>>4,Qe=Qe>>4|Qe,tt=Ht&240,tt=tt>>4|tt,ot=Ht&15,ot=ot<<4|ot):le.length===7&&(Qe=(Ht&16711680)>>16,tt=(Ht&65280)>>8,ot=Ht&255)),Ce(Qe,tt,ot))}function cr(le,Ce,ze){var Qe=Math.min(le/=255,Ce/=255,ze/=255),tt=Math.max(le,Ce,ze),ot=tt-Qe,Et,bt,Ht=(tt+Qe)/2;return ot?(bt=Ht<.5?ot/(tt+Qe):ot/(2-tt-Qe),le==tt?Et=(Ce-ze)/ot+(Ce<ze?6:0):Ce==tt?Et=(ze-le)/ot+2:Et=(le-Ce)/ot+4,Et*=60):(Et=NaN,bt=Ht>0&&Ht<1?0:Et),new at(Et,bt,Ht)}function Ur(le,Ce,ze){le=kr(le),Ce=kr(Ce),ze=kr(ze);var Qe=Zt((.4124564*le+.3575761*Ce+.1804375*ze)/lr),tt=Zt((.2126729*le+.7151522*Ce+.072175*ze)/fr),ot=Zt((.0193339*le+.119192*Ce+.9503041*ze)/hr);return Nt(116*tt-16,500*(Qe-tt),200*(tt-ot))}function kr(le){return(le/=255)<=.04045?le/12.92:Math.pow((le+.055)/1.055,2.4)}function Rr(le){var Ce=parseFloat(le);return le.charAt(le.length-1)==="%"?Math.round(Ce*2.55):Ce}var vn=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});vn.forEach(function(le,Ce){vn.set(le,er(Ce))});function tn(le){return typeof le=="function"?le:function(){return le}}o.functor=tn,o.xhr=Bn(z);function Bn(le){return function(Ce,ze,Qe){return arguments.length===2&&typeof ze=="function"&&(Qe=ze,ze=null),xn(Ce,ze,le,Qe)}}function xn(le,Ce,ze,Qe){var tt={},ot=o.dispatch("beforesend","progress","load","error"),Et={},bt=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in bt)&&/^(http(s)?:)?\/\//.test(le)&&(bt=new XDomainRequest),"onload"in bt?bt.onload=bt.onerror=Gt:bt.onreadystatechange=function(){bt.readyState>3&&Gt()};function Gt(){var tr=bt.status,Cr;if(!tr&&Er(bt)||tr>=200&&tr<300||tr===304){try{Cr=ze.call(tt,bt)}catch(Pr){ot.error.call(tt,Pr);return}ot.load.call(tt,Cr)}else ot.error.call(tt,bt)}return bt.onprogress=function(tr){var Cr=o.event;o.event=tr;try{ot.progress.call(tt,bt)}finally{o.event=Cr}},tt.header=function(tr,Cr){return tr=(tr+"").toLowerCase(),arguments.length<2?Et[tr]:(Cr==null?delete Et[tr]:Et[tr]=Cr+"",tt)},tt.mimeType=function(tr){return arguments.length?(Ce=tr==null?null:tr+"",tt):Ce},tt.responseType=function(tr){return arguments.length?(Ht=tr,tt):Ht},tt.response=function(tr){return ze=tr,tt},["get","post"].forEach(function(tr){tt[tr]=function(){return tt.send.apply(tt,[tr].concat(M(arguments)))}}),tt.send=function(tr,Cr,Pr){if(arguments.length===2&&typeof Cr=="function"&&(Pr=Cr,Cr=null),bt.open(tr,le,!0),Ce!=null&&!("accept"in Et)&&(Et.accept=Ce+",*/*"),bt.setRequestHeader)for(var Jr in Et)bt.setRequestHeader(Jr,Et[Jr]);return Ce!=null&&bt.overrideMimeType&&bt.overrideMimeType(Ce),Ht!=null&&(bt.responseType=Ht),Pr!=null&&tt.on("error",Pr).on("load",function(nn){Pr(null,nn)}),ot.beforesend.call(tt,bt),bt.send(Cr??null),tt},tt.abort=function(){return bt.abort(),tt},o.rebind(tt,ot,"on"),Qe==null?tt:tt.get(Mr(Qe))}function Mr(le){return le.length===1?function(Ce,ze){le(Ce==null?ze:null)}:le}function Er(le){var Ce=le.responseType;return Ce&&Ce!=="text"?le.response:le.responseText}o.dsv=function(le,Ce){var ze=new RegExp('["'+le+`
]`),Qe=le.charCodeAt(0);function tt(Gt,tr,Cr){arguments.length<3&&(Cr=tr,tr=null);var Pr=xn(Gt,Ce,tr==null?ot:Et(tr),Cr);return Pr.row=function(Jr){return arguments.length?Pr.response((tr=Jr)==null?ot:Et(Jr)):tr},Pr}function ot(Gt){return tt.parse(Gt.responseText)}function Et(Gt){return function(tr){return tt.parse(tr.responseText,Gt)}}tt.parse=function(Gt,tr){var Cr;return tt.parseRows(Gt,function(Pr,Jr){if(Cr)return Cr(Pr,Jr-1);var nn=function(Dr){for(var Br={},jr=Pr.length,ln=0;ln<jr;++ln)Br[Pr[ln]]=Dr[ln];return Br};Cr=tr?function(Dr,Br){return tr(nn(Dr),Br)}:nn})},tt.parseRows=function(Gt,tr){var Cr={},Pr={},Jr=[],nn=Gt.length,Dr=0,Br=0,jr,ln;function cn(){if(Dr>=nn)return Pr;if(ln)return ln=!1,Cr;var Nn=Dr;if(Gt.charCodeAt(Nn)===34){for(var aa=Nn;aa++<nn;)if(Gt.charCodeAt(aa)===34){if(Gt.charCodeAt(aa+1)!==34)break;++aa}Dr=aa+2;var ha=Gt.charCodeAt(aa+1);return ha===13?(ln=!0,Gt.charCodeAt(aa+2)===10&&++Dr):ha===10&&(ln=!0),Gt.slice(Nn+1,aa).replace(/""/g,'"')}for(;Dr<nn;){var ha=Gt.charCodeAt(Dr++),ra=1;if(ha===10)ln=!0;else if(ha===13)ln=!0,Gt.charCodeAt(Dr)===10&&(++Dr,++ra);else if(ha!==Qe)continue;return Gt.slice(Nn,Dr-ra)}return Gt.slice(Nn)}for(;(jr=cn())!==Pr;){for(var $r=[];jr!==Cr&&jr!==Pr;)$r.push(jr),jr=cn();tr&&($r=tr($r,Br++))==null||Jr.push($r)}return Jr},tt.format=function(Gt){if(Array.isArray(Gt[0]))return tt.formatRows(Gt);var tr=new F,Cr=[];return Gt.forEach(function(Pr){for(var Jr in Pr)tr.has(Jr)||Cr.push(tr.add(Jr))}),[Cr.map(Ht).join(le)].concat(Gt.map(function(Pr){return Cr.map(function(Jr){return Ht(Pr[Jr])}).join(le)})).join(`
`)},tt.formatRows=function(Gt){return Gt.map(bt).join(`
`)};function bt(Gt){return Gt.map(Ht).join(le)}function Ht(Gt){return ze.test(Gt)?'"'+Gt.replace(/\"/g,'""')+'"':Gt}return tt},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("	","text/tab-separated-values");var Wr,Hr,an,dn,gn=this[_(this,"requestAnimationFrame")]||function(le){setTimeout(le,17)};o.timer=function(){Cn.apply(this,arguments)};function Cn(le,Ce,ze){var Qe=arguments.length;Qe<2&&(Ce=0),Qe<3&&(ze=Date.now());var tt=ze+Ce,ot={c:le,t:tt,n:null};return Hr?Hr.n=ot:Wr=ot,Hr=ot,an||(dn=clearTimeout(dn),an=1,gn(_n)),ot}function _n(){var le=sa(),Ce=Qn()-le;Ce>24?(isFinite(Ce)&&(clearTimeout(dn),dn=setTimeout(_n,Ce)),an=0):(an=1,gn(_n))}o.timer.flush=function(){sa(),Qn()};function sa(){for(var le=Date.now(),Ce=Wr;Ce;)le>=Ce.t&&Ce.c(le-Ce.t)&&(Ce.c=null),Ce=Ce.n;return le}function Qn(){for(var le,Ce=Wr,ze=1/0;Ce;)Ce.c?(Ce.t<ze&&(ze=Ce.t),Ce=(le=Ce).n):Ce=le?le.n=Ce.n:Wr=Ce.n;return Hr=le,ze}o.round=function(le,Ce){return Ce?Math.round(le*(Ce=Math.pow(10,Ce)))/Ce:Math.round(le)},o.geom={};function ea(le){return le[0]}function Zn(le){return le[1]}o.geom.hull=function(le){var Ce=ea,ze=Zn;if(arguments.length)return Qe(le);function Qe(tt){if(tt.length<3)return[];var ot=tn(Ce),Et=tn(ze),bt,Ht=tt.length,Gt=[],tr=[];for(bt=0;bt<Ht;bt++)Gt.push([+ot.call(this,tt[bt],bt),+Et.call(this,tt[bt],bt),bt]);for(Gt.sort(Tr),bt=0;bt<Ht;bt++)tr.push([Gt[bt][0],-Gt[bt][1]]);var Cr=$n(Gt),Pr=$n(tr),Jr=Pr[0]===Cr[0],nn=Pr[Pr.length-1]===Cr[Cr.length-1],Dr=[];for(bt=Cr.length-1;bt>=0;--bt)Dr.push(tt[Gt[Cr[bt]][2]]);for(bt=+Jr;bt<Pr.length-nn;++bt)Dr.push(tt[Gt[Pr[bt]][2]]);return Dr}return Qe.x=function(tt){return arguments.length?(Ce=tt,Qe):Ce},Qe.y=function(tt){return arguments.length?(ze=tt,Qe):ze},Qe};function $n(le){for(var Ce=le.length,ze=[0,1],Qe=2,tt=2;tt<Ce;tt++){for(;Qe>1&&Yt(le[ze[Qe-2]],le[ze[Qe-1]],le[tt])<=0;)--Qe;ze[Qe++]=tt}return ze.slice(0,Qe)}function Tr(le,Ce){return le[0]-Ce[0]||le[1]-Ce[1]}o.geom.polygon=function(le){return ae(le,on),le};var on=o.geom.polygon.prototype=[];on.area=function(){for(var le=-1,Ce=this.length,ze,Qe=this[Ce-1],tt=0;++le<Ce;)ze=Qe,Qe=this[le],tt+=ze[1]*Qe[0]-ze[0]*Qe[1];return tt*.5},on.centroid=function(le){var Ce=-1,ze=this.length,Qe=0,tt=0,ot,Et=this[ze-1],bt;for(arguments.length||(le=-1/(6*this.area()));++Ce<ze;)ot=Et,Et=this[Ce],bt=ot[0]*Et[1]-Et[0]*ot[1],Qe+=(ot[0]+Et[0])*bt,tt+=(ot[1]+Et[1])*bt;return[Qe*le,tt*le]},on.clip=function(le){for(var Ce,ze=Wn(le),Qe=-1,tt=this.length-Wn(this),ot,Et,bt=this[tt-1],Ht,Gt,tr;++Qe<tt;){for(Ce=le.slice(),le.length=0,Ht=this[Qe],Gt=Ce[(Et=Ce.length-ze)-1],ot=-1;++ot<Et;)tr=Ce[ot],rn(tr,bt,Ht)?(rn(Gt,bt,Ht)||le.push(pn(Gt,tr,bt,Ht)),le.push(tr)):rn(Gt,bt,Ht)&&le.push(pn(Gt,tr,bt,Ht)),Gt=tr;ze&&le.push(le[0]),bt=Ht}return le};function rn(le,Ce,ze){return(ze[0]-Ce[0])*(le[1]-Ce[1])<(ze[1]-Ce[1])*(le[0]-Ce[0])}function pn(le,Ce,ze,Qe){var tt=le[0],ot=ze[0],Et=Ce[0]-tt,bt=Qe[0]-ot,Ht=le[1],Gt=ze[1],tr=Ce[1]-Ht,Cr=Qe[1]-Gt,Pr=(bt*(Ht-Gt)-Cr*(tt-ot))/(Cr*Et-bt*tr);return[tt+Pr*Et,Ht+Pr*tr]}function Wn(le){var Ce=le[0],ze=le[le.length-1];return!(Ce[0]-ze[0]||Ce[1]-ze[1])}var An,Sn,Hn,ta=[],wa,Ga,Sr=[];function Nr(){_o(this),this.edge=this.site=this.circle=null}function br(le){var Ce=ta.pop()||new Nr;return Ce.site=le,Ce}function _r(le){Fn(le),Hn.remove(le),ta.push(le),_o(le)}function wn(le){var Ce=le.circle,ze=Ce.x,Qe=Ce.cy,tt={x:ze,y:Qe},ot=le.P,Et=le.N,bt=[le];_r(le);for(var Ht=ot;Ht.circle&&d(ze-Ht.circle.x)<pe&&d(Qe-Ht.circle.cy)<pe;)ot=Ht.P,bt.unshift(Ht),_r(Ht),Ht=ot;bt.unshift(Ht),Fn(Ht);for(var Gt=Et;Gt.circle&&d(ze-Gt.circle.x)<pe&&d(Qe-Gt.circle.cy)<pe;)Et=Gt.N,bt.push(Gt),_r(Gt),Gt=Et;bt.push(Gt),Fn(Gt);var tr=bt.length,Cr;for(Cr=1;Cr<tr;++Cr)Gt=bt[Cr],Ht=bt[Cr-1],Pa(Gt.edge,Ht.site,Gt.site,tt);Ht=bt[0],Gt=bt[tr-1],Gt.edge=ua(Ht.site,Gt.site,null,tt),Tn(Ht),Tn(Gt)}function Rn(le){for(var Ce=le.x,ze=le.y,Qe,tt,ot,Et,bt=Hn._;bt;)if(ot=yn(bt,ze)-Ce,ot>pe)bt=bt.L;else if(Et=Ce-hn(bt,ze),Et>pe){if(!bt.R){Qe=bt;break}bt=bt.R}else{ot>-pe?(Qe=bt.P,tt=bt):Et>-pe?(Qe=bt,tt=bt.N):Qe=tt=bt;break}var Ht=br(le);if(Hn.insert(Qe,Ht),!(!Qe&&!tt)){if(Qe===tt){Fn(Qe),tt=br(Qe.site),Hn.insert(Ht,tt),Ht.edge=tt.edge=ua(Qe.site,Ht.site),Tn(Qe),Tn(tt);return}if(!tt){Ht.edge=ua(Qe.site,Ht.site);return}Fn(Qe),Fn(tt);var Gt=Qe.site,tr=Gt.x,Cr=Gt.y,Pr=le.x-tr,Jr=le.y-Cr,nn=tt.site,Dr=nn.x-tr,Br=nn.y-Cr,jr=2*(Pr*Br-Jr*Dr),ln=Pr*Pr+Jr*Jr,cn=Dr*Dr+Br*Br,$r={x:(Br*ln-Jr*cn)/jr+tr,y:(Pr*cn-Dr*ln)/jr+Cr};Pa(tt.edge,Gt,nn,$r),Ht.edge=ua(Gt,le,null,$r),tt.edge=ua(le,nn,null,$r),Tn(Qe),Tn(tt)}}function yn(le,Ce){var ze=le.site,Qe=ze.x,tt=ze.y,ot=tt-Ce;if(!ot)return Qe;var Et=le.P;if(!Et)return-1/0;ze=Et.site;var bt=ze.x,Ht=ze.y,Gt=Ht-Ce;if(!Gt)return bt;var tr=bt-Qe,Cr=1/ot-1/Gt,Pr=tr/Gt;return Cr?(-Pr+Math.sqrt(Pr*Pr-2*Cr*(tr*tr/(-2*Gt)-Ht+Gt/2+tt-ot/2)))/Cr+Qe:(Qe+bt)/2}function hn(le,Ce){var ze=le.N;if(ze)return yn(ze,Ce);var Qe=le.site;return Qe.y===Ce?Qe.x:1/0}function Lr(le){this.site=le,this.edges=[]}Lr.prototype.prepare=function(){for(var le=this.edges,Ce=le.length,ze;Ce--;)ze=le[Ce].edge,(!ze.b||!ze.a)&&le.splice(Ce,1);return le.sort(Gr),le.length};function Xr(le){for(var Ce=le[0][0],ze=le[1][0],Qe=le[0][1],tt=le[1][1],ot,Et,bt,Ht,Gt=Sn,tr=Gt.length,Cr,Pr,Jr,nn,Dr,Br;tr--;)if(Cr=Gt[tr],!(!Cr||!Cr.prepare()))for(Jr=Cr.edges,nn=Jr.length,Pr=0;Pr<nn;)Br=Jr[Pr].end(),bt=Br.x,Ht=Br.y,Dr=Jr[++Pr%nn].start(),ot=Dr.x,Et=Dr.y,(d(bt-ot)>pe||d(Ht-Et)>pe)&&(Jr.splice(Pr,0,new pi(ga(Cr.site,Br,d(bt-Ce)<pe&&tt-Ht>pe?{x:Ce,y:d(ot-Ce)<pe?Et:tt}:d(Ht-tt)<pe&&ze-bt>pe?{x:d(Et-tt)<pe?ot:ze,y:tt}:d(bt-ze)<pe&&Ht-Qe>pe?{x:ze,y:d(ot-ze)<pe?Et:Qe}:d(Ht-Qe)<pe&&bt-Ce>pe?{x:d(Et-Qe)<pe?ot:Ce,y:Qe}:null),Cr.site,null)),++nn)}function Gr(le,Ce){return Ce.angle-le.angle}function Qr(){_o(this),this.x=this.y=this.arc=this.site=this.cy=null}function Tn(le){var Ce=le.P,ze=le.N;if(!(!Ce||!ze)){var Qe=Ce.site,tt=le.site,ot=ze.site;if(Qe!==ot){var Et=tt.x,bt=tt.y,Ht=Qe.x-Et,Gt=Qe.y-bt,tr=ot.x-Et,Br=ot.y-bt,Cr=2*(Ht*Br-Gt*tr);if(!(Cr>=-Ae)){var Pr=Ht*Ht+Gt*Gt,Jr=tr*tr+Br*Br,nn=(Br*Pr-Gt*Jr)/Cr,Dr=(Ht*Jr-tr*Pr)/Cr,Br=Dr+bt,jr=Sr.pop()||new Qr;jr.arc=le,jr.site=tt,jr.x=nn+Et,jr.y=Br+Math.sqrt(nn*nn+Dr*Dr),jr.cy=Br,le.circle=jr;for(var ln=null,cn=Ga._;cn;)if(jr.y<cn.y||jr.y===cn.y&&jr.x<=cn.x)if(cn.L)cn=cn.L;else{ln=cn.P;break}else if(cn.R)cn=cn.R;else{ln=cn;break}Ga.insert(ln,jr),ln||(wa=jr)}}}}function Fn(le){var Ce=le.circle;Ce&&(Ce.P||(wa=Ce.N),Ga.remove(Ce),Sr.push(Ce),_o(Ce),le.circle=null)}function In(le,Ce,ze,Qe){return function(tt){var ot=tt.a,Et=tt.b,bt=ot.x,Ht=ot.y,Gt=Et.x,tr=Et.y,Cr=0,Pr=1,Jr=Gt-bt,nn=tr-Ht,Dr;if(Dr=le-bt,!(!Jr&&Dr>0)){if(Dr/=Jr,Jr<0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}else if(Jr>0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}if(Dr=ze-bt,!(!Jr&&Dr<0)){if(Dr/=Jr,Jr<0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}else if(Jr>0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}if(Dr=Ce-Ht,!(!nn&&Dr>0)){if(Dr/=nn,nn<0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}else if(nn>0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}if(Dr=Qe-Ht,!(!nn&&Dr<0)){if(Dr/=nn,nn<0){if(Dr>Pr)return;Dr>Cr&&(Cr=Dr)}else if(nn>0){if(Dr<Cr)return;Dr<Pr&&(Pr=Dr)}return Cr>0&&(tt.a={x:bt+Cr*Jr,y:Ht+Cr*nn}),Pr<1&&(tt.b={x:bt+Pr*Jr,y:Ht+Pr*nn}),tt}}}}}}function Un(le){for(var Ce=An,ze=In(le[0][0],le[0][1],le[1][0],le[1][1]),Qe=Ce.length,tt;Qe--;)tt=Ce[Qe],(!On(tt,le)||!ze(tt)||d(tt.a.x-tt.b.x)<pe&&d(tt.a.y-tt.b.y)<pe)&&(tt.a=tt.b=null,Ce.splice(Qe,1))}function On(le,Ce){var ze=le.b;if(ze)return!0;var Qe=le.a,tt=Ce[0][0],ot=Ce[1][0],Et=Ce[0][1],bt=Ce[1][1],Ht=le.l,Gt=le.r,tr=Ht.x,Cr=Ht.y,Pr=Gt.x,Jr=Gt.y,nn=(tr+Pr)/2,Dr=(Cr+Jr)/2,Br,jr;if(Jr===Cr){if(nn<tt||nn>=ot)return;if(tr>Pr){if(!Qe)Qe={x:nn,y:Et};else if(Qe.y>=bt)return;ze={x:nn,y:bt}}else{if(!Qe)Qe={x:nn,y:bt};else if(Qe.y<Et)return;ze={x:nn,y:Et}}}else if(Br=(tr-Pr)/(Jr-Cr),jr=Dr-Br*nn,Br<-1||Br>1)if(tr>Pr){if(!Qe)Qe={x:(Et-jr)/Br,y:Et};else if(Qe.y>=bt)return;ze={x:(bt-jr)/Br,y:bt}}else{if(!Qe)Qe={x:(bt-jr)/Br,y:bt};else if(Qe.y<Et)return;ze={x:(Et-jr)/Br,y:Et}}else if(Cr<Jr){if(!Qe)Qe={x:tt,y:Br*tt+jr};else if(Qe.x>=ot)return;ze={x:ot,y:Br*ot+jr}}else{if(!Qe)Qe={x:ot,y:Br*ot+jr};else if(Qe.x<tt)return;ze={x:tt,y:Br*tt+jr}}return le.a=Qe,le.b=ze,!0}function ya(le,Ce){this.l=le,this.r=Ce,this.a=this.b=null}function ua(le,Ce,ze,Qe){var tt=new ya(le,Ce);return An.push(tt),ze&&Pa(tt,le,Ce,ze),Qe&&Pa(tt,Ce,le,Qe),Sn[le.i].edges.push(new pi(tt,le,Ce)),Sn[Ce.i].edges.push(new pi(tt,Ce,le)),tt}function ga(le,Ce,ze){var Qe=new ya(le,null);return Qe.a=Ce,Qe.b=ze,An.push(Qe),Qe}function Pa(le,Ce,ze,Qe){!le.a&&!le.b?(le.a=Qe,le.l=Ce,le.r=ze):le.l===ze?le.b=Qe:le.a=Qe}function pi(le,Ce,ze){var Qe=le.a,tt=le.b;this.edge=le,this.site=Ce,this.angle=ze?Math.atan2(ze.y-Ce.y,ze.x-Ce.x):le.l===Ce?Math.atan2(tt.x-Qe.x,Qe.y-tt.y):Math.atan2(Qe.x-tt.x,tt.y-Qe.y)}pi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ri(){this._=null}function _o(le){le.U=le.C=le.L=le.R=le.P=le.N=null}ri.prototype={insert:function(le,Ce){var ze,Qe,tt;if(le){if(Ce.P=le,Ce.N=le.N,le.N&&(le.N.P=Ce),le.N=Ce,le.R){for(le=le.R;le.L;)le=le.L;le.L=Ce}else le.R=Ce;ze=le}else this._?(le=Sl(this._),Ce.P=null,Ce.N=le,le.P=le.L=Ce,ze=le):(Ce.P=Ce.N=null,this._=Ce,ze=null);for(Ce.L=Ce.R=null,Ce.U=ze,Ce.C=!0,le=Ce;ze&&ze.C;)Qe=ze.U,ze===Qe.L?(tt=Qe.R,tt&&tt.C?(ze.C=tt.C=!1,Qe.C=!0,le=Qe):(le===ze.R&&(Lo(this,ze),le=ze,ze=le.U),ze.C=!1,Qe.C=!0,to(this,Qe))):(tt=Qe.L,tt&&tt.C?(ze.C=tt.C=!1,Qe.C=!0,le=Qe):(le===ze.L&&(to(this,ze),le=ze,ze=le.U),ze.C=!1,Qe.C=!0,Lo(this,Qe))),ze=le.U;this._.C=!1},remove:function(le){le.N&&(le.N.P=le.P),le.P&&(le.P.N=le.N),le.N=le.P=null;var Ce=le.U,ze,Qe=le.L,tt=le.R,ot,Et;if(Qe?tt?ot=Sl(tt):ot=Qe:ot=tt,Ce?Ce.L===le?Ce.L=ot:Ce.R=ot:this._=ot,Qe&&tt?(Et=ot.C,ot.C=le.C,ot.L=Qe,Qe.U=ot,ot!==tt?(Ce=ot.U,ot.U=le.U,le=ot.R,Ce.L=le,ot.R=tt,tt.U=ot):(ot.U=Ce,Ce=ot,le=ot.R)):(Et=le.C,le=ot),le&&(le.U=Ce),!Et){if(le&&le.C){le.C=!1;return}do{if(le===this._)break;if(le===Ce.L){if(ze=Ce.R,ze.C&&(ze.C=!1,Ce.C=!0,Lo(this,Ce),ze=Ce.R),ze.L&&ze.L.C||ze.R&&ze.R.C){(!ze.R||!ze.R.C)&&(ze.L.C=!1,ze.C=!0,to(this,ze),ze=Ce.R),ze.C=Ce.C,Ce.C=ze.R.C=!1,Lo(this,Ce),le=this._;break}}else if(ze=Ce.L,ze.C&&(ze.C=!1,Ce.C=!0,to(this,Ce),ze=Ce.L),ze.L&&ze.L.C||ze.R&&ze.R.C){(!ze.L||!ze.L.C)&&(ze.R.C=!1,ze.C=!0,Lo(this,ze),ze=Ce.L),ze.C=Ce.C,Ce.C=ze.L.C=!1,to(this,Ce),le=this._;break}ze.C=!0,le=Ce,Ce=Ce.U}while(!le.C);le&&(le.C=!1)}}};function Lo(le,Ce){var ze=Ce,Qe=Ce.R,tt=ze.U;tt?tt.L===ze?tt.L=Qe:tt.R=Qe:le._=Qe,Qe.U=tt,ze.U=Qe,ze.R=Qe.L,ze.R&&(ze.R.U=ze),Qe.L=ze}function to(le,Ce){var ze=Ce,Qe=Ce.L,tt=ze.U;tt?tt.L===ze?tt.L=Qe:tt.R=Qe:le._=Qe,Qe.U=tt,ze.U=Qe,ze.L=Qe.R,ze.L&&(ze.L.U=ze),Qe.R=ze}function Sl(le){for(;le.L;)le=le.L;return le}function ff(le,Ce){var ze=le.sort(jf).pop(),Qe,tt,ot;for(An=[],Sn=new Array(le.length),Hn=new ri,Ga=new ri;;)if(ot=wa,ze&&(!ot||ze.y<ot.y||ze.y===ot.y&&ze.x<ot.x))(ze.x!==Qe||ze.y!==tt)&&(Sn[ze.i]=new Lr(ze),Rn(ze),Qe=ze.x,tt=ze.y),ze=le.pop();else if(ot)wn(ot.arc);else break;Ce&&(Un(Ce),Xr(Ce));var Et={cells:Sn,edges:An};return Hn=Ga=An=Sn=null,Et}function jf(le,Ce){return Ce.y-le.y||Ce.x-le.x}o.geom.voronoi=function(le){var Ce=ea,ze=Zn,Qe=Ce,tt=ze,ot=qa;if(le)return Et(le);function Et(Ht){var Gt=new Array(Ht.length),tr=ot[0][0],Cr=ot[0][1],Pr=ot[1][0],Jr=ot[1][1];return ff(bt(Ht),ot).cells.forEach(function(nn,Dr){var Br=nn.edges,jr=nn.site,ln=Gt[Dr]=Br.length?Br.map(function(cn){var $r=cn.start();return[$r.x,$r.y]}):jr.x>=tr&&jr.x<=Pr&&jr.y>=Cr&&jr.y<=Jr?[[tr,Jr],[Pr,Jr],[Pr,Cr],[tr,Cr]]:[];ln.point=Ht[Dr]}),Gt}function bt(Ht){return Ht.map(function(Gt,tr){return{x:Math.round(Qe(Gt,tr)/pe)*pe,y:Math.round(tt(Gt,tr)/pe)*pe,i:tr}})}return Et.links=function(Ht){return ff(bt(Ht)).edges.filter(function(Gt){return Gt.l&&Gt.r}).map(function(Gt){return{source:Ht[Gt.l.i],target:Ht[Gt.r.i]}})},Et.triangles=function(Ht){var Gt=[];return ff(bt(Ht)).cells.forEach(function(tr,Cr){for(var Pr=tr.site,Jr=tr.edges.sort(Gr),nn=-1,Dr=Jr.length,Br,jr=Jr[Dr-1].edge,ln=jr.l===Pr?jr.r:jr.l;++nn<Dr;)Br=ln,jr=Jr[nn].edge,ln=jr.l===Pr?jr.r:jr.l,Cr<Br.i&&Cr<ln.i&&ru(Pr,Br,ln)<0&&Gt.push([Ht[Cr],Ht[Br.i],Ht[ln.i]])}),Gt},Et.x=function(Ht){return arguments.length?(Qe=tn(Ce=Ht),Et):Ce},Et.y=function(Ht){return arguments.length?(tt=tn(ze=Ht),Et):ze},Et.clipExtent=function(Ht){return arguments.length?(ot=Ht??qa,Et):ot===qa?null:ot},Et.size=function(Ht){return arguments.length?Et.clipExtent(Ht&&[[0,0],Ht]):ot===qa?null:ot&&ot[1]},Et};var qa=[[-1e6,-1e6],[1e6,1e6]];function ru(le,Ce,ze){return(le.x-ze.x)*(Ce.y-le.y)-(le.x-Ce.x)*(ze.y-le.y)}o.geom.delaunay=function(le){return o.geom.voronoi().triangles(le)},o.geom.quadtree=function(le,Ce,ze,Qe,tt){var ot=ea,Et=Zn,bt;if(bt=arguments.length)return ot=cf,Et=Ki,bt===3&&(tt=ze,Qe=Ce,ze=Ce=0),Ht(le);function Ht(Gt){var tr,Cr=tn(ot),Pr=tn(Et),Jr,nn,Dr,Br,jr,ln,cn,$r;if(Ce!=null)jr=Ce,ln=ze,cn=Qe,$r=tt;else if(cn=$r=-(jr=ln=1/0),Jr=[],nn=[],Br=Gt.length,bt)for(Dr=0;Dr<Br;++Dr)tr=Gt[Dr],tr.x<jr&&(jr=tr.x),tr.y<ln&&(ln=tr.y),tr.x>cn&&(cn=tr.x),tr.y>$r&&($r=tr.y),Jr.push(tr.x),nn.push(tr.y);else for(Dr=0;Dr<Br;++Dr){var Nn=+Cr(tr=Gt[Dr],Dr),aa=+Pr(tr,Dr);Nn<jr&&(jr=Nn),aa<ln&&(ln=aa),Nn>cn&&(cn=Nn),aa>$r&&($r=aa),Jr.push(Nn),nn.push(aa)}var ha=cn-jr,ra=$r-ln;ha>ra?$r=ln+ha:cn=jr+ra;function la(Ea,Fa,ni,zi,ui,qn,Ua,Ma){if(!(isNaN(ni)||isNaN(zi)))if(Ea.leaf){var Xa=Ea.x,bi=Ea.y;if(Xa!=null)if(d(Xa-ni)+d(bi-zi)<.01)va(Ea,Fa,ni,zi,ui,qn,Ua,Ma);else{var ai=Ea.point;Ea.x=Ea.y=Ea.point=null,va(Ea,ai,Xa,bi,ui,qn,Ua,Ma),va(Ea,Fa,ni,zi,ui,qn,Ua,Ma)}else Ea.x=ni,Ea.y=zi,Ea.point=Fa}else va(Ea,Fa,ni,zi,ui,qn,Ua,Ma)}function va(Ea,Fa,ni,zi,ui,qn,Ua,Ma){var Xa=(ui+Ua)*.5,bi=(qn+Ma)*.5,ai=ni>=Xa,$i=zi>=bi,qi=$i<<1|ai;Ea.leaf=!1,Ea=Ea.nodes[qi]||(Ea.nodes[qi]=bo()),ai?ui=Xa:Ua=Xa,$i?qn=bi:Ma=bi,la(Ea,Fa,ni,zi,ui,qn,Ua,Ma)}var Ba=bo();if(Ba.add=function(Ea){la(Ba,Ea,+Cr(Ea,++Dr),+Pr(Ea,Dr),jr,ln,cn,$r)},Ba.visit=function(Ea){El(Ea,Ba,jr,ln,cn,$r)},Ba.find=function(Ea){return zu(Ba,Ea[0],Ea[1],jr,ln,cn,$r)},Dr=-1,Ce==null){for(;++Dr<Br;)la(Ba,Gt[Dr],Jr[Dr],nn[Dr],jr,ln,cn,$r);--Dr}else Gt.forEach(Ba.add);return Jr=nn=Gt=tr=null,Ba}return Ht.x=function(Gt){return arguments.length?(ot=Gt,Ht):ot},Ht.y=function(Gt){return arguments.length?(Et=Gt,Ht):Et},Ht.extent=function(Gt){return arguments.length?(Gt==null?Ce=ze=Qe=tt=null:(Ce=+Gt[0][0],ze=+Gt[0][1],Qe=+Gt[1][0],tt=+Gt[1][1]),Ht):Ce==null?null:[[Ce,ze],[Qe,tt]]},Ht.size=function(Gt){return arguments.length?(Gt==null?Ce=ze=Qe=tt=null:(Ce=ze=0,Qe=+Gt[0],tt=+Gt[1]),Ht):Ce==null?null:[Qe-Ce,tt-ze]},Ht};function cf(le){return le.x}function Ki(le){return le.y}function bo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function El(le,Ce,ze,Qe,tt,ot){if(!le(Ce,ze,Qe,tt,ot)){var Et=(ze+tt)*.5,bt=(Qe+ot)*.5,Ht=Ce.nodes;Ht[0]&&El(le,Ht[0],ze,Qe,Et,bt),Ht[1]&&El(le,Ht[1],Et,Qe,tt,bt),Ht[2]&&El(le,Ht[2],ze,bt,Et,ot),Ht[3]&&El(le,Ht[3],Et,bt,tt,ot)}}function zu(le,Ce,ze,Qe,tt,ot,Et){var bt=1/0,Ht;return function Gt(tr,Cr,Pr,Jr,nn){if(!(Cr>ot||Pr>Et||Jr<Qe||nn<tt)){if(Dr=tr.point){var Dr,Br=Ce-tr.x,jr=ze-tr.y,ln=Br*Br+jr*jr;if(ln<bt){var cn=Math.sqrt(bt=ln);Qe=Ce-cn,tt=ze-cn,ot=Ce+cn,Et=ze+cn,Ht=Dr}}for(var $r=tr.nodes,Nn=(Cr+Jr)*.5,aa=(Pr+nn)*.5,ha=Ce>=Nn,ra=ze>=aa,la=ra<<1|ha,va=la+4;la<va;++la)if(tr=$r[la&3])switch(la&3){case 0:Gt(tr,Cr,Pr,Nn,aa);break;case 1:Gt(tr,Nn,Pr,Jr,aa);break;case 2:Gt(tr,Cr,aa,Nn,nn);break;case 3:Gt(tr,Nn,aa,Jr,nn);break}}}(le,Qe,tt,ot,Et),Ht}o.interpolateRgb=Ii;function Ii(le,Ce){le=o.rgb(le),Ce=o.rgb(Ce);var ze=le.r,Qe=le.g,tt=le.b,ot=Ce.r-ze,Et=Ce.g-Qe,bt=Ce.b-tt;return function(Ht){return"#"+yr(Math.round(ze+ot*Ht))+yr(Math.round(Qe+Et*Ht))+yr(Math.round(tt+bt*Ht))}}o.interpolateObject=Cl;function Cl(le,Ce){var ze={},Qe={},tt;for(tt in le)tt in Ce?ze[tt]=no(le[tt],Ce[tt]):Qe[tt]=le[tt];for(tt in Ce)tt in le||(Qe[tt]=Ce[tt]);return function(ot){for(tt in ze)Qe[tt]=ze[tt](ot);return Qe}}o.interpolateNumber=_i;function _i(le,Ce){return le=+le,Ce=+Ce,function(ze){return le*(1-ze)+Ce*ze}}o.interpolateString=Vi;function Vi(le,Ce){var ze=Ll.lastIndex=ro.lastIndex=0,Qe,tt,ot,Et=-1,bt=[],Ht=[];for(le=le+"",Ce=Ce+"";(Qe=Ll.exec(le))&&(tt=ro.exec(Ce));)(ot=tt.index)>ze&&(ot=Ce.slice(ze,ot),bt[Et]?bt[Et]+=ot:bt[++Et]=ot),(Qe=Qe[0])===(tt=tt[0])?bt[Et]?bt[Et]+=tt:bt[++Et]=tt:(bt[++Et]=null,Ht.push({i:Et,x:_i(Qe,tt)})),ze=ro.lastIndex;return ze<Ce.length&&(ot=Ce.slice(ze),bt[Et]?bt[Et]+=ot:bt[++Et]=ot),bt.length<2?Ht[0]?(Ce=Ht[0].x,function(Gt){return Ce(Gt)+""}):function(){return Ce}:(Ce=Ht.length,function(Gt){for(var tr=0,Cr;tr<Ce;++tr)bt[(Cr=Ht[tr]).i]=Cr.x(Gt);return bt.join("")})}var Ll=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ro=new RegExp(Ll.source,"g");o.interpolate=no;function no(le,Ce){for(var ze=o.interpolators.length,Qe;--ze>=0&&!(Qe=o.interpolators[ze](le,Ce)););return Qe}o.interpolators=[function(le,Ce){var ze=typeof Ce;return(ze==="string"?vn.has(Ce.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Ce)?Ii:Vi:Ce instanceof vt?Ii:Array.isArray(Ce)?zo:ze==="object"&&isNaN(Ce)?Cl:_i)(le,Ce)}],o.interpolateArray=zo;function zo(le,Ce){var ze=[],Qe=[],tt=le.length,ot=Ce.length,Et=Math.min(le.length,Ce.length),bt;for(bt=0;bt<Et;++bt)ze.push(no(le[bt],Ce[bt]));for(;bt<tt;++bt)Qe[bt]=le[bt];for(;bt<ot;++bt)Qe[bt]=Ce[bt];return function(Ht){for(bt=0;bt<Et;++bt)Qe[bt]=ze[bt](Ht);return Qe}}var Xf=function(){return z},Po=o.map({linear:Xf,poly:Kf,quad:function(){return Ns},cubic:function(){return hs},sin:function(){return th},exp:function(){return Ou},circle:function(){return rh},elastic:nh,back:ah,bounce:function(){return df}}),eh=o.map({in:z,out:Ji,"in-out":hf,"out-in":function(le){return hf(Ji(le))}});o.ease=function(le){var Ce=le.indexOf("-"),ze=Ce>=0?le.slice(0,Ce):le,Qe=Ce>=0?le.slice(Ce+1):"in";return ze=Po.get(ze)||Xf,Qe=eh.get(Qe)||z,cs(Qe(ze.apply(null,L.call(arguments,1))))};function cs(le){return function(Ce){return Ce<=0?0:Ce>=1?1:le(Ce)}}function Ji(le){return function(Ce){return 1-le(1-Ce)}}function hf(le){return function(Ce){return .5*(Ce<.5?le(2*Ce):2-le(2-2*Ce))}}function Ns(le){return le*le}function hs(le){return le*le*le}function vf(le){if(le<=0)return 0;if(le>=1)return 1;var Ce=le*le,ze=Ce*le;return 4*(le<.5?ze:3*(le-Ce)+ze-.75)}function Kf(le){return function(Ce){return Math.pow(Ce,le)}}function th(le){return 1-Math.cos(le*et)}function Ou(le){return Math.pow(2,10*(le-1))}function rh(le){return 1-Math.sqrt(1-le*le)}function nh(le,Ce){var ze;return arguments.length<2&&(Ce=.45),arguments.length?ze=Ce/Ne*Math.asin(1/le):(le=1,ze=Ce/4),function(Qe){return 1+le*Math.pow(2,-10*Qe)*Math.sin((Qe-ze)*Ne/Ce)}}function ah(le){return le||(le=1.70158),function(Ce){return Ce*Ce*((le+1)*Ce-le)}}function df(le){return le<.36363636363636365?7.5625*le*le:le<.7272727272727273?7.5625*(le-=.5454545454545454)*le+.75:le<.9090909090909091?7.5625*(le-=.8181818181818182)*le+.9375:7.5625*(le-=.9545454545454546)*le+.984375}o.interpolateHcl=ih;function ih(le,Ce){le=o.hcl(le),Ce=o.hcl(Ce);var ze=le.h,Qe=le.c,tt=le.l,ot=Ce.h-ze,Et=Ce.c-Qe,bt=Ce.l-tt;return isNaN(Et)&&(Et=0,Qe=isNaN(Qe)?Ce.c:Qe),isNaN(ot)?(ot=0,ze=isNaN(ze)?Ce.h:ze):ot>180?ot-=360:ot<-180&&(ot+=360),function(Ht){return Bt(ze+ot*Ht,Qe+Et*Ht,tt+bt*Ht)+""}}o.interpolateHsl=oh;function oh(le,Ce){le=o.hsl(le),Ce=o.hsl(Ce);var ze=le.h,Qe=le.s,tt=le.l,ot=Ce.h-ze,Et=Ce.s-Qe,bt=Ce.l-tt;return isNaN(Et)&&(Et=0,Qe=isNaN(Qe)?Ce.s:Qe),isNaN(ot)?(ot=0,ze=isNaN(ze)?Ce.h:ze):ot>180?ot-=360:ot<-180&&(ot+=360),function(Ht){return Mt(ze+ot*Ht,Qe+Et*Ht,tt+bt*Ht)+""}}o.interpolateLab=Jf;function Jf(le,Ce){le=o.lab(le),Ce=o.lab(Ce);var ze=le.l,Qe=le.a,tt=le.b,ot=Ce.l-ze,Et=Ce.a-Qe,bt=Ce.b-tt;return function(Ht){return Ge(ze+ot*Ht,Qe+Et*Ht,tt+bt*Ht)+""}}o.interpolateRound=Qf;function Qf(le,Ce){return Ce-=le,function(ze){return Math.round(le+Ce*ze)}}o.transform=function(le){var Ce=v.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(ze){if(ze!=null){Ce.setAttribute("transform",ze);var Qe=Ce.transform.baseVal.consolidate()}return new il(Qe?Qe.matrix:$f)})(le)};function il(le){var Ce=[le.a,le.b],ze=[le.c,le.d],Qe=nu(Ce),tt=Pl(Ce,ze),ot=nu(au(ze,Ce,-tt))||0;Ce[0]*ze[1]<ze[0]*Ce[1]&&(Ce[0]*=-1,Ce[1]*=-1,Qe*=-1,tt*=-1),this.rotate=(Qe?Math.atan2(Ce[1],Ce[0]):Math.atan2(-ze[0],ze[1]))*pt,this.translate=[le.e,le.f],this.scale=[Qe,ot],this.skew=ot?Math.atan2(tt,ot)*pt:0}il.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Pl(le,Ce){return le[0]*Ce[0]+le[1]*Ce[1]}function nu(le){var Ce=Math.sqrt(Pl(le,le));return Ce&&(le[0]/=Ce,le[1]/=Ce),Ce}function au(le,Ce,ze){return le[0]+=ze*Ce[0],le[1]+=ze*Ce[1],le}var $f={a:1,b:0,c:0,d:1,e:0,f:0};o.interpolateTransform=Nu;function Ss(le){return le.length?le.pop()+",":""}function sh(le,Ce,ze,Qe){if(le[0]!==Ce[0]||le[1]!==Ce[1]){var tt=ze.push("translate(",null,",",null,")");Qe.push({i:tt-4,x:_i(le[0],Ce[0])},{i:tt-2,x:_i(le[1],Ce[1])})}else(Ce[0]||Ce[1])&&ze.push("translate("+Ce+")")}function Bu(le,Ce,ze,Qe){le!==Ce?(le-Ce>180?Ce+=360:Ce-le>180&&(le+=360),Qe.push({i:ze.push(Ss(ze)+"rotate(",null,")")-2,x:_i(le,Ce)})):Ce&&ze.push(Ss(ze)+"rotate("+Ce+")")}function qf(le,Ce,ze,Qe){le!==Ce?Qe.push({i:ze.push(Ss(ze)+"skewX(",null,")")-2,x:_i(le,Ce)}):Ce&&ze.push(Ss(ze)+"skewX("+Ce+")")}function ec(le,Ce,ze,Qe){if(le[0]!==Ce[0]||le[1]!==Ce[1]){var tt=ze.push(Ss(ze)+"scale(",null,",",null,")");Qe.push({i:tt-4,x:_i(le[0],Ce[0])},{i:tt-2,x:_i(le[1],Ce[1])})}else(Ce[0]!==1||Ce[1]!==1)&&ze.push(Ss(ze)+"scale("+Ce+")")}function Nu(le,Ce){var ze=[],Qe=[];return le=o.transform(le),Ce=o.transform(Ce),sh(le.translate,Ce.translate,ze,Qe),Bu(le.rotate,Ce.rotate,ze,Qe),qf(le.skew,Ce.skew,ze,Qe),ec(le.scale,Ce.scale,ze,Qe),le=Ce=null,function(tt){for(var ot=-1,Et=Qe.length,bt;++ot<Et;)ze[(bt=Qe[ot]).i]=bt.x(tt);return ze.join("")}}function Xo(le,Ce){return Ce=(Ce-=le=+le)||1/Ce,function(ze){return(ze-le)/Ce}}function Rl(le,Ce){return Ce=(Ce-=le=+le)||1/Ce,function(ze){return Math.max(0,Math.min(1,(ze-le)/Ce))}}o.layout={},o.layout.bundle=function(){return function(le){for(var Ce=[],ze=-1,Qe=le.length;++ze<Qe;)Ce.push(ol(le[ze]));return Ce}};function ol(le){for(var Ce=le.source,ze=le.target,Qe=Us(Ce,ze),tt=[Ce];Ce!==Qe;)Ce=Ce.parent,tt.push(Ce);for(var ot=tt.length;ze!==Qe;)tt.splice(ot,0,ze),ze=ze.parent;return tt}function iu(le){for(var Ce=[],ze=le.parent;ze!=null;)Ce.push(le),le=ze,ze=ze.parent;return Ce.push(le),Ce}function Us(le,Ce){if(le===Ce)return le;for(var ze=iu(le),Qe=iu(Ce),tt=ze.pop(),ot=Qe.pop(),Et=null;tt===ot;)Et=tt,tt=ze.pop(),ot=Qe.pop();return Et}o.layout.chord=function(){var le={},Ce,ze,Qe,tt,ot=0,Et,bt,Ht;function Gt(){var Cr={},Pr=[],Jr=o.range(tt),nn=[],Dr,Br,jr,ln,cn;for(Ce=[],ze=[],Dr=0,ln=-1;++ln<tt;){for(Br=0,cn=-1;++cn<tt;)Br+=Qe[ln][cn];Pr.push(Br),nn.push(o.range(tt)),Dr+=Br}for(Et&&Jr.sort(function(Ba,Ea){return Et(Pr[Ba],Pr[Ea])}),bt&&nn.forEach(function(Ba,Ea){Ba.sort(function(Fa,ni){return bt(Qe[Ea][Fa],Qe[Ea][ni])})}),Dr=(Ne-ot*tt)/Dr,Br=0,ln=-1;++ln<tt;){for(jr=Br,cn=-1;++cn<tt;){var $r=Jr[ln],Nn=nn[$r][cn],aa=Qe[$r][Nn],ha=Br,ra=Br+=aa*Dr;Cr[$r+"-"+Nn]={index:$r,subindex:Nn,startAngle:ha,endAngle:ra,value:aa}}ze[$r]={index:$r,startAngle:jr,endAngle:Br,value:Pr[$r]},Br+=ot}for(ln=-1;++ln<tt;)for(cn=ln-1;++cn<tt;){var la=Cr[ln+"-"+cn],va=Cr[cn+"-"+ln];(la.value||va.value)&&Ce.push(la.value<va.value?{source:va,target:la}:{source:la,target:va})}Ht&&tr()}function tr(){Ce.sort(function(Cr,Pr){return Ht((Cr.source.value+Cr.target.value)/2,(Pr.source.value+Pr.target.value)/2)})}return le.matrix=function(Cr){return arguments.length?(tt=(Qe=Cr)&&Qe.length,Ce=ze=null,le):Qe},le.padding=function(Cr){return arguments.length?(ot=Cr,Ce=ze=null,le):ot},le.sortGroups=function(Cr){return arguments.length?(Et=Cr,Ce=ze=null,le):Et},le.sortSubgroups=function(Cr){return arguments.length?(bt=Cr,Ce=null,le):bt},le.sortChords=function(Cr){return arguments.length?(Ht=Cr,Ce&&tr(),le):Ht},le.chords=function(){return Ce||Gt(),Ce},le.groups=function(){return ze||Gt(),ze},le},o.layout.force=function(){var le={},Ce=o.dispatch("start","tick","end"),ze,Qe=[1,1],tt,ot,Et=.9,bt=gf,Ht=lh,Gt=-30,tr=Uu,Cr=.1,Pr=.64,Jr=[],nn=[],Dr,Br,jr;function ln($r){return function(Nn,aa,ha,ra){if(Nn.point!==$r){var la=Nn.cx-$r.x,va=Nn.cy-$r.y,Ba=ra-aa,Ea=la*la+va*va;if(Ba*Ba/Pr<Ea){if(Ea<tr){var Fa=Nn.charge/Ea;$r.px-=la*Fa,$r.py-=va*Fa}return!0}if(Nn.point&&Ea&&Ea<tr){var Fa=Nn.pointCharge/Ea;$r.px-=la*Fa,$r.py-=va*Fa}}return!Nn.charge}}le.tick=function(){if((ot*=.99)<.005)return ze=null,Ce.end({type:"end",alpha:ot=0}),!0;var $r=Jr.length,Nn=nn.length,aa,ha,ra,la,va,Ba,Ea,Fa,ni;for(ha=0;ha<Nn;++ha)ra=nn[ha],la=ra.source,va=ra.target,Fa=va.x-la.x,ni=va.y-la.y,(Ba=Fa*Fa+ni*ni)&&(Ba=ot*Br[ha]*((Ba=Math.sqrt(Ba))-Dr[ha])/Ba,Fa*=Ba,ni*=Ba,va.x-=Fa*(Ea=la.weight+va.weight?la.weight/(la.weight+va.weight):.5),va.y-=ni*Ea,la.x+=Fa*(Ea=1-Ea),la.y+=ni*Ea);if((Ea=ot*Cr)&&(Fa=Qe[0]/2,ni=Qe[1]/2,ha=-1,Ea))for(;++ha<$r;)ra=Jr[ha],ra.x+=(Fa-ra.x)*Ea,ra.y+=(ni-ra.y)*Ea;if(Gt)for(Pi(aa=o.geom.quadtree(Jr),ot,jr),ha=-1;++ha<$r;)(ra=Jr[ha]).fixed||aa.visit(ln(ra));for(ha=-1;++ha<$r;)ra=Jr[ha],ra.fixed?(ra.x=ra.px,ra.y=ra.py):(ra.x-=(ra.px-(ra.px=ra.x))*Et,ra.y-=(ra.py-(ra.py=ra.y))*Et);Ce.tick({type:"tick",alpha:ot})},le.nodes=function($r){return arguments.length?(Jr=$r,le):Jr},le.links=function($r){return arguments.length?(nn=$r,le):nn},le.size=function($r){return arguments.length?(Qe=$r,le):Qe},le.linkDistance=function($r){return arguments.length?(bt=typeof $r=="function"?$r:+$r,le):bt},le.distance=le.linkDistance,le.linkStrength=function($r){return arguments.length?(Ht=typeof $r=="function"?$r:+$r,le):Ht},le.friction=function($r){return arguments.length?(Et=+$r,le):Et},le.charge=function($r){return arguments.length?(Gt=typeof $r=="function"?$r:+$r,le):Gt},le.chargeDistance=function($r){return arguments.length?(tr=$r*$r,le):Math.sqrt(tr)},le.gravity=function($r){return arguments.length?(Cr=+$r,le):Cr},le.theta=function($r){return arguments.length?(Pr=$r*$r,le):Math.sqrt(Pr)},le.alpha=function($r){return arguments.length?($r=+$r,ot?$r>0?ot=$r:(ze.c=null,ze.t=NaN,ze=null,Ce.end({type:"end",alpha:ot=0})):$r>0&&(Ce.start({type:"start",alpha:ot=$r}),ze=Cn(le.tick)),le):ot},le.start=function(){var $r,Nn=Jr.length,aa=nn.length,ha=Qe[0],ra=Qe[1],la,va;for($r=0;$r<Nn;++$r)(va=Jr[$r]).index=$r,va.weight=0;for($r=0;$r<aa;++$r)va=nn[$r],typeof va.source=="number"&&(va.source=Jr[va.source]),typeof va.target=="number"&&(va.target=Jr[va.target]),++va.source.weight,++va.target.weight;for($r=0;$r<Nn;++$r)va=Jr[$r],isNaN(va.x)&&(va.x=Ba("x",ha)),isNaN(va.y)&&(va.y=Ba("y",ra)),isNaN(va.px)&&(va.px=va.x),isNaN(va.py)&&(va.py=va.y);if(Dr=[],typeof bt=="function")for($r=0;$r<aa;++$r)Dr[$r]=+bt.call(this,nn[$r],$r);else for($r=0;$r<aa;++$r)Dr[$r]=bt;if(Br=[],typeof Ht=="function")for($r=0;$r<aa;++$r)Br[$r]=+Ht.call(this,nn[$r],$r);else for($r=0;$r<aa;++$r)Br[$r]=Ht;if(jr=[],typeof Gt=="function")for($r=0;$r<Nn;++$r)jr[$r]=+Gt.call(this,Jr[$r],$r);else for($r=0;$r<Nn;++$r)jr[$r]=Gt;function Ba(Ea,Fa){if(!la){for(la=new Array(Nn),ui=0;ui<Nn;++ui)la[ui]=[];for(ui=0;ui<aa;++ui){var ni=nn[ui];la[ni.source.index].push(ni.target),la[ni.target.index].push(ni.source)}}for(var zi=la[$r],ui=-1,qn=zi.length,Ua;++ui<qn;)if(!isNaN(Ua=zi[ui][Ea]))return Ua;return Math.random()*Fa}return le.resume()},le.resume=function(){return le.alpha(.1)},le.stop=function(){return le.alpha(0)},le.drag=function(){if(tt||(tt=o.behavior.drag().origin(z).on("dragstart.force",vs).on("drag.force",cn).on("dragend.force",pf)),!arguments.length)return tt;this.on("mouseover.force",Dl).on("mouseout.force",Ko).call(tt)};function cn($r){$r.px=o.event.x,$r.py=o.event.y,le.resume()}return o.rebind(le,Ce,"on")};function vs(le){le.fixed|=2}function pf(le){le.fixed&=-7}function Dl(le){le.fixed|=4,le.px=le.x,le.py=le.y}function Ko(le){le.fixed&=-5}function Pi(le,Ce,ze){var Qe=0,tt=0;if(le.charge=0,!le.leaf)for(var ot=le.nodes,Et=ot.length,bt=-1,Ht;++bt<Et;)Ht=ot[bt],Ht!=null&&(Pi(Ht,Ce,ze),le.charge+=Ht.charge,Qe+=Ht.charge*Ht.cx,tt+=Ht.charge*Ht.cy);if(le.point){le.leaf||(le.point.x+=Math.random()-.5,le.point.y+=Math.random()-.5);var Gt=Ce*ze[le.point.index];le.charge+=le.pointCharge=Gt,Qe+=Gt*le.point.x,tt+=Gt*le.point.y}le.cx=Qe/le.charge,le.cy=tt/le.charge}var gf=20,lh=1,Uu=1/0;o.layout.hierarchy=function(){var le=Vu,Ce=Hu,ze=Fl;function Qe(tt){var ot=[tt],Et=[],bt;for(tt.depth=0;(bt=ot.pop())!=null;)if(Et.push(bt),(Gt=Ce.call(Qe,bt,bt.depth))&&(Ht=Gt.length)){for(var Ht,Gt,tr;--Ht>=0;)ot.push(tr=Gt[Ht]),tr.parent=bt,tr.depth=bt.depth+1;ze&&(bt.value=0),bt.children=Gt}else ze&&(bt.value=+ze.call(Qe,bt,bt.depth)||0),delete bt.children;return Ro(tt,function(Cr){var Pr,Jr;le&&(Pr=Cr.children)&&Pr.sort(le),ze&&(Jr=Cr.parent)&&(Jr.value+=Cr.value)}),Et}return Qe.sort=function(tt){return arguments.length?(le=tt,Qe):le},Qe.children=function(tt){return arguments.length?(Ce=tt,Qe):Ce},Qe.value=function(tt){return arguments.length?(ze=tt,Qe):ze},Qe.revalue=function(tt){return ze&&(kl(tt,function(ot){ot.children&&(ot.value=0)}),Ro(tt,function(ot){var Et;ot.children||(ot.value=+ze.call(Qe,ot,ot.depth)||0),(Et=ot.parent)&&(Et.value+=ot.value)})),tt},Qe};function Il(le,Ce){return o.rebind(le,Ce,"sort","children","value"),le.nodes=le,le.links=uh,le}function kl(le,Ce){for(var ze=[le];(le=ze.pop())!=null;)if(Ce(le),(tt=le.children)&&(Qe=tt.length))for(var Qe,tt;--Qe>=0;)ze.push(tt[Qe])}function Ro(le,Ce){for(var ze=[le],Qe=[];(le=ze.pop())!=null;)if(Qe.push(le),(Et=le.children)&&(ot=Et.length))for(var tt=-1,ot,Et;++tt<ot;)ze.push(Et[tt]);for(;(le=Qe.pop())!=null;)Ce(le)}function Hu(le){return le.children}function Fl(le){return le.value}function Vu(le,Ce){return Ce.value-le.value}function uh(le){return o.merge(le.map(function(Ce){return(Ce.children||[]).map(function(ze){return{source:Ce,target:ze}})}))}o.layout.partition=function(){var le=o.layout.hierarchy(),Ce=[1,1];function ze(ot,Et,bt,Ht){var Gt=ot.children;if(ot.x=Et,ot.y=ot.depth*Ht,ot.dx=bt,ot.dy=Ht,Gt&&(Cr=Gt.length)){var tr=-1,Cr,Pr,Jr;for(bt=ot.value?bt/ot.value:0;++tr<Cr;)ze(Pr=Gt[tr],Et,Jr=Pr.value*bt,Ht),Et+=Jr}}function Qe(ot){var Et=ot.children,bt=0;if(Et&&(Gt=Et.length))for(var Ht=-1,Gt;++Ht<Gt;)bt=Math.max(bt,Qe(Et[Ht]));return 1+bt}function tt(ot,Et){var bt=le.call(this,ot,Et);return ze(bt[0],0,Ce[0],Ce[1]/Qe(bt[0])),bt}return tt.size=function(ot){return arguments.length?(Ce=ot,tt):Ce},Il(tt,le)},o.layout.pie=function(){var le=Number,Ce=tc,ze=0,Qe=Ne,tt=0;function ot(Et){var bt=Et.length,Ht=Et.map(function(ln,cn){return+le.call(ot,ln,cn)}),Gt=+(typeof ze=="function"?ze.apply(this,arguments):ze),tr=(typeof Qe=="function"?Qe.apply(this,arguments):Qe)-Gt,Cr=Math.min(Math.abs(tr)/bt,+(typeof tt=="function"?tt.apply(this,arguments):tt)),Pr=Cr*(tr<0?-1:1),Jr=o.sum(Ht),nn=Jr?(tr-bt*Pr)/Jr:0,Dr=o.range(bt),Br=[],jr;return Ce!=null&&Dr.sort(Ce===tc?function(ln,cn){return Ht[cn]-Ht[ln]}:function(ln,cn){return Ce(Et[ln],Et[cn])}),Dr.forEach(function(ln){Br[ln]={data:Et[ln],value:jr=Ht[ln],startAngle:Gt,endAngle:Gt+=jr*nn+Pr,padAngle:Cr}}),Br}return ot.value=function(Et){return arguments.length?(le=Et,ot):le},ot.sort=function(Et){return arguments.length?(Ce=Et,ot):Ce},ot.startAngle=function(Et){return arguments.length?(ze=Et,ot):ze},ot.endAngle=function(Et){return arguments.length?(Qe=Et,ot):Qe},ot.padAngle=function(Et){return arguments.length?(tt=Et,ot):tt},ot};var tc={};o.layout.stack=function(){var le=z,Ce=ou,ze=Wu,Qe=xf,tt=yf,ot=mf;function Et(bt,Ht){if(!(nn=bt.length))return bt;var Gt=bt.map(function(ln,cn){return le.call(Et,ln,cn)}),tr=Gt.map(function(ln){return ln.map(function(cn,$r){return[tt.call(Et,cn,$r),ot.call(Et,cn,$r)]})}),Cr=Ce.call(Et,tr,Ht);Gt=o.permute(Gt,Cr),tr=o.permute(tr,Cr);var Pr=ze.call(Et,tr,Ht),Jr=Gt[0].length,nn,Dr,Br,jr;for(Br=0;Br<Jr;++Br)for(Qe.call(Et,Gt[0][Br],jr=Pr[Br],tr[0][Br][1]),Dr=1;Dr<nn;++Dr)Qe.call(Et,Gt[Dr][Br],jr+=tr[Dr-1][Br][1],tr[Dr][Br][1]);return bt}return Et.values=function(bt){return arguments.length?(le=bt,Et):le},Et.order=function(bt){return arguments.length?(Ce=typeof bt=="function"?bt:_l.get(bt)||ou,Et):Ce},Et.offset=function(bt){return arguments.length?(ze=typeof bt=="function"?bt:Gu.get(bt)||Wu,Et):ze},Et.x=function(bt){return arguments.length?(tt=bt,Et):tt},Et.y=function(bt){return arguments.length?(ot=bt,Et):ot},Et.out=function(bt){return arguments.length?(Qe=bt,Et):Qe},Et};function yf(le){return le.x}function mf(le){return le.y}function xf(le,Ce,ze){le.y0=Ce,le.y=ze}var _l=o.map({"inside-out":function(le){var Ce=le.length,ze,Qe,tt=le.map(gi),ot=le.map(rc),Et=o.range(Ce).sort(function(Cr,Pr){return tt[Cr]-tt[Pr]}),bt=0,Ht=0,Gt=[],tr=[];for(ze=0;ze<Ce;++ze)Qe=Et[ze],bt<Ht?(bt+=ot[Qe],Gt.push(Qe)):(Ht+=ot[Qe],tr.push(Qe));return tr.reverse().concat(Gt)},reverse:function(le){return o.range(le.length).reverse()},default:ou}),Gu=o.map({silhouette:function(le){var Ce=le.length,ze=le[0].length,Qe=[],tt=0,ot,Et,bt,Ht=[];for(Et=0;Et<ze;++Et){for(ot=0,bt=0;ot<Ce;ot++)bt+=le[ot][Et][1];bt>tt&&(tt=bt),Qe.push(bt)}for(Et=0;Et<ze;++Et)Ht[Et]=(tt-Qe[Et])/2;return Ht},wiggle:function(le){var Ce=le.length,ze=le[0],Qe=ze.length,tt,ot,Et,bt,Ht,Gt,tr,Cr,Pr,Jr=[];for(Jr[0]=Cr=Pr=0,ot=1;ot<Qe;++ot){for(tt=0,bt=0;tt<Ce;++tt)bt+=le[tt][ot][1];for(tt=0,Ht=0,tr=ze[ot][0]-ze[ot-1][0];tt<Ce;++tt){for(Et=0,Gt=(le[tt][ot][1]-le[tt][ot-1][1])/(2*tr);Et<tt;++Et)Gt+=(le[Et][ot][1]-le[Et][ot-1][1])/tr;Ht+=Gt*le[tt][ot][1]}Jr[ot]=Cr-=bt?Ht/bt*tr:0,Cr<Pr&&(Pr=Cr)}for(ot=0;ot<Qe;++ot)Jr[ot]-=Pr;return Jr},expand:function(le){var Ce=le.length,ze=le[0].length,Qe=1/Ce,tt,ot,Et,bt=[];for(ot=0;ot<ze;++ot){for(tt=0,Et=0;tt<Ce;tt++)Et+=le[tt][ot][1];if(Et)for(tt=0;tt<Ce;tt++)le[tt][ot][1]/=Et;else for(tt=0;tt<Ce;tt++)le[tt][ot][1]=Qe}for(ot=0;ot<ze;++ot)bt[ot]=0;return bt},zero:Wu});function ou(le){return o.range(le.length)}function Wu(le){for(var Ce=-1,ze=le[0].length,Qe=[];++Ce<ze;)Qe[Ce]=0;return Qe}function gi(le){for(var Ce=1,ze=0,Qe=le[0][1],tt,ot=le.length;Ce<ot;++Ce)(tt=le[Ce][1])>Qe&&(ze=Ce,Qe=tt);return ze}function rc(le){return le.reduce(Jo,0)}function Jo(le,Ce){return le+Ce[1]}o.layout.histogram=function(){var le=!0,Ce=Number,ze=sl,Qe=nc;function tt(ot,Pr){for(var bt=[],Ht=ot.map(Ce,this),Gt=ze.call(this,Ht,Pr),tr=Qe.call(this,Gt,Ht,Pr),Cr,Pr=-1,Jr=Ht.length,nn=tr.length-1,Dr=le?1:1/Jr,Br;++Pr<nn;)Cr=bt[Pr]=[],Cr.dx=tr[Pr+1]-(Cr.x=tr[Pr]),Cr.y=0;if(nn>0)for(Pr=-1;++Pr<Jr;)Br=Ht[Pr],Br>=Gt[0]&&Br<=Gt[1]&&(Cr=bt[o.bisect(tr,Br,1,nn)-1],Cr.y+=Dr,Cr.push(ot[Pr]));return bt}return tt.value=function(ot){return arguments.length?(Ce=ot,tt):Ce},tt.range=function(ot){return arguments.length?(ze=tn(ot),tt):ze},tt.bins=function(ot){return arguments.length?(Qe=typeof ot=="number"?function(Et){return bf(Et,ot)}:tn(ot),tt):Qe},tt.frequency=function(ot){return arguments.length?(le=!!ot,tt):le},tt};function nc(le,Ce){return bf(le,Math.ceil(Math.log(Ce.length)/Math.LN2+1))}function bf(le,Ce){for(var ze=-1,Qe=+le[0],tt=(le[1]-Qe)/Ce,ot=[];++ze<=Ce;)ot[ze]=tt*ze+Qe;return ot}function sl(le){return[o.min(le),o.max(le)]}o.layout.pack=function(){var le=o.layout.hierarchy().sort(Hs),Ce=0,ze=[1,1],Qe;function tt(ot,Et){var bt=le.call(this,ot,Et),Ht=bt[0],Gt=ze[0],tr=ze[1],Cr=Qe==null?Math.sqrt:typeof Qe=="function"?Qe:function(){return Qe};if(Ht.x=Ht.y=0,Ro(Ht,function(Jr){Jr.r=+Cr(Jr.value)}),Ro(Ht,Qo),Ce){var Pr=Ce*(Qe?1:Math.max(2*Ht.r/Gt,2*Ht.r/tr))/2;Ro(Ht,function(Jr){Jr.r+=Pr}),Ro(Ht,Qo),Ro(Ht,function(Jr){Jr.r-=Pr})}return Vs(Ht,Gt/2,tr/2,Qe?1:1/Math.max(2*Ht.r/Gt,2*Ht.r/tr)),bt}return tt.size=function(ot){return arguments.length?(ze=ot,tt):ze},tt.radius=function(ot){return arguments.length?(Qe=ot==null||typeof ot=="function"?ot:+ot,tt):Qe},tt.padding=function(ot){return arguments.length?(Ce=+ot,tt):Ce},Il(tt,le)};function Hs(le,Ce){return le.value-Ce.value}function Yu(le,Ce){var ze=le._pack_next;le._pack_next=Ce,Ce._pack_prev=le,Ce._pack_next=ze,ze._pack_prev=Ce}function ki(le,Ce){le._pack_next=Ce,Ce._pack_prev=le}function su(le,Ce){var ze=Ce.x-le.x,Qe=Ce.y-le.y,tt=le.r+Ce.r;return .999*tt*tt>ze*ze+Qe*Qe}function Qo(le){if(!(Ce=le.children)||!(Pr=Ce.length))return;var Ce,ze=1/0,Qe=-1/0,tt=1/0,ot=-1/0,Et,bt,Ht,Gt,tr,Cr,Pr;function Jr($r){ze=Math.min($r.x-$r.r,ze),Qe=Math.max($r.x+$r.r,Qe),tt=Math.min($r.y-$r.r,tt),ot=Math.max($r.y+$r.r,ot)}if(Ce.forEach(Es),Et=Ce[0],Et.x=-Et.r,Et.y=0,Jr(Et),Pr>1&&(bt=Ce[1],bt.x=bt.r,bt.y=0,Jr(bt),Pr>2))for(Ht=Ce[2],$o(Et,bt,Ht),Jr(Ht),Yu(Et,Ht),Et._pack_prev=Ht,Yu(Ht,bt),bt=Et._pack_next,Gt=3;Gt<Pr;Gt++){$o(Et,bt,Ht=Ce[Gt]);var nn=0,Dr=1,Br=1;for(tr=bt._pack_next;tr!==bt;tr=tr._pack_next,Dr++)if(su(tr,Ht)){nn=1;break}if(nn==1)for(Cr=Et._pack_prev;Cr!==tr._pack_prev&&!su(Cr,Ht);Cr=Cr._pack_prev,Br++);nn?(Dr<Br||Dr==Br&&bt.r<Et.r?ki(Et,bt=tr):ki(Et=Cr,bt),Gt--):(Yu(Et,Ht),bt=Ht,Jr(Ht))}var jr=(ze+Qe)/2,ln=(tt+ot)/2,cn=0;for(Gt=0;Gt<Pr;Gt++)Ht=Ce[Gt],Ht.x-=jr,Ht.y-=ln,cn=Math.max(cn,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));le.r=cn,Ce.forEach(ll)}function Es(le){le._pack_next=le._pack_prev=le}function ll(le){delete le._pack_next,delete le._pack_prev}function Vs(le,Ce,ze,Qe){var tt=le.children;if(le.x=Ce+=Qe*le.x,le.y=ze+=Qe*le.y,le.r*=Qe,tt)for(var ot=-1,Et=tt.length;++ot<Et;)Vs(tt[ot],Ce,ze,Qe)}function $o(le,Ce,ze){var Qe=le.r+ze.r,tt=Ce.x-le.x,ot=Ce.y-le.y;if(Qe&&(tt||ot)){var Et=Ce.r+ze.r,bt=tt*tt+ot*ot;Et*=Et,Qe*=Qe;var Ht=.5+(Qe-Et)/(2*bt),Gt=Math.sqrt(Math.max(0,2*Et*(Qe+bt)-(Qe-=bt)*Qe-Et*Et))/(2*bt);ze.x=le.x+Ht*tt+Gt*ot,ze.y=le.y+Ht*ot-Gt*tt}else ze.x=le.x+Qe,ze.y=le.y}o.layout.tree=function(){var le=o.layout.hierarchy().sort(null).value(null),Ce=Cs,ze=[1,1],Qe=null;function tt(tr,Cr){var Pr=le.call(this,tr,Cr),Jr=Pr[0],nn=ot(Jr);if(Ro(nn,Et),nn.parent.m=-nn.z,kl(nn,bt),Qe)kl(Jr,Gt);else{var Dr=Jr,Br=Jr,jr=Jr;kl(Jr,function(Nn){Nn.x<Dr.x&&(Dr=Nn),Nn.x>Br.x&&(Br=Nn),Nn.depth>jr.depth&&(jr=Nn)});var ln=Ce(Dr,Br)/2-Dr.x,cn=ze[0]/(Br.x+Ce(Br,Dr)/2+ln),$r=ze[1]/(jr.depth||1);kl(Jr,function(Nn){Nn.x=(Nn.x+ln)*cn,Nn.y=Nn.depth*$r})}return Pr}function ot(tr){for(var Cr={A:null,children:[tr]},Pr=[Cr],Jr;(Jr=Pr.pop())!=null;)for(var nn=Jr.children,Dr,Br=0,jr=nn.length;Br<jr;++Br)Pr.push((nn[Br]=Dr={_:nn[Br],parent:Jr,children:(Dr=nn[Br].children)&&Dr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Br}).a=Dr);return Cr.children[0]}function Et(tr){var Cr=tr.children,Pr=tr.parent.children,Jr=tr.i?Pr[tr.i-1]:null;if(Cr.length){fh(tr);var nn=(Cr[0].z+Cr[Cr.length-1].z)/2;Jr?(tr.z=Jr.z+Ce(tr._,Jr._),tr.m=tr.z-nn):tr.z=nn}else Jr&&(tr.z=Jr.z+Ce(tr._,Jr._));tr.parent.A=Ht(tr,Jr,tr.parent.A||Pr[0])}function bt(tr){tr._.x=tr.z+tr.parent.m,tr.m+=tr.parent.m}function Ht(tr,Cr,Pr){if(Cr){for(var Jr=tr,nn=tr,Dr=Cr,Br=Jr.parent.children[0],jr=Jr.m,ln=nn.m,cn=Dr.m,$r=Br.m,Nn;Dr=Ho(Dr),Jr=qo(Jr),Dr&&Jr;)Br=qo(Br),nn=Ho(nn),nn.a=tr,Nn=Dr.z+cn-Jr.z-jr+Ce(Dr._,Jr._),Nn>0&&(lu(ch(Dr,tr,Pr),tr,Nn),jr+=Nn,ln+=Nn),cn+=Dr.m,jr+=Jr.m,$r+=Br.m,ln+=nn.m;Dr&&!Ho(nn)&&(nn.t=Dr,nn.m+=cn-ln),Jr&&!qo(Br)&&(Br.t=Jr,Br.m+=jr-$r,Pr=tr)}return Pr}function Gt(tr){tr.x*=ze[0],tr.y=tr.depth*ze[1]}return tt.separation=function(tr){return arguments.length?(Ce=tr,tt):Ce},tt.size=function(tr){return arguments.length?(Qe=(ze=tr)==null?Gt:null,tt):Qe?null:ze},tt.nodeSize=function(tr){return arguments.length?(Qe=(ze=tr)==null?null:Gt,tt):Qe?ze:null},Il(tt,le)};function Cs(le,Ce){return le.parent==Ce.parent?1:2}function qo(le){var Ce=le.children;return Ce.length?Ce[0]:le.t}function Ho(le){var Ce=le.children,ze;return(ze=Ce.length)?Ce[ze-1]:le.t}function lu(le,Ce,ze){var Qe=ze/(Ce.i-le.i);Ce.c-=Qe,Ce.s+=ze,le.c+=Qe,Ce.z+=ze,Ce.m+=ze}function fh(le){for(var Ce=0,ze=0,Qe=le.children,tt=Qe.length,ot;--tt>=0;)ot=Qe[tt],ot.z+=Ce,ot.m+=Ce,Ce+=ot.s+(ze+=ot.c)}function ch(le,Ce,ze){return le.a.parent===Ce.parent?le.a:ze}o.layout.cluster=function(){var le=o.layout.hierarchy().sort(null).value(null),Ce=Cs,ze=[1,1],Qe=!1;function tt(ot,Et){var bt=le.call(this,ot,Et),Ht=bt[0],Gt,tr=0;Ro(Ht,function(Dr){var Br=Dr.children;Br&&Br.length?(Dr.x=vh(Br),Dr.y=hh(Br)):(Dr.x=Gt?tr+=Ce(Dr,Gt):0,Dr.y=0,Gt=Dr)});var Cr=wf(Ht),Pr=ac(Ht),Jr=Cr.x-Ce(Cr,Pr)/2,nn=Pr.x+Ce(Pr,Cr)/2;return Ro(Ht,Qe?function(Dr){Dr.x=(Dr.x-Ht.x)*ze[0],Dr.y=(Ht.y-Dr.y)*ze[1]}:function(Dr){Dr.x=(Dr.x-Jr)/(nn-Jr)*ze[0],Dr.y=(1-(Ht.y?Dr.y/Ht.y:1))*ze[1]}),bt}return tt.separation=function(ot){return arguments.length?(Ce=ot,tt):Ce},tt.size=function(ot){return arguments.length?(Qe=(ze=ot)==null,tt):Qe?null:ze},tt.nodeSize=function(ot){return arguments.length?(Qe=(ze=ot)!=null,tt):Qe?ze:null},Il(tt,le)};function hh(le){return 1+o.max(le,function(Ce){return Ce.y})}function vh(le){return le.reduce(function(Ce,ze){return Ce+ze.x},0)/le.length}function wf(le){var Ce=le.children;return Ce&&Ce.length?wf(Ce[0]):le}function ac(le){var Ce=le.children,ze;return Ce&&(ze=Ce.length)?ac(Ce[ze-1]):le}o.layout.treemap=function(){var le=o.layout.hierarchy(),Ce=Math.round,ze=[1,1],Qe=null,tt=zl,ot=!1,Et,bt="squarify",Ht=.5*(1+Math.sqrt(5));function Gt(Dr,Br){for(var jr=-1,ln=Dr.length,cn,$r;++jr<ln;)$r=(cn=Dr[jr]).value*(Br<0?0:Br),cn.area=isNaN($r)||$r<=0?0:$r}function tr(Dr){var Br=Dr.children;if(Br&&Br.length){var jr=tt(Dr),ln=[],cn=Br.slice(),$r,Nn=1/0,aa,ha=bt==="slice"?jr.dx:bt==="dice"?jr.dy:bt==="slice-dice"?Dr.depth&1?jr.dy:jr.dx:Math.min(jr.dx,jr.dy),ra;for(Gt(cn,jr.dx*jr.dy/Dr.value),ln.area=0;(ra=cn.length)>0;)ln.push($r=cn[ra-1]),ln.area+=$r.area,bt!=="squarify"||(aa=Pr(ln,ha))<=Nn?(cn.pop(),Nn=aa):(ln.area-=ln.pop().area,Jr(ln,ha,jr,!1),ha=Math.min(jr.dx,jr.dy),ln.length=ln.area=0,Nn=1/0);ln.length&&(Jr(ln,ha,jr,!0),ln.length=ln.area=0),Br.forEach(tr)}}function Cr(Dr){var Br=Dr.children;if(Br&&Br.length){var jr=tt(Dr),ln=Br.slice(),cn,$r=[];for(Gt(ln,jr.dx*jr.dy/Dr.value),$r.area=0;cn=ln.pop();)$r.push(cn),$r.area+=cn.area,cn.z!=null&&(Jr($r,cn.z?jr.dx:jr.dy,jr,!ln.length),$r.length=$r.area=0);Br.forEach(Cr)}}function Pr(Dr,Br){for(var jr=Dr.area,ln,cn=0,$r=1/0,Nn=-1,aa=Dr.length;++Nn<aa;)(ln=Dr[Nn].area)&&(ln<$r&&($r=ln),ln>cn&&(cn=ln));return jr*=jr,Br*=Br,jr?Math.max(Br*cn*Ht/jr,jr/(Br*$r*Ht)):1/0}function Jr(Dr,Br,jr,ln){var cn=-1,$r=Dr.length,Nn=jr.x,aa=jr.y,ha=Br?Ce(Dr.area/Br):0,ra;if(Br==jr.dx){for((ln||ha>jr.dy)&&(ha=jr.dy);++cn<$r;)ra=Dr[cn],ra.x=Nn,ra.y=aa,ra.dy=ha,Nn+=ra.dx=Math.min(jr.x+jr.dx-Nn,ha?Ce(ra.area/ha):0);ra.z=!0,ra.dx+=jr.x+jr.dx-Nn,jr.y+=ha,jr.dy-=ha}else{for((ln||ha>jr.dx)&&(ha=jr.dx);++cn<$r;)ra=Dr[cn],ra.x=Nn,ra.y=aa,ra.dx=ha,aa+=ra.dy=Math.min(jr.y+jr.dy-aa,ha?Ce(ra.area/ha):0);ra.z=!1,ra.dy+=jr.y+jr.dy-aa,jr.x+=ha,jr.dx-=ha}}function nn(Dr){var Br=Et||le(Dr),jr=Br[0];return jr.x=jr.y=0,jr.value?(jr.dx=ze[0],jr.dy=ze[1]):jr.dx=jr.dy=0,Et&&le.revalue(jr),Gt([jr],jr.dx*jr.dy/jr.value),(Et?Cr:tr)(jr),ot&&(Et=Br),Br}return nn.size=function(Dr){return arguments.length?(ze=Dr,nn):ze},nn.padding=function(Dr){if(!arguments.length)return Qe;function Br(cn){var $r=Dr.call(nn,cn,cn.depth);return $r==null?zl(cn):Qi(cn,typeof $r=="number"?[$r,$r,$r,$r]:$r)}function jr(cn){return Qi(cn,Dr)}var ln;return tt=(Qe=Dr)==null?zl:(ln=typeof Dr)=="function"?Br:(ln==="number"&&(Dr=[Dr,Dr,Dr,Dr]),jr),nn},nn.round=function(Dr){return arguments.length?(Ce=Dr?Math.round:Number,nn):Ce!=Number},nn.sticky=function(Dr){return arguments.length?(ot=Dr,Et=null,nn):ot},nn.ratio=function(Dr){return arguments.length?(Ht=Dr,nn):Ht},nn.mode=function(Dr){return arguments.length?(bt=Dr+"",nn):bt},Il(nn,le)};function zl(le){return{x:le.x,y:le.y,dx:le.dx,dy:le.dy}}function Qi(le,Ce){var ze=le.x+Ce[3],Qe=le.y+Ce[0],tt=le.dx-Ce[1]-Ce[3],ot=le.dy-Ce[0]-Ce[2];return tt<0&&(ze+=tt/2,tt=0),ot<0&&(Qe+=ot/2,ot=0),{x:ze,y:Qe,dx:tt,dy:ot}}o.random={normal:function(le,Ce){var ze=arguments.length;return ze<2&&(Ce=1),ze<1&&(le=0),function(){var Qe,tt,ot;do Qe=Math.random()*2-1,tt=Math.random()*2-1,ot=Qe*Qe+tt*tt;while(!ot||ot>1);return le+Ce*Qe*Math.sqrt(-2*Math.log(ot)/ot)}},logNormal:function(){var le=o.random.normal.apply(o,arguments);return function(){return Math.exp(le())}},bates:function(le){var Ce=o.random.irwinHall(le);return function(){return Ce()/le}},irwinHall:function(le){return function(){for(var Ce=0,ze=0;ze<le;ze++)Ce+=Math.random();return Ce}}},o.scale={};function Oo(le){var Ce=le[0],ze=le[le.length-1];return Ce<ze?[Ce,ze]:[ze,Ce]}function Ol(le){return le.rangeExtent?le.rangeExtent():Oo(le.range())}function ic(le,Ce,ze,Qe){var tt=ze(le[0],le[1]),ot=Qe(Ce[0],Ce[1]);return function(Et){return ot(tt(Et))}}function uu(le,Ce){var ze=0,Qe=le.length-1,tt=le[ze],ot=le[Qe],Et;return ot<tt&&(Et=ze,ze=Qe,Qe=Et,Et=tt,tt=ot,ot=Et),le[ze]=Ce.floor(tt),le[Qe]=Ce.ceil(ot),le}function Ls(le){return le?{floor:function(Ce){return Math.floor(Ce/le)*le},ceil:function(Ce){return Math.ceil(Ce/le)*le}}:dh}var dh={floor:z,ceil:z};function oc(le,Ce,ze,Qe){var tt=[],ot=[],Et=0,bt=Math.min(le.length,Ce.length)-1;for(le[bt]<le[0]&&(le=le.slice().reverse(),Ce=Ce.slice().reverse());++Et<=bt;)tt.push(ze(le[Et-1],le[Et])),ot.push(Qe(Ce[Et-1],Ce[Et]));return function(Ht){var Gt=o.bisect(le,Ht,1,bt)-1;return ot[Gt](tt[Gt](Ht))}}o.scale.linear=function(){return sc([0,1],[0,1],no,!1)};function sc(le,Ce,ze,Qe){var tt,ot;function Et(){var Ht=Math.min(le.length,Ce.length)>2?oc:ic,Gt=Qe?Rl:Xo;return tt=Ht(le,Ce,Gt,ze),ot=Ht(Ce,le,Gt,no),bt}function bt(Ht){return tt(Ht)}return bt.invert=function(Ht){return ot(Ht)},bt.domain=function(Ht){return arguments.length?(le=Ht.map(Number),Et()):le},bt.range=function(Ht){return arguments.length?(Ce=Ht,Et()):Ce},bt.rangeRound=function(Ht){return bt.range(Ht).interpolate(Qf)},bt.clamp=function(Ht){return arguments.length?(Qe=Ht,Et()):Qe},bt.interpolate=function(Ht){return arguments.length?(ze=Ht,Et()):ze},bt.ticks=function(Ht){return es(le,Ht)},bt.tickFormat=function(Ht,Gt){return d3_scale_linearTickFormat(le,Ht,Gt)},bt.nice=function(Ht){return lc(le,Ht),Et()},bt.copy=function(){return sc(le,Ce,ze,Qe)},Et()}function Tf(le,Ce){return o.rebind(le,Ce,"range","rangeRound","interpolate","clamp")}function lc(le,Ce){return uu(le,Ls(wo(le,Ce)[2])),uu(le,Ls(wo(le,Ce)[2])),le}function wo(le,Ce){Ce==null&&(Ce=10);var ze=Oo(le),Qe=ze[1]-ze[0],tt=Math.pow(10,Math.floor(Math.log(Qe/Ce)/Math.LN10)),ot=Ce/Qe*tt;return ot<=.15?tt*=10:ot<=.35?tt*=5:ot<=.75&&(tt*=2),ze[0]=Math.ceil(ze[0]/tt)*tt,ze[1]=Math.floor(ze[1]/tt)*tt+tt*.5,ze[2]=tt,ze}function es(le,Ce){return o.range.apply(o,wo(le,Ce))}o.scale.log=function(){return Gs(o.scale.linear().domain([0,1]),10,!0,[1,10])};function Gs(le,Ce,ze,Qe){function tt(bt){return(ze?Math.log(bt<0?0:bt):-Math.log(bt>0?0:-bt))/Math.log(Ce)}function ot(bt){return ze?Math.pow(Ce,bt):-Math.pow(Ce,-bt)}function Et(bt){return le(tt(bt))}return Et.invert=function(bt){return ot(le.invert(bt))},Et.domain=function(bt){return arguments.length?(ze=bt[0]>=0,le.domain((Qe=bt.map(Number)).map(tt)),Et):Qe},Et.base=function(bt){return arguments.length?(Ce=+bt,le.domain(Qe.map(tt)),Et):Ce},Et.nice=function(){var bt=uu(Qe.map(tt),ze?Math:Bl);return le.domain(bt),Qe=bt.map(ot),Et},Et.ticks=function(){var bt=Oo(Qe),Ht=[],Gt=bt[0],tr=bt[1],Cr=Math.floor(tt(Gt)),Pr=Math.ceil(tt(tr)),Jr=Ce%1?2:Ce;if(isFinite(Pr-Cr)){if(ze){for(;Cr<Pr;Cr++)for(var nn=1;nn<Jr;nn++)Ht.push(ot(Cr)*nn);Ht.push(ot(Cr))}else for(Ht.push(ot(Cr));Cr++<Pr;)for(var nn=Jr-1;nn>0;nn--)Ht.push(ot(Cr)*nn);for(Cr=0;Ht[Cr]<Gt;Cr++);for(Pr=Ht.length;Ht[Pr-1]>tr;Pr--);Ht=Ht.slice(Cr,Pr)}return Ht},Et.copy=function(){return Gs(le.copy(),Ce,ze,Qe)},Tf(Et,le)}var Bl={floor:function(le){return-Math.ceil(-le)},ceil:function(le){return-Math.floor(-le)}};o.scale.pow=function(){return Zu(o.scale.linear(),1,[0,1])};function Zu(le,Ce,ze){var Qe=ul(Ce),tt=ul(1/Ce);function ot(Et){return le(Qe(Et))}return ot.invert=function(Et){return tt(le.invert(Et))},ot.domain=function(Et){return arguments.length?(le.domain((ze=Et.map(Number)).map(Qe)),ot):ze},ot.ticks=function(Et){return es(ze,Et)},ot.tickFormat=function(Et,bt){return d3_scale_linearTickFormat(ze,Et,bt)},ot.nice=function(Et){return ot.domain(lc(ze,Et))},ot.exponent=function(Et){return arguments.length?(Qe=ul(Ce=Et),tt=ul(1/Ce),le.domain(ze.map(Qe)),ot):Ce},ot.copy=function(){return Zu(le.copy(),Ce,ze)},Tf(ot,le)}function ul(le){return function(Ce){return Ce<0?-Math.pow(-Ce,le):Math.pow(Ce,le)}}o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return fl([],{t:"range",a:[[]]})};function fl(le,Ce){var ze,Qe,tt;function ot(bt){return Qe[((ze.get(bt)||(Ce.t==="range"?ze.set(bt,le.push(bt)):NaN))-1)%Qe.length]}function Et(bt,Ht){return o.range(le.length).map(function(Gt){return bt+Ht*Gt})}return ot.domain=function(bt){if(!arguments.length)return le;le=[],ze=new C;for(var Ht=-1,Gt=bt.length,tr;++Ht<Gt;)ze.has(tr=bt[Ht])||ze.set(tr,le.push(tr));return ot[Ce.t].apply(ot,Ce.a)},ot.range=function(bt){return arguments.length?(Qe=bt,tt=0,Ce={t:"range",a:arguments},ot):Qe},ot.rangePoints=function(bt,Ht){arguments.length<2&&(Ht=0);var Gt=bt[0],tr=bt[1],Cr=le.length<2?(Gt=(Gt+tr)/2,0):(tr-Gt)/(le.length-1+Ht);return Qe=Et(Gt+Cr*Ht/2,Cr),tt=0,Ce={t:"rangePoints",a:arguments},ot},ot.rangeRoundPoints=function(bt,Ht){arguments.length<2&&(Ht=0);var Gt=bt[0],tr=bt[1],Cr=le.length<2?(Gt=tr=Math.round((Gt+tr)/2),0):(tr-Gt)/(le.length-1+Ht)|0;return Qe=Et(Gt+Math.round(Cr*Ht/2+(tr-Gt-(le.length-1+Ht)*Cr)/2),Cr),tt=0,Ce={t:"rangeRoundPoints",a:arguments},ot},ot.rangeBands=function(bt,Ht,Gt){arguments.length<2&&(Ht=0),arguments.length<3&&(Gt=Ht);var tr=bt[1]<bt[0],Cr=bt[tr-0],Pr=bt[1-tr],Jr=(Pr-Cr)/(le.length-Ht+2*Gt);return Qe=Et(Cr+Jr*Gt,Jr),tr&&Qe.reverse(),tt=Jr*(1-Ht),Ce={t:"rangeBands",a:arguments},ot},ot.rangeRoundBands=function(bt,Ht,Gt){arguments.length<2&&(Ht=0),arguments.length<3&&(Gt=Ht);var tr=bt[1]<bt[0],Cr=bt[tr-0],Pr=bt[1-tr],Jr=Math.floor((Pr-Cr)/(le.length-Ht+2*Gt));return Qe=Et(Cr+Math.round((Pr-Cr-(le.length-Ht)*Jr)/2),Jr),tr&&Qe.reverse(),tt=Math.round(Jr*(1-Ht)),Ce={t:"rangeRoundBands",a:arguments},ot},ot.rangeBand=function(){return tt},ot.rangeExtent=function(){return Oo(Ce.a[0])},ot.copy=function(){return fl(le,Ce)},ot.domain(le)}o.scale.category10=function(){return o.scale.ordinal().range(uc)},o.scale.category20=function(){return o.scale.ordinal().range(Ps)},o.scale.category20b=function(){return o.scale.ordinal().range(Nl)},o.scale.category20c=function(){return o.scale.ordinal().range(Ws)};var uc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(zt),Ps=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(zt),Nl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(zt),Ws=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(zt);o.scale.quantile=function(){return Rs([],[])};function Rs(le,Ce){var ze;function Qe(){var ot=0,Et=Ce.length;for(ze=[];++ot<Et;)ze[ot-1]=o.quantile(le,ot/Et);return tt}function tt(ot){if(!isNaN(ot=+ot))return Ce[o.bisect(ze,ot)]}return tt.domain=function(ot){return arguments.length?(le=ot.map(g).filter(f).sort(l),Qe()):le},tt.range=function(ot){return arguments.length?(Ce=ot,Qe()):Ce},tt.quantiles=function(){return ze},tt.invertExtent=function(ot){return ot=Ce.indexOf(ot),ot<0?[NaN,NaN]:[ot>0?ze[ot-1]:le[0],ot<ze.length?ze[ot]:le[le.length-1]]},tt.copy=function(){return Rs(le,Ce)},Qe()}o.scale.quantize=function(){return fu(0,1,[0,1])};function fu(le,Ce,ze){var Qe,tt;function ot(bt){return ze[Math.max(0,Math.min(tt,Math.floor(Qe*(bt-le))))]}function Et(){return Qe=ze.length/(Ce-le),tt=ze.length-1,ot}return ot.domain=function(bt){return arguments.length?(le=+bt[0],Ce=+bt[bt.length-1],Et()):[le,Ce]},ot.range=function(bt){return arguments.length?(ze=bt,Et()):ze},ot.invertExtent=function(bt){return bt=ze.indexOf(bt),bt=bt<0?NaN:bt/Qe+le,[bt,bt+1/Qe]},ot.copy=function(){return fu(le,Ce,ze)},Et()}o.scale.threshold=function(){return Ul([.5],[0,1])};function Ul(le,Ce){function ze(Qe){if(Qe<=Qe)return Ce[o.bisect(le,Qe)]}return ze.domain=function(Qe){return arguments.length?(le=Qe,ze):le},ze.range=function(Qe){return arguments.length?(Ce=Qe,ze):Ce},ze.invertExtent=function(Qe){return Qe=Ce.indexOf(Qe),[le[Qe-1],le[Qe]]},ze.copy=function(){return Ul(le,Ce)},ze}o.scale.identity=function(){return ci([0,1])};function ci(le){function Ce(ze){return+ze}return Ce.invert=Ce,Ce.domain=Ce.range=function(ze){return arguments.length?(le=ze.map(Ce),Ce):le},Ce.ticks=function(ze){return es(le,ze)},Ce.tickFormat=function(ze,Qe){return d3_scale_linearTickFormat(le,ze,Qe)},Ce.copy=function(){return ci(le)},Ce}o.svg={};function Hl(){return 0}o.svg.arc=function(){var le=fc,Ce=Vl,ze=Hl,Qe=ju,tt=cu,ot=Xu,Et=Af;function bt(){var Gt=Math.max(0,+le.apply(this,arguments)),tr=Math.max(0,+Ce.apply(this,arguments)),Cr=tt.apply(this,arguments)-et,Pr=ot.apply(this,arguments)-et,Jr=Math.abs(Pr-Cr),nn=Cr>Pr?0:1;if(tr<Gt&&(Dr=tr,tr=Gt,Gt=Dr),Jr>=Ye)return Ht(tr,nn)+(Gt?Ht(Gt,1-nn):"")+"Z";var Dr,Br,jr,ln,cn=0,$r=0,Nn,aa,ha,ra,la,va,Ba,Ea,Fa=[];if((ln=(+Et.apply(this,arguments)||0)/2)&&(jr=Qe===ju?Math.sqrt(Gt*Gt+tr*tr):+Qe.apply(this,arguments),nn||($r*=-1),tr&&($r=Jt(jr/tr*Math.sin(ln))),Gt&&(cn=Jt(jr/Gt*Math.sin(ln)))),tr){Nn=tr*Math.cos(Cr+$r),aa=tr*Math.sin(Cr+$r),ha=tr*Math.cos(Pr-$r),ra=tr*Math.sin(Pr-$r);var ni=Math.abs(Pr-Cr-2*$r)<=Te?0:1;if($r&&hu(Nn,aa,ha,ra)===nn^ni){var zi=(Cr+Pr)/2;Nn=tr*Math.cos(zi),aa=tr*Math.sin(zi),ha=ra=null}}else Nn=aa=0;if(Gt){la=Gt*Math.cos(Pr-cn),va=Gt*Math.sin(Pr-cn),Ba=Gt*Math.cos(Cr+cn),Ea=Gt*Math.sin(Cr+cn);var ui=Math.abs(Cr-Pr+2*cn)<=Te?0:1;if(cn&&hu(la,va,Ba,Ea)===1-nn^ui){var qn=(Cr+Pr)/2;la=Gt*Math.cos(qn),va=Gt*Math.sin(qn),Ba=Ea=null}}else la=va=0;if(Jr>pe&&(Dr=Math.min(Math.abs(tr-Gt)/2,+ze.apply(this,arguments)))>.001){Br=Gt<tr^nn?0:1;var Ua=Dr,Ma=Dr;if(Jr<Te){var Xa=Ba==null?[la,va]:ha==null?[Nn,aa]:pn([Nn,aa],[Ba,Ea],[ha,ra],[la,va]),bi=Nn-Xa[0],ai=aa-Xa[1],$i=ha-Xa[0],qi=ra-Xa[1],ao=1/Math.sin(Math.acos((bi*$i+ai*qi)/(Math.sqrt(bi*bi+ai*ai)*Math.sqrt($i*$i+qi*qi)))/2),wi=Math.sqrt(Xa[0]*Xa[0]+Xa[1]*Xa[1]);Ma=Math.min(Dr,(Gt-wi)/(ao-1)),Ua=Math.min(Dr,(tr-wi)/(ao+1))}if(ha!=null){var go=vu(Ba==null?[la,va]:[Ba,Ea],[Nn,aa],tr,Ua,nn),fa=vu([ha,ra],[la,va],tr,Ua,nn);Dr===Ua?Fa.push("M",go[0],"A",Ua,",",Ua," 0 0,",Br," ",go[1],"A",tr,",",tr," 0 ",1-nn^hu(go[1][0],go[1][1],fa[1][0],fa[1][1]),",",nn," ",fa[1],"A",Ua,",",Ua," 0 0,",Br," ",fa[0]):Fa.push("M",go[0],"A",Ua,",",Ua," 0 1,",Br," ",fa[0])}else Fa.push("M",Nn,",",aa);if(Ba!=null){var La=vu([Nn,aa],[Ba,Ea],Gt,-Ma,nn),Io=vu([la,va],ha==null?[Nn,aa]:[ha,ra],Gt,-Ma,nn);Dr===Ma?Fa.push("L",Io[0],"A",Ma,",",Ma," 0 0,",Br," ",Io[1],"A",Gt,",",Gt," 0 ",nn^hu(Io[1][0],Io[1][1],La[1][0],La[1][1]),",",1-nn," ",La[1],"A",Ma,",",Ma," 0 0,",Br," ",La[0]):Fa.push("L",Io[0],"A",Ma,",",Ma," 0 0,",Br," ",La[0])}else Fa.push("L",la,",",va)}else Fa.push("M",Nn,",",aa),ha!=null&&Fa.push("A",tr,",",tr," 0 ",ni,",",nn," ",ha,",",ra),Fa.push("L",la,",",va),Ba!=null&&Fa.push("A",Gt,",",Gt," 0 ",ui,",",1-nn," ",Ba,",",Ea);return Fa.push("Z"),Fa.join("")}function Ht(Gt,tr){return"M0,"+Gt+"A"+Gt+","+Gt+" 0 1,"+tr+" 0,"+-Gt+"A"+Gt+","+Gt+" 0 1,"+tr+" 0,"+Gt}return bt.innerRadius=function(Gt){return arguments.length?(le=tn(Gt),bt):le},bt.outerRadius=function(Gt){return arguments.length?(Ce=tn(Gt),bt):Ce},bt.cornerRadius=function(Gt){return arguments.length?(ze=tn(Gt),bt):ze},bt.padRadius=function(Gt){return arguments.length?(Qe=Gt==ju?ju:tn(Gt),bt):Qe},bt.startAngle=function(Gt){return arguments.length?(tt=tn(Gt),bt):tt},bt.endAngle=function(Gt){return arguments.length?(ot=tn(Gt),bt):ot},bt.padAngle=function(Gt){return arguments.length?(Et=tn(Gt),bt):Et},bt.centroid=function(){var Gt=(+le.apply(this,arguments)+ +Ce.apply(this,arguments))/2,tr=(+tt.apply(this,arguments)+ +ot.apply(this,arguments))/2-et;return[Math.cos(tr)*Gt,Math.sin(tr)*Gt]},bt};var ju="auto";function fc(le){return le.innerRadius}function Vl(le){return le.outerRadius}function cu(le){return le.startAngle}function Xu(le){return le.endAngle}function Af(le){return le&&le.padAngle}function hu(le,Ce,ze,Qe){return(le-ze)*Ce-(Ce-Qe)*le>0?0:1}function vu(le,Ce,ze,Qe,tt){var ot=le[0]-Ce[0],Et=le[1]-Ce[1],bt=(tt?Qe:-Qe)/Math.sqrt(ot*ot+Et*Et),Ht=bt*Et,Gt=-bt*ot,tr=le[0]+Ht,Cr=le[1]+Gt,Pr=Ce[0]+Ht,Jr=Ce[1]+Gt,nn=(tr+Pr)/2,Dr=(Cr+Jr)/2,Br=Pr-tr,jr=Jr-Cr,ln=Br*Br+jr*jr,cn=ze-Qe,$r=tr*Jr-Pr*Cr,Nn=(jr<0?-1:1)*Math.sqrt(Math.max(0,cn*cn*ln-$r*$r)),aa=($r*jr-Br*Nn)/ln,ha=(-$r*Br-jr*Nn)/ln,ra=($r*jr+Br*Nn)/ln,la=(-$r*Br+jr*Nn)/ln,va=aa-nn,Ba=ha-Dr,Ea=ra-nn,Fa=la-Dr;return va*va+Ba*Ba>Ea*Ea+Fa*Fa&&(aa=ra,ha=la),[[aa-Ht,ha-Gt],[aa*ze/cn,ha*ze/cn]]}function Ys(){return!0}function du(le){var Ce=ea,ze=Zn,Qe=Ys,tt=Gi,ot=tt.key,Et=.7;function bt(Ht){var Gt=[],tr=[],Cr=-1,Pr=Ht.length,Jr,nn=tn(Ce),Dr=tn(ze);function Br(){Gt.push("M",tt(le(tr),Et))}for(;++Cr<Pr;)Qe.call(this,Jr=Ht[Cr],Cr)?tr.push([+nn.call(this,Jr,Cr),+Dr.call(this,Jr,Cr)]):tr.length&&(Br(),tr=[]);return tr.length&&Br(),Gt.length?Gt.join(""):null}return bt.x=function(Ht){return arguments.length?(Ce=Ht,bt):Ce},bt.y=function(Ht){return arguments.length?(ze=Ht,bt):ze},bt.defined=function(Ht){return arguments.length?(Qe=Ht,bt):Qe},bt.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?ot=tt=Ht:ot=(tt=Zs.get(Ht)||Gi).key,bt):ot},bt.tension=function(Ht){return arguments.length?(Et=Ht,bt):Et},bt}o.svg.line=function(){return du(z)};var Zs=o.map({linear:Gi,"linear-closed":ds,step:Mf,"step-before":cl,"step-after":Ku,basis:Gl,"basis-open":hc,"basis-closed":js,bundle:gh,cardinal:cc,"cardinal-open":pu,"cardinal-closed":ph,monotone:Qu});Zs.forEach(function(le,Ce){Ce.key=le,Ce.closed=/-closed$/.test(le)});function Gi(le){return le.length>1?le.join("L"):le+"Z"}function ds(le){return le.join("L")+"Z"}function Mf(le){for(var Ce=0,ze=le.length,Qe=le[0],tt=[Qe[0],",",Qe[1]];++Ce<ze;)tt.push("H",(Qe[0]+(Qe=le[Ce])[0])/2,"V",Qe[1]);return ze>1&&tt.push("H",Qe[0]),tt.join("")}function cl(le){for(var Ce=0,ze=le.length,Qe=le[0],tt=[Qe[0],",",Qe[1]];++Ce<ze;)tt.push("V",(Qe=le[Ce])[1],"H",Qe[0]);return tt.join("")}function Ku(le){for(var Ce=0,ze=le.length,Qe=le[0],tt=[Qe[0],",",Qe[1]];++Ce<ze;)tt.push("H",(Qe=le[Ce])[0],"V",Qe[1]);return tt.join("")}function pu(le,Ce){return le.length<4?Gi(le):le[1]+po(le.slice(1,-1),gu(le,Ce))}function ph(le,Ce){return le.length<3?ds(le):le[0]+po((le.push(le[0]),le),gu([le[le.length-2]].concat(le,[le[1]]),Ce))}function cc(le,Ce){return le.length<3?Gi(le):le[0]+po(le,gu(le,Ce))}function po(le,Ce){if(Ce.length<1||le.length!=Ce.length&&le.length!=Ce.length+2)return Gi(le);var ze=le.length!=Ce.length,Qe="",tt=le[0],ot=le[1],Et=Ce[0],bt=Et,Ht=1;if(ze&&(Qe+="Q"+(ot[0]-Et[0]*2/3)+","+(ot[1]-Et[1]*2/3)+","+ot[0]+","+ot[1],tt=le[1],Ht=2),Ce.length>1){bt=Ce[1],ot=le[Ht],Ht++,Qe+="C"+(tt[0]+Et[0])+","+(tt[1]+Et[1])+","+(ot[0]-bt[0])+","+(ot[1]-bt[1])+","+ot[0]+","+ot[1];for(var Gt=2;Gt<Ce.length;Gt++,Ht++)ot=le[Ht],bt=Ce[Gt],Qe+="S"+(ot[0]-bt[0])+","+(ot[1]-bt[1])+","+ot[0]+","+ot[1]}if(ze){var tr=le[Ht];Qe+="Q"+(ot[0]+bt[0]*2/3)+","+(ot[1]+bt[1]*2/3)+","+tr[0]+","+tr[1]}return Qe}function gu(le,Ce){for(var ze=[],Qe=(1-Ce)/2,tt,ot=le[0],Et=le[1],bt=1,Ht=le.length;++bt<Ht;)tt=ot,ot=Et,Et=le[bt],ze.push([Qe*(Et[0]-tt[0]),Qe*(Et[1]-tt[1])]);return ze}function Gl(le){if(le.length<3)return Gi(le);var Ce=1,ze=le.length,Qe=le[0],tt=Qe[0],ot=Qe[1],Et=[tt,tt,tt,(Qe=le[1])[0]],bt=[ot,ot,ot,Qe[1]],Ht=[tt,",",ot,"L",Do(Ds,Et),",",Do(Ds,bt)];for(le.push(le[ze-1]);++Ce<=ze;)Qe=le[Ce],Et.shift(),Et.push(Qe[0]),bt.shift(),bt.push(Qe[1]),Xs(Ht,Et,bt);return le.pop(),Ht.push("L",Qe),Ht.join("")}function hc(le){if(le.length<4)return Gi(le);for(var Ce=[],ze=-1,Qe=le.length,tt,ot=[0],Et=[0];++ze<3;)tt=le[ze],ot.push(tt[0]),Et.push(tt[1]);for(Ce.push(Do(Ds,ot)+","+Do(Ds,Et)),--ze;++ze<Qe;)tt=le[ze],ot.shift(),ot.push(tt[0]),Et.shift(),Et.push(tt[1]),Xs(Ce,ot,Et);return Ce.join("")}function js(le){for(var Ce,ze=-1,Qe=le.length,tt=Qe+4,ot,Et=[],bt=[];++ze<4;)ot=le[ze%Qe],Et.push(ot[0]),bt.push(ot[1]);for(Ce=[Do(Ds,Et),",",Do(Ds,bt)],--ze;++ze<tt;)ot=le[ze%Qe],Et.shift(),Et.push(ot[0]),bt.shift(),bt.push(ot[1]),Xs(Ce,Et,bt);return Ce.join("")}function gh(le,Ce){var ze=le.length-1;if(ze)for(var Qe=le[0][0],tt=le[0][1],ot=le[ze][0]-Qe,Et=le[ze][1]-tt,bt=-1,Ht,Gt;++bt<=ze;)Ht=le[bt],Gt=bt/ze,Ht[0]=Ce*Ht[0]+(1-Ce)*(Qe+Gt*ot),Ht[1]=Ce*Ht[1]+(1-Ce)*(tt+Gt*Et);return Gl(le)}function Do(le,Ce){return le[0]*Ce[0]+le[1]*Ce[1]+le[2]*Ce[2]+le[3]*Ce[3]}var yu=[0,2/3,1/3,0],Ju=[0,1/3,2/3,0],Ds=[0,1/6,2/3,1/6];function Xs(le,Ce,ze){le.push("C",Do(yu,Ce),",",Do(yu,ze),",",Do(Ju,Ce),",",Do(Ju,ze),",",Do(Ds,Ce),",",Do(Ds,ze))}function Sf(le,Ce){return(Ce[1]-le[1])/(Ce[0]-le[0])}function mu(le){for(var Ce=0,ze=le.length-1,Qe=[],tt=le[0],ot=le[1],Et=Qe[0]=Sf(tt,ot);++Ce<ze;)Qe[Ce]=(Et+(Et=Sf(tt=ot,ot=le[Ce+1])))/2;return Qe[Ce]=Et,Qe}function xu(le){for(var Ce=[],ze,Qe,tt,ot,Et=mu(le),bt=-1,Ht=le.length-1;++bt<Ht;)ze=Sf(le[bt],le[bt+1]),d(ze)<pe?Et[bt]=Et[bt+1]=0:(Qe=Et[bt]/ze,tt=Et[bt+1]/ze,ot=Qe*Qe+tt*tt,ot>9&&(ot=ze*3/Math.sqrt(ot),Et[bt]=ot*Qe,Et[bt+1]=ot*tt));for(bt=-1;++bt<=Ht;)ot=(le[Math.min(Ht,bt+1)][0]-le[Math.max(0,bt-1)][0])/(6*(1+Et[bt]*Et[bt])),Ce.push([ot||0,Et[bt]*ot||0]);return Ce}function Qu(le){return le.length<3?Gi(le):le[0]+po(le,xu(le))}o.svg.line.radial=function(){var le=du(vc);return le.radius=le.x,delete le.x,le.angle=le.y,delete le.y,le};function vc(le){for(var Ce,ze=-1,Qe=le.length,tt,ot;++ze<Qe;)Ce=le[ze],tt=Ce[0],ot=Ce[1]-et,Ce[0]=tt*Math.cos(ot),Ce[1]=tt*Math.sin(ot);return le}function bu(le){var Ce=ea,ze=ea,Qe=0,tt=Zn,ot=Ys,Et=Gi,bt=Et.key,Ht=Et,Gt="L",tr=.7;function Cr(Pr){var Jr=[],nn=[],Dr=[],Br=-1,jr=Pr.length,ln,cn=tn(Ce),$r=tn(Qe),Nn=Ce===ze?function(){return ha}:tn(ze),aa=Qe===tt?function(){return ra}:tn(tt),ha,ra;function la(){Jr.push("M",Et(le(Dr),tr),Gt,Ht(le(nn.reverse()),tr),"Z")}for(;++Br<jr;)ot.call(this,ln=Pr[Br],Br)?(nn.push([ha=+cn.call(this,ln,Br),ra=+$r.call(this,ln,Br)]),Dr.push([+Nn.call(this,ln,Br),+aa.call(this,ln,Br)])):nn.length&&(la(),nn=[],Dr=[]);return nn.length&&la(),Jr.length?Jr.join(""):null}return Cr.x=function(Pr){return arguments.length?(Ce=ze=Pr,Cr):ze},Cr.x0=function(Pr){return arguments.length?(Ce=Pr,Cr):Ce},Cr.x1=function(Pr){return arguments.length?(ze=Pr,Cr):ze},Cr.y=function(Pr){return arguments.length?(Qe=tt=Pr,Cr):tt},Cr.y0=function(Pr){return arguments.length?(Qe=Pr,Cr):Qe},Cr.y1=function(Pr){return arguments.length?(tt=Pr,Cr):tt},Cr.defined=function(Pr){return arguments.length?(ot=Pr,Cr):ot},Cr.interpolate=function(Pr){return arguments.length?(typeof Pr=="function"?bt=Et=Pr:bt=(Et=Zs.get(Pr)||Gi).key,Ht=Et.reverse||Et,Gt=Et.closed?"M":"L",Cr):bt},Cr.tension=function(Pr){return arguments.length?(tr=Pr,Cr):tr},Cr}cl.reverse=Ku,Ku.reverse=cl,o.svg.area=function(){return bu(z)},o.svg.area.radial=function(){var le=bu(vc);return le.radius=le.x,delete le.x,le.innerRadius=le.x0,delete le.x0,le.outerRadius=le.x1,delete le.x1,le.angle=le.y,delete le.y,le.startAngle=le.y0,delete le.y0,le.endAngle=le.y1,delete le.y1,le};function Ef(le){return le.source}function hl(le){return le.target}o.svg.chord=function(){var le=Ef,Ce=hl,ze=Cf,Qe=cu,tt=Xu;function ot(tr,Cr){var Pr=Et(this,le,tr,Cr),Jr=Et(this,Ce,tr,Cr);return"M"+Pr.p0+Ht(Pr.r,Pr.p1,Pr.a1-Pr.a0)+(bt(Pr,Jr)?Gt(Pr.r,Pr.p1,Pr.r,Pr.p0):Gt(Pr.r,Pr.p1,Jr.r,Jr.p0)+Ht(Jr.r,Jr.p1,Jr.a1-Jr.a0)+Gt(Jr.r,Jr.p1,Pr.r,Pr.p0))+"Z"}function Et(tr,Cr,Pr,Jr){var nn=Cr.call(tr,Pr,Jr),Dr=ze.call(tr,nn,Jr),Br=Qe.call(tr,nn,Jr)-et,jr=tt.call(tr,nn,Jr)-et;return{r:Dr,a0:Br,a1:jr,p0:[Dr*Math.cos(Br),Dr*Math.sin(Br)],p1:[Dr*Math.cos(jr),Dr*Math.sin(jr)]}}function bt(tr,Cr){return tr.a0==Cr.a0&&tr.a1==Cr.a1}function Ht(tr,Cr,Pr){return"A"+tr+","+tr+" 0 "+ +(Pr>Te)+",1 "+Cr}function Gt(tr,Cr,Pr,Jr){return"Q 0,0 "+Jr}return ot.radius=function(tr){return arguments.length?(ze=tn(tr),ot):ze},ot.source=function(tr){return arguments.length?(le=tn(tr),ot):le},ot.target=function(tr){return arguments.length?(Ce=tn(tr),ot):Ce},ot.startAngle=function(tr){return arguments.length?(Qe=tn(tr),ot):Qe},ot.endAngle=function(tr){return arguments.length?(tt=tn(tr),ot):tt},ot};function Cf(le){return le.radius}o.svg.diagonal=function(){var le=Ef,Ce=hl,ze=wu;function Qe(tt,ot){var Et=le.call(this,tt,ot),bt=Ce.call(this,tt,ot),Ht=(Et.y+bt.y)/2,Gt=[Et,{x:Et.x,y:Ht},{x:bt.x,y:Ht},bt];return Gt=Gt.map(ze),"M"+Gt[0]+"C"+Gt[1]+" "+Gt[2]+" "+Gt[3]}return Qe.source=function(tt){return arguments.length?(le=tn(tt),Qe):le},Qe.target=function(tt){return arguments.length?(Ce=tn(tt),Qe):Ce},Qe.projection=function(tt){return arguments.length?(ze=tt,Qe):ze},Qe};function wu(le){return[le.x,le.y]}o.svg.diagonal.radial=function(){var le=o.svg.diagonal(),Ce=wu,ze=le.projection;return le.projection=function(Qe){return arguments.length?ze(dc(Ce=Qe)):Ce},le};function dc(le){return function(){var Ce=le.apply(this,arguments),ze=Ce[0],Qe=Ce[1]-et;return[ze*Math.cos(Qe),ze*Math.sin(Qe)]}}o.svg.symbol=function(){var le=rt,Ce=Xe;function ze(Qe,tt){return(mt.get(le.call(this,Qe,tt))||ht)(Ce.call(this,Qe,tt))}return ze.type=function(Qe){return arguments.length?(le=tn(Qe),ze):le},ze.size=function(Qe){return arguments.length?(Ce=tn(Qe),ze):Ce},ze};function Xe(){return 64}function rt(){return"circle"}function ht(le){var Ce=Math.sqrt(le/Te);return"M0,"+Ce+"A"+Ce+","+Ce+" 0 1,1 0,"+-Ce+"A"+Ce+","+Ce+" 0 1,1 0,"+Ce+"Z"}var mt=o.map({circle:ht,cross:function(le){var Ce=Math.sqrt(le/5)/2;return"M"+-3*Ce+","+-Ce+"H"+-Ce+"V"+-3*Ce+"H"+Ce+"V"+-Ce+"H"+3*Ce+"V"+Ce+"H"+Ce+"V"+3*Ce+"H"+-Ce+"V"+Ce+"H"+-3*Ce+"Z"},diamond:function(le){var Ce=Math.sqrt(le/(2*Pt)),ze=Ce*Pt;return"M0,"+-Ce+"L"+ze+",0 0,"+Ce+" "+-ze+",0Z"},square:function(le){var Ce=Math.sqrt(le)/2;return"M"+-Ce+","+-Ce+"L"+Ce+","+-Ce+" "+Ce+","+Ce+" "+-Ce+","+Ce+"Z"},"triangle-down":function(le){var Ce=Math.sqrt(le/Ft),ze=Ce*Ft/2;return"M0,"+ze+"L"+Ce+","+-ze+" "+-Ce+","+-ze+"Z"},"triangle-up":function(le){var Ce=Math.sqrt(le/Ft),ze=Ce*Ft/2;return"M0,"+-ze+"L"+Ce+","+ze+" "+-Ce+","+ze+"Z"}});o.svg.symbolTypes=mt.keys();var Ft=Math.sqrt(3),Pt=Math.tan(30*ft);X.transition=function(le){for(var Ce=Ir||++Ar,ze=Ln(le),Qe=[],tt,ot,Et=Or||{time:Date.now(),ease:vf,delay:0,duration:250},bt=-1,Ht=this.length;++bt<Ht;){Qe.push(tt=[]);for(var Gt=this[bt],tr=-1,Cr=Gt.length;++tr<Cr;)(ot=Gt[tr])&&Pn(ot,tr,ze,Ce,Et),tt.push(ot)}return xr(Qe,ze,Ce)},X.interrupt=function(le){return this.each(le==null?Ot:dr(Ln(le)))};var Ot=dr(Ln());function dr(le){return function(){var Ce,ze,Qe;(Ce=this[le])&&(Qe=Ce[ze=Ce.active])&&(Qe.timer.c=null,Qe.timer.t=NaN,--Ce.count?delete Ce[ze]:delete this[le],Ce.active+=.5,Qe.event&&Qe.event.interrupt.call(this,this.__data__,Qe.index))}}function xr(le,Ce,ze){return ae(le,ar),le.namespace=Ce,le.id=ze,le}var ar=[],Ar=0,Ir,Or;ar.call=X.call,ar.empty=X.empty,ar.node=X.node,ar.size=X.size,o.transition=function(le,Ce){return le&&le.transition?Ir?le.transition(Ce):le:o.selection().transition(le)},o.transition.prototype=ar,ar.select=function(le){var Ce=this.id,ze=this.namespace,Qe=[],tt,ot,Et;le=se(le);for(var bt=-1,Ht=this.length;++bt<Ht;){Qe.push(tt=[]);for(var Gt=this[bt],tr=-1,Cr=Gt.length;++tr<Cr;)(Et=Gt[tr])&&(ot=le.call(Et,Et.__data__,tr,bt))?("__data__"in Et&&(ot.__data__=Et.__data__),Pn(ot,tr,ze,Ce,Et[ze][Ce]),tt.push(ot)):tt.push(null)}return xr(Qe,ze,Ce)},ar.selectAll=function(le){var Ce=this.id,ze=this.namespace,Qe=[],tt,ot,Et,bt,Ht;le=ne(le);for(var Gt=-1,tr=this.length;++Gt<tr;)for(var Cr=this[Gt],Pr=-1,Jr=Cr.length;++Pr<Jr;)if(Et=Cr[Pr]){Ht=Et[ze][Ce],ot=le.call(Et,Et.__data__,Pr,Gt),Qe.push(tt=[]);for(var nn=-1,Dr=ot.length;++nn<Dr;)(bt=ot[nn])&&Pn(bt,nn,ze,Ce,Ht),tt.push(bt)}return xr(Qe,ze,Ce)},ar.filter=function(le){var Ce=[],ze,Qe,tt;typeof le!="function"&&(le=nt(le));for(var ot=0,Et=this.length;ot<Et;ot++){Ce.push(ze=[]);for(var Qe=this[ot],bt=0,Ht=Qe.length;bt<Ht;bt++)(tt=Qe[bt])&&le.call(tt,tt.__data__,bt,ot)&&ze.push(tt)}return xr(Ce,this.namespace,this.id)},ar.tween=function(le,Ce){var ze=this.id,Qe=this.namespace;return arguments.length<2?this.node()[Qe][ze].tween.get(le):$e(this,Ce==null?function(tt){tt[Qe][ze].tween.remove(le)}:function(tt){tt[Qe][ze].tween.set(le,Ce)})};function en(le,Ce,ze,Qe){var tt=le.id,ot=le.namespace;return $e(le,typeof ze=="function"?function(Et,bt,Ht){Et[ot][tt].tween.set(Ce,Qe(ze.call(Et,Et.__data__,bt,Ht)))}:(ze=Qe(ze),function(Et){Et[ot][tt].tween.set(Ce,ze)}))}ar.attr=function(le,Ce){if(arguments.length<2){for(Ce in le)this.attr(Ce,le[Ce]);return this}var ze=le=="transform"?Nu:no,Qe=o.ns.qualify(le);function tt(){this.removeAttribute(Qe)}function ot(){this.removeAttributeNS(Qe.space,Qe.local)}function Et(Ht){return Ht==null?tt:(Ht+="",function(){var Gt=this.getAttribute(Qe),tr;return Gt!==Ht&&(tr=ze(Gt,Ht),function(Cr){this.setAttribute(Qe,tr(Cr))})})}function bt(Ht){return Ht==null?ot:(Ht+="",function(){var Gt=this.getAttributeNS(Qe.space,Qe.local),tr;return Gt!==Ht&&(tr=ze(Gt,Ht),function(Cr){this.setAttributeNS(Qe.space,Qe.local,tr(Cr))})})}return en(this,"attr."+le,Ce,Qe.local?bt:Et)},ar.attrTween=function(le,Ce){var ze=o.ns.qualify(le);function Qe(ot,Et){var bt=Ce.call(this,ot,Et,this.getAttribute(ze));return bt&&function(Ht){this.setAttribute(ze,bt(Ht))}}function tt(ot,Et){var bt=Ce.call(this,ot,Et,this.getAttributeNS(ze.space,ze.local));return bt&&function(Ht){this.setAttributeNS(ze.space,ze.local,bt(Ht))}}return this.tween("attr."+le,ze.local?tt:Qe)},ar.style=function(le,Ce,ze){var Qe=arguments.length;if(Qe<3){if(typeof le!="string"){Qe<2&&(Ce="");for(ze in le)this.style(ze,le[ze],Ce);return this}ze=""}function tt(){this.style.removeProperty(le)}function ot(Et){return Et==null?tt:(Et+="",function(){var bt=r(this).getComputedStyle(this,null).getPropertyValue(le),Ht;return bt!==Et&&(Ht=no(bt,Et),function(Gt){this.style.setProperty(le,Ht(Gt),ze)})})}return en(this,"style."+le,Ce,ot)},ar.styleTween=function(le,Ce,ze){arguments.length<3&&(ze="");function Qe(tt,ot){var Et=Ce.call(this,tt,ot,r(this).getComputedStyle(this,null).getPropertyValue(le));return Et&&function(bt){this.style.setProperty(le,Et(bt),ze)}}return this.tween("style."+le,Qe)},ar.text=function(le){return en(this,"text",le,bn)};function bn(le){return le==null&&(le=""),function(){this.textContent=le}}ar.remove=function(){var le=this.namespace;return this.each("end.transition",function(){var Ce;this[le].count<2&&(Ce=this.parentNode)&&Ce.removeChild(this)})},ar.ease=function(le){var Ce=this.id,ze=this.namespace;return arguments.length<1?this.node()[ze][Ce].ease:(typeof le!="function"&&(le=o.ease.apply(o,arguments)),$e(this,function(Qe){Qe[ze][Ce].ease=le}))},ar.delay=function(le){var Ce=this.id,ze=this.namespace;return arguments.length<1?this.node()[ze][Ce].delay:$e(this,typeof le=="function"?function(Qe,tt,ot){Qe[ze][Ce].delay=+le.call(Qe,Qe.__data__,tt,ot)}:(le=+le,function(Qe){Qe[ze][Ce].delay=le}))},ar.duration=function(le){var Ce=this.id,ze=this.namespace;return arguments.length<1?this.node()[ze][Ce].duration:$e(this,typeof le=="function"?function(Qe,tt,ot){Qe[ze][Ce].duration=Math.max(1,le.call(Qe,Qe.__data__,tt,ot))}:(le=Math.max(1,le),function(Qe){Qe[ze][Ce].duration=le}))},ar.each=function(le,Ce){var ze=this.id,Qe=this.namespace;if(arguments.length<2){var tt=Or,ot=Ir;try{Ir=ze,$e(this,function(Et,bt,Ht){Or=Et[Qe][ze],le.call(Et,Et.__data__,bt,Ht)})}finally{Or=tt,Ir=ot}}else $e(this,function(Et){var bt=Et[Qe][ze];(bt.event||(bt.event=o.dispatch("start","end","interrupt"))).on(le,Ce)});return this},ar.transition=function(){for(var le=this.id,Ce=++Ar,ze=this.namespace,Qe=[],tt,ot,Et,bt,Ht=0,Gt=this.length;Ht<Gt;Ht++){Qe.push(tt=[]);for(var ot=this[Ht],tr=0,Cr=ot.length;tr<Cr;tr++)(Et=ot[tr])&&(bt=Et[ze][le],Pn(Et,tr,ze,Ce,{time:bt.time,ease:bt.ease,delay:bt.delay+bt.duration,duration:bt.duration})),tt.push(Et)}return xr(Qe,ze,Ce)};function Ln(le){return le==null?"__transition__":"__transition_"+le+"__"}function Pn(le,Ce,ze,Qe,tt){var ot=le[ze]||(le[ze]={active:0,count:0}),Et=ot[Qe],bt,Ht,Gt,tr,Cr;function Pr(Dr){var Br=Et.delay;if(Ht.t=Br+bt,Br<=Dr)return Jr(Dr-Br);Ht.c=Jr}function Jr(Dr){var Br=ot.active,jr=ot[Br];jr&&(jr.timer.c=null,jr.timer.t=NaN,--ot.count,delete ot[Br],jr.event&&jr.event.interrupt.call(le,le.__data__,jr.index));for(var ln in ot)if(+ln<Qe){var cn=ot[ln];cn.timer.c=null,cn.timer.t=NaN,--ot.count,delete ot[ln]}Ht.c=nn,Cn(function(){return Ht.c&&nn(Dr||1)&&(Ht.c=null,Ht.t=NaN),1},0,bt),ot.active=Qe,Et.event&&Et.event.start.call(le,le.__data__,Ce),Cr=[],Et.tween.forEach(function($r,Nn){(Nn=Nn.call(le,le.__data__,Ce))&&Cr.push(Nn)}),tr=Et.ease,Gt=Et.duration}function nn(Dr){for(var Br=Dr/Gt,jr=tr(Br),ln=Cr.length;ln>0;)Cr[--ln].call(le,jr);if(Br>=1)return Et.event&&Et.event.end.call(le,le.__data__,Ce),--ot.count?delete ot[Qe]:delete le[ze],1}Et||(bt=tt.time,Ht=Cn(Pr,0,bt),Et=ot[Qe]={tween:new C,time:bt,timer:Ht,delay:tt.delay,duration:tt.duration,ease:tt.ease,index:Ce},tt=null,++ot.count)}o.svg.axis=function(){var le=o.scale.linear(),Ce=Kn,ze=6,Qe=6,tt=3,ot=[10],Et=null,bt;function Ht(Gt){Gt.each(function(){var tr=o.select(this),Cr=this.__chart__||le,Pr=this.__chart__=le.copy(),Jr=Et??(Pr.ticks?Pr.ticks.apply(Pr,ot):Pr.domain()),nn=bt??(Pr.tickFormat?Pr.tickFormat.apply(Pr,ot):z),Dr=tr.selectAll(".tick").data(Jr,Pr),Br=Dr.enter().insert("g",".domain").attr("class","tick").style("opacity",pe),jr=o.transition(Dr.exit()).style("opacity",pe).remove(),ln=o.transition(Dr.order()).style("opacity",1),cn=Math.max(ze,0)+tt,$r,Nn=Ol(Pr),aa=tr.selectAll(".domain").data([0]),ha=(aa.enter().append("path").attr("class","domain"),o.transition(aa));Br.append("line"),Br.append("text");var ra=Br.select("line"),la=ln.select("line"),va=Dr.select("text").text(nn),Ba=Br.select("text"),Ea=ln.select("text"),Fa=Ce==="top"||Ce==="left"?-1:1,ni,zi,ui,qn;if(Ce==="bottom"||Ce==="top"?($r=Da,ni="x",ui="y",zi="x2",qn="y2",va.attr("dy",Fa<0?"0em":".71em").style("text-anchor","middle"),ha.attr("d","M"+Nn[0]+","+Fa*Qe+"V0H"+Nn[1]+"V"+Fa*Qe)):($r=Ia,ni="y",ui="x",zi="y2",qn="x2",va.attr("dy",".32em").style("text-anchor",Fa<0?"end":"start"),ha.attr("d","M"+Fa*Qe+","+Nn[0]+"H0V"+Nn[1]+"H"+Fa*Qe)),ra.attr(qn,Fa*ze),Ba.attr(ui,Fa*cn),la.attr(zi,0).attr(qn,Fa*ze),Ea.attr(ni,0).attr(ui,Fa*cn),Pr.rangeBand){var Ua=Pr,Ma=Ua.rangeBand()/2;Cr=Pr=function(Xa){return Ua(Xa)+Ma}}else Cr.rangeBand?Cr=Pr:jr.call($r,Pr,Cr);Br.call($r,Cr,Pr),ln.call($r,Pr,Pr)})}return Ht.scale=function(Gt){return arguments.length?(le=Gt,Ht):le},Ht.orient=function(Gt){return arguments.length?(Ce=Gt in Ra?Gt+"":Kn,Ht):Ce},Ht.ticks=function(){return arguments.length?(ot=M(arguments),Ht):ot},Ht.tickValues=function(Gt){return arguments.length?(Et=Gt,Ht):Et},Ht.tickFormat=function(Gt){return arguments.length?(bt=Gt,Ht):bt},Ht.tickSize=function(Gt){var tr=arguments.length;return tr?(ze=+Gt,Qe=+arguments[tr-1],Ht):ze},Ht.innerTickSize=function(Gt){return arguments.length?(ze=+Gt,Ht):ze},Ht.outerTickSize=function(Gt){return arguments.length?(Qe=+Gt,Ht):Qe},Ht.tickPadding=function(Gt){return arguments.length?(tt=+Gt,Ht):tt},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var Kn="bottom",Ra={top:1,right:1,bottom:1,left:1};function Da(le,Ce,ze){le.attr("transform",function(Qe){var tt=Ce(Qe);return"translate("+(isFinite(tt)?tt:ze(Qe))+",0)"})}function Ia(le,Ce,ze){le.attr("transform",function(Qe){var tt=Ce(Qe);return"translate(0,"+(isFinite(tt)?tt:ze(Qe))+")"})}o.svg.brush=function(){var le=J(tr,"brushstart","brush","brushend"),Ce=null,ze=null,Qe=[0,0],tt=[0,0],ot,Et,bt=!0,Ht=!0,Gt=ja[0];function tr(Dr){Dr.each(function(){var Br=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",nn).on("touchstart.brush",nn),jr=Br.selectAll(".background").data([0]);jr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Br.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var ln=Br.selectAll(".resize").data(Gt,z);ln.exit().remove(),ln.enter().append("g").attr("class",function(aa){return"resize "+aa}).style("cursor",function(aa){return za[aa]}).append("rect").attr("x",function(aa){return/[ew]$/.test(aa)?-3:null}).attr("y",function(aa){return/^[ns]/.test(aa)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),ln.style("display",tr.empty()?"none":null);var cn=o.transition(Br),$r=o.transition(jr),Nn;Ce&&(Nn=Ol(Ce),$r.attr("x",Nn[0]).attr("width",Nn[1]-Nn[0]),Pr(cn)),ze&&(Nn=Ol(ze),$r.attr("y",Nn[0]).attr("height",Nn[1]-Nn[0]),Jr(cn)),Cr(cn)})}tr.event=function(Dr){Dr.each(function(){var Br=le.of(this,arguments),jr={x:Qe,y:tt,i:ot,j:Et},ln=this.__chart__||jr;this.__chart__=jr,Ir?o.select(this).transition().each("start.brush",function(){ot=ln.i,Et=ln.j,Qe=ln.x,tt=ln.y,Br({type:"brushstart"})}).tween("brush:brush",function(){var cn=zo(Qe,jr.x),$r=zo(tt,jr.y);return ot=Et=null,function(Nn){Qe=jr.x=cn(Nn),tt=jr.y=$r(Nn),Br({type:"brush",mode:"resize"})}}).each("end.brush",function(){ot=jr.i,Et=jr.j,Br({type:"brush",mode:"resize"}),Br({type:"brushend"})}):(Br({type:"brushstart"}),Br({type:"brush",mode:"resize"}),Br({type:"brushend"}))})};function Cr(Dr){Dr.selectAll(".resize").attr("transform",function(Br){return"translate("+Qe[+/e$/.test(Br)]+","+tt[+/^s/.test(Br)]+")"})}function Pr(Dr){Dr.select(".extent").attr("x",Qe[0]),Dr.selectAll(".extent,.n>rect,.s>rect").attr("width",Qe[1]-Qe[0])}function Jr(Dr){Dr.select(".extent").attr("y",tt[0]),Dr.selectAll(".extent,.e>rect,.w>rect").attr("height",tt[1]-tt[0])}function nn(){var Dr=this,Br=o.select(o.event.target),jr=le.of(Dr,arguments),ln=o.select(Dr),cn=Br.datum(),$r=!/^(n|s)$/.test(cn)&&Ce,Nn=!/^(e|w)$/.test(cn)&&ze,aa=Br.classed("extent"),ha=Ie(Dr),ra,la=o.mouse(Dr),va,Ba=o.select(r(Dr)).on("keydown.brush",ni).on("keyup.brush",zi);if(o.event.changedTouches?Ba.on("touchmove.brush",ui).on("touchend.brush",Ua):Ba.on("mousemove.brush",ui).on("mouseup.brush",Ua),ln.interrupt().selectAll("*").interrupt(),aa)la[0]=Qe[0]-la[0],la[1]=tt[0]-la[1];else if(cn){var Ea=+/w$/.test(cn),Fa=+/^n/.test(cn);va=[Qe[1-Ea]-la[0],tt[1-Fa]-la[1]],la[0]=Qe[Ea],la[1]=tt[Fa]}else o.event.altKey&&(ra=la.slice());ln.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",Br.style("cursor")),jr({type:"brushstart"}),ui();function ni(){o.event.keyCode==32&&(aa||(ra=null,la[0]-=Qe[1],la[1]-=tt[1],aa=2),ie())}function zi(){o.event.keyCode==32&&aa==2&&(la[0]+=Qe[1],la[1]+=tt[1],aa=0,ie())}function ui(){var Ma=o.mouse(Dr),Xa=!1;va&&(Ma[0]+=va[0],Ma[1]+=va[1]),aa||(o.event.altKey?(ra||(ra=[(Qe[0]+Qe[1])/2,(tt[0]+tt[1])/2]),la[0]=Qe[+(Ma[0]<ra[0])],la[1]=tt[+(Ma[1]<ra[1])]):ra=null),$r&&qn(Ma,Ce,0)&&(Pr(ln),Xa=!0),Nn&&qn(Ma,ze,1)&&(Jr(ln),Xa=!0),Xa&&(Cr(ln),jr({type:"brush",mode:aa?"move":"resize"}))}function qn(Ma,Xa,bi){var ai=Ol(Xa),$i=ai[0],qi=ai[1],ao=la[bi],wi=bi?tt:Qe,go=wi[1]-wi[0],fa,La;if(aa&&($i-=ao,qi-=go+ao),fa=(bi?Ht:bt)?Math.max($i,Math.min(qi,Ma[bi])):Ma[bi],aa?La=(fa+=ao)+go:(ra&&(ao=Math.max($i,Math.min(qi,2*ra[bi]-fa))),ao<fa?(La=fa,fa=ao):La=ao),wi[0]!=fa||wi[1]!=La)return bi?Et=null:ot=null,wi[0]=fa,wi[1]=La,!0}function Ua(){ui(),ln.style("pointer-events","all").selectAll(".resize").style("display",tr.empty()?"none":null),o.select("body").style("cursor",null),Ba.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ha(),jr({type:"brushend"})}}return tr.x=function(Dr){return arguments.length?(Ce=Dr,Gt=ja[!Ce<<1|!ze],tr):Ce},tr.y=function(Dr){return arguments.length?(ze=Dr,Gt=ja[!Ce<<1|!ze],tr):ze},tr.clamp=function(Dr){return arguments.length?(Ce&&ze?(bt=!!Dr[0],Ht=!!Dr[1]):Ce?bt=!!Dr:ze&&(Ht=!!Dr),tr):Ce&&ze?[bt,Ht]:Ce?bt:ze?Ht:null},tr.extent=function(Dr){var Br,jr,ln,cn,$r;return arguments.length?(Ce&&(Br=Dr[0],jr=Dr[1],ze&&(Br=Br[0],jr=jr[0]),ot=[Br,jr],Ce.invert&&(Br=Ce(Br),jr=Ce(jr)),jr<Br&&($r=Br,Br=jr,jr=$r),(Br!=Qe[0]||jr!=Qe[1])&&(Qe=[Br,jr])),ze&&(ln=Dr[0],cn=Dr[1],Ce&&(ln=ln[1],cn=cn[1]),Et=[ln,cn],ze.invert&&(ln=ze(ln),cn=ze(cn)),cn<ln&&($r=ln,ln=cn,cn=$r),(ln!=tt[0]||cn!=tt[1])&&(tt=[ln,cn])),tr):(Ce&&(ot?(Br=ot[0],jr=ot[1]):(Br=Qe[0],jr=Qe[1],Ce.invert&&(Br=Ce.invert(Br),jr=Ce.invert(jr)),jr<Br&&($r=Br,Br=jr,jr=$r))),ze&&(Et?(ln=Et[0],cn=Et[1]):(ln=tt[0],cn=tt[1],ze.invert&&(ln=ze.invert(ln),cn=ze.invert(cn)),cn<ln&&($r=ln,ln=cn,cn=$r))),Ce&&ze?[[Br,ln],[jr,cn]]:Ce?[Br,jr]:ze&&[ln,cn])},tr.clear=function(){return tr.empty()||(Qe=[0,0],tt=[0,0],ot=Et=null),tr},tr.empty=function(){return!!Ce&&Qe[0]==Qe[1]||!!ze&&tt[0]==tt[1]},o.rebind(tr,le,"on")};var za={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ja=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];o.text=Bn(function(le){return le.responseText}),o.json=function(le,Ce){return xn(le,"application/json",hi,Ce)};function hi(le){return JSON.parse(le.responseText)}o.html=function(le,Ce){return xn(le,"text/html",Fi,Ce)};function Fi(le){var Ce=v.createRange();return Ce.selectNode(v.body),Ce.createContextualFragment(le.responseText)}o.xml=Bn(function(le){return le.responseXML}),y=o,P=typeof y=="function"?y.call(V,e,V,G):y,P!==void 0&&(G.exports=P)}).apply(self)},97433:function(G){(function(V,e){G.exports=e()})(this,function(){var V,e,y;function P(o,L){if(!V)V=L;else if(!e)e=L;else{var M="var sharedChunk = {}; ("+V+")(sharedChunk); ("+e+")(sharedChunk);",v={};V(v),y=L(v),typeof window<"u"&&(y.workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"})))}}return P(["exports"],function(o){function L(R,D){return D={exports:{}},R(D,D.exports),D.exports}var M="1.13.4",v=p;function p(R,D,H,re){this.cx=3*R,this.bx=3*(H-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(re-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=re,this.p2x=H,this.p2y=re}p.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},p.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},p.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},p.prototype.solveCurveX=function(R,D){typeof D>"u"&&(D=1e-6);var H,re,he,be,Pe;for(he=R,Pe=0;Pe<8;Pe++){if(be=this.sampleCurveX(he)-R,Math.abs(be)<D)return he;var Ke=this.sampleCurveDerivativeX(he);if(Math.abs(Ke)<1e-6)break;he=he-be/Ke}if(H=0,re=1,he=R,he<H)return H;if(he>re)return re;for(;H<re;){if(be=this.sampleCurveX(he),Math.abs(be-R)<D)return he;R>be?H=he:re=he,he=(re-H)*.5+H}return he},p.prototype.solve=function(R,D){return this.sampleCurveY(this.solveCurveX(R,D))};var r=t;function t(R,D){this.x=R,this.y=D}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,D){return this.clone()._rotateAround(R,D)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var D=R.x-this.x,H=R.y-this.y;return D*D+H*H},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,D){return Math.atan2(this.x*D-this.y*R,this.x*R+this.y*D)},_matMult:function(R){var D=R[0]*this.x+R[1]*this.y,H=R[2]*this.x+R[3]*this.y;return this.x=D,this.y=H,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var D=Math.cos(R),H=Math.sin(R),re=D*this.x-H*this.y,he=H*this.x+D*this.y;return this.x=re,this.y=he,this},_rotateAround:function(R,D){var H=Math.cos(R),re=Math.sin(R),he=D.x+H*(this.x-D.x)-re*(this.y-D.y),be=D.y+re*(this.x-D.x)+H*(this.y-D.y);return this.x=he,this.y=be,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(R){return R instanceof t?R:Array.isArray(R)?new t(R[0],R[1]):R};var i=typeof self<"u"?self:{};function n(R,D){if(Array.isArray(R)){if(!Array.isArray(D)||R.length!==D.length)return!1;for(var H=0;H<R.length;H++)if(!n(R[H],D[H]))return!1;return!0}if(typeof R=="object"&&R!==null&&D!==null){if(typeof D!="object")return!1;var re=Object.keys(R);if(re.length!==Object.keys(D).length)return!1;for(var he in R)if(!n(R[he],D[he]))return!1;return!0}return R===D}var c=Math.pow(2,53)-1;function u(R){if(R<=0)return 0;if(R>=1)return 1;var D=R*R,H=D*R;return 4*(R<.5?H:3*(R-D)+H-.75)}function l(R,D,H,re){var he=new v(R,D,H,re);return function(be){return he.solve(be)}}var g=l(.25,.1,.25,1);function f(R,D,H){return Math.min(H,Math.max(D,R))}function T(R,D,H){var re=H-D,he=((R-D)%re+re)%re+D;return he===D?H:he}function h(R,D,H){if(!R.length)return H(null,[]);var re=R.length,he=new Array(R.length),be=null;R.forEach(function(Pe,Ke){D(Pe,function(ut,wt){ut&&(be=ut),he[Ke]=wt,--re===0&&H(be,he)})})}function s(R){var D=[];for(var H in R)D.push(R[H]);return D}function d(R,D){var H=[];for(var re in R)re in D||H.push(re);return H}function A(R){for(var D=[],H=arguments.length-1;H-- >0;)D[H]=arguments[H+1];for(var re=0,he=D;re<he.length;re+=1){var be=he[re];for(var Pe in be)R[Pe]=be[Pe]}return R}function w(R,D){for(var H={},re=0;re<D.length;re++){var he=D[re];he in R&&(H[he]=R[he])}return H}var C=1;function b(){return C++}function S(){function R(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}return R()}function m(R){return R<=1?1:Math.pow(2,Math.ceil(Math.log(R)/Math.LN2))}function a(R){return R?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R):!1}function E(R,D){R.forEach(function(H){D[H]&&(D[H]=D[H].bind(D))})}function x(R,D){return R.indexOf(D,R.length-D.length)!==-1}function k(R,D,H){var re={};for(var he in R)re[he]=D.call(H||this,R[he],he,R);return re}function I(R,D,H){var re={};for(var he in R)D.call(H||this,R[he],he,R)&&(re[he]=R[he]);return re}function N(R){return Array.isArray(R)?R.map(N):typeof R=="object"&&R?k(R,N):R}function F(R,D){for(var H=0;H<R.length;H++)if(D.indexOf(R[H])>=0)return!0;return!1}var z={};function O(R){z[R]||(typeof console<"u"&&console.warn(R),z[R]=!0)}function _(R,D,H){return(H.y-R.y)*(D.x-R.x)>(D.y-R.y)*(H.x-R.x)}function B(R){for(var D=0,H=0,re=R.length,he=re-1,be=void 0,Pe=void 0;H<re;he=H++)be=R[H],Pe=R[he],D+=(Pe.x-be.x)*(be.y+Pe.y);return D}function W(R){var D=R[0],H=R[1],re=R[2];return H+=90,H*=Math.PI/180,re*=Math.PI/180,{x:D*Math.cos(H)*Math.sin(re),y:D*Math.sin(H)*Math.sin(re),z:D*Math.cos(re)}}function $(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function te(R){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,H={};if(R.replace(D,function(he,be,Pe,Ke){var ut=Pe||Ke;return H[be]=ut?ut.toLowerCase():!0,""}),H["max-age"]){var re=parseInt(H["max-age"],10);isNaN(re)?delete H["max-age"]:H["max-age"]=re}return H}var ie=null;function ue(R){if(ie==null){var D=R.navigator?R.navigator.userAgent:null;ie=!!R.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return ie}function J(R){try{var D=i[R];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function Y(R){return i.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(D,H){return String.fromCharCode(+("0x"+H))}))}function ae(R){return decodeURIComponent(i.atob(R).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var j=i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now.bind(Date),q=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame,oe=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.msCancelAnimationFrame,Q,X,se={now:j,frame:function(D){var H=q(D);return{cancel:function(){return oe(H)}}},getImageData:function(D,H){H===void 0&&(H=0);var re=i.document.createElement("canvas"),he=re.getContext("2d");if(!he)throw new Error("failed to create canvas 2d context");return re.width=D.width,re.height=D.height,he.drawImage(D,0,0,D.width,D.height),he.getImageData(-H,-H,D.width+2*H,D.height+2*H)},resolveURL:function(D){return Q||(Q=i.document.createElement("a")),Q.href=D,Q.href},hardwareConcurrency:i.navigator&&i.navigator.hardwareConcurrency||4,get devicePixelRatio(){return i.devicePixelRatio},get prefersReducedMotion(){return i.matchMedia?(X==null&&(X=i.matchMedia("(prefers-reduced-motion: reduce)")),X.matches):!1}},ne={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},fe={supported:!1,testSupport:ke},ye,Se=!1,we,_e=!1;i.document&&(we=i.document.createElement("img"),we.onload=function(){ye&&Me(ye),ye=null,_e=!0},we.onerror=function(){Se=!0,ye=null},we.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function ke(R){Se||!we||(_e?Me(R):ye=R)}function Me(R){var D=R.createTexture();R.bindTexture(R.TEXTURE_2D,D);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,we),R.isContextLost())return;fe.supported=!0}catch{}R.deleteTexture(D),Se=!0}var me="01";function Ee(){for(var R="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",H="",re=0;re<10;re++)H+=D[Math.floor(Math.random()*62)];var he=12*60*60*1e3,be=[R,me,H].join(""),Pe=Date.now()+he;return{token:be,tokenExpiresAt:Pe}}var Be=function(D,H){this._transformRequestFn=D,this._customAccessToken=H,this._createSkuToken()};Be.prototype._createSkuToken=function(){var D=Ee();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Be.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Be.prototype.transformRequest=function(D,H){return this._transformRequestFn?this._transformRequestFn(D,H)||{url:D}:{url:D}},Be.prototype.normalizeStyleURL=function(D,H){if(!Ue(D))return D;var re=qe(D);return re.path="/styles/v1"+re.path,this._makeAPIURL(re,this._customAccessToken||H)},Be.prototype.normalizeGlyphsURL=function(D,H){if(!Ue(D))return D;var re=qe(D);return re.path="/fonts/v1"+re.path,this._makeAPIURL(re,this._customAccessToken||H)},Be.prototype.normalizeSourceURL=function(D,H){if(!Ue(D))return D;var re=qe(D);return re.path="/v4/"+re.authority+".json",re.params.push("secure"),this._makeAPIURL(re,this._customAccessToken||H)},Be.prototype.normalizeSpriteURL=function(D,H,re,he){var be=qe(D);return Ue(D)?(be.path="/styles/v1"+be.path+"/sprite"+H+re,this._makeAPIURL(be,this._customAccessToken||he)):(be.path+=""+H+re,ct(be))},Be.prototype.normalizeTileURL=function(D,H){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!Ue(D))return D;var re=qe(D),he=/(\.(png|jpg)\d*)(?=$)/,be=/^.+\/v4\//,Pe=se.devicePixelRatio>=2||H===512?"@2x":"",Ke=fe.supported?".webp":"$1";re.path=re.path.replace(he,""+Pe+Ke),re.path=re.path.replace(be,"/"),re.path="/v4"+re.path;var ut=this._customAccessToken||lt(re.params)||ne.ACCESS_TOKEN;return ne.REQUIRE_ACCESS_TOKEN&&ut&&this._skuToken&&re.params.push("sku="+this._skuToken),this._makeAPIURL(re,ut)},Be.prototype.canonicalizeTileURL=function(D,H){var re="/v4/",he=/\.[\w]+$/,be=qe(D);if(!be.path.match(/(^\/v4\/)/)||!be.path.match(he))return D;var Pe="mapbox://tiles/";Pe+=be.path.replace(re,"");var Ke=be.params;return H&&(Ke=Ke.filter(function(ut){return!ut.match(/^access_token=/)})),Ke.length&&(Pe+="?"+Ke.join("&")),Pe},Be.prototype.canonicalizeTileset=function(D,H){for(var re=H?Ue(H):!1,he=[],be=0,Pe=D.tiles||[];be<Pe.length;be+=1){var Ke=Pe[be];He(Ke)?he.push(this.canonicalizeTileURL(Ke,re)):he.push(Ke)}return he},Be.prototype._makeAPIURL=function(D,H){var re="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",he=qe(ne.API_URL);if(D.protocol=he.protocol,D.authority=he.authority,D.protocol==="http"){var be=D.params.indexOf("secure");be>=0&&D.params.splice(be,1)}if(he.path!=="/"&&(D.path=""+he.path+D.path),!ne.REQUIRE_ACCESS_TOKEN)return ct(D);if(H=H||ne.ACCESS_TOKEN,!H)throw new Error("An API access token is required to use Mapbox GL. "+re);if(H[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+re);return D.params=D.params.filter(function(Pe){return Pe.indexOf("access_token")===-1}),D.params.push("access_token="+H),ct(D)};function Ue(R){return R.indexOf("mapbox:")===0}var De=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function He(R){return De.test(R)}function nt(R){return R.indexOf("sku=")>0&&He(R)}function lt(R){for(var D=0,H=R;D<H.length;D+=1){var re=H[D],he=re.match(/^access_token=(.*)$/);if(he)return he[1]}return null}var $e=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function qe(R){var D=R.match($e);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function ct(R){var D=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+D}var dt="mapbox.eventData";function gt(R){if(!R)return null;var D=R.split(".");if(!D||D.length!==3)return null;try{var H=JSON.parse(ae(D[1]));return H}catch{return null}}var At=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};At.prototype.getStorageKey=function(D){var H=gt(ne.ACCESS_TOKEN),re="";return H&&H.u?re=Y(H.u):re=ne.ACCESS_TOKEN||"",D?dt+"."+D+":"+re:dt+":"+re},At.prototype.fetchEventData=function(){var D=J("localStorage"),H=this.getStorageKey(),re=this.getStorageKey("uuid");if(D)try{var he=i.localStorage.getItem(H);he&&(this.eventData=JSON.parse(he));var be=i.localStorage.getItem(re);be&&(this.anonId=be)}catch{O("Unable to read from LocalStorage")}},At.prototype.saveEventData=function(){var D=J("localStorage"),H=this.getStorageKey(),re=this.getStorageKey("uuid");if(D)try{i.localStorage.setItem(re,this.anonId),Object.keys(this.eventData).length>=1&&i.localStorage.setItem(H,JSON.stringify(this.eventData))}catch{O("Unable to write to LocalStorage")}},At.prototype.processRequests=function(D){},At.prototype.postEvent=function(D,H,re,he){var be=this;if(ne.EVENTS_URL){var Pe=qe(ne.EVENTS_URL);Pe.params.push("access_token="+(he||ne.ACCESS_TOKEN||""));var Ke={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:me,userId:this.anonId},ut=H?A(Ke,H):Ke,wt={url:ct(Pe),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ut])};this.pendingRequest=Nt(wt,function(Ct){be.pendingRequest=null,re(Ct),be.saveEventData(),be.processRequests(he)})}},At.prototype.queueRequest=function(D,H){this.queue.push(D),this.processRequests(H)};var Rt=function(R){function D(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(re,he,be,Pe){this.skuToken=be,(ne.EVENTS_URL&&Pe||ne.ACCESS_TOKEN&&Array.isArray(re)&&re.some(function(Ke){return Ue(Ke)||He(Ke)}))&&this.queueRequest({id:he,timestamp:Date.now()},Pe)},D.prototype.processRequests=function(re){var he=this;if(!(this.pendingRequest||this.queue.length===0)){var be=this.queue.shift(),Pe=be.id,Ke=be.timestamp;Pe&&this.success[Pe]||(this.anonId||this.fetchEventData(),a(this.anonId)||(this.anonId=S()),this.postEvent(Ke,{skuToken:this.skuToken},function(ut){ut||Pe&&(he.success[Pe]=!0)},re))}},D}(At),Vt=function(R){function D(H){R.call(this,"appUserTurnstile"),this._customAccessToken=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(re,he){ne.EVENTS_URL&&ne.ACCESS_TOKEN&&Array.isArray(re)&&re.some(function(be){return Ue(be)||He(be)})&&this.queueRequest(Date.now(),he)},D.prototype.processRequests=function(re){var he=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var be=gt(ne.ACCESS_TOKEN),Pe=be?be.u:ne.ACCESS_TOKEN,Ke=Pe!==this.eventData.tokenU;a(this.anonId)||(this.anonId=S(),Ke=!0);var ut=this.queue.shift();if(this.eventData.lastSuccess){var wt=new Date(this.eventData.lastSuccess),Ct=new Date(ut),Wt=(ut-this.eventData.lastSuccess)/(24*60*60*1e3);Ke=Ke||Wt>=1||Wt<-1||wt.getDate()!==Ct.getDate()}else Ke=!0;if(!Ke)return this.processRequests();this.postEvent(ut,{"enabled.telemetry":!1},function(nr){nr||(he.eventData.lastSuccess=ut,he.eventData.tokenU=Pe)},re)}},D}(At),Je=new Vt,Ve=Je.postTurnstileEvent.bind(Je),Ie=new Rt,Oe=Ie.postMapLoadEvent.bind(Ie),Le="mapbox-tiles",xe=500,pe=50,Ae=1e3*60*7,Te;function Ne(){i.caches&&!Te&&(Te=i.caches.open(Le))}var Ye;function et(R,D){if(Ye===void 0)try{new Response(new ReadableStream),Ye=!0}catch{Ye=!1}Ye?D(R.body):R.blob().then(D)}function ft(R,D,H){if(Ne(),!!Te){var re={status:D.status,statusText:D.statusText,headers:new i.Headers};D.headers.forEach(function(Pe,Ke){return re.headers.set(Ke,Pe)});var he=te(D.headers.get("Cache-Control")||"");if(!he["no-store"]){he["max-age"]&&re.headers.set("Expires",new Date(H+he["max-age"]*1e3).toUTCString());var be=new Date(re.headers.get("Expires")).getTime()-H;be<Ae||et(D,function(Pe){var Ke=new i.Response(Pe,re);Ne(),Te&&Te.then(function(ut){return ut.put(pt(R.url),Ke)}).catch(function(ut){return O(ut.message)})})}}}function pt(R){var D=R.indexOf("?");return D<0?R:R.slice(0,D)}function Yt(R,D){if(Ne(),!Te)return D(null);var H=pt(R.url);Te.then(function(re){re.match(H).then(function(he){var be=Jt(he);re.delete(H),be&&re.put(H,he.clone()),D(null,he,be)}).catch(D)}).catch(D)}function Jt(R){if(!R)return!1;var D=new Date(R.headers.get("Expires")||0),H=te(R.headers.get("Cache-Control")||"");return D>Date.now()&&!H["no-cache"]}var Tt=1/0;function _t(R){Tt++,Tt>pe&&(R.getActor().send("enforceCacheSizeLimit",xe),Tt=0)}function $t(R){Ne(),Te&&Te.then(function(D){D.keys().then(function(H){for(var re=0;re<H.length-R;re++)D.delete(H[re])})})}function wr(R){var D=i.caches.delete(Le);R&&D.catch(R).then(function(){return R()})}function yt(R,D){xe=R,pe=D}var jt;function Qt(){return jt==null&&(jt=i.OffscreenCanvas&&new i.OffscreenCanvas(1,1).getContext("2d")&&typeof i.createImageBitmap=="function"),jt}var gr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(gr);var sr=function(R){function D(H,re,he){re===401&&He(he)&&(H+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,H),this.status=re,this.url=he,this.name=this.constructor.name,this.message=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),vt=$()?function(){return self.worker&&self.worker.referrer}:function(){return(i.location.protocol==="blob:"?i.parent:i).location.href},at=function(R){return/^file:/.test(R)||/^file:/.test(vt())&&!/^\w+:/.test(R)};function xt(R,D){var H=new i.AbortController,re=new i.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:vt(),signal:H.signal}),he=!1,be=!1,Pe=nt(re.url);R.type==="json"&&re.headers.set("Accept","application/json");var Ke=function(wt,Ct,Wt){if(!be){if(wt&&wt.message!=="SecurityError"&&O(wt),Ct&&Wt)return ut(Ct);var nr=Date.now();i.fetch(re).then(function(qt){if(qt.ok){var mr=Pe?qt.clone():null;return ut(qt,mr,nr)}else return D(new sr(qt.statusText,qt.status,R.url))}).catch(function(qt){qt.code!==20&&D(new Error(qt.message))})}},ut=function(wt,Ct,Wt){(R.type==="arrayBuffer"?wt.arrayBuffer():R.type==="json"?wt.json():wt.text()).then(function(nr){be||(Ct&&Wt&&ft(re,Ct,Wt),he=!0,D(null,nr,wt.headers.get("Cache-Control"),wt.headers.get("Expires")))}).catch(function(nr){be||D(new Error(nr.message))})};return Pe?Yt(re,Ke):Ke(null,null),{cancel:function(){be=!0,he||H.abort()}}}function Mt(R,D){var H=new i.XMLHttpRequest;H.open(R.method||"GET",R.url,!0),R.type==="arrayBuffer"&&(H.responseType="arraybuffer");for(var re in R.headers)H.setRequestHeader(re,R.headers[re]);return R.type==="json"&&(H.responseType="text",H.setRequestHeader("Accept","application/json")),H.withCredentials=R.credentials==="include",H.onerror=function(){D(new Error(H.statusText))},H.onload=function(){if((H.status>=200&&H.status<300||H.status===0)&&H.response!==null){var he=H.response;if(R.type==="json")try{he=JSON.parse(H.response)}catch(be){return D(be)}D(null,he,H.getResponseHeader("Cache-Control"),H.getResponseHeader("Expires"))}else D(new sr(H.statusText,H.status,R.url))},H.send(R.body),{cancel:function(){return H.abort()}}}var Dt=function(R,D){if(!at(R.url)){if(i.fetch&&i.Request&&i.AbortController&&i.Request.prototype.hasOwnProperty("signal"))return xt(R,D);if($()&&self.worker&&self.worker.actor){var H=!0;return self.worker.actor.send("getResource",R,D,void 0,H)}}return Mt(R,D)},Lt=function(R,D){return Dt(A(R,{type:"json"}),D)},Bt=function(R,D){return Dt(A(R,{type:"arrayBuffer"}),D)},Nt=function(R,D){return Dt(A(R,{method:"POST"}),D)};function Xt(R){var D=i.document.createElement("a");return D.href=R,D.protocol===i.document.location.protocol&&D.host===i.document.location.host}var lr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function fr(R,D,H,re){var he=new i.Image,be=i.URL;he.onload=function(){D(null,he),be.revokeObjectURL(he.src),he.onload=null,i.requestAnimationFrame(function(){he.src=lr})},he.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Pe=new i.Blob([new Uint8Array(R)],{type:"image/png"});he.cacheControl=H,he.expires=re,he.src=R.byteLength?be.createObjectURL(Pe):lr}function hr(R,D){var H=new i.Blob([new Uint8Array(R)],{type:"image/png"});i.createImageBitmap(H).then(function(re){D(null,re)}).catch(function(re){D(new Error("Could not load image because of "+re.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var We,Ge,kt=function(){We=[],Ge=0};kt();var It=function(R,D){if(fe.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),Ge>=ne.MAX_PARALLEL_IMAGE_REQUESTS){var H={requestParameters:R,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return We.push(H),H}Ge++;var re=!1,he=function(){if(!re)for(re=!0,Ge--;We.length&&Ge<ne.MAX_PARALLEL_IMAGE_REQUESTS;){var Pe=We.shift(),Ke=Pe.requestParameters,ut=Pe.callback,wt=Pe.cancelled;wt||(Pe.cancel=It(Ke,ut).cancel)}},be=Bt(R,function(Pe,Ke,ut,wt){he(),Pe?D(Pe):Ke&&(Qt()?hr(Ke,D):fr(Ke,D,ut,wt))});return{cancel:function(){be.cancel(),he()}}},Zt=function(R,D){var H=i.document.createElement("video");H.muted=!0,H.onloadstart=function(){D(null,H)};for(var re=0;re<R.length;re++){var he=i.document.createElement("source");Xt(R[re])||(H.crossOrigin="Anonymous"),he.src=R[re],H.appendChild(he)}return{cancel:function(){}}};function rr(R,D,H){var re=H[R]&&H[R].indexOf(D)!==-1;re||(H[R]=H[R]||[],H[R].push(D))}function ur(R,D,H){if(H&&H[R]){var re=H[R].indexOf(D);re!==-1&&H[R].splice(re,1)}}var er=function(D,H){H===void 0&&(H={}),A(this,H),this.type=D},zt=function(R){function D(H,re){re===void 0&&(re={}),R.call(this,"error",A({error:H},re))}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(er),vr=function(){};vr.prototype.on=function(D,H){return this._listeners=this._listeners||{},rr(D,H,this._listeners),this},vr.prototype.off=function(D,H){return ur(D,H,this._listeners),ur(D,H,this._oneTimeListeners),this},vr.prototype.once=function(D,H){return this._oneTimeListeners=this._oneTimeListeners||{},rr(D,H,this._oneTimeListeners),this},vr.prototype.fire=function(D,H){typeof D=="string"&&(D=new er(D,H||{}));var re=D.type;if(this.listens(re)){D.target=this;for(var he=this._listeners&&this._listeners[re]?this._listeners[re].slice():[],be=0,Pe=he;be<Pe.length;be+=1){var Ke=Pe[be];Ke.call(this,D)}for(var ut=this._oneTimeListeners&&this._oneTimeListeners[re]?this._oneTimeListeners[re].slice():[],wt=0,Ct=ut;wt<Ct.length;wt+=1){var Wt=Ct[wt];ur(re,Wt,this._oneTimeListeners),Wt.call(this,D)}var nr=this._eventedParent;nr&&(A(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),nr.fire(D))}else D instanceof zt&&console.error(D.error);return this},vr.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},vr.prototype.setEventedParent=function(D,H){return this._eventedParent=D,this._eventedParentData=H,this};var yr=8,pr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},cr={"*":{type:"source"}},Ur=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],kr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Rr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},vn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},tn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Bn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},xn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Mr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Er=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Wr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Hr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},an={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},dn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Cn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},_n={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},sa={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Qn={type:"array",value:"*"},ea={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Zn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},$n={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Tr={type:"array",value:"*",minimum:1},on={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},rn=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],pn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Wn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},An={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Sn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Hn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},ta={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},wa={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ga={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Sr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Nr={"*":{type:"string"}},br={$version:yr,$root:pr,sources:cr,source:Ur,source_vector:kr,source_raster:Rr,source_raster_dem:vn,source_geojson:tn,source_video:Bn,source_image:xn,layer:Mr,layout:Er,layout_background:Wr,layout_fill:Hr,layout_circle:an,layout_heatmap:dn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:gn,layout_symbol:Cn,layout_raster:_n,layout_hillshade:sa,filter:Qn,filter_operator:ea,geometry_type:Zn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:$n,expression:Tr,light:on,paint:rn,paint_fill:pn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Wn,paint_circle:An,paint_heatmap:Sn,paint_symbol:Hn,paint_raster:ta,paint_hillshade:wa,paint_background:Ga,transition:Sr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Nr},_r=function(D,H,re,he){this.message=(D?D+": ":"")+re,he&&(this.identifier=he),H!=null&&H.__line__&&(this.line=H.__line__)};function wn(R){var D=R.key,H=R.value;return H?[new _r(D,H,"constants have been deprecated as of v8")]:[]}function Rn(R){for(var D=[],H=arguments.length-1;H-- >0;)D[H]=arguments[H+1];for(var re=0,he=D;re<he.length;re+=1){var be=he[re];for(var Pe in be)R[Pe]=be[Pe]}return R}function yn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function hn(R){if(Array.isArray(R))return R.map(hn);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var D={};for(var H in R)D[H]=hn(R[H]);return D}return yn(R)}var Lr=function(R){function D(H,re){R.call(this,re),this.message=re,this.key=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Error),Xr=function(D,H){H===void 0&&(H=[]),this.parent=D,this.bindings={};for(var re=0,he=H;re<he.length;re+=1){var be=he[re],Pe=be[0],Ke=be[1];this.bindings[Pe]=Ke}};Xr.prototype.concat=function(D){return new Xr(this,D)},Xr.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},Xr.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Gr={kind:"null"},Qr={kind:"number"},Tn={kind:"string"},Fn={kind:"boolean"},In={kind:"color"},Un={kind:"object"},On={kind:"value"},ya={kind:"error"},ua={kind:"collator"},ga={kind:"formatted"},Pa={kind:"resolvedImage"};function pi(R,D){return{kind:"array",itemType:R,N:D}}function ri(R){if(R.kind==="array"){var D=ri(R.itemType);return typeof R.N=="number"?"array<"+D+", "+R.N+">":R.itemType.kind==="value"?"array":"array<"+D+">"}else return R.kind}var _o=[Gr,Qr,Tn,Fn,In,ga,Un,pi(On),Pa];function Lo(R,D){if(D.kind==="error")return null;if(R.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!Lo(R.itemType,D.itemType))&&(typeof R.N!="number"||R.N===D.N))return null}else{if(R.kind===D.kind)return null;if(R.kind==="value")for(var H=0,re=_o;H<re.length;H+=1){var he=re[H];if(!Lo(he,D))return null}}return"Expected "+ri(R)+" but found "+ri(D)+" instead."}function to(R,D){return D.some(function(H){return H.kind===R.kind})}function Sl(R,D){return D.some(function(H){return H==="null"?R===null:H==="array"?Array.isArray(R):H==="object"?R&&!Array.isArray(R)&&typeof R=="object":H===typeof R})}var ff=L(function(R,D){var H={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function re(wt){return wt=Math.round(wt),wt<0?0:wt>255?255:wt}function he(wt){return wt<0?0:wt>1?1:wt}function be(wt){return wt[wt.length-1]==="%"?re(parseFloat(wt)/100*255):re(parseInt(wt))}function Pe(wt){return wt[wt.length-1]==="%"?he(parseFloat(wt)/100):he(parseFloat(wt))}function Ke(wt,Ct,Wt){return Wt<0?Wt+=1:Wt>1&&(Wt-=1),Wt*6<1?wt+(Ct-wt)*Wt*6:Wt*2<1?Ct:Wt*3<2?wt+(Ct-wt)*(2/3-Wt)*6:wt}function ut(wt){var Ct=wt.replace(/ /g,"").toLowerCase();if(Ct in H)return H[Ct].slice();if(Ct[0]==="#"){if(Ct.length===4){var Wt=parseInt(Ct.substr(1),16);return Wt>=0&&Wt<=4095?[(Wt&3840)>>4|(Wt&3840)>>8,Wt&240|(Wt&240)>>4,Wt&15|(Wt&15)<<4,1]:null}else if(Ct.length===7){var Wt=parseInt(Ct.substr(1),16);return Wt>=0&&Wt<=16777215?[(Wt&16711680)>>16,(Wt&65280)>>8,Wt&255,1]:null}return null}var nr=Ct.indexOf("("),qt=Ct.indexOf(")");if(nr!==-1&&qt+1===Ct.length){var mr=Ct.substr(0,nr),zr=Ct.substr(nr+1,qt-(nr+1)).split(","),sn=1;switch(mr){case"rgba":if(zr.length!==4)return null;sn=Pe(zr.pop());case"rgb":return zr.length!==3?null:[be(zr[0]),be(zr[1]),be(zr[2]),sn];case"hsla":if(zr.length!==4)return null;sn=Pe(zr.pop());case"hsl":if(zr.length!==3)return null;var qr=(parseFloat(zr[0])%360+360)%360/360,En=Pe(zr[1]),mn=Pe(zr[2]),Mn=mn<=.5?mn*(En+1):mn+En-mn*En,kn=mn*2-Mn;return[re(Ke(kn,Mn,qr+1/3)*255),re(Ke(kn,Mn,qr)*255),re(Ke(kn,Mn,qr-1/3)*255),sn];default:return null}}return null}try{D.parseCSSColor=ut}catch{}}),jf=ff.parseCSSColor,qa=function(D,H,re,he){he===void 0&&(he=1),this.r=D,this.g=H,this.b=re,this.a=he};qa.parse=function(D){if(D){if(D instanceof qa)return D;if(typeof D=="string"){var H=jf(D);if(H)return new qa(H[0]/255*H[3],H[1]/255*H[3],H[2]/255*H[3],H[3])}}},qa.prototype.toString=function(){var D=this.toArray(),H=D[0],re=D[1],he=D[2],be=D[3];return"rgba("+Math.round(H)+","+Math.round(re)+","+Math.round(he)+","+be+")"},qa.prototype.toArray=function(){var D=this,H=D.r,re=D.g,he=D.b,be=D.a;return be===0?[0,0,0,0]:[H*255/be,re*255/be,he*255/be,be]},qa.black=new qa(0,0,0,1),qa.white=new qa(1,1,1,1),qa.transparent=new qa(0,0,0,0),qa.red=new qa(1,0,0,1);var ru=function(D,H,re){D?this.sensitivity=H?"variant":"case":this.sensitivity=H?"accent":"base",this.locale=re,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ru.prototype.compare=function(D,H){return this.collator.compare(D,H)},ru.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var cf=function(D,H,re,he,be){this.text=D,this.image=H,this.scale=re,this.fontStack=he,this.textColor=be},Ki=function(D){this.sections=D};Ki.fromString=function(D){return new Ki([new cf(D,null,null,null,null)])},Ki.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},Ki.factory=function(D){return D instanceof Ki?D:Ki.fromString(D)},Ki.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},Ki.prototype.serialize=function(){for(var D=["format"],H=0,re=this.sections;H<re.length;H+=1){var he=re[H];if(he.image){D.push(["image",he.image.name]);continue}D.push(he.text);var be={};he.fontStack&&(be["text-font"]=["literal",he.fontStack.split(",")]),he.scale&&(be["font-scale"]=he.scale),he.textColor&&(be["text-color"]=["rgba"].concat(he.textColor.toArray())),D.push(be)}return D};var bo=function(D){this.name=D.name,this.available=D.available};bo.prototype.toString=function(){return this.name},bo.fromString=function(D){return D?new bo({name:D,available:!1}):null},bo.prototype.serialize=function(){return["image",this.name]};function El(R,D,H,re){if(!(typeof R=="number"&&R>=0&&R<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof H=="number"&&H>=0&&H<=255)){var he=typeof re=="number"?[R,D,H,re]:[R,D,H];return"Invalid rgba value ["+he.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof re>"u"||typeof re=="number"&&re>=0&&re<=1?null:"Invalid rgba value ["+[R,D,H,re].join(", ")+"]: 'a' must be between 0 and 1."}function zu(R){if(R===null)return!0;if(typeof R=="string")return!0;if(typeof R=="boolean")return!0;if(typeof R=="number")return!0;if(R instanceof qa)return!0;if(R instanceof ru)return!0;if(R instanceof Ki)return!0;if(R instanceof bo)return!0;if(Array.isArray(R)){for(var D=0,H=R;D<H.length;D+=1){var re=H[D];if(!zu(re))return!1}return!0}else if(typeof R=="object"){for(var he in R)if(!zu(R[he]))return!1;return!0}else return!1}function Ii(R){if(R===null)return Gr;if(typeof R=="string")return Tn;if(typeof R=="boolean")return Fn;if(typeof R=="number")return Qr;if(R instanceof qa)return In;if(R instanceof ru)return ua;if(R instanceof Ki)return ga;if(R instanceof bo)return Pa;if(Array.isArray(R)){for(var D=R.length,H,re=0,he=R;re<he.length;re+=1){var be=he[re],Pe=Ii(be);if(!H)H=Pe;else{if(H===Pe)continue;H=On;break}}return pi(H||On,D)}else return Un}function Cl(R){var D=typeof R;return R===null?"":D==="string"||D==="number"||D==="boolean"?String(R):R instanceof qa||R instanceof Ki||R instanceof bo?R.toString():JSON.stringify(R)}var _i=function(D,H){this.type=D,this.value=H};_i.parse=function(D,H){if(D.length!==2)return H.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!zu(D[1]))return H.error("invalid value");var re=D[1],he=Ii(re),be=H.expectedType;return he.kind==="array"&&he.N===0&&be&&be.kind==="array"&&(typeof be.N!="number"||be.N===0)&&(he=be),new _i(he,re)},_i.prototype.evaluate=function(){return this.value},_i.prototype.eachChild=function(){},_i.prototype.outputDefined=function(){return!0},_i.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof qa?["rgba"].concat(this.value.toArray()):this.value instanceof Ki?this.value.serialize():this.value};var Vi=function(D){this.name="ExpressionEvaluationError",this.message=D};Vi.prototype.toJSON=function(){return this.message};var Ll={string:Tn,number:Qr,boolean:Fn,object:Un},ro=function(D,H){this.type=D,this.args=H};ro.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var re=1,he,be=D[0];if(be==="array"){var Pe;if(D.length>2){var Ke=D[1];if(typeof Ke!="string"||!(Ke in Ll)||Ke==="object")return H.error('The item type argument of "array" must be one of string, number, boolean',1);Pe=Ll[Ke],re++}else Pe=On;var ut;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return H.error('The length argument to "array" must be a positive integer literal',2);ut=D[2],re++}he=pi(Pe,ut)}else he=Ll[be];for(var wt=[];re<D.length;re++){var Ct=H.parse(D[re],re,On);if(!Ct)return null;wt.push(Ct)}return new ro(he,wt)},ro.prototype.evaluate=function(D){for(var H=0;H<this.args.length;H++){var re=this.args[H].evaluate(D),he=Lo(this.type,Ii(re));if(he){if(H===this.args.length-1)throw new Vi("Expected value to be of type "+ri(this.type)+", but found "+ri(Ii(re))+" instead.")}else return re}return null},ro.prototype.eachChild=function(D){this.args.forEach(D)},ro.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},ro.prototype.serialize=function(){var D=this.type,H=[D.kind];if(D.kind==="array"){var re=D.itemType;if(re.kind==="string"||re.kind==="number"||re.kind==="boolean"){H.push(re.kind);var he=D.N;(typeof he=="number"||this.args.length>1)&&H.push(he)}}return H.concat(this.args.map(function(be){return be.serialize()}))};var no=function(D){this.type=ga,this.sections=D};no.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var re=D[1];if(!Array.isArray(re)&&typeof re=="object")return H.error("First argument must be an image or text section.");for(var he=[],be=!1,Pe=1;Pe<=D.length-1;++Pe){var Ke=D[Pe];if(be&&typeof Ke=="object"&&!Array.isArray(Ke)){be=!1;var ut=null;if(Ke["font-scale"]&&(ut=H.parse(Ke["font-scale"],1,Qr),!ut))return null;var wt=null;if(Ke["text-font"]&&(wt=H.parse(Ke["text-font"],1,pi(Tn)),!wt))return null;var Ct=null;if(Ke["text-color"]&&(Ct=H.parse(Ke["text-color"],1,In),!Ct))return null;var Wt=he[he.length-1];Wt.scale=ut,Wt.font=wt,Wt.textColor=Ct}else{var nr=H.parse(D[Pe],1,On);if(!nr)return null;var qt=nr.type.kind;if(qt!=="string"&&qt!=="value"&&qt!=="null"&&qt!=="resolvedImage")return H.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");be=!0,he.push({content:nr,scale:null,font:null,textColor:null})}}return new no(he)},no.prototype.evaluate=function(D){var H=function(re){var he=re.content.evaluate(D);return Ii(he)===Pa?new cf("",he,null,null,null):new cf(Cl(he),null,re.scale?re.scale.evaluate(D):null,re.font?re.font.evaluate(D).join(","):null,re.textColor?re.textColor.evaluate(D):null)};return new Ki(this.sections.map(H))},no.prototype.eachChild=function(D){for(var H=0,re=this.sections;H<re.length;H+=1){var he=re[H];D(he.content),he.scale&&D(he.scale),he.font&&D(he.font),he.textColor&&D(he.textColor)}},no.prototype.outputDefined=function(){return!1},no.prototype.serialize=function(){for(var D=["format"],H=0,re=this.sections;H<re.length;H+=1){var he=re[H];D.push(he.content.serialize());var be={};he.scale&&(be["font-scale"]=he.scale.serialize()),he.font&&(be["text-font"]=he.font.serialize()),he.textColor&&(be["text-color"]=he.textColor.serialize()),D.push(be)}return D};var zo=function(D){this.type=Pa,this.input=D};zo.parse=function(D,H){if(D.length!==2)return H.error("Expected two arguments.");var re=H.parse(D[1],1,Tn);return re?new zo(re):H.error("No image name provided.")},zo.prototype.evaluate=function(D){var H=this.input.evaluate(D),re=bo.fromString(H);return re&&D.availableImages&&(re.available=D.availableImages.indexOf(H)>-1),re},zo.prototype.eachChild=function(D){D(this.input)},zo.prototype.outputDefined=function(){return!1},zo.prototype.serialize=function(){return["image",this.input.serialize()]};var Xf={"to-boolean":Fn,"to-color":In,"to-number":Qr,"to-string":Tn},Po=function(D,H){this.type=D,this.args=H};Po.parse=function(D,H){if(D.length<2)return H.error("Expected at least one argument.");var re=D[0];if((re==="to-boolean"||re==="to-string")&&D.length!==2)return H.error("Expected one argument.");for(var he=Xf[re],be=[],Pe=1;Pe<D.length;Pe++){var Ke=H.parse(D[Pe],Pe,On);if(!Ke)return null;be.push(Ke)}return new Po(he,be)},Po.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var H,re,he=0,be=this.args;he<be.length;he+=1){var Pe=be[he];if(H=Pe.evaluate(D),re=null,H instanceof qa)return H;if(typeof H=="string"){var Ke=D.parseColor(H);if(Ke)return Ke}else if(Array.isArray(H)&&(H.length<3||H.length>4?re="Invalid rbga value "+JSON.stringify(H)+": expected an array containing either three or four numeric values.":re=El(H[0],H[1],H[2],H[3]),!re))return new qa(H[0]/255,H[1]/255,H[2]/255,H[3])}throw new Vi(re||"Could not parse color from value '"+(typeof H=="string"?H:String(JSON.stringify(H)))+"'")}else if(this.type.kind==="number"){for(var ut=null,wt=0,Ct=this.args;wt<Ct.length;wt+=1){var Wt=Ct[wt];if(ut=Wt.evaluate(D),ut===null)return 0;var nr=Number(ut);if(!isNaN(nr))return nr}throw new Vi("Could not convert "+JSON.stringify(ut)+" to number.")}else return this.type.kind==="formatted"?Ki.fromString(Cl(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?bo.fromString(Cl(this.args[0].evaluate(D))):Cl(this.args[0].evaluate(D))},Po.prototype.eachChild=function(D){this.args.forEach(D)},Po.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Po.prototype.serialize=function(){if(this.type.kind==="formatted")return new no([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new zo(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(H){D.push(H.serialize())}),D};var eh=["Unknown","Point","LineString","Polygon"],cs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};cs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},cs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?eh[this.feature.type]:this.feature.type:null},cs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},cs.prototype.canonicalID=function(){return this.canonical},cs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},cs.prototype.parseColor=function(D){var H=this._parseColorCache[D];return H||(H=this._parseColorCache[D]=qa.parse(D)),H};var Ji=function(D,H,re,he){this.name=D,this.type=H,this._evaluate=re,this.args=he};Ji.prototype.evaluate=function(D){return this._evaluate(D,this.args)},Ji.prototype.eachChild=function(D){this.args.forEach(D)},Ji.prototype.outputDefined=function(){return!1},Ji.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},Ji.parse=function(D,H){var re,he=D[0],be=Ji.definitions[he];if(!be)return H.error('Unknown expression "'+he+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Pe=Array.isArray(be)?be[0]:be.type,Ke=Array.isArray(be)?[[be[1],be[2]]]:be.overloads,ut=Ke.filter(function(Aa){var Ca=Aa[0];return!Array.isArray(Ca)||Ca.length===D.length-1}),wt=null,Ct=0,Wt=ut;Ct<Wt.length;Ct+=1){var nr=Wt[Ct],qt=nr[0],mr=nr[1];wt=new vs(H.registry,H.path,null,H.scope);for(var zr=[],sn=!1,qr=1;qr<D.length;qr++){var En=D[qr],mn=Array.isArray(qt)?qt[qr-1]:qt.type,Mn=wt.parse(En,1+zr.length,mn);if(!Mn){sn=!0;break}zr.push(Mn)}if(!sn){if(Array.isArray(qt)&&qt.length!==zr.length){wt.error("Expected "+qt.length+" arguments, but found "+zr.length+" instead.");continue}for(var kn=0;kn<zr.length;kn++){var Gn=Array.isArray(qt)?qt[kn]:qt.type,oa=zr[kn];wt.concat(kn+1).checkSubtype(Gn,oa.type)}if(wt.errors.length===0)return new Ji(he,Pe,mr,zr)}}if(ut.length===1)(re=H.errors).push.apply(re,wt.errors);else{for(var na=ut.length?ut:Ke,Ta=na.map(function(Aa){var Ca=Aa[0];return hf(Ca)}).join(" | "),pa=[],ba=1;ba<D.length;ba++){var Na=H.parse(D[ba],1+pa.length);if(!Na)return null;pa.push(ri(Na.type))}H.error("Expected arguments of type "+Ta+", but found ("+pa.join(", ")+") instead.")}return null},Ji.register=function(D,H){Ji.definitions=H;for(var re in H)D[re]=Ji};function hf(R){return Array.isArray(R)?"("+R.map(ri).join(", ")+")":"("+ri(R.type)+"...)"}var Ns=function(D,H,re){this.type=ua,this.locale=re,this.caseSensitive=D,this.diacriticSensitive=H};Ns.parse=function(D,H){if(D.length!==2)return H.error("Expected one argument.");var re=D[1];if(typeof re!="object"||Array.isArray(re))return H.error("Collator options argument must be an object.");var he=H.parse(re["case-sensitive"]===void 0?!1:re["case-sensitive"],1,Fn);if(!he)return null;var be=H.parse(re["diacritic-sensitive"]===void 0?!1:re["diacritic-sensitive"],1,Fn);if(!be)return null;var Pe=null;return re.locale&&(Pe=H.parse(re.locale,1,Tn),!Pe)?null:new Ns(he,be,Pe)},Ns.prototype.evaluate=function(D){return new ru(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},Ns.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},Ns.prototype.outputDefined=function(){return!1},Ns.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var hs=8192;function vf(R,D){R[0]=Math.min(R[0],D[0]),R[1]=Math.min(R[1],D[1]),R[2]=Math.max(R[2],D[0]),R[3]=Math.max(R[3],D[1])}function Kf(R){return(180+R)/360}function th(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Ou(R,D){return!(R[0]<=D[0]||R[2]>=D[2]||R[1]<=D[1]||R[3]>=D[3])}function rh(R,D){var H=Kf(R[0]),re=th(R[1]),he=Math.pow(2,D.z);return[Math.round(H*he*hs),Math.round(re*he*hs)]}function nh(R,D,H){var re=R[0]-D[0],he=R[1]-D[1],be=R[0]-H[0],Pe=R[1]-H[1];return re*Pe-be*he===0&&re*be<=0&&he*Pe<=0}function ah(R,D,H){return D[1]>R[1]!=H[1]>R[1]&&R[0]<(H[0]-D[0])*(R[1]-D[1])/(H[1]-D[1])+D[0]}function df(R,D){for(var H=!1,re=0,he=D.length;re<he;re++)for(var be=D[re],Pe=0,Ke=be.length;Pe<Ke-1;Pe++){if(nh(R,be[Pe],be[Pe+1]))return!1;ah(R,be[Pe],be[Pe+1])&&(H=!H)}return H}function ih(R,D){for(var H=0;H<D.length;H++)if(df(R,D[H]))return!0;return!1}function oh(R,D){return R[0]*D[1]-R[1]*D[0]}function Jf(R,D,H,re){var he=R[0]-H[0],be=R[1]-H[1],Pe=D[0]-H[0],Ke=D[1]-H[1],ut=re[0]-H[0],wt=re[1]-H[1],Ct=he*wt-ut*be,Wt=Pe*wt-ut*Ke;return Ct>0&&Wt<0||Ct<0&&Wt>0}function Qf(R,D,H,re){var he=[D[0]-R[0],D[1]-R[1]],be=[re[0]-H[0],re[1]-H[1]];return oh(be,he)===0?!1:!!(Jf(R,D,H,re)&&Jf(H,re,R,D))}function il(R,D,H){for(var re=0,he=H;re<he.length;re+=1)for(var be=he[re],Pe=0;Pe<be.length-1;++Pe)if(Qf(R,D,be[Pe],be[Pe+1]))return!0;return!1}function Pl(R,D){for(var H=0;H<R.length;++H)if(!df(R[H],D))return!1;for(var re=0;re<R.length-1;++re)if(il(R[re],R[re+1],D))return!1;return!0}function nu(R,D){for(var H=0;H<D.length;H++)if(Pl(R,D[H]))return!0;return!1}function au(R,D,H){for(var re=[],he=0;he<R.length;he++){for(var be=[],Pe=0;Pe<R[he].length;Pe++){var Ke=rh(R[he][Pe],H);vf(D,Ke),be.push(Ke)}re.push(be)}return re}function $f(R,D,H){for(var re=[],he=0;he<R.length;he++){var be=au(R[he],D,H);re.push(be)}return re}function Ss(R,D,H,re){if(R[0]<H[0]||R[0]>H[2]){var he=re*.5,be=R[0]-H[0]>he?-re:H[0]-R[0]>he?re:0;be===0&&(be=R[0]-H[2]>he?-re:H[2]-R[0]>he?re:0),R[0]+=be}vf(D,R)}function sh(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}function Bu(R,D,H,re){for(var he=Math.pow(2,re.z)*hs,be=[re.x*hs,re.y*hs],Pe=[],Ke=0,ut=R;Ke<ut.length;Ke+=1)for(var wt=ut[Ke],Ct=0,Wt=wt;Ct<Wt.length;Ct+=1){var nr=Wt[Ct],qt=[nr.x+be[0],nr.y+be[1]];Ss(qt,D,H,he),Pe.push(qt)}return Pe}function qf(R,D,H,re){for(var he=Math.pow(2,re.z)*hs,be=[re.x*hs,re.y*hs],Pe=[],Ke=0,ut=R;Ke<ut.length;Ke+=1){for(var wt=ut[Ke],Ct=[],Wt=0,nr=wt;Wt<nr.length;Wt+=1){var qt=nr[Wt],mr=[qt.x+be[0],qt.y+be[1]];vf(D,mr),Ct.push(mr)}Pe.push(Ct)}if(D[2]-D[0]<=he/2){sh(D);for(var zr=0,sn=Pe;zr<sn.length;zr+=1)for(var qr=sn[zr],En=0,mn=qr;En<mn.length;En+=1){var Mn=mn[En];Ss(Mn,D,H,he)}}return Pe}function ec(R,D){var H=[1/0,1/0,-1/0,-1/0],re=[1/0,1/0,-1/0,-1/0],he=R.canonicalID();if(D.type==="Polygon"){var be=au(D.coordinates,re,he),Pe=Bu(R.geometry(),H,re,he);if(!Ou(H,re))return!1;for(var Ke=0,ut=Pe;Ke<ut.length;Ke+=1){var wt=ut[Ke];if(!df(wt,be))return!1}}if(D.type==="MultiPolygon"){var Ct=$f(D.coordinates,re,he),Wt=Bu(R.geometry(),H,re,he);if(!Ou(H,re))return!1;for(var nr=0,qt=Wt;nr<qt.length;nr+=1){var mr=qt[nr];if(!ih(mr,Ct))return!1}}return!0}function Nu(R,D){var H=[1/0,1/0,-1/0,-1/0],re=[1/0,1/0,-1/0,-1/0],he=R.canonicalID();if(D.type==="Polygon"){var be=au(D.coordinates,re,he),Pe=qf(R.geometry(),H,re,he);if(!Ou(H,re))return!1;for(var Ke=0,ut=Pe;Ke<ut.length;Ke+=1){var wt=ut[Ke];if(!Pl(wt,be))return!1}}if(D.type==="MultiPolygon"){var Ct=$f(D.coordinates,re,he),Wt=qf(R.geometry(),H,re,he);if(!Ou(H,re))return!1;for(var nr=0,qt=Wt;nr<qt.length;nr+=1){var mr=qt[nr];if(!nu(mr,Ct))return!1}}return!0}var Xo=function(D,H){this.type=Fn,this.geojson=D,this.geometries=H};Xo.parse=function(D,H){if(D.length!==2)return H.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(zu(D[1])){var re=D[1];if(re.type==="FeatureCollection")for(var he=0;he<re.features.length;++he){var be=re.features[he].geometry.type;if(be==="Polygon"||be==="MultiPolygon")return new Xo(re,re.features[he].geometry)}else if(re.type==="Feature"){var Pe=re.geometry.type;if(Pe==="Polygon"||Pe==="MultiPolygon")return new Xo(re,re.geometry)}else if(re.type==="Polygon"||re.type==="MultiPolygon")return new Xo(re,re)}return H.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Xo.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return ec(D,this.geometries);if(D.geometryType()==="LineString")return Nu(D,this.geometries)}return!1},Xo.prototype.eachChild=function(){},Xo.prototype.outputDefined=function(){return!0},Xo.prototype.serialize=function(){return["within",this.geojson]};function Rl(R){if(R instanceof Ji){if(R.name==="get"&&R.args.length===1)return!1;if(R.name==="feature-state")return!1;if(R.name==="has"&&R.args.length===1)return!1;if(R.name==="properties"||R.name==="geometry-type"||R.name==="id")return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof Xo)return!1;var D=!0;return R.eachChild(function(H){D&&!Rl(H)&&(D=!1)}),D}function ol(R){if(R instanceof Ji&&R.name==="feature-state")return!1;var D=!0;return R.eachChild(function(H){D&&!ol(H)&&(D=!1)}),D}function iu(R,D){if(R instanceof Ji&&D.indexOf(R.name)>=0)return!1;var H=!0;return R.eachChild(function(re){H&&!iu(re,D)&&(H=!1)}),H}var Us=function(D,H){this.type=H.type,this.name=D,this.boundExpression=H};Us.parse=function(D,H){if(D.length!==2||typeof D[1]!="string")return H.error("'var' expression requires exactly one string literal argument.");var re=D[1];return H.scope.has(re)?new Us(re,H.scope.get(re)):H.error('Unknown variable "'+re+'". Make sure "'+re+'" has been bound in an enclosing "let" expression before using it.',1)},Us.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},Us.prototype.eachChild=function(){},Us.prototype.outputDefined=function(){return!1},Us.prototype.serialize=function(){return["var",this.name]};var vs=function(D,H,re,he,be){H===void 0&&(H=[]),he===void 0&&(he=new Xr),be===void 0&&(be=[]),this.registry=D,this.path=H,this.key=H.map(function(Pe){return"["+Pe+"]"}).join(""),this.scope=he,this.errors=be,this.expectedType=re};vs.prototype.parse=function(D,H,re,he,be){return be===void 0&&(be={}),H?this.concat(H,re,he)._parse(D,be):this._parse(D,be)},vs.prototype._parse=function(D,H){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function re(Ct,Wt,nr){return nr==="assert"?new ro(Wt,[Ct]):nr==="coerce"?new Po(Wt,[Ct]):Ct}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var he=D[0];if(typeof he!="string")return this.error("Expression name must be a string, but found "+typeof he+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var be=this.registry[he];if(be){var Pe=be.parse(D,this);if(!Pe)return null;if(this.expectedType){var Ke=this.expectedType,ut=Pe.type;if((Ke.kind==="string"||Ke.kind==="number"||Ke.kind==="boolean"||Ke.kind==="object"||Ke.kind==="array")&&ut.kind==="value")Pe=re(Pe,Ke,H.typeAnnotation||"assert");else if((Ke.kind==="color"||Ke.kind==="formatted"||Ke.kind==="resolvedImage")&&(ut.kind==="value"||ut.kind==="string"))Pe=re(Pe,Ke,H.typeAnnotation||"coerce");else if(this.checkSubtype(Ke,ut))return null}if(!(Pe instanceof _i)&&Pe.type.kind!=="resolvedImage"&&pf(Pe)){var wt=new cs;try{Pe=new _i(Pe.type,Pe.evaluate(wt))}catch(Ct){return this.error(Ct.message),null}}return Pe}return this.error('Unknown expression "'+he+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},vs.prototype.concat=function(D,H,re){var he=typeof D=="number"?this.path.concat(D):this.path,be=re?this.scope.concat(re):this.scope;return new vs(this.registry,he,H||null,be,this.errors)},vs.prototype.error=function(D){for(var H=[],re=arguments.length-1;re-- >0;)H[re]=arguments[re+1];var he=""+this.key+H.map(function(be){return"["+be+"]"}).join("");this.errors.push(new Lr(he,D))},vs.prototype.checkSubtype=function(D,H){var re=Lo(D,H);return re&&this.error(re),re};function pf(R){if(R instanceof Us)return pf(R.boundExpression);if(R instanceof Ji&&R.name==="error")return!1;if(R instanceof Ns)return!1;if(R instanceof Xo)return!1;var D=R instanceof Po||R instanceof ro,H=!0;return R.eachChild(function(re){D?H=H&&pf(re):H=H&&re instanceof _i}),H?Rl(R)&&iu(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function Dl(R,D){for(var H=R.length-1,re=0,he=H,be=0,Pe,Ke;re<=he;)if(be=Math.floor((re+he)/2),Pe=R[be],Ke=R[be+1],Pe<=D){if(be===H||D<Ke)return be;re=be+1}else if(Pe>D)he=be-1;else throw new Vi("Input is not a number.");return 0}var Ko=function(D,H,re){this.type=D,this.input=H,this.labels=[],this.outputs=[];for(var he=0,be=re;he<be.length;he+=1){var Pe=be[he],Ke=Pe[0],ut=Pe[1];this.labels.push(Ke),this.outputs.push(ut)}};Ko.parse=function(D,H){if(D.length-1<4)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return H.error("Expected an even number of arguments.");var re=H.parse(D[1],1,Qr);if(!re)return null;var he=[],be=null;H.expectedType&&H.expectedType.kind!=="value"&&(be=H.expectedType);for(var Pe=1;Pe<D.length;Pe+=2){var Ke=Pe===1?-1/0:D[Pe],ut=D[Pe+1],wt=Pe,Ct=Pe+1;if(typeof Ke!="number")return H.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',wt);if(he.length&&he[he.length-1][0]>=Ke)return H.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',wt);var Wt=H.parse(ut,Ct,be);if(!Wt)return null;be=be||Wt.type,he.push([Ke,Wt])}return new Ko(be,re,he)},Ko.prototype.evaluate=function(D){var H=this.labels,re=this.outputs;if(H.length===1)return re[0].evaluate(D);var he=this.input.evaluate(D);if(he<=H[0])return re[0].evaluate(D);var be=H.length;if(he>=H[be-1])return re[be-1].evaluate(D);var Pe=Dl(H,he);return re[Pe].evaluate(D)},Ko.prototype.eachChild=function(D){D(this.input);for(var H=0,re=this.outputs;H<re.length;H+=1){var he=re[H];D(he)}},Ko.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Ko.prototype.serialize=function(){for(var D=["step",this.input.serialize()],H=0;H<this.labels.length;H++)H>0&&D.push(this.labels[H]),D.push(this.outputs[H].serialize());return D};function Pi(R,D,H){return R*(1-H)+D*H}function gf(R,D,H){return new qa(Pi(R.r,D.r,H),Pi(R.g,D.g,H),Pi(R.b,D.b,H),Pi(R.a,D.a,H))}function lh(R,D,H){return R.map(function(re,he){return Pi(re,D[he],H)})}var Uu=Object.freeze({__proto__:null,number:Pi,color:gf,array:lh}),Il=.95047,kl=1,Ro=1.08883,Hu=4/29,Fl=6/29,Vu=3*Fl*Fl,uh=Fl*Fl*Fl,tc=Math.PI/180,yf=180/Math.PI;function mf(R){return R>uh?Math.pow(R,.3333333333333333):R/Vu+Hu}function xf(R){return R>Fl?R*R*R:Vu*(R-Hu)}function _l(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function Gu(R){return R/=255,R<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function ou(R){var D=Gu(R.r),H=Gu(R.g),re=Gu(R.b),he=mf((.4124564*D+.3575761*H+.1804375*re)/Il),be=mf((.2126729*D+.7151522*H+.072175*re)/kl),Pe=mf((.0193339*D+.119192*H+.9503041*re)/Ro);return{l:116*be-16,a:500*(he-be),b:200*(be-Pe),alpha:R.a}}function Wu(R){var D=(R.l+16)/116,H=isNaN(R.a)?D:D+R.a/500,re=isNaN(R.b)?D:D-R.b/200;return D=kl*xf(D),H=Il*xf(H),re=Ro*xf(re),new qa(_l(3.2404542*H-1.5371385*D-.4985314*re),_l(-.969266*H+1.8760108*D+.041556*re),_l(.0556434*H-.2040259*D+1.0572252*re),R.alpha)}function gi(R,D,H){return{l:Pi(R.l,D.l,H),a:Pi(R.a,D.a,H),b:Pi(R.b,D.b,H),alpha:Pi(R.alpha,D.alpha,H)}}function rc(R){var D=ou(R),H=D.l,re=D.a,he=D.b,be=Math.atan2(he,re)*yf;return{h:be<0?be+360:be,c:Math.sqrt(re*re+he*he),l:H,alpha:R.a}}function Jo(R){var D=R.h*tc,H=R.c,re=R.l;return Wu({l:re,a:Math.cos(D)*H,b:Math.sin(D)*H,alpha:R.alpha})}function nc(R,D,H){var re=D-R;return R+H*(re>180||re<-180?re-360*Math.round(re/360):re)}function bf(R,D,H){return{h:nc(R.h,D.h,H),c:Pi(R.c,D.c,H),l:Pi(R.l,D.l,H),alpha:Pi(R.alpha,D.alpha,H)}}var sl={forward:ou,reverse:Wu,interpolate:gi},Hs={forward:rc,reverse:Jo,interpolate:bf},Yu=Object.freeze({__proto__:null,lab:sl,hcl:Hs}),ki=function(D,H,re,he,be){this.type=D,this.operator=H,this.interpolation=re,this.input=he,this.labels=[],this.outputs=[];for(var Pe=0,Ke=be;Pe<Ke.length;Pe+=1){var ut=Ke[Pe],wt=ut[0],Ct=ut[1];this.labels.push(wt),this.outputs.push(Ct)}};ki.interpolationFactor=function(D,H,re,he){var be=0;if(D.name==="exponential")be=su(H,D.base,re,he);else if(D.name==="linear")be=su(H,1,re,he);else if(D.name==="cubic-bezier"){var Pe=D.controlPoints,Ke=new v(Pe[0],Pe[1],Pe[2],Pe[3]);be=Ke.solve(su(H,1,re,he))}return be},ki.parse=function(D,H){var re=D[0],he=D[1],be=D[2],Pe=D.slice(3);if(!Array.isArray(he)||he.length===0)return H.error("Expected an interpolation type expression.",1);if(he[0]==="linear")he={name:"linear"};else if(he[0]==="exponential"){var Ke=he[1];if(typeof Ke!="number")return H.error("Exponential interpolation requires a numeric base.",1,1);he={name:"exponential",base:Ke}}else if(he[0]==="cubic-bezier"){var ut=he.slice(1);if(ut.length!==4||ut.some(function(qr){return typeof qr!="number"||qr<0||qr>1}))return H.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);he={name:"cubic-bezier",controlPoints:ut}}else return H.error("Unknown interpolation type "+String(he[0]),1,0);if(D.length-1<4)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return H.error("Expected an even number of arguments.");if(be=H.parse(be,2,Qr),!be)return null;var wt=[],Ct=null;re==="interpolate-hcl"||re==="interpolate-lab"?Ct=In:H.expectedType&&H.expectedType.kind!=="value"&&(Ct=H.expectedType);for(var Wt=0;Wt<Pe.length;Wt+=2){var nr=Pe[Wt],qt=Pe[Wt+1],mr=Wt+3,zr=Wt+4;if(typeof nr!="number")return H.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',mr);if(wt.length&&wt[wt.length-1][0]>=nr)return H.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',mr);var sn=H.parse(qt,zr,Ct);if(!sn)return null;Ct=Ct||sn.type,wt.push([nr,sn])}return Ct.kind!=="number"&&Ct.kind!=="color"&&!(Ct.kind==="array"&&Ct.itemType.kind==="number"&&typeof Ct.N=="number")?H.error("Type "+ri(Ct)+" is not interpolatable."):new ki(Ct,re,he,be,wt)},ki.prototype.evaluate=function(D){var H=this.labels,re=this.outputs;if(H.length===1)return re[0].evaluate(D);var he=this.input.evaluate(D);if(he<=H[0])return re[0].evaluate(D);var be=H.length;if(he>=H[be-1])return re[be-1].evaluate(D);var Pe=Dl(H,he),Ke=H[Pe],ut=H[Pe+1],wt=ki.interpolationFactor(this.interpolation,he,Ke,ut),Ct=re[Pe].evaluate(D),Wt=re[Pe+1].evaluate(D);return this.operator==="interpolate"?Uu[this.type.kind.toLowerCase()](Ct,Wt,wt):this.operator==="interpolate-hcl"?Hs.reverse(Hs.interpolate(Hs.forward(Ct),Hs.forward(Wt),wt)):sl.reverse(sl.interpolate(sl.forward(Ct),sl.forward(Wt),wt))},ki.prototype.eachChild=function(D){D(this.input);for(var H=0,re=this.outputs;H<re.length;H+=1){var he=re[H];D(he)}},ki.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},ki.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var H=[this.operator,D,this.input.serialize()],re=0;re<this.labels.length;re++)H.push(this.labels[re],this.outputs[re].serialize());return H};function su(R,D,H,re){var he=re-H,be=R-H;return he===0?0:D===1?be/he:(Math.pow(D,be)-1)/(Math.pow(D,he)-1)}var Qo=function(D,H){this.type=D,this.args=H};Qo.parse=function(D,H){if(D.length<2)return H.error("Expectected at least one argument.");var re=null,he=H.expectedType;he&&he.kind!=="value"&&(re=he);for(var be=[],Pe=0,Ke=D.slice(1);Pe<Ke.length;Pe+=1){var ut=Ke[Pe],wt=H.parse(ut,1+be.length,re,void 0,{typeAnnotation:"omit"});if(!wt)return null;re=re||wt.type,be.push(wt)}var Ct=he&&be.some(function(Wt){return Lo(he,Wt.type)});return Ct?new Qo(On,be):new Qo(re,be)},Qo.prototype.evaluate=function(D){for(var H=null,re=0,he,be=0,Pe=this.args;be<Pe.length;be+=1){var Ke=Pe[be];if(re++,H=Ke.evaluate(D),H&&H instanceof bo&&!H.available&&(he||(he=H.name),H=null,re===this.args.length&&(H=he)),H!==null)break}return H},Qo.prototype.eachChild=function(D){this.args.forEach(D)},Qo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Qo.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(H){D.push(H.serialize())}),D};var Es=function(D,H){this.type=H.type,this.bindings=[].concat(D),this.result=H};Es.prototype.evaluate=function(D){return this.result.evaluate(D)},Es.prototype.eachChild=function(D){for(var H=0,re=this.bindings;H<re.length;H+=1){var he=re[H];D(he[1])}D(this.result)},Es.parse=function(D,H){if(D.length<4)return H.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var re=[],he=1;he<D.length-1;he+=2){var be=D[he];if(typeof be!="string")return H.error("Expected string, but found "+typeof be+" instead.",he);if(/[^a-zA-Z0-9_]/.test(be))return H.error("Variable names must contain only alphanumeric characters or '_'.",he);var Pe=H.parse(D[he+1],he+1);if(!Pe)return null;re.push([be,Pe])}var Ke=H.parse(D[D.length-1],D.length-1,H.expectedType,re);return Ke?new Es(re,Ke):null},Es.prototype.outputDefined=function(){return this.result.outputDefined()},Es.prototype.serialize=function(){for(var D=["let"],H=0,re=this.bindings;H<re.length;H+=1){var he=re[H],be=he[0],Pe=he[1];D.push(be,Pe.serialize())}return D.push(this.result.serialize()),D};var ll=function(D,H,re){this.type=D,this.index=H,this.input=re};ll.parse=function(D,H){if(D.length!==3)return H.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var re=H.parse(D[1],1,Qr),he=H.parse(D[2],2,pi(H.expectedType||On));if(!re||!he)return null;var be=he.type;return new ll(be.itemType,re,he)},ll.prototype.evaluate=function(D){var H=this.index.evaluate(D),re=this.input.evaluate(D);if(H<0)throw new Vi("Array index out of bounds: "+H+" < 0.");if(H>=re.length)throw new Vi("Array index out of bounds: "+H+" > "+(re.length-1)+".");if(H!==Math.floor(H))throw new Vi("Array index must be an integer, but found "+H+" instead.");return re[H]},ll.prototype.eachChild=function(D){D(this.index),D(this.input)},ll.prototype.outputDefined=function(){return!1},ll.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Vs=function(D,H){this.type=Fn,this.needle=D,this.haystack=H};Vs.parse=function(D,H){if(D.length!==3)return H.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var re=H.parse(D[1],1,On),he=H.parse(D[2],2,On);return!re||!he?null:to(re.type,[Fn,Tn,Qr,Gr,On])?new Vs(re,he):H.error("Expected first argument to be of type boolean, string, number or null, but found "+ri(re.type)+" instead")},Vs.prototype.evaluate=function(D){var H=this.needle.evaluate(D),re=this.haystack.evaluate(D);if(!re)return!1;if(!Sl(H,["boolean","string","number","null"]))throw new Vi("Expected first argument to be of type boolean, string, number or null, but found "+ri(Ii(H))+" instead.");if(!Sl(re,["string","array"]))throw new Vi("Expected second argument to be of type array or string, but found "+ri(Ii(re))+" instead.");return re.indexOf(H)>=0},Vs.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},Vs.prototype.outputDefined=function(){return!0},Vs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var $o=function(D,H,re){this.type=Qr,this.needle=D,this.haystack=H,this.fromIndex=re};$o.parse=function(D,H){if(D.length<=2||D.length>=5)return H.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var re=H.parse(D[1],1,On),he=H.parse(D[2],2,On);if(!re||!he)return null;if(!to(re.type,[Fn,Tn,Qr,Gr,On]))return H.error("Expected first argument to be of type boolean, string, number or null, but found "+ri(re.type)+" instead");if(D.length===4){var be=H.parse(D[3],3,Qr);return be?new $o(re,he,be):null}else return new $o(re,he)},$o.prototype.evaluate=function(D){var H=this.needle.evaluate(D),re=this.haystack.evaluate(D);if(!Sl(H,["boolean","string","number","null"]))throw new Vi("Expected first argument to be of type boolean, string, number or null, but found "+ri(Ii(H))+" instead.");if(!Sl(re,["string","array"]))throw new Vi("Expected second argument to be of type array or string, but found "+ri(Ii(re))+" instead.");if(this.fromIndex){var he=this.fromIndex.evaluate(D);return re.indexOf(H,he)}return re.indexOf(H)},$o.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},$o.prototype.outputDefined=function(){return!1},$o.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Cs=function(D,H,re,he,be,Pe){this.inputType=D,this.type=H,this.input=re,this.cases=he,this.outputs=be,this.otherwise=Pe};Cs.parse=function(D,H){if(D.length<5)return H.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return H.error("Expected an even number of arguments.");var re,he;H.expectedType&&H.expectedType.kind!=="value"&&(he=H.expectedType);for(var be={},Pe=[],Ke=2;Ke<D.length-1;Ke+=2){var ut=D[Ke],wt=D[Ke+1];Array.isArray(ut)||(ut=[ut]);var Ct=H.concat(Ke);if(ut.length===0)return Ct.error("Expected at least one branch label.");for(var Wt=0,nr=ut;Wt<nr.length;Wt+=1){var qt=nr[Wt];if(typeof qt!="number"&&typeof qt!="string")return Ct.error("Branch labels must be numbers or strings.");if(typeof qt=="number"&&Math.abs(qt)>Number.MAX_SAFE_INTEGER)return Ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof qt=="number"&&Math.floor(qt)!==qt)return Ct.error("Numeric branch labels must be integer values.");if(!re)re=Ii(qt);else if(Ct.checkSubtype(re,Ii(qt)))return null;if(typeof be[String(qt)]<"u")return Ct.error("Branch labels must be unique.");be[String(qt)]=Pe.length}var mr=H.parse(wt,Ke,he);if(!mr)return null;he=he||mr.type,Pe.push(mr)}var zr=H.parse(D[1],1,On);if(!zr)return null;var sn=H.parse(D[D.length-1],D.length-1,he);return!sn||zr.type.kind!=="value"&&H.concat(1).checkSubtype(re,zr.type)?null:new Cs(re,he,zr,be,Pe,sn)},Cs.prototype.evaluate=function(D){var H=this.input.evaluate(D),re=Ii(H)===this.inputType&&this.outputs[this.cases[H]]||this.otherwise;return re.evaluate(D)},Cs.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},Cs.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},Cs.prototype.serialize=function(){for(var D=this,H=["match",this.input.serialize()],re=Object.keys(this.cases).sort(),he=[],be={},Pe=0,Ke=re;Pe<Ke.length;Pe+=1){var ut=Ke[Pe],wt=be[this.cases[ut]];wt===void 0?(be[this.cases[ut]]=he.length,he.push([this.cases[ut],[ut]])):he[wt][1].push(ut)}for(var Ct=function(zr){return D.inputType.kind==="number"?Number(zr):zr},Wt=0,nr=he;Wt<nr.length;Wt+=1){var qt=nr[Wt],wt=qt[0],mr=qt[1];mr.length===1?H.push(Ct(mr[0])):H.push(mr.map(Ct)),H.push(this.outputs[outputIndex$1].serialize())}return H.push(this.otherwise.serialize()),H};var qo=function(D,H,re){this.type=D,this.branches=H,this.otherwise=re};qo.parse=function(D,H){if(D.length<4)return H.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return H.error("Expected an odd number of arguments.");var re;H.expectedType&&H.expectedType.kind!=="value"&&(re=H.expectedType);for(var he=[],be=1;be<D.length-1;be+=2){var Pe=H.parse(D[be],be,Fn);if(!Pe)return null;var Ke=H.parse(D[be+1],be+1,re);if(!Ke)return null;he.push([Pe,Ke]),re=re||Ke.type}var ut=H.parse(D[D.length-1],D.length-1,re);return ut?new qo(re,he,ut):null},qo.prototype.evaluate=function(D){for(var H=0,re=this.branches;H<re.length;H+=1){var he=re[H],be=he[0],Pe=he[1];if(be.evaluate(D))return Pe.evaluate(D)}return this.otherwise.evaluate(D)},qo.prototype.eachChild=function(D){for(var H=0,re=this.branches;H<re.length;H+=1){var he=re[H],be=he[0],Pe=he[1];D(be),D(Pe)}D(this.otherwise)},qo.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var H=D[1];return H.outputDefined()})&&this.otherwise.outputDefined()},qo.prototype.serialize=function(){var D=["case"];return this.eachChild(function(H){D.push(H.serialize())}),D};var Ho=function(D,H,re,he){this.type=D,this.input=H,this.beginIndex=re,this.endIndex=he};Ho.parse=function(D,H){if(D.length<=2||D.length>=5)return H.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var re=H.parse(D[1],1,On),he=H.parse(D[2],2,Qr);if(!re||!he)return null;if(!to(re.type,[pi(On),Tn,On]))return H.error("Expected first argument to be of type array or string, but found "+ri(re.type)+" instead");if(D.length===4){var be=H.parse(D[3],3,Qr);return be?new Ho(re.type,re,he,be):null}else return new Ho(re.type,re,he)},Ho.prototype.evaluate=function(D){var H=this.input.evaluate(D),re=this.beginIndex.evaluate(D);if(!Sl(H,["string","array"]))throw new Vi("Expected first argument to be of type array or string, but found "+ri(Ii(H))+" instead.");if(this.endIndex){var he=this.endIndex.evaluate(D);return H.slice(re,he)}return H.slice(re)},Ho.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},Ho.prototype.outputDefined=function(){return!1},Ho.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function lu(R,D){return R==="=="||R==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function fh(R,D,H){return D===H}function ch(R,D,H){return D!==H}function hh(R,D,H){return D<H}function vh(R,D,H){return D>H}function wf(R,D,H){return D<=H}function ac(R,D,H){return D>=H}function zl(R,D,H,re){return re.compare(D,H)===0}function Qi(R,D,H,re){return!zl(R,D,H,re)}function Oo(R,D,H,re){return re.compare(D,H)<0}function Ol(R,D,H,re){return re.compare(D,H)>0}function ic(R,D,H,re){return re.compare(D,H)<=0}function uu(R,D,H,re){return re.compare(D,H)>=0}function Ls(R,D,H){var re=R!=="=="&&R!=="!=";return function(){function he(be,Pe,Ke){this.type=Fn,this.lhs=be,this.rhs=Pe,this.collator=Ke,this.hasUntypedArgument=be.type.kind==="value"||Pe.type.kind==="value"}return he.parse=function(Pe,Ke){if(Pe.length!==3&&Pe.length!==4)return Ke.error("Expected two or three arguments.");var ut=Pe[0],wt=Ke.parse(Pe[1],1,On);if(!wt)return null;if(!lu(ut,wt.type))return Ke.concat(1).error('"'+ut+`" comparisons are not supported for type '`+ri(wt.type)+"'.");var Ct=Ke.parse(Pe[2],2,On);if(!Ct)return null;if(!lu(ut,Ct.type))return Ke.concat(2).error('"'+ut+`" comparisons are not supported for type '`+ri(Ct.type)+"'.");if(wt.type.kind!==Ct.type.kind&&wt.type.kind!=="value"&&Ct.type.kind!=="value")return Ke.error("Cannot compare types '"+ri(wt.type)+"' and '"+ri(Ct.type)+"'.");re&&(wt.type.kind==="value"&&Ct.type.kind!=="value"?wt=new ro(Ct.type,[wt]):wt.type.kind!=="value"&&Ct.type.kind==="value"&&(Ct=new ro(wt.type,[Ct])));var Wt=null;if(Pe.length===4){if(wt.type.kind!=="string"&&Ct.type.kind!=="string"&&wt.type.kind!=="value"&&Ct.type.kind!=="value")return Ke.error("Cannot use collator to compare non-string types.");if(Wt=Ke.parse(Pe[3],3,ua),!Wt)return null}return new he(wt,Ct,Wt)},he.prototype.evaluate=function(Pe){var Ke=this.lhs.evaluate(Pe),ut=this.rhs.evaluate(Pe);if(re&&this.hasUntypedArgument){var wt=Ii(Ke),Ct=Ii(ut);if(wt.kind!==Ct.kind||!(wt.kind==="string"||wt.kind==="number"))throw new Vi('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+wt.kind+", "+Ct.kind+") instead.")}if(this.collator&&!re&&this.hasUntypedArgument){var Wt=Ii(Ke),nr=Ii(ut);if(Wt.kind!=="string"||nr.kind!=="string")return D(Pe,Ke,ut)}return this.collator?H(Pe,Ke,ut,this.collator.evaluate(Pe)):D(Pe,Ke,ut)},he.prototype.eachChild=function(Pe){Pe(this.lhs),Pe(this.rhs),this.collator&&Pe(this.collator)},he.prototype.outputDefined=function(){return!0},he.prototype.serialize=function(){var Pe=[R];return this.eachChild(function(Ke){Pe.push(Ke.serialize())}),Pe},he}()}var dh=Ls("==",fh,zl),oc=Ls("!=",ch,Qi),sc=Ls("<",hh,Oo),Tf=Ls(">",vh,Ol),lc=Ls("<=",wf,ic),wo=Ls(">=",ac,uu),es=function(D,H,re,he,be){this.type=Tn,this.number=D,this.locale=H,this.currency=re,this.minFractionDigits=he,this.maxFractionDigits=be};es.parse=function(D,H){if(D.length!==3)return H.error("Expected two arguments.");var re=H.parse(D[1],1,Qr);if(!re)return null;var he=D[2];if(typeof he!="object"||Array.isArray(he))return H.error("NumberFormat options argument must be an object.");var be=null;if(he.locale&&(be=H.parse(he.locale,1,Tn),!be))return null;var Pe=null;if(he.currency&&(Pe=H.parse(he.currency,1,Tn),!Pe))return null;var Ke=null;if(he["min-fraction-digits"]&&(Ke=H.parse(he["min-fraction-digits"],1,Qr),!Ke))return null;var ut=null;return he["max-fraction-digits"]&&(ut=H.parse(he["max-fraction-digits"],1,Qr),!ut)?null:new es(re,be,Pe,Ke,ut)},es.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},es.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},es.prototype.outputDefined=function(){return!1},es.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Gs=function(D){this.type=Qr,this.input=D};Gs.parse=function(D,H){if(D.length!==2)return H.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var re=H.parse(D[1],1);return re?re.type.kind!=="array"&&re.type.kind!=="string"&&re.type.kind!=="value"?H.error("Expected argument of type string or array, but found "+ri(re.type)+" instead."):new Gs(re):null},Gs.prototype.evaluate=function(D){var H=this.input.evaluate(D);if(typeof H=="string")return H.length;if(Array.isArray(H))return H.length;throw new Vi("Expected value to be of type string or array, but found "+ri(Ii(H))+" instead.")},Gs.prototype.eachChild=function(D){D(this.input)},Gs.prototype.outputDefined=function(){return!1},Gs.prototype.serialize=function(){var D=["length"];return this.eachChild(function(H){D.push(H.serialize())}),D};var Bl={"==":dh,"!=":oc,">":Tf,"<":sc,">=":wo,"<=":lc,array:ro,at:ll,boolean:ro,case:qo,coalesce:Qo,collator:Ns,format:no,image:zo,in:Vs,"index-of":$o,interpolate:ki,"interpolate-hcl":ki,"interpolate-lab":ki,length:Gs,let:Es,literal:_i,match:Cs,number:ro,"number-format":es,object:ro,slice:Ho,step:Ko,string:ro,"to-boolean":Po,"to-color":Po,"to-number":Po,"to-string":Po,var:Us,within:Xo};function Zu(R,D){var H=D[0],re=D[1],he=D[2],be=D[3];H=H.evaluate(R),re=re.evaluate(R),he=he.evaluate(R);var Pe=be?be.evaluate(R):1,Ke=El(H,re,he,Pe);if(Ke)throw new Vi(Ke);return new qa(H/255*Pe,re/255*Pe,he/255*Pe,Pe)}function ul(R,D){return R in D}function fl(R,D){var H=D[R];return typeof H>"u"?null:H}function uc(R,D,H,re){for(;H<=re;){var he=H+re>>1;if(D[he]===R)return!0;D[he]>R?re=he-1:H=he+1}return!1}function Ps(R){return{type:R}}Ji.register(Bl,{error:[ya,[Tn],function(R,D){var H=D[0];throw new Vi(H.evaluate(R))}],typeof:[Tn,[On],function(R,D){var H=D[0];return ri(Ii(H.evaluate(R)))}],"to-rgba":[pi(Qr,4),[In],function(R,D){var H=D[0];return H.evaluate(R).toArray()}],rgb:[In,[Qr,Qr,Qr],Zu],rgba:[In,[Qr,Qr,Qr,Qr],Zu],has:{type:Fn,overloads:[[[Tn],function(R,D){var H=D[0];return ul(H.evaluate(R),R.properties())}],[[Tn,Un],function(R,D){var H=D[0],re=D[1];return ul(H.evaluate(R),re.evaluate(R))}]]},get:{type:On,overloads:[[[Tn],function(R,D){var H=D[0];return fl(H.evaluate(R),R.properties())}],[[Tn,Un],function(R,D){var H=D[0],re=D[1];return fl(H.evaluate(R),re.evaluate(R))}]]},"feature-state":[On,[Tn],function(R,D){var H=D[0];return fl(H.evaluate(R),R.featureState||{})}],properties:[Un,[],function(R){return R.properties()}],"geometry-type":[Tn,[],function(R){return R.geometryType()}],id:[On,[],function(R){return R.id()}],zoom:[Qr,[],function(R){return R.globals.zoom}],"heatmap-density":[Qr,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[Qr,[],function(R){return R.globals.lineProgress||0}],accumulated:[On,[],function(R){return R.globals.accumulated===void 0?null:R.globals.accumulated}],"+":[Qr,Ps(Qr),function(R,D){for(var H=0,re=0,he=D;re<he.length;re+=1){var be=he[re];H+=be.evaluate(R)}return H}],"*":[Qr,Ps(Qr),function(R,D){for(var H=1,re=0,he=D;re<he.length;re+=1){var be=he[re];H*=be.evaluate(R)}return H}],"-":{type:Qr,overloads:[[[Qr,Qr],function(R,D){var H=D[0],re=D[1];return H.evaluate(R)-re.evaluate(R)}],[[Qr],function(R,D){var H=D[0];return-H.evaluate(R)}]]},"/":[Qr,[Qr,Qr],function(R,D){var H=D[0],re=D[1];return H.evaluate(R)/re.evaluate(R)}],"%":[Qr,[Qr,Qr],function(R,D){var H=D[0],re=D[1];return H.evaluate(R)%re.evaluate(R)}],ln2:[Qr,[],function(){return Math.LN2}],pi:[Qr,[],function(){return Math.PI}],e:[Qr,[],function(){return Math.E}],"^":[Qr,[Qr,Qr],function(R,D){var H=D[0],re=D[1];return Math.pow(H.evaluate(R),re.evaluate(R))}],sqrt:[Qr,[Qr],function(R,D){var H=D[0];return Math.sqrt(H.evaluate(R))}],log10:[Qr,[Qr],function(R,D){var H=D[0];return Math.log(H.evaluate(R))/Math.LN10}],ln:[Qr,[Qr],function(R,D){var H=D[0];return Math.log(H.evaluate(R))}],log2:[Qr,[Qr],function(R,D){var H=D[0];return Math.log(H.evaluate(R))/Math.LN2}],sin:[Qr,[Qr],function(R,D){var H=D[0];return Math.sin(H.evaluate(R))}],cos:[Qr,[Qr],function(R,D){var H=D[0];return Math.cos(H.evaluate(R))}],tan:[Qr,[Qr],function(R,D){var H=D[0];return Math.tan(H.evaluate(R))}],asin:[Qr,[Qr],function(R,D){var H=D[0];return Math.asin(H.evaluate(R))}],acos:[Qr,[Qr],function(R,D){var H=D[0];return Math.acos(H.evaluate(R))}],atan:[Qr,[Qr],function(R,D){var H=D[0];return Math.atan(H.evaluate(R))}],min:[Qr,Ps(Qr),function(R,D){return Math.min.apply(Math,D.map(function(H){return H.evaluate(R)}))}],max:[Qr,Ps(Qr),function(R,D){return Math.max.apply(Math,D.map(function(H){return H.evaluate(R)}))}],abs:[Qr,[Qr],function(R,D){var H=D[0];return Math.abs(H.evaluate(R))}],round:[Qr,[Qr],function(R,D){var H=D[0],re=H.evaluate(R);return re<0?-Math.round(-re):Math.round(re)}],floor:[Qr,[Qr],function(R,D){var H=D[0];return Math.floor(H.evaluate(R))}],ceil:[Qr,[Qr],function(R,D){var H=D[0];return Math.ceil(H.evaluate(R))}],"filter-==":[Fn,[Tn,On],function(R,D){var H=D[0],re=D[1];return R.properties()[H.value]===re.value}],"filter-id-==":[Fn,[On],function(R,D){var H=D[0];return R.id()===H.value}],"filter-type-==":[Fn,[Tn],function(R,D){var H=D[0];return R.geometryType()===H.value}],"filter-<":[Fn,[Tn,On],function(R,D){var H=D[0],re=D[1],he=R.properties()[H.value],be=re.value;return typeof he==typeof be&&he<be}],"filter-id-<":[Fn,[On],function(R,D){var H=D[0],re=R.id(),he=H.value;return typeof re==typeof he&&re<he}],"filter->":[Fn,[Tn,On],function(R,D){var H=D[0],re=D[1],he=R.properties()[H.value],be=re.value;return typeof he==typeof be&&he>be}],"filter-id->":[Fn,[On],function(R,D){var H=D[0],re=R.id(),he=H.value;return typeof re==typeof he&&re>he}],"filter-<=":[Fn,[Tn,On],function(R,D){var H=D[0],re=D[1],he=R.properties()[H.value],be=re.value;return typeof he==typeof be&&he<=be}],"filter-id-<=":[Fn,[On],function(R,D){var H=D[0],re=R.id(),he=H.value;return typeof re==typeof he&&re<=he}],"filter->=":[Fn,[Tn,On],function(R,D){var H=D[0],re=D[1],he=R.properties()[H.value],be=re.value;return typeof he==typeof be&&he>=be}],"filter-id->=":[Fn,[On],function(R,D){var H=D[0],re=R.id(),he=H.value;return typeof re==typeof he&&re>=he}],"filter-has":[Fn,[On],function(R,D){var H=D[0];return H.value in R.properties()}],"filter-has-id":[Fn,[],function(R){return R.id()!==null&&R.id()!==void 0}],"filter-type-in":[Fn,[pi(Tn)],function(R,D){var H=D[0];return H.value.indexOf(R.geometryType())>=0}],"filter-id-in":[Fn,[pi(On)],function(R,D){var H=D[0];return H.value.indexOf(R.id())>=0}],"filter-in-small":[Fn,[Tn,pi(On)],function(R,D){var H=D[0],re=D[1];return re.value.indexOf(R.properties()[H.value])>=0}],"filter-in-large":[Fn,[Tn,pi(On)],function(R,D){var H=D[0],re=D[1];return uc(R.properties()[H.value],re.value,0,re.value.length-1)}],all:{type:Fn,overloads:[[[Fn,Fn],function(R,D){var H=D[0],re=D[1];return H.evaluate(R)&&re.evaluate(R)}],[Ps(Fn),function(R,D){for(var H=0,re=D;H<re.length;H+=1){var he=re[H];if(!he.evaluate(R))return!1}return!0}]]},any:{type:Fn,overloads:[[[Fn,Fn],function(R,D){var H=D[0],re=D[1];return H.evaluate(R)||re.evaluate(R)}],[Ps(Fn),function(R,D){for(var H=0,re=D;H<re.length;H+=1){var he=re[H];if(he.evaluate(R))return!0}return!1}]]},"!":[Fn,[Fn],function(R,D){var H=D[0];return!H.evaluate(R)}],"is-supported-script":[Fn,[Tn],function(R,D){var H=D[0],re=R.globals&&R.globals.isSupportedScript;return re?re(H.evaluate(R)):!0}],upcase:[Tn,[Tn],function(R,D){var H=D[0];return H.evaluate(R).toUpperCase()}],downcase:[Tn,[Tn],function(R,D){var H=D[0];return H.evaluate(R).toLowerCase()}],concat:[Tn,Ps(On),function(R,D){return D.map(function(H){return Cl(H.evaluate(R))}).join("")}],"resolved-locale":[Tn,[ua],function(R,D){var H=D[0];return H.evaluate(R).resolvedLocale()}]});function Nl(R){return{result:"success",value:R}}function Ws(R){return{result:"error",value:R}}function Rs(R){return R["property-type"]==="data-driven"||R["property-type"]==="cross-faded-data-driven"}function fu(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function Ul(R){return!!R.expression&&R.expression.interpolated}function ci(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":R===null?"null":typeof R}function Hl(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function ju(R){return R}function fc(R,D){var H=D.type==="color",re=R.stops&&typeof R.stops[0][0]=="object",he=re||R.property!==void 0,be=re||!he,Pe=R.type||(Ul(D)?"exponential":"interval");if(H&&(R=Rn({},R),R.stops&&(R.stops=R.stops.map(function(na){return[na[0],qa.parse(na[1])]})),R.default?R.default=qa.parse(R.default):R.default=qa.parse(D.default)),R.colorSpace&&R.colorSpace!=="rgb"&&!Yu[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);var Ke,ut,wt;if(Pe==="exponential")Ke=Af;else if(Pe==="interval")Ke=Xu;else if(Pe==="categorical"){Ke=cu,ut=Object.create(null);for(var Ct=0,Wt=R.stops;Ct<Wt.length;Ct+=1){var nr=Wt[Ct];ut[nr[0]]=nr[1]}wt=typeof R.stops[0][0]}else if(Pe==="identity")Ke=hu;else throw new Error('Unknown function type "'+Pe+'"');if(re){for(var qt={},mr=[],zr=0;zr<R.stops.length;zr++){var sn=R.stops[zr],qr=sn[0].zoom;qt[qr]===void 0&&(qt[qr]={zoom:qr,type:R.type,property:R.property,default:R.default,stops:[]},mr.push(qr)),qt[qr].stops.push([sn[0].value,sn[1]])}for(var En=[],mn=0,Mn=mr;mn<Mn.length;mn+=1){var kn=Mn[mn];En.push([qt[kn].zoom,fc(qt[kn],D)])}var Gn={name:"linear"};return{kind:"composite",interpolationType:Gn,interpolationFactor:ki.interpolationFactor.bind(void 0,Gn),zoomStops:En.map(function(na){return na[0]}),evaluate:function(Ta,pa){var ba=Ta.zoom;return Af({stops:En,base:R.base},D,ba).evaluate(ba,pa)}}}else if(be){var oa=Pe==="exponential"?{name:"exponential",base:R.base!==void 0?R.base:1}:null;return{kind:"camera",interpolationType:oa,interpolationFactor:ki.interpolationFactor.bind(void 0,oa),zoomStops:R.stops.map(function(na){return na[0]}),evaluate:function(na){var Ta=na.zoom;return Ke(R,D,Ta,ut,wt)}}}else return{kind:"source",evaluate:function(Ta,pa){var ba=pa&&pa.properties?pa.properties[R.property]:void 0;return ba===void 0?Vl(R.default,D.default):Ke(R,D,ba,ut,wt)}}}function Vl(R,D,H){if(R!==void 0)return R;if(D!==void 0)return D;if(H!==void 0)return H}function cu(R,D,H,re,he){var be=typeof H===he?re[H]:void 0;return Vl(be,R.default,D.default)}function Xu(R,D,H){if(ci(H)!=="number")return Vl(R.default,D.default);var re=R.stops.length;if(re===1||H<=R.stops[0][0])return R.stops[0][1];if(H>=R.stops[re-1][0])return R.stops[re-1][1];var he=Dl(R.stops.map(function(be){return be[0]}),H);return R.stops[he][1]}function Af(R,D,H){var re=R.base!==void 0?R.base:1;if(ci(H)!=="number")return Vl(R.default,D.default);var he=R.stops.length;if(he===1||H<=R.stops[0][0])return R.stops[0][1];if(H>=R.stops[he-1][0])return R.stops[he-1][1];var be=Dl(R.stops.map(function(Wt){return Wt[0]}),H),Pe=vu(H,re,R.stops[be][0],R.stops[be+1][0]),Ke=R.stops[be][1],ut=R.stops[be+1][1],wt=Uu[D.type]||ju;if(R.colorSpace&&R.colorSpace!=="rgb"){var Ct=Yu[R.colorSpace];wt=function(Wt,nr){return Ct.reverse(Ct.interpolate(Ct.forward(Wt),Ct.forward(nr),Pe))}}return typeof Ke.evaluate=="function"?{evaluate:function(){for(var nr=[],qt=arguments.length;qt--;)nr[qt]=arguments[qt];var mr=Ke.evaluate.apply(void 0,nr),zr=ut.evaluate.apply(void 0,nr);if(!(mr===void 0||zr===void 0))return wt(mr,zr,Pe)}}:wt(Ke,ut,Pe)}function hu(R,D,H){return D.type==="color"?H=qa.parse(H):D.type==="formatted"?H=Ki.fromString(H.toString()):D.type==="resolvedImage"?H=bo.fromString(H.toString()):ci(H)!==D.type&&(D.type!=="enum"||!D.values[H])&&(H=void 0),Vl(H,R.default,D.default)}function vu(R,D,H,re){var he=re-H,be=R-H;return he===0?0:D===1?be/he:(Math.pow(D,be)-1)/(Math.pow(D,he)-1)}var Ys=function(D,H){this.expression=D,this._warningHistory={},this._evaluator=new cs,this._defaultValue=H?cc(H):null,this._enumValues=H&&H.type==="enum"?H.values:null};Ys.prototype.evaluateWithoutErrorHandling=function(D,H,re,he,be,Pe){return this._evaluator.globals=D,this._evaluator.feature=H,this._evaluator.featureState=re,this._evaluator.canonical=he,this._evaluator.availableImages=be||null,this._evaluator.formattedSection=Pe,this.expression.evaluate(this._evaluator)},Ys.prototype.evaluate=function(D,H,re,he,be,Pe){this._evaluator.globals=D,this._evaluator.feature=H||null,this._evaluator.featureState=re||null,this._evaluator.canonical=he,this._evaluator.availableImages=be||null,this._evaluator.formattedSection=Pe||null;try{var Ke=this.expression.evaluate(this._evaluator);if(Ke==null||typeof Ke=="number"&&Ke!==Ke)return this._defaultValue;if(this._enumValues&&!(Ke in this._enumValues))throw new Vi("Expected value to be one of "+Object.keys(this._enumValues).map(function(ut){return JSON.stringify(ut)}).join(", ")+", but found "+JSON.stringify(Ke)+" instead.");return Ke}catch(ut){return this._warningHistory[ut.message]||(this._warningHistory[ut.message]=!0,typeof console<"u"&&console.warn(ut.message)),this._defaultValue}};function du(R){return Array.isArray(R)&&R.length>0&&typeof R[0]=="string"&&R[0]in Bl}function Zs(R,D){var H=new vs(Bl,[],D?ph(D):void 0),re=H.parse(R,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return re?Nl(new Ys(re,D)):Ws(H.errors)}var Gi=function(D,H){this.kind=D,this._styleExpression=H,this.isStateDependent=D!=="constant"&&!ol(H.expression)};Gi.prototype.evaluateWithoutErrorHandling=function(D,H,re,he,be,Pe){return this._styleExpression.evaluateWithoutErrorHandling(D,H,re,he,be,Pe)},Gi.prototype.evaluate=function(D,H,re,he,be,Pe){return this._styleExpression.evaluate(D,H,re,he,be,Pe)};var ds=function(D,H,re,he){this.kind=D,this.zoomStops=re,this._styleExpression=H,this.isStateDependent=D!=="camera"&&!ol(H.expression),this.interpolationType=he};ds.prototype.evaluateWithoutErrorHandling=function(D,H,re,he,be,Pe){return this._styleExpression.evaluateWithoutErrorHandling(D,H,re,he,be,Pe)},ds.prototype.evaluate=function(D,H,re,he,be,Pe){return this._styleExpression.evaluate(D,H,re,he,be,Pe)},ds.prototype.interpolationFactor=function(D,H,re){return this.interpolationType?ki.interpolationFactor(this.interpolationType,D,H,re):0};function Mf(R,D){if(R=Zs(R,D),R.result==="error")return R;var H=R.value.expression,re=Rl(H);if(!re&&!Rs(D))return Ws([new Lr("","data expressions not supported")]);var he=iu(H,["zoom"]);if(!he&&!fu(D))return Ws([new Lr("","zoom expressions not supported")]);var be=pu(H);if(!be&&!he)return Ws([new Lr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(be instanceof Lr)return Ws([be]);if(be instanceof ki&&!Ul(D))return Ws([new Lr("",'"interpolate" expressions cannot be used with this property')]);if(!be)return Nl(re?new Gi("constant",R.value):new Gi("source",R.value));var Pe=be instanceof ki?be.interpolation:void 0;return Nl(re?new ds("camera",R.value,be.labels,Pe):new ds("composite",R.value,be.labels,Pe))}var cl=function(D,H){this._parameters=D,this._specification=H,Rn(this,fc(this._parameters,this._specification))};cl.deserialize=function(D){return new cl(D._parameters,D._specification)},cl.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function Ku(R,D){if(Hl(R))return new cl(R,D);if(du(R)){var H=Mf(R,D);if(H.result==="error")throw new Error(H.value.map(function(he){return he.key+": "+he.message}).join(", "));return H.value}else{var re=R;return typeof R=="string"&&D.type==="color"&&(re=qa.parse(R)),{kind:"constant",evaluate:function(){return re}}}}function pu(R){var D=null;if(R instanceof Es)D=pu(R.result);else if(R instanceof Qo)for(var H=0,re=R.args;H<re.length;H+=1){var he=re[H];if(D=pu(he),D)break}else(R instanceof Ko||R instanceof ki)&&R.input instanceof Ji&&R.input.name==="zoom"&&(D=R);return D instanceof Lr||R.eachChild(function(be){var Pe=pu(be);Pe instanceof Lr?D=Pe:!D&&Pe?D=new Lr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Pe&&D!==Pe&&(D=new Lr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function ph(R){var D={color:In,string:Tn,number:Qr,enum:Tn,boolean:Fn,formatted:ga,resolvedImage:Pa};return R.type==="array"?pi(D[R.value]||On,R.length):D[R.type]}function cc(R){return R.type==="color"&&Hl(R.default)?new qa(0,0,0,0):R.type==="color"?qa.parse(R.default)||null:R.default===void 0?null:R.default}function po(R){var D=R.key,H=R.value,re=R.valueSpec||{},he=R.objectElementValidators||{},be=R.style,Pe=R.styleSpec,Ke=[],ut=ci(H);if(ut!=="object")return[new _r(D,H,"object expected, "+ut+" found")];for(var wt in H){var Ct=wt.split(".")[0],Wt=re[Ct]||re["*"],nr=void 0;if(he[Ct])nr=he[Ct];else if(re[Ct])nr=Ir;else if(he["*"])nr=he["*"];else if(re["*"])nr=Ir;else{Ke.push(new _r(D,H[wt],'unknown property "'+wt+'"'));continue}Ke=Ke.concat(nr({key:(D&&D+".")+wt,value:H[wt],valueSpec:Wt,style:be,styleSpec:Pe,object:H,objectKey:wt},H))}for(var qt in re)he[qt]||re[qt].required&&re[qt].default===void 0&&H[qt]===void 0&&Ke.push(new _r(D,H,'missing required property "'+qt+'"'));return Ke}function gu(R){var D=R.value,H=R.valueSpec,re=R.style,he=R.styleSpec,be=R.key,Pe=R.arrayElementValidator||Ir;if(ci(D)!=="array")return[new _r(be,D,"array expected, "+ci(D)+" found")];if(H.length&&D.length!==H.length)return[new _r(be,D,"array length "+H.length+" expected, length "+D.length+" found")];if(H["min-length"]&&D.length<H["min-length"])return[new _r(be,D,"array length at least "+H["min-length"]+" expected, length "+D.length+" found")];var Ke={type:H.value,values:H.values};he.$version<7&&(Ke.function=H.function),ci(H.value)==="object"&&(Ke=H.value);for(var ut=[],wt=0;wt<D.length;wt++)ut=ut.concat(Pe({array:D,arrayIndex:wt,value:D[wt],valueSpec:Ke,style:re,styleSpec:he,key:be+"["+wt+"]"}));return ut}function Gl(R){var D=R.key,H=R.value,re=R.valueSpec,he=ci(H);return he==="number"&&H!==H&&(he="NaN"),he!=="number"?[new _r(D,H,"number expected, "+he+" found")]:"minimum"in re&&H<re.minimum?[new _r(D,H,H+" is less than the minimum value "+re.minimum)]:"maximum"in re&&H>re.maximum?[new _r(D,H,H+" is greater than the maximum value "+re.maximum)]:[]}function hc(R){var D=R.valueSpec,H=yn(R.value.type),re,he={},be,Pe,Ke=H!=="categorical"&&R.value.property===void 0,ut=!Ke,wt=ci(R.value.stops)==="array"&&ci(R.value.stops[0])==="array"&&ci(R.value.stops[0][0])==="object",Ct=po({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:Wt,default:mr}});return H==="identity"&&Ke&&Ct.push(new _r(R.key,R.value,'missing required property "property"')),H!=="identity"&&!R.value.stops&&Ct.push(new _r(R.key,R.value,'missing required property "stops"')),H==="exponential"&&R.valueSpec.expression&&!Ul(R.valueSpec)&&Ct.push(new _r(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(ut&&!Rs(R.valueSpec)?Ct.push(new _r(R.key,R.value,"property functions not supported")):Ke&&!fu(R.valueSpec)&&Ct.push(new _r(R.key,R.value,"zoom functions not supported"))),(H==="categorical"||wt)&&R.value.property===void 0&&Ct.push(new _r(R.key,R.value,'"property" property is required')),Ct;function Wt(zr){if(H==="identity")return[new _r(zr.key,zr.value,'identity function may not have a "stops" property')];var sn=[],qr=zr.value;return sn=sn.concat(gu({key:zr.key,value:qr,valueSpec:zr.valueSpec,style:zr.style,styleSpec:zr.styleSpec,arrayElementValidator:nr})),ci(qr)==="array"&&qr.length===0&&sn.push(new _r(zr.key,qr,"array must have at least one stop")),sn}function nr(zr){var sn=[],qr=zr.value,En=zr.key;if(ci(qr)!=="array")return[new _r(En,qr,"array expected, "+ci(qr)+" found")];if(qr.length!==2)return[new _r(En,qr,"array length 2 expected, length "+qr.length+" found")];if(wt){if(ci(qr[0])!=="object")return[new _r(En,qr,"object expected, "+ci(qr[0])+" found")];if(qr[0].zoom===void 0)return[new _r(En,qr,"object stop key must have zoom")];if(qr[0].value===void 0)return[new _r(En,qr,"object stop key must have value")];if(Pe&&Pe>yn(qr[0].zoom))return[new _r(En,qr[0].zoom,"stop zoom values must appear in ascending order")];yn(qr[0].zoom)!==Pe&&(Pe=yn(qr[0].zoom),be=void 0,he={}),sn=sn.concat(po({key:En+"[0]",value:qr[0],valueSpec:{zoom:{}},style:zr.style,styleSpec:zr.styleSpec,objectElementValidators:{zoom:Gl,value:qt}}))}else sn=sn.concat(qt({key:En+"[0]",value:qr[0],valueSpec:{},style:zr.style,styleSpec:zr.styleSpec},qr));return du(hn(qr[1]))?sn.concat([new _r(En+"[1]",qr[1],"expressions are not allowed in function stops.")]):sn.concat(Ir({key:En+"[1]",value:qr[1],valueSpec:D,style:zr.style,styleSpec:zr.styleSpec}))}function qt(zr,sn){var qr=ci(zr.value),En=yn(zr.value),mn=zr.value!==null?zr.value:sn;if(!re)re=qr;else if(qr!==re)return[new _r(zr.key,mn,qr+" stop domain type must match previous stop domain type "+re)];if(qr!=="number"&&qr!=="string"&&qr!=="boolean")return[new _r(zr.key,mn,"stop domain value must be a number, string, or boolean")];if(qr!=="number"&&H!=="categorical"){var Mn="number expected, "+qr+" found";return Rs(D)&&H===void 0&&(Mn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new _r(zr.key,mn,Mn)]}return H==="categorical"&&qr==="number"&&(!isFinite(En)||Math.floor(En)!==En)?[new _r(zr.key,mn,"integer expected, found "+En)]:H!=="categorical"&&qr==="number"&&be!==void 0&&En<be?[new _r(zr.key,mn,"stop domain values must appear in ascending order")]:(be=En,H==="categorical"&&En in he?[new _r(zr.key,mn,"stop domain values must be unique")]:(he[En]=!0,[]))}function mr(zr){return Ir({key:zr.key,value:zr.value,valueSpec:D,style:zr.style,styleSpec:zr.styleSpec})}}function js(R){var D=(R.expressionContext==="property"?Mf:Zs)(hn(R.value),R.valueSpec);if(D.result==="error")return D.value.map(function(re){return new _r(""+R.key+re.key,R.value,re.message)});var H=D.value.expression||D.value._styleExpression.expression;if(R.expressionContext==="property"&&R.propertyKey==="text-font"&&!H.outputDefined())return[new _r(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if(R.expressionContext==="property"&&R.propertyType==="layout"&&!ol(H))return[new _r(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if(R.expressionContext==="filter"&&!ol(H))return[new _r(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&R.expressionContext.indexOf("cluster")===0){if(!iu(H,["zoom","feature-state"]))return[new _r(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(R.expressionContext==="cluster-initial"&&!Rl(H))return[new _r(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function gh(R){var D=R.value,H=R.key,re=ci(D);return re!=="boolean"?[new _r(H,D,"boolean expected, "+re+" found")]:[]}function Do(R){var D=R.key,H=R.value,re=ci(H);return re!=="string"?[new _r(D,H,"color expected, "+re+" found")]:jf(H)===null?[new _r(D,H,'color expected, "'+H+'" found')]:[]}function yu(R){var D=R.key,H=R.value,re=R.valueSpec,he=[];return Array.isArray(re.values)?re.values.indexOf(yn(H))===-1&&he.push(new _r(D,H,"expected one of ["+re.values.join(", ")+"], "+JSON.stringify(H)+" found")):Object.keys(re.values).indexOf(yn(H))===-1&&he.push(new _r(D,H,"expected one of ["+Object.keys(re.values).join(", ")+"], "+JSON.stringify(H)+" found")),he}function Ju(R){if(R===!0||R===!1)return!0;if(!Array.isArray(R)||R.length===0)return!1;switch(R[0]){case"has":return R.length>=2&&R[1]!=="$id"&&R[1]!=="$type";case"in":return R.length>=3&&(typeof R[1]!="string"||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return R.length!==3||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var D=0,H=R.slice(1);D<H.length;D+=1){var re=H[D];if(!Ju(re)&&typeof re!="boolean")return!1}return!0;default:return!0}}var Ds={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Xs(R){if(R==null)return{filter:function(){return!0},needGeometry:!1};Ju(R)||(R=xu(R));var D=Zs(R,Ds);if(D.result==="error")throw new Error(D.value.map(function(re){return re.key+": "+re.message}).join(", "));var H=mu(R);return{filter:function(re,he,be){return D.value.evaluate(re,he,{},be)},needGeometry:H}}function Sf(R,D){return R<D?-1:R>D?1:0}function mu(R){if(!Array.isArray(R))return!1;if(R[0]==="within")return!0;for(var D=1;D<R.length;D++)if(mu(R[D]))return!0;return!1}function xu(R){if(!R)return!0;var D=R[0];if(R.length<=1)return D!=="any";var H=D==="=="?Qu(R[1],R[2],"=="):D==="!="?hl(Qu(R[1],R[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Qu(R[1],R[2],D):D==="any"?vc(R.slice(1)):D==="all"?["all"].concat(R.slice(1).map(xu)):D==="none"?["all"].concat(R.slice(1).map(xu).map(hl)):D==="in"?bu(R[1],R.slice(2)):D==="!in"?hl(bu(R[1],R.slice(2))):D==="has"?Ef(R[1]):D==="!has"?hl(Ef(R[1])):D==="within"?R:!0;return H}function Qu(R,D,H){switch(R){case"$type":return["filter-type-"+H,D];case"$id":return["filter-id-"+H,D];default:return["filter-"+H,R,D]}}function vc(R){return["any"].concat(R.map(xu))}function bu(R,D){if(D.length===0)return!1;switch(R){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(H){return typeof H!=typeof D[0]})?["filter-in-large",R,["literal",D.sort(Sf)]]:["filter-in-small",R,["literal",D]]}}function Ef(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function hl(R){return["!",R]}function Cf(R){return Ju(hn(R.value))?js(Rn({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):wu(R)}function wu(R){var D=R.value,H=R.key;if(ci(D)!=="array")return[new _r(H,D,"array expected, "+ci(D)+" found")];var re=R.styleSpec,he,be=[];if(D.length<1)return[new _r(H,D,"filter array must have at least 1 element")];switch(be=be.concat(yu({key:H+"[0]",value:D[0],valueSpec:re.filter_operator,style:R.style,styleSpec:R.styleSpec})),yn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&yn(D[1])==="$type"&&be.push(new _r(H,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&be.push(new _r(H,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(he=ci(D[1]),he!=="string"&&be.push(new _r(H+"[1]",D[1],"string expected, "+he+" found")));for(var Pe=2;Pe<D.length;Pe++)he=ci(D[Pe]),yn(D[1])==="$type"?be=be.concat(yu({key:H+"["+Pe+"]",value:D[Pe],valueSpec:re.geometry_type,style:R.style,styleSpec:R.styleSpec})):he!=="string"&&he!=="number"&&he!=="boolean"&&be.push(new _r(H+"["+Pe+"]",D[Pe],"string, number, or boolean expected, "+he+" found"));break;case"any":case"all":case"none":for(var Ke=1;Ke<D.length;Ke++)be=be.concat(wu({key:H+"["+Ke+"]",value:D[Ke],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":he=ci(D[1]),D.length!==2?be.push(new _r(H,D,'filter array for "'+D[0]+'" operator must have 2 elements')):he!=="string"&&be.push(new _r(H+"[1]",D[1],"string expected, "+he+" found"));break;case"within":he=ci(D[1]),D.length!==2?be.push(new _r(H,D,'filter array for "'+D[0]+'" operator must have 2 elements')):he!=="object"&&be.push(new _r(H+"[1]",D[1],"object expected, "+he+" found"));break}return be}function dc(R,D){var H=R.key,re=R.style,he=R.styleSpec,be=R.value,Pe=R.objectKey,Ke=he[D+"_"+R.layerType];if(!Ke)return[];var ut=Pe.match(/^(.*)-transition$/);if(D==="paint"&&ut&&Ke[ut[1]]&&Ke[ut[1]].transition)return Ir({key:H,value:be,valueSpec:he.transition,style:re,styleSpec:he});var wt=R.valueSpec||Ke[Pe];if(!wt)return[new _r(H,be,'unknown property "'+Pe+'"')];var Ct;if(ci(be)==="string"&&Rs(wt)&&!wt.tokens&&(Ct=/^{([^}]+)}$/.exec(be)))return[new _r(H,be,'"'+Pe+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ct[1])+" }`.")];var Wt=[];return R.layerType==="symbol"&&(Pe==="text-field"&&re&&!re.glyphs&&Wt.push(new _r(H,be,'use of "text-field" requires a style "glyphs" property')),Pe==="text-font"&&Hl(hn(be))&&yn(be.type)==="identity"&&Wt.push(new _r(H,be,'"text-font" does not support identity functions'))),Wt.concat(Ir({key:R.key,value:be,valueSpec:wt,style:re,styleSpec:he,expressionContext:"property",propertyType:D,propertyKey:Pe}))}function Xe(R){return dc(R,"paint")}function rt(R){return dc(R,"layout")}function ht(R){var D=[],H=R.value,re=R.key,he=R.style,be=R.styleSpec;!H.type&&!H.ref&&D.push(new _r(re,H,'either "type" or "ref" is required'));var Pe=yn(H.type),Ke=yn(H.ref);if(H.id)for(var ut=yn(H.id),wt=0;wt<R.arrayIndex;wt++){var Ct=he.layers[wt];yn(Ct.id)===ut&&D.push(new _r(re,H.id,'duplicate layer id "'+H.id+'", previously used at line '+Ct.id.__line__))}if("ref"in H){["type","source","source-layer","filter","layout"].forEach(function(mr){mr in H&&D.push(new _r(re,H[mr],'"'+mr+'" is prohibited for ref layers'))});var Wt;he.layers.forEach(function(mr){yn(mr.id)===Ke&&(Wt=mr)}),Wt?Wt.ref?D.push(new _r(re,H.ref,"ref cannot reference another ref layer")):Pe=yn(Wt.type):D.push(new _r(re,H.ref,'ref layer "'+Ke+'" not found'))}else if(Pe!=="background")if(!H.source)D.push(new _r(re,H,'missing required property "source"'));else{var nr=he.sources&&he.sources[H.source],qt=nr&&yn(nr.type);nr?qt==="vector"&&Pe==="raster"?D.push(new _r(re,H.source,'layer "'+H.id+'" requires a raster source')):qt==="raster"&&Pe!=="raster"?D.push(new _r(re,H.source,'layer "'+H.id+'" requires a vector source')):qt==="vector"&&!H["source-layer"]?D.push(new _r(re,H,'layer "'+H.id+'" must specify a "source-layer"')):qt==="raster-dem"&&Pe!=="hillshade"?D.push(new _r(re,H.source,"raster-dem source can only be used with layer type 'hillshade'.")):Pe==="line"&&H.paint&&H.paint["line-gradient"]&&(qt!=="geojson"||!nr.lineMetrics)&&D.push(new _r(re,H,'layer "'+H.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new _r(re,H.source,'source "'+H.source+'" not found'))}return D=D.concat(po({key:re,value:H,valueSpec:be.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ir({key:re+".type",value:H.type,valueSpec:be.layer.type,style:R.style,styleSpec:R.styleSpec,object:H,objectKey:"type"})},filter:Cf,layout:function(zr){return po({layer:H,key:zr.key,value:zr.value,style:zr.style,styleSpec:zr.styleSpec,objectElementValidators:{"*":function(qr){return rt(Rn({layerType:Pe},qr))}}})},paint:function(zr){return po({layer:H,key:zr.key,value:zr.value,style:zr.style,styleSpec:zr.styleSpec,objectElementValidators:{"*":function(qr){return Xe(Rn({layerType:Pe},qr))}}})}}})),D}function mt(R){var D=R.value,H=R.key,re=ci(D);return re!=="string"?[new _r(H,D,"string expected, "+re+" found")]:[]}var Ft={promoteId:Ot};function Pt(R){var D=R.value,H=R.key,re=R.styleSpec,he=R.style;if(!D.type)return[new _r(H,D,'"type" is required')];var be=yn(D.type),Pe;switch(be){case"vector":case"raster":case"raster-dem":return Pe=po({key:H,value:D,valueSpec:re["source_"+be.replace("-","_")],style:R.style,styleSpec:re,objectElementValidators:Ft}),Pe;case"geojson":if(Pe=po({key:H,value:D,valueSpec:re.source_geojson,style:he,styleSpec:re,objectElementValidators:Ft}),D.cluster)for(var Ke in D.clusterProperties){var ut=D.clusterProperties[Ke],wt=ut[0],Ct=ut[1],Wt=typeof wt=="string"?[wt,["accumulated"],["get",Ke]]:wt;Pe.push.apply(Pe,js({key:H+"."+Ke+".map",value:Ct,expressionContext:"cluster-map"})),Pe.push.apply(Pe,js({key:H+"."+Ke+".reduce",value:Wt,expressionContext:"cluster-reduce"}))}return Pe;case"video":return po({key:H,value:D,valueSpec:re.source_video,style:he,styleSpec:re});case"image":return po({key:H,value:D,valueSpec:re.source_image,style:he,styleSpec:re});case"canvas":return[new _r(H,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return yu({key:H+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:he,styleSpec:re})}}function Ot(R){var D=R.key,H=R.value;if(ci(H)==="string")return mt({key:D,value:H});var re=[];for(var he in H)re.push.apply(re,mt({key:D+"."+he,value:H[he]}));return re}function dr(R){var D=R.value,H=R.styleSpec,re=H.light,he=R.style,be=[],Pe=ci(D);if(D===void 0)return be;if(Pe!=="object")return be=be.concat([new _r("light",D,"object expected, "+Pe+" found")]),be;for(var Ke in D){var ut=Ke.match(/^(.*)-transition$/);ut&&re[ut[1]]&&re[ut[1]].transition?be=be.concat(Ir({key:Ke,value:D[Ke],valueSpec:H.transition,style:he,styleSpec:H})):re[Ke]?be=be.concat(Ir({key:Ke,value:D[Ke],valueSpec:re[Ke],style:he,styleSpec:H})):be=be.concat([new _r(Ke,D[Ke],'unknown property "'+Ke+'"')])}return be}function xr(R){return mt(R).length===0?[]:js(R)}function ar(R){return mt(R).length===0?[]:js(R)}var Ar={"*":function(){return[]},array:gu,boolean:gh,number:Gl,color:Do,constants:wn,enum:yu,filter:Cf,function:hc,layer:ht,object:po,source:Pt,light:dr,string:mt,formatted:xr,resolvedImage:ar};function Ir(R){var D=R.value,H=R.valueSpec,re=R.styleSpec;if(H.expression&&Hl(yn(D)))return hc(R);if(H.expression&&du(hn(D)))return js(R);if(H.type&&Ar[H.type])return Ar[H.type](R);var he=po(Rn({},R,{valueSpec:H.type?re[H.type]:H}));return he}function Or(R){var D=R.value,H=R.key,re=mt(R);return re.length||(D.indexOf("{fontstack}")===-1&&re.push(new _r(H,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&re.push(new _r(H,D,'"glyphs" url must include a "{range}" token'))),re}function en(R,D){D===void 0&&(D=br);var H=[];return H=H.concat(Ir({key:"",value:R,valueSpec:D.$root,styleSpec:D,style:R,objectElementValidators:{glyphs:Or,"*":function(){return[]}}})),R.constants&&(H=H.concat(wn({key:"constants",value:R.constants,style:R,styleSpec:D}))),bn(H)}en.source=Ln(Pt),en.light=Ln(dr),en.layer=Ln(ht),en.filter=Ln(Cf),en.paintProperty=Ln(Xe),en.layoutProperty=Ln(rt);function bn(R){return[].concat(R).sort(function(D,H){return D.line-H.line})}function Ln(R){return function(){for(var D=[],H=arguments.length;H--;)D[H]=arguments[H];return bn(R.apply(this,D))}}var Pn=en,Kn=Pn.light,Ra=Pn.paintProperty,Da=Pn.layoutProperty;function Ia(R,D){var H=!1;if(D&&D.length)for(var re=0,he=D;re<he.length;re+=1){var be=he[re];R.fire(new zt(new Error(be.message))),H=!0}return H}var za=hi,ja=3;function hi(R,D,H){var re=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var he=new Int32Array(this.arrayBuffer);R=he[0],D=he[1],H=he[2],this.d=D+2*H;for(var be=0;be<this.d*this.d;be++){var Pe=he[ja+be],Ke=he[ja+be+1];re.push(Pe===Ke?null:he.subarray(Pe,Ke))}var ut=he[ja+re.length],wt=he[ja+re.length+1];this.keys=he.subarray(ut,wt),this.bboxes=he.subarray(wt),this.insert=this._insertReadonly}else{this.d=D+2*H;for(var Ct=0;Ct<this.d*this.d;Ct++)re.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=R,this.padding=H,this.scale=D/R,this.uid=0;var Wt=H/D*R;this.min=-Wt,this.max=R+Wt}hi.prototype.insert=function(R,D,H,re,he){this._forEachCell(D,H,re,he,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(D),this.bboxes.push(H),this.bboxes.push(re),this.bboxes.push(he)},hi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},hi.prototype._insertCell=function(R,D,H,re,he,be){this.cells[he].push(be)},hi.prototype.query=function(R,D,H,re,he){var be=this.min,Pe=this.max;if(R<=be&&D<=be&&Pe<=H&&Pe<=re&&!he)return Array.prototype.slice.call(this.keys);var Ke=[],ut={};return this._forEachCell(R,D,H,re,this._queryCell,Ke,ut,he),Ke},hi.prototype._queryCell=function(R,D,H,re,he,be,Pe,Ke){var ut=this.cells[he];if(ut!==null)for(var wt=this.keys,Ct=this.bboxes,Wt=0;Wt<ut.length;Wt++){var nr=ut[Wt];if(Pe[nr]===void 0){var qt=nr*4;(Ke?Ke(Ct[qt+0],Ct[qt+1],Ct[qt+2],Ct[qt+3]):R<=Ct[qt+2]&&D<=Ct[qt+3]&&H>=Ct[qt+0]&&re>=Ct[qt+1])?(Pe[nr]=!0,be.push(wt[nr])):Pe[nr]=!1}}},hi.prototype._forEachCell=function(R,D,H,re,he,be,Pe,Ke){for(var ut=this._convertToCellCoord(R),wt=this._convertToCellCoord(D),Ct=this._convertToCellCoord(H),Wt=this._convertToCellCoord(re),nr=ut;nr<=Ct;nr++)for(var qt=wt;qt<=Wt;qt++){var mr=this.d*qt+nr;if(!(Ke&&!Ke(this._convertFromCellCoord(nr),this._convertFromCellCoord(qt),this._convertFromCellCoord(nr+1),this._convertFromCellCoord(qt+1)))&&he.call(this,R,D,H,re,mr,be,Pe,Ke))return}},hi.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},hi.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},hi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,D=ja+this.cells.length+1+1,H=0,re=0;re<this.cells.length;re++)H+=this.cells[re].length;var he=new Int32Array(D+H+this.keys.length+this.bboxes.length);he[0]=this.extent,he[1]=this.n,he[2]=this.padding;for(var be=D,Pe=0;Pe<R.length;Pe++){var Ke=R[Pe];he[ja+Pe]=be,he.set(Ke,be),be+=Ke.length}return he[ja+R.length]=be,he.set(this.keys,be),be+=this.keys.length,he[ja+R.length+1]=be,he.set(this.bboxes,be),be+=this.bboxes.length,he.buffer};var Fi=i.ImageData,le=i.ImageBitmap,Ce={};function ze(R,D,H){H===void 0&&(H={}),Object.defineProperty(D,"_classRegistryKey",{value:R,writeable:!1}),Ce[R]={klass:D,omit:H.omit||[],shallow:H.shallow||[]}}ze("Object",Object),za.serialize=function(D,H){var re=D.toArrayBuffer();return H&&H.push(re),{buffer:re}},za.deserialize=function(D){return new za(D.buffer)},ze("Grid",za),ze("Color",qa),ze("Error",Error),ze("ResolvedImage",bo),ze("StylePropertyFunction",cl),ze("StyleExpression",Ys,{omit:["_evaluator"]}),ze("ZoomDependentExpression",ds),ze("ZoomConstantExpression",Gi),ze("CompoundExpression",Ji,{omit:["_evaluate"]});for(var Qe in Bl)Bl[Qe]._classRegistryKey||ze("Expression_"+Qe,Bl[Qe]);function tt(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&R.constructor.name==="ArrayBuffer")}function ot(R){return le&&R instanceof le}function Et(R,D){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(tt(R)||ot(R))return D&&D.push(R),R;if(ArrayBuffer.isView(R)){var H=R;return D&&D.push(H.buffer),H}if(R instanceof Fi)return D&&D.push(R.data.buffer),R;if(Array.isArray(R)){for(var re=[],he=0,be=R;he<be.length;he+=1){var Pe=be[he];re.push(Et(Pe,D))}return re}if(typeof R=="object"){var Ke=R.constructor,ut=Ke._classRegistryKey;if(!ut)throw new Error("can't serialize object of unregistered class");var wt=Ke.serialize?Ke.serialize(R,D):{};if(!Ke.serialize){for(var Ct in R)if(R.hasOwnProperty(Ct)&&!(Ce[ut].omit.indexOf(Ct)>=0)){var Wt=R[Ct];wt[Ct]=Ce[ut].shallow.indexOf(Ct)>=0?Wt:Et(Wt,D)}R instanceof Error&&(wt.message=R.message)}if(wt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ut!=="Object"&&(wt.$name=ut),wt}throw new Error("can't serialize object of type "+typeof R)}function bt(R){if(R==null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||tt(R)||ot(R)||ArrayBuffer.isView(R)||R instanceof Fi)return R;if(Array.isArray(R))return R.map(bt);if(typeof R=="object"){var D=R.$name||"Object",H=Ce[D],re=H.klass;if(!re)throw new Error("can't deserialize unregistered class "+D);if(re.deserialize)return re.deserialize(R);for(var he=Object.create(re.prototype),be=0,Pe=Object.keys(R);be<Pe.length;be+=1){var Ke=Pe[be];if(Ke!=="$name"){var ut=R[Ke];he[Ke]=Ce[D].shallow.indexOf(Ke)>=0?ut:bt(ut)}}return he}throw new Error("can't deserialize object of type "+typeof R)}var Ht=function(){this.first=!0};Ht.prototype.update=function(D,H){var re=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=re,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=re,!0):(this.lastFloorZoom>re?(this.lastIntegerZoom=re+1,this.lastIntegerZoomTime=H):this.lastFloorZoom<re&&(this.lastIntegerZoom=re,this.lastIntegerZoomTime=H),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=re,!0):!1)};var Gt={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function tr(R){for(var D=0,H=R;D<H.length;D+=1){var re=H[D];if(nn(re.charCodeAt(0)))return!0}return!1}function Cr(R){for(var D=0,H=R;D<H.length;D+=1){var re=H[D];if(!Pr(re.charCodeAt(0)))return!1}return!0}function Pr(R){return!(Gt.Arabic(R)||Gt["Arabic Supplement"](R)||Gt["Arabic Extended-A"](R)||Gt["Arabic Presentation Forms-A"](R)||Gt["Arabic Presentation Forms-B"](R))}function Jr(R){return R<11904?!1:!!(Gt["Bopomofo Extended"](R)||Gt.Bopomofo(R)||Gt["CJK Compatibility Forms"](R)||Gt["CJK Compatibility Ideographs"](R)||Gt["CJK Compatibility"](R)||Gt["CJK Radicals Supplement"](R)||Gt["CJK Strokes"](R)||Gt["CJK Symbols and Punctuation"](R)||Gt["CJK Unified Ideographs Extension A"](R)||Gt["CJK Unified Ideographs"](R)||Gt["Enclosed CJK Letters and Months"](R)||Gt["Halfwidth and Fullwidth Forms"](R)||Gt.Hiragana(R)||Gt["Ideographic Description Characters"](R)||Gt["Kangxi Radicals"](R)||Gt["Katakana Phonetic Extensions"](R)||Gt.Katakana(R)||Gt["Vertical Forms"](R)||Gt["Yi Radicals"](R)||Gt["Yi Syllables"](R))}function nn(R){return R===746||R===747?!0:R<4352?!1:!!(Gt["Bopomofo Extended"](R)||Gt.Bopomofo(R)||Gt["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||Gt["CJK Compatibility Ideographs"](R)||Gt["CJK Compatibility"](R)||Gt["CJK Radicals Supplement"](R)||Gt["CJK Strokes"](R)||Gt["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&R!==12336||Gt["CJK Unified Ideographs Extension A"](R)||Gt["CJK Unified Ideographs"](R)||Gt["Enclosed CJK Letters and Months"](R)||Gt["Hangul Compatibility Jamo"](R)||Gt["Hangul Jamo Extended-A"](R)||Gt["Hangul Jamo Extended-B"](R)||Gt["Hangul Jamo"](R)||Gt["Hangul Syllables"](R)||Gt.Hiragana(R)||Gt["Ideographic Description Characters"](R)||Gt.Kanbun(R)||Gt["Kangxi Radicals"](R)||Gt["Katakana Phonetic Extensions"](R)||Gt.Katakana(R)&&R!==12540||Gt["Halfwidth and Fullwidth Forms"](R)&&R!==65288&&R!==65289&&R!==65293&&!(R>=65306&&R<=65310)&&R!==65339&&R!==65341&&R!==65343&&!(R>=65371&&R<=65503)&&R!==65507&&!(R>=65512&&R<=65519)||Gt["Small Form Variants"](R)&&!(R>=65112&&R<=65118)&&!(R>=65123&&R<=65126)||Gt["Unified Canadian Aboriginal Syllabics"](R)||Gt["Unified Canadian Aboriginal Syllabics Extended"](R)||Gt["Vertical Forms"](R)||Gt["Yijing Hexagram Symbols"](R)||Gt["Yi Syllables"](R)||Gt["Yi Radicals"](R))}function Dr(R){return!!(Gt["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||Gt["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||Gt["Letterlike Symbols"](R)||Gt["Number Forms"](R)||Gt["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||Gt["Control Pictures"](R)&&R!==9251||Gt["Optical Character Recognition"](R)||Gt["Enclosed Alphanumerics"](R)||Gt["Geometric Shapes"](R)||Gt["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||Gt["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||Gt["CJK Symbols and Punctuation"](R)||Gt.Katakana(R)||Gt["Private Use Area"](R)||Gt["CJK Compatibility Forms"](R)||Gt["Small Form Variants"](R)||Gt["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}function Br(R){return!(nn(R)||Dr(R))}function jr(R){return Gt.Arabic(R)||Gt["Arabic Supplement"](R)||Gt["Arabic Extended-A"](R)||Gt["Arabic Presentation Forms-A"](R)||Gt["Arabic Presentation Forms-B"](R)}function ln(R){return R>=1424&&R<=2303||Gt["Arabic Presentation Forms-A"](R)||Gt["Arabic Presentation Forms-B"](R)}function cn(R,D){return!(!D&&ln(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||Gt.Khmer(R))}function $r(R){for(var D=0,H=R;D<H.length;D+=1){var re=H[D];if(ln(re.charCodeAt(0)))return!0}return!1}function Nn(R,D){for(var H=0,re=R;H<re.length;H+=1){var he=re[H];if(!cn(he.charCodeAt(0),D))return!1}return!0}var aa={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},ha=null,ra=aa.unavailable,la=null,va=function(R){R&&typeof R=="string"&&R.indexOf("NetworkError")>-1&&(ra=aa.error),ha&&ha(R)};function Ba(){Ea.fire(new er("pluginStateChange",{pluginStatus:ra,pluginURL:la}))}var Ea=new vr,Fa=function(){return ra},ni=function(R){return R({pluginStatus:ra,pluginURL:la}),Ea.on("pluginStateChange",R),R},zi=function(R,D,H){if(H===void 0&&(H=!1),ra===aa.deferred||ra===aa.loading||ra===aa.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");la=se.resolveURL(R),ra=aa.deferred,ha=D,Ba(),H||ui()},ui=function(){if(ra!==aa.deferred||!la)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ra=aa.loading,Ba(),la&&Bt({url:la},function(R){R?va(R):(ra=aa.loaded,Ba())})},qn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ra===aa.loaded||qn.applyArabicShaping!=null},isLoading:function(){return ra===aa.loading},setState:function(D){ra=D.pluginStatus,la=D.pluginURL},isParsed:function(){return qn.applyArabicShaping!=null&&qn.processBidirectionalText!=null&&qn.processStyledBidirectionalText!=null},getPluginURL:function(){return la}},Ua=function(){!qn.isLoading()&&!qn.isLoaded()&&Fa()==="deferred"&&ui()},Ma=function(D,H){this.zoom=D,H?(this.now=H.now,this.fadeDuration=H.fadeDuration,this.zoomHistory=H.zoomHistory,this.transition=H.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ht,this.transition={})};Ma.prototype.isSupportedScript=function(D){return Nn(D,qn.isLoaded())},Ma.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ma.prototype.getCrossfadeParameters=function(){var D=this.zoom,H=D-Math.floor(D),re=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:H+(1-H)*re}:{fromScale:.5,toScale:1,t:1-(1-re)*H}};var Xa=function(D,H){this.property=D,this.value=H,this.expression=Ku(H===void 0?D.specification.default:H,D.specification)};Xa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Xa.prototype.possiblyEvaluate=function(D,H,re){return this.property.possiblyEvaluate(this,D,H,re)};var bi=function(D){this.property=D,this.value=new Xa(D,void 0)};bi.prototype.transitioned=function(D,H){return new $i(this.property,this.value,H,A({},D.transition,this.transition),D.now)},bi.prototype.untransitioned=function(){return new $i(this.property,this.value,null,{},0)};var ai=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};ai.prototype.getValue=function(D){return N(this._values[D].value.value)},ai.prototype.setValue=function(D,H){this._values.hasOwnProperty(D)||(this._values[D]=new bi(this._values[D].property)),this._values[D].value=new Xa(this._values[D].property,H===null?void 0:N(H))},ai.prototype.getTransition=function(D){return N(this._values[D].transition)},ai.prototype.setTransition=function(D,H){this._values.hasOwnProperty(D)||(this._values[D]=new bi(this._values[D].property)),this._values[D].transition=N(H)||void 0},ai.prototype.serialize=function(){for(var D={},H=0,re=Object.keys(this._values);H<re.length;H+=1){var he=re[H],be=this.getValue(he);be!==void 0&&(D[he]=be);var Pe=this.getTransition(he);Pe!==void 0&&(D[he+"-transition"]=Pe)}return D},ai.prototype.transitioned=function(D,H){for(var re=new qi(this._properties),he=0,be=Object.keys(this._values);he<be.length;he+=1){var Pe=be[he];re._values[Pe]=this._values[Pe].transitioned(D,H._values[Pe])}return re},ai.prototype.untransitioned=function(){for(var D=new qi(this._properties),H=0,re=Object.keys(this._values);H<re.length;H+=1){var he=re[H];D._values[he]=this._values[he].untransitioned()}return D};var $i=function(D,H,re,he,be){this.property=D,this.value=H,this.begin=be+he.delay||0,this.end=this.begin+he.duration||0,D.specification.transition&&(he.delay||he.duration)&&(this.prior=re)};$i.prototype.possiblyEvaluate=function(D,H,re){var he=D.now||0,be=this.value.possiblyEvaluate(D,H,re),Pe=this.prior;if(Pe){if(he>this.end)return this.prior=null,be;if(this.value.isDataDriven())return this.prior=null,be;if(he<this.begin)return Pe.possiblyEvaluate(D,H,re);var Ke=(he-this.begin)/(this.end-this.begin);return this.property.interpolate(Pe.possiblyEvaluate(D,H,re),be,u(Ke))}else return be};var qi=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};qi.prototype.possiblyEvaluate=function(D,H,re){for(var he=new go(this._properties),be=0,Pe=Object.keys(this._values);be<Pe.length;be+=1){var Ke=Pe[be];he._values[Ke]=this._values[Ke].possiblyEvaluate(D,H,re)}return he},qi.prototype.hasTransition=function(){for(var D=0,H=Object.keys(this._values);D<H.length;D+=1){var re=H[D];if(this._values[re].prior)return!0}return!1};var ao=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};ao.prototype.getValue=function(D){return N(this._values[D].value)},ao.prototype.setValue=function(D,H){this._values[D]=new Xa(this._values[D].property,H===null?void 0:N(H))},ao.prototype.serialize=function(){for(var D={},H=0,re=Object.keys(this._values);H<re.length;H+=1){var he=re[H],be=this.getValue(he);be!==void 0&&(D[he]=be)}return D},ao.prototype.possiblyEvaluate=function(D,H,re){for(var he=new go(this._properties),be=0,Pe=Object.keys(this._values);be<Pe.length;be+=1){var Ke=Pe[be];he._values[Ke]=this._values[Ke].possiblyEvaluate(D,H,re)}return he};var wi=function(D,H,re){this.property=D,this.value=H,this.parameters=re};wi.prototype.isConstant=function(){return this.value.kind==="constant"},wi.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},wi.prototype.evaluate=function(D,H,re,he){return this.property.evaluate(this.value,this.parameters,D,H,re,he)};var go=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};go.prototype.get=function(D){return this._values[D]};var fa=function(D){this.specification=D};fa.prototype.possiblyEvaluate=function(D,H){return D.expression.evaluate(H)},fa.prototype.interpolate=function(D,H,re){var he=Uu[this.specification.type];return he?he(D,H,re):D};var La=function(D,H){this.specification=D,this.overrides=H};La.prototype.possiblyEvaluate=function(D,H,re,he){return D.expression.kind==="constant"||D.expression.kind==="camera"?new wi(this,{kind:"constant",value:D.expression.evaluate(H,null,{},re,he)},H):new wi(this,D.expression,H)},La.prototype.interpolate=function(D,H,re){if(D.value.kind!=="constant"||H.value.kind!=="constant")return D;if(D.value.value===void 0||H.value.value===void 0)return new wi(this,{kind:"constant",value:void 0},D.parameters);var he=Uu[this.specification.type];return he?new wi(this,{kind:"constant",value:he(D.value.value,H.value.value,re)},D.parameters):D},La.prototype.evaluate=function(D,H,re,he,be,Pe){return D.kind==="constant"?D.value:D.evaluate(H,re,he,be,Pe)};var Io=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(re,he,be,Pe){if(re.value===void 0)return new wi(this,{kind:"constant",value:void 0},he);if(re.expression.kind==="constant"){var Ke=re.expression.evaluate(he,null,{},be,Pe),ut=re.property.specification.type==="resolvedImage",wt=ut&&typeof Ke!="string"?Ke.name:Ke,Ct=this._calculate(wt,wt,wt,he);return new wi(this,{kind:"constant",value:Ct},he)}else if(re.expression.kind==="camera"){var Wt=this._calculate(re.expression.evaluate({zoom:he.zoom-1}),re.expression.evaluate({zoom:he.zoom}),re.expression.evaluate({zoom:he.zoom+1}),he);return new wi(this,{kind:"constant",value:Wt},he)}else return new wi(this,re.expression,he)},D.prototype.evaluate=function(re,he,be,Pe,Ke,ut){if(re.kind==="source"){var wt=re.evaluate(he,be,Pe,Ke,ut);return this._calculate(wt,wt,wt,he)}else return re.kind==="composite"?this._calculate(re.evaluate({zoom:Math.floor(he.zoom)-1},be,Pe),re.evaluate({zoom:Math.floor(he.zoom)},be,Pe),re.evaluate({zoom:Math.floor(he.zoom)+1},be,Pe),he):re.value},D.prototype._calculate=function(re,he,be,Pe){var Ke=Pe.zoom;return Ke>Pe.zoomHistory.lastIntegerZoom?{from:re,to:he}:{from:be,to:he}},D.prototype.interpolate=function(re){return re},D}(La),Bo=function(D){this.specification=D};Bo.prototype.possiblyEvaluate=function(D,H,re,he){if(D.value!==void 0)if(D.expression.kind==="constant"){var be=D.expression.evaluate(H,null,{},re,he);return this._calculate(be,be,be,H)}else return this._calculate(D.expression.evaluate(new Ma(Math.floor(H.zoom-1),H)),D.expression.evaluate(new Ma(Math.floor(H.zoom),H)),D.expression.evaluate(new Ma(Math.floor(H.zoom+1),H)),H)},Bo.prototype._calculate=function(D,H,re,he){var be=he.zoom;return be>he.zoomHistory.lastIntegerZoom?{from:D,to:H}:{from:re,to:H}},Bo.prototype.interpolate=function(D){return D};var io=function(D){this.specification=D};io.prototype.possiblyEvaluate=function(D,H,re,he){return!!D.expression.evaluate(H,null,{},re,he)},io.prototype.interpolate=function(){return!1};var fi=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var H in D){var re=D[H];re.specification.overridable&&this.overridableProperties.push(H);var he=this.defaultPropertyValues[H]=new Xa(re,void 0),be=this.defaultTransitionablePropertyValues[H]=new bi(re);this.defaultTransitioningPropertyValues[H]=be.untransitioned(),this.defaultPossiblyEvaluatedValues[H]=he.possiblyEvaluate({})}};ze("DataDrivenProperty",La),ze("DataConstantProperty",fa),ze("CrossFadedDataDrivenProperty",Io),ze("CrossFadedProperty",Bo),ze("ColorRampProperty",io);var Wi="-transition",Bi=function(R){function D(H,re){if(R.call(this),this.id=H.id,this.type=H.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},H.type!=="custom"&&(H=H,this.metadata=H.metadata,this.minzoom=H.minzoom,this.maxzoom=H.maxzoom,H.type!=="background"&&(this.source=H.source,this.sourceLayer=H["source-layer"],this.filter=H.filter),re.layout&&(this._unevaluatedLayout=new ao(re.layout)),re.paint)){this._transitionablePaint=new ai(re.paint);for(var he in H.paint)this.setPaintProperty(he,H.paint[he],{validate:!1});for(var be in H.layout)this.setLayoutProperty(be,H.layout[be],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new go(re.paint)}}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(re){return re==="visibility"?this.visibility:this._unevaluatedLayout.getValue(re)},D.prototype.setLayoutProperty=function(re,he,be){if(be===void 0&&(be={}),he!=null){var Pe="layers."+this.id+".layout."+re;if(this._validate(Da,Pe,re,he,be))return}if(re==="visibility"){this.visibility=he;return}this._unevaluatedLayout.setValue(re,he)},D.prototype.getPaintProperty=function(re){return x(re,Wi)?this._transitionablePaint.getTransition(re.slice(0,-Wi.length)):this._transitionablePaint.getValue(re)},D.prototype.setPaintProperty=function(re,he,be){if(be===void 0&&(be={}),he!=null){var Pe="layers."+this.id+".paint."+re;if(this._validate(Ra,Pe,re,he,be))return!1}if(x(re,Wi))return this._transitionablePaint.setTransition(re.slice(0,-Wi.length),he||void 0),!1;var Ke=this._transitionablePaint._values[re],ut=Ke.property.specification["property-type"]==="cross-faded-data-driven",wt=Ke.value.isDataDriven(),Ct=Ke.value;this._transitionablePaint.setValue(re,he),this._handleSpecialPaintPropertyUpdate(re);var Wt=this._transitionablePaint._values[re].value,nr=Wt.isDataDriven();return nr||wt||ut||this._handleOverridablePaintPropertyUpdate(re,Ct,Wt)},D.prototype._handleSpecialPaintPropertyUpdate=function(re){},D.prototype._handleOverridablePaintPropertyUpdate=function(re,he,be){return!1},D.prototype.isHidden=function(re){return this.minzoom&&re<this.minzoom||this.maxzoom&&re>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(re){this._transitioningPaint=this._transitionablePaint.transitioned(re,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(re,he){re.getCrossfadeParameters&&(this._crossfadeParameters=re.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(re,void 0,he)),this.paint=this._transitioningPaint.possiblyEvaluate(re,void 0,he)},D.prototype.serialize=function(){var re={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(re.layout=re.layout||{},re.layout.visibility=this.visibility),I(re,function(he,be){return he!==void 0&&!(be==="layout"&&!Object.keys(he).length)&&!(be==="paint"&&!Object.keys(he).length)})},D.prototype._validate=function(re,he,be,Pe,Ke){return Ke===void 0&&(Ke={}),Ke&&Ke.validate===!1?!1:Ia(this,re.call(Pn,{key:he,layerType:this.type,objectKey:be,value:Pe,styleSpec:br,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var re in this.paint._values){var he=this.paint.get(re);if(!(!(he instanceof wi)||!Rs(he.property.specification))&&(he.value.kind==="source"||he.value.kind==="composite")&&he.value.isStateDependent)return!0}return!1},D}(vr),ps={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Is=function(D,H){this._structArray=D,this._pos1=H*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ci=128,Wl=5,Ka=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ka.serialize=function(D,H){return D._trim(),H&&(D.isTransferred=!0,H.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},Ka.deserialize=function(D){var H=Object.create(this.prototype);return H.arrayBuffer=D.arrayBuffer,H.length=D.length,H.capacity=D.arrayBuffer.byteLength/H.bytesPerElement,H._refreshViews(),H},Ka.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ka.prototype.clear=function(){this.length=0},Ka.prototype.resize=function(D){this.reserve(D),this.length=D},Ka.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*Wl),Ci),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var H=this.uint8;this._refreshViews(),H&&this.uint8.set(H)}},Ka.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Li(R,D){D===void 0&&(D=1);var H=0,re=0,he=R.map(function(Pe){var Ke=yh(Pe.type),ut=H=fp(H,Math.max(D,Ke)),wt=Pe.components||1;return re=Math.max(re,Ke),H+=Ke*wt,{name:Pe.name,type:Pe.type,components:wt,offset:ut}}),be=fp(H,Math.max(re,D));return{members:he,size:be,alignment:D}}function yh(R){return ps[R].BYTES_PER_ELEMENT}function fp(R,D){return Math.ceil(R/D)*D}var Lf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he){var be=this.length;return this.resize(be+1),this.emplace(be,re,he)},D.prototype.emplace=function(re,he,be){var Pe=re*2;return this.int16[Pe+0]=he,this.int16[Pe+1]=be,re},D}(Ka);Lf.prototype.bytesPerElement=4,ze("StructArrayLayout2i4",Lf);var Xv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,re,he,be,Pe)},D.prototype.emplace=function(re,he,be,Pe,Ke){var ut=re*4;return this.int16[ut+0]=he,this.int16[ut+1]=be,this.int16[ut+2]=Pe,this.int16[ut+3]=Ke,re},D}(Ka);Xv.prototype.bytesPerElement=8,ze("StructArrayLayout4i8",Xv);var $u=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe,Ke,ut){var wt=this.length;return this.resize(wt+1),this.emplace(wt,re,he,be,Pe,Ke,ut)},D.prototype.emplace=function(re,he,be,Pe,Ke,ut,wt){var Ct=re*6;return this.int16[Ct+0]=he,this.int16[Ct+1]=be,this.int16[Ct+2]=Pe,this.int16[Ct+3]=Ke,this.int16[Ct+4]=ut,this.int16[Ct+5]=wt,re},D}(Ka);$u.prototype.bytesPerElement=12,ze("StructArrayLayout2i4i12",$u);var pc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe,Ke,ut){var wt=this.length;return this.resize(wt+1),this.emplace(wt,re,he,be,Pe,Ke,ut)},D.prototype.emplace=function(re,he,be,Pe,Ke,ut,wt){var Ct=re*4,Wt=re*8;return this.int16[Ct+0]=he,this.int16[Ct+1]=be,this.uint8[Wt+4]=Pe,this.uint8[Wt+5]=Ke,this.uint8[Wt+6]=ut,this.uint8[Wt+7]=wt,re},D}(Ka);pc.prototype.bytesPerElement=8,ze("StructArrayLayout2i4ub8",pc);var gc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he){var be=this.length;return this.resize(be+1),this.emplace(be,re,he)},D.prototype.emplace=function(re,he,be){var Pe=re*2;return this.float32[Pe+0]=he,this.float32[Pe+1]=be,re},D}(Ka);gc.prototype.bytesPerElement=8,ze("StructArrayLayout2f8",gc);var ts=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr){var qt=this.length;return this.resize(qt+1),this.emplace(qt,re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr)},D.prototype.emplace=function(re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt){var mr=re*10;return this.uint16[mr+0]=he,this.uint16[mr+1]=be,this.uint16[mr+2]=Pe,this.uint16[mr+3]=Ke,this.uint16[mr+4]=ut,this.uint16[mr+5]=wt,this.uint16[mr+6]=Ct,this.uint16[mr+7]=Wt,this.uint16[mr+8]=nr,this.uint16[mr+9]=qt,re},D}(Ka);ts.prototype.bytesPerElement=20,ze("StructArrayLayout10ui20",ts);var qu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr){var zr=this.length;return this.resize(zr+1),this.emplace(zr,re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr)},D.prototype.emplace=function(re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr,zr){var sn=re*12;return this.int16[sn+0]=he,this.int16[sn+1]=be,this.int16[sn+2]=Pe,this.int16[sn+3]=Ke,this.uint16[sn+4]=ut,this.uint16[sn+5]=wt,this.uint16[sn+6]=Ct,this.uint16[sn+7]=Wt,this.int16[sn+8]=nr,this.int16[sn+9]=qt,this.int16[sn+10]=mr,this.int16[sn+11]=zr,re},D}(Ka);qu.prototype.bytesPerElement=24,ze("StructArrayLayout4i4ui4i24",qu);var Kv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,re,he,be)},D.prototype.emplace=function(re,he,be,Pe){var Ke=re*3;return this.float32[Ke+0]=he,this.float32[Ke+1]=be,this.float32[Ke+2]=Pe,re},D}(Ka);Kv.prototype.bytesPerElement=12,ze("StructArrayLayout3f12",Kv);var Jv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re){var he=this.length;return this.resize(he+1),this.emplace(he,re)},D.prototype.emplace=function(re,he){var be=re*1;return this.uint32[be+0]=he,re},D}(Ka);Jv.prototype.bytesPerElement=4,ze("StructArrayLayout1ul4",Jv);var mh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe,Ke,ut,wt,Ct,Wt){var nr=this.length;return this.resize(nr+1),this.emplace(nr,re,he,be,Pe,Ke,ut,wt,Ct,Wt)},D.prototype.emplace=function(re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr){var qt=re*10,mr=re*5;return this.int16[qt+0]=he,this.int16[qt+1]=be,this.int16[qt+2]=Pe,this.int16[qt+3]=Ke,this.int16[qt+4]=ut,this.int16[qt+5]=wt,this.uint32[mr+3]=Ct,this.uint16[qt+8]=Wt,this.uint16[qt+9]=nr,re},D}(Ka);mh.prototype.bytesPerElement=20,ze("StructArrayLayout6i1ul2ui20",mh);var Wh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe,Ke,ut){var wt=this.length;return this.resize(wt+1),this.emplace(wt,re,he,be,Pe,Ke,ut)},D.prototype.emplace=function(re,he,be,Pe,Ke,ut,wt){var Ct=re*6;return this.int16[Ct+0]=he,this.int16[Ct+1]=be,this.int16[Ct+2]=Pe,this.int16[Ct+3]=Ke,this.int16[Ct+4]=ut,this.int16[Ct+5]=wt,re},D}(Ka);Wh.prototype.bytesPerElement=12,ze("StructArrayLayout2i2i2i12",Wh);var Tu=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe,Ke){var ut=this.length;return this.resize(ut+1),this.emplace(ut,re,he,be,Pe,Ke)},D.prototype.emplace=function(re,he,be,Pe,Ke,ut){var wt=re*4,Ct=re*8;return this.float32[wt+0]=he,this.float32[wt+1]=be,this.float32[wt+2]=Pe,this.int16[Ct+6]=Ke,this.int16[Ct+7]=ut,re},D}(Ka);Tu.prototype.bytesPerElement=16,ze("StructArrayLayout2f1f2i16",Tu);var gs=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,re,he,be,Pe)},D.prototype.emplace=function(re,he,be,Pe,Ke){var ut=re*12,wt=re*3;return this.uint8[ut+0]=he,this.uint8[ut+1]=be,this.float32[wt+1]=Pe,this.float32[wt+2]=Ke,re},D}(Ka);gs.prototype.bytesPerElement=12,ze("StructArrayLayout2ub2f12",gs);var Au=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,re,he,be)},D.prototype.emplace=function(re,he,be,Pe){var Ke=re*3;return this.uint16[Ke+0]=he,this.uint16[Ke+1]=be,this.uint16[Ke+2]=Pe,re},D}(Ka);Au.prototype.bytesPerElement=6,ze("StructArrayLayout3ui6",Au);var xh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr,zr,sn,qr,En,mn){var Mn=this.length;return this.resize(Mn+1),this.emplace(Mn,re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr,zr,sn,qr,En,mn)},D.prototype.emplace=function(re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr,zr,sn,qr,En,mn,Mn){var kn=re*24,Gn=re*12,oa=re*48;return this.int16[kn+0]=he,this.int16[kn+1]=be,this.uint16[kn+2]=Pe,this.uint16[kn+3]=Ke,this.uint32[Gn+2]=ut,this.uint32[Gn+3]=wt,this.uint32[Gn+4]=Ct,this.uint16[kn+10]=Wt,this.uint16[kn+11]=nr,this.uint16[kn+12]=qt,this.float32[Gn+7]=mr,this.float32[Gn+8]=zr,this.uint8[oa+36]=sn,this.uint8[oa+37]=qr,this.uint8[oa+38]=En,this.uint32[Gn+10]=mn,this.int16[kn+22]=Mn,re},D}(Ka);xh.prototype.bytesPerElement=48,ze("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",xh);var Yh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr,zr,sn,qr,En,mn,Mn,kn,Gn,oa,na,Ta,pa,ba,Na,Aa,Ca){var Wa=this.length;return this.resize(Wa+1),this.emplace(Wa,re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr,zr,sn,qr,En,mn,Mn,kn,Gn,oa,na,Ta,pa,ba,Na,Aa,Ca)},D.prototype.emplace=function(re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr,zr,sn,qr,En,mn,Mn,kn,Gn,oa,na,Ta,pa,ba,Na,Aa,Ca,Wa){var Oa=re*34,oi=re*17;return this.int16[Oa+0]=he,this.int16[Oa+1]=be,this.int16[Oa+2]=Pe,this.int16[Oa+3]=Ke,this.int16[Oa+4]=ut,this.int16[Oa+5]=wt,this.int16[Oa+6]=Ct,this.int16[Oa+7]=Wt,this.uint16[Oa+8]=nr,this.uint16[Oa+9]=qt,this.uint16[Oa+10]=mr,this.uint16[Oa+11]=zr,this.uint16[Oa+12]=sn,this.uint16[Oa+13]=qr,this.uint16[Oa+14]=En,this.uint16[Oa+15]=mn,this.uint16[Oa+16]=Mn,this.uint16[Oa+17]=kn,this.uint16[Oa+18]=Gn,this.uint16[Oa+19]=oa,this.uint16[Oa+20]=na,this.uint16[Oa+21]=Ta,this.uint16[Oa+22]=pa,this.uint32[oi+12]=ba,this.float32[oi+13]=Na,this.float32[oi+14]=Aa,this.float32[oi+15]=Ca,this.float32[oi+16]=Wa,re},D}(Ka);Yh.prototype.bytesPerElement=68,ze("StructArrayLayout8i15ui1ul4f68",Yh);var yc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re){var he=this.length;return this.resize(he+1),this.emplace(he,re)},D.prototype.emplace=function(re,he){var be=re*1;return this.float32[be+0]=he,re},D}(Ka);yc.prototype.bytesPerElement=4,ze("StructArrayLayout1f4",yc);var Qv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,re,he,be)},D.prototype.emplace=function(re,he,be,Pe){var Ke=re*3;return this.int16[Ke+0]=he,this.int16[Ke+1]=be,this.int16[Ke+2]=Pe,re},D}(Ka);Qv.prototype.bytesPerElement=6,ze("StructArrayLayout3i6",Qv);var ef=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,re,he,be)},D.prototype.emplace=function(re,he,be,Pe){var Ke=re*2,ut=re*4;return this.uint32[Ke+0]=he,this.uint16[ut+2]=be,this.uint16[ut+3]=Pe,re},D}(Ka);ef.prototype.bytesPerElement=8,ze("StructArrayLayout1ul2ui8",ef);var bh=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he){var be=this.length;return this.resize(be+1),this.emplace(be,re,he)},D.prototype.emplace=function(re,he,be){var Pe=re*2;return this.uint16[Pe+0]=he,this.uint16[Pe+1]=be,re},D}(Ka);bh.prototype.bytesPerElement=4,ze("StructArrayLayout2ui4",bh);var mc=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re){var he=this.length;return this.resize(he+1),this.emplace(he,re)},D.prototype.emplace=function(re,he){var be=re*1;return this.uint16[be+0]=he,re},D}(Ka);mc.prototype.bytesPerElement=2,ze("StructArrayLayout1ui2",mc);var Pf=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(re,he,be,Pe){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,re,he,be,Pe)},D.prototype.emplace=function(re,he,be,Pe,Ke){var ut=re*4;return this.float32[ut+0]=he,this.float32[ut+1]=be,this.float32[ut+2]=Pe,this.float32[ut+3]=Ke,re},D}(Ka);Pf.prototype.bytesPerElement=16,ze("StructArrayLayout4f16",Pf);var cp=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return H.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},H.x1.get=function(){return this._structArray.int16[this._pos2+2]},H.y1.get=function(){return this._structArray.int16[this._pos2+3]},H.x2.get=function(){return this._structArray.int16[this._pos2+4]},H.y2.get=function(){return this._structArray.int16[this._pos2+5]},H.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},H.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},H.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},H.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,H),D}(Is);cp.prototype.size=20;var $v=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(re){return new cp(this,re)},D}(mh);ze("CollisionBoxArray",$v);var Rf=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return H.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},H.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},H.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},H.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},H.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},H.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},H.segment.get=function(){return this._structArray.uint16[this._pos2+10]},H.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},H.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},H.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},H.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},H.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},H.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},H.placedOrientation.set=function(re){this._structArray.uint8[this._pos1+37]=re},H.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},H.hidden.set=function(re){this._structArray.uint8[this._pos1+38]=re},H.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},H.crossTileID.set=function(re){this._structArray.uint32[this._pos4+10]=re},H.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,H),D}(Is);Rf.prototype.size=48;var qv=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(re){return new Rf(this,re)},D}(xh);ze("PlacedSymbolArray",qv);var xc=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return H.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},H.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},H.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},H.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},H.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},H.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},H.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},H.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},H.key.get=function(){return this._structArray.uint16[this._pos2+8]},H.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},H.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},H.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},H.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},H.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},H.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},H.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},H.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},H.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},H.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},H.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},H.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},H.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},H.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},H.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},H.crossTileID.set=function(re){this._structArray.uint32[this._pos4+12]=re},H.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},H.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},H.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},H.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,H),D}(Is);xc.prototype.size=68;var hp=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(re){return new xc(this,re)},D}(Yh);ze("SymbolInstanceArray",hp);var vp=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(re){return this.float32[re*1+0]},D}(yc);ze("GlyphOffsetArray",vp);var vl=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.getx=function(re){return this.int16[re*3+0]},D.prototype.gety=function(re){return this.int16[re*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(re){return this.int16[re*3+2]},D}(Qv);ze("SymbolLineVertexArray",vl);var dp=function(R){function D(){R.apply(this,arguments)}R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D;var H={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return H.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},H.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},H.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,H),D}(Is);dp.prototype.size=8;var pp=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.get=function(re){return new dp(this,re)},D}(ef);ze("FeatureIndexArray",pp);var fg=Li([{name:"a_pos",components:2,type:"Int16"}],4),gp=fg.members,oo=function(D){D===void 0&&(D=[]),this.segments=D};oo.prototype.prepareSegment=function(D,H,re,he){var be=this.segments[this.segments.length-1];return D>oo.MAX_VERTEX_ARRAY_LENGTH&&O("Max vertices per segment is "+oo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!be||be.vertexLength+D>oo.MAX_VERTEX_ARRAY_LENGTH||be.sortKey!==he)&&(be={vertexOffset:H.length,primitiveOffset:re.length,vertexLength:0,primitiveLength:0},he!==void 0&&(be.sortKey=he),this.segments.push(be)),be},oo.prototype.get=function(){return this.segments},oo.prototype.destroy=function(){for(var D=0,H=this.segments;D<H.length;D+=1){var re=H[D];for(var he in re.vaos)re.vaos[he].destroy()}},oo.simpleSegment=function(D,H,re,he){return new oo([{vertexOffset:D,primitiveOffset:H,vertexLength:re,primitiveLength:he,vaos:{},sortKey:0}])},oo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ze("SegmentVector",oo);function ce(R,D){return R=f(Math.floor(R),0,255),D=f(Math.floor(D),0,255),256*R+D}var Z=Li([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ve=L(function(R){function D(H,re){var he,be,Pe,Ke,ut,wt,Ct,Wt;for(he=H.length&3,be=H.length-he,Pe=re,ut=3432918353,wt=461845907,Wt=0;Wt<be;)Ct=H.charCodeAt(Wt)&255|(H.charCodeAt(++Wt)&255)<<8|(H.charCodeAt(++Wt)&255)<<16|(H.charCodeAt(++Wt)&255)<<24,++Wt,Ct=(Ct&65535)*ut+(((Ct>>>16)*ut&65535)<<16)&4294967295,Ct=Ct<<15|Ct>>>17,Ct=(Ct&65535)*wt+(((Ct>>>16)*wt&65535)<<16)&4294967295,Pe^=Ct,Pe=Pe<<13|Pe>>>19,Ke=(Pe&65535)*5+(((Pe>>>16)*5&65535)<<16)&4294967295,Pe=(Ke&65535)+27492+(((Ke>>>16)+58964&65535)<<16);switch(Ct=0,he){case 3:Ct^=(H.charCodeAt(Wt+2)&255)<<16;case 2:Ct^=(H.charCodeAt(Wt+1)&255)<<8;case 1:Ct^=H.charCodeAt(Wt)&255,Ct=(Ct&65535)*ut+(((Ct>>>16)*ut&65535)<<16)&4294967295,Ct=Ct<<15|Ct>>>17,Ct=(Ct&65535)*wt+(((Ct>>>16)*wt&65535)<<16)&4294967295,Pe^=Ct}return Pe^=H.length,Pe^=Pe>>>16,Pe=(Pe&65535)*2246822507+(((Pe>>>16)*2246822507&65535)<<16)&4294967295,Pe^=Pe>>>13,Pe=(Pe&65535)*3266489909+(((Pe>>>16)*3266489909&65535)<<16)&4294967295,Pe^=Pe>>>16,Pe>>>0}R.exports=D}),ee=L(function(R){function D(H,re){for(var he=H.length,be=re^he,Pe=0,Ke;he>=4;)Ke=H.charCodeAt(Pe)&255|(H.charCodeAt(++Pe)&255)<<8|(H.charCodeAt(++Pe)&255)<<16|(H.charCodeAt(++Pe)&255)<<24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),Ke^=Ke>>>24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16)^Ke,he-=4,++Pe;switch(he){case 3:be^=(H.charCodeAt(Pe+2)&255)<<16;case 2:be^=(H.charCodeAt(Pe+1)&255)<<8;case 1:be^=H.charCodeAt(Pe)&255,be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16)}return be^=be>>>13,be=(be&65535)*1540483477+(((be>>>16)*1540483477&65535)<<16),be^=be>>>15,be>>>0}R.exports=D}),de=ve,Fe=ve,je=ee;de.murmur3=Fe,de.murmur2=je;var it=function(){this.ids=[],this.positions=[],this.indexed=!1};it.prototype.add=function(D,H,re,he){this.ids.push(Ut(D)),this.positions.push(H,re,he)},it.prototype.getPositions=function(D){for(var H=Ut(D),re=0,he=this.ids.length-1;re<he;){var be=re+he>>1;this.ids[be]>=H?he=be:re=be+1}for(var Pe=[];this.ids[re]===H;){var Ke=this.positions[3*re],ut=this.positions[3*re+1],wt=this.positions[3*re+2];Pe.push({index:Ke,start:ut,end:wt}),re++}return Pe},it.serialize=function(D,H){var re=new Float64Array(D.ids),he=new Uint32Array(D.positions);return Kt(re,he,0,re.length-1),H&&H.push(re.buffer,he.buffer),{ids:re,positions:he}},it.deserialize=function(D){var H=new it;return H.ids=D.ids,H.positions=D.positions,H.indexed=!0,H};var St=Math.pow(2,53)-1;function Ut(R){var D=+R;return!isNaN(D)&&D<=St?D:de(String(R))}function Kt(R,D,H,re){for(;H<re;){for(var he=R[H+re>>1],be=H-1,Pe=re+1;;){do be++;while(R[be]<he);do Pe--;while(R[Pe]>he);if(be>=Pe)break;or(R,be,Pe),or(D,3*be,3*Pe),or(D,3*be+1,3*Pe+1),or(D,3*be+2,3*Pe+2)}Pe-H<re-Pe?(Kt(R,D,H,Pe),H=Pe+1):(Kt(R,D,Pe+1,re),re=Pe)}}function or(R,D,H){var re=R[D];R[D]=R[H],R[H]=re}ze("FeaturePositionMap",it);var ir=function(D,H){this.gl=D.gl,this.location=H},Fr=function(R){function D(H,re){R.call(this,H,re),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){this.current!==re&&(this.current=re,this.gl.uniform1i(this.location,re))},D}(ir),Zr=function(R){function D(H,re){R.call(this,H,re),this.current=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){this.current!==re&&(this.current=re,this.gl.uniform1f(this.location,re))},D}(ir),Yr=function(R){function D(H,re){R.call(this,H,re),this.current=[0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){(re[0]!==this.current[0]||re[1]!==this.current[1])&&(this.current=re,this.gl.uniform2f(this.location,re[0],re[1]))},D}(ir),Vr=function(R){function D(H,re){R.call(this,H,re),this.current=[0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){(re[0]!==this.current[0]||re[1]!==this.current[1]||re[2]!==this.current[2])&&(this.current=re,this.gl.uniform3f(this.location,re[0],re[1],re[2]))},D}(ir),Kr=function(R){function D(H,re){R.call(this,H,re),this.current=[0,0,0,0]}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){(re[0]!==this.current[0]||re[1]!==this.current[1]||re[2]!==this.current[2]||re[3]!==this.current[3])&&(this.current=re,this.gl.uniform4f(this.location,re[0],re[1],re[2],re[3]))},D}(ir),fn=function(R){function D(H,re){R.call(this,H,re),this.current=qa.transparent}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){(re.r!==this.current.r||re.g!==this.current.g||re.b!==this.current.b||re.a!==this.current.a)&&(this.current=re,this.gl.uniform4f(this.location,re.r,re.g,re.b,re.a))},D}(ir),Dn=new Float32Array(16),zn=function(R){function D(H,re){R.call(this,H,re),this.current=Dn}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.set=function(re){if(re[12]!==this.current[12]||re[0]!==this.current[0]){this.current=re,this.gl.uniformMatrix4fv(this.location,!1,re);return}for(var he=1;he<16;he++)if(re[he]!==this.current[he]){this.current=re,this.gl.uniformMatrix4fv(this.location,!1,re);break}},D}(ir);function Yn(R){return[ce(255*R.r,255*R.g),ce(255*R.b,255*R.a)]}var Xn=function(D,H,re){this.value=D,this.uniformNames=H.map(function(he){return"u_"+he}),this.type=re};Xn.prototype.setUniform=function(D,H,re){D.set(re.constantOr(this.value))},Xn.prototype.getBinding=function(D,H,re){return this.type==="color"?new fn(D,H):new Zr(D,H)};var Vn=function(D,H){this.uniformNames=H.map(function(re){return"u_"+re}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Vn.prototype.setConstantPatternPositions=function(D,H){this.pixelRatioFrom=H.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=H.tlbr,this.patternTo=D.tlbr},Vn.prototype.setUniform=function(D,H,re,he){var be=he==="u_pattern_to"?this.patternTo:he==="u_pattern_from"?this.patternFrom:he==="u_pixel_ratio_to"?this.pixelRatioTo:he==="u_pixel_ratio_from"?this.pixelRatioFrom:null;be&&D.set(be)},Vn.prototype.getBinding=function(D,H,re){return re.substr(0,9)==="u_pattern"?new Kr(D,H):new Zr(D,H)};var Jn=function(D,H,re,he){this.expression=D,this.type=re,this.maxValue=0,this.paintVertexAttributes=H.map(function(be){return{name:"a_"+be,type:"Float32",components:re==="color"?2:1,offset:0}}),this.paintVertexArray=new he};Jn.prototype.populatePaintArray=function(D,H,re,he,be){var Pe=this.paintVertexArray.length,Ke=this.expression.evaluate(new Ma(0),H,{},he,[],be);this.paintVertexArray.resize(D),this._setPaintValue(Pe,D,Ke)},Jn.prototype.updatePaintArray=function(D,H,re,he){var be=this.expression.evaluate({zoom:0},re,he);this._setPaintValue(D,H,be)},Jn.prototype._setPaintValue=function(D,H,re){if(this.type==="color")for(var he=Yn(re),be=D;be<H;be++)this.paintVertexArray.emplace(be,he[0],he[1]);else{for(var Pe=D;Pe<H;Pe++)this.paintVertexArray.emplace(Pe,re);this.maxValue=Math.max(this.maxValue,Math.abs(re))}},Jn.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Jn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ia=function(D,H,re,he,be,Pe){this.expression=D,this.uniformNames=H.map(function(Ke){return"u_"+Ke+"_t"}),this.type=re,this.useIntegerZoom=he,this.zoom=be,this.maxValue=0,this.paintVertexAttributes=H.map(function(Ke){return{name:"a_"+Ke,type:"Float32",components:re==="color"?4:2,offset:0}}),this.paintVertexArray=new Pe};ia.prototype.populatePaintArray=function(D,H,re,he,be){var Pe=this.expression.evaluate(new Ma(this.zoom),H,{},he,[],be),Ke=this.expression.evaluate(new Ma(this.zoom+1),H,{},he,[],be),ut=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(ut,D,Pe,Ke)},ia.prototype.updatePaintArray=function(D,H,re,he){var be=this.expression.evaluate({zoom:this.zoom},re,he),Pe=this.expression.evaluate({zoom:this.zoom+1},re,he);this._setPaintValue(D,H,be,Pe)},ia.prototype._setPaintValue=function(D,H,re,he){if(this.type==="color")for(var be=Yn(re),Pe=Yn(he),Ke=D;Ke<H;Ke++)this.paintVertexArray.emplace(Ke,be[0],be[1],Pe[0],Pe[1]);else{for(var ut=D;ut<H;ut++)this.paintVertexArray.emplace(ut,re,he);this.maxValue=Math.max(this.maxValue,Math.abs(re),Math.abs(he))}},ia.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ia.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ia.prototype.setUniform=function(D,H){var re=this.useIntegerZoom?Math.floor(H.zoom):H.zoom,he=f(this.expression.interpolationFactor(re,this.zoom,this.zoom+1),0,1);D.set(he)},ia.prototype.getBinding=function(D,H,re){return new Zr(D,H)};var ca=function(D,H,re,he,be,Pe){this.expression=D,this.type=H,this.useIntegerZoom=re,this.zoom=he,this.layerId=Pe,this.zoomInPaintVertexArray=new be,this.zoomOutPaintVertexArray=new be};ca.prototype.populatePaintArray=function(D,H,re){var he=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(he,D,H.patterns&&H.patterns[this.layerId],re)},ca.prototype.updatePaintArray=function(D,H,re,he,be){this._setPaintValues(D,H,re.patterns&&re.patterns[this.layerId],be)},ca.prototype._setPaintValues=function(D,H,re,he){if(!(!he||!re)){var be=re.min,Pe=re.mid,Ke=re.max,ut=he[be],wt=he[Pe],Ct=he[Ke];if(!(!ut||!wt||!Ct))for(var Wt=D;Wt<H;Wt++)this.zoomInPaintVertexArray.emplace(Wt,wt.tl[0],wt.tl[1],wt.br[0],wt.br[1],ut.tl[0],ut.tl[1],ut.br[0],ut.br[1],wt.pixelRatio,ut.pixelRatio),this.zoomOutPaintVertexArray.emplace(Wt,wt.tl[0],wt.tl[1],wt.br[0],wt.br[1],Ct.tl[0],Ct.tl[1],Ct.br[0],Ct.br[1],wt.pixelRatio,Ct.pixelRatio)}},ca.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,Z.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,Z.members,this.expression.isStateDependent))},ca.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var xa=function(D,H,re){this.binders={},this._buffers=[];var he=[];for(var be in D.paint._values)if(re(be)){var Pe=D.paint.get(be);if(!(!(Pe instanceof wi)||!Rs(Pe.property.specification))){var Ke=_a(be,D.type),ut=Pe.value,wt=Pe.property.specification.type,Ct=Pe.property.useIntegerZoom,Wt=Pe.property.specification["property-type"],nr=Wt==="cross-faded"||Wt==="cross-faded-data-driven";if(ut.kind==="constant")this.binders[be]=nr?new Vn(ut.value,Ke):new Xn(ut.value,Ke,wt),he.push("/u_"+be);else if(ut.kind==="source"||nr){var qt=Ya(be,wt,"source");this.binders[be]=nr?new ca(ut,wt,Ct,H,qt,D.id):new Jn(ut,Ke,wt,qt),he.push("/a_"+be)}else{var mr=Ya(be,wt,"composite");this.binders[be]=new ia(ut,Ke,wt,Ct,H,mr),he.push("/z_"+be)}}}this.cacheKey=he.sort().join("")};xa.prototype.getMaxValue=function(D){var H=this.binders[D];return H instanceof Jn||H instanceof ia?H.maxValue:0},xa.prototype.populatePaintArrays=function(D,H,re,he,be){for(var Pe in this.binders){var Ke=this.binders[Pe];(Ke instanceof Jn||Ke instanceof ia||Ke instanceof ca)&&Ke.populatePaintArray(D,H,re,he,be)}},xa.prototype.setConstantPatternPositions=function(D,H){for(var re in this.binders){var he=this.binders[re];he instanceof Vn&&he.setConstantPatternPositions(D,H)}},xa.prototype.updatePaintArrays=function(D,H,re,he,be){var Pe=!1;for(var Ke in D)for(var ut=H.getPositions(Ke),wt=0,Ct=ut;wt<Ct.length;wt+=1){var Wt=Ct[wt],nr=re.feature(Wt.index);for(var qt in this.binders){var mr=this.binders[qt];if((mr instanceof Jn||mr instanceof ia||mr instanceof ca)&&mr.expression.isStateDependent===!0){var zr=he.paint.get(qt);mr.expression=zr.value,mr.updatePaintArray(Wt.start,Wt.end,nr,D[Ke],be),Pe=!0}}}return Pe},xa.prototype.defines=function(){var D=[];for(var H in this.binders){var re=this.binders[H];(re instanceof Xn||re instanceof Vn)&&D.push.apply(D,re.uniformNames.map(function(he){return"#define HAS_UNIFORM_"+he}))}return D},xa.prototype.getBinderAttributes=function(){var D=[];for(var H in this.binders){var re=this.binders[H];if(re instanceof Jn||re instanceof ia)for(var he=0;he<re.paintVertexAttributes.length;he++)D.push(re.paintVertexAttributes[he].name);else if(re instanceof ca)for(var be=0;be<Z.members.length;be++)D.push(Z.members[be].name)}return D},xa.prototype.getBinderUniforms=function(){var D=[];for(var H in this.binders){var re=this.binders[H];if(re instanceof Xn||re instanceof Vn||re instanceof ia)for(var he=0,be=re.uniformNames;he<be.length;he+=1){var Pe=be[he];D.push(Pe)}}return D},xa.prototype.getPaintVertexBuffers=function(){return this._buffers},xa.prototype.getUniforms=function(D,H){var re=[];for(var he in this.binders){var be=this.binders[he];if(be instanceof Xn||be instanceof Vn||be instanceof ia)for(var Pe=0,Ke=be.uniformNames;Pe<Ke.length;Pe+=1){var ut=Ke[Pe];if(H[ut]){var wt=be.getBinding(D,H[ut],ut);re.push({name:ut,property:he,binding:wt})}}}return re},xa.prototype.setUniforms=function(D,H,re,he){for(var be=0,Pe=H;be<Pe.length;be+=1){var Ke=Pe[be],ut=Ke.name,wt=Ke.property,Ct=Ke.binding;this.binders[wt].setUniform(Ct,he,re.get(wt),ut)}},xa.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var H in this.binders){var re=this.binders[H];if(D&&re instanceof ca){var he=D.fromScale===2?re.zoomInPaintVertexBuffer:re.zoomOutPaintVertexBuffer;he&&this._buffers.push(he)}else(re instanceof Jn||re instanceof ia)&&re.paintVertexBuffer&&this._buffers.push(re.paintVertexBuffer)}},xa.prototype.upload=function(D){for(var H in this.binders){var re=this.binders[H];(re instanceof Jn||re instanceof ia||re instanceof ca)&&re.upload(D)}this.updatePaintBuffers()},xa.prototype.destroy=function(){for(var D in this.binders){var H=this.binders[D];(H instanceof Jn||H instanceof ia||H instanceof ca)&&H.destroy()}};var da=function(D,H,re){re===void 0&&(re=function(){return!0}),this.programConfigurations={};for(var he=0,be=D;he<be.length;he+=1){var Pe=be[he];this.programConfigurations[Pe.id]=new xa(Pe,H,re)}this.needsUpload=!1,this._featureMap=new it,this._bufferOffset=0};da.prototype.populatePaintArrays=function(D,H,re,he,be,Pe){for(var Ke in this.programConfigurations)this.programConfigurations[Ke].populatePaintArrays(D,H,he,be,Pe);H.id!==void 0&&this._featureMap.add(H.id,re,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},da.prototype.updatePaintArrays=function(D,H,re,he){for(var be=0,Pe=re;be<Pe.length;be+=1){var Ke=Pe[be];this.needsUpload=this.programConfigurations[Ke.id].updatePaintArrays(D,this._featureMap,H,Ke,he)||this.needsUpload}},da.prototype.get=function(D){return this.programConfigurations[D]},da.prototype.upload=function(D){if(this.needsUpload){for(var H in this.programConfigurations)this.programConfigurations[H].upload(D);this.needsUpload=!1}},da.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function _a(R,D){var H={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return H[R]||[R.replace(D+"-","").replace(/-/g,"_")]}function Qa(R){var D={"line-pattern":{source:ts,composite:ts},"fill-pattern":{source:ts,composite:ts},"fill-extrusion-pattern":{source:ts,composite:ts}};return D[R]}function Ya(R,D,H){var re={color:{source:gc,composite:Pf},number:{source:yc,composite:gc}},he=Qa(R);return he&&he[H]||re[D][H]}ze("ConstantBinder",Xn),ze("CrossFadedConstantBinder",Vn),ze("SourceExpressionBinder",Jn),ze("CrossFadedCompositeBinder",ca),ze("CompositeExpressionBinder",ia),ze("ProgramConfiguration",xa,{omit:["_buffers"]}),ze("ProgramConfigurationSet",da);var Sa=8192,Za=15,Ha=Math.pow(2,Za-1)-1,ii=-Ha-1;function ei(R){for(var D=Sa/R.extent,H=R.loadGeometry(),re=0;re<H.length;re++)for(var he=H[re],be=0;be<he.length;be++){var Pe=he[be],Ke=Math.round(Pe.x*D),ut=Math.round(Pe.y*D);Pe.x=f(Ke,ii,Ha),Pe.y=f(ut,ii,Ha),(Ke<Pe.x||Ke>Pe.x+1||ut<Pe.y||ut>Pe.y+1)&&O("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return H}function Ai(R,D){return{type:R.type,id:R.id,properties:R.properties,geometry:D?ei(R):[]}}function Ja(R,D,H,re,he){R.emplaceBack(D*2+(re+1)/2,H*2+(he+1)/2)}var yi=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Lf,this.indexArray=new Au,this.segments=new oo,this.programConfigurations=new da(D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};yi.prototype.populate=function(D,H,re){var he=this.layers[0],be=[],Pe=null;he.type==="circle"&&(Pe=he.layout.get("circle-sort-key"));for(var Ke=0,ut=D;Ke<ut.length;Ke+=1){var wt=ut[Ke],Ct=wt.feature,Wt=wt.id,nr=wt.index,qt=wt.sourceLayerIndex,mr=this.layers[0]._featureFilter.needGeometry,zr=Ai(Ct,mr);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),zr,re)){var sn=Pe?Pe.evaluate(zr,{},re):void 0,qr={id:Wt,properties:Ct.properties,type:Ct.type,sourceLayerIndex:qt,index:nr,geometry:mr?zr.geometry:ei(Ct),patterns:{},sortKey:sn};be.push(qr)}}Pe&&be.sort(function(pa,ba){return pa.sortKey-ba.sortKey});for(var En=0,mn=be;En<mn.length;En+=1){var Mn=mn[En],kn=Mn,Gn=kn.geometry,oa=kn.index,na=kn.sourceLayerIndex,Ta=D[oa].feature;this.addFeature(Mn,Gn,oa,re),H.featureIndex.insert(Ta,Gn,oa,na,this.index)}},yi.prototype.update=function(D,H,re){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,re)},yi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},yi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},yi.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,gp),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},yi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},yi.prototype.addFeature=function(D,H,re,he){for(var be=0,Pe=H;be<Pe.length;be+=1)for(var Ke=Pe[be],ut=0,wt=Ke;ut<wt.length;ut+=1){var Ct=wt[ut],Wt=Ct.x,nr=Ct.y;if(!(Wt<0||Wt>=Sa||nr<0||nr>=Sa)){var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),mr=qt.vertexLength;Ja(this.layoutVertexArray,Wt,nr,-1,-1),Ja(this.layoutVertexArray,Wt,nr,1,-1),Ja(this.layoutVertexArray,Wt,nr,1,1),Ja(this.layoutVertexArray,Wt,nr,-1,1),this.indexArray.emplaceBack(mr,mr+1,mr+2),this.indexArray.emplaceBack(mr,mr+3,mr+2),qt.vertexLength+=4,qt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,re,{},he)},ze("CircleBucket",yi,{omit:["layers"]});function Va(R,D){for(var H=0;H<R.length;H++)if(rs(D,R[H]))return!0;for(var re=0;re<D.length;re++)if(rs(R,D[re]))return!0;return!!Js(R,D)}function $a(R,D,H){return!!(rs(R,D)||Yl(D,R,H))}function Ni(R,D){if(R.length===1)return Zl(D,R[0]);for(var H=0;H<D.length;H++)for(var re=D[H],he=0;he<re.length;he++)if(rs(R,re[he]))return!0;for(var be=0;be<R.length;be++)if(Zl(D,R[be]))return!0;for(var Pe=0;Pe<D.length;Pe++)if(Js(R,D[Pe]))return!0;return!1}function yo(R,D,H){for(var re=0;re<D.length;re++){var he=D[re];if(R.length>=3){for(var be=0;be<he.length;be++)if(rs(R,he[be]))return!0}if(Ks(R,he,H))return!0}return!1}function Ks(R,D,H){if(R.length>1){if(Js(R,D))return!0;for(var re=0;re<D.length;re++)if(Yl(D[re],R,H))return!0}for(var he=0;he<R.length;he++)if(Yl(R[he],D,H))return!0;return!1}function Js(R,D){if(R.length===0||D.length===0)return!1;for(var H=0;H<R.length-1;H++)for(var re=R[H],he=R[H+1],be=0;be<D.length-1;be++){var Pe=D[be],Ke=D[be+1];if(dl(re,he,Pe,Ke))return!0}return!1}function dl(R,D,H,re){return _(R,H,re)!==_(D,H,re)&&_(R,D,H)!==_(R,D,re)}function Yl(R,D,H){var re=H*H;if(D.length===1)return R.distSqr(D[0])<re;for(var he=1;he<D.length;he++){var be=D[he-1],Pe=D[he];if(Df(R,be,Pe)<re)return!0}return!1}function Df(R,D,H){var re=D.distSqr(H);if(re===0)return R.distSqr(D);var he=((R.x-D.x)*(H.x-D.x)+(R.y-D.y)*(H.y-D.y))/re;return he<0?R.distSqr(D):he>1?R.distSqr(H):R.distSqr(H.sub(D)._mult(he)._add(D))}function Zl(R,D){for(var H=!1,re,he,be,Pe=0;Pe<R.length;Pe++){re=R[Pe];for(var Ke=0,ut=re.length-1;Ke<re.length;ut=Ke++)he=re[Ke],be=re[ut],he.y>D.y!=be.y>D.y&&D.x<(be.x-he.x)*(D.y-he.y)/(be.y-he.y)+he.x&&(H=!H)}return H}function rs(R,D){for(var H=!1,re=0,he=R.length-1;re<R.length;he=re++){var be=R[re],Pe=R[he];be.y>D.y!=Pe.y>D.y&&D.x<(Pe.x-be.x)*(D.y-be.y)/(Pe.y-be.y)+be.x&&(H=!H)}return H}function jl(R,D,H,re,he){for(var be=0,Pe=R;be<Pe.length;be+=1){var Ke=Pe[be];if(D<=Ke.x&&H<=Ke.y&&re>=Ke.x&&he>=Ke.y)return!0}var ut=[new r(D,H),new r(D,he),new r(re,he),new r(re,H)];if(R.length>2)for(var wt=0,Ct=ut;wt<Ct.length;wt+=1){var Wt=Ct[wt];if(rs(R,Wt))return!0}for(var nr=0;nr<R.length-1;nr++){var qt=R[nr],mr=R[nr+1];if(ys(qt,mr,ut))return!0}return!1}function ys(R,D,H){var re=H[0],he=H[2];if(R.x<re.x&&D.x<re.x||R.x>he.x&&D.x>he.x||R.y<re.y&&D.y<re.y||R.y>he.y&&D.y>he.y)return!1;var be=_(R,D,H[0]);return be!==_(R,D,H[1])||be!==_(R,D,H[2])||be!==_(R,D,H[3])}function ns(R,D,H){var re=D.paint.get(R).value;return re.kind==="constant"?re.value:H.programConfigurations.get(D.id).getMaxValue(R)}function pl(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function Mu(R,D,H,re,he){if(!D[0]&&!D[1])return R;var be=r.convert(D)._mult(he);H==="viewport"&&be._rotate(-re);for(var Pe=[],Ke=0;Ke<R.length;Ke++){var ut=R[Ke];Pe.push(ut.sub(be))}return Pe}var yl=new fi({"circle-sort-key":new La(br.layout_circle["circle-sort-key"])}),Zh=new fi({"circle-radius":new La(br.paint_circle["circle-radius"]),"circle-color":new La(br.paint_circle["circle-color"]),"circle-blur":new La(br.paint_circle["circle-blur"]),"circle-opacity":new La(br.paint_circle["circle-opacity"]),"circle-translate":new fa(br.paint_circle["circle-translate"]),"circle-translate-anchor":new fa(br.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new fa(br.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new fa(br.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new La(br.paint_circle["circle-stroke-width"]),"circle-stroke-color":new La(br.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new La(br.paint_circle["circle-stroke-opacity"])}),bc={paint:Zh,layout:yl},To=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var R=arguments,D=0,H=arguments.length;H--;)D+=R[H]*R[H];return Math.sqrt(D)});function jh(){var R=new To(4);return To!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function wh(R,D,H){var re=D[0],he=D[1],be=D[2],Pe=D[3],Ke=Math.sin(H),ut=Math.cos(H);return R[0]=re*ut+be*Ke,R[1]=he*ut+Pe*Ke,R[2]=re*-Ke+be*ut,R[3]=he*-Ke+Pe*ut,R}function Vo(){var R=new To(9);return To!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}function wc(R,D){var H=Math.sin(D),re=Math.cos(D);return R[0]=re,R[1]=H,R[2]=0,R[3]=-H,R[4]=re,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R}function Xh(){var R=new To(16);return To!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R}function Kh(R){var D=new To(16);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[4]=R[4],D[5]=R[5],D[6]=R[6],D[7]=R[7],D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function Jh(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function Tc(R,D){var H=D[0],re=D[1],he=D[2],be=D[3],Pe=D[4],Ke=D[5],ut=D[6],wt=D[7],Ct=D[8],Wt=D[9],nr=D[10],qt=D[11],mr=D[12],zr=D[13],sn=D[14],qr=D[15],En=H*Ke-re*Pe,mn=H*ut-he*Pe,Mn=H*wt-be*Pe,kn=re*ut-he*Ke,Gn=re*wt-be*Ke,oa=he*wt-be*ut,na=Ct*zr-Wt*mr,Ta=Ct*sn-nr*mr,pa=Ct*qr-qt*mr,ba=Wt*sn-nr*zr,Na=Wt*qr-qt*zr,Aa=nr*qr-qt*sn,Ca=En*Aa-mn*Na+Mn*ba+kn*pa-Gn*Ta+oa*na;return Ca?(Ca=1/Ca,R[0]=(Ke*Aa-ut*Na+wt*ba)*Ca,R[1]=(he*Na-re*Aa-be*ba)*Ca,R[2]=(zr*oa-sn*Gn+qr*kn)*Ca,R[3]=(nr*Gn-Wt*oa-qt*kn)*Ca,R[4]=(ut*pa-Pe*Aa-wt*Ta)*Ca,R[5]=(H*Aa-he*pa+be*Ta)*Ca,R[6]=(sn*Mn-mr*oa-qr*mn)*Ca,R[7]=(Ct*oa-nr*Mn+qt*mn)*Ca,R[8]=(Pe*Na-Ke*pa+wt*na)*Ca,R[9]=(re*pa-H*Na-be*na)*Ca,R[10]=(mr*Gn-zr*Mn+qr*En)*Ca,R[11]=(Wt*Mn-Ct*Gn-qt*En)*Ca,R[12]=(Ke*Ta-Pe*ba-ut*na)*Ca,R[13]=(H*ba-re*Ta+he*na)*Ca,R[14]=(zr*mn-mr*kn-sn*En)*Ca,R[15]=(Ct*kn-Wt*mn+nr*En)*Ca,R):null}function Ac(R,D,H){var re=D[0],he=D[1],be=D[2],Pe=D[3],Ke=D[4],ut=D[5],wt=D[6],Ct=D[7],Wt=D[8],nr=D[9],qt=D[10],mr=D[11],zr=D[12],sn=D[13],qr=D[14],En=D[15],mn=H[0],Mn=H[1],kn=H[2],Gn=H[3];return R[0]=mn*re+Mn*Ke+kn*Wt+Gn*zr,R[1]=mn*he+Mn*ut+kn*nr+Gn*sn,R[2]=mn*be+Mn*wt+kn*qt+Gn*qr,R[3]=mn*Pe+Mn*Ct+kn*mr+Gn*En,mn=H[4],Mn=H[5],kn=H[6],Gn=H[7],R[4]=mn*re+Mn*Ke+kn*Wt+Gn*zr,R[5]=mn*he+Mn*ut+kn*nr+Gn*sn,R[6]=mn*be+Mn*wt+kn*qt+Gn*qr,R[7]=mn*Pe+Mn*Ct+kn*mr+Gn*En,mn=H[8],Mn=H[9],kn=H[10],Gn=H[11],R[8]=mn*re+Mn*Ke+kn*Wt+Gn*zr,R[9]=mn*he+Mn*ut+kn*nr+Gn*sn,R[10]=mn*be+Mn*wt+kn*qt+Gn*qr,R[11]=mn*Pe+Mn*Ct+kn*mr+Gn*En,mn=H[12],Mn=H[13],kn=H[14],Gn=H[15],R[12]=mn*re+Mn*Ke+kn*Wt+Gn*zr,R[13]=mn*he+Mn*ut+kn*nr+Gn*sn,R[14]=mn*be+Mn*wt+kn*qt+Gn*qr,R[15]=mn*Pe+Mn*Ct+kn*mr+Gn*En,R}function Yi(R,D,H){var re=H[0],he=H[1],be=H[2],Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr,zr,sn,qr;return D===R?(R[12]=D[0]*re+D[4]*he+D[8]*be+D[12],R[13]=D[1]*re+D[5]*he+D[9]*be+D[13],R[14]=D[2]*re+D[6]*he+D[10]*be+D[14],R[15]=D[3]*re+D[7]*he+D[11]*be+D[15]):(Pe=D[0],Ke=D[1],ut=D[2],wt=D[3],Ct=D[4],Wt=D[5],nr=D[6],qt=D[7],mr=D[8],zr=D[9],sn=D[10],qr=D[11],R[0]=Pe,R[1]=Ke,R[2]=ut,R[3]=wt,R[4]=Ct,R[5]=Wt,R[6]=nr,R[7]=qt,R[8]=mr,R[9]=zr,R[10]=sn,R[11]=qr,R[12]=Pe*re+Ct*he+mr*be+D[12],R[13]=Ke*re+Wt*he+zr*be+D[13],R[14]=ut*re+nr*he+sn*be+D[14],R[15]=wt*re+qt*he+qr*be+D[15]),R}function ms(R,D,H){var re=H[0],he=H[1],be=H[2];return R[0]=D[0]*re,R[1]=D[1]*re,R[2]=D[2]*re,R[3]=D[3]*re,R[4]=D[4]*he,R[5]=D[5]*he,R[6]=D[6]*he,R[7]=D[7]*he,R[8]=D[8]*be,R[9]=D[9]*be,R[10]=D[10]*be,R[11]=D[11]*be,R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function xs(R,D,H){var re=Math.sin(H),he=Math.cos(H),be=D[4],Pe=D[5],Ke=D[6],ut=D[7],wt=D[8],Ct=D[9],Wt=D[10],nr=D[11];return D!==R&&(R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[4]=be*he+wt*re,R[5]=Pe*he+Ct*re,R[6]=Ke*he+Wt*re,R[7]=ut*he+nr*re,R[8]=wt*he-be*re,R[9]=Ct*he-Pe*re,R[10]=Wt*he-Ke*re,R[11]=nr*he-ut*re,R}function Qh(R,D,H){var re=Math.sin(H),he=Math.cos(H),be=D[0],Pe=D[1],Ke=D[2],ut=D[3],wt=D[4],Ct=D[5],Wt=D[6],nr=D[7];return D!==R&&(R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15]),R[0]=be*he+wt*re,R[1]=Pe*he+Ct*re,R[2]=Ke*he+Wt*re,R[3]=ut*he+nr*re,R[4]=wt*he-be*re,R[5]=Ct*he-Pe*re,R[6]=Wt*he-Ke*re,R[7]=nr*he-ut*re,R}function ed(R,D,H,re,he){var be=1/Math.tan(D/2),Pe;return R[0]=be/H,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=be,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,he!=null&&he!==1/0?(Pe=1/(re-he),R[10]=(he+re)*Pe,R[14]=2*he*re*Pe):(R[10]=-1,R[14]=-2*re),R}function cg(R,D,H,re,he,be,Pe){var Ke=1/(D-H),ut=1/(re-he),wt=1/(be-Pe);return R[0]=-2*Ke,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*ut,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*wt,R[11]=0,R[12]=(D+H)*Ke,R[13]=(he+re)*ut,R[14]=(Pe+be)*wt,R[15]=1,R}var hg=Ac;function Th(){var R=new To(3);return To!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function vg(R){var D=new To(3);return D[0]=R[0],D[1]=R[1],D[2]=R[2],D}function $h(R,D,H){return R[0]=D[0]+H[0],R[1]=D[1]+H[1],R[2]=D[2]+H[2],R}function dg(R,D,H){return R[0]=D[0]-H[0],R[1]=D[1]-H[1],R[2]=D[2]-H[2],R}function pg(R,D,H){return R[0]=D[0]*H,R[1]=D[1]*H,R[2]=D[2]*H,R}function td(R,D){var H=D[0],re=D[1],he=D[2],be=H*H+re*re+he*he;return be>0&&(be=1/Math.sqrt(be)),R[0]=D[0]*be,R[1]=D[1]*be,R[2]=D[2]*be,R}function gw(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]}function yw(R,D,H){var re=D[0],he=D[1],be=D[2],Pe=H[0],Ke=H[1],ut=H[2];return R[0]=he*ut-be*Ke,R[1]=be*Pe-re*ut,R[2]=re*Ke-he*Pe,R}function mw(R,D,H){var re=D[0],he=D[1],be=D[2];return R[0]=re*H[0]+he*H[3]+be*H[6],R[1]=re*H[1]+he*H[4]+be*H[7],R[2]=re*H[2]+he*H[5]+be*H[8],R}var xw=dg;(function(){var R=Th();return function(D,H,re,he,be,Pe){var Ke,ut;for(H||(H=3),re||(re=0),he?ut=Math.min(he*H+re,D.length):ut=D.length,Ke=re;Ke<ut;Ke+=H)R[0]=D[Ke],R[1]=D[Ke+1],R[2]=D[Ke+2],be(R,R,Pe),D[Ke]=R[0],D[Ke+1]=R[1],D[Ke+2]=R[2];return D}})();function bw(){var R=new To(4);return To!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}function ww(R,D,H){return R[0]=D[0]*H,R[1]=D[1]*H,R[2]=D[2]*H,R[3]=D[3]*H,R}function Tw(R,D){return R[0]*D[0]+R[1]*D[1]+R[2]*D[2]+R[3]*D[3]}function yp(R,D,H){var re=D[0],he=D[1],be=D[2],Pe=D[3];return R[0]=H[0]*re+H[4]*he+H[8]*be+H[12]*Pe,R[1]=H[1]*re+H[5]*he+H[9]*be+H[13]*Pe,R[2]=H[2]*re+H[6]*he+H[10]*be+H[14]*Pe,R[3]=H[3]*re+H[7]*he+H[11]*be+H[15]*Pe,R}(function(){var R=bw();return function(D,H,re,he,be,Pe){var Ke,ut;for(H||(H=4),re||(re=0),he?ut=Math.min(he*H+re,D.length):ut=D.length,Ke=re;Ke<ut;Ke+=H)R[0]=D[Ke],R[1]=D[Ke+1],R[2]=D[Ke+2],R[3]=D[Ke+3],be(R,R,Pe),D[Ke]=R[0],D[Ke+1]=R[1],D[Ke+2]=R[2],D[Ke+3]=R[3];return D}})();function Aw(){var R=new To(2);return To!=Float32Array&&(R[0]=0,R[1]=0),R}function Mw(R){var D=R[0],H=R[1];return D*D+H*H}var Sw=Mw;(function(){var R=Aw();return function(D,H,re,he,be,Pe){var Ke,ut;for(H||(H=2),re||(re=0),he?ut=Math.min(he*H+re,D.length):ut=D.length,Ke=re;Ke<ut;Ke+=H)R[0]=D[Ke],R[1]=D[Ke+1],be(R,R,Pe),D[Ke]=R[0],D[Ke+1]=R[1];return D}})();var Ew=function(R){function D(H){R.call(this,H,bc)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(re){return new yi(re)},D.prototype.queryRadius=function(re){var he=re;return ns("circle-radius",this,he)+ns("circle-stroke-width",this,he)+pl(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(re,he,be,Pe,Ke,ut,wt,Ct){for(var Wt=Mu(re,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ut.angle,wt),nr=this.paint.get("circle-radius").evaluate(he,be),qt=this.paint.get("circle-stroke-width").evaluate(he,be),mr=nr+qt,zr=this.paint.get("circle-pitch-alignment")==="map",sn=zr?Wt:Cw(Wt,Ct),qr=zr?mr*wt:mr,En=0,mn=Pe;En<mn.length;En+=1)for(var Mn=mn[En],kn=0,Gn=Mn;kn<Gn.length;kn+=1){var oa=Gn[kn],na=zr?oa:hm(oa,Ct),Ta=qr,pa=yp([],[oa.x,oa.y,0,1],Ct);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ta*=pa[3]/ut.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ta*=ut.cameraToCenterDistance/pa[3]),$a(sn,na,Ta))return!0}return!1},D}(Bi);function hm(R,D){var H=yp([],[R.x,R.y,0,1],D);return new r(H[0]/H[3],H[1]/H[3])}function Cw(R,D){return R.map(function(H){return hm(H,D)})}var vm=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(yi);ze("HeatmapBucket",vm,{omit:["layers"]});function gg(R,D,H,re){var he=D.width,be=D.height;if(!re)re=new Uint8Array(he*be*H);else if(re instanceof Uint8ClampedArray)re=new Uint8Array(re.buffer);else if(re.length!==he*be*H)throw new RangeError("mismatched image size");return R.width=he,R.height=be,R.data=re,R}function dm(R,D,H){var re=D.width,he=D.height;if(!(re===R.width&&he===R.height)){var be=gg({},{width:re,height:he},H);yg(R,be,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,re),height:Math.min(R.height,he)},H),R.width=re,R.height=he,R.data=be.data}}function yg(R,D,H,re,he,be){if(he.width===0||he.height===0)return D;if(he.width>R.width||he.height>R.height||H.x>R.width-he.width||H.y>R.height-he.height)throw new RangeError("out of range source coordinates for image copy");if(he.width>D.width||he.height>D.height||re.x>D.width-he.width||re.y>D.height-he.height)throw new RangeError("out of range destination coordinates for image copy");for(var Pe=R.data,Ke=D.data,ut=0;ut<he.height;ut++)for(var wt=((H.y+ut)*R.width+H.x)*be,Ct=((re.y+ut)*D.width+re.x)*be,Wt=0;Wt<he.width*be;Wt++)Ke[Ct+Wt]=Pe[wt+Wt];return D}var Ah=function(D,H){gg(this,D,1,H)};Ah.prototype.resize=function(D){dm(this,D,1)},Ah.prototype.clone=function(){return new Ah({width:this.width,height:this.height},new Uint8Array(this.data))},Ah.copy=function(D,H,re,he,be){yg(D,H,re,he,be,1)};var bs=function(D,H){gg(this,D,4,H)};bs.prototype.resize=function(D){dm(this,D,4)},bs.prototype.replace=function(D,H){H?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},bs.prototype.clone=function(){return new bs({width:this.width,height:this.height},new Uint8Array(this.data))},bs.copy=function(D,H,re,he,be){yg(D,H,re,he,be,4)},ze("AlphaImage",Ah),ze("RGBAImage",bs);var Lw=new fi({"heatmap-radius":new La(br.paint_heatmap["heatmap-radius"]),"heatmap-weight":new La(br.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new fa(br.paint_heatmap["heatmap-intensity"]),"heatmap-color":new io(br.paint_heatmap["heatmap-color"]),"heatmap-opacity":new fa(br.paint_heatmap["heatmap-opacity"])}),Pw={paint:Lw};function pm(R){var D={},H=R.resolution||256,re=R.clips?R.clips.length:1,he=R.image||new bs({width:H,height:re}),be=function(En,mn,Mn){D[R.evaluationKey]=Mn;var kn=R.expression.evaluate(D);he.data[En+mn+0]=Math.floor(kn.r*255/kn.a),he.data[En+mn+1]=Math.floor(kn.g*255/kn.a),he.data[En+mn+2]=Math.floor(kn.b*255/kn.a),he.data[En+mn+3]=Math.floor(kn.a*255)};if(R.clips)for(var wt=0,Ct=0;wt<re;++wt,Ct+=H*4)for(var Wt=0,nr=0;Wt<H;Wt++,nr+=4){var qt=Wt/(H-1),mr=R.clips[wt],zr=mr.start,sn=mr.end,qr=zr*(1-qt)+sn*qt;be(Ct,nr,qr)}else for(var Pe=0,Ke=0;Pe<H;Pe++,Ke+=4){var ut=Pe/(H-1);be(0,Ke,ut)}return he}var Rw=function(R){function D(H){R.call(this,H,Pw),this._updateColorRamp()}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(re){return new vm(re)},D.prototype._handleSpecialPaintPropertyUpdate=function(re){re==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var re=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=pm({expression:re,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Bi),Dw=new fi({"hillshade-illumination-direction":new fa(br.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new fa(br.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new fa(br.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new fa(br.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new fa(br.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new fa(br.paint_hillshade["hillshade-accent-color"])}),Iw={paint:Dw},kw=function(R){function D(H){R.call(this,H,Iw)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Bi),Fw=Li([{name:"a_pos",components:2,type:"Int16"}],4),_w=Fw.members,mg=mp,zw=mp;function mp(R,D,H){H=H||2;var re=D&&D.length,he=re?D[0]*H:R.length,be=gm(R,0,he,H,!0),Pe=[];if(!be||be.next===be.prev)return Pe;var Ke,ut,wt,Ct,Wt,nr,qt;if(re&&(be=Hw(R,D,be,H)),R.length>80*H){Ke=wt=R[0],ut=Ct=R[1];for(var mr=H;mr<he;mr+=H)Wt=R[mr],nr=R[mr+1],Wt<Ke&&(Ke=Wt),nr<ut&&(ut=nr),Wt>wt&&(wt=Wt),nr>Ct&&(Ct=nr);qt=Math.max(wt-Ke,Ct-ut),qt=qt!==0?1/qt:0}return rd(be,Pe,H,Ke,ut,qt),Pe}function gm(R,D,H,re,he){var be,Pe;if(he===wg(R,D,H,re)>0)for(be=D;be<H;be+=re)Pe=xm(be,R[be],R[be+1],Pe);else for(be=H-re;be>=D;be-=re)Pe=xm(be,R[be],R[be+1],Pe);return Pe&&xp(Pe,Pe.next)&&(ad(Pe),Pe=Pe.next),Pe}function Mc(R,D){if(!R)return R;D||(D=R);var H=R,re;do if(re=!1,!H.steiner&&(xp(H,H.next)||so(H.prev,H,H.next)===0)){if(ad(H),H=D=H.prev,H===H.next)break;re=!0}else H=H.next;while(re||H!==D);return D}function rd(R,D,H,re,he,be,Pe){if(R){!Pe&&be&&Zw(R,re,he,be);for(var Ke=R,ut,wt;R.prev!==R.next;){if(ut=R.prev,wt=R.next,be?Bw(R,re,he,be):Ow(R)){D.push(ut.i/H),D.push(R.i/H),D.push(wt.i/H),ad(R),R=wt.next,Ke=wt.next;continue}if(R=wt,R===Ke){Pe?Pe===1?(R=Nw(Mc(R),D,H),rd(R,D,H,re,he,be,2)):Pe===2&&Uw(R,D,H,re,he,be):rd(Mc(R),D,H,re,he,be,1);break}}}}function Ow(R){var D=R.prev,H=R,re=R.next;if(so(D,H,re)>=0)return!1;for(var he=R.next.next;he!==R.prev;){if(qh(D.x,D.y,H.x,H.y,re.x,re.y,he.x,he.y)&&so(he.prev,he,he.next)>=0)return!1;he=he.next}return!0}function Bw(R,D,H,re){var he=R.prev,be=R,Pe=R.next;if(so(he,be,Pe)>=0)return!1;for(var Ke=he.x<be.x?he.x<Pe.x?he.x:Pe.x:be.x<Pe.x?be.x:Pe.x,ut=he.y<be.y?he.y<Pe.y?he.y:Pe.y:be.y<Pe.y?be.y:Pe.y,wt=he.x>be.x?he.x>Pe.x?he.x:Pe.x:be.x>Pe.x?be.x:Pe.x,Ct=he.y>be.y?he.y>Pe.y?he.y:Pe.y:be.y>Pe.y?be.y:Pe.y,Wt=xg(Ke,ut,D,H,re),nr=xg(wt,Ct,D,H,re),qt=R.prevZ,mr=R.nextZ;qt&&qt.z>=Wt&&mr&&mr.z<=nr;){if(qt!==R.prev&&qt!==R.next&&qh(he.x,he.y,be.x,be.y,Pe.x,Pe.y,qt.x,qt.y)&&so(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,mr!==R.prev&&mr!==R.next&&qh(he.x,he.y,be.x,be.y,Pe.x,Pe.y,mr.x,mr.y)&&so(mr.prev,mr,mr.next)>=0))return!1;mr=mr.nextZ}for(;qt&&qt.z>=Wt;){if(qt!==R.prev&&qt!==R.next&&qh(he.x,he.y,be.x,be.y,Pe.x,Pe.y,qt.x,qt.y)&&so(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;mr&&mr.z<=nr;){if(mr!==R.prev&&mr!==R.next&&qh(he.x,he.y,be.x,be.y,Pe.x,Pe.y,mr.x,mr.y)&&so(mr.prev,mr,mr.next)>=0)return!1;mr=mr.nextZ}return!0}function Nw(R,D,H){var re=R;do{var he=re.prev,be=re.next.next;!xp(he,be)&&ym(he,re,re.next,be)&&nd(he,be)&&nd(be,he)&&(D.push(he.i/H),D.push(re.i/H),D.push(be.i/H),ad(re),ad(re.next),re=R=be),re=re.next}while(re!==R);return Mc(re)}function Uw(R,D,H,re,he,be){var Pe=R;do{for(var Ke=Pe.next.next;Ke!==Pe.prev;){if(Pe.i!==Ke.i&&Kw(Pe,Ke)){var ut=mm(Pe,Ke);Pe=Mc(Pe,Pe.next),ut=Mc(ut,ut.next),rd(Pe,D,H,re,he,be),rd(ut,D,H,re,he,be);return}Ke=Ke.next}Pe=Pe.next}while(Pe!==R)}function Hw(R,D,H,re){var he=[],be,Pe,Ke,ut,wt;for(be=0,Pe=D.length;be<Pe;be++)Ke=D[be]*re,ut=be<Pe-1?D[be+1]*re:R.length,wt=gm(R,Ke,ut,re,!1),wt===wt.next&&(wt.steiner=!0),he.push(Xw(wt));for(he.sort(Vw),be=0;be<he.length;be++)Gw(he[be],H),H=Mc(H,H.next);return H}function Vw(R,D){return R.x-D.x}function Gw(R,D){if(D=Ww(R,D),D){var H=mm(D,R);Mc(D,D.next),Mc(H,H.next)}}function Ww(R,D){var H=D,re=R.x,he=R.y,be=-1/0,Pe;do{if(he<=H.y&&he>=H.next.y&&H.next.y!==H.y){var Ke=H.x+(he-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(Ke<=re&&Ke>be){if(be=Ke,Ke===re){if(he===H.y)return H;if(he===H.next.y)return H.next}Pe=H.x<H.next.x?H:H.next}}H=H.next}while(H!==D);if(!Pe)return null;if(re===be)return Pe;var ut=Pe,wt=Pe.x,Ct=Pe.y,Wt=1/0,nr;H=Pe;do re>=H.x&&H.x>=wt&&re!==H.x&&qh(he<Ct?re:be,he,wt,Ct,he<Ct?be:re,he,H.x,H.y)&&(nr=Math.abs(he-H.y)/(re-H.x),nd(H,R)&&(nr<Wt||nr===Wt&&(H.x>Pe.x||H.x===Pe.x&&Yw(Pe,H)))&&(Pe=H,Wt=nr)),H=H.next;while(H!==ut);return Pe}function Yw(R,D){return so(R.prev,R,D.prev)<0&&so(D.next,R,R.next)<0}function Zw(R,D,H,re){var he=R;do he.z===null&&(he.z=xg(he.x,he.y,D,H,re)),he.prevZ=he.prev,he.nextZ=he.next,he=he.next;while(he!==R);he.prevZ.nextZ=null,he.prevZ=null,jw(he)}function jw(R){var D,H,re,he,be,Pe,Ke,ut,wt=1;do{for(H=R,R=null,be=null,Pe=0;H;){for(Pe++,re=H,Ke=0,D=0;D<wt&&(Ke++,re=re.nextZ,!!re);D++);for(ut=wt;Ke>0||ut>0&&re;)Ke!==0&&(ut===0||!re||H.z<=re.z)?(he=H,H=H.nextZ,Ke--):(he=re,re=re.nextZ,ut--),be?be.nextZ=he:R=he,he.prevZ=be,be=he;H=re}be.nextZ=null,wt*=2}while(Pe>1);return R}function xg(R,D,H,re,he){return R=32767*(R-H)*he,D=32767*(D-re)*he,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R|D<<1}function Xw(R){var D=R,H=R;do(D.x<H.x||D.x===H.x&&D.y<H.y)&&(H=D),D=D.next;while(D!==R);return H}function qh(R,D,H,re,he,be,Pe,Ke){return(he-Pe)*(D-Ke)-(R-Pe)*(be-Ke)>=0&&(R-Pe)*(re-Ke)-(H-Pe)*(D-Ke)>=0&&(H-Pe)*(be-Ke)-(he-Pe)*(re-Ke)>=0}function Kw(R,D){return R.next.i!==D.i&&R.prev.i!==D.i&&!Jw(R,D)&&(nd(R,D)&&nd(D,R)&&Qw(R,D)&&(so(R.prev,R,D.prev)||so(R,D.prev,D))||xp(R,D)&&so(R.prev,R,R.next)>0&&so(D.prev,D,D.next)>0)}function so(R,D,H){return(D.y-R.y)*(H.x-D.x)-(D.x-R.x)*(H.y-D.y)}function xp(R,D){return R.x===D.x&&R.y===D.y}function ym(R,D,H,re){var he=wp(so(R,D,H)),be=wp(so(R,D,re)),Pe=wp(so(H,re,R)),Ke=wp(so(H,re,D));return!!(he!==be&&Pe!==Ke||he===0&&bp(R,H,D)||be===0&&bp(R,re,D)||Pe===0&&bp(H,R,re)||Ke===0&&bp(H,D,re))}function bp(R,D,H){return D.x<=Math.max(R.x,H.x)&&D.x>=Math.min(R.x,H.x)&&D.y<=Math.max(R.y,H.y)&&D.y>=Math.min(R.y,H.y)}function wp(R){return R>0?1:R<0?-1:0}function Jw(R,D){var H=R;do{if(H.i!==R.i&&H.next.i!==R.i&&H.i!==D.i&&H.next.i!==D.i&&ym(H,H.next,R,D))return!0;H=H.next}while(H!==R);return!1}function nd(R,D){return so(R.prev,R,R.next)<0?so(R,D,R.next)>=0&&so(R,R.prev,D)>=0:so(R,D,R.prev)<0||so(R,R.next,D)<0}function Qw(R,D){var H=R,re=!1,he=(R.x+D.x)/2,be=(R.y+D.y)/2;do H.y>be!=H.next.y>be&&H.next.y!==H.y&&he<(H.next.x-H.x)*(be-H.y)/(H.next.y-H.y)+H.x&&(re=!re),H=H.next;while(H!==R);return re}function mm(R,D){var H=new bg(R.i,R.x,R.y),re=new bg(D.i,D.x,D.y),he=R.next,be=D.prev;return R.next=D,D.prev=R,H.next=he,he.prev=H,re.next=H,H.prev=re,be.next=re,re.prev=be,re}function xm(R,D,H,re){var he=new bg(R,D,H);return re?(he.next=re.next,he.prev=re,re.next.prev=he,re.next=he):(he.prev=he,he.next=he),he}function ad(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function bg(R,D,H){this.i=R,this.x=D,this.y=H,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}mp.deviation=function(R,D,H,re){var he=D&&D.length,be=he?D[0]*H:R.length,Pe=Math.abs(wg(R,0,be,H));if(he)for(var Ke=0,ut=D.length;Ke<ut;Ke++){var wt=D[Ke]*H,Ct=Ke<ut-1?D[Ke+1]*H:R.length;Pe-=Math.abs(wg(R,wt,Ct,H))}var Wt=0;for(Ke=0;Ke<re.length;Ke+=3){var nr=re[Ke]*H,qt=re[Ke+1]*H,mr=re[Ke+2]*H;Wt+=Math.abs((R[nr]-R[mr])*(R[qt+1]-R[nr+1])-(R[nr]-R[qt])*(R[mr+1]-R[nr+1]))}return Pe===0&&Wt===0?0:Math.abs((Wt-Pe)/Pe)};function wg(R,D,H,re){for(var he=0,be=D,Pe=H-re;be<H;be+=re)he+=(R[Pe]-R[be])*(R[be+1]+R[Pe+1]),Pe=be;return he}mp.flatten=function(R){for(var D=R[0][0].length,H={vertices:[],holes:[],dimensions:D},re=0,he=0;he<R.length;he++){for(var be=0;be<R[he].length;be++)for(var Pe=0;Pe<D;Pe++)H.vertices.push(R[he][be][Pe]);he>0&&(re+=R[he-1].length,H.holes.push(re))}return H},mg.default=zw;function $w(R,D,H,re,he){bm(R,D,H||0,re||R.length-1,he||qw)}function bm(R,D,H,re,he){for(;re>H;){if(re-H>600){var be=re-H+1,Pe=D-H+1,Ke=Math.log(be),ut=.5*Math.exp(2*Ke/3),wt=.5*Math.sqrt(Ke*ut*(be-ut)/be)*(Pe-be/2<0?-1:1),Ct=Math.max(H,Math.floor(D-Pe*ut/be+wt)),Wt=Math.min(re,Math.floor(D+(be-Pe)*ut/be+wt));bm(R,D,Ct,Wt,he)}var nr=R[D],qt=H,mr=re;for(id(R,H,D),he(R[re],nr)>0&&id(R,H,re);qt<mr;){for(id(R,qt,mr),qt++,mr--;he(R[qt],nr)<0;)qt++;for(;he(R[mr],nr)>0;)mr--}he(R[H],nr)===0?id(R,H,mr):(mr++,id(R,mr,re)),mr<=D&&(H=mr+1),D<=mr&&(re=mr-1)}}function id(R,D,H){var re=R[D];R[D]=R[H],R[H]=re}function qw(R,D){return R<D?-1:R>D?1:0}function Tg(R,D){var H=R.length;if(H<=1)return[R];for(var re=[],he,be,Pe=0;Pe<H;Pe++){var Ke=B(R[Pe]);Ke!==0&&(R[Pe].area=Math.abs(Ke),be===void 0&&(be=Ke<0),be===Ke<0?(he&&re.push(he),he=[R[Pe]]):he.push(R[Pe]))}if(he&&re.push(he),D>1)for(var ut=0;ut<re.length;ut++)re[ut].length<=D||($w(re[ut],D,1,re[ut].length-1,eT),re[ut]=re[ut].slice(0,D));return re}function eT(R,D){return D.area-R.area}function Ag(R,D,H){for(var re=H.patternDependencies,he=!1,be=0,Pe=D;be<Pe.length;be+=1){var Ke=Pe[be],ut=Ke.paint.get(R+"-pattern");ut.isConstant()||(he=!0);var wt=ut.constantOr(null);wt&&(he=!0,re[wt.to]=!0,re[wt.from]=!0)}return he}function Mg(R,D,H,re,he){for(var be=he.patternDependencies,Pe=0,Ke=D;Pe<Ke.length;Pe+=1){var ut=Ke[Pe],wt=ut.paint.get(R+"-pattern"),Ct=wt.value;if(Ct.kind!=="constant"){var Wt=Ct.evaluate({zoom:re-1},H,{},he.availableImages),nr=Ct.evaluate({zoom:re},H,{},he.availableImages),qt=Ct.evaluate({zoom:re+1},H,{},he.availableImages);Wt=Wt&&Wt.name?Wt.name:Wt,nr=nr&&nr.name?nr.name:nr,qt=qt&&qt.name?qt.name:qt,be[Wt]=!0,be[nr]=!0,be[qt]=!0,H.patterns[ut.id]={min:Wt,mid:nr,max:qt}}}return H}var tT=500,Su=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Lf,this.indexArray=new Au,this.indexArray2=new bh,this.programConfigurations=new da(D.layers,D.zoom),this.segments=new oo,this.segments2=new oo,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};Su.prototype.populate=function(D,H,re){this.hasPattern=Ag("fill",this.layers,H);for(var he=this.layers[0].layout.get("fill-sort-key"),be=[],Pe=0,Ke=D;Pe<Ke.length;Pe+=1){var ut=Ke[Pe],wt=ut.feature,Ct=ut.id,Wt=ut.index,nr=ut.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,mr=Ai(wt,qt);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),mr,re)){var zr=he?he.evaluate(mr,{},re,H.availableImages):void 0,sn={id:Ct,properties:wt.properties,type:wt.type,sourceLayerIndex:nr,index:Wt,geometry:qt?mr.geometry:ei(wt),patterns:{},sortKey:zr};be.push(sn)}}he&&be.sort(function(pa,ba){return pa.sortKey-ba.sortKey});for(var qr=0,En=be;qr<En.length;qr+=1){var mn=En[qr],Mn=mn,kn=Mn.geometry,Gn=Mn.index,oa=Mn.sourceLayerIndex;if(this.hasPattern){var na=Mg("fill",this.layers,mn,this.zoom,H);this.patternFeatures.push(na)}else this.addFeature(mn,kn,Gn,re,{});var Ta=D[Gn].feature;H.featureIndex.insert(Ta,kn,Gn,oa,this.index)}},Su.prototype.update=function(D,H,re){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,re)},Su.prototype.addFeatures=function(D,H,re){for(var he=0,be=this.patternFeatures;he<be.length;he+=1){var Pe=be[he];this.addFeature(Pe,Pe.geometry,Pe.index,H,re)}},Su.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Su.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Su.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,_w),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Su.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Su.prototype.addFeature=function(D,H,re,he,be){for(var Pe=0,Ke=Tg(H,tT);Pe<Ke.length;Pe+=1){for(var ut=Ke[Pe],wt=0,Ct=0,Wt=ut;Ct<Wt.length;Ct+=1){var nr=Wt[Ct];wt+=nr.length}for(var qt=this.segments.prepareSegment(wt,this.layoutVertexArray,this.indexArray),mr=qt.vertexLength,zr=[],sn=[],qr=0,En=ut;qr<En.length;qr+=1){var mn=En[qr];if(mn.length!==0){mn!==ut[0]&&sn.push(zr.length/2);var Mn=this.segments2.prepareSegment(mn.length,this.layoutVertexArray,this.indexArray2),kn=Mn.vertexLength;this.layoutVertexArray.emplaceBack(mn[0].x,mn[0].y),this.indexArray2.emplaceBack(kn+mn.length-1,kn),zr.push(mn[0].x),zr.push(mn[0].y);for(var Gn=1;Gn<mn.length;Gn++)this.layoutVertexArray.emplaceBack(mn[Gn].x,mn[Gn].y),this.indexArray2.emplaceBack(kn+Gn-1,kn+Gn),zr.push(mn[Gn].x),zr.push(mn[Gn].y);Mn.vertexLength+=mn.length,Mn.primitiveLength+=mn.length}}for(var oa=mg(zr,sn),na=0;na<oa.length;na+=3)this.indexArray.emplaceBack(mr+oa[na],mr+oa[na+1],mr+oa[na+2]);qt.vertexLength+=wt,qt.primitiveLength+=oa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,re,be,he)},ze("FillBucket",Su,{omit:["layers","patternFeatures"]});var rT=new fi({"fill-sort-key":new La(br.layout_fill["fill-sort-key"])}),nT=new fi({"fill-antialias":new fa(br.paint_fill["fill-antialias"]),"fill-opacity":new La(br.paint_fill["fill-opacity"]),"fill-color":new La(br.paint_fill["fill-color"]),"fill-outline-color":new La(br.paint_fill["fill-outline-color"]),"fill-translate":new fa(br.paint_fill["fill-translate"]),"fill-translate-anchor":new fa(br.paint_fill["fill-translate-anchor"]),"fill-pattern":new Io(br.paint_fill["fill-pattern"])}),aT={paint:nT,layout:rT},iT=function(R){function D(H){R.call(this,H,aT)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(re,he){R.prototype.recalculate.call(this,re,he);var be=this.paint._values["fill-outline-color"];be.value.kind==="constant"&&be.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(re){return new Su(re)},D.prototype.queryRadius=function(){return pl(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(re,he,be,Pe,Ke,ut,wt){var Ct=Mu(re,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ut.angle,wt);return Ni(Ct,Pe)},D.prototype.isTileClipped=function(){return!0},D}(Bi),oT=Li([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),sT=oT.members,wm=ev;function ev(R,D,H,re,he){this.properties={},this.extent=H,this.type=0,this._pbf=R,this._geometry=-1,this._keys=re,this._values=he,R.readFields(lT,this,D)}function lT(R,D,H){R==1?D.id=H.readVarint():R==2?uT(H,D):R==3?D.type=H.readVarint():R==4&&(D._geometry=H.pos)}function uT(R,D){for(var H=R.readVarint()+R.pos;R.pos<H;){var re=D._keys[R.readVarint()],he=D._values[R.readVarint()];D.properties[re]=he}}ev.types=["Unknown","Point","LineString","Polygon"],ev.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,H=1,re=0,he=0,be=0,Pe=[],Ke;R.pos<D;){if(re<=0){var ut=R.readVarint();H=ut&7,re=ut>>3}if(re--,H===1||H===2)he+=R.readSVarint(),be+=R.readSVarint(),H===1&&(Ke&&Pe.push(Ke),Ke=[]),Ke.push(new r(he,be));else if(H===7)Ke&&Ke.push(Ke[0].clone());else throw new Error("unknown command "+H)}return Ke&&Pe.push(Ke),Pe},ev.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var D=R.readVarint()+R.pos,H=1,re=0,he=0,be=0,Pe=1/0,Ke=-1/0,ut=1/0,wt=-1/0;R.pos<D;){if(re<=0){var Ct=R.readVarint();H=Ct&7,re=Ct>>3}if(re--,H===1||H===2)he+=R.readSVarint(),be+=R.readSVarint(),he<Pe&&(Pe=he),he>Ke&&(Ke=he),be<ut&&(ut=be),be>wt&&(wt=be);else if(H!==7)throw new Error("unknown command "+H)}return[Pe,ut,Ke,wt]},ev.prototype.toGeoJSON=function(R,D,H){var re=this.extent*Math.pow(2,H),he=this.extent*R,be=this.extent*D,Pe=this.loadGeometry(),Ke=ev.types[this.type],ut,wt;function Ct(qt){for(var mr=0;mr<qt.length;mr++){var zr=qt[mr],sn=180-(zr.y+be)*360/re;qt[mr]=[(zr.x+he)*360/re-180,360/Math.PI*Math.atan(Math.exp(sn*Math.PI/180))-90]}}switch(this.type){case 1:var Wt=[];for(ut=0;ut<Pe.length;ut++)Wt[ut]=Pe[ut][0];Pe=Wt,Ct(Pe);break;case 2:for(ut=0;ut<Pe.length;ut++)Ct(Pe[ut]);break;case 3:for(Pe=fT(Pe),ut=0;ut<Pe.length;ut++)for(wt=0;wt<Pe[ut].length;wt++)Ct(Pe[ut][wt]);break}Pe.length===1?Pe=Pe[0]:Ke="Multi"+Ke;var nr={type:"Feature",geometry:{type:Ke,coordinates:Pe},properties:this.properties};return"id"in this&&(nr.id=this.id),nr};function fT(R){var D=R.length;if(D<=1)return[R];for(var H=[],re,he,be=0;be<D;be++){var Pe=cT(R[be]);Pe!==0&&(he===void 0&&(he=Pe<0),he===Pe<0?(re&&H.push(re),re=[R[be]]):re.push(R[be]))}return re&&H.push(re),H}function cT(R){for(var D=0,H=0,re=R.length,he=re-1,be,Pe;H<re;he=H++)be=R[H],Pe=R[he],D+=(Pe.x-be.x)*(be.y+Pe.y);return D}var Tm=Am;function Am(R,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(hT,this,D),this.length=this._features.length}function hT(R,D,H){R===15?D.version=H.readVarint():R===1?D.name=H.readString():R===5?D.extent=H.readVarint():R===2?D._features.push(H.pos):R===3?D._keys.push(H.readString()):R===4&&D._values.push(vT(H))}function vT(R){for(var D=null,H=R.readVarint()+R.pos;R.pos<H;){var re=R.readVarint()>>3;D=re===1?R.readString():re===2?R.readFloat():re===3?R.readDouble():re===4?R.readVarint64():re===5?R.readVarint():re===6?R.readSVarint():re===7?R.readBoolean():null}return D}Am.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var D=this._pbf.readVarint()+this._pbf.pos;return new wm(this._pbf,D,this.extent,this._keys,this._values)};var dT=pT;function pT(R,D){this.layers=R.readFields(gT,{},D)}function gT(R,D,H){if(R===3){var re=new Tm(H,H.readVarint()+H.pos);re.length&&(D[re.name]=re)}}var yT=dT,mT=wm,xT=Tm,tv={VectorTile:yT,VectorTileFeature:mT,VectorTileLayer:xT},bT=tv.VectorTileFeature.types,wT=500,Sg=Math.pow(2,13);function od(R,D,H,re,he,be,Pe,Ke){R.emplaceBack(D,H,Math.floor(re*Sg)*2+Pe,he*Sg*2,be*Sg*2,Math.round(Ke))}var Eu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(H){return H.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new $u,this.indexArray=new Au,this.programConfigurations=new da(D.layers,D.zoom),this.segments=new oo,this.stateDependentLayerIds=this.layers.filter(function(H){return H.isStateDependent()}).map(function(H){return H.id})};Eu.prototype.populate=function(D,H,re){this.features=[],this.hasPattern=Ag("fill-extrusion",this.layers,H);for(var he=0,be=D;he<be.length;he+=1){var Pe=be[he],Ke=Pe.feature,ut=Pe.id,wt=Pe.index,Ct=Pe.sourceLayerIndex,Wt=this.layers[0]._featureFilter.needGeometry,nr=Ai(Ke,Wt);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),nr,re)){var qt={id:ut,sourceLayerIndex:Ct,index:wt,geometry:Wt?nr.geometry:ei(Ke),properties:Ke.properties,type:Ke.type,patterns:{}};this.hasPattern?this.features.push(Mg("fill-extrusion",this.layers,qt,this.zoom,H)):this.addFeature(qt,qt.geometry,wt,re,{}),H.featureIndex.insert(Ke,qt.geometry,wt,Ct,this.index,!0)}}},Eu.prototype.addFeatures=function(D,H,re){for(var he=0,be=this.features;he<be.length;he+=1){var Pe=be[he],Ke=Pe.geometry;this.addFeature(Pe,Ke,Pe.index,H,re)}},Eu.prototype.update=function(D,H,re){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,re)},Eu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Eu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Eu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,sT),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Eu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Eu.prototype.addFeature=function(D,H,re,he,be){for(var Pe=0,Ke=Tg(H,wT);Pe<Ke.length;Pe+=1){for(var ut=Ke[Pe],wt=0,Ct=0,Wt=ut;Ct<Wt.length;Ct+=1){var nr=Wt[Ct];wt+=nr.length}for(var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),mr=0,zr=ut;mr<zr.length;mr+=1){var sn=zr[mr];if(sn.length!==0&&!AT(sn))for(var qr=0,En=0;En<sn.length;En++){var mn=sn[En];if(En>=1){var Mn=sn[En-1];if(!TT(mn,Mn)){qt.vertexLength+4>oo.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var kn=mn.sub(Mn)._perp()._unit(),Gn=Mn.dist(mn);qr+Gn>32768&&(qr=0),od(this.layoutVertexArray,mn.x,mn.y,kn.x,kn.y,0,0,qr),od(this.layoutVertexArray,mn.x,mn.y,kn.x,kn.y,0,1,qr),qr+=Gn,od(this.layoutVertexArray,Mn.x,Mn.y,kn.x,kn.y,0,0,qr),od(this.layoutVertexArray,Mn.x,Mn.y,kn.x,kn.y,0,1,qr);var oa=qt.vertexLength;this.indexArray.emplaceBack(oa,oa+2,oa+1),this.indexArray.emplaceBack(oa+1,oa+2,oa+3),qt.vertexLength+=4,qt.primitiveLength+=2}}}}if(qt.vertexLength+wt>oo.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(wt,this.layoutVertexArray,this.indexArray)),bT[D.type]==="Polygon"){for(var na=[],Ta=[],pa=qt.vertexLength,ba=0,Na=ut;ba<Na.length;ba+=1){var Aa=Na[ba];if(Aa.length!==0){Aa!==ut[0]&&Ta.push(na.length/2);for(var Ca=0;Ca<Aa.length;Ca++){var Wa=Aa[Ca];od(this.layoutVertexArray,Wa.x,Wa.y,0,0,1,1,0),na.push(Wa.x),na.push(Wa.y)}}}for(var Oa=mg(na,Ta),oi=0;oi<Oa.length;oi+=3)this.indexArray.emplaceBack(pa+Oa[oi],pa+Oa[oi+2],pa+Oa[oi+1]);qt.primitiveLength+=Oa.length/3,qt.vertexLength+=wt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,re,be,he)},ze("FillExtrusionBucket",Eu,{omit:["layers","features"]});function TT(R,D){return R.x===D.x&&(R.x<0||R.x>Sa)||R.y===D.y&&(R.y<0||R.y>Sa)}function AT(R){return R.every(function(D){return D.x<0})||R.every(function(D){return D.x>Sa})||R.every(function(D){return D.y<0})||R.every(function(D){return D.y>Sa})}var MT=new fi({"fill-extrusion-opacity":new fa(br["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new La(br["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new fa(br["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new fa(br["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Io(br["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new La(br["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new La(br["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new fa(br["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),ST={paint:MT},ET=function(R){function D(H){R.call(this,H,ST)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(re){return new Eu(re)},D.prototype.queryRadius=function(){return pl(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(re,he,be,Pe,Ke,ut,wt,Ct){var Wt=Mu(re,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ut.angle,wt),nr=this.paint.get("fill-extrusion-height").evaluate(he,be),qt=this.paint.get("fill-extrusion-base").evaluate(he,be),mr=PT(Wt,Ct,ut,0),zr=LT(Pe,qt,nr,Ct),sn=zr[0],qr=zr[1];return CT(sn,qr,mr)},D}(Bi);function sd(R,D){return R.x*D.x+R.y*D.y}function Mm(R,D){if(R.length===1){for(var H=0,re=D[H++],he;!he||re.equals(he);)if(he=D[H++],!he)return 1/0;for(;H<D.length;H++){var be=D[H],Pe=R[0],Ke=he.sub(re),ut=be.sub(re),wt=Pe.sub(re),Ct=sd(Ke,Ke),Wt=sd(Ke,ut),nr=sd(ut,ut),qt=sd(wt,Ke),mr=sd(wt,ut),zr=Ct*nr-Wt*Wt,sn=(nr*qt-Wt*mr)/zr,qr=(Ct*mr-Wt*qt)/zr,En=1-sn-qr,mn=re.z*En+he.z*sn+be.z*qr;if(isFinite(mn))return mn}return 1/0}else{for(var Mn=1/0,kn=0,Gn=D;kn<Gn.length;kn+=1){var oa=Gn[kn];Mn=Math.min(Mn,oa.z)}return Mn}}function CT(R,D,H){var re=1/0;Ni(H,D)&&(re=Mm(H,D[0]));for(var he=0;he<D.length;he++)for(var be=D[he],Pe=R[he],Ke=0;Ke<be.length-1;Ke++){var ut=be[Ke],wt=be[Ke+1],Ct=Pe[Ke],Wt=Pe[Ke+1],nr=[ut,wt,Wt,Ct,ut];Va(H,nr)&&(re=Math.min(re,Mm(H,nr)))}return re===1/0?!1:re}function LT(R,D,H,re){for(var he=[],be=[],Pe=re[8]*D,Ke=re[9]*D,ut=re[10]*D,wt=re[11]*D,Ct=re[8]*H,Wt=re[9]*H,nr=re[10]*H,qt=re[11]*H,mr=0,zr=R;mr<zr.length;mr+=1){for(var sn=zr[mr],qr=[],En=[],mn=0,Mn=sn;mn<Mn.length;mn+=1){var kn=Mn[mn],Gn=kn.x,oa=kn.y,na=re[0]*Gn+re[4]*oa+re[12],Ta=re[1]*Gn+re[5]*oa+re[13],pa=re[2]*Gn+re[6]*oa+re[14],ba=re[3]*Gn+re[7]*oa+re[15],Na=na+Pe,Aa=Ta+Ke,Ca=pa+ut,Wa=ba+wt,Oa=na+Ct,oi=Ta+Wt,xi=pa+nr,si=ba+qt,li=new r(Na/Wa,Aa/Wa);li.z=Ca/Wa,qr.push(li);var ti=new r(Oa/si,oi/si);ti.z=xi/si,En.push(ti)}he.push(qr),be.push(En)}return[he,be]}function PT(R,D,H,re){for(var he=[],be=0,Pe=R;be<Pe.length;be+=1){var Ke=Pe[be],ut=[Ke.x,Ke.y,re,1];yp(ut,ut,D),he.push(new r(ut[0]/ut[3],ut[1]/ut[3]))}return he}var RT=Li([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),DT=RT.members,IT=Li([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),kT=IT.members,FT=tv.VectorTileFeature.types,Sm=63,_T=Math.cos(75/2*(Math.PI/180)),zT=15,OT=20,BT=15,Em=1/2,Cm=Math.pow(2,BT-1)/Em,as=function(D){var H=this;this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(re){return re.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(re){H.gradients[re.id]={}}),this.layoutVertexArray=new pc,this.layoutVertexArray2=new gc,this.indexArray=new Au,this.programConfigurations=new da(D.layers,D.zoom),this.segments=new oo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(re){return re.isStateDependent()}).map(function(re){return re.id})};as.prototype.populate=function(D,H,re){this.hasPattern=Ag("line",this.layers,H);for(var he=this.layers[0].layout.get("line-sort-key"),be=[],Pe=0,Ke=D;Pe<Ke.length;Pe+=1){var ut=Ke[Pe],wt=ut.feature,Ct=ut.id,Wt=ut.index,nr=ut.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,mr=Ai(wt,qt);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),mr,re)){var zr=he?he.evaluate(mr,{},re):void 0,sn={id:Ct,properties:wt.properties,type:wt.type,sourceLayerIndex:nr,index:Wt,geometry:qt?mr.geometry:ei(wt),patterns:{},sortKey:zr};be.push(sn)}}he&&be.sort(function(pa,ba){return pa.sortKey-ba.sortKey});for(var qr=0,En=be;qr<En.length;qr+=1){var mn=En[qr],Mn=mn,kn=Mn.geometry,Gn=Mn.index,oa=Mn.sourceLayerIndex;if(this.hasPattern){var na=Mg("line",this.layers,mn,this.zoom,H);this.patternFeatures.push(na)}else this.addFeature(mn,kn,Gn,re,{});var Ta=D[Gn].feature;H.featureIndex.insert(Ta,kn,Gn,oa,this.index)}},as.prototype.update=function(D,H,re){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,H,this.stateDependentLayers,re)},as.prototype.addFeatures=function(D,H,re){for(var he=0,be=this.patternFeatures;he<be.length;he+=1){var Pe=be[he];this.addFeature(Pe,Pe.geometry,Pe.index,H,re)}},as.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},as.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},as.prototype.upload=function(D){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=D.createVertexBuffer(this.layoutVertexArray2,kT)),this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,DT),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},as.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},as.prototype.lineFeatureClips=function(D){if(D.properties&&D.properties.hasOwnProperty("mapbox_clip_start")&&D.properties.hasOwnProperty("mapbox_clip_end")){var H=+D.properties.mapbox_clip_start,re=+D.properties.mapbox_clip_end;return{start:H,end:re}}},as.prototype.addFeature=function(D,H,re,he,be){var Pe=this.layers[0].layout,Ke=Pe.get("line-join").evaluate(D,{}),ut=Pe.get("line-cap"),wt=Pe.get("line-miter-limit"),Ct=Pe.get("line-round-limit");this.lineClips=this.lineFeatureClips(D);for(var Wt=0,nr=H;Wt<nr.length;Wt+=1){var qt=nr[Wt];this.addLine(qt,D,Ke,ut,wt,Ct)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,re,be,he)},as.prototype.addLine=function(D,H,re,he,be,Pe){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Ke=0;Ke<D.length-1;Ke++)this.totalDistance+=D[Ke].dist(D[Ke+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var ut=FT[H.type]==="Polygon",wt=D.length;wt>=2&&D[wt-1].equals(D[wt-2]);)wt--;for(var Ct=0;Ct<wt-1&&D[Ct].equals(D[Ct+1]);)Ct++;if(!(wt<(ut?3:2))){re==="bevel"&&(be=1.05);var Wt=this.overscaling<=16?zT*Sa/(512*this.overscaling):0,nr=this.segments.prepareSegment(wt*10,this.layoutVertexArray,this.indexArray),qt,mr=void 0,zr=void 0,sn=void 0,qr=void 0;this.e1=this.e2=-1,ut&&(qt=D[wt-2],qr=D[Ct].sub(qt)._unit()._perp());for(var En=Ct;En<wt;En++)if(zr=En===wt-1?ut?D[Ct+1]:void 0:D[En+1],!(zr&&D[En].equals(zr))){qr&&(sn=qr),qt&&(mr=qt),qt=D[En],qr=zr?zr.sub(qt)._unit()._perp():sn,sn=sn||qr;var mn=sn.add(qr);(mn.x!==0||mn.y!==0)&&mn._unit();var Mn=sn.x*qr.x+sn.y*qr.y,kn=mn.x*qr.x+mn.y*qr.y,Gn=kn!==0?1/kn:1/0,oa=2*Math.sqrt(2-2*kn),na=kn<_T&&mr&&zr,Ta=sn.x*qr.y-sn.y*qr.x>0;if(na&&En>Ct){var pa=qt.dist(mr);if(pa>2*Wt){var ba=qt.sub(qt.sub(mr)._mult(Wt/pa)._round());this.updateDistance(mr,ba),this.addCurrentVertex(ba,sn,0,0,nr),mr=ba}}var Na=mr&&zr,Aa=Na?re:ut?"butt":he;if(Na&&Aa==="round"&&(Gn<Pe?Aa="miter":Gn<=2&&(Aa="fakeround")),Aa==="miter"&&Gn>be&&(Aa="bevel"),Aa==="bevel"&&(Gn>2&&(Aa="flipbevel"),Gn<be&&(Aa="miter")),mr&&this.updateDistance(mr,qt),Aa==="miter")mn._mult(Gn),this.addCurrentVertex(qt,mn,0,0,nr);else if(Aa==="flipbevel"){if(Gn>100)mn=qr.mult(-1);else{var Ca=Gn*sn.add(qr).mag()/sn.sub(qr).mag();mn._perp()._mult(Ca*(Ta?-1:1))}this.addCurrentVertex(qt,mn,0,0,nr),this.addCurrentVertex(qt,mn.mult(-1),0,0,nr)}else if(Aa==="bevel"||Aa==="fakeround"){var Wa=-Math.sqrt(Gn*Gn-1),Oa=Ta?Wa:0,oi=Ta?0:Wa;if(mr&&this.addCurrentVertex(qt,sn,Oa,oi,nr),Aa==="fakeround")for(var xi=Math.round(oa*180/Math.PI/OT),si=1;si<xi;si++){var li=si/xi;if(li!==.5){var ti=li-.5,Mi=1.0904+Mn*(-3.2452+Mn*(3.55645-Mn*1.43519)),Ei=.848013+Mn*(-1.06021+Mn*.215638);li=li+li*ti*(li-1)*(Mi*ti*ti+Ei)}var Ui=qr.sub(sn)._mult(li)._add(sn)._unit()._mult(Ta?-1:1);this.addHalfVertex(qt,Ui.x,Ui.y,!1,Ta,0,nr)}zr&&this.addCurrentVertex(qt,qr,-Oa,-oi,nr)}else if(Aa==="butt")this.addCurrentVertex(qt,mn,0,0,nr);else if(Aa==="square"){var Zi=mr?1:-1;this.addCurrentVertex(qt,mn,Zi,Zi,nr)}else Aa==="round"&&(mr&&(this.addCurrentVertex(qt,sn,0,0,nr),this.addCurrentVertex(qt,sn,1,1,nr,!0)),zr&&(this.addCurrentVertex(qt,qr,-1,-1,nr,!0),this.addCurrentVertex(qt,qr,0,0,nr)));if(na&&En<wt-1){var Mo=qt.dist(zr);if(Mo>2*Wt){var fo=qt.add(zr.sub(qt)._mult(Wt/Mo)._round());this.updateDistance(qt,fo),this.addCurrentVertex(fo,qr,0,0,nr),qt=fo}}}}},as.prototype.addCurrentVertex=function(D,H,re,he,be,Pe){Pe===void 0&&(Pe=!1);var Ke=H.x+H.y*re,ut=H.y-H.x*re,wt=-H.x+H.y*he,Ct=-H.y-H.x*he;this.addHalfVertex(D,Ke,ut,Pe,!1,re,be),this.addHalfVertex(D,wt,Ct,Pe,!0,-he,be),this.distance>Cm/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,H,re,he,be,Pe))},as.prototype.addHalfVertex=function(D,H,re,he,be,Pe,Ke){var ut=D.x,wt=D.y,Ct=this.lineClips?this.scaledDistance*(Cm-1):this.scaledDistance,Wt=Ct*Em;if(this.layoutVertexArray.emplaceBack((ut<<1)+(he?1:0),(wt<<1)+(be?1:0),Math.round(Sm*H)+128,Math.round(Sm*re)+128,(Pe===0?0:Pe<0?-1:1)+1|(Wt&63)<<2,Wt>>6),this.lineClips){var nr=this.scaledDistance-this.lineClips.start,qt=this.lineClips.end-this.lineClips.start,mr=nr/qt;this.layoutVertexArray2.emplaceBack(mr,this.lineClipsArray.length)}var zr=Ke.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,zr),Ke.primitiveLength++),be?this.e2=zr:this.e1=zr},as.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},as.prototype.updateDistance=function(D,H){this.distance+=D.dist(H),this.updateScaledDistance()},ze("LineBucket",as,{omit:["layers","patternFeatures"]});var NT=new fi({"line-cap":new fa(br.layout_line["line-cap"]),"line-join":new La(br.layout_line["line-join"]),"line-miter-limit":new fa(br.layout_line["line-miter-limit"]),"line-round-limit":new fa(br.layout_line["line-round-limit"]),"line-sort-key":new La(br.layout_line["line-sort-key"])}),UT=new fi({"line-opacity":new La(br.paint_line["line-opacity"]),"line-color":new La(br.paint_line["line-color"]),"line-translate":new fa(br.paint_line["line-translate"]),"line-translate-anchor":new fa(br.paint_line["line-translate-anchor"]),"line-width":new La(br.paint_line["line-width"]),"line-gap-width":new La(br.paint_line["line-gap-width"]),"line-offset":new La(br.paint_line["line-offset"]),"line-blur":new La(br.paint_line["line-blur"]),"line-dasharray":new Bo(br.paint_line["line-dasharray"]),"line-pattern":new Io(br.paint_line["line-pattern"]),"line-gradient":new io(br.paint_line["line-gradient"])}),Lm={paint:UT,layout:NT},HT=function(R){function D(){R.apply(this,arguments)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(re,he){return he=new Ma(Math.floor(he.zoom),{now:he.now,fadeDuration:he.fadeDuration,zoomHistory:he.zoomHistory,transition:he.transition}),R.prototype.possiblyEvaluate.call(this,re,he)},D.prototype.evaluate=function(re,he,be,Pe){return he=A({},he,{zoom:Math.floor(he.zoom)}),R.prototype.evaluate.call(this,re,he,be,Pe)},D}(La),Pm=new HT(Lm.paint.properties["line-width"].specification);Pm.useIntegerZoom=!0;var VT=function(R){function D(H){R.call(this,H,Lm),this.gradientVersion=0}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(re){if(re==="line-gradient"){var he=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=he._styleExpression.expression instanceof Ko,this.gradientVersion=(this.gradientVersion+1)%c}},D.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},D.prototype.recalculate=function(re,he){R.prototype.recalculate.call(this,re,he),this.paint._values["line-floorwidth"]=Pm.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,re)},D.prototype.createBucket=function(re){return new as(re)},D.prototype.queryRadius=function(re){var he=re,be=Rm(ns("line-width",this,he),ns("line-gap-width",this,he)),Pe=ns("line-offset",this,he);return be/2+Math.abs(Pe)+pl(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(re,he,be,Pe,Ke,ut,wt){var Ct=Mu(re,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ut.angle,wt),Wt=wt/2*Rm(this.paint.get("line-width").evaluate(he,be),this.paint.get("line-gap-width").evaluate(he,be)),nr=this.paint.get("line-offset").evaluate(he,be);return nr&&(Pe=GT(Pe,nr*wt)),yo(Ct,Pe,Wt)},D.prototype.isTileClipped=function(){return!0},D}(Bi);function Rm(R,D){return D>0?D+2*R:R}function GT(R,D){for(var H=[],re=new r(0,0),he=0;he<R.length;he++){for(var be=R[he],Pe=[],Ke=0;Ke<be.length;Ke++){var ut=be[Ke-1],wt=be[Ke],Ct=be[Ke+1],Wt=Ke===0?re:wt.sub(ut)._unit()._perp(),nr=Ke===be.length-1?re:Ct.sub(wt)._unit()._perp(),qt=Wt._add(nr)._unit(),mr=qt.x*nr.x+qt.y*nr.y;qt._mult(1/mr),Pe.push(qt._mult(D)._add(wt))}H.push(Pe)}return H}var WT=Li([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),YT=Li([{name:"a_projected_pos",components:3,type:"Float32"}],4);Li([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var ZT=Li([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Li([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Dm=Li([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),jT=Li([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Li([{name:"triangle",components:3,type:"Uint16"}]),Li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Li([{type:"Float32",name:"offsetX"}]),Li([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function XT(R,D,H){var re=D.layout.get("text-transform").evaluate(H,{});return re==="uppercase"?R=R.toLocaleUpperCase():re==="lowercase"&&(R=R.toLocaleLowerCase()),qn.applyArabicShaping&&(R=qn.applyArabicShaping(R)),R}function KT(R,D,H){return R.sections.forEach(function(re){re.text=XT(re.text,D,H)}),R}function JT(R){var D={},H={},re=[],he=0;function be(qr){re.push(R[qr]),he++}function Pe(qr,En,mn){var Mn=H[qr];return delete H[qr],H[En]=Mn,re[Mn].geometry[0].pop(),re[Mn].geometry[0]=re[Mn].geometry[0].concat(mn[0]),Mn}function Ke(qr,En,mn){var Mn=D[En];return delete D[En],D[qr]=Mn,re[Mn].geometry[0].shift(),re[Mn].geometry[0]=mn[0].concat(re[Mn].geometry[0]),Mn}function ut(qr,En,mn){var Mn=mn?En[0][En[0].length-1]:En[0][0];return qr+":"+Mn.x+":"+Mn.y}for(var wt=0;wt<R.length;wt++){var Ct=R[wt],Wt=Ct.geometry,nr=Ct.text?Ct.text.toString():null;if(!nr){be(wt);continue}var qt=ut(nr,Wt),mr=ut(nr,Wt,!0);if(qt in H&&mr in D&&H[qt]!==D[mr]){var zr=Ke(qt,mr,Wt),sn=Pe(qt,mr,re[zr].geometry);delete D[qt],delete H[mr],H[ut(nr,re[sn].geometry,!0)]=sn,re[zr].geometry=null}else qt in H?Pe(qt,mr,Wt):mr in D?Ke(qt,mr,Wt):(be(wt),D[qt]=he-1,H[mr]=he-1)}return re.filter(function(qr){return qr.geometry})}var ld={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function QT(R){for(var D="",H=0;H<R.length;H++){var re=R.charCodeAt(H+1)||null,he=R.charCodeAt(H-1)||null,be=(!re||!Br(re)||ld[R[H+1]])&&(!he||!Br(he)||ld[R[H-1]]);be&&ld[R[H]]?D+=ld[R[H]]:D+=R[H]}return D}var ko=24,$T=function(R,D,H,re,he){var be,Pe,Ke=he*8-re-1,ut=(1<<Ke)-1,wt=ut>>1,Ct=-7,Wt=H?he-1:0,nr=H?-1:1,qt=R[D+Wt];for(Wt+=nr,be=qt&(1<<-Ct)-1,qt>>=-Ct,Ct+=Ke;Ct>0;be=be*256+R[D+Wt],Wt+=nr,Ct-=8);for(Pe=be&(1<<-Ct)-1,be>>=-Ct,Ct+=re;Ct>0;Pe=Pe*256+R[D+Wt],Wt+=nr,Ct-=8);if(be===0)be=1-wt;else{if(be===ut)return Pe?NaN:(qt?-1:1)*(1/0);Pe=Pe+Math.pow(2,re),be=be-wt}return(qt?-1:1)*Pe*Math.pow(2,be-re)},qT=function(R,D,H,re,he,be){var Pe,Ke,ut,wt=be*8-he-1,Ct=(1<<wt)-1,Wt=Ct>>1,nr=he===23?Math.pow(2,-24)-Math.pow(2,-77):0,qt=re?0:be-1,mr=re?1:-1,zr=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(Ke=isNaN(D)?1:0,Pe=Ct):(Pe=Math.floor(Math.log(D)/Math.LN2),D*(ut=Math.pow(2,-Pe))<1&&(Pe--,ut*=2),Pe+Wt>=1?D+=nr/ut:D+=nr*Math.pow(2,1-Wt),D*ut>=2&&(Pe++,ut/=2),Pe+Wt>=Ct?(Ke=0,Pe=Ct):Pe+Wt>=1?(Ke=(D*ut-1)*Math.pow(2,he),Pe=Pe+Wt):(Ke=D*Math.pow(2,Wt-1)*Math.pow(2,he),Pe=0));he>=8;R[H+qt]=Ke&255,qt+=mr,Ke/=256,he-=8);for(Pe=Pe<<he|Ke,wt+=he;wt>0;R[H+qt]=Pe&255,qt+=mr,Pe/=256,wt-=8);R[H+qt-mr]|=zr*128},Tp={read:$T,write:qT},Ap=Si;function Si(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}Si.Varint=0,Si.Fixed64=1,Si.Bytes=2,Si.Fixed32=5;var Eg=65536*65536,Im=1/Eg,e5=12,km=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Si.prototype={destroy:function(){this.buf=null},readFields:function(R,D,H){for(H=H||this.length;this.pos<H;){var re=this.readVarint(),he=re>>3,be=this.pos;this.type=re&7,R(he,D,this),this.pos===be&&this.skip(re)}return D},readMessage:function(R,D){return this.readFields(R,D,this.readVarint()+this.pos)},readFixed32:function(){var R=Mp(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=_m(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=Mp(this.buf,this.pos)+Mp(this.buf,this.pos+4)*Eg;return this.pos+=8,R},readSFixed64:function(){var R=Mp(this.buf,this.pos)+_m(this.buf,this.pos+4)*Eg;return this.pos+=8,R},readFloat:function(){var R=Tp.read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=Tp.read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var D=this.buf,H,re;return re=D[this.pos++],H=re&127,re<128||(re=D[this.pos++],H|=(re&127)<<7,re<128)||(re=D[this.pos++],H|=(re&127)<<14,re<128)||(re=D[this.pos++],H|=(re&127)<<21,re<128)?H:(re=D[this.pos],H|=(re&15)<<28,t5(H,R,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2===1?(R+1)/-2:R/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var R=this.readVarint()+this.pos,D=this.pos;return this.pos=R,R-D>=e5&&km?p5(this.buf,D,R):d5(this.buf,D,R)},readBytes:function(){var R=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,R);return this.pos=R,D},readPackedVarint:function(R,D){if(this.type!==Si.Bytes)return R.push(this.readVarint(D));var H=If(this);for(R=R||[];this.pos<H;)R.push(this.readVarint(D));return R},readPackedSVarint:function(R){if(this.type!==Si.Bytes)return R.push(this.readSVarint());var D=If(this);for(R=R||[];this.pos<D;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==Si.Bytes)return R.push(this.readBoolean());var D=If(this);for(R=R||[];this.pos<D;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==Si.Bytes)return R.push(this.readFloat());var D=If(this);for(R=R||[];this.pos<D;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==Si.Bytes)return R.push(this.readDouble());var D=If(this);for(R=R||[];this.pos<D;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==Si.Bytes)return R.push(this.readFixed32());var D=If(this);for(R=R||[];this.pos<D;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==Si.Bytes)return R.push(this.readSFixed32());var D=If(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==Si.Bytes)return R.push(this.readFixed64());var D=If(this);for(R=R||[];this.pos<D;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==Si.Bytes)return R.push(this.readSFixed64());var D=If(this);for(R=R||[];this.pos<D;)R.push(this.readSFixed64());return R},skip:function(R){var D=R&7;if(D===Si.Varint)for(;this.buf[this.pos++]>127;);else if(D===Si.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Si.Fixed32)this.pos+=4;else if(D===Si.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(R,D){this.writeVarint(R<<3|D)},realloc:function(R){for(var D=this.length||16;D<this.pos+R;)D*=2;if(D!==this.length){var H=new Uint8Array(D);H.set(this.buf),this.buf=H,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),nv(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),nv(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),nv(this.buf,R&-1,this.pos),nv(this.buf,Math.floor(R*Im),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),nv(this.buf,R&-1,this.pos),nv(this.buf,Math.floor(R*Im),this.pos+4),this.pos+=8},writeVarint:function(R){if(R=+R||0,R>268435455||R<0){r5(R,this);return}this.realloc(4),this.buf[this.pos++]=R&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=(R>>>=7)&127|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127)))},writeSVarint:function(R){this.writeVarint(R<0?-R*2-1:R*2)},writeBoolean:function(R){this.writeVarint(!!R)},writeString:function(R){R=String(R),this.realloc(R.length*4),this.pos++;var D=this.pos;this.pos=g5(this.buf,R,this.pos);var H=this.pos-D;H>=128&&Fm(D,H,this),this.pos=D-1,this.writeVarint(H),this.pos+=H},writeFloat:function(R){this.realloc(4),Tp.write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),Tp.write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var D=R.length;this.writeVarint(D),this.realloc(D);for(var H=0;H<D;H++)this.buf[this.pos++]=R[H]},writeRawMessage:function(R,D){this.pos++;var H=this.pos;R(D,this);var re=this.pos-H;re>=128&&Fm(H,re,this),this.pos=H-1,this.writeVarint(re),this.pos+=re},writeMessage:function(R,D,H){this.writeTag(R,Si.Bytes),this.writeRawMessage(D,H)},writePackedVarint:function(R,D){D.length&&this.writeMessage(R,i5,D)},writePackedSVarint:function(R,D){D.length&&this.writeMessage(R,o5,D)},writePackedBoolean:function(R,D){D.length&&this.writeMessage(R,u5,D)},writePackedFloat:function(R,D){D.length&&this.writeMessage(R,s5,D)},writePackedDouble:function(R,D){D.length&&this.writeMessage(R,l5,D)},writePackedFixed32:function(R,D){D.length&&this.writeMessage(R,f5,D)},writePackedSFixed32:function(R,D){D.length&&this.writeMessage(R,c5,D)},writePackedFixed64:function(R,D){D.length&&this.writeMessage(R,h5,D)},writePackedSFixed64:function(R,D){D.length&&this.writeMessage(R,v5,D)},writeBytesField:function(R,D){this.writeTag(R,Si.Bytes),this.writeBytes(D)},writeFixed32Field:function(R,D){this.writeTag(R,Si.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(R,D){this.writeTag(R,Si.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(R,D){this.writeTag(R,Si.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(R,D){this.writeTag(R,Si.Fixed64),this.writeSFixed64(D)},writeVarintField:function(R,D){this.writeTag(R,Si.Varint),this.writeVarint(D)},writeSVarintField:function(R,D){this.writeTag(R,Si.Varint),this.writeSVarint(D)},writeStringField:function(R,D){this.writeTag(R,Si.Bytes),this.writeString(D)},writeFloatField:function(R,D){this.writeTag(R,Si.Fixed32),this.writeFloat(D)},writeDoubleField:function(R,D){this.writeTag(R,Si.Fixed64),this.writeDouble(D)},writeBooleanField:function(R,D){this.writeVarintField(R,!!D)}};function t5(R,D,H){var re=H.buf,he,be;if(be=re[H.pos++],he=(be&112)>>4,be<128||(be=re[H.pos++],he|=(be&127)<<3,be<128)||(be=re[H.pos++],he|=(be&127)<<10,be<128)||(be=re[H.pos++],he|=(be&127)<<17,be<128)||(be=re[H.pos++],he|=(be&127)<<24,be<128)||(be=re[H.pos++],he|=(be&1)<<31,be<128))return rv(R,he,D);throw new Error("Expected varint not more than 10 bytes")}function If(R){return R.type===Si.Bytes?R.readVarint()+R.pos:R.pos+1}function rv(R,D,H){return H?D*4294967296+(R>>>0):(D>>>0)*4294967296+(R>>>0)}function r5(R,D){var H,re;if(R>=0?(H=R%4294967296|0,re=R/4294967296|0):(H=~(-R%4294967296),re=~(-R/4294967296),H^4294967295?H=H+1|0:(H=0,re=re+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),n5(H,re,D),a5(re,D)}function n5(R,D,H){H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos++]=R&127|128,R>>>=7,H.buf[H.pos]=R&127}function a5(R,D){var H=(R&7)<<4;D.buf[D.pos++]|=H|((R>>>=3)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127|((R>>>=7)?128:0),R&&(D.buf[D.pos++]=R&127)))))}function Fm(R,D,H){var re=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));H.realloc(re);for(var he=H.pos-1;he>=R;he--)H.buf[he+re]=H.buf[he]}function i5(R,D){for(var H=0;H<R.length;H++)D.writeVarint(R[H])}function o5(R,D){for(var H=0;H<R.length;H++)D.writeSVarint(R[H])}function s5(R,D){for(var H=0;H<R.length;H++)D.writeFloat(R[H])}function l5(R,D){for(var H=0;H<R.length;H++)D.writeDouble(R[H])}function u5(R,D){for(var H=0;H<R.length;H++)D.writeBoolean(R[H])}function f5(R,D){for(var H=0;H<R.length;H++)D.writeFixed32(R[H])}function c5(R,D){for(var H=0;H<R.length;H++)D.writeSFixed32(R[H])}function h5(R,D){for(var H=0;H<R.length;H++)D.writeFixed64(R[H])}function v5(R,D){for(var H=0;H<R.length;H++)D.writeSFixed64(R[H])}function Mp(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+R[D+3]*16777216}function nv(R,D,H){R[H]=D,R[H+1]=D>>>8,R[H+2]=D>>>16,R[H+3]=D>>>24}function _m(R,D){return(R[D]|R[D+1]<<8|R[D+2]<<16)+(R[D+3]<<24)}function d5(R,D,H){for(var re="",he=D;he<H;){var be=R[he],Pe=null,Ke=be>239?4:be>223?3:be>191?2:1;if(he+Ke>H)break;var ut,wt,Ct;Ke===1?be<128&&(Pe=be):Ke===2?(ut=R[he+1],(ut&192)===128&&(Pe=(be&31)<<6|ut&63,Pe<=127&&(Pe=null))):Ke===3?(ut=R[he+1],wt=R[he+2],(ut&192)===128&&(wt&192)===128&&(Pe=(be&15)<<12|(ut&63)<<6|wt&63,(Pe<=2047||Pe>=55296&&Pe<=57343)&&(Pe=null))):Ke===4&&(ut=R[he+1],wt=R[he+2],Ct=R[he+3],(ut&192)===128&&(wt&192)===128&&(Ct&192)===128&&(Pe=(be&15)<<18|(ut&63)<<12|(wt&63)<<6|Ct&63,(Pe<=65535||Pe>=1114112)&&(Pe=null))),Pe===null?(Pe=65533,Ke=1):Pe>65535&&(Pe-=65536,re+=String.fromCharCode(Pe>>>10&1023|55296),Pe=56320|Pe&1023),re+=String.fromCharCode(Pe),he+=Ke}return re}function p5(R,D,H){return km.decode(R.subarray(D,H))}function g5(R,D,H){for(var re=0,he,be;re<D.length;re++){if(he=D.charCodeAt(re),he>55295&&he<57344)if(be)if(he<56320){R[H++]=239,R[H++]=191,R[H++]=189,be=he;continue}else he=be-55296<<10|he-56320|65536,be=null;else{he>56319||re+1===D.length?(R[H++]=239,R[H++]=191,R[H++]=189):be=he;continue}else be&&(R[H++]=239,R[H++]=191,R[H++]=189,be=null);he<128?R[H++]=he:(he<2048?R[H++]=he>>6|192:(he<65536?R[H++]=he>>12|224:(R[H++]=he>>18|240,R[H++]=he>>12&63|128),R[H++]=he>>6&63|128),R[H++]=he&63|128)}return H}var Cg=3;function y5(R,D,H){R===1&&H.readMessage(m5,D)}function m5(R,D,H){if(R===3){var re=H.readMessage(x5,{}),he=re.id,be=re.bitmap,Pe=re.width,Ke=re.height,ut=re.left,wt=re.top,Ct=re.advance;D.push({id:he,bitmap:new Ah({width:Pe+2*Cg,height:Ke+2*Cg},be),metrics:{width:Pe,height:Ke,left:ut,top:wt,advance:Ct}})}}function x5(R,D,H){R===1?D.id=H.readVarint():R===2?D.bitmap=H.readBytes():R===3?D.width=H.readVarint():R===4?D.height=H.readVarint():R===5?D.left=H.readSVarint():R===6?D.top=H.readSVarint():R===7&&(D.advance=H.readVarint())}function b5(R){return new Ap(R).readFields(y5,[])}var zm=Cg;function Om(R){for(var D=0,H=0,re=0,he=R;re<he.length;re+=1){var be=he[re];D+=be.w*be.h,H=Math.max(H,be.w)}R.sort(function(sn,qr){return qr.h-sn.h});for(var Pe=Math.max(Math.ceil(Math.sqrt(D/.95)),H),Ke=[{x:0,y:0,w:Pe,h:1/0}],ut=0,wt=0,Ct=0,Wt=R;Ct<Wt.length;Ct+=1)for(var nr=Wt[Ct],qt=Ke.length-1;qt>=0;qt--){var mr=Ke[qt];if(!(nr.w>mr.w||nr.h>mr.h)){if(nr.x=mr.x,nr.y=mr.y,wt=Math.max(wt,nr.y+nr.h),ut=Math.max(ut,nr.x+nr.w),nr.w===mr.w&&nr.h===mr.h){var zr=Ke.pop();qt<Ke.length&&(Ke[qt]=zr)}else nr.h===mr.h?(mr.x+=nr.w,mr.w-=nr.w):nr.w===mr.w?(mr.y+=nr.h,mr.h-=nr.h):(Ke.push({x:mr.x+nr.w,y:mr.y,w:mr.w-nr.w,h:nr.h}),mr.y+=nr.h,mr.h-=nr.h);break}}return{w:ut,h:wt,fill:D/(ut*wt)||0}}var ks=1,Sp=function(D,H){var re=H.pixelRatio,he=H.version,be=H.stretchX,Pe=H.stretchY,Ke=H.content;this.paddedRect=D,this.pixelRatio=re,this.stretchX=be,this.stretchY=Pe,this.content=Ke,this.version=he},ud={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};ud.tl.get=function(){return[this.paddedRect.x+ks,this.paddedRect.y+ks]},ud.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-ks,this.paddedRect.y+this.paddedRect.h-ks]},ud.tlbr.get=function(){return this.tl.concat(this.br)},ud.displaySize.get=function(){return[(this.paddedRect.w-ks*2)/this.pixelRatio,(this.paddedRect.h-ks*2)/this.pixelRatio]},Object.defineProperties(Sp.prototype,ud);var fd=function(D,H){var re={},he={};this.haveRenderCallbacks=[];var be=[];this.addImages(D,re,be),this.addImages(H,he,be);var Pe=Om(be),Ke=Pe.w,ut=Pe.h,wt=new bs({width:Ke||1,height:ut||1});for(var Ct in D){var Wt=D[Ct],nr=re[Ct].paddedRect;bs.copy(Wt.data,wt,{x:0,y:0},{x:nr.x+ks,y:nr.y+ks},Wt.data)}for(var qt in H){var mr=H[qt],zr=he[qt].paddedRect,sn=zr.x+ks,qr=zr.y+ks,En=mr.data.width,mn=mr.data.height;bs.copy(mr.data,wt,{x:0,y:0},{x:sn,y:qr},mr.data),bs.copy(mr.data,wt,{x:0,y:mn-1},{x:sn,y:qr-1},{width:En,height:1}),bs.copy(mr.data,wt,{x:0,y:0},{x:sn,y:qr+mn},{width:En,height:1}),bs.copy(mr.data,wt,{x:En-1,y:0},{x:sn-1,y:qr},{width:1,height:mn}),bs.copy(mr.data,wt,{x:0,y:0},{x:sn+En,y:qr},{width:1,height:mn})}this.image=wt,this.iconPositions=re,this.patternPositions=he};fd.prototype.addImages=function(D,H,re){for(var he in D){var be=D[he],Pe={x:0,y:0,w:be.data.width+2*ks,h:be.data.height+2*ks};re.push(Pe),H[he]=new Sp(Pe,be),be.hasRenderCallback&&this.haveRenderCallbacks.push(he)}},fd.prototype.patchUpdatedImages=function(D,H){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var re in D.updatedImages)this.patchUpdatedImage(this.iconPositions[re],D.getImage(re),H),this.patchUpdatedImage(this.patternPositions[re],D.getImage(re),H)},fd.prototype.patchUpdatedImage=function(D,H,re){if(!(!D||!H)&&D.version!==H.version){D.version=H.version;var he=D.tl,be=he[0],Pe=he[1];re.update(H.data,void 0,{x:be,y:Pe})}},ze("ImagePosition",Sp),ze("ImageAtlas",fd);var Qs={horizontal:1,vertical:2,horizontalOnly:3},cd=-17;function w5(R){for(var D=0,H=R;D<H.length;D+=1){var re=H[D];if(re.positionedGlyphs.length!==0)return!1}return!0}var Bm=57344,Nm=63743,av=function(){this.scale=1,this.fontStack="",this.imageName=null};av.forText=function(D,H){var re=new av;return re.scale=D||1,re.fontStack=H,re},av.forImage=function(D){var H=new av;return H.imageName=D,H};var Go=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Go.fromFeature=function(D,H){for(var re=new Go,he=0;he<D.sections.length;he++){var be=D.sections[he];be.image?re.addImageSection(be):re.addTextSection(be,H)}return re},Go.prototype.length=function(){return this.text.length},Go.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},Go.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},Go.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},Go.prototype.verticalizePunctuation=function(){this.text=QT(this.text)},Go.prototype.trim=function(){for(var D=0,H=0;H<this.text.length&&tf[this.text.charCodeAt(H)];H++)D++;for(var re=this.text.length,he=this.text.length-1;he>=0&&he>=D&&tf[this.text.charCodeAt(he)];he--)re--;this.text=this.text.substring(D,re),this.sectionIndex=this.sectionIndex.slice(D,re)},Go.prototype.substring=function(D,H){var re=new Go;return re.text=this.text.substring(D,H),re.sectionIndex=this.sectionIndex.slice(D,H),re.sections=this.sections,re},Go.prototype.toString=function(){return this.text},Go.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(H,re){return Math.max(H,D.sections[re].scale)},0)},Go.prototype.addTextSection=function(D,H){this.text+=D.text,this.sections.push(av.forText(D.scale,D.fontStack||H));for(var re=this.sections.length-1,he=0;he<D.text.length;++he)this.sectionIndex.push(re)},Go.prototype.addImageSection=function(D){var H=D.image?D.image.name:"";if(H.length===0){O("Can't add FormattedSection with an empty image.");return}var re=this.getNextImageSectionCharCode();if(!re){O("Reached maximum number of images "+(Nm-Bm+2));return}this.text+=String.fromCharCode(re),this.sections.push(av.forImage(H)),this.sectionIndex.push(this.sections.length-1)},Go.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=Nm?null:++this.imageSectionID:(this.imageSectionID=Bm,this.imageSectionID)};function T5(R,D){for(var H=[],re=R.text,he=0,be=0,Pe=D;be<Pe.length;be+=1){var Ke=Pe[be];H.push(R.substring(he,Ke)),he=Ke}return he<re.length&&H.push(R.substring(he,re.length)),H}function Ep(R,D,H,re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr,zr){var sn=Go.fromFeature(R,he);Wt===Qs.vertical&&sn.verticalizePunctuation();var qr,En=qn.processBidirectionalText,mn=qn.processStyledBidirectionalText;if(En&&sn.sections.length===1){qr=[];for(var Mn=En(sn.toString(),Lg(sn,wt,be,D,re,qt,mr)),kn=0,Gn=Mn;kn<Gn.length;kn+=1){var oa=Gn[kn],na=new Go;na.text=oa,na.sections=sn.sections;for(var Ta=0;Ta<oa.length;Ta++)na.sectionIndex.push(0);qr.push(na)}}else if(mn){qr=[];for(var pa=mn(sn.text,sn.sectionIndex,Lg(sn,wt,be,D,re,qt,mr)),ba=0,Na=pa;ba<Na.length;ba+=1){var Aa=Na[ba],Ca=new Go;Ca.text=Aa[0],Ca.sectionIndex=Aa[1],Ca.sections=sn.sections,qr.push(Ca)}}else qr=T5(sn,Lg(sn,wt,be,D,re,qt,mr));var Wa=[],Oa={positionedLines:Wa,text:sn.toString(),top:Ct[1],bottom:Ct[1],left:Ct[0],right:Ct[0],writingMode:Wt,iconsInText:!1,verticalizable:!1};return S5(Oa,D,H,re,qr,Pe,Ke,ut,Wt,wt,nr,zr),w5(Wa)?!1:Oa}var tf={};tf[9]=!0,tf[10]=!0,tf[11]=!0,tf[12]=!0,tf[13]=!0,tf[32]=!0;var Fs={};Fs[10]=!0,Fs[32]=!0,Fs[38]=!0,Fs[40]=!0,Fs[41]=!0,Fs[43]=!0,Fs[45]=!0,Fs[47]=!0,Fs[173]=!0,Fs[183]=!0,Fs[8203]=!0,Fs[8208]=!0,Fs[8211]=!0,Fs[8231]=!0;function Um(R,D,H,re,he,be){if(D.imageName){var ut=re[D.imageName];return ut?ut.displaySize[0]*D.scale*ko/be+he:0}else{var Pe=H[D.fontStack],Ke=Pe&&Pe[R];return Ke?Ke.metrics.advance*D.scale+he:0}}function A5(R,D,H,re,he,be){for(var Pe=0,Ke=0;Ke<R.length();Ke++){var ut=R.getSection(Ke);Pe+=Um(R.getCharCode(Ke),ut,re,he,D,be)}var wt=Math.max(1,Math.ceil(Pe/H));return Pe/wt}function Hm(R,D,H,re){var he=Math.pow(R-D,2);return re?R<D?he/2:he*2:he+Math.abs(H)*H}function M5(R,D,H){var re=0;return R===10&&(re-=1e4),H&&(re+=150),(R===40||R===65288)&&(re+=50),(D===41||D===65289)&&(re+=50),re}function Vm(R,D,H,re,he,be){for(var Pe=null,Ke=Hm(D,H,he,be),ut=0,wt=re;ut<wt.length;ut+=1){var Ct=wt[ut],Wt=D-Ct.x,nr=Hm(Wt,H,he,be)+Ct.badness;nr<=Ke&&(Pe=Ct,Ke=nr)}return{index:R,x:D,priorBreak:Pe,badness:Ke}}function Gm(R){return R?Gm(R.priorBreak).concat(R.index):[]}function Lg(R,D,H,re,he,be,Pe){if(be!=="point")return[];if(!R)return[];for(var Ke=[],ut=A5(R,D,H,re,he,Pe),wt=R.text.indexOf("")>=0,Ct=0,Wt=0;Wt<R.length();Wt++){var nr=R.getSection(Wt),qt=R.getCharCode(Wt);if(tf[qt]||(Ct+=Um(qt,nr,re,he,D,Pe)),Wt<R.length()-1){var mr=Jr(qt);(Fs[qt]||mr||nr.imageName)&&Ke.push(Vm(Wt+1,Ct,ut,Ke,M5(qt,R.getCharCode(Wt+1),mr&&wt),!1))}}return Gm(Vm(R.length(),Ct,ut,Ke,0,!0))}function Pg(R){var D=.5,H=.5;switch(R){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(R){case"bottom":case"bottom-right":case"bottom-left":H=1;break;case"top":case"top-right":case"top-left":H=0;break}return{horizontalAlign:D,verticalAlign:H}}function S5(R,D,H,re,he,be,Pe,Ke,ut,wt,Ct,Wt){for(var nr=0,qt=cd,mr=0,zr=0,sn=Ke==="right"?1:Ke==="left"?0:.5,qr=0,En=0,mn=he;En<mn.length;En+=1){var Mn=mn[En];Mn.trim();var kn=Mn.getMaxScale(),Gn=(kn-1)*ko,oa={positionedGlyphs:[],lineOffset:0};R.positionedLines[qr]=oa;var na=oa.positionedGlyphs,Ta=0;if(!Mn.length()){qt+=be,++qr;continue}for(var pa=0;pa<Mn.length();pa++){var ba=Mn.getSection(pa),Na=Mn.getSectionIndex(pa),Aa=Mn.getCharCode(pa),Ca=0,Wa=null,Oa=null,oi=null,xi=ko,si=!(ut===Qs.horizontal||!Ct&&!nn(Aa)||Ct&&(tf[Aa]||jr(Aa)));if(ba.imageName){var Ui=re[ba.imageName];if(!Ui)continue;oi=ba.imageName,R.iconsInText=R.iconsInText||!0,Oa=Ui.paddedRect;var Zi=Ui.displaySize;ba.scale=ba.scale*ko/Wt,Wa={width:Zi[0],height:Zi[1],left:ks,top:-zm,advance:si?Zi[1]:Zi[0]};var Mo=ko-Zi[1]*ba.scale;Ca=Gn+Mo,xi=Wa.advance;var fo=si?Zi[0]*ba.scale-ko*kn:Zi[1]*ba.scale-ko*kn;fo>0&&fo>Ta&&(Ta=fo)}else{var li=H[ba.fontStack],ti=li&&li[Aa];if(ti&&ti.rect)Oa=ti.rect,Wa=ti.metrics;else{var Mi=D[ba.fontStack],Ei=Mi&&Mi[Aa];if(!Ei)continue;Wa=Ei.metrics}Ca=(kn-ba.scale)*ko}si?(R.verticalizable=!0,na.push({glyph:Aa,imageName:oi,x:nr,y:qt+Ca,vertical:si,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Na,metrics:Wa,rect:Oa}),nr+=xi*ba.scale+wt):(na.push({glyph:Aa,imageName:oi,x:nr,y:qt+Ca,vertical:si,scale:ba.scale,fontStack:ba.fontStack,sectionIndex:Na,metrics:Wa,rect:Oa}),nr+=Wa.advance*ba.scale+wt)}if(na.length!==0){var Wo=nr-wt;mr=Math.max(Wo,mr),E5(na,0,na.length-1,sn,Ta)}nr=0;var Yo=be*kn+Ta;oa.lineOffset=Math.max(Ta,Gn),qt+=Yo,zr=Math.max(Yo,zr),++qr}var So=qt-cd,is=Pg(Pe),os=is.horizontalAlign,mo=is.verticalAlign;C5(R.positionedLines,sn,os,mo,mr,zr,be,So,he.length),R.top+=-mo*So,R.bottom=R.top+So,R.left+=-os*mr,R.right=R.left+mr}function E5(R,D,H,re,he){if(!(!re&&!he))for(var be=R[H],Pe=be.metrics.advance*be.scale,Ke=(R[H].x+Pe)*re,ut=D;ut<=H;ut++)R[ut].x-=Ke,R[ut].y+=he}function C5(R,D,H,re,he,be,Pe,Ke,ut){var wt=(D-H)*he,Ct=0;be!==Pe?Ct=-Ke*re-cd:Ct=(-re*ut+.5)*Pe;for(var Wt=0,nr=R;Wt<nr.length;Wt+=1)for(var qt=nr[Wt],mr=0,zr=qt.positionedGlyphs;mr<zr.length;mr+=1){var sn=zr[mr];sn.x+=wt,sn.y+=Ct}}function L5(R,D,H){var re=Pg(H),he=re.horizontalAlign,be=re.verticalAlign,Pe=D[0],Ke=D[1],ut=Pe-R.displaySize[0]*he,wt=ut+R.displaySize[0],Ct=Ke-R.displaySize[1]*be,Wt=Ct+R.displaySize[1];return{image:R,top:Ct,bottom:Wt,left:ut,right:wt}}function Wm(R,D,H,re,he,be){var Pe=R.image,Ke;if(Pe.content){var ut=Pe.content,wt=Pe.pixelRatio||1;Ke=[ut[0]/wt,ut[1]/wt,Pe.displaySize[0]-ut[2]/wt,Pe.displaySize[1]-ut[3]/wt]}var Ct=D.left*be,Wt=D.right*be,nr,qt,mr,zr;H==="width"||H==="both"?(zr=he[0]+Ct-re[3],qt=he[0]+Wt+re[1]):(zr=he[0]+(Ct+Wt-Pe.displaySize[0])/2,qt=zr+Pe.displaySize[0]);var sn=D.top*be,qr=D.bottom*be;return H==="height"||H==="both"?(nr=he[1]+sn-re[0],mr=he[1]+qr+re[2]):(nr=he[1]+(sn+qr-Pe.displaySize[1])/2,mr=nr+Pe.displaySize[1]),{image:Pe,top:nr,right:qt,bottom:mr,left:zr,collisionPadding:Ke}}var iv=function(R){function D(H,re,he,be){R.call(this,H,re),this.angle=he,be!==void 0&&(this.segment=be)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(r);ze("Anchor",iv);var Cu=128;function Rg(R,D){var H=D.expression;if(H.kind==="constant"){var re=H.evaluate(new Ma(R+1));return{kind:"constant",layoutSize:re}}else{if(H.kind==="source")return{kind:"source"};for(var he=H.zoomStops,be=H.interpolationType,Pe=0;Pe<he.length&&he[Pe]<=R;)Pe++;Pe=Math.max(0,Pe-1);for(var Ke=Pe;Ke<he.length&&he[Ke]<R+1;)Ke++;Ke=Math.min(he.length-1,Ke);var ut=he[Pe],wt=he[Ke];if(H.kind==="composite")return{kind:"composite",minZoom:ut,maxZoom:wt,interpolationType:be};var Ct=H.evaluate(new Ma(ut)),Wt=H.evaluate(new Ma(wt));return{kind:"camera",minZoom:ut,maxZoom:wt,minSize:Ct,maxSize:Wt,interpolationType:be}}}function Ym(R,D,H){var re=D.uSize,he=D.uSizeT,be=H.lowerSize,Pe=H.upperSize;return R.kind==="source"?be/Cu:R.kind==="composite"?Pi(be/Cu,Pe/Cu,he):re}function Zm(R,D){var H=0,re=0;if(R.kind==="constant")re=R.layoutSize;else if(R.kind!=="source"){var he=R.interpolationType,be=R.minZoom,Pe=R.maxZoom,Ke=he?f(ki.interpolationFactor(he,D,be,Pe),0,1):0;R.kind==="camera"?re=Pi(R.minSize,R.maxSize,Ke):H=Ke}return{uSizeT:H,uSize:re}}var P5=Object.freeze({__proto__:null,getSizeData:Rg,evaluateSizeForFeature:Ym,evaluateSizeForZoom:Zm,SIZE_PACK_FACTOR:Cu});function jm(R,D,H,re,he){if(D.segment===void 0)return!0;for(var be=D,Pe=D.segment+1,Ke=0;Ke>-H/2;){if(Pe--,Pe<0)return!1;Ke-=R[Pe].dist(be),be=R[Pe]}Ke+=R[Pe].dist(R[Pe+1]),Pe++;for(var ut=[],wt=0;Ke<H/2;){var Ct=R[Pe-1],Wt=R[Pe],nr=R[Pe+1];if(!nr)return!1;var qt=Ct.angleTo(Wt)-Wt.angleTo(nr);for(qt=Math.abs((qt+3*Math.PI)%(Math.PI*2)-Math.PI),ut.push({distance:Ke,angleDelta:qt}),wt+=qt;Ke-ut[0].distance>re;)wt-=ut.shift().angleDelta;if(wt>he)return!1;Pe++,Ke+=Wt.dist(nr)}return!0}function Xm(R){for(var D=0,H=0;H<R.length-1;H++)D+=R[H].dist(R[H+1]);return D}function Km(R,D,H){return R?.6*D*H:0}function Jm(R,D){return Math.max(R?R.right-R.left:0,D?D.right-D.left:0)}function R5(R,D,H,re,he,be){for(var Pe=Km(H,he,be),Ke=Jm(H,re)*be,ut=0,wt=Xm(R)/2,Ct=0;Ct<R.length-1;Ct++){var Wt=R[Ct],nr=R[Ct+1],qt=Wt.dist(nr);if(ut+qt>wt){var mr=(wt-ut)/qt,zr=Pi(Wt.x,nr.x,mr),sn=Pi(Wt.y,nr.y,mr),qr=new iv(zr,sn,nr.angleTo(Wt),Ct);return qr._round(),!Pe||jm(R,qr,Ke,Pe,D)?qr:void 0}ut+=qt}}function D5(R,D,H,re,he,be,Pe,Ke,ut){var wt=Km(re,be,Pe),Ct=Jm(re,he),Wt=Ct*Pe,nr=R[0].x===0||R[0].x===ut||R[0].y===0||R[0].y===ut;D-Wt<D/4&&(D=Wt+D/4);var qt=be*2,mr=nr?D/2*Ke%D:(Ct/2+qt)*Pe*Ke%D;return Qm(R,mr,D,wt,H,Wt,nr,!1,ut)}function Qm(R,D,H,re,he,be,Pe,Ke,ut){for(var wt=be/2,Ct=Xm(R),Wt=0,nr=D-H,qt=[],mr=0;mr<R.length-1;mr++){for(var zr=R[mr],sn=R[mr+1],qr=zr.dist(sn),En=sn.angleTo(zr);nr+H<Wt+qr;){nr+=H;var mn=(nr-Wt)/qr,Mn=Pi(zr.x,sn.x,mn),kn=Pi(zr.y,sn.y,mn);if(Mn>=0&&Mn<ut&&kn>=0&&kn<ut&&nr-wt>=0&&nr+wt<=Ct){var Gn=new iv(Mn,kn,En,mr);Gn._round(),(!re||jm(R,Gn,be,re,he))&&qt.push(Gn)}}Wt+=qr}return!Ke&&!qt.length&&!Pe&&(qt=Qm(R,Wt/2,H,re,he,be,Pe,!0,ut)),qt}function $m(R,D,H,re,he){for(var be=[],Pe=0;Pe<R.length;Pe++)for(var Ke=R[Pe],ut=void 0,wt=0;wt<Ke.length-1;wt++){var Ct=Ke[wt],Wt=Ke[wt+1];Ct.x<D&&Wt.x<D||(Ct.x<D?Ct=new r(D,Ct.y+(Wt.y-Ct.y)*((D-Ct.x)/(Wt.x-Ct.x)))._round():Wt.x<D&&(Wt=new r(D,Ct.y+(Wt.y-Ct.y)*((D-Ct.x)/(Wt.x-Ct.x)))._round()),!(Ct.y<H&&Wt.y<H)&&(Ct.y<H?Ct=new r(Ct.x+(Wt.x-Ct.x)*((H-Ct.y)/(Wt.y-Ct.y)),H)._round():Wt.y<H&&(Wt=new r(Ct.x+(Wt.x-Ct.x)*((H-Ct.y)/(Wt.y-Ct.y)),H)._round()),!(Ct.x>=re&&Wt.x>=re)&&(Ct.x>=re?Ct=new r(re,Ct.y+(Wt.y-Ct.y)*((re-Ct.x)/(Wt.x-Ct.x)))._round():Wt.x>=re&&(Wt=new r(re,Ct.y+(Wt.y-Ct.y)*((re-Ct.x)/(Wt.x-Ct.x)))._round()),!(Ct.y>=he&&Wt.y>=he)&&(Ct.y>=he?Ct=new r(Ct.x+(Wt.x-Ct.x)*((he-Ct.y)/(Wt.y-Ct.y)),he)._round():Wt.y>=he&&(Wt=new r(Ct.x+(Wt.x-Ct.x)*((he-Ct.y)/(Wt.y-Ct.y)),he)._round()),(!ut||!Ct.equals(ut[ut.length-1]))&&(ut=[Ct],be.push(ut)),ut.push(Wt)))))}return be}var ov=ks;function qm(R,D,H,re){var he=[],be=R.image,Pe=be.pixelRatio,Ke=be.paddedRect.w-2*ov,ut=be.paddedRect.h-2*ov,wt=R.right-R.left,Ct=R.bottom-R.top,Wt=be.stretchX||[[0,Ke]],nr=be.stretchY||[[0,ut]],qt=function(li,ti){return li+ti[1]-ti[0]},mr=Wt.reduce(qt,0),zr=nr.reduce(qt,0),sn=Ke-mr,qr=ut-zr,En=0,mn=mr,Mn=0,kn=zr,Gn=0,oa=sn,na=0,Ta=qr;if(be.content&&re){var pa=be.content;En=Cp(Wt,0,pa[0]),Mn=Cp(nr,0,pa[1]),mn=Cp(Wt,pa[0],pa[2]),kn=Cp(nr,pa[1],pa[3]),Gn=pa[0]-En,na=pa[1]-Mn,oa=pa[2]-pa[0]-mn,Ta=pa[3]-pa[1]-kn}var ba=function(li,ti,Mi,Ei){var Ui=Lp(li.stretch-En,mn,wt,R.left),Zi=Pp(li.fixed-Gn,oa,li.stretch,mr),Mo=Lp(ti.stretch-Mn,kn,Ct,R.top),fo=Pp(ti.fixed-na,Ta,ti.stretch,zr),Wo=Lp(Mi.stretch-En,mn,wt,R.left),Yo=Pp(Mi.fixed-Gn,oa,Mi.stretch,mr),So=Lp(Ei.stretch-Mn,kn,Ct,R.top),is=Pp(Ei.fixed-na,Ta,Ei.stretch,zr),os=new r(Ui,Mo),mo=new r(Wo,Mo),ss=new r(Wo,So),$s=new r(Ui,So),_f=new r(Zi/Pe,fo/Pe),Cc=new r(Yo/Pe,is/Pe),Lc=D*Math.PI/180;if(Lc){var Pc=Math.sin(Lc),dv=Math.cos(Lc),Xl=[dv,-Pc,Pc,dv];os._matMult(Xl),mo._matMult(Xl),$s._matMult(Xl),ss._matMult(Xl)}var _p=li.stretch+li.fixed,Bg=Mi.stretch+Mi.fixed,zp=ti.stretch+ti.fixed,Ng=Ei.stretch+Ei.fixed,ml={x:be.paddedRect.x+ov+_p,y:be.paddedRect.y+ov+zp,w:Bg-_p,h:Ng-zp},pv=oa/Pe/wt,Op=Ta/Pe/Ct;return{tl:os,tr:mo,bl:$s,br:ss,tex:ml,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:_f,pixelOffsetBR:Cc,minFontScaleX:pv,minFontScaleY:Op,isSDF:H}};if(!re||!be.stretchX&&!be.stretchY)he.push(ba({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ke+1},{fixed:0,stretch:ut+1}));else for(var Na=ex(Wt,sn,mr),Aa=ex(nr,qr,zr),Ca=0;Ca<Na.length-1;Ca++)for(var Wa=Na[Ca],Oa=Na[Ca+1],oi=0;oi<Aa.length-1;oi++){var xi=Aa[oi],si=Aa[oi+1];he.push(ba(Wa,xi,Oa,si))}return he}function Cp(R,D,H){for(var re=0,he=0,be=R;he<be.length;he+=1){var Pe=be[he];re+=Math.max(D,Math.min(H,Pe[1]))-Math.max(D,Math.min(H,Pe[0]))}return re}function ex(R,D,H){for(var re=[{fixed:-ov,stretch:0}],he=0,be=R;he<be.length;he+=1){var Pe=be[he],Ke=Pe[0],ut=Pe[1],wt=re[re.length-1];re.push({fixed:Ke-wt.stretch,stretch:wt.stretch}),re.push({fixed:Ke-wt.stretch,stretch:wt.stretch+(ut-Ke)})}return re.push({fixed:D+ov,stretch:H}),re}function Lp(R,D,H,re){return R/D*H+re}function Pp(R,D,H,re){return R-D*H/re}function I5(R,D,H,re,he,be,Pe,Ke){for(var ut=re.layout.get("text-rotate").evaluate(be,{})*Math.PI/180,wt=[],Ct=0,Wt=D.positionedLines;Ct<Wt.length;Ct+=1)for(var nr=Wt[Ct],qt=0,mr=nr.positionedGlyphs;qt<mr.length;qt+=1){var zr=mr[qt];if(zr.rect){var sn=zr.rect||{},qr=1,En=zm+qr,mn=!0,Mn=1,kn=0,Gn=(he||Ke)&&zr.vertical,oa=zr.metrics.advance*zr.scale/2;if(Ke&&D.verticalizable){var na=(zr.scale-1)*ko,Ta=(ko-zr.metrics.width*zr.scale)/2;kn=nr.lineOffset/2-(zr.imageName?-Ta:na)}if(zr.imageName){var pa=Pe[zr.imageName];mn=pa.sdf,Mn=pa.pixelRatio,En=ks/Mn}var ba=he?[zr.x+oa,zr.y]:[0,0],Na=he?[0,0]:[zr.x+oa+H[0],zr.y+H[1]-kn],Aa=[0,0];Gn&&(Aa=Na,Na=[0,0]);var Ca=(zr.metrics.left-En)*zr.scale-oa+Na[0],Wa=(-zr.metrics.top-En)*zr.scale+Na[1],Oa=Ca+sn.w*zr.scale/Mn,oi=Wa+sn.h*zr.scale/Mn,xi=new r(Ca,Wa),si=new r(Oa,Wa),li=new r(Ca,oi),ti=new r(Oa,oi);if(Gn){var Mi=new r(-oa,oa-cd),Ei=-Math.PI/2,Ui=ko/2-oa,Zi=zr.imageName?Ui:0,Mo=new r(5-cd-Ui,-Zi),fo=new(Function.prototype.bind.apply(r,[null].concat(Aa)));xi._rotateAround(Ei,Mi)._add(Mo)._add(fo),si._rotateAround(Ei,Mi)._add(Mo)._add(fo),li._rotateAround(Ei,Mi)._add(Mo)._add(fo),ti._rotateAround(Ei,Mi)._add(Mo)._add(fo)}if(ut){var Wo=Math.sin(ut),Yo=Math.cos(ut),So=[Yo,-Wo,Wo,Yo];xi._matMult(So),si._matMult(So),li._matMult(So),ti._matMult(So)}var is=new r(0,0),os=new r(0,0),mo=0,ss=0;wt.push({tl:xi,tr:si,bl:li,br:ti,tex:sn,writingMode:D.writingMode,glyphOffset:ba,sectionIndex:zr.sectionIndex,isSDF:mn,pixelOffsetTL:is,pixelOffsetBR:os,minFontScaleX:mo,minFontScaleY:ss})}}return wt}var Rp=function(D,H,re,he,be,Pe,Ke,ut,wt,Ct){if(this.boxStartIndex=D.length,wt){var Wt=Pe.top,nr=Pe.bottom,qt=Pe.collisionPadding;qt&&(Wt-=qt[1],nr+=qt[3]);var mr=nr-Wt;mr>0&&(mr=Math.max(10,mr),this.circleDiameter=mr)}else{var zr=Pe.top*Ke-ut,sn=Pe.bottom*Ke+ut,qr=Pe.left*Ke-ut,En=Pe.right*Ke+ut,mn=Pe.collisionPadding;if(mn&&(qr-=mn[0]*Ke,zr-=mn[1]*Ke,En+=mn[2]*Ke,sn+=mn[3]*Ke),Ct){var Mn=new r(qr,zr),kn=new r(En,zr),Gn=new r(qr,sn),oa=new r(En,sn),na=Ct*Math.PI/180;Mn._rotate(na),kn._rotate(na),Gn._rotate(na),oa._rotate(na),qr=Math.min(Mn.x,kn.x,Gn.x,oa.x),En=Math.max(Mn.x,kn.x,Gn.x,oa.x),zr=Math.min(Mn.y,kn.y,Gn.y,oa.y),sn=Math.max(Mn.y,kn.y,Gn.y,oa.y)}D.emplaceBack(H.x,H.y,qr,zr,En,sn,re,he,be)}this.boxEndIndex=D.length},sv=function(D,H){if(D===void 0&&(D=[]),H===void 0&&(H=k5),this.data=D,this.length=this.data.length,this.compare=H,this.length>0)for(var re=(this.length>>1)-1;re>=0;re--)this._down(re)};sv.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},sv.prototype.pop=function(){if(this.length!==0){var D=this.data[0],H=this.data.pop();return this.length--,this.length>0&&(this.data[0]=H,this._down(0)),D}},sv.prototype.peek=function(){return this.data[0]},sv.prototype._up=function(D){for(var H=this,re=H.data,he=H.compare,be=re[D];D>0;){var Pe=D-1>>1,Ke=re[Pe];if(he(be,Ke)>=0)break;re[D]=Ke,D=Pe}re[D]=be},sv.prototype._down=function(D){for(var H=this,re=H.data,he=H.compare,be=this.length>>1,Pe=re[D];D<be;){var Ke=(D<<1)+1,ut=re[Ke],wt=Ke+1;if(wt<this.length&&he(re[wt],ut)<0&&(Ke=wt,ut=re[wt]),he(ut,Pe)>=0)break;re[D]=ut,D=Ke}re[D]=Pe};function k5(R,D){return R<D?-1:R>D?1:0}function F5(R,D,H){D===void 0&&(D=1),H===void 0&&(H=!1);for(var re=1/0,he=1/0,be=-1/0,Pe=-1/0,Ke=R[0],ut=0;ut<Ke.length;ut++){var wt=Ke[ut];(!ut||wt.x<re)&&(re=wt.x),(!ut||wt.y<he)&&(he=wt.y),(!ut||wt.x>be)&&(be=wt.x),(!ut||wt.y>Pe)&&(Pe=wt.y)}var Ct=be-re,Wt=Pe-he,nr=Math.min(Ct,Wt),qt=nr/2,mr=new sv([],_5);if(nr===0)return new r(re,he);for(var zr=re;zr<be;zr+=nr)for(var sn=he;sn<Pe;sn+=nr)mr.push(new lv(zr+qt,sn+qt,qt,R));for(var qr=O5(R),En=mr.length;mr.length;){var mn=mr.pop();(mn.d>qr.d||!qr.d)&&(qr=mn,H&&console.log("found best %d after %d probes",Math.round(1e4*mn.d)/1e4,En)),!(mn.max-qr.d<=D)&&(qt=mn.h/2,mr.push(new lv(mn.p.x-qt,mn.p.y-qt,qt,R)),mr.push(new lv(mn.p.x+qt,mn.p.y-qt,qt,R)),mr.push(new lv(mn.p.x-qt,mn.p.y+qt,qt,R)),mr.push(new lv(mn.p.x+qt,mn.p.y+qt,qt,R)),En+=4)}return H&&(console.log("num probes: "+En),console.log("best distance: "+qr.d)),qr.p}function _5(R,D){return D.max-R.max}function lv(R,D,H,re){this.p=new r(R,D),this.h=H,this.d=z5(this.p,re),this.max=this.d+this.h*Math.SQRT2}function z5(R,D){for(var H=!1,re=1/0,he=0;he<D.length;he++)for(var be=D[he],Pe=0,Ke=be.length,ut=Ke-1;Pe<Ke;ut=Pe++){var wt=be[Pe],Ct=be[ut];wt.y>R.y!=Ct.y>R.y&&R.x<(Ct.x-wt.x)*(R.y-wt.y)/(Ct.y-wt.y)+wt.x&&(H=!H),re=Math.min(re,Df(R,wt,Ct))}return(H?1:-1)*Math.sqrt(re)}function O5(R){for(var D=0,H=0,re=0,he=R[0],be=0,Pe=he.length,Ke=Pe-1;be<Pe;Ke=be++){var ut=he[be],wt=he[Ke],Ct=ut.x*wt.y-wt.x*ut.y;H+=(ut.x+wt.x)*Ct,re+=(ut.y+wt.y)*Ct,D+=Ct*3}return new lv(H/D,re/D,0,R)}var uv=7,Dg=Number.POSITIVE_INFINITY;function tx(R,D){function H(he,be){var Pe=0,Ke=0;be<0&&(be=0);var ut=be/Math.sqrt(2);switch(he){case"top-right":case"top-left":Ke=ut-uv;break;case"bottom-right":case"bottom-left":Ke=-ut+uv;break;case"bottom":Ke=-be+uv;break;case"top":Ke=be-uv;break}switch(he){case"top-right":case"bottom-right":Pe=-ut;break;case"top-left":case"bottom-left":Pe=ut;break;case"left":Pe=be;break;case"right":Pe=-be;break}return[Pe,Ke]}function re(he,be,Pe){var Ke=0,ut=0;switch(be=Math.abs(be),Pe=Math.abs(Pe),he){case"top-right":case"top-left":case"top":ut=Pe-uv;break;case"bottom-right":case"bottom-left":case"bottom":ut=-Pe+uv;break}switch(he){case"top-right":case"bottom-right":case"right":Ke=-be;break;case"top-left":case"bottom-left":case"left":Ke=be;break}return[Ke,ut]}return D[1]!==Dg?re(R,D[0],D[1]):H(R,D[0])}function B5(R,D,H,re,he,be,Pe){R.createArrays();var Ke=512*R.overscaling;R.tilePixelRatio=Sa/Ke,R.compareText={},R.iconsNeedLinear=!1;var ut=R.layers[0].layout,wt=R.layers[0]._unevaluatedLayout._values,Ct={};if(R.textSizeData.kind==="composite"){var Wt=R.textSizeData,nr=Wt.minZoom,qt=Wt.maxZoom;Ct.compositeTextSizes=[wt["text-size"].possiblyEvaluate(new Ma(nr),Pe),wt["text-size"].possiblyEvaluate(new Ma(qt),Pe)]}if(R.iconSizeData.kind==="composite"){var mr=R.iconSizeData,zr=mr.minZoom,sn=mr.maxZoom;Ct.compositeIconSizes=[wt["icon-size"].possiblyEvaluate(new Ma(zr),Pe),wt["icon-size"].possiblyEvaluate(new Ma(sn),Pe)]}Ct.layoutTextSize=wt["text-size"].possiblyEvaluate(new Ma(R.zoom+1),Pe),Ct.layoutIconSize=wt["icon-size"].possiblyEvaluate(new Ma(R.zoom+1),Pe),Ct.textMaxSize=wt["text-size"].possiblyEvaluate(new Ma(18));for(var qr=ut.get("text-line-height")*ko,En=ut.get("text-rotation-alignment")==="map"&&ut.get("symbol-placement")!=="point",mn=ut.get("text-keep-upright"),Mn=ut.get("text-size"),kn=function(){var na=oa[Gn],Ta=ut.get("text-font").evaluate(na,{},Pe).join(","),pa=Mn.evaluate(na,{},Pe),ba=Ct.layoutTextSize.evaluate(na,{},Pe),Na=Ct.layoutIconSize.evaluate(na,{},Pe),Aa={horizontal:{},vertical:void 0},Ca=na.text,Wa=[0,0];if(Ca){var Oa=Ca.toString(),oi=ut.get("text-letter-spacing").evaluate(na,{},Pe)*ko,xi=Cr(Oa)?oi:0,si=ut.get("text-anchor").evaluate(na,{},Pe),li=ut.get("text-variable-anchor");if(!li){var ti=ut.get("text-radial-offset").evaluate(na,{},Pe);ti?Wa=tx(si,[ti*ko,Dg]):Wa=ut.get("text-offset").evaluate(na,{},Pe).map(function(_f){return _f*ko})}var Mi=En?"center":ut.get("text-justify").evaluate(na,{},Pe),Ei=ut.get("symbol-placement"),Ui=Ei==="point"?ut.get("text-max-width").evaluate(na,{},Pe)*ko:0,Zi=function(){R.allowVerticalPlacement&&tr(Oa)&&(Aa.vertical=Ep(Ca,D,H,he,Ta,Ui,qr,si,"left",xi,Wa,Qs.vertical,!0,Ei,ba,pa))};if(!En&&li){for(var Mo=Mi==="auto"?li.map(function(_f){return Ig(_f)}):[Mi],fo=!1,Wo=0;Wo<Mo.length;Wo++){var Yo=Mo[Wo];if(!Aa.horizontal[Yo])if(fo)Aa.horizontal[Yo]=Aa.horizontal[0];else{var So=Ep(Ca,D,H,he,Ta,Ui,qr,"center",Yo,xi,Wa,Qs.horizontal,!1,Ei,ba,pa);So&&(Aa.horizontal[Yo]=So,fo=So.positionedLines.length===1)}}Zi()}else{Mi==="auto"&&(Mi=Ig(si));var is=Ep(Ca,D,H,he,Ta,Ui,qr,si,Mi,xi,Wa,Qs.horizontal,!1,Ei,ba,pa);is&&(Aa.horizontal[Mi]=is),Zi(),tr(Oa)&&En&&mn&&(Aa.vertical=Ep(Ca,D,H,he,Ta,Ui,qr,si,Mi,xi,Wa,Qs.vertical,!1,Ei,ba,pa))}}var os=void 0,mo=!1;if(na.icon&&na.icon.name){var ss=re[na.icon.name];ss&&(os=L5(he[na.icon.name],ut.get("icon-offset").evaluate(na,{},Pe),ut.get("icon-anchor").evaluate(na,{},Pe)),mo=ss.sdf,R.sdfIcons===void 0?R.sdfIcons=ss.sdf:R.sdfIcons!==ss.sdf&&O("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ss.pixelRatio!==R.pixelRatio||ut.get("icon-rotate").constantOr(1)!==0)&&(R.iconsNeedLinear=!0))}var $s=nx(Aa.horizontal)||Aa.vertical;R.iconsInText=$s?$s.iconsInText:!1,($s||os)&&N5(R,na,Aa,os,re,Ct,ba,Na,Wa,mo,Pe)},Gn=0,oa=R.features;Gn<oa.length;Gn+=1)kn();be&&R.generateCollisionDebugBuffers()}function Ig(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function N5(R,D,H,re,he,be,Pe,Ke,ut,wt,Ct){var Wt=be.textMaxSize.evaluate(D,{});Wt===void 0&&(Wt=Pe);var nr=R.layers[0].layout,qt=nr.get("icon-offset").evaluate(D,{},Ct),mr=nx(H.horizontal),zr=24,sn=Pe/zr,qr=R.tilePixelRatio*sn,En=R.tilePixelRatio*Wt/zr,mn=R.tilePixelRatio*Ke,Mn=R.tilePixelRatio*nr.get("symbol-spacing"),kn=nr.get("text-padding")*R.tilePixelRatio,Gn=nr.get("icon-padding")*R.tilePixelRatio,oa=nr.get("text-max-angle")/180*Math.PI,na=nr.get("text-rotation-alignment")==="map"&&nr.get("symbol-placement")!=="point",Ta=nr.get("icon-rotation-alignment")==="map"&&nr.get("symbol-placement")!=="point",pa=nr.get("symbol-placement"),ba=Mn/2,Na=nr.get("icon-text-fit"),Aa;re&&Na!=="none"&&(R.allowVerticalPlacement&&H.vertical&&(Aa=Wm(re,H.vertical,Na,nr.get("icon-text-fit-padding"),qt,sn)),mr&&(re=Wm(re,mr,Na,nr.get("icon-text-fit-padding"),qt,sn)));var Ca=function(dv,Xl){Xl.x<0||Xl.x>=Sa||Xl.y<0||Xl.y>=Sa||U5(R,Xl,dv,H,re,he,Aa,R.layers[0],R.collisionBoxArray,D.index,D.sourceLayerIndex,R.index,qr,kn,na,ut,mn,Gn,Ta,qt,D,be,wt,Ct,Pe)};if(pa==="line")for(var Wa=0,Oa=$m(D.geometry,0,0,Sa,Sa);Wa<Oa.length;Wa+=1)for(var oi=Oa[Wa],xi=D5(oi,Mn,oa,H.vertical||mr,re,zr,En,R.overscaling,Sa),si=0,li=xi;si<li.length;si+=1){var ti=li[si],Mi=mr;(!Mi||!H5(R,Mi.text,ba,ti))&&Ca(oi,ti)}else if(pa==="line-center")for(var Ei=0,Ui=D.geometry;Ei<Ui.length;Ei+=1){var Zi=Ui[Ei];if(Zi.length>1){var Mo=R5(Zi,oa,H.vertical||mr,re,zr,En);Mo&&Ca(Zi,Mo)}}else if(D.type==="Polygon")for(var fo=0,Wo=Tg(D.geometry,0);fo<Wo.length;fo+=1){var Yo=Wo[fo],So=F5(Yo,16);Ca(Yo[0],new iv(So.x,So.y,0))}else if(D.type==="LineString")for(var is=0,os=D.geometry;is<os.length;is+=1){var mo=os[is];Ca(mo,new iv(mo[0].x,mo[0].y,0))}else if(D.type==="Point")for(var ss=0,$s=D.geometry;ss<$s.length;ss+=1)for(var _f=$s[ss],Cc=0,Lc=_f;Cc<Lc.length;Cc+=1){var Pc=Lc[Cc];Ca([Pc],new iv(Pc.x,Pc.y,0))}}var hd=255,Sc=hd*Cu;function rx(R,D,H,re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr){var zr=I5(D,H,Ke,he,be,Pe,re,R.allowVerticalPlacement),sn=R.textSizeData,qr=null;sn.kind==="source"?(qr=[Cu*he.layout.get("text-size").evaluate(Pe,{})],qr[0]>Sc&&O(R.layerIds[0]+': Value for "text-size" is >= '+hd+'. Reduce your "text-size".')):sn.kind==="composite"&&(qr=[Cu*qt.compositeTextSizes[0].evaluate(Pe,{},mr),Cu*qt.compositeTextSizes[1].evaluate(Pe,{},mr)],(qr[0]>Sc||qr[1]>Sc)&&O(R.layerIds[0]+': Value for "text-size" is >= '+hd+'. Reduce your "text-size".')),R.addSymbols(R.text,zr,qr,Ke,be,Pe,wt,D,ut.lineStartIndex,ut.lineLength,nr,mr);for(var En=0,mn=Ct;En<mn.length;En+=1){var Mn=mn[En];Wt[Mn]=R.text.placedSymbolArray.length-1}return zr.length*4}function nx(R){for(var D in R)return R[D];return null}function U5(R,D,H,re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr,qt,mr,zr,sn,qr,En,mn,Mn,kn,Gn,oa,na){var Ta,pa=R.addToLineVertexArray(D,H),ba,Na,Aa,Ca,Wa=0,Oa=0,oi=0,xi=0,si=-1,li=-1,ti={},Mi=de(""),Ei=0,Ui=0;if(Ke._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ta=Ke.layout.get("text-offset").evaluate(Mn,{},oa).map(function(pd){return pd*ko}),Ei=Ta[0],Ui=Ta[1]):(Ei=Ke.layout.get("text-radial-offset").evaluate(Mn,{},oa)*ko,Ui=Dg),R.allowVerticalPlacement&&re.vertical){var Zi=Ke.layout.get("text-rotate").evaluate(Mn,{},oa),Mo=Zi+90,fo=re.vertical;Aa=new Rp(ut,D,wt,Ct,Wt,fo,nr,qt,mr,Mo),Pe&&(Ca=new Rp(ut,D,wt,Ct,Wt,Pe,sn,qr,mr,Mo))}if(he){var Wo=Ke.layout.get("icon-rotate").evaluate(Mn,{}),Yo=Ke.layout.get("icon-text-fit")!=="none",So=qm(he,Wo,Gn,Yo),is=Pe?qm(Pe,Wo,Gn,Yo):void 0;Na=new Rp(ut,D,wt,Ct,Wt,he,sn,qr,!1,Wo),Wa=So.length*4;var os=R.iconSizeData,mo=null;os.kind==="source"?(mo=[Cu*Ke.layout.get("icon-size").evaluate(Mn,{})],mo[0]>Sc&&O(R.layerIds[0]+': Value for "icon-size" is >= '+hd+'. Reduce your "icon-size".')):os.kind==="composite"&&(mo=[Cu*kn.compositeIconSizes[0].evaluate(Mn,{},oa),Cu*kn.compositeIconSizes[1].evaluate(Mn,{},oa)],(mo[0]>Sc||mo[1]>Sc)&&O(R.layerIds[0]+': Value for "icon-size" is >= '+hd+'. Reduce your "icon-size".')),R.addSymbols(R.icon,So,mo,mn,En,Mn,!1,D,pa.lineStartIndex,pa.lineLength,-1,oa),si=R.icon.placedSymbolArray.length-1,is&&(Oa=is.length*4,R.addSymbols(R.icon,is,mo,mn,En,Mn,Qs.vertical,D,pa.lineStartIndex,pa.lineLength,-1,oa),li=R.icon.placedSymbolArray.length-1)}for(var ss in re.horizontal){var $s=re.horizontal[ss];if(!ba){Mi=de($s.text);var _f=Ke.layout.get("text-rotate").evaluate(Mn,{},oa);ba=new Rp(ut,D,wt,Ct,Wt,$s,nr,qt,mr,_f)}var Cc=$s.positionedLines.length===1;if(oi+=rx(R,D,$s,be,Ke,mr,Mn,zr,pa,re.vertical?Qs.horizontal:Qs.horizontalOnly,Cc?Object.keys(re.horizontal):[ss],ti,si,kn,oa),Cc)break}re.vertical&&(xi+=rx(R,D,re.vertical,be,Ke,mr,Mn,zr,pa,Qs.vertical,["vertical"],ti,li,kn,oa));var Lc=ba?ba.boxStartIndex:R.collisionBoxArray.length,Pc=ba?ba.boxEndIndex:R.collisionBoxArray.length,dv=Aa?Aa.boxStartIndex:R.collisionBoxArray.length,Xl=Aa?Aa.boxEndIndex:R.collisionBoxArray.length,_p=Na?Na.boxStartIndex:R.collisionBoxArray.length,Bg=Na?Na.boxEndIndex:R.collisionBoxArray.length,zp=Ca?Ca.boxStartIndex:R.collisionBoxArray.length,Ng=Ca?Ca.boxEndIndex:R.collisionBoxArray.length,ml=-1,pv=function(pd,xx){return pd&&pd.circleDiameter?Math.max(pd.circleDiameter,xx):xx};ml=pv(ba,ml),ml=pv(Aa,ml),ml=pv(Na,ml),ml=pv(Ca,ml);var Op=ml>-1?1:0;Op&&(ml*=na/ko),R.glyphOffsetArray.length>=mi.MAX_GLYPHS&&O("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mn.sortKey!==void 0&&R.addToSortKeyRanges(R.symbolInstances.length,Mn.sortKey),R.symbolInstances.emplaceBack(D.x,D.y,ti.right>=0?ti.right:-1,ti.center>=0?ti.center:-1,ti.left>=0?ti.left:-1,ti.vertical||-1,si,li,Mi,Lc,Pc,dv,Xl,_p,Bg,zp,Ng,wt,oi,xi,Wa,Oa,Op,0,nr,Ei,Ui,ml)}function H5(R,D,H,re){var he=R.compareText;if(!(D in he))he[D]=[];else for(var be=he[D],Pe=be.length-1;Pe>=0;Pe--)if(re.dist(be[Pe])<H)return!0;return he[D].push(re),!1}var V5=tv.VectorTileFeature.types,G5=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Dp(R,D,H,re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr){var qt=Ke?Math.min(Sc,Math.round(Ke[0])):0,mr=Ke?Math.min(Sc,Math.round(Ke[1])):0;R.emplaceBack(D,H,Math.round(re*32),Math.round(he*32),be,Pe,(qt<<1)+(ut?1:0),mr,wt*16,Ct*16,Wt*256,nr*256)}function kg(R,D,H){R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H),R.emplaceBack(D.x,D.y,H)}function W5(R){for(var D=0,H=R.sections;D<H.length;D+=1){var re=H[D];if($r(re.text))return!0}return!1}var fv=function(D){this.layoutVertexArray=new qu,this.indexArray=new Au,this.programConfigurations=D,this.segments=new oo,this.dynamicLayoutVertexArray=new Kv,this.opacityVertexArray=new Jv,this.placedSymbolArray=new qv};fv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},fv.prototype.upload=function(D,H,re,he){this.isEmpty()||(re&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,WT.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,H),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,YT.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,G5,!0),this.opacityVertexBuffer.itemSize=1),(re||he)&&this.programConfigurations.upload(D))},fv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ze("SymbolBuffers",fv);var vd=function(D,H,re){this.layoutVertexArray=new D,this.layoutAttributes=H,this.indexArray=new re,this.segments=new oo,this.collisionVertexArray=new gs};vd.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,ZT.members,!0)},vd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ze("CollisionBuffers",vd);var mi=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(ut){return ut.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Jh([]),this.placementViewportMatrix=Jh([]);var H=this.layers[0],re=H._unevaluatedLayout._values;this.textSizeData=Rg(this.zoom,re["text-size"]),this.iconSizeData=Rg(this.zoom,re["icon-size"]);var he=this.layers[0].layout,be=he.get("symbol-sort-key"),Pe=he.get("symbol-z-order");this.canOverlap=he.get("text-allow-overlap")||he.get("icon-allow-overlap")||he.get("text-ignore-placement")||he.get("icon-ignore-placement"),this.sortFeaturesByKey=Pe!=="viewport-y"&&be.constantOr(1)!==void 0;var Ke=Pe==="viewport-y"||Pe==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ke&&this.canOverlap,he.get("symbol-placement")==="point"&&(this.writingModes=he.get("text-writing-mode").map(function(ut){return Qs[ut]})),this.stateDependentLayerIds=this.layers.filter(function(ut){return ut.isStateDependent()}).map(function(ut){return ut.id}),this.sourceID=D.sourceID};mi.prototype.createArrays=function(){this.text=new fv(new da(this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new fv(new da(this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new vp,this.lineVertexArray=new vl,this.symbolInstances=new hp},mi.prototype.calculateGlyphDependencies=function(D,H,re,he,be){for(var Pe=0;Pe<D.length;Pe++)if(H[D.charCodeAt(Pe)]=!0,(re||he)&&be){var Ke=ld[D.charAt(Pe)];Ke&&(H[Ke.charCodeAt(0)]=!0)}},mi.prototype.populate=function(D,H,re){var he=this.layers[0],be=he.layout,Pe=be.get("text-font"),Ke=be.get("text-field"),ut=be.get("icon-image"),wt=(Ke.value.kind!=="constant"||Ke.value.value instanceof Ki&&!Ke.value.value.isEmpty()||Ke.value.value.toString().length>0)&&(Pe.value.kind!=="constant"||Pe.value.value.length>0),Ct=ut.value.kind!=="constant"||!!ut.value.value||Object.keys(ut.parameters).length>0,Wt=be.get("symbol-sort-key");if(this.features=[],!(!wt&&!Ct)){for(var nr=H.iconDependencies,qt=H.glyphDependencies,mr=H.availableImages,zr=new Ma(this.zoom),sn=0,qr=D;sn<qr.length;sn+=1){var En=qr[sn],mn=En.feature,Mn=En.id,kn=En.index,Gn=En.sourceLayerIndex,oa=he._featureFilter.needGeometry,na=Ai(mn,oa);if(he._featureFilter.filter(zr,na,re)){oa||(na.geometry=ei(mn));var Ta=void 0;if(wt){var pa=he.getValueAndResolveTokens("text-field",na,re,mr),ba=Ki.factory(pa);W5(ba)&&(this.hasRTLText=!0),(!this.hasRTLText||Fa()==="unavailable"||this.hasRTLText&&qn.isParsed())&&(Ta=KT(ba,he,na))}var Na=void 0;if(Ct){var Aa=he.getValueAndResolveTokens("icon-image",na,re,mr);Aa instanceof bo?Na=Aa:Na=bo.fromString(Aa)}if(!(!Ta&&!Na)){var Ca=this.sortFeaturesByKey?Wt.evaluate(na,{},re):void 0,Wa={id:Mn,text:Ta,icon:Na,index:kn,sourceLayerIndex:Gn,geometry:na.geometry,properties:mn.properties,type:V5[mn.type],sortKey:Ca};if(this.features.push(Wa),Na&&(nr[Na.name]=!0),Ta){var Oa=Pe.evaluate(na,{},re).join(","),oi=be.get("text-rotation-alignment")==="map"&&be.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Qs.vertical)>=0;for(var xi=0,si=Ta.sections;xi<si.length;xi+=1){var li=si[xi];if(li.image)nr[li.image.name]=!0;else{var ti=tr(Ta.toString()),Mi=li.fontStack||Oa,Ei=qt[Mi]=qt[Mi]||{};this.calculateGlyphDependencies(li.text,Ei,oi,this.allowVerticalPlacement,ti)}}}}}}be.get("symbol-placement")==="line"&&(this.features=JT(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Ui,Zi){return Ui.sortKey-Zi.sortKey})}},mi.prototype.update=function(D,H,re){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,H,this.layers,re),this.icon.programConfigurations.updatePaintArrays(D,H,this.layers,re))},mi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},mi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},mi.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},mi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},mi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},mi.prototype.addToLineVertexArray=function(D,H){var re=this.lineVertexArray.length;if(D.segment!==void 0){for(var he=D.dist(H[D.segment+1]),be=D.dist(H[D.segment]),Pe={},Ke=D.segment+1;Ke<H.length;Ke++)Pe[Ke]={x:H[Ke].x,y:H[Ke].y,tileUnitDistanceFromAnchor:he},Ke<H.length-1&&(he+=H[Ke+1].dist(H[Ke]));for(var ut=D.segment||0;ut>=0;ut--)Pe[ut]={x:H[ut].x,y:H[ut].y,tileUnitDistanceFromAnchor:be},ut>0&&(be+=H[ut-1].dist(H[ut]));for(var wt=0;wt<H.length;wt++){var Ct=Pe[wt];this.lineVertexArray.emplaceBack(Ct.x,Ct.y,Ct.tileUnitDistanceFromAnchor)}}return{lineStartIndex:re,lineLength:this.lineVertexArray.length-re}},mi.prototype.addSymbols=function(D,H,re,he,be,Pe,Ke,ut,wt,Ct,Wt,nr){for(var qt=D.indexArray,mr=D.layoutVertexArray,zr=D.segments.prepareSegment(4*H.length,mr,qt,this.canOverlap?Pe.sortKey:void 0),sn=this.glyphOffsetArray.length,qr=zr.vertexLength,En=this.allowVerticalPlacement&&Ke===Qs.vertical?Math.PI/2:0,mn=Pe.text&&Pe.text.sections,Mn=0;Mn<H.length;Mn++){var kn=H[Mn],Gn=kn.tl,oa=kn.tr,na=kn.bl,Ta=kn.br,pa=kn.tex,ba=kn.pixelOffsetTL,Na=kn.pixelOffsetBR,Aa=kn.minFontScaleX,Ca=kn.minFontScaleY,Wa=kn.glyphOffset,Oa=kn.isSDF,oi=kn.sectionIndex,xi=zr.vertexLength,si=Wa[1];Dp(mr,ut.x,ut.y,Gn.x,si+Gn.y,pa.x,pa.y,re,Oa,ba.x,ba.y,Aa,Ca),Dp(mr,ut.x,ut.y,oa.x,si+oa.y,pa.x+pa.w,pa.y,re,Oa,Na.x,ba.y,Aa,Ca),Dp(mr,ut.x,ut.y,na.x,si+na.y,pa.x,pa.y+pa.h,re,Oa,ba.x,Na.y,Aa,Ca),Dp(mr,ut.x,ut.y,Ta.x,si+Ta.y,pa.x+pa.w,pa.y+pa.h,re,Oa,Na.x,Na.y,Aa,Ca),kg(D.dynamicLayoutVertexArray,ut,En),qt.emplaceBack(xi,xi+1,xi+2),qt.emplaceBack(xi+1,xi+2,xi+3),zr.vertexLength+=4,zr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Wa[0]),(Mn===H.length-1||oi!==H[Mn+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(mr.length,Pe,Pe.index,{},nr,mn&&mn[oi])}D.placedSymbolArray.emplaceBack(ut.x,ut.y,sn,this.glyphOffsetArray.length-sn,qr,wt,Ct,ut.segment,re?re[0]:0,re?re[1]:0,he[0],he[1],Ke,0,!1,0,Wt)},mi.prototype._addCollisionDebugVertex=function(D,H,re,he,be,Pe){return H.emplaceBack(0,0),D.emplaceBack(re.x,re.y,he,be,Math.round(Pe.x),Math.round(Pe.y))},mi.prototype.addCollisionDebugVertices=function(D,H,re,he,be,Pe,Ke){var ut=be.segments.prepareSegment(4,be.layoutVertexArray,be.indexArray),wt=ut.vertexLength,Ct=be.layoutVertexArray,Wt=be.collisionVertexArray,nr=Ke.anchorX,qt=Ke.anchorY;this._addCollisionDebugVertex(Ct,Wt,Pe,nr,qt,new r(D,H)),this._addCollisionDebugVertex(Ct,Wt,Pe,nr,qt,new r(re,H)),this._addCollisionDebugVertex(Ct,Wt,Pe,nr,qt,new r(re,he)),this._addCollisionDebugVertex(Ct,Wt,Pe,nr,qt,new r(D,he)),ut.vertexLength+=4;var mr=be.indexArray;mr.emplaceBack(wt,wt+1),mr.emplaceBack(wt+1,wt+2),mr.emplaceBack(wt+2,wt+3),mr.emplaceBack(wt+3,wt),ut.primitiveLength+=4},mi.prototype.addDebugCollisionBoxes=function(D,H,re,he){for(var be=D;be<H;be++){var Pe=this.collisionBoxArray.get(be),Ke=Pe.x1,ut=Pe.y1,wt=Pe.x2,Ct=Pe.y2;this.addCollisionDebugVertices(Ke,ut,wt,Ct,he?this.textCollisionBox:this.iconCollisionBox,Pe.anchorPoint,re)}},mi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new vd(Wh,Dm.members,bh),this.iconCollisionBox=new vd(Wh,Dm.members,bh);for(var D=0;D<this.symbolInstances.length;D++){var H=this.symbolInstances.get(D);this.addDebugCollisionBoxes(H.textBoxStartIndex,H.textBoxEndIndex,H,!0),this.addDebugCollisionBoxes(H.verticalTextBoxStartIndex,H.verticalTextBoxEndIndex,H,!0),this.addDebugCollisionBoxes(H.iconBoxStartIndex,H.iconBoxEndIndex,H,!1),this.addDebugCollisionBoxes(H.verticalIconBoxStartIndex,H.verticalIconBoxEndIndex,H,!1)}},mi.prototype._deserializeCollisionBoxesForSymbol=function(D,H,re,he,be,Pe,Ke,ut,wt){for(var Ct={},Wt=H;Wt<re;Wt++){var nr=D.get(Wt);Ct.textBox={x1:nr.x1,y1:nr.y1,x2:nr.x2,y2:nr.y2,anchorPointX:nr.anchorPointX,anchorPointY:nr.anchorPointY},Ct.textFeatureIndex=nr.featureIndex;break}for(var qt=he;qt<be;qt++){var mr=D.get(qt);Ct.verticalTextBox={x1:mr.x1,y1:mr.y1,x2:mr.x2,y2:mr.y2,anchorPointX:mr.anchorPointX,anchorPointY:mr.anchorPointY},Ct.verticalTextFeatureIndex=mr.featureIndex;break}for(var zr=Pe;zr<Ke;zr++){var sn=D.get(zr);Ct.iconBox={x1:sn.x1,y1:sn.y1,x2:sn.x2,y2:sn.y2,anchorPointX:sn.anchorPointX,anchorPointY:sn.anchorPointY},Ct.iconFeatureIndex=sn.featureIndex;break}for(var qr=ut;qr<wt;qr++){var En=D.get(qr);Ct.verticalIconBox={x1:En.x1,y1:En.y1,x2:En.x2,y2:En.y2,anchorPointX:En.anchorPointX,anchorPointY:En.anchorPointY},Ct.verticalIconFeatureIndex=En.featureIndex;break}return Ct},mi.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var H=0;H<this.symbolInstances.length;H++){var re=this.symbolInstances.get(H);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,re.textBoxStartIndex,re.textBoxEndIndex,re.verticalTextBoxStartIndex,re.verticalTextBoxEndIndex,re.iconBoxStartIndex,re.iconBoxEndIndex,re.verticalIconBoxStartIndex,re.verticalIconBoxEndIndex))}},mi.prototype.hasTextData=function(){return this.text.segments.get().length>0},mi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},mi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},mi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},mi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},mi.prototype.addIndicesForPlacedSymbol=function(D,H){for(var re=D.placedSymbolArray.get(H),he=re.vertexStartIndex+re.numGlyphs*4,be=re.vertexStartIndex;be<he;be+=4)D.indexArray.emplaceBack(be,be+1,be+2),D.indexArray.emplaceBack(be+1,be+2,be+3)},mi.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var H=Math.sin(D),re=Math.cos(D),he=[],be=[],Pe=[],Ke=0;Ke<this.symbolInstances.length;++Ke){Pe.push(Ke);var ut=this.symbolInstances.get(Ke);he.push(Math.round(H*ut.anchorX+re*ut.anchorY)|0),be.push(ut.featureIndex)}return Pe.sort(function(wt,Ct){return he[wt]-he[Ct]||be[Ct]-be[wt]}),Pe},mi.prototype.addToSortKeyRanges=function(D,H){var re=this.sortKeyRanges[this.sortKeyRanges.length-1];re&&re.sortKey===H?re.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:H,symbolInstanceStart:D,symbolInstanceEnd:D+1})},mi.prototype.sortFeatures=function(D){var H=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var re=0,he=this.symbolInstanceIndexes;re<he.length;re+=1){var be=he[re],Pe=this.symbolInstances.get(be);this.featureSortOrder.push(Pe.featureIndex),[Pe.rightJustifiedTextSymbolIndex,Pe.centerJustifiedTextSymbolIndex,Pe.leftJustifiedTextSymbolIndex].forEach(function(Ke,ut,wt){Ke>=0&&wt.indexOf(Ke)===ut&&H.addIndicesForPlacedSymbol(H.text,Ke)}),Pe.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Pe.verticalPlacedTextSymbolIndex),Pe.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.placedIconSymbolIndex),Pe.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ze("SymbolBucket",mi,{omit:["layers","collisionBoxArray","features","compareText"]}),mi.MAX_GLYPHS=65535,mi.addDynamicAttributes=kg;function Y5(R,D){return D.replace(/{([^{}]+)}/g,function(H,re){return re in R?String(R[re]):""})}var Z5=new fi({"symbol-placement":new fa(br.layout_symbol["symbol-placement"]),"symbol-spacing":new fa(br.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new fa(br.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new La(br.layout_symbol["symbol-sort-key"]),"symbol-z-order":new fa(br.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new fa(br.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new fa(br.layout_symbol["icon-ignore-placement"]),"icon-optional":new fa(br.layout_symbol["icon-optional"]),"icon-rotation-alignment":new fa(br.layout_symbol["icon-rotation-alignment"]),"icon-size":new La(br.layout_symbol["icon-size"]),"icon-text-fit":new fa(br.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new fa(br.layout_symbol["icon-text-fit-padding"]),"icon-image":new La(br.layout_symbol["icon-image"]),"icon-rotate":new La(br.layout_symbol["icon-rotate"]),"icon-padding":new fa(br.layout_symbol["icon-padding"]),"icon-keep-upright":new fa(br.layout_symbol["icon-keep-upright"]),"icon-offset":new La(br.layout_symbol["icon-offset"]),"icon-anchor":new La(br.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new fa(br.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new fa(br.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new fa(br.layout_symbol["text-rotation-alignment"]),"text-field":new La(br.layout_symbol["text-field"]),"text-font":new La(br.layout_symbol["text-font"]),"text-size":new La(br.layout_symbol["text-size"]),"text-max-width":new La(br.layout_symbol["text-max-width"]),"text-line-height":new fa(br.layout_symbol["text-line-height"]),"text-letter-spacing":new La(br.layout_symbol["text-letter-spacing"]),"text-justify":new La(br.layout_symbol["text-justify"]),"text-radial-offset":new La(br.layout_symbol["text-radial-offset"]),"text-variable-anchor":new fa(br.layout_symbol["text-variable-anchor"]),"text-anchor":new La(br.layout_symbol["text-anchor"]),"text-max-angle":new fa(br.layout_symbol["text-max-angle"]),"text-writing-mode":new fa(br.layout_symbol["text-writing-mode"]),"text-rotate":new La(br.layout_symbol["text-rotate"]),"text-padding":new fa(br.layout_symbol["text-padding"]),"text-keep-upright":new fa(br.layout_symbol["text-keep-upright"]),"text-transform":new La(br.layout_symbol["text-transform"]),"text-offset":new La(br.layout_symbol["text-offset"]),"text-allow-overlap":new fa(br.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new fa(br.layout_symbol["text-ignore-placement"]),"text-optional":new fa(br.layout_symbol["text-optional"])}),j5=new fi({"icon-opacity":new La(br.paint_symbol["icon-opacity"]),"icon-color":new La(br.paint_symbol["icon-color"]),"icon-halo-color":new La(br.paint_symbol["icon-halo-color"]),"icon-halo-width":new La(br.paint_symbol["icon-halo-width"]),"icon-halo-blur":new La(br.paint_symbol["icon-halo-blur"]),"icon-translate":new fa(br.paint_symbol["icon-translate"]),"icon-translate-anchor":new fa(br.paint_symbol["icon-translate-anchor"]),"text-opacity":new La(br.paint_symbol["text-opacity"]),"text-color":new La(br.paint_symbol["text-color"],{runtimeType:In,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new La(br.paint_symbol["text-halo-color"]),"text-halo-width":new La(br.paint_symbol["text-halo-width"]),"text-halo-blur":new La(br.paint_symbol["text-halo-blur"]),"text-translate":new fa(br.paint_symbol["text-translate"]),"text-translate-anchor":new fa(br.paint_symbol["text-translate-anchor"])}),Fg={paint:j5,layout:Z5},cv=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Gr,this.defaultValue=D};cv.prototype.evaluate=function(D){if(D.formattedSection){var H=this.defaultValue.property.overrides;if(H&&H.hasOverride(D.formattedSection))return H.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},cv.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var H=this.defaultValue.value;D(H._styleExpression.expression)}},cv.prototype.outputDefined=function(){return!1},cv.prototype.serialize=function(){return null},ze("FormatSectionOverride",cv,{omit:["defaultValue"]});var X5=function(R){function D(H){R.call(this,H,Fg)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(re,he){if(R.prototype.recalculate.call(this,re,he),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var be=this.layout.get("text-writing-mode");if(be){for(var Pe=[],Ke=0,ut=be;Ke<ut.length;Ke+=1){var wt=ut[Ke];Pe.indexOf(wt)<0&&Pe.push(wt)}this.layout._values["text-writing-mode"]=Pe}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(re,he,be,Pe){var Ke=this.layout.get(re).evaluate(he,{},be,Pe),ut=this._unevaluatedLayout._values[re];return!ut.isDataDriven()&&!du(ut.value)&&Ke?Y5(he.properties,Ke):Ke},D.prototype.createBucket=function(re){return new mi(re)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var re=0,he=Fg.paint.overridableProperties;re<he.length;re+=1){var be=he[re];if(D.hasPaintOverride(this.layout,be)){var Pe=this.paint.get(be),Ke=new cv(Pe),ut=new Ys(Ke,Pe.property.specification),wt=null;Pe.value.kind==="constant"||Pe.value.kind==="source"?wt=new Gi("source",ut):wt=new ds("composite",ut,Pe.value.zoomStops,Pe.value._interpolationType),this.paint._values[be]=new wi(Pe.property,wt,Pe.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(re,he,be){return!this.layout||he.isDataDriven()||be.isDataDriven()?!1:D.hasPaintOverride(this.layout,re)},D.hasPaintOverride=function(re,he){var be=re.get("text-field"),Pe=Fg.paint.properties[he],Ke=!1,ut=function(Wt){for(var nr=0,qt=Wt;nr<qt.length;nr+=1){var mr=qt[nr];if(Pe.overrides&&Pe.overrides.hasOverride(mr)){Ke=!0;return}}};if(be.value.kind==="constant"&&be.value.value instanceof Ki)ut(be.value.value.sections);else if(be.value.kind==="source"){var wt=function(Wt){if(!Ke)if(Wt instanceof _i&&Ii(Wt.value)===ga){var nr=Wt.value;ut(nr.sections)}else Wt instanceof no?ut(Wt.sections):Wt.eachChild(wt)},Ct=be.value;Ct._styleExpression&&wt(Ct._styleExpression.expression)}return Ke},D}(Bi),K5=new fi({"background-color":new fa(br.paint_background["background-color"]),"background-pattern":new Bo(br.paint_background["background-pattern"]),"background-opacity":new fa(br.paint_background["background-opacity"])}),J5={paint:K5},Q5=function(R){function D(H){R.call(this,H,J5)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Bi),$5=new fi({"raster-opacity":new fa(br.paint_raster["raster-opacity"]),"raster-hue-rotate":new fa(br.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new fa(br.paint_raster["raster-brightness-min"]),"raster-brightness-max":new fa(br.paint_raster["raster-brightness-max"]),"raster-saturation":new fa(br.paint_raster["raster-saturation"]),"raster-contrast":new fa(br.paint_raster["raster-contrast"]),"raster-resampling":new fa(br.paint_raster["raster-resampling"]),"raster-fade-duration":new fa(br.paint_raster["raster-fade-duration"])}),q5={paint:$5},eA=function(R){function D(H){R.call(this,H,q5)}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D}(Bi);function tA(R){var D=[],H=R.id;return H===void 0&&D.push({message:"layers."+H+': missing required property "id"'}),R.render===void 0&&D.push({message:"layers."+H+': missing required method "render"'}),R.renderingMode&&R.renderingMode!=="2d"&&R.renderingMode!=="3d"&&D.push({message:"layers."+H+': property "renderingMode" must be either "2d" or "3d"'}),D}var rA=function(R){function D(H){R.call(this,H,{}),this.implementation=H}return R&&(D.__proto__=R),D.prototype=Object.create(R&&R.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(re){this.implementation.onAdd&&this.implementation.onAdd(re,re.painter.context.gl)},D.prototype.onRemove=function(re){this.implementation.onRemove&&this.implementation.onRemove(re,re.painter.context.gl)},D}(Bi),nA={circle:Ew,heatmap:Rw,hillshade:kw,fill:iT,"fill-extrusion":ET,line:VT,symbol:X5,background:Q5,raster:eA};function aA(R){return R.type==="custom"?new rA(R):new nA[R.type](R)}var ax=i.HTMLImageElement,ix=i.HTMLCanvasElement,ox=i.HTMLVideoElement,sx=i.ImageData,Ip=i.ImageBitmap,Mh=function(D,H,re,he){this.context=D,this.format=re,this.texture=D.gl.createTexture(),this.update(H,he)};Mh.prototype.update=function(D,H,re){var he=D.width,be=D.height,Pe=(!this.size||this.size[0]!==he||this.size[1]!==be)&&!re,Ke=this,ut=Ke.context,wt=ut.gl;if(this.useMipmap=!!(H&&H.useMipmap),wt.bindTexture(wt.TEXTURE_2D,this.texture),ut.pixelStoreUnpackFlipY.set(!1),ut.pixelStoreUnpack.set(1),ut.pixelStoreUnpackPremultiplyAlpha.set(this.format===wt.RGBA&&(!H||H.premultiply!==!1)),Pe)this.size=[he,be],D instanceof ax||D instanceof ix||D instanceof ox||D instanceof sx||Ip&&D instanceof Ip?wt.texImage2D(wt.TEXTURE_2D,0,this.format,this.format,wt.UNSIGNED_BYTE,D):wt.texImage2D(wt.TEXTURE_2D,0,this.format,he,be,0,this.format,wt.UNSIGNED_BYTE,D.data);else{var Ct=re||{x:0,y:0},Wt=Ct.x,nr=Ct.y;D instanceof ax||D instanceof ix||D instanceof ox||D instanceof sx||Ip&&D instanceof Ip?wt.texSubImage2D(wt.TEXTURE_2D,0,Wt,nr,wt.RGBA,wt.UNSIGNED_BYTE,D):wt.texSubImage2D(wt.TEXTURE_2D,0,Wt,nr,he,be,wt.RGBA,wt.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&wt.generateMipmap(wt.TEXTURE_2D)},Mh.prototype.bind=function(D,H,re){var he=this,be=he.context,Pe=be.gl;Pe.bindTexture(Pe.TEXTURE_2D,this.texture),re===Pe.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(re=Pe.LINEAR),D!==this.filter&&(Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MAG_FILTER,D),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MIN_FILTER,re||D),this.filter=D),H!==this.wrap&&(Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_S,H),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_T,H),this.wrap=H)},Mh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Mh.prototype.destroy=function(){var D=this.context,H=D.gl;H.deleteTexture(this.texture),this.texture=null};var _g=function(D){var H=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){H._triggered=!1,H._callback()})};_g.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},_g.prototype.remove=function(){delete this._channel,this._callback=function(){}};var hv=function(D,H,re){this.target=D,this.parent=H,this.mapId=re,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new _g(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=$()?D:i};hv.prototype.send=function(D,H,re,he,be){var Pe=this;be===void 0&&(be=!1);var Ke=Math.round(Math.random()*1e18).toString(36).substring(0,10);re&&(this.callbacks[Ke]=re);var ut=ue(this.globalScope)?void 0:[];return this.target.postMessage({id:Ke,type:D,hasCallback:!!re,targetMapId:he,mustQueue:be,sourceMapId:this.mapId,data:Et(H,ut)},ut),{cancel:function(){re&&delete Pe.callbacks[Ke],Pe.target.postMessage({id:Ke,type:"<cancel>",targetMapId:he,sourceMapId:Pe.mapId})}}},hv.prototype.receive=function(D){var H=D.data,re=H.id;if(re&&!(H.targetMapId&&this.mapId!==H.targetMapId))if(H.type==="<cancel>"){delete this.tasks[re];var he=this.cancelCallbacks[re];delete this.cancelCallbacks[re],he&&he()}else $()||H.mustQueue?(this.tasks[re]=H,this.taskQueue.push(re),this.invoker.trigger()):this.processTask(re,H)},hv.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),H=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),H&&this.processTask(D,H)}},hv.prototype.processTask=function(D,H){var re=this;if(H.type==="<response>"){var he=this.callbacks[D];delete this.callbacks[D],he&&(H.error?he(bt(H.error)):he(null,bt(H.data)))}else{var be=!1,Pe=ue(this.globalScope)?void 0:[],Ke=H.hasCallback?function(nr,qt){be=!0,delete re.cancelCallbacks[D],re.target.postMessage({id:D,type:"<response>",sourceMapId:re.mapId,error:nr?Et(nr):null,data:Et(qt,Pe)},Pe)}:function(nr){be=!0},ut=null,wt=bt(H.data);if(this.parent[H.type])ut=this.parent[H.type](H.sourceMapId,wt,Ke);else if(this.parent.getWorkerSource){var Ct=H.type.split("."),Wt=this.parent.getWorkerSource(H.sourceMapId,Ct[0],wt.source);ut=Wt[Ct[1]](wt,Ke)}else Ke(new Error("Could not find function "+H.type));!be&&ut&&ut.cancel&&(this.cancelCallbacks[D]=ut.cancel)}},hv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function iA(R,D,H){D=Math.pow(2,H)-D-1;var re=lx(R*256,D*256,H),he=lx((R+1)*256,(D+1)*256,H);return re[0]+","+re[1]+","+he[0]+","+he[1]}function lx(R,D,H){var re=2*Math.PI*6378137/256/Math.pow(2,H),he=R*re-2*Math.PI*6378137/2,be=D*re-2*Math.PI*6378137/2;return[he,be]}var lo=function(D,H){D&&(H?this.setSouthWest(D).setNorthEast(H):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};lo.prototype.setNorthEast=function(D){return this._ne=D instanceof Ri?new Ri(D.lng,D.lat):Ri.convert(D),this},lo.prototype.setSouthWest=function(D){return this._sw=D instanceof Ri?new Ri(D.lng,D.lat):Ri.convert(D),this},lo.prototype.extend=function(D){var H=this._sw,re=this._ne,he,be;if(D instanceof Ri)he=D,be=D;else if(D instanceof lo){if(he=D._sw,be=D._ne,!he||!be)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var Pe=D;return this.extend(lo.convert(Pe))}else{var Ke=D;return this.extend(Ri.convert(Ke))}return this}return!H&&!re?(this._sw=new Ri(he.lng,he.lat),this._ne=new Ri(be.lng,be.lat)):(H.lng=Math.min(he.lng,H.lng),H.lat=Math.min(he.lat,H.lat),re.lng=Math.max(be.lng,re.lng),re.lat=Math.max(be.lat,re.lat)),this},lo.prototype.getCenter=function(){return new Ri((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},lo.prototype.getSouthWest=function(){return this._sw},lo.prototype.getNorthEast=function(){return this._ne},lo.prototype.getNorthWest=function(){return new Ri(this.getWest(),this.getNorth())},lo.prototype.getSouthEast=function(){return new Ri(this.getEast(),this.getSouth())},lo.prototype.getWest=function(){return this._sw.lng},lo.prototype.getSouth=function(){return this._sw.lat},lo.prototype.getEast=function(){return this._ne.lng},lo.prototype.getNorth=function(){return this._ne.lat},lo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},lo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},lo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},lo.prototype.contains=function(D){var H=Ri.convert(D),re=H.lng,he=H.lat,be=this._sw.lat<=he&&he<=this._ne.lat,Pe=this._sw.lng<=re&&re<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Pe=this._sw.lng>=re&&re>=this._ne.lng),be&&Pe},lo.convert=function(D){return!D||D instanceof lo?D:new lo(D)};var ux=63710088e-1,Ri=function(D,H){if(isNaN(D)||isNaN(H))throw new Error("Invalid LngLat object: ("+D+", "+H+")");if(this.lng=+D,this.lat=+H,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ri.prototype.wrap=function(){return new Ri(T(this.lng,-180,180),this.lat)},Ri.prototype.toArray=function(){return[this.lng,this.lat]},Ri.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ri.prototype.distanceTo=function(D){var H=Math.PI/180,re=this.lat*H,he=D.lat*H,be=Math.sin(re)*Math.sin(he)+Math.cos(re)*Math.cos(he)*Math.cos((D.lng-this.lng)*H),Pe=ux*Math.acos(Math.min(be,1));return Pe},Ri.prototype.toBounds=function(D){D===void 0&&(D=0);var H=40075017,re=360*D/H,he=re/Math.cos(Math.PI/180*this.lat);return new lo(new Ri(this.lng-he,this.lat-re),new Ri(this.lng+he,this.lat+re))},Ri.convert=function(D){if(D instanceof Ri)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Ri(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Ri(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var fx=2*Math.PI*ux;function cx(R){return fx*Math.cos(R*Math.PI/180)}function hx(R){return(180+R)/360}function vx(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function dx(R,D){return R/cx(D)}function oA(R){return R*360-180}function zg(R){var D=180-R*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function sA(R,D){return R*cx(zg(D))}function lA(R){return 1/Math.cos(R*Math.PI/180)}var Sh=function(D,H,re){re===void 0&&(re=0),this.x=+D,this.y=+H,this.z=+re};Sh.fromLngLat=function(D,H){H===void 0&&(H=0);var re=Ri.convert(D);return new Sh(hx(re.lng),vx(re.lat),dx(H,re.lat))},Sh.prototype.toLngLat=function(){return new Ri(oA(this.x),zg(this.y))},Sh.prototype.toAltitude=function(){return sA(this.z,this.y)},Sh.prototype.meterInMercatorCoordinateUnits=function(){return 1/fx*lA(zg(this.y))};var Eh=function(D,H,re){this.z=D,this.x=H,this.y=re,this.key=dd(0,D,D,H,re)};Eh.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},Eh.prototype.url=function(D,H){var re=iA(this.x,this.y,this.z),he=uA(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(H==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",he).replace("{bbox-epsg-3857}",re)},Eh.prototype.getTilePoint=function(D){var H=Math.pow(2,this.z);return new r((D.x*H-this.x)*Sa,(D.y*H-this.y)*Sa)},Eh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var px=function(D,H){this.wrap=D,this.canonical=H,this.key=dd(D,H.z,H.z,H.x,H.y)},uo=function(D,H,re,he,be){this.overscaledZ=D,this.wrap=H,this.canonical=new Eh(re,+he,+be),this.key=dd(H,D,re,he,be)};uo.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},uo.prototype.scaledTo=function(D){var H=this.canonical.z-D;return D>this.canonical.z?new uo(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new uo(D,this.wrap,D,this.canonical.x>>H,this.canonical.y>>H)},uo.prototype.calculateScaledKey=function(D,H){var re=this.canonical.z-D;return D>this.canonical.z?dd(this.wrap*+H,D,this.canonical.z,this.canonical.x,this.canonical.y):dd(this.wrap*+H,D,D,this.canonical.x>>re,this.canonical.y>>re)},uo.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var H=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>H&&D.canonical.y===this.canonical.y>>H},uo.prototype.children=function(D){if(this.overscaledZ>=D)return[new uo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var H=this.canonical.z+1,re=this.canonical.x*2,he=this.canonical.y*2;return[new uo(H,this.wrap,H,re,he),new uo(H,this.wrap,H,re+1,he),new uo(H,this.wrap,H,re,he+1),new uo(H,this.wrap,H,re+1,he+1)]},uo.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},uo.prototype.wrapped=function(){return new uo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},uo.prototype.unwrapTo=function(D){return new uo(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},uo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},uo.prototype.toUnwrapped=function(){return new px(this.wrap,this.canonical)},uo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},uo.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new Sh(D.x-this.wrap,D.y))};function dd(R,D,H,re,he){R*=2,R<0&&(R=R*-1-1);var be=1<<H;return(be*be*R+be*he+re).toString(36)+H.toString(36)+D.toString(36)}function uA(R,D,H){for(var re="",he,be=R;be>0;be--)he=1<<be-1,re+=(D&he?1:0)+(H&he?2:0);return re}ze("CanonicalTileID",Eh),ze("OverscaledTileID",uo,{omit:["posMatrix"]});var kf=function(D,H,re){if(this.uid=D,H.height!==H.width)throw new RangeError("DEM tiles must be square");if(re&&re!=="mapbox"&&re!=="terrarium")return O('"'+re+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=H.height;var he=this.dim=H.height-2;this.data=new Uint32Array(H.data.buffer),this.encoding=re||"mapbox";for(var be=0;be<he;be++)this.data[this._idx(-1,be)]=this.data[this._idx(0,be)],this.data[this._idx(he,be)]=this.data[this._idx(he-1,be)],this.data[this._idx(be,-1)]=this.data[this._idx(be,0)],this.data[this._idx(be,he)]=this.data[this._idx(be,he-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(he,-1)]=this.data[this._idx(he-1,0)],this.data[this._idx(-1,he)]=this.data[this._idx(0,he-1)],this.data[this._idx(he,he)]=this.data[this._idx(he-1,he-1)]};kf.prototype.get=function(D,H){var re=new Uint8Array(this.data.buffer),he=this._idx(D,H)*4,be=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return be(re[he],re[he+1],re[he+2])},kf.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},kf.prototype._idx=function(D,H){if(D<-1||D>=this.dim+1||H<-1||H>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(H+1)*this.stride+(D+1)},kf.prototype._unpackMapbox=function(D,H,re){return(D*256*256+H*256+re)/10-1e4},kf.prototype._unpackTerrarium=function(D,H,re){return D*256+H+re/256-32768},kf.prototype.getPixels=function(){return new bs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},kf.prototype.backfillBorder=function(D,H,re){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var he=H*this.dim,be=H*this.dim+this.dim,Pe=re*this.dim,Ke=re*this.dim+this.dim;switch(H){case-1:he=be-1;break;case 1:be=he+1;break}switch(re){case-1:Pe=Ke-1;break;case 1:Ke=Pe+1;break}for(var ut=-H*this.dim,wt=-re*this.dim,Ct=Pe;Ct<Ke;Ct++)for(var Wt=he;Wt<be;Wt++)this.data[this._idx(Wt,Ct)]=D.data[this._idx(Wt+ut,Ct+wt)]},ze("DEMData",kf);function fA(R,D){var H={};if(!D)return H;for(var re=function(){var Pe=be[he],Ke=Pe.layerIds.map(function(Wt){return D.getLayer(Wt)}).filter(Boolean);if(Ke.length!==0){Pe.layers=Ke,Pe.stateDependentLayerIds&&(Pe.stateDependentLayers=Pe.stateDependentLayerIds.map(function(Wt){return Ke.filter(function(nr){return nr.id===Wt})[0]}));for(var ut=0,wt=Ke;ut<wt.length;ut+=1){var Ct=wt[ut];H[Ct.id]=Pe}}},he=0,be=R;he<be.length;he+=1)re();return H}var kp=function(D){this._stringToNumber={},this._numberToString=[];for(var H=0;H<D.length;H++){var re=D[H];this._stringToNumber[re]=H,this._numberToString[H]=re}};kp.prototype.encode=function(D){return this._stringToNumber[D]},kp.prototype.decode=function(D){return this._numberToString[D]};var Fp=function(D,H,re,he,be){this.type="Feature",this._vectorTileFeature=D,D._z=H,D._x=re,D._y=he,this.properties=D.properties,this.id=be},Og={geometry:{configurable:!0}};Og.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Og.geometry.set=function(R){this._geometry=R},Fp.prototype.toJSON=function(){var D={geometry:this.geometry};for(var H in this)H==="_geometry"||H==="_vectorTileFeature"||(D[H]=this[H]);return D},Object.defineProperties(Fp.prototype,Og);var vv=function(){this.state={},this.stateChanges={},this.deletedStates={}};vv.prototype.updateState=function(D,H,re){var he=String(H);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][he]=this.stateChanges[D][he]||{},A(this.stateChanges[D][he],re),this.deletedStates[D]===null){this.deletedStates[D]={};for(var be in this.state[D])be!==he&&(this.deletedStates[D][be]=null)}else{var Pe=this.deletedStates[D]&&this.deletedStates[D][he]===null;if(Pe){this.deletedStates[D][he]={};for(var Ke in this.state[D][he])re[Ke]||(this.deletedStates[D][he][Ke]=null)}else for(var ut in re){var wt=this.deletedStates[D]&&this.deletedStates[D][he]&&this.deletedStates[D][he][ut]===null;wt&&delete this.deletedStates[D][he][ut]}}},vv.prototype.removeFeatureState=function(D,H,re){var he=this.deletedStates[D]===null;if(!he){var be=String(H);if(this.deletedStates[D]=this.deletedStates[D]||{},re&&H!==void 0)this.deletedStates[D][be]!==null&&(this.deletedStates[D][be]=this.deletedStates[D][be]||{},this.deletedStates[D][be][re]=null);else if(H!==void 0){var Pe=this.stateChanges[D]&&this.stateChanges[D][be];if(Pe){this.deletedStates[D][be]={};for(re in this.stateChanges[D][be])this.deletedStates[D][be][re]=null}else this.deletedStates[D][be]=null}else this.deletedStates[D]=null}},vv.prototype.getState=function(D,H){var re=String(H),he=this.state[D]||{},be=this.stateChanges[D]||{},Pe=A({},he[re],be[re]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var Ke=this.deletedStates[D][H];if(Ke===null)return{};for(var ut in Ke)delete Pe[ut]}return Pe},vv.prototype.initializeTileState=function(D,H){D.setFeatureState(this.state,H)},vv.prototype.coalesceChanges=function(D,H){var re={};for(var he in this.stateChanges){this.state[he]=this.state[he]||{};var be={};for(var Pe in this.stateChanges[he])this.state[he][Pe]||(this.state[he][Pe]={}),A(this.state[he][Pe],this.stateChanges[he][Pe]),be[Pe]=this.state[he][Pe];re[he]=be}for(var Ke in this.deletedStates){this.state[Ke]=this.state[Ke]||{};var ut={};if(this.deletedStates[Ke]===null)for(var wt in this.state[Ke])ut[wt]={},this.state[Ke][wt]={};else for(var Ct in this.deletedStates[Ke]){var Wt=this.deletedStates[Ke][Ct]===null;if(Wt)this.state[Ke][Ct]={};else for(var nr=0,qt=Object.keys(this.deletedStates[Ke][Ct]);nr<qt.length;nr+=1){var mr=qt[nr];delete this.state[Ke][Ct][mr]}ut[Ct]=this.state[Ke][Ct]}re[Ke]=re[Ke]||{},A(re[Ke],ut)}if(this.stateChanges={},this.deletedStates={},Object.keys(re).length!==0)for(var zr in D){var sn=D[zr];sn.setFeatureState(re,H)}};var Ff=function(D,H){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new za(Sa,16,0),this.grid3D=new za(Sa,16,0),this.featureIndexArray=new pp,this.promoteId=H};Ff.prototype.insert=function(D,H,re,he,be,Pe){var Ke=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(re,he,be);for(var ut=Pe?this.grid3D:this.grid,wt=0;wt<H.length;wt++){for(var Ct=H[wt],Wt=[1/0,1/0,-1/0,-1/0],nr=0;nr<Ct.length;nr++){var qt=Ct[nr];Wt[0]=Math.min(Wt[0],qt.x),Wt[1]=Math.min(Wt[1],qt.y),Wt[2]=Math.max(Wt[2],qt.x),Wt[3]=Math.max(Wt[3],qt.y)}Wt[0]<Sa&&Wt[1]<Sa&&Wt[2]>=0&&Wt[3]>=0&&ut.insert(Ke,Wt[0],Wt[1],Wt[2],Wt[3])}},Ff.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new tv.VectorTile(new Ap(this.rawTileData)).layers,this.sourceLayerCoder=new kp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ff.prototype.query=function(D,H,re,he){var be=this;this.loadVTLayers();for(var Pe=D.params||{},Ke=Sa/D.tileSize/D.scale,ut=Xs(Pe.filter),wt=D.queryGeometry,Ct=D.queryPadding*Ke,Wt=yx(wt),nr=this.grid.query(Wt.minX-Ct,Wt.minY-Ct,Wt.maxX+Ct,Wt.maxY+Ct),qt=yx(D.cameraQueryGeometry),mr=this.grid3D.query(qt.minX-Ct,qt.minY-Ct,qt.maxX+Ct,qt.maxY+Ct,function(Gn,oa,na,Ta){return jl(D.cameraQueryGeometry,Gn-Ct,oa-Ct,na+Ct,Ta+Ct)}),zr=0,sn=mr;zr<sn.length;zr+=1){var qr=sn[zr];nr.push(qr)}nr.sort(cA);for(var En={},mn,Mn=function(Gn){var oa=nr[Gn];if(oa!==mn){mn=oa;var na=be.featureIndexArray.get(oa),Ta=null;be.loadMatchingFeature(En,na.bucketIndex,na.sourceLayerIndex,na.featureIndex,ut,Pe.layers,Pe.availableImages,H,re,he,function(pa,ba,Na){return Ta||(Ta=ei(pa)),ba.queryIntersectsFeature(wt,pa,Na,Ta,be.z,D.transform,Ke,D.pixelPosMatrix)})}},kn=0;kn<nr.length;kn++)Mn(kn);return En},Ff.prototype.loadMatchingFeature=function(D,H,re,he,be,Pe,Ke,ut,wt,Ct,Wt){var nr=this.bucketLayerIDs[H];if(!(Pe&&!F(Pe,nr))){var qt=this.sourceLayerCoder.decode(re),mr=this.vtLayers[qt],zr=mr.feature(he);if(be.needGeometry){var sn=Ai(zr,!0);if(!be.filter(new Ma(this.tileID.overscaledZ),sn,this.tileID.canonical))return}else if(!be.filter(new Ma(this.tileID.overscaledZ),zr))return;for(var qr=this.getId(zr,qt),En=0;En<nr.length;En++){var mn=nr[En];if(!(Pe&&Pe.indexOf(mn)<0)){var Mn=ut[mn];if(Mn){var kn={};qr!==void 0&&Ct&&(kn=Ct.getState(Mn.sourceLayer||"_geojsonTileLayer",qr));var Gn=A({},wt[mn]);Gn.paint=gx(Gn.paint,Mn.paint,zr,kn,Ke),Gn.layout=gx(Gn.layout,Mn.layout,zr,kn,Ke);var oa=!Wt||Wt(zr,Mn,kn);if(oa){var na=new Fp(zr,this.z,this.x,this.y,qr);na.layer=Gn;var Ta=D[mn];Ta===void 0&&(Ta=D[mn]=[]),Ta.push({featureIndex:he,feature:na,intersectionZ:oa})}}}}}},Ff.prototype.lookupSymbolFeatures=function(D,H,re,he,be,Pe,Ke,ut){var wt={};this.loadVTLayers();for(var Ct=Xs(be),Wt=0,nr=D;Wt<nr.length;Wt+=1){var qt=nr[Wt];this.loadMatchingFeature(wt,re,he,qt,Ct,Pe,Ke,ut,H)}return wt},Ff.prototype.hasLayer=function(D){for(var H=0,re=this.bucketLayerIDs;H<re.length;H+=1)for(var he=re[H],be=0,Pe=he;be<Pe.length;be+=1){var Ke=Pe[be];if(D===Ke)return!0}return!1},Ff.prototype.getId=function(D,H){var re=D.id;if(this.promoteId){var he=typeof this.promoteId=="string"?this.promoteId:this.promoteId[H];re=D.properties[he],typeof re=="boolean"&&(re=Number(re))}return re},ze("FeatureIndex",Ff,{omit:["rawTileData","sourceLayerCoder"]});function gx(R,D,H,re,he){return k(R,function(be,Pe){var Ke=D instanceof go?D.get(Pe):null;return Ke&&Ke.evaluate?Ke.evaluate(H,re,he):Ke})}function yx(R){for(var D=1/0,H=1/0,re=-1/0,he=-1/0,be=0,Pe=R;be<Pe.length;be+=1){var Ke=Pe[be];D=Math.min(D,Ke.x),H=Math.min(H,Ke.y),re=Math.max(re,Ke.x),he=Math.max(he,Ke.y)}return{minX:D,minY:H,maxX:re,maxY:he}}function cA(R,D){return D-R}var hA=3e4,Ao=function(D,H){this.tileID=D,this.uid=b(),this.uses=0,this.tileSize=H,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ao.prototype.registerFadeDuration=function(D){var H=D+this.timeAdded;H<se.now()||this.fadeEndTime&&H<this.fadeEndTime||(this.fadeEndTime=H)},Ao.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ao.prototype.loadVectorData=function(D,H,re){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new $v;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=fA(D.buckets,H.style),this.hasSymbolBuckets=!1;for(var he in this.buckets){var be=this.buckets[he];if(be instanceof mi)if(this.hasSymbolBuckets=!0,re)be.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Pe in this.buckets){var Ke=this.buckets[Pe];if(Ke instanceof mi&&Ke.hasRTLText){this.hasRTLText=!0,Ua();break}}this.queryPadding=0;for(var ut in this.buckets){var wt=this.buckets[ut];this.queryPadding=Math.max(this.queryPadding,H.style.getLayer(ut).queryRadius(wt))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},Ao.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ao.prototype.getBucket=function(D){return this.buckets[D.id]},Ao.prototype.upload=function(D){for(var H in this.buckets){var re=this.buckets[H];re.uploadPending()&&re.upload(D)}var he=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Mh(D,this.imageAtlas.image,he.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Mh(D,this.glyphAtlasImage,he.ALPHA),this.glyphAtlasImage=null)},Ao.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},Ao.prototype.queryRenderedFeatures=function(D,H,re,he,be,Pe,Ke,ut,wt,Ct){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:he,cameraQueryGeometry:be,scale:Pe,tileSize:this.tileSize,pixelPosMatrix:Ct,transform:ut,params:Ke,queryPadding:this.queryPadding*wt},D,H,re)},Ao.prototype.querySourceFeatures=function(D,H){var re=this.latestFeatureIndex;if(!(!re||!re.rawTileData)){var he=re.loadVTLayers(),be=H?H.sourceLayer:"",Pe=he._geojsonTileLayer||he[be];if(Pe)for(var Ke=Xs(H&&H.filter),ut=this.tileID.canonical,wt=ut.z,Ct=ut.x,Wt=ut.y,nr={z:wt,x:Ct,y:Wt},qt=0;qt<Pe.length;qt++){var mr=Pe.feature(qt);if(Ke.needGeometry){var zr=Ai(mr,!0);if(!Ke.filter(new Ma(this.tileID.overscaledZ),zr,this.tileID.canonical))continue}else if(!Ke.filter(new Ma(this.tileID.overscaledZ),mr))continue;var sn=re.getId(mr,be),qr=new Fp(mr,wt,Ct,Wt,sn);qr.tile=nr,D.push(qr)}}},Ao.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ao.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ao.prototype.setExpiryData=function(D){var H=this.expirationTime;if(D.cacheControl){var re=te(D.cacheControl);re["max-age"]&&(this.expirationTime=Date.now()+re["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var he=Date.now(),be=!1;if(this.expirationTime>he)be=!1;else if(!H)be=!0;else if(this.expirationTime<H)be=!0;else{var Pe=this.expirationTime-H;Pe?this.expirationTime=he+Math.max(Pe,hA):be=!0}be?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ao.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ao.prototype.setFeatureState=function(D,H){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var re=this.latestFeatureIndex.loadVTLayers();for(var he in this.buckets)if(H.style.hasLayer(he)){var be=this.buckets[he],Pe=be.layers[0].sourceLayer||"_geojsonTileLayer",Ke=re[Pe],ut=D[Pe];if(!(!Ke||!ut||Object.keys(ut).length===0)){be.update(ut,Ke,this.imageAtlas&&this.imageAtlas.patternPositions||{});var wt=H&&H.style&&H.style.getLayer(he);wt&&(this.queryPadding=Math.max(this.queryPadding,wt.queryRadius(be)))}}}},Ao.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ao.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},Ao.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ao.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=se.now()+D},Ao.prototype.setDependencies=function(D,H){for(var re={},he=0,be=H;he<be.length;he+=1){var Pe=be[he];re[Pe]=!0}this.dependencies[D]=re},Ao.prototype.hasDependency=function(D,H){for(var re=0,he=D;re<he.length;re+=1){var be=he[re],Pe=this.dependencies[be];if(Pe)for(var Ke=0,ut=H;Ke<ut.length;Ke+=1){var wt=ut[Ke];if(Pe[wt])return!0}}return!1};var vA=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Ec=i.performance,mx=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},Ec.mark(this._marks.start)};mx.prototype.finish=function(){Ec.mark(this._marks.end);var D=Ec.getEntriesByName(this._marks.measure);return D.length===0&&(Ec.measure(this._marks.measure,this._marks.start,this._marks.end),D=Ec.getEntriesByName(this._marks.measure),Ec.clearMarks(this._marks.start),Ec.clearMarks(this._marks.end),Ec.clearMeasures(this._marks.measure)),D},o.Actor=hv,o.AlphaImage=Ah,o.CanonicalTileID=Eh,o.CollisionBoxArray=$v,o.Color=qa,o.DEMData=kf,o.DataConstantProperty=fa,o.DictionaryCoder=kp,o.EXTENT=Sa,o.ErrorEvent=zt,o.EvaluationParameters=Ma,o.Event=er,o.Evented=vr,o.FeatureIndex=Ff,o.FillBucket=Su,o.FillExtrusionBucket=Eu,o.ImageAtlas=fd,o.ImagePosition=Sp,o.LineBucket=as,o.LngLat=Ri,o.LngLatBounds=lo,o.MercatorCoordinate=Sh,o.ONE_EM=ko,o.OverscaledTileID=uo,o.Point=r,o.Point$1=r,o.Properties=fi,o.Protobuf=Ap,o.RGBAImage=bs,o.RequestManager=Be,o.RequestPerformance=mx,o.ResourceType=gr,o.SegmentVector=oo,o.SourceFeatureState=vv,o.StructArrayLayout1ui2=mc,o.StructArrayLayout2f1f2i16=Tu,o.StructArrayLayout2i4=Lf,o.StructArrayLayout3ui6=Au,o.StructArrayLayout4i8=Xv,o.SymbolBucket=mi,o.Texture=Mh,o.Tile=Ao,o.Transitionable=ai,o.Uniform1f=Zr,o.Uniform1i=Fr,o.Uniform2f=Yr,o.Uniform3f=Vr,o.Uniform4f=Kr,o.UniformColor=fn,o.UniformMatrix4f=zn,o.UnwrappedTileID=px,o.ValidationError=_r,o.WritingMode=Qs,o.ZoomHistory=Ht,o.add=$h,o.addDynamicAttributes=kg,o.asyncAll=h,o.bezier=l,o.bindAll=E,o.browser=se,o.cacheEntryPossiblyAdded=_t,o.clamp=f,o.clearTileCache=wr,o.clipLine=$m,o.clone=Kh,o.clone$1=N,o.clone$2=vg,o.collisionCircleLayout=jT,o.config=ne,o.create=Xh,o.create$1=Vo,o.create$2=jh,o.createCommonjsModule=L,o.createExpression=Zs,o.createLayout=Li,o.createStyleLayer=aA,o.cross=yw,o.deepEqual=n,o.dot=gw,o.dot$1=Tw,o.ease=g,o.emitValidationErrors=Ia,o.endsWith=x,o.enforceCacheSizeLimit=$t,o.evaluateSizeForFeature=Ym,o.evaluateSizeForZoom=Zm,o.evaluateVariableOffset=tx,o.evented=Ea,o.extend=A,o.featureFilter=Xs,o.filterObject=I,o.fromRotation=wc,o.getAnchorAlignment=Pg,o.getAnchorJustification=Ig,o.getArrayBuffer=Bt,o.getImage=It,o.getJSON=Lt,o.getRTLTextPluginStatus=Fa,o.getReferrer=vt,o.getVideo=Zt,o.identity=Jh,o.invert=Tc,o.isChar=Gt,o.isMapboxURL=Ue,o.keysDifference=d,o.makeRequest=Dt,o.mapObject=k,o.mercatorXfromLng=hx,o.mercatorYfromLat=vx,o.mercatorZfromAltitude=dx,o.mul=hg,o.multiply=Ac,o.mvt=tv,o.nextPowerOfTwo=m,o.normalize=td,o.number=Pi,o.offscreenCanvasSupported=Qt,o.ortho=cg,o.parseGlyphPBF=b5,o.pbf=Ap,o.performSymbolLayout=B5,o.perspective=ed,o.pick=w,o.plugin=qn,o.polygonIntersectsPolygon=Va,o.postMapLoadEvent=Oe,o.postTurnstileEvent=Ve,o.potpack=Om,o.refProperties=vA,o.register=ze,o.registerForPluginStateChange=ni,o.renderColorRamp=pm,o.rotate=wh,o.rotateX=xs,o.rotateZ=Qh,o.scale=ms,o.scale$1=ww,o.scale$2=pg,o.setCacheLimits=yt,o.setRTLTextPlugin=zi,o.sphericalToCartesian=W,o.sqrLen=Sw,o.styleSpec=br,o.sub=xw,o.symbolSize=P5,o.transformMat3=mw,o.transformMat4=yp,o.translate=Yi,o.triggerPluginCompletionEvent=va,o.uniqueId=b,o.validateCustomStyleLayer=tA,o.validateLight=Kn,o.validateStyle=Pn,o.values=s,o.vectorTile=tv,o.version=M,o.warnOnce=O,o.webpSupported=fe,o.window=i,o.wrap=T}),P(["./shared"],function(o){function L(vt){var at=typeof vt;if(at==="number"||at==="boolean"||at==="string"||vt===void 0||vt===null)return JSON.stringify(vt);if(Array.isArray(vt)){for(var xt="[",Mt=0,Dt=vt;Mt<Dt.length;Mt+=1){var Lt=Dt[Mt];xt+=L(Lt)+","}return xt+"]"}for(var Bt=Object.keys(vt).sort(),Nt="{",Xt=0;Xt<Bt.length;Xt++)Nt+=JSON.stringify(Bt[Xt])+":"+L(vt[Bt[Xt]])+",";return Nt+"}"}function M(vt){for(var at="",xt=0,Mt=o.refProperties;xt<Mt.length;xt+=1){var Dt=Mt[xt];at+="/"+L(vt[Dt])}return at}function v(vt,at){for(var xt={},Mt=0;Mt<vt.length;Mt++){var Dt=at&&at[vt[Mt].id]||M(vt[Mt]);at&&(at[vt[Mt].id]=Dt);var Lt=xt[Dt];Lt||(Lt=xt[Dt]=[]),Lt.push(vt[Mt])}var Bt=[];for(var Nt in xt)Bt.push(xt[Nt]);return Bt}var p=function(at){this.keyCache={},at&&this.replace(at)};p.prototype.replace=function(at){this._layerConfigs={},this._layers={},this.update(at,[])},p.prototype.update=function(at,xt){for(var Mt=this,Dt=0,Lt=at;Dt<Lt.length;Dt+=1){var Bt=Lt[Dt];this._layerConfigs[Bt.id]=Bt;var Nt=this._layers[Bt.id]=o.createStyleLayer(Bt);Nt._featureFilter=o.featureFilter(Nt.filter),this.keyCache[Bt.id]&&delete this.keyCache[Bt.id]}for(var Xt=0,lr=xt;Xt<lr.length;Xt+=1){var fr=lr[Xt];delete this.keyCache[fr],delete this._layerConfigs[fr],delete this._layers[fr]}this.familiesBySource={};for(var hr=v(o.values(this._layerConfigs),this.keyCache),We=0,Ge=hr;We<Ge.length;We+=1){var kt=Ge[We],It=kt.map(function(vr){return Mt._layers[vr.id]}),Zt=It[0];if(Zt.visibility!=="none"){var rr=Zt.source||"",ur=this.familiesBySource[rr];ur||(ur=this.familiesBySource[rr]={});var er=Zt.sourceLayer||"_geojsonTileLayer",zt=ur[er];zt||(zt=ur[er]=[]),zt.push(It)}}};var r=1,t=function(at){var xt={},Mt=[];for(var Dt in at){var Lt=at[Dt],Bt=xt[Dt]={};for(var Nt in Lt){var Xt=Lt[+Nt];if(!(!Xt||Xt.bitmap.width===0||Xt.bitmap.height===0)){var lr={x:0,y:0,w:Xt.bitmap.width+2*r,h:Xt.bitmap.height+2*r};Mt.push(lr),Bt[Nt]={rect:lr,metrics:Xt.metrics}}}}var fr=o.potpack(Mt),hr=fr.w,We=fr.h,Ge=new o.AlphaImage({width:hr||1,height:We||1});for(var kt in at){var It=at[kt];for(var Zt in It){var rr=It[+Zt];if(!(!rr||rr.bitmap.width===0||rr.bitmap.height===0)){var ur=xt[kt][Zt].rect;o.AlphaImage.copy(rr.bitmap,Ge,{x:0,y:0},{x:ur.x+r,y:ur.y+r},rr.bitmap)}}}this.image=Ge,this.positions=xt};o.register("GlyphAtlas",t);var i=function(at){this.tileID=new o.OverscaledTileID(at.tileID.overscaledZ,at.tileID.wrap,at.tileID.canonical.z,at.tileID.canonical.x,at.tileID.canonical.y),this.uid=at.uid,this.zoom=at.zoom,this.pixelRatio=at.pixelRatio,this.tileSize=at.tileSize,this.source=at.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=at.showCollisionBoxes,this.collectResourceTiming=!!at.collectResourceTiming,this.returnDependencies=!!at.returnDependencies,this.promoteId=at.promoteId};i.prototype.parse=function(at,xt,Mt,Dt,Lt){var Bt=this;this.status="parsing",this.data=at,this.collisionBoxArray=new o.CollisionBoxArray;var Nt=new o.DictionaryCoder(Object.keys(at.layers).sort()),Xt=new o.FeatureIndex(this.tileID,this.promoteId);Xt.bucketLayerIDs=[];var lr={},fr={featureIndex:Xt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Mt},hr=xt.familiesBySource[this.source];for(var We in hr){var Ge=at.layers[We];if(Ge){Ge.version===1&&o.warnOnce('Vector tile source "'+this.source+'" layer "'+We+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var kt=Nt.encode(We),It=[],Zt=0;Zt<Ge.length;Zt++){var rr=Ge.feature(Zt),ur=Xt.getId(rr,We);It.push({feature:rr,id:ur,index:Zt,sourceLayerIndex:kt})}for(var er=0,zt=hr[We];er<zt.length;er+=1){var vr=zt[er],yr=vr[0];if(!(yr.minzoom&&this.zoom<Math.floor(yr.minzoom))&&!(yr.maxzoom&&this.zoom>=yr.maxzoom)&&yr.visibility!=="none"){n(vr,this.zoom,Mt);var pr=lr[yr.id]=yr.createBucket({index:Xt.bucketLayerIDs.length,layers:vr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:kt,sourceID:this.source});pr.populate(It,fr,this.tileID.canonical),Xt.bucketLayerIDs.push(vr.map(function(Mr){return Mr.id}))}}}}var cr,Ur,kr,Rr,vn=o.mapObject(fr.glyphDependencies,function(Mr){return Object.keys(Mr).map(Number)});Object.keys(vn).length?Dt.send("getGlyphs",{uid:this.uid,stacks:vn},function(Mr,Er){cr||(cr=Mr,Ur=Er,xn.call(Bt))}):Ur={};var tn=Object.keys(fr.iconDependencies);tn.length?Dt.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"icons"},function(Mr,Er){cr||(cr=Mr,kr=Er,xn.call(Bt))}):kr={};var Bn=Object.keys(fr.patternDependencies);Bn.length?Dt.send("getImages",{icons:Bn,source:this.source,tileID:this.tileID,type:"patterns"},function(Mr,Er){cr||(cr=Mr,Rr=Er,xn.call(Bt))}):Rr={},xn.call(this);function xn(){if(cr)return Lt(cr);if(Ur&&kr&&Rr){var Mr=new t(Ur),Er=new o.ImageAtlas(kr,Rr);for(var Wr in lr){var Hr=lr[Wr];Hr instanceof o.SymbolBucket?(n(Hr.layers,this.zoom,Mt),o.performSymbolLayout(Hr,Ur,Mr.positions,kr,Er.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Hr.hasPattern&&(Hr instanceof o.LineBucket||Hr instanceof o.FillBucket||Hr instanceof o.FillExtrusionBucket)&&(n(Hr.layers,this.zoom,Mt),Hr.addFeatures(fr,this.tileID.canonical,Er.patternPositions))}this.status="done",Lt(null,{buckets:o.values(lr).filter(function(an){return!an.isEmpty()}),featureIndex:Xt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Mr.image,imageAtlas:Er,glyphMap:this.returnDependencies?Ur:null,iconMap:this.returnDependencies?kr:null,glyphPositions:this.returnDependencies?Mr.positions:null})}}};function n(vt,at,xt){for(var Mt=new o.EvaluationParameters(at),Dt=0,Lt=vt;Dt<Lt.length;Dt+=1){var Bt=Lt[Dt];Bt.recalculate(Mt,xt)}}function c(vt,at){var xt=o.getArrayBuffer(vt.request,function(Mt,Dt,Lt,Bt){Mt?at(Mt):Dt&&at(null,{vectorTile:new o.vectorTile.VectorTile(new o.pbf(Dt)),rawData:Dt,cacheControl:Lt,expires:Bt})});return function(){xt.cancel(),at()}}var u=function(at,xt,Mt,Dt){this.actor=at,this.layerIndex=xt,this.availableImages=Mt,this.loadVectorData=Dt||c,this.loading={},this.loaded={}};u.prototype.loadTile=function(at,xt){var Mt=this,Dt=at.uid;this.loading||(this.loading={});var Lt=at&&at.request&&at.request.collectResourceTiming?new o.RequestPerformance(at.request):!1,Bt=this.loading[Dt]=new i(at);Bt.abort=this.loadVectorData(at,function(Nt,Xt){if(delete Mt.loading[Dt],Nt||!Xt)return Bt.status="done",Mt.loaded[Dt]=Bt,xt(Nt);var lr=Xt.rawData,fr={};Xt.expires&&(fr.expires=Xt.expires),Xt.cacheControl&&(fr.cacheControl=Xt.cacheControl);var hr={};if(Lt){var We=Lt.finish();We&&(hr.resourceTiming=JSON.parse(JSON.stringify(We)))}Bt.vectorTile=Xt.vectorTile,Bt.parse(Xt.vectorTile,Mt.layerIndex,Mt.availableImages,Mt.actor,function(Ge,kt){if(Ge||!kt)return xt(Ge);xt(null,o.extend({rawTileData:lr.slice(0)},kt,fr,hr))}),Mt.loaded=Mt.loaded||{},Mt.loaded[Dt]=Bt})},u.prototype.reloadTile=function(at,xt){var Mt=this,Dt=this.loaded,Lt=at.uid,Bt=this;if(Dt&&Dt[Lt]){var Nt=Dt[Lt];Nt.showCollisionBoxes=at.showCollisionBoxes;var Xt=function(lr,fr){var hr=Nt.reloadCallback;hr&&(delete Nt.reloadCallback,Nt.parse(Nt.vectorTile,Bt.layerIndex,Mt.availableImages,Bt.actor,hr)),xt(lr,fr)};Nt.status==="parsing"?Nt.reloadCallback=Xt:Nt.status==="done"&&(Nt.vectorTile?Nt.parse(Nt.vectorTile,this.layerIndex,this.availableImages,this.actor,Xt):Xt())}},u.prototype.abortTile=function(at,xt){var Mt=this.loading,Dt=at.uid;Mt&&Mt[Dt]&&Mt[Dt].abort&&(Mt[Dt].abort(),delete Mt[Dt]),xt()},u.prototype.removeTile=function(at,xt){var Mt=this.loaded,Dt=at.uid;Mt&&Mt[Dt]&&delete Mt[Dt],xt()};var l=o.window.ImageBitmap,g=function(){this.loaded={}};g.prototype.loadTile=function(at,xt){var Mt=at.uid,Dt=at.encoding,Lt=at.rawImageData,Bt=l&&Lt instanceof l?this.getImageData(Lt):Lt,Nt=new o.DEMData(Mt,Bt,Dt);this.loaded=this.loaded||{},this.loaded[Mt]=Nt,xt(null,Nt)},g.prototype.getImageData=function(at){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(at.width,at.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=at.width,this.offscreenCanvas.height=at.height,this.offscreenCanvasContext.drawImage(at,0,0,at.width,at.height);var xt=this.offscreenCanvasContext.getImageData(-1,-1,at.width+2,at.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new o.RGBAImage({width:xt.width,height:xt.height},xt.data)},g.prototype.removeTile=function(at){var xt=this.loaded,Mt=at.uid;xt&&xt[Mt]&&delete xt[Mt]};var f=T;function T(vt,at){var xt=vt&&vt.type,Mt;if(xt==="FeatureCollection")for(Mt=0;Mt<vt.features.length;Mt++)T(vt.features[Mt],at);else if(xt==="GeometryCollection")for(Mt=0;Mt<vt.geometries.length;Mt++)T(vt.geometries[Mt],at);else if(xt==="Feature")T(vt.geometry,at);else if(xt==="Polygon")h(vt.coordinates,at);else if(xt==="MultiPolygon")for(Mt=0;Mt<vt.coordinates.length;Mt++)h(vt.coordinates[Mt],at);return vt}function h(vt,at){if(vt.length!==0){s(vt[0],at);for(var xt=1;xt<vt.length;xt++)s(vt[xt],!at)}}function s(vt,at){for(var xt=0,Mt=0,Dt=vt.length,Lt=Dt-1;Mt<Dt;Lt=Mt++)xt+=(vt[Mt][0]-vt[Lt][0])*(vt[Lt][1]+vt[Mt][1]);xt>=0!=!!at&&vt.reverse()}var d=o.vectorTile.VectorTileFeature.prototype.toGeoJSON,A=function(at){this._feature=at,this.extent=o.EXTENT,this.type=at.type,this.properties=at.tags,"id"in at&&!isNaN(at.id)&&(this.id=parseInt(at.id,10))};A.prototype.loadGeometry=function(){if(this._feature.type===1){for(var at=[],xt=0,Mt=this._feature.geometry;xt<Mt.length;xt+=1){var Dt=Mt[xt];at.push([new o.Point$1(Dt[0],Dt[1])])}return at}else{for(var Lt=[],Bt=0,Nt=this._feature.geometry;Bt<Nt.length;Bt+=1){for(var Xt=Nt[Bt],lr=[],fr=0,hr=Xt;fr<hr.length;fr+=1){var We=hr[fr];lr.push(new o.Point$1(We[0],We[1]))}Lt.push(lr)}return Lt}},A.prototype.toGeoJSON=function(at,xt,Mt){return d.call(this,at,xt,Mt)};var w=function(at){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.EXTENT,this.length=at.length,this._features=at};w.prototype.feature=function(at){return new A(this._features[at])};var C=o.vectorTile.VectorTileFeature,b=S;function S(vt,at){this.options=at||{},this.features=vt,this.length=vt.length}S.prototype.feature=function(vt){return new m(this.features[vt],this.options.extent)};function m(vt,at){this.id=typeof vt.id=="number"?vt.id:void 0,this.type=vt.type,this.rawGeometry=vt.type===1?[vt.geometry]:vt.geometry,this.properties=vt.tags,this.extent=at||4096}m.prototype.loadGeometry=function(){var vt=this.rawGeometry;this.geometry=[];for(var at=0;at<vt.length;at++){for(var xt=vt[at],Mt=[],Dt=0;Dt<xt.length;Dt++)Mt.push(new o.Point$1(xt[Dt][0],xt[Dt][1]));this.geometry.push(Mt)}return this.geometry},m.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var vt=this.geometry,at=1/0,xt=-1/0,Mt=1/0,Dt=-1/0,Lt=0;Lt<vt.length;Lt++)for(var Bt=vt[Lt],Nt=0;Nt<Bt.length;Nt++){var Xt=Bt[Nt];at=Math.min(at,Xt.x),xt=Math.max(xt,Xt.x),Mt=Math.min(Mt,Xt.y),Dt=Math.max(Dt,Xt.y)}return[at,Mt,xt,Dt]},m.prototype.toGeoJSON=C.prototype.toGeoJSON;var a=I,E=I,x=N,k=b;function I(vt){var at=new o.pbf;return F(vt,at),at.finish()}function N(vt,at){at=at||{};var xt={};for(var Mt in vt)xt[Mt]=new b(vt[Mt].features,at),xt[Mt].name=Mt,xt[Mt].version=at.version,xt[Mt].extent=at.extent;return I({layers:xt})}function F(vt,at){for(var xt in vt.layers)at.writeMessage(3,z,vt.layers[xt])}function z(vt,at){at.writeVarintField(15,vt.version||1),at.writeStringField(1,vt.name||""),at.writeVarintField(5,vt.extent||4096);var xt,Mt={keys:[],values:[],keycache:{},valuecache:{}};for(xt=0;xt<vt.length;xt++)Mt.feature=vt.feature(xt),at.writeMessage(2,O,Mt);var Dt=Mt.keys;for(xt=0;xt<Dt.length;xt++)at.writeStringField(3,Dt[xt]);var Lt=Mt.values;for(xt=0;xt<Lt.length;xt++)at.writeMessage(4,te,Lt[xt])}function O(vt,at){var xt=vt.feature;xt.id!==void 0&&at.writeVarintField(1,xt.id),at.writeMessage(2,_,vt),at.writeVarintField(3,xt.type),at.writeMessage(4,$,xt)}function _(vt,at){var xt=vt.feature,Mt=vt.keys,Dt=vt.values,Lt=vt.keycache,Bt=vt.valuecache;for(var Nt in xt.properties){var Xt=Lt[Nt];typeof Xt>"u"&&(Mt.push(Nt),Xt=Mt.length-1,Lt[Nt]=Xt),at.writeVarint(Xt);var lr=xt.properties[Nt],fr=typeof lr;fr!=="string"&&fr!=="boolean"&&fr!=="number"&&(lr=JSON.stringify(lr));var hr=fr+":"+lr,We=Bt[hr];typeof We>"u"&&(Dt.push(lr),We=Dt.length-1,Bt[hr]=We),at.writeVarint(We)}}function B(vt,at){return(at<<3)+(vt&7)}function W(vt){return vt<<1^vt>>31}function $(vt,at){for(var xt=vt.loadGeometry(),Mt=vt.type,Dt=0,Lt=0,Bt=xt.length,Nt=0;Nt<Bt;Nt++){var Xt=xt[Nt],lr=1;Mt===1&&(lr=Xt.length),at.writeVarint(B(1,lr));for(var fr=Mt===3?Xt.length-1:Xt.length,hr=0;hr<fr;hr++){hr===1&&Mt!==1&&at.writeVarint(B(2,fr-1));var We=Xt[hr].x-Dt,Ge=Xt[hr].y-Lt;at.writeVarint(W(We)),at.writeVarint(W(Ge)),Dt+=We,Lt+=Ge}Mt===3&&at.writeVarint(B(7,1))}}function te(vt,at){var xt=typeof vt;xt==="string"?at.writeStringField(1,vt):xt==="boolean"?at.writeBooleanField(7,vt):xt==="number"&&(vt%1!==0?at.writeDoubleField(3,vt):vt<0?at.writeSVarintField(6,vt):at.writeVarintField(5,vt))}a.fromVectorTileJs=E,a.fromGeojsonVt=x,a.GeoJSONWrapper=k;function ie(vt,at,xt,Mt,Dt,Lt){if(!(Dt-Mt<=xt)){var Bt=Mt+Dt>>1;ue(vt,at,Bt,Mt,Dt,Lt%2),ie(vt,at,xt,Mt,Bt-1,Lt+1),ie(vt,at,xt,Bt+1,Dt,Lt+1)}}function ue(vt,at,xt,Mt,Dt,Lt){for(;Dt>Mt;){if(Dt-Mt>600){var Bt=Dt-Mt+1,Nt=xt-Mt+1,Xt=Math.log(Bt),lr=.5*Math.exp(2*Xt/3),fr=.5*Math.sqrt(Xt*lr*(Bt-lr)/Bt)*(Nt-Bt/2<0?-1:1),hr=Math.max(Mt,Math.floor(xt-Nt*lr/Bt+fr)),We=Math.min(Dt,Math.floor(xt+(Bt-Nt)*lr/Bt+fr));ue(vt,at,xt,hr,We,Lt)}var Ge=at[2*xt+Lt],kt=Mt,It=Dt;for(J(vt,at,Mt,xt),at[2*Dt+Lt]>Ge&&J(vt,at,Mt,Dt);kt<It;){for(J(vt,at,kt,It),kt++,It--;at[2*kt+Lt]<Ge;)kt++;for(;at[2*It+Lt]>Ge;)It--}at[2*Mt+Lt]===Ge?J(vt,at,Mt,It):(It++,J(vt,at,It,Dt)),It<=xt&&(Mt=It+1),xt<=It&&(Dt=It-1)}}function J(vt,at,xt,Mt){Y(vt,xt,Mt),Y(at,2*xt,2*Mt),Y(at,2*xt+1,2*Mt+1)}function Y(vt,at,xt){var Mt=vt[at];vt[at]=vt[xt],vt[xt]=Mt}function ae(vt,at,xt,Mt,Dt,Lt,Bt){for(var Nt=[0,vt.length-1,0],Xt=[],lr,fr;Nt.length;){var hr=Nt.pop(),We=Nt.pop(),Ge=Nt.pop();if(We-Ge<=Bt){for(var kt=Ge;kt<=We;kt++)lr=at[2*kt],fr=at[2*kt+1],lr>=xt&&lr<=Dt&&fr>=Mt&&fr<=Lt&&Xt.push(vt[kt]);continue}var It=Math.floor((Ge+We)/2);lr=at[2*It],fr=at[2*It+1],lr>=xt&&lr<=Dt&&fr>=Mt&&fr<=Lt&&Xt.push(vt[It]);var Zt=(hr+1)%2;(hr===0?xt<=lr:Mt<=fr)&&(Nt.push(Ge),Nt.push(It-1),Nt.push(Zt)),(hr===0?Dt>=lr:Lt>=fr)&&(Nt.push(It+1),Nt.push(We),Nt.push(Zt))}return Xt}function j(vt,at,xt,Mt,Dt,Lt){for(var Bt=[0,vt.length-1,0],Nt=[],Xt=Dt*Dt;Bt.length;){var lr=Bt.pop(),fr=Bt.pop(),hr=Bt.pop();if(fr-hr<=Lt){for(var We=hr;We<=fr;We++)q(at[2*We],at[2*We+1],xt,Mt)<=Xt&&Nt.push(vt[We]);continue}var Ge=Math.floor((hr+fr)/2),kt=at[2*Ge],It=at[2*Ge+1];q(kt,It,xt,Mt)<=Xt&&Nt.push(vt[Ge]);var Zt=(lr+1)%2;(lr===0?xt-Dt<=kt:Mt-Dt<=It)&&(Bt.push(hr),Bt.push(Ge-1),Bt.push(Zt)),(lr===0?xt+Dt>=kt:Mt+Dt>=It)&&(Bt.push(Ge+1),Bt.push(fr),Bt.push(Zt))}return Nt}function q(vt,at,xt,Mt){var Dt=vt-xt,Lt=at-Mt;return Dt*Dt+Lt*Lt}var oe=function(vt){return vt[0]},Q=function(vt){return vt[1]},X=function(at,xt,Mt,Dt,Lt){xt===void 0&&(xt=oe),Mt===void 0&&(Mt=Q),Dt===void 0&&(Dt=64),Lt===void 0&&(Lt=Float64Array),this.nodeSize=Dt,this.points=at;for(var Bt=at.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new Bt(at.length),Xt=this.coords=new Lt(at.length*2),lr=0;lr<at.length;lr++)Nt[lr]=lr,Xt[2*lr]=xt(at[lr]),Xt[2*lr+1]=Mt(at[lr]);ie(Nt,Xt,Dt,0,Nt.length-1,0)};X.prototype.range=function(at,xt,Mt,Dt){return ae(this.ids,this.coords,at,xt,Mt,Dt,this.nodeSize)},X.prototype.within=function(at,xt,Mt){return j(this.ids,this.coords,at,xt,Mt,this.nodeSize)};var se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(vt){return vt}},ne=function(at){this.options=Ee(Object.create(se),at),this.trees=new Array(this.options.maxZoom+1)};ne.prototype.load=function(at){var xt=this.options,Mt=xt.log,Dt=xt.minZoom,Lt=xt.maxZoom,Bt=xt.nodeSize;Mt&&console.time("total time");var Nt="prepare "+at.length+" points";Mt&&console.time(Nt),this.points=at;for(var Xt=[],lr=0;lr<at.length;lr++)at[lr].geometry&&Xt.push(ye(at[lr],lr));this.trees[Lt+1]=new X(Xt,Be,Ue,Bt,Float32Array),Mt&&console.timeEnd(Nt);for(var fr=Lt;fr>=Dt;fr--){var hr=+Date.now();Xt=this._cluster(Xt,fr),this.trees[fr]=new X(Xt,Be,Ue,Bt,Float32Array),Mt&&console.log("z%d: %d clusters in %dms",fr,Xt.length,+Date.now()-hr)}return Mt&&console.timeEnd("total time"),this},ne.prototype.getClusters=function(at,xt){var Mt=((at[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,at[1])),Lt=at[2]===180?180:((at[2]+180)%360+360)%360-180,Bt=Math.max(-90,Math.min(90,at[3]));if(at[2]-at[0]>=360)Mt=-180,Lt=180;else if(Mt>Lt){var Nt=this.getClusters([Mt,Dt,180,Bt],xt),Xt=this.getClusters([-180,Dt,Lt,Bt],xt);return Nt.concat(Xt)}for(var lr=this.trees[this._limitZoom(xt)],fr=lr.range(_e(Mt),ke(Bt),_e(Lt),ke(Dt)),hr=[],We=0,Ge=fr;We<Ge.length;We+=1){var kt=Ge[We],It=lr.points[kt];hr.push(It.numPoints?Se(It):this.points[It.index])}return hr},ne.prototype.getChildren=function(at){var xt=this._getOriginId(at),Mt=this._getOriginZoom(at),Dt="No cluster with the specified id.",Lt=this.trees[Mt];if(!Lt)throw new Error(Dt);var Bt=Lt.points[xt];if(!Bt)throw new Error(Dt);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,Mt-1)),Xt=Lt.within(Bt.x,Bt.y,Nt),lr=[],fr=0,hr=Xt;fr<hr.length;fr+=1){var We=hr[fr],Ge=Lt.points[We];Ge.parentId===at&&lr.push(Ge.numPoints?Se(Ge):this.points[Ge.index])}if(lr.length===0)throw new Error(Dt);return lr},ne.prototype.getLeaves=function(at,xt,Mt){xt=xt||10,Mt=Mt||0;var Dt=[];return this._appendLeaves(Dt,at,xt,Mt,0),Dt},ne.prototype.getTile=function(at,xt,Mt){var Dt=this.trees[this._limitZoom(at)],Lt=Math.pow(2,at),Bt=this.options,Nt=Bt.extent,Xt=Bt.radius,lr=Xt/Nt,fr=(Mt-lr)/Lt,hr=(Mt+1+lr)/Lt,We={features:[]};return this._addTileFeatures(Dt.range((xt-lr)/Lt,fr,(xt+1+lr)/Lt,hr),Dt.points,xt,Mt,Lt,We),xt===0&&this._addTileFeatures(Dt.range(1-lr/Lt,fr,1,hr),Dt.points,Lt,Mt,Lt,We),xt===Lt-1&&this._addTileFeatures(Dt.range(0,fr,lr/Lt,hr),Dt.points,-1,Mt,Lt,We),We.features.length?We:null},ne.prototype.getClusterExpansionZoom=function(at){for(var xt=this._getOriginZoom(at)-1;xt<=this.options.maxZoom;){var Mt=this.getChildren(at);if(xt++,Mt.length!==1)break;at=Mt[0].properties.cluster_id}return xt},ne.prototype._appendLeaves=function(at,xt,Mt,Dt,Lt){for(var Bt=this.getChildren(xt),Nt=0,Xt=Bt;Nt<Xt.length;Nt+=1){var lr=Xt[Nt],fr=lr.properties;if(fr&&fr.cluster?Lt+fr.point_count<=Dt?Lt+=fr.point_count:Lt=this._appendLeaves(at,fr.cluster_id,Mt,Dt,Lt):Lt<Dt?Lt++:at.push(lr),at.length===Mt)break}return Lt},ne.prototype._addTileFeatures=function(at,xt,Mt,Dt,Lt,Bt){for(var Nt=0,Xt=at;Nt<Xt.length;Nt+=1){var lr=Xt[Nt],fr=xt[lr],hr=fr.numPoints,We={type:1,geometry:[[Math.round(this.options.extent*(fr.x*Lt-Mt)),Math.round(this.options.extent*(fr.y*Lt-Dt))]],tags:hr?we(fr):this.points[fr.index].properties},Ge=void 0;hr?Ge=fr.id:this.options.generateId?Ge=fr.index:this.points[fr.index].id&&(Ge=this.points[fr.index].id),Ge!==void 0&&(We.id=Ge),Bt.features.push(We)}},ne.prototype._limitZoom=function(at){return Math.max(this.options.minZoom,Math.min(+at,this.options.maxZoom+1))},ne.prototype._cluster=function(at,xt){for(var Mt=[],Dt=this.options,Lt=Dt.radius,Bt=Dt.extent,Nt=Dt.reduce,Xt=Dt.minPoints,lr=Lt/(Bt*Math.pow(2,xt)),fr=0;fr<at.length;fr++){var hr=at[fr];if(!(hr.zoom<=xt)){hr.zoom=xt;for(var We=this.trees[xt+1],Ge=We.within(hr.x,hr.y,lr),kt=hr.numPoints||1,It=kt,Zt=0,rr=Ge;Zt<rr.length;Zt+=1){var ur=rr[Zt],er=We.points[ur];er.zoom>xt&&(It+=er.numPoints||1)}if(It>=Xt){for(var zt=hr.x*kt,vr=hr.y*kt,yr=Nt&&kt>1?this._map(hr,!0):null,pr=(fr<<5)+(xt+1)+this.points.length,cr=0,Ur=Ge;cr<Ur.length;cr+=1){var kr=Ur[cr],Rr=We.points[kr];if(!(Rr.zoom<=xt)){Rr.zoom=xt;var vn=Rr.numPoints||1;zt+=Rr.x*vn,vr+=Rr.y*vn,Rr.parentId=pr,Nt&&(yr||(yr=this._map(hr,!0)),Nt(yr,this._map(Rr)))}}hr.parentId=pr,Mt.push(fe(zt/It,vr/It,pr,It,yr))}else if(Mt.push(hr),It>1)for(var tn=0,Bn=Ge;tn<Bn.length;tn+=1){var xn=Bn[tn],Mr=We.points[xn];Mr.zoom<=xt||(Mr.zoom=xt,Mt.push(Mr))}}}return Mt},ne.prototype._getOriginId=function(at){return at-this.points.length>>5},ne.prototype._getOriginZoom=function(at){return(at-this.points.length)%32},ne.prototype._map=function(at,xt){if(at.numPoints)return xt?Ee({},at.properties):at.properties;var Mt=this.points[at.index].properties,Dt=this.options.map(Mt);return xt&&Dt===Mt?Ee({},Dt):Dt};function fe(vt,at,xt,Mt,Dt){return{x:vt,y:at,zoom:1/0,id:xt,parentId:-1,numPoints:Mt,properties:Dt}}function ye(vt,at){var xt=vt.geometry.coordinates,Mt=xt[0],Dt=xt[1];return{x:_e(Mt),y:ke(Dt),zoom:1/0,index:at,parentId:-1}}function Se(vt){return{type:"Feature",id:vt.id,properties:we(vt),geometry:{type:"Point",coordinates:[Me(vt.x),me(vt.y)]}}}function we(vt){var at=vt.numPoints,xt=at>=1e4?Math.round(at/1e3)+"k":at>=1e3?Math.round(at/100)/10+"k":at;return Ee(Ee({},vt.properties),{cluster:!0,cluster_id:vt.id,point_count:at,point_count_abbreviated:xt})}function _e(vt){return vt/360+.5}function ke(vt){var at=Math.sin(vt*Math.PI/180),xt=.5-.25*Math.log((1+at)/(1-at))/Math.PI;return xt<0?0:xt>1?1:xt}function Me(vt){return(vt-.5)*360}function me(vt){var at=(180-vt*360)*Math.PI/180;return 360*Math.atan(Math.exp(at))/Math.PI-90}function Ee(vt,at){for(var xt in at)vt[xt]=at[xt];return vt}function Be(vt){return vt.x}function Ue(vt){return vt.y}function De(vt,at,xt,Mt){for(var Dt=Mt,Lt=xt-at>>1,Bt=xt-at,Nt,Xt=vt[at],lr=vt[at+1],fr=vt[xt],hr=vt[xt+1],We=at+3;We<xt;We+=3){var Ge=He(vt[We],vt[We+1],Xt,lr,fr,hr);if(Ge>Dt)Nt=We,Dt=Ge;else if(Ge===Dt){var kt=Math.abs(We-Lt);kt<Bt&&(Nt=We,Bt=kt)}}Dt>Mt&&(Nt-at>3&&De(vt,at,Nt,Mt),vt[Nt+2]=Dt,xt-Nt>3&&De(vt,Nt,xt,Mt))}function He(vt,at,xt,Mt,Dt,Lt){var Bt=Dt-xt,Nt=Lt-Mt;if(Bt!==0||Nt!==0){var Xt=((vt-xt)*Bt+(at-Mt)*Nt)/(Bt*Bt+Nt*Nt);Xt>1?(xt=Dt,Mt=Lt):Xt>0&&(xt+=Bt*Xt,Mt+=Nt*Xt)}return Bt=vt-xt,Nt=at-Mt,Bt*Bt+Nt*Nt}function nt(vt,at,xt,Mt){var Dt={id:typeof vt>"u"?null:vt,type:at,geometry:xt,tags:Mt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return lt(Dt),Dt}function lt(vt){var at=vt.geometry,xt=vt.type;if(xt==="Point"||xt==="MultiPoint"||xt==="LineString")$e(vt,at);else if(xt==="Polygon"||xt==="MultiLineString")for(var Mt=0;Mt<at.length;Mt++)$e(vt,at[Mt]);else if(xt==="MultiPolygon")for(Mt=0;Mt<at.length;Mt++)for(var Dt=0;Dt<at[Mt].length;Dt++)$e(vt,at[Mt][Dt])}function $e(vt,at){for(var xt=0;xt<at.length;xt+=3)vt.minX=Math.min(vt.minX,at[xt]),vt.minY=Math.min(vt.minY,at[xt+1]),vt.maxX=Math.max(vt.maxX,at[xt]),vt.maxY=Math.max(vt.maxY,at[xt+1])}function qe(vt,at){var xt=[];if(vt.type==="FeatureCollection")for(var Mt=0;Mt<vt.features.length;Mt++)ct(xt,vt.features[Mt],at,Mt);else vt.type==="Feature"?ct(xt,vt,at):ct(xt,{geometry:vt},at);return xt}function ct(vt,at,xt,Mt){if(at.geometry){var Dt=at.geometry.coordinates,Lt=at.geometry.type,Bt=Math.pow(xt.tolerance/((1<<xt.maxZoom)*xt.extent),2),Nt=[],Xt=at.id;if(xt.promoteId?Xt=at.properties[xt.promoteId]:xt.generateId&&(Xt=Mt||0),Lt==="Point")dt(Dt,Nt);else if(Lt==="MultiPoint")for(var lr=0;lr<Dt.length;lr++)dt(Dt[lr],Nt);else if(Lt==="LineString")gt(Dt,Nt,Bt,!1);else if(Lt==="MultiLineString")if(xt.lineMetrics){for(lr=0;lr<Dt.length;lr++)Nt=[],gt(Dt[lr],Nt,Bt,!1),vt.push(nt(Xt,"LineString",Nt,at.properties));return}else At(Dt,Nt,Bt,!1);else if(Lt==="Polygon")At(Dt,Nt,Bt,!0);else if(Lt==="MultiPolygon")for(lr=0;lr<Dt.length;lr++){var fr=[];At(Dt[lr],fr,Bt,!0),Nt.push(fr)}else if(Lt==="GeometryCollection"){for(lr=0;lr<at.geometry.geometries.length;lr++)ct(vt,{id:Xt,geometry:at.geometry.geometries[lr],properties:at.properties},xt,Mt);return}else throw new Error("Input data is not a valid GeoJSON object.");vt.push(nt(Xt,Lt,Nt,at.properties))}}function dt(vt,at){at.push(Rt(vt[0])),at.push(Vt(vt[1])),at.push(0)}function gt(vt,at,xt,Mt){for(var Dt,Lt,Bt=0,Nt=0;Nt<vt.length;Nt++){var Xt=Rt(vt[Nt][0]),lr=Vt(vt[Nt][1]);at.push(Xt),at.push(lr),at.push(0),Nt>0&&(Mt?Bt+=(Dt*lr-Xt*Lt)/2:Bt+=Math.sqrt(Math.pow(Xt-Dt,2)+Math.pow(lr-Lt,2))),Dt=Xt,Lt=lr}var fr=at.length-3;at[2]=1,De(at,0,fr,xt),at[fr+2]=1,at.size=Math.abs(Bt),at.start=0,at.end=at.size}function At(vt,at,xt,Mt){for(var Dt=0;Dt<vt.length;Dt++){var Lt=[];gt(vt[Dt],Lt,xt,Mt),at.push(Lt)}}function Rt(vt){return vt/360+.5}function Vt(vt){var at=Math.sin(vt*Math.PI/180),xt=.5-.25*Math.log((1+at)/(1-at))/Math.PI;return xt<0?0:xt>1?1:xt}function Je(vt,at,xt,Mt,Dt,Lt,Bt,Nt){if(xt/=at,Mt/=at,Lt>=xt&&Bt<Mt)return vt;if(Bt<xt||Lt>=Mt)return null;for(var Xt=[],lr=0;lr<vt.length;lr++){var fr=vt[lr],hr=fr.geometry,We=fr.type,Ge=Dt===0?fr.minX:fr.minY,kt=Dt===0?fr.maxX:fr.maxY;if(Ge>=xt&&kt<Mt){Xt.push(fr);continue}else if(kt<xt||Ge>=Mt)continue;var It=[];if(We==="Point"||We==="MultiPoint")Ve(hr,It,xt,Mt,Dt);else if(We==="LineString")Ie(hr,It,xt,Mt,Dt,!1,Nt.lineMetrics);else if(We==="MultiLineString")Le(hr,It,xt,Mt,Dt,!1);else if(We==="Polygon")Le(hr,It,xt,Mt,Dt,!0);else if(We==="MultiPolygon")for(var Zt=0;Zt<hr.length;Zt++){var rr=[];Le(hr[Zt],rr,xt,Mt,Dt,!0),rr.length&&It.push(rr)}if(It.length){if(Nt.lineMetrics&&We==="LineString"){for(Zt=0;Zt<It.length;Zt++)Xt.push(nt(fr.id,We,It[Zt],fr.tags));continue}(We==="LineString"||We==="MultiLineString")&&(It.length===1?(We="LineString",It=It[0]):We="MultiLineString"),(We==="Point"||We==="MultiPoint")&&(We=It.length===3?"Point":"MultiPoint"),Xt.push(nt(fr.id,We,It,fr.tags))}}return Xt.length?Xt:null}function Ve(vt,at,xt,Mt,Dt){for(var Lt=0;Lt<vt.length;Lt+=3){var Bt=vt[Lt+Dt];Bt>=xt&&Bt<=Mt&&(at.push(vt[Lt]),at.push(vt[Lt+1]),at.push(vt[Lt+2]))}}function Ie(vt,at,xt,Mt,Dt,Lt,Bt){for(var Nt=Oe(vt),Xt=Dt===0?pe:Ae,lr=vt.start,fr,hr,We=0;We<vt.length-3;We+=3){var Ge=vt[We],kt=vt[We+1],It=vt[We+2],Zt=vt[We+3],rr=vt[We+4],ur=Dt===0?Ge:kt,er=Dt===0?Zt:rr,zt=!1;Bt&&(fr=Math.sqrt(Math.pow(Ge-Zt,2)+Math.pow(kt-rr,2))),ur<xt?er>xt&&(hr=Xt(Nt,Ge,kt,Zt,rr,xt),Bt&&(Nt.start=lr+fr*hr)):ur>Mt?er<Mt&&(hr=Xt(Nt,Ge,kt,Zt,rr,Mt),Bt&&(Nt.start=lr+fr*hr)):xe(Nt,Ge,kt,It),er<xt&&ur>=xt&&(hr=Xt(Nt,Ge,kt,Zt,rr,xt),zt=!0),er>Mt&&ur<=Mt&&(hr=Xt(Nt,Ge,kt,Zt,rr,Mt),zt=!0),!Lt&&zt&&(Bt&&(Nt.end=lr+fr*hr),at.push(Nt),Nt=Oe(vt)),Bt&&(lr+=fr)}var vr=vt.length-3;Ge=vt[vr],kt=vt[vr+1],It=vt[vr+2],ur=Dt===0?Ge:kt,ur>=xt&&ur<=Mt&&xe(Nt,Ge,kt,It),vr=Nt.length-3,Lt&&vr>=3&&(Nt[vr]!==Nt[0]||Nt[vr+1]!==Nt[1])&&xe(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&at.push(Nt)}function Oe(vt){var at=[];return at.size=vt.size,at.start=vt.start,at.end=vt.end,at}function Le(vt,at,xt,Mt,Dt,Lt){for(var Bt=0;Bt<vt.length;Bt++)Ie(vt[Bt],at,xt,Mt,Dt,Lt,!1)}function xe(vt,at,xt,Mt){vt.push(at),vt.push(xt),vt.push(Mt)}function pe(vt,at,xt,Mt,Dt,Lt){var Bt=(Lt-at)/(Mt-at);return vt.push(Lt),vt.push(xt+(Dt-xt)*Bt),vt.push(1),Bt}function Ae(vt,at,xt,Mt,Dt,Lt){var Bt=(Lt-xt)/(Dt-xt);return vt.push(at+(Mt-at)*Bt),vt.push(Lt),vt.push(1),Bt}function Te(vt,at){var xt=at.buffer/at.extent,Mt=vt,Dt=Je(vt,1,-1-xt,xt,0,-1,2,at),Lt=Je(vt,1,1-xt,2+xt,0,-1,2,at);return(Dt||Lt)&&(Mt=Je(vt,1,-xt,1+xt,0,-1,2,at)||[],Dt&&(Mt=Ne(Dt,1).concat(Mt)),Lt&&(Mt=Mt.concat(Ne(Lt,-1)))),Mt}function Ne(vt,at){for(var xt=[],Mt=0;Mt<vt.length;Mt++){var Dt=vt[Mt],Lt=Dt.type,Bt;if(Lt==="Point"||Lt==="MultiPoint"||Lt==="LineString")Bt=Ye(Dt.geometry,at);else if(Lt==="MultiLineString"||Lt==="Polygon"){Bt=[];for(var Nt=0;Nt<Dt.geometry.length;Nt++)Bt.push(Ye(Dt.geometry[Nt],at))}else if(Lt==="MultiPolygon")for(Bt=[],Nt=0;Nt<Dt.geometry.length;Nt++){for(var Xt=[],lr=0;lr<Dt.geometry[Nt].length;lr++)Xt.push(Ye(Dt.geometry[Nt][lr],at));Bt.push(Xt)}xt.push(nt(Dt.id,Lt,Bt,Dt.tags))}return xt}function Ye(vt,at){var xt=[];xt.size=vt.size,vt.start!==void 0&&(xt.start=vt.start,xt.end=vt.end);for(var Mt=0;Mt<vt.length;Mt+=3)xt.push(vt[Mt]+at,vt[Mt+1],vt[Mt+2]);return xt}function et(vt,at){if(vt.transformed)return vt;var xt=1<<vt.z,Mt=vt.x,Dt=vt.y,Lt,Bt,Nt;for(Lt=0;Lt<vt.features.length;Lt++){var Xt=vt.features[Lt],lr=Xt.geometry,fr=Xt.type;if(Xt.geometry=[],fr===1)for(Bt=0;Bt<lr.length;Bt+=2)Xt.geometry.push(ft(lr[Bt],lr[Bt+1],at,xt,Mt,Dt));else for(Bt=0;Bt<lr.length;Bt++){var hr=[];for(Nt=0;Nt<lr[Bt].length;Nt+=2)hr.push(ft(lr[Bt][Nt],lr[Bt][Nt+1],at,xt,Mt,Dt));Xt.geometry.push(hr)}}return vt.transformed=!0,vt}function ft(vt,at,xt,Mt,Dt,Lt){return[Math.round(xt*(vt*Mt-Dt)),Math.round(xt*(at*Mt-Lt))]}function pt(vt,at,xt,Mt,Dt){for(var Lt=at===Dt.maxZoom?0:Dt.tolerance/((1<<at)*Dt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:xt,y:Mt,z:at,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Nt=0;Nt<vt.length;Nt++){Bt.numFeatures++,Yt(Bt,vt[Nt],Lt,Dt);var Xt=vt[Nt].minX,lr=vt[Nt].minY,fr=vt[Nt].maxX,hr=vt[Nt].maxY;Xt<Bt.minX&&(Bt.minX=Xt),lr<Bt.minY&&(Bt.minY=lr),fr>Bt.maxX&&(Bt.maxX=fr),hr>Bt.maxY&&(Bt.maxY=hr)}return Bt}function Yt(vt,at,xt,Mt){var Dt=at.geometry,Lt=at.type,Bt=[];if(Lt==="Point"||Lt==="MultiPoint")for(var Nt=0;Nt<Dt.length;Nt+=3)Bt.push(Dt[Nt]),Bt.push(Dt[Nt+1]),vt.numPoints++,vt.numSimplified++;else if(Lt==="LineString")Jt(Bt,Dt,vt,xt,!1,!1);else if(Lt==="MultiLineString"||Lt==="Polygon")for(Nt=0;Nt<Dt.length;Nt++)Jt(Bt,Dt[Nt],vt,xt,Lt==="Polygon",Nt===0);else if(Lt==="MultiPolygon")for(var Xt=0;Xt<Dt.length;Xt++){var lr=Dt[Xt];for(Nt=0;Nt<lr.length;Nt++)Jt(Bt,lr[Nt],vt,xt,!0,Nt===0)}if(Bt.length){var fr=at.tags||null;if(Lt==="LineString"&&Mt.lineMetrics){fr={};for(var hr in at.tags)fr[hr]=at.tags[hr];fr.mapbox_clip_start=Dt.start/Dt.size,fr.mapbox_clip_end=Dt.end/Dt.size}var We={geometry:Bt,type:Lt==="Polygon"||Lt==="MultiPolygon"?3:Lt==="LineString"||Lt==="MultiLineString"?2:1,tags:fr};at.id!==null&&(We.id=at.id),vt.features.push(We)}}function Jt(vt,at,xt,Mt,Dt,Lt){var Bt=Mt*Mt;if(Mt>0&&at.size<(Dt?Bt:Mt)){xt.numPoints+=at.length/3;return}for(var Nt=[],Xt=0;Xt<at.length;Xt+=3)(Mt===0||at[Xt+2]>Bt)&&(xt.numSimplified++,Nt.push(at[Xt]),Nt.push(at[Xt+1])),xt.numPoints++;Dt&&Tt(Nt,Lt),vt.push(Nt)}function Tt(vt,at){for(var xt=0,Mt=0,Dt=vt.length,Lt=Dt-2;Mt<Dt;Lt=Mt,Mt+=2)xt+=(vt[Mt]-vt[Lt])*(vt[Mt+1]+vt[Lt+1]);if(xt>0===at)for(Mt=0,Dt=vt.length;Mt<Dt/2;Mt+=2){var Bt=vt[Mt],Nt=vt[Mt+1];vt[Mt]=vt[Dt-2-Mt],vt[Mt+1]=vt[Dt-1-Mt],vt[Dt-2-Mt]=Bt,vt[Dt-1-Mt]=Nt}}function _t(vt,at){return new $t(vt,at)}function $t(vt,at){at=this.options=yt(Object.create(this.options),at);var xt=at.debug;if(xt&&console.time("preprocess data"),at.maxZoom<0||at.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(at.promoteId&&at.generateId)throw new Error("promoteId and generateId cannot be used together.");var Mt=qe(vt,at);this.tiles={},this.tileCoords=[],xt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",at.indexMaxZoom,at.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Mt=Te(Mt,at),Mt.length&&this.splitTile(Mt,0,0,0),xt&&(Mt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}$t.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},$t.prototype.splitTile=function(vt,at,xt,Mt,Dt,Lt,Bt){for(var Nt=[vt,at,xt,Mt],Xt=this.options,lr=Xt.debug;Nt.length;){Mt=Nt.pop(),xt=Nt.pop(),at=Nt.pop(),vt=Nt.pop();var fr=1<<at,hr=wr(at,xt,Mt),We=this.tiles[hr];if(!We&&(lr>1&&console.time("creation"),We=this.tiles[hr]=pt(vt,at,xt,Mt,Xt),this.tileCoords.push({z:at,x:xt,y:Mt}),lr)){lr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",at,xt,Mt,We.numFeatures,We.numPoints,We.numSimplified),console.timeEnd("creation"));var Ge="z"+at;this.stats[Ge]=(this.stats[Ge]||0)+1,this.total++}if(We.source=vt,Dt){if(at===Xt.maxZoom||at===Dt)continue;var kt=1<<Dt-at;if(xt!==Math.floor(Lt/kt)||Mt!==Math.floor(Bt/kt))continue}else if(at===Xt.indexMaxZoom||We.numPoints<=Xt.indexMaxPoints)continue;if(We.source=null,vt.length!==0){lr>1&&console.time("clipping");var It=.5*Xt.buffer/Xt.extent,Zt=.5-It,rr=.5+It,ur=1+It,er,zt,vr,yr,pr,cr;er=zt=vr=yr=null,pr=Je(vt,fr,xt-It,xt+rr,0,We.minX,We.maxX,Xt),cr=Je(vt,fr,xt+Zt,xt+ur,0,We.minX,We.maxX,Xt),vt=null,pr&&(er=Je(pr,fr,Mt-It,Mt+rr,1,We.minY,We.maxY,Xt),zt=Je(pr,fr,Mt+Zt,Mt+ur,1,We.minY,We.maxY,Xt),pr=null),cr&&(vr=Je(cr,fr,Mt-It,Mt+rr,1,We.minY,We.maxY,Xt),yr=Je(cr,fr,Mt+Zt,Mt+ur,1,We.minY,We.maxY,Xt),cr=null),lr>1&&console.timeEnd("clipping"),Nt.push(er||[],at+1,xt*2,Mt*2),Nt.push(zt||[],at+1,xt*2,Mt*2+1),Nt.push(vr||[],at+1,xt*2+1,Mt*2),Nt.push(yr||[],at+1,xt*2+1,Mt*2+1)}}},$t.prototype.getTile=function(vt,at,xt){var Mt=this.options,Dt=Mt.extent,Lt=Mt.debug;if(vt<0||vt>24)return null;var Bt=1<<vt;at=(at%Bt+Bt)%Bt;var Nt=wr(vt,at,xt);if(this.tiles[Nt])return et(this.tiles[Nt],Dt);Lt>1&&console.log("drilling down to z%d-%d-%d",vt,at,xt);for(var Xt=vt,lr=at,fr=xt,hr;!hr&&Xt>0;)Xt--,lr=Math.floor(lr/2),fr=Math.floor(fr/2),hr=this.tiles[wr(Xt,lr,fr)];return!hr||!hr.source?null:(Lt>1&&console.log("found parent tile z%d-%d-%d",Xt,lr,fr),Lt>1&&console.time("drilling down"),this.splitTile(hr.source,Xt,lr,fr,vt,at,xt),Lt>1&&console.timeEnd("drilling down"),this.tiles[Nt]?et(this.tiles[Nt],Dt):null)};function wr(vt,at,xt){return((1<<vt)*xt+at)*32+vt}function yt(vt,at){for(var xt in at)vt[xt]=at[xt];return vt}function jt(vt,at){var xt=vt.tileID.canonical;if(!this._geoJSONIndex)return at(null,null);var Mt=this._geoJSONIndex.getTile(xt.z,xt.x,xt.y);if(!Mt)return at(null,null);var Dt=new w(Mt.features),Lt=a(Dt);(Lt.byteOffset!==0||Lt.byteLength!==Lt.buffer.byteLength)&&(Lt=new Uint8Array(Lt)),at(null,{vectorTile:Dt,rawData:Lt.buffer})}var Qt=function(vt){function at(xt,Mt,Dt,Lt){vt.call(this,xt,Mt,Dt,jt),Lt&&(this.loadGeoJSON=Lt)}return vt&&(at.__proto__=vt),at.prototype=Object.create(vt&&vt.prototype),at.prototype.constructor=at,at.prototype.loadData=function(Mt,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=Mt,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},at.prototype._loadData=function(){var Mt=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,Lt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Bt=Lt&&Lt.request&&Lt.request.collectResourceTiming?new o.RequestPerformance(Lt.request):!1;this.loadGeoJSON(Lt,function(Nt,Xt){if(Nt||!Xt)return Dt(Nt);if(typeof Xt!="object")return Dt(new Error("Input data given to '"+Lt.source+"' is not a valid GeoJSON object."));f(Xt,!0);try{if(Lt.filter){var lr=o.createExpression(Lt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(lr.result==="error")throw new Error(lr.value.map(function(Ge){return Ge.key+": "+Ge.message}).join(", "));var fr=Xt.features.filter(function(Ge){return lr.value.evaluate({zoom:0},Ge)});Xt={type:"FeatureCollection",features:fr}}Mt._geoJSONIndex=Lt.cluster?new ne(gr(Lt)).load(Xt.features):_t(Xt,Lt.geojsonVtOptions)}catch(Ge){return Dt(Ge)}Mt.loaded={};var hr={};if(Bt){var We=Bt.finish();We&&(hr.resourceTiming={},hr.resourceTiming[Lt.source]=JSON.parse(JSON.stringify(We)))}Dt(null,hr)})}},at.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},at.prototype.reloadTile=function(Mt,Dt){var Lt=this.loaded,Bt=Mt.uid;return Lt&&Lt[Bt]?vt.prototype.reloadTile.call(this,Mt,Dt):this.loadTile(Mt,Dt)},at.prototype.loadGeoJSON=function(Mt,Dt){if(Mt.request)o.getJSON(Mt.request,Dt);else if(typeof Mt.data=="string")try{return Dt(null,JSON.parse(Mt.data))}catch{return Dt(new Error("Input data given to '"+Mt.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+Mt.source+"' is not a valid GeoJSON object."))},at.prototype.removeSource=function(Mt,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},at.prototype.getClusterExpansionZoom=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(Mt.clusterId))}catch(Lt){Dt(Lt)}},at.prototype.getClusterChildren=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getChildren(Mt.clusterId))}catch(Lt){Dt(Lt)}},at.prototype.getClusterLeaves=function(Mt,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(Mt.clusterId,Mt.limit,Mt.offset))}catch(Lt){Dt(Lt)}},at}(u);function gr(vt){var at=vt.superclusterOptions,xt=vt.clusterProperties;if(!xt||!at)return at;for(var Mt={},Dt={},Lt={accumulated:null,zoom:0},Bt={properties:null},Nt=Object.keys(xt),Xt=0,lr=Nt;Xt<lr.length;Xt+=1){var fr=lr[Xt],hr=xt[fr],We=hr[0],Ge=hr[1],kt=o.createExpression(Ge),It=o.createExpression(typeof We=="string"?[We,["accumulated"],["get",fr]]:We);Mt[fr]=kt.value,Dt[fr]=It.value}return at.map=function(Zt){Bt.properties=Zt;for(var rr={},ur=0,er=Nt;ur<er.length;ur+=1){var zt=er[ur];rr[zt]=Mt[zt].evaluate(Lt,Bt)}return rr},at.reduce=function(Zt,rr){Bt.properties=rr;for(var ur=0,er=Nt;ur<er.length;ur+=1){var zt=er[ur];Lt.accumulated=Zt[zt],Zt[zt]=Dt[zt].evaluate(Lt,Bt)}},at}var sr=function(at){var xt=this;this.self=at,this.actor=new o.Actor(at,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Qt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Mt,Dt){if(xt.workerSourceTypes[Mt])throw new Error('Worker source with name "'+Mt+'" already registered.');xt.workerSourceTypes[Mt]=Dt},this.self.registerRTLTextPlugin=function(Mt){if(o.plugin.isParsed())throw new Error("RTL text plugin already registered.");o.plugin.applyArabicShaping=Mt.applyArabicShaping,o.plugin.processBidirectionalText=Mt.processBidirectionalText,o.plugin.processStyledBidirectionalText=Mt.processStyledBidirectionalText}};return sr.prototype.setReferrer=function(at,xt){this.referrer=xt},sr.prototype.setImages=function(at,xt,Mt){this.availableImages[at]=xt;for(var Dt in this.workerSources[at]){var Lt=this.workerSources[at][Dt];for(var Bt in Lt)Lt[Bt].availableImages=xt}Mt()},sr.prototype.setLayers=function(at,xt,Mt){this.getLayerIndex(at).replace(xt),Mt()},sr.prototype.updateLayers=function(at,xt,Mt){this.getLayerIndex(at).update(xt.layers,xt.removedIds),Mt()},sr.prototype.loadTile=function(at,xt,Mt){this.getWorkerSource(at,xt.type,xt.source).loadTile(xt,Mt)},sr.prototype.loadDEMTile=function(at,xt,Mt){this.getDEMWorkerSource(at,xt.source).loadTile(xt,Mt)},sr.prototype.reloadTile=function(at,xt,Mt){this.getWorkerSource(at,xt.type,xt.source).reloadTile(xt,Mt)},sr.prototype.abortTile=function(at,xt,Mt){this.getWorkerSource(at,xt.type,xt.source).abortTile(xt,Mt)},sr.prototype.removeTile=function(at,xt,Mt){this.getWorkerSource(at,xt.type,xt.source).removeTile(xt,Mt)},sr.prototype.removeDEMTile=function(at,xt){this.getDEMWorkerSource(at,xt.source).removeTile(xt)},sr.prototype.removeSource=function(at,xt,Mt){if(!(!this.workerSources[at]||!this.workerSources[at][xt.type]||!this.workerSources[at][xt.type][xt.source])){var Dt=this.workerSources[at][xt.type][xt.source];delete this.workerSources[at][xt.type][xt.source],Dt.removeSource!==void 0?Dt.removeSource(xt,Mt):Mt()}},sr.prototype.loadWorkerSource=function(at,xt,Mt){try{this.self.importScripts(xt.url),Mt()}catch(Dt){Mt(Dt.toString())}},sr.prototype.syncRTLPluginState=function(at,xt,Mt){try{o.plugin.setState(xt);var Dt=o.plugin.getPluginURL();if(o.plugin.isLoaded()&&!o.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var Lt=o.plugin.isParsed(),Bt=Lt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);Mt(Bt,Lt)}}catch(Nt){Mt(Nt.toString())}},sr.prototype.getAvailableImages=function(at){var xt=this.availableImages[at];return xt||(xt=[]),xt},sr.prototype.getLayerIndex=function(at){var xt=this.layerIndexes[at];return xt||(xt=this.layerIndexes[at]=new p),xt},sr.prototype.getWorkerSource=function(at,xt,Mt){var Dt=this;if(this.workerSources[at]||(this.workerSources[at]={}),this.workerSources[at][xt]||(this.workerSources[at][xt]={}),!this.workerSources[at][xt][Mt]){var Lt={send:function(Bt,Nt,Xt){Dt.actor.send(Bt,Nt,Xt,at)}};this.workerSources[at][xt][Mt]=new this.workerSourceTypes[xt](Lt,this.getLayerIndex(at),this.getAvailableImages(at))}return this.workerSources[at][xt][Mt]},sr.prototype.getDEMWorkerSource=function(at,xt){return this.demWorkerSources[at]||(this.demWorkerSources[at]={}),this.demWorkerSources[at][xt]||(this.demWorkerSources[at][xt]=new g),this.demWorkerSources[at][xt]},sr.prototype.enforceCacheSizeLimit=function(at,xt){o.enforceCacheSizeLimit(xt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new sr(self)),sr}),P(["./shared"],function(o){var L=o.createCommonjsModule(function(ce){ce.exports?ce.exports=Z:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Z,window.mapboxgl.notSupportedReason=ve);function Z(Vr){return!ve(Vr)}function ve(Vr){if(!ee())return"not a browser";if(!de())return"insufficent Array support";if(!Fe())return"insufficient Function support";if(!je())return"insufficient Object support";if(!it())return"insufficient JSON support";if(!St())return"insufficient worker support";if(!Ut())return"insufficient Uint8ClampedArray support";if(!Kt())return"insufficient ArrayBuffer support";if(!or())return"insufficient Canvas/getImageData support";if(!Fr(Vr&&Vr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ee(){return typeof window<"u"&&typeof document<"u"}function de(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Fe(){return Function.prototype&&Function.prototype.bind}function je(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function it(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function St(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Vr=new Blob([""],{type:"text/javascript"}),Kr=URL.createObjectURL(Vr),fn,Dn;try{Dn=new Worker(Kr),fn=!0}catch{fn=!1}return Dn&&Dn.terminate(),URL.revokeObjectURL(Kr),fn}function Ut(){return"Uint8ClampedArray"in window}function Kt(){return ArrayBuffer.isView}function or(){var Vr=document.createElement("canvas");Vr.width=Vr.height=1;var Kr=Vr.getContext("2d");if(!Kr)return!1;var fn=Kr.getImageData(0,0,1,1);return fn&&fn.width===Vr.width}var ir={};function Fr(Vr){return ir[Vr]===void 0&&(ir[Vr]=Yr(Vr)),ir[Vr]}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Zr(Vr){var Kr=document.createElement("canvas"),fn=Object.create(Z.webGLContextAttributes);return fn.failIfMajorPerformanceCaveat=Vr,Kr.probablySupportsContext?Kr.probablySupportsContext("webgl",fn)||Kr.probablySupportsContext("experimental-webgl",fn):Kr.supportsContext?Kr.supportsContext("webgl",fn)||Kr.supportsContext("experimental-webgl",fn):Kr.getContext("webgl",fn)||Kr.getContext("experimental-webgl",fn)}function Yr(Vr){var Kr=Zr(Vr);if(!Kr)return!1;var fn=Kr.createShader(Kr.VERTEX_SHADER);return!fn||Kr.isContextLost()?!1:(Kr.shaderSource(fn,"void main() {}"),Kr.compileShader(fn),Kr.getShaderParameter(fn,Kr.COMPILE_STATUS)===!0)}}),M={};M.create=function(ce,Z,ve){var ee=o.window.document.createElement(ce);return Z!==void 0&&(ee.className=Z),ve&&ve.appendChild(ee),ee},M.createNS=function(ce,Z){var ve=o.window.document.createElementNS(ce,Z);return ve};var v=o.window.document&&o.window.document.documentElement.style;function p(ce){if(!v)return ce[0];for(var Z=0;Z<ce.length;Z++)if(ce[Z]in v)return ce[Z];return ce[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;M.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},M.enableDrag=function(){v&&r&&(v[r]=t)};var i=p(["transform","WebkitTransform"]);M.setTransform=function(ce,Z){ce.style[i]=Z};var n=!1;try{var c=Object.defineProperty({},"passive",{get:function(){n=!0}});o.window.addEventListener("test",c,c),o.window.removeEventListener("test",c,c)}catch{n=!1}M.addEventListener=function(ce,Z,ve,ee){ee===void 0&&(ee={}),"passive"in ee&&n?ce.addEventListener(Z,ve,ee):ce.addEventListener(Z,ve,ee.capture)},M.removeEventListener=function(ce,Z,ve,ee){ee===void 0&&(ee={}),"passive"in ee&&n?ce.removeEventListener(Z,ve,ee):ce.removeEventListener(Z,ve,ee.capture)};var u=function(ce){ce.preventDefault(),ce.stopPropagation(),o.window.removeEventListener("click",u,!0)};M.suppressClick=function(){o.window.addEventListener("click",u,!0),o.window.setTimeout(function(){o.window.removeEventListener("click",u,!0)},0)},M.mousePos=function(ce,Z){var ve=ce.getBoundingClientRect();return new o.Point(Z.clientX-ve.left-ce.clientLeft,Z.clientY-ve.top-ce.clientTop)},M.touchPos=function(ce,Z){for(var ve=ce.getBoundingClientRect(),ee=[],de=0;de<Z.length;de++)ee.push(new o.Point(Z[de].clientX-ve.left-ce.clientLeft,Z[de].clientY-ve.top-ce.clientTop));return ee},M.mouseButton=function(ce){return typeof o.window.InstallTrigger<"u"&&ce.button===2&&ce.ctrlKey&&o.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ce.button},M.remove=function(ce){ce.parentNode&&ce.parentNode.removeChild(ce)};function l(ce,Z,ve){var ee,de,Fe,je=o.browser.devicePixelRatio>1?"@2x":"",it=o.getJSON(Z.transformRequest(Z.normalizeSpriteURL(ce,je,".json"),o.ResourceType.SpriteJSON),function(Kt,or){it=null,Fe||(Fe=Kt,ee=or,Ut())}),St=o.getImage(Z.transformRequest(Z.normalizeSpriteURL(ce,je,".png"),o.ResourceType.SpriteImage),function(Kt,or){St=null,Fe||(Fe=Kt,de=or,Ut())});function Ut(){if(Fe)ve(Fe);else if(ee&&de){var Kt=o.browser.getImageData(de),or={};for(var ir in ee){var Fr=ee[ir],Zr=Fr.width,Yr=Fr.height,Vr=Fr.x,Kr=Fr.y,fn=Fr.sdf,Dn=Fr.pixelRatio,zn=Fr.stretchX,Yn=Fr.stretchY,Xn=Fr.content,Vn=new o.RGBAImage({width:Zr,height:Yr});o.RGBAImage.copy(Kt,Vn,{x:Vr,y:Kr},{x:0,y:0},{width:Zr,height:Yr}),or[ir]={data:Vn,pixelRatio:Dn,sdf:fn,stretchX:zn,stretchY:Yn,content:Xn}}ve(null,or)}}return{cancel:function(){it&&(it.cancel(),it=null),St&&(St.cancel(),St=null)}}}function g(ce){var Z=ce.userImage;if(Z&&Z.render){var ve=Z.render();if(ve)return ce.data.replace(new Uint8Array(Z.data.buffer)),!0}return!1}var f=1,T=function(ce){function Z(){ce.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.RGBAImage({width:1,height:1}),this.dirty=!0}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.isLoaded=function(){return this.loaded},Z.prototype.setLoaded=function(ee){if(this.loaded!==ee&&(this.loaded=ee,ee)){for(var de=0,Fe=this.requestors;de<Fe.length;de+=1){var je=Fe[de],it=je.ids,St=je.callback;this._notify(it,St)}this.requestors=[]}},Z.prototype.getImage=function(ee){return this.images[ee]},Z.prototype.addImage=function(ee,de){this._validate(ee,de)&&(this.images[ee]=de)},Z.prototype._validate=function(ee,de){var Fe=!0;return this._validateStretch(de.stretchX,de.data&&de.data.width)||(this.fire(new o.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchX" value'))),Fe=!1),this._validateStretch(de.stretchY,de.data&&de.data.height)||(this.fire(new o.ErrorEvent(new Error('Image "'+ee+'" has invalid "stretchY" value'))),Fe=!1),this._validateContent(de.content,de)||(this.fire(new o.ErrorEvent(new Error('Image "'+ee+'" has invalid "content" value'))),Fe=!1),Fe},Z.prototype._validateStretch=function(ee,de){if(!ee)return!0;for(var Fe=0,je=0,it=ee;je<it.length;je+=1){var St=it[je];if(St[0]<Fe||St[1]<St[0]||de<St[1])return!1;Fe=St[1]}return!0},Z.prototype._validateContent=function(ee,de){return ee?!(ee.length!==4||ee[0]<0||de.data.width<ee[0]||ee[1]<0||de.data.height<ee[1]||ee[2]<0||de.data.width<ee[2]||ee[3]<0||de.data.height<ee[3]||ee[2]<ee[0]||ee[3]<ee[1]):!0},Z.prototype.updateImage=function(ee,de){var Fe=this.images[ee];de.version=Fe.version+1,this.images[ee]=de,this.updatedImages[ee]=!0},Z.prototype.removeImage=function(ee){var de=this.images[ee];delete this.images[ee],delete this.patterns[ee],de.userImage&&de.userImage.onRemove&&de.userImage.onRemove()},Z.prototype.listImages=function(){return Object.keys(this.images)},Z.prototype.getImages=function(ee,de){var Fe=!0;if(!this.isLoaded())for(var je=0,it=ee;je<it.length;je+=1){var St=it[je];this.images[St]||(Fe=!1)}this.isLoaded()||Fe?this._notify(ee,de):this.requestors.push({ids:ee,callback:de})},Z.prototype._notify=function(ee,de){for(var Fe={},je=0,it=ee;je<it.length;je+=1){var St=it[je];this.images[St]||this.fire(new o.Event("styleimagemissing",{id:St}));var Ut=this.images[St];Ut?Fe[St]={data:Ut.data.clone(),pixelRatio:Ut.pixelRatio,sdf:Ut.sdf,version:Ut.version,stretchX:Ut.stretchX,stretchY:Ut.stretchY,content:Ut.content,hasRenderCallback:!!(Ut.userImage&&Ut.userImage.render)}:o.warnOnce('Image "'+St+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}de(null,Fe)},Z.prototype.getPixelSize=function(){var ee=this.atlasImage,de=ee.width,Fe=ee.height;return{width:de,height:Fe}},Z.prototype.getPattern=function(ee){var de=this.patterns[ee],Fe=this.getImage(ee);if(!Fe)return null;if(de&&de.position.version===Fe.version)return de.position;if(de)de.position.version=Fe.version;else{var je=Fe.data.width+f*2,it=Fe.data.height+f*2,St={w:je,h:it,x:0,y:0},Ut=new o.ImagePosition(St,Fe);this.patterns[ee]={bin:St,position:Ut}}return this._updatePatternAtlas(),this.patterns[ee].position},Z.prototype.bind=function(ee){var de=ee.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.Texture(ee,this.atlasImage,de.RGBA),this.atlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE)},Z.prototype._updatePatternAtlas=function(){var ee=[];for(var de in this.patterns)ee.push(this.patterns[de].bin);var Fe=o.potpack(ee),je=Fe.w,it=Fe.h,St=this.atlasImage;St.resize({width:je||1,height:it||1});for(var Ut in this.patterns){var Kt=this.patterns[Ut],or=Kt.bin,ir=or.x+f,Fr=or.y+f,Zr=this.images[Ut].data,Yr=Zr.width,Vr=Zr.height;o.RGBAImage.copy(Zr,St,{x:0,y:0},{x:ir,y:Fr},{width:Yr,height:Vr}),o.RGBAImage.copy(Zr,St,{x:0,y:Vr-1},{x:ir,y:Fr-1},{width:Yr,height:1}),o.RGBAImage.copy(Zr,St,{x:0,y:0},{x:ir,y:Fr+Vr},{width:Yr,height:1}),o.RGBAImage.copy(Zr,St,{x:Yr-1,y:0},{x:ir-1,y:Fr},{width:1,height:Vr}),o.RGBAImage.copy(Zr,St,{x:0,y:0},{x:ir+Yr,y:Fr},{width:1,height:Vr})}this.dirty=!0},Z.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Z.prototype.dispatchRenderCallbacks=function(ee){for(var de=0,Fe=ee;de<Fe.length;de+=1){var je=Fe[de];if(!this.callbackDispatchedThisFrame[je]){this.callbackDispatchedThisFrame[je]=!0;var it=this.images[je],St=g(it);St&&this.updateImage(je,it)}}},Z}(o.Evented);function h(ce,Z,ve,ee,de){var Fe=Z*256,je=Fe+255,it=ee.transformRequest(ee.normalizeGlyphsURL(ve).replace("{fontstack}",ce).replace("{range}",Fe+"-"+je),o.ResourceType.Glyphs);o.getArrayBuffer(it,function(St,Ut){if(St)de(St);else if(Ut){for(var Kt={},or=0,ir=o.parseGlyphPBF(Ut);or<ir.length;or+=1){var Fr=ir[or];Kt[Fr.id]=Fr}de(null,Kt)}})}var s=w,d=w,A=1e20;function w(ce,Z,ve,ee,de,Fe){this.fontSize=ce||24,this.buffer=Z===void 0?3:Z,this.cutoff=ee||.25,this.fontFamily=de||"sans-serif",this.fontWeight=Fe||"normal",this.radius=ve||8;var je=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=je,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(je*je),this.gridInner=new Float64Array(je*je),this.f=new Float64Array(je),this.d=new Float64Array(je),this.z=new Float64Array(je+1),this.v=new Int16Array(je),this.middle=Math.round(je/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}w.prototype.draw=function(ce){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ce,this.buffer,this.middle);for(var Z=this.ctx.getImageData(0,0,this.size,this.size),ve=new Uint8ClampedArray(this.size*this.size),ee=0;ee<this.size*this.size;ee++){var de=Z.data[ee*4+3]/255;this.gridOuter[ee]=de===1?0:de===0?A:Math.pow(Math.max(0,.5-de),2),this.gridInner[ee]=de===1?A:de===0?0:Math.pow(Math.max(0,de-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ee=0;ee<this.size*this.size;ee++){var Fe=this.gridOuter[ee]-this.gridInner[ee];ve[ee]=Math.max(0,Math.min(255,Math.round(255-255*(Fe/this.radius+this.cutoff))))}return ve};function C(ce,Z,ve,ee,de,Fe,je){for(var it=0;it<Z;it++){for(var St=0;St<ve;St++)ee[St]=ce[St*Z+it];for(b(ee,de,Fe,je,ve),St=0;St<ve;St++)ce[St*Z+it]=de[St]}for(St=0;St<ve;St++){for(it=0;it<Z;it++)ee[it]=ce[St*Z+it];for(b(ee,de,Fe,je,Z),it=0;it<Z;it++)ce[St*Z+it]=Math.sqrt(de[it])}}function b(ce,Z,ve,ee,de){ve[0]=0,ee[0]=-A,ee[1]=+A;for(var Fe=1,je=0;Fe<de;Fe++){for(var it=(ce[Fe]+Fe*Fe-(ce[ve[je]]+ve[je]*ve[je]))/(2*Fe-2*ve[je]);it<=ee[je];)je--,it=(ce[Fe]+Fe*Fe-(ce[ve[je]]+ve[je]*ve[je]))/(2*Fe-2*ve[je]);je++,ve[je]=Fe,ee[je]=it,ee[je+1]=+A}for(Fe=0,je=0;Fe<de;Fe++){for(;ee[je+1]<Fe;)je++;Z[Fe]=(Fe-ve[je])*(Fe-ve[je])+ce[ve[je]]}}s.default=d;var S=function(Z,ve){this.requestManager=Z,this.localIdeographFontFamily=ve,this.entries={}};S.prototype.setURL=function(Z){this.url=Z},S.prototype.getGlyphs=function(Z,ve){var ee=this,de=[];for(var Fe in Z)for(var je=0,it=Z[Fe];je<it.length;je+=1){var St=it[je];de.push({stack:Fe,id:St})}o.asyncAll(de,function(Ut,Kt){var or=Ut.stack,ir=Ut.id,Fr=ee.entries[or];Fr||(Fr=ee.entries[or]={glyphs:{},requests:{},ranges:{}});var Zr=Fr.glyphs[ir];if(Zr!==void 0){Kt(null,{stack:or,id:ir,glyph:Zr});return}if(Zr=ee._tinySDF(Fr,or,ir),Zr){Fr.glyphs[ir]=Zr,Kt(null,{stack:or,id:ir,glyph:Zr});return}var Yr=Math.floor(ir/256);if(Yr*256>65535){Kt(new Error("glyphs > 65535 not supported"));return}if(Fr.ranges[Yr]){Kt(null,{stack:or,id:ir,glyph:Zr});return}var Vr=Fr.requests[Yr];Vr||(Vr=Fr.requests[Yr]=[],S.loadGlyphRange(or,Yr,ee.url,ee.requestManager,function(Kr,fn){if(fn){for(var Dn in fn)ee._doesCharSupportLocalGlyph(+Dn)||(Fr.glyphs[+Dn]=fn[+Dn]);Fr.ranges[Yr]=!0}for(var zn=0,Yn=Vr;zn<Yn.length;zn+=1){var Xn=Yn[zn];Xn(Kr,fn)}delete Fr.requests[Yr]})),Vr.push(function(Kr,fn){Kr?Kt(Kr):fn&&Kt(null,{stack:or,id:ir,glyph:fn[ir]||null})})},function(Ut,Kt){if(Ut)ve(Ut);else if(Kt){for(var or={},ir=0,Fr=Kt;ir<Fr.length;ir+=1){var Zr=Fr[ir],Yr=Zr.stack,Vr=Zr.id,Kr=Zr.glyph;(or[Yr]||(or[Yr]={}))[Vr]=Kr&&{id:Kr.id,bitmap:Kr.bitmap.clone(),metrics:Kr.metrics}}ve(null,or)}})},S.prototype._doesCharSupportLocalGlyph=function(Z){return!!this.localIdeographFontFamily&&(o.isChar["CJK Unified Ideographs"](Z)||o.isChar["Hangul Syllables"](Z)||o.isChar.Hiragana(Z)||o.isChar.Katakana(Z))},S.prototype._tinySDF=function(Z,ve,ee){var de=this.localIdeographFontFamily;if(de&&this._doesCharSupportLocalGlyph(ee)){var Fe=Z.tinySDF;if(!Fe){var je="400";/bold/i.test(ve)?je="900":/medium/i.test(ve)?je="500":/light/i.test(ve)&&(je="200"),Fe=Z.tinySDF=new S.TinySDF(24,3,8,.25,de,je)}return{id:ee,bitmap:new o.AlphaImage({width:30,height:30},Fe.draw(String.fromCharCode(ee))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=h,S.TinySDF=s;var m=function(){this.specification=o.styleSpec.light.position};m.prototype.possiblyEvaluate=function(Z,ve){return o.sphericalToCartesian(Z.expression.evaluate(ve))},m.prototype.interpolate=function(Z,ve,ee){return{x:o.number(Z.x,ve.x,ee),y:o.number(Z.y,ve.y,ee),z:o.number(Z.z,ve.z,ee)}};var a=new o.Properties({anchor:new o.DataConstantProperty(o.styleSpec.light.anchor),position:new m,color:new o.DataConstantProperty(o.styleSpec.light.color),intensity:new o.DataConstantProperty(o.styleSpec.light.intensity)}),E="-transition",x=function(ce){function Z(ve){ce.call(this),this._transitionable=new o.Transitionable(a),this.setLight(ve),this._transitioning=this._transitionable.untransitioned()}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getLight=function(){return this._transitionable.serialize()},Z.prototype.setLight=function(ee,de){if(de===void 0&&(de={}),!this._validate(o.validateLight,ee,de))for(var Fe in ee){var je=ee[Fe];o.endsWith(Fe,E)?this._transitionable.setTransition(Fe.slice(0,-E.length),je):this._transitionable.setValue(Fe,je)}},Z.prototype.updateTransitions=function(ee){this._transitioning=this._transitionable.transitioned(ee,this._transitioning)},Z.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Z.prototype.recalculate=function(ee){this.properties=this._transitioning.possiblyEvaluate(ee)},Z.prototype._validate=function(ee,de,Fe){return Fe&&Fe.validate===!1?!1:o.emitValidationErrors(this,ee.call(o.validateStyle,o.extend({value:de,style:{glyphs:!0,sprite:!0},styleSpec:o.styleSpec})))},Z}(o.Evented),k=function(Z,ve){this.width=Z,this.height=ve,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(Z,ve){var ee=Z.join(",")+String(ve);return this.dashEntry[ee]||(this.dashEntry[ee]=this.addDash(Z,ve)),this.dashEntry[ee]},k.prototype.getDashRanges=function(Z,ve,ee){var de=Z.length%2===1,Fe=[],je=de?-Z[Z.length-1]*ee:0,it=Z[0]*ee,St=!0;Fe.push({left:je,right:it,isDash:St,zeroLength:Z[0]===0});for(var Ut=Z[0],Kt=1;Kt<Z.length;Kt++){St=!St;var or=Z[Kt];je=Ut*ee,Ut+=or,it=Ut*ee,Fe.push({left:je,right:it,isDash:St,zeroLength:or===0})}return Fe},k.prototype.addRoundDash=function(Z,ve,ee){for(var de=ve/2,Fe=-ee;Fe<=ee;Fe++)for(var je=this.nextRow+ee+Fe,it=this.width*je,St=0,Ut=Z[St],Kt=0;Kt<this.width;Kt++){Kt/Ut.right>1&&(Ut=Z[++St]);var or=Math.abs(Kt-Ut.left),ir=Math.abs(Kt-Ut.right),Fr=Math.min(or,ir),Zr=void 0,Yr=Fe/ee*(de+1);if(Ut.isDash){var Vr=de-Math.abs(Yr);Zr=Math.sqrt(Fr*Fr+Vr*Vr)}else Zr=de-Math.sqrt(Fr*Fr+Yr*Yr);this.data[it+Kt]=Math.max(0,Math.min(255,Zr+128))}},k.prototype.addRegularDash=function(Z){for(var ve=Z.length-1;ve>=0;--ve){var ee=Z[ve],de=Z[ve+1];ee.zeroLength?Z.splice(ve,1):de&&de.isDash===ee.isDash&&(de.left=ee.left,Z.splice(ve,1))}var Fe=Z[0],je=Z[Z.length-1];Fe.isDash===je.isDash&&(Fe.left=je.left-this.width,je.right=Fe.right+this.width);for(var it=this.width*this.nextRow,St=0,Ut=Z[St],Kt=0;Kt<this.width;Kt++){Kt/Ut.right>1&&(Ut=Z[++St]);var or=Math.abs(Kt-Ut.left),ir=Math.abs(Kt-Ut.right),Fr=Math.min(or,ir),Zr=Ut.isDash?Fr:-Fr;this.data[it+Kt]=Math.max(0,Math.min(255,Zr+128))}},k.prototype.addDash=function(Z,ve){var ee=ve?7:0,de=2*ee+1;if(this.nextRow+de>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var Fe=0,je=0;je<Z.length;je++)Fe+=Z[je];if(Fe!==0){var it=this.width/Fe,St=this.getDashRanges(Z,this.width,it);ve?this.addRoundDash(St,it,ee):this.addRegularDash(St)}var Ut={y:(this.nextRow+ee+.5)/this.height,height:2*ee/this.height,width:Fe};return this.nextRow+=de,this.dirty=!0,Ut},k.prototype.bind=function(Z){var ve=Z.gl;this.texture?(ve.bindTexture(ve.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ve.texSubImage2D(ve.TEXTURE_2D,0,0,0,this.width,this.height,ve.ALPHA,ve.UNSIGNED_BYTE,this.data))):(this.texture=ve.createTexture(),ve.bindTexture(ve.TEXTURE_2D,this.texture),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_S,ve.REPEAT),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_WRAP_T,ve.REPEAT),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MIN_FILTER,ve.LINEAR),ve.texParameteri(ve.TEXTURE_2D,ve.TEXTURE_MAG_FILTER,ve.LINEAR),ve.texImage2D(ve.TEXTURE_2D,0,ve.ALPHA,this.width,this.height,0,ve.ALPHA,ve.UNSIGNED_BYTE,this.data))};var I=function ce(Z,ve){this.workerPool=Z,this.actors=[],this.currentActor=0,this.id=o.uniqueId();for(var ee=this.workerPool.acquire(this.id),de=0;de<ee.length;de++){var Fe=ee[de],je=new ce.Actor(Fe,ve,this.id);je.name="Worker "+de,this.actors.push(je)}};I.prototype.broadcast=function(Z,ve,ee){ee=ee||function(){},o.asyncAll(this.actors,function(de,Fe){de.send(Z,ve,Fe)},ee)},I.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},I.prototype.remove=function(){this.actors.forEach(function(Z){Z.remove()}),this.actors=[],this.workerPool.release(this.id)},I.Actor=o.Actor;function N(ce,Z,ve){var ee=function(de,Fe){if(de)return ve(de);if(Fe){var je=o.pick(o.extend(Fe,ce),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Fe.vector_layers&&(je.vectorLayers=Fe.vector_layers,je.vectorLayerIds=je.vectorLayers.map(function(it){return it.id})),je.tiles=Z.canonicalizeTileset(je,ce.url),ve(null,je)}};return ce.url?o.getJSON(Z.transformRequest(Z.normalizeSourceURL(ce.url),o.ResourceType.Source),ee):o.browser.frame(function(){return ee(null,ce)})}var F=function(Z,ve,ee){this.bounds=o.LngLatBounds.convert(this.validateBounds(Z)),this.minzoom=ve||0,this.maxzoom=ee||24};F.prototype.validateBounds=function(Z){return!Array.isArray(Z)||Z.length!==4?[-180,-90,180,90]:[Math.max(-180,Z[0]),Math.max(-90,Z[1]),Math.min(180,Z[2]),Math.min(90,Z[3])]},F.prototype.contains=function(Z){var ve=Math.pow(2,Z.z),ee={minX:Math.floor(o.mercatorXfromLng(this.bounds.getWest())*ve),minY:Math.floor(o.mercatorYfromLat(this.bounds.getNorth())*ve),maxX:Math.ceil(o.mercatorXfromLng(this.bounds.getEast())*ve),maxY:Math.ceil(o.mercatorYfromLat(this.bounds.getSouth())*ve)},de=Z.x>=ee.minX&&Z.x<ee.maxX&&Z.y>=ee.minY&&Z.y<ee.maxY;return de};var z=function(ce){function Z(ve,ee,de,Fe){if(ce.call(this),this.id=ve,this.dispatcher=de,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.extend(this,o.pick(ee,["url","scheme","tileSize","promoteId"])),this._options=o.extend({type:"vector"},ee),this._collectResourceTiming=ee.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Fe)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(de,Fe){ee._tileJSONRequest=null,ee._loaded=!0,de?ee.fire(new o.ErrorEvent(de)):Fe&&(o.extend(ee,Fe),Fe.bounds&&(ee.tileBounds=new F(Fe.bounds,ee.minzoom,ee.maxzoom)),o.postTurnstileEvent(Fe.tiles,ee.map._requestManager._customAccessToken),o.postMapLoadEvent(Fe.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken,ee.map._requestManager._customAccessToken),ee.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},Z.prototype.onAdd=function(ee){this.map=ee,this.load()},Z.prototype.setSourceProperty=function(ee){this._tileJSONRequest&&this._tileJSONRequest.cancel(),ee();var de=this.map.style.sourceCaches[this.id];de.clearTiles(),this.load()},Z.prototype.setTiles=function(ee){var de=this;return this.setSourceProperty(function(){de._options.tiles=ee}),this},Z.prototype.setUrl=function(ee){var de=this;return this.setSourceProperty(function(){de.url=ee,de._options.url=ee}),this},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return o.extend({},this._options)},Z.prototype.loadTile=function(ee,de){var Fe=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme)),je={request:this.map._requestManager.transformRequest(Fe,o.ResourceType.Tile),uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,tileSize:this.tileSize*ee.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};je.request.collectResourceTiming=this._collectResourceTiming,!ee.actor||ee.state==="expired"?(ee.actor=this.dispatcher.getActor(),ee.request=ee.actor.send("loadTile",je,it.bind(this))):ee.state==="loading"?ee.reloadCallback=de:ee.request=ee.actor.send("reloadTile",je,it.bind(this));function it(St,Ut){if(delete ee.request,ee.aborted)return de(null);if(St&&St.status!==404)return de(St);Ut&&Ut.resourceTiming&&(ee.resourceTiming=Ut.resourceTiming),this.map._refreshExpiredTiles&&Ut&&ee.setExpiryData(Ut),ee.loadVectorData(Ut,this.map.painter),o.cacheEntryPossiblyAdded(this.dispatcher),de(null),ee.reloadCallback&&(this.loadTile(ee,ee.reloadCallback),ee.reloadCallback=null)}},Z.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.actor&&ee.actor.send("abortTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},Z.prototype.unloadTile=function(ee){ee.unloadVectorData(),ee.actor&&ee.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id},void 0)},Z.prototype.hasTransition=function(){return!1},Z}(o.Evented),O=function(ce){function Z(ve,ee,de,Fe){ce.call(this),this.id=ve,this.dispatcher=de,this.setEventedParent(Fe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({type:"raster"},ee),o.extend(this,o.pick(ee,["url","scheme","tileSize"]))}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var ee=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(de,Fe){ee._tileJSONRequest=null,ee._loaded=!0,de?ee.fire(new o.ErrorEvent(de)):Fe&&(o.extend(ee,Fe),Fe.bounds&&(ee.tileBounds=new F(Fe.bounds,ee.minzoom,ee.maxzoom)),o.postTurnstileEvent(Fe.tiles),o.postMapLoadEvent(Fe.tiles,ee.map._getMapId(),ee.map._requestManager._skuToken),ee.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),ee.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.onAdd=function(ee){this.map=ee,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return o.extend({},this._options)},Z.prototype.hasTile=function(ee){return!this.tileBounds||this.tileBounds.contains(ee.canonical)},Z.prototype.loadTile=function(ee,de){var Fe=this,je=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=o.getImage(this.map._requestManager.transformRequest(je,o.ResourceType.Tile),function(it,St){if(delete ee.request,ee.aborted)ee.state="unloaded",de(null);else if(it)ee.state="errored",de(it);else if(St){Fe.map._refreshExpiredTiles&&ee.setExpiryData(St),delete St.cacheControl,delete St.expires;var Ut=Fe.map.painter.context,Kt=Ut.gl;ee.texture=Fe.map.painter.getTileTexture(St.width),ee.texture?ee.texture.update(St,{useMipmap:!0}):(ee.texture=new o.Texture(Ut,St,Kt.RGBA,{useMipmap:!0}),ee.texture.bind(Kt.LINEAR,Kt.CLAMP_TO_EDGE,Kt.LINEAR_MIPMAP_NEAREST),Ut.extTextureFilterAnisotropic&&Kt.texParameterf(Kt.TEXTURE_2D,Ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ut.extTextureFilterAnisotropicMax)),ee.state="loaded",o.cacheEntryPossiblyAdded(Fe.dispatcher),de(null)}})},Z.prototype.abortTile=function(ee,de){ee.request&&(ee.request.cancel(),delete ee.request),de()},Z.prototype.unloadTile=function(ee,de){ee.texture&&this.map.painter.saveTileTexture(ee.texture),de()},Z.prototype.hasTransition=function(){return!1},Z}(o.Evented),_=function(ce){function Z(ve,ee,de,Fe){ce.call(this,ve,ee,de,Fe),this.type="raster-dem",this.maxzoom=22,this._options=o.extend({type:"raster-dem"},ee),this.encoding=ee.encoding||"mapbox"}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Z.prototype.loadTile=function(ee,de){var Fe=this.map._requestManager.normalizeTileURL(ee.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ee.request=o.getImage(this.map._requestManager.transformRequest(Fe,o.ResourceType.Tile),je.bind(this)),ee.neighboringTiles=this._getNeighboringTiles(ee.tileID);function je(St,Ut){if(delete ee.request,ee.aborted)ee.state="unloaded",de(null);else if(St)ee.state="errored",de(St);else if(Ut){this.map._refreshExpiredTiles&&ee.setExpiryData(Ut),delete Ut.cacheControl,delete Ut.expires;var Kt=o.window.ImageBitmap&&Ut instanceof o.window.ImageBitmap&&o.offscreenCanvasSupported(),or=Kt?Ut:o.browser.getImageData(Ut,1),ir={uid:ee.uid,coord:ee.tileID,source:this.id,rawImageData:or,encoding:this.encoding};(!ee.actor||ee.state==="expired")&&(ee.actor=this.dispatcher.getActor(),ee.actor.send("loadDEMTile",ir,it.bind(this)))}}function it(St,Ut){St&&(ee.state="errored",de(St)),Ut&&(ee.dem=Ut,ee.needsHillshadePrepare=!0,ee.state="loaded",de(null))}},Z.prototype._getNeighboringTiles=function(ee){var de=ee.canonical,Fe=Math.pow(2,de.z),je=(de.x-1+Fe)%Fe,it=de.x===0?ee.wrap-1:ee.wrap,St=(de.x+1+Fe)%Fe,Ut=de.x+1===Fe?ee.wrap+1:ee.wrap,Kt={};return Kt[new o.OverscaledTileID(ee.overscaledZ,it,de.z,je,de.y).key]={backfilled:!1},Kt[new o.OverscaledTileID(ee.overscaledZ,Ut,de.z,St,de.y).key]={backfilled:!1},de.y>0&&(Kt[new o.OverscaledTileID(ee.overscaledZ,it,de.z,je,de.y-1).key]={backfilled:!1},Kt[new o.OverscaledTileID(ee.overscaledZ,ee.wrap,de.z,de.x,de.y-1).key]={backfilled:!1},Kt[new o.OverscaledTileID(ee.overscaledZ,Ut,de.z,St,de.y-1).key]={backfilled:!1}),de.y+1<Fe&&(Kt[new o.OverscaledTileID(ee.overscaledZ,it,de.z,je,de.y+1).key]={backfilled:!1},Kt[new o.OverscaledTileID(ee.overscaledZ,ee.wrap,de.z,de.x,de.y+1).key]={backfilled:!1},Kt[new o.OverscaledTileID(ee.overscaledZ,Ut,de.z,St,de.y+1).key]={backfilled:!1}),Kt},Z.prototype.unloadTile=function(ee){ee.demTexture&&this.map.painter.saveTileTexture(ee.demTexture),ee.fbo&&(ee.fbo.destroy(),delete ee.fbo),ee.dem&&delete ee.dem,delete ee.neighboringTiles,ee.state="unloaded",ee.actor&&ee.actor.send("removeDEMTile",{uid:ee.uid,source:this.id})},Z}(O),B=function(ce){function Z(ve,ee,de,Fe){ce.call(this),this.id=ve,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=de.getActor(),this.setEventedParent(Fe),this._data=ee.data,this._options=o.extend({},ee),this._collectResourceTiming=ee.collectResourceTiming,this._resourceTiming=[],ee.maxzoom!==void 0&&(this.maxzoom=ee.maxzoom),ee.type&&(this.type=ee.type),ee.attribution&&(this.attribution=ee.attribution),this.promoteId=ee.promoteId;var je=o.EXTENT/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:ee.cluster||!1,geojsonVtOptions:{buffer:(ee.buffer!==void 0?ee.buffer:128)*je,tolerance:(ee.tolerance!==void 0?ee.tolerance:.375)*je,extent:o.EXTENT,maxZoom:this.maxzoom,lineMetrics:ee.lineMetrics||!1,generateId:ee.generateId||!1},superclusterOptions:{maxZoom:ee.clusterMaxZoom!==void 0?Math.min(ee.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,ee.clusterMinPoints||2),extent:o.EXTENT,radius:(ee.clusterRadius||50)*je,log:!1,generateId:ee.generateId||!1},clusterProperties:ee.clusterProperties,filter:ee.filter},ee.workerOptions)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var ee=this;this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(de){if(de){ee.fire(new o.ErrorEvent(de));return}var Fe={dataType:"source",sourceDataType:"metadata"};ee._collectResourceTiming&&ee._resourceTiming&&ee._resourceTiming.length>0&&(Fe.resourceTiming=ee._resourceTiming,ee._resourceTiming=[]),ee.fire(new o.Event("data",Fe))})},Z.prototype.onAdd=function(ee){this.map=ee,this.load()},Z.prototype.setData=function(ee){var de=this;return this._data=ee,this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Fe){if(Fe){de.fire(new o.ErrorEvent(Fe));return}var je={dataType:"source",sourceDataType:"content"};de._collectResourceTiming&&de._resourceTiming&&de._resourceTiming.length>0&&(je.resourceTiming=de._resourceTiming,de._resourceTiming=[]),de.fire(new o.Event("data",je))}),this},Z.prototype.getClusterExpansionZoom=function(ee,de){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ee,source:this.id},de),this},Z.prototype.getClusterChildren=function(ee,de){return this.actor.send("geojson.getClusterChildren",{clusterId:ee,source:this.id},de),this},Z.prototype.getClusterLeaves=function(ee,de,Fe,je){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ee,limit:de,offset:Fe},je),this},Z.prototype._updateWorkerData=function(ee){var de=this;this._loaded=!1;var Fe=o.extend({},this.workerOptions),je=this._data;typeof je=="string"?(Fe.request=this.map._requestManager.transformRequest(o.browser.resolveURL(je),o.ResourceType.Source),Fe.request.collectResourceTiming=this._collectResourceTiming):Fe.data=JSON.stringify(je),this.actor.send(this.type+".loadData",Fe,function(it,St){de._removed||St&&St.abandoned||(de._loaded=!0,St&&St.resourceTiming&&St.resourceTiming[de.id]&&(de._resourceTiming=St.resourceTiming[de.id].slice(0)),de.actor.send(de.type+".coalesce",{source:Fe.source},null),ee(it))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.loadTile=function(ee,de){var Fe=this,je=ee.actor?"reloadTile":"loadTile";ee.actor=this.actor;var it={type:this.type,uid:ee.uid,tileID:ee.tileID,zoom:ee.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ee.request=this.actor.send(je,it,function(St,Ut){return delete ee.request,ee.unloadVectorData(),ee.aborted?de(null):St?de(St):(ee.loadVectorData(Ut,Fe.map.painter,je==="reloadTile"),de(null))})},Z.prototype.abortTile=function(ee){ee.request&&(ee.request.cancel(),delete ee.request),ee.aborted=!0},Z.prototype.unloadTile=function(ee){ee.unloadVectorData(),this.actor.send("removeTile",{uid:ee.uid,type:this.type,source:this.id})},Z.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Z.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},Z.prototype.hasTransition=function(){return!1},Z}(o.Evented),W=o.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),$=function(ce){function Z(ve,ee,de,Fe){ce.call(this),this.id=ve,this.dispatcher=de,this.coordinates=ee.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Fe),this.options=ee}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(ee,de){var Fe=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this.url=this.options.url,o.getImage(this.map._requestManager.transformRequest(this.url,o.ResourceType.Image),function(je,it){Fe._loaded=!0,je?Fe.fire(new o.ErrorEvent(je)):it&&(Fe.image=it,ee&&(Fe.coordinates=ee),de&&de(),Fe._finishLoading())})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.updateImage=function(ee){var de=this;return!this.image||!ee.url?this:(this.options.url=ee.url,this.load(ee.coordinates,function(){de.texture=null}),this)},Z.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Z.prototype.onAdd=function(ee){this.map=ee,this.load()},Z.prototype.setCoordinates=function(ee){var de=this;this.coordinates=ee;var Fe=ee.map(o.MercatorCoordinate.fromLngLat);this.tileID=te(Fe),this.minzoom=this.maxzoom=this.tileID.z;var je=Fe.map(function(it){return de.tileID.getTilePoint(it)._round()});return this._boundsArray=new o.StructArrayLayout4i8,this._boundsArray.emplaceBack(je[0].x,je[0].y,0,0),this._boundsArray.emplaceBack(je[1].x,je[1].y,o.EXTENT,0),this._boundsArray.emplaceBack(je[3].x,je[3].y,0,o.EXTENT),this._boundsArray.emplaceBack(je[2].x,je[2].y,o.EXTENT,o.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})),this},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ee=this.map.painter.context,de=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new o.Texture(ee,this.image,de.RGBA),this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE));for(var Fe in this.tiles){var je=this.tiles[Fe];je.state!=="loaded"&&(je.state="loaded",je.texture=this.texture)}}},Z.prototype.loadTile=function(ee,de){this.tileID&&this.tileID.equals(ee.tileID.canonical)?(this.tiles[String(ee.tileID.wrap)]=ee,ee.buckets={},de(null)):(ee.state="errored",de(null))},Z.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return!1},Z}(o.Evented);function te(ce){for(var Z=1/0,ve=1/0,ee=-1/0,de=-1/0,Fe=0,je=ce;Fe<je.length;Fe+=1){var it=je[Fe];Z=Math.min(Z,it.x),ve=Math.min(ve,it.y),ee=Math.max(ee,it.x),de=Math.max(de,it.y)}var St=ee-Z,Ut=de-ve,Kt=Math.max(St,Ut),or=Math.max(0,Math.floor(-Math.log(Kt)/Math.LN2)),ir=Math.pow(2,or);return new o.CanonicalTileID(or,Math.floor((Z+ee)/2*ir),Math.floor((ve+de)/2*ir))}var ie=function(ce){function Z(ve,ee,de,Fe){ce.call(this,ve,ee,de,Fe),this.roundZoom=!0,this.type="video",this.options=ee}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var ee=this;this._loaded=!1;var de=this.options;this.urls=[];for(var Fe=0,je=de.urls;Fe<je.length;Fe+=1){var it=je[Fe];this.urls.push(this.map._requestManager.transformRequest(it,o.ResourceType.Source).url)}o.getVideo(this.urls,function(St,Ut){ee._loaded=!0,St?ee.fire(new o.ErrorEvent(St)):Ut&&(ee.video=Ut,ee.video.loop=!0,ee.video.addEventListener("playing",function(){ee.map.triggerRepaint()}),ee.map&&ee.video.play(),ee._finishLoading())})},Z.prototype.pause=function(){this.video&&this.video.pause()},Z.prototype.play=function(){this.video&&this.video.play()},Z.prototype.seek=function(ee){if(this.video){var de=this.video.seekable;ee<de.start(0)||ee>de.end(0)?this.fire(new o.ErrorEvent(new o.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+de.start(0)+" and "+de.end(0)+"-second mark."))):this.video.currentTime=ee}},Z.prototype.getVideo=function(){return this.video},Z.prototype.onAdd=function(ee){this.map||(this.map=ee,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ee=this.map.painter.context,de=ee.gl;this.boundsBuffer||(this.boundsBuffer=ee.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE),de.texSubImage2D(de.TEXTURE_2D,0,0,0,de.RGBA,de.UNSIGNED_BYTE,this.video)):(this.texture=new o.Texture(ee,this.video,de.RGBA),this.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE));for(var Fe in this.tiles){var je=this.tiles[Fe];je.state!=="loaded"&&(je.state="loaded",je.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this.video&&!this.video.paused},Z}($),ue=function(ce){function Z(ve,ee,de,Fe){ce.call(this,ve,ee,de,Fe),ee.coordinates?(!Array.isArray(ee.coordinates)||ee.coordinates.length!==4||ee.coordinates.some(function(je){return!Array.isArray(je)||je.length!==2||je.some(function(it){return typeof it!="number"})}))&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+ve,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+ve,null,'missing required property "coordinates"'))),ee.animate&&typeof ee.animate!="boolean"&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+ve,null,'optional "animate" property must be a boolean value'))),ee.canvas?typeof ee.canvas!="string"&&!(ee.canvas instanceof o.window.HTMLCanvasElement)&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+ve,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+ve,null,'missing required property "canvas"'))),this.options=ee,this.animate=ee.animate!==void 0?ee.animate:!0}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof o.window.HTMLCanvasElement?this.options.canvas:o.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Z.prototype.getCanvas=function(){return this.canvas},Z.prototype.onAdd=function(ee){this.map=ee,this.load(),this.canvas&&this.animate&&this.play()},Z.prototype.onRemove=function(){this.pause()},Z.prototype.prepare=function(){var ee=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ee=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ee=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var de=this.map.painter.context,Fe=de.gl;this.boundsBuffer||(this.boundsBuffer=de.createVertexBuffer(this._boundsArray,W.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ee||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.Texture(de,this.canvas,Fe.RGBA,{premultiply:!0});for(var je in this.tiles){var it=this.tiles[je];it.state!=="loaded"&&(it.state="loaded",it.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this._playing},Z.prototype._hasInvalidDimensions=function(){for(var ee=0,de=[this.canvas.width,this.canvas.height];ee<de.length;ee+=1){var Fe=de[ee];if(isNaN(Fe)||Fe<=0)return!0}return!1},Z}($),J={vector:z,raster:O,"raster-dem":_,geojson:B,video:ie,image:$,canvas:ue},Y=function(ce,Z,ve,ee){var de=new J[Z.type](ce,Z,ve,ee);if(de.id!==ce)throw new Error("Expected Source id to be "+ce+" instead of "+de.id);return o.bindAll(["load","abort","unload","serialize","prepare"],de),de},ae=function(ce){return J[ce]},j=function(ce,Z){J[ce]=Z};function q(ce,Z){var ve=o.identity([]);return o.translate(ve,ve,[1,1,0]),o.scale(ve,ve,[ce.width*.5,ce.height*.5,1]),o.multiply(ve,ve,ce.calculatePosMatrix(Z.toUnwrapped()))}function oe(ce,Z,ve){if(ce)for(var ee=0,de=ce;ee<de.length;ee+=1){var Fe=de[ee],je=Z[Fe];if(je&&je.source===ve&&je.type==="fill-extrusion")return!0}else for(var it in Z){var St=Z[it];if(St.source===ve&&St.type==="fill-extrusion")return!0}return!1}function Q(ce,Z,ve,ee,de,Fe){var je=oe(de&&de.layers,Z,ce.id),it=Fe.maxPitchScaleFactor(),St=ce.tilesIn(ee,it,je);St.sort(ne);for(var Ut=[],Kt=0,or=St;Kt<or.length;Kt+=1){var ir=or[Kt];Ut.push({wrappedTileID:ir.tileID.wrapped().key,queryResults:ir.tile.queryRenderedFeatures(Z,ve,ce._state,ir.queryGeometry,ir.cameraQueryGeometry,ir.scale,de,Fe,it,q(ce.transform,ir.tileID))})}var Fr=fe(Ut);for(var Zr in Fr)Fr[Zr].forEach(function(Yr){var Vr=Yr.feature,Kr=ce.getFeatureState(Vr.layer["source-layer"],Vr.id);Vr.source=Vr.layer.source,Vr.layer["source-layer"]&&(Vr.sourceLayer=Vr.layer["source-layer"]),Vr.state=Kr});return Fr}function X(ce,Z,ve,ee,de,Fe,je){for(var it={},St=Fe.queryRenderedSymbols(ee),Ut=[],Kt=0,or=Object.keys(St).map(Number);Kt<or.length;Kt+=1){var ir=or[Kt];Ut.push(je[ir])}Ut.sort(ne);for(var Fr=function(){var fn=Yr[Zr],Dn=fn.featureIndex.lookupSymbolFeatures(St[fn.bucketInstanceId],Z,fn.bucketIndex,fn.sourceLayerIndex,de.filter,de.layers,de.availableImages,ce);for(var zn in Dn){var Yn=it[zn]=it[zn]||[],Xn=Dn[zn];Xn.sort(function(ca,xa){var da=fn.featureSortOrder;if(da){var _a=da.indexOf(ca.featureIndex),Qa=da.indexOf(xa.featureIndex);return Qa-_a}else return xa.featureIndex-ca.featureIndex});for(var Vn=0,Jn=Xn;Vn<Jn.length;Vn+=1){var ia=Jn[Vn];Yn.push(ia)}}},Zr=0,Yr=Ut;Zr<Yr.length;Zr+=1)Fr();var Vr=function(fn){it[fn].forEach(function(Dn){var zn=Dn.feature,Yn=ce[fn],Xn=ve[Yn.source],Vn=Xn.getFeatureState(zn.layer["source-layer"],zn.id);zn.source=zn.layer.source,zn.layer["source-layer"]&&(zn.sourceLayer=zn.layer["source-layer"]),zn.state=Vn})};for(var Kr in it)Vr(Kr);return it}function se(ce,Z){for(var ve=ce.getRenderableIds().map(function(St){return ce.getTileByID(St)}),ee=[],de={},Fe=0;Fe<ve.length;Fe++){var je=ve[Fe],it=je.tileID.canonical.key;de[it]||(de[it]=!0,je.querySourceFeatures(ee,Z))}return ee}function ne(ce,Z){var ve=ce.tileID,ee=Z.tileID;return ve.overscaledZ-ee.overscaledZ||ve.canonical.y-ee.canonical.y||ve.wrap-ee.wrap||ve.canonical.x-ee.canonical.x}function fe(ce){for(var Z={},ve={},ee=0,de=ce;ee<de.length;ee+=1){var Fe=de[ee],je=Fe.queryResults,it=Fe.wrappedTileID,St=ve[it]=ve[it]||{};for(var Ut in je)for(var Kt=je[Ut],or=St[Ut]=St[Ut]||{},ir=Z[Ut]=Z[Ut]||[],Fr=0,Zr=Kt;Fr<Zr.length;Fr+=1){var Yr=Zr[Fr];or[Yr.featureIndex]||(or[Yr.featureIndex]=!0,ir.push(Yr))}}return Z}var ye=function(Z,ve){this.max=Z,this.onRemove=ve,this.reset()};ye.prototype.reset=function(){for(var Z in this.data)for(var ve=0,ee=this.data[Z];ve<ee.length;ve+=1){var de=ee[ve];de.timeout&&clearTimeout(de.timeout),this.onRemove(de.value)}return this.data={},this.order=[],this},ye.prototype.add=function(Z,ve,ee){var de=this,Fe=Z.wrapped().key;this.data[Fe]===void 0&&(this.data[Fe]=[]);var je={value:ve,timeout:void 0};if(ee!==void 0&&(je.timeout=setTimeout(function(){de.remove(Z,je)},ee)),this.data[Fe].push(je),this.order.push(Fe),this.order.length>this.max){var it=this._getAndRemoveByKey(this.order[0]);it&&this.onRemove(it)}return this},ye.prototype.has=function(Z){return Z.wrapped().key in this.data},ye.prototype.getAndRemove=function(Z){return this.has(Z)?this._getAndRemoveByKey(Z.wrapped().key):null},ye.prototype._getAndRemoveByKey=function(Z){var ve=this.data[Z].shift();return ve.timeout&&clearTimeout(ve.timeout),this.data[Z].length===0&&delete this.data[Z],this.order.splice(this.order.indexOf(Z),1),ve.value},ye.prototype.getByKey=function(Z){var ve=this.data[Z];return ve?ve[0].value:null},ye.prototype.get=function(Z){if(!this.has(Z))return null;var ve=this.data[Z.wrapped().key][0];return ve.value},ye.prototype.remove=function(Z,ve){if(!this.has(Z))return this;var ee=Z.wrapped().key,de=ve===void 0?0:this.data[ee].indexOf(ve),Fe=this.data[ee][de];return this.data[ee].splice(de,1),Fe.timeout&&clearTimeout(Fe.timeout),this.data[ee].length===0&&delete this.data[ee],this.onRemove(Fe.value),this.order.splice(this.order.indexOf(ee),1),this},ye.prototype.setMaxSize=function(Z){for(this.max=Z;this.order.length>this.max;){var ve=this._getAndRemoveByKey(this.order[0]);ve&&this.onRemove(ve)}return this},ye.prototype.filter=function(Z){var ve=[];for(var ee in this.data)for(var de=0,Fe=this.data[ee];de<Fe.length;de+=1){var je=Fe[de];Z(je.value)||ve.push(je)}for(var it=0,St=ve;it<St.length;it+=1){var Ut=St[it];this.remove(Ut.value.tileID,Ut)}};var Se=function(Z,ve,ee){this.context=Z;var de=Z.gl;this.buffer=de.createBuffer(),this.dynamicDraw=!!ee,this.context.unbindVAO(),Z.bindElementBuffer.set(this.buffer),de.bufferData(de.ELEMENT_ARRAY_BUFFER,ve.arrayBuffer,this.dynamicDraw?de.DYNAMIC_DRAW:de.STATIC_DRAW),this.dynamicDraw||delete ve.arrayBuffer};Se.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Se.prototype.updateData=function(Z){var ve=this.context.gl;this.context.unbindVAO(),this.bind(),ve.bufferSubData(ve.ELEMENT_ARRAY_BUFFER,0,Z.arrayBuffer)},Se.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var we={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},_e=function(Z,ve,ee,de){this.length=ve.length,this.attributes=ee,this.itemSize=ve.bytesPerElement,this.dynamicDraw=de,this.context=Z;var Fe=Z.gl;this.buffer=Fe.createBuffer(),Z.bindVertexBuffer.set(this.buffer),Fe.bufferData(Fe.ARRAY_BUFFER,ve.arrayBuffer,this.dynamicDraw?Fe.DYNAMIC_DRAW:Fe.STATIC_DRAW),this.dynamicDraw||delete ve.arrayBuffer};_e.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},_e.prototype.updateData=function(Z){var ve=this.context.gl;this.bind(),ve.bufferSubData(ve.ARRAY_BUFFER,0,Z.arrayBuffer)},_e.prototype.enableAttributes=function(Z,ve){for(var ee=0;ee<this.attributes.length;ee++){var de=this.attributes[ee],Fe=ve.attributes[de.name];Fe!==void 0&&Z.enableVertexAttribArray(Fe)}},_e.prototype.setVertexAttribPointers=function(Z,ve,ee){for(var de=0;de<this.attributes.length;de++){var Fe=this.attributes[de],je=ve.attributes[Fe.name];je!==void 0&&Z.vertexAttribPointer(je,Fe.components,Z[we[Fe.type]],!1,this.itemSize,Fe.offset+this.itemSize*(ee||0))}},_e.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var ke=function(Z){this.gl=Z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ke.prototype.get=function(){return this.current},ke.prototype.set=function(Z){},ke.prototype.getDefault=function(){return this.default},ke.prototype.setDefault=function(){this.set(this.default)};var Me=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return o.Color.transparent},Z.prototype.set=function(ee){var de=this.current;ee.r===de.r&&ee.g===de.g&&ee.b===de.b&&ee.a===de.a&&!this.dirty||(this.gl.clearColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},Z}(ke),me=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 1},Z.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearDepth(ee),this.current=ee,this.dirty=!1)},Z}(ke),Ee=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 0},Z.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.clearStencil(ee),this.current=ee,this.dirty=!1)},Z}(ke),Be=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[!0,!0,!0,!0]},Z.prototype.set=function(ee){var de=this.current;ee[0]===de[0]&&ee[1]===de[1]&&ee[2]===de[2]&&ee[3]===de[3]&&!this.dirty||(this.gl.colorMask(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},Z}(ke),Ue=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!0},Z.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthMask(ee),this.current=ee,this.dirty=!1)},Z}(ke),De=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 255},Z.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.stencilMask(ee),this.current=ee,this.dirty=!1)},Z}(ke),He=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Z.prototype.set=function(ee){var de=this.current;ee.func===de.func&&ee.ref===de.ref&&ee.mask===de.mask&&!this.dirty||(this.gl.stencilFunc(ee.func,ee.ref,ee.mask),this.current=ee,this.dirty=!1)},Z}(ke),nt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var ee=this.gl;return[ee.KEEP,ee.KEEP,ee.KEEP]},Z.prototype.set=function(ee){var de=this.current;ee[0]===de[0]&&ee[1]===de[1]&&ee[2]===de[2]&&!this.dirty||(this.gl.stencilOp(ee[0],ee[1],ee[2]),this.current=ee,this.dirty=!1)},Z}(ke),lt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;ee?de.enable(de.STENCIL_TEST):de.disable(de.STENCIL_TEST),this.current=ee,this.dirty=!1}},Z}(ke),$e=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[0,1]},Z.prototype.set=function(ee){var de=this.current;ee[0]===de[0]&&ee[1]===de[1]&&!this.dirty||(this.gl.depthRange(ee[0],ee[1]),this.current=ee,this.dirty=!1)},Z}(ke),qe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;ee?de.enable(de.DEPTH_TEST):de.disable(de.DEPTH_TEST),this.current=ee,this.dirty=!1}},Z}(ke),ct=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.LESS},Z.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.depthFunc(ee),this.current=ee,this.dirty=!1)},Z}(ke),dt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;ee?de.enable(de.BLEND):de.disable(de.BLEND),this.current=ee,this.dirty=!1}},Z}(ke),gt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var ee=this.gl;return[ee.ONE,ee.ZERO]},Z.prototype.set=function(ee){var de=this.current;ee[0]===de[0]&&ee[1]===de[1]&&!this.dirty||(this.gl.blendFunc(ee[0],ee[1]),this.current=ee,this.dirty=!1)},Z}(ke),At=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return o.Color.transparent},Z.prototype.set=function(ee){var de=this.current;ee.r===de.r&&ee.g===de.g&&ee.b===de.b&&ee.a===de.a&&!this.dirty||(this.gl.blendColor(ee.r,ee.g,ee.b,ee.a),this.current=ee,this.dirty=!1)},Z}(ke),Rt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.FUNC_ADD},Z.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.blendEquation(ee),this.current=ee,this.dirty=!1)},Z}(ke),Vt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;ee?de.enable(de.CULL_FACE):de.disable(de.CULL_FACE),this.current=ee,this.dirty=!1}},Z}(ke),Je=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.BACK},Z.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.cullFace(ee),this.current=ee,this.dirty=!1)},Z}(ke),Ve=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.CCW},Z.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.frontFace(ee),this.current=ee,this.dirty=!1)},Z}(ke),Ie=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.useProgram(ee),this.current=ee,this.dirty=!1)},Z}(ke),Oe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.TEXTURE0},Z.prototype.set=function(ee){ee===this.current&&!this.dirty||(this.gl.activeTexture(ee),this.current=ee,this.dirty=!1)},Z}(ke),Le=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var ee=this.gl;return[0,0,ee.drawingBufferWidth,ee.drawingBufferHeight]},Z.prototype.set=function(ee){var de=this.current;ee[0]===de[0]&&ee[1]===de[1]&&ee[2]===de[2]&&ee[3]===de[3]&&!this.dirty||(this.gl.viewport(ee[0],ee[1],ee[2],ee[3]),this.current=ee,this.dirty=!1)},Z}(ke),xe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;de.bindFramebuffer(de.FRAMEBUFFER,ee),this.current=ee,this.dirty=!1}},Z}(ke),pe=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;de.bindRenderbuffer(de.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},Z}(ke),Ae=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;de.bindTexture(de.TEXTURE_2D,ee),this.current=ee,this.dirty=!1}},Z}(ke),Te=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;de.bindBuffer(de.ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1}},Z}(ke),Ne=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ee){var de=this.gl;de.bindBuffer(de.ELEMENT_ARRAY_BUFFER,ee),this.current=ee,this.dirty=!1},Z}(ke),Ye=function(ce){function Z(ve){ce.call(this,ve),this.vao=ve.extVertexArrayObject}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(ee){!this.vao||ee===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ee),this.current=ee,this.dirty=!1)},Z}(ke),et=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 4},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_ALIGNMENT,ee),this.current=ee,this.dirty=!1}},Z}(ke),ft=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee),this.current=ee,this.dirty=!1}},Z}(ke),pt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){var de=this.gl;de.pixelStorei(de.UNPACK_FLIP_Y_WEBGL,ee),this.current=ee,this.dirty=!1}},Z}(ke),Yt=function(ce){function Z(ve,ee){ce.call(this,ve),this.context=ve,this.parent=ee}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z}(ke),Jt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.setDirty=function(){this.dirty=!0},Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var de=this.gl;de.framebufferTexture2D(de.FRAMEBUFFER,de.COLOR_ATTACHMENT0,de.TEXTURE_2D,ee,0),this.current=ee,this.dirty=!1}},Z}(Yt),Tt=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.set=function(ee){if(!(ee===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var de=this.gl;de.framebufferRenderbuffer(de.FRAMEBUFFER,de.DEPTH_ATTACHMENT,de.RENDERBUFFER,ee),this.current=ee,this.dirty=!1}},Z}(Yt),_t=function(Z,ve,ee,de){this.context=Z,this.width=ve,this.height=ee;var Fe=Z.gl,je=this.framebuffer=Fe.createFramebuffer();this.colorAttachment=new Jt(Z,je),de&&(this.depthAttachment=new Tt(Z,je))};_t.prototype.destroy=function(){var Z=this.context.gl,ve=this.colorAttachment.get();if(ve&&Z.deleteTexture(ve),this.depthAttachment){var ee=this.depthAttachment.get();ee&&Z.deleteRenderbuffer(ee)}Z.deleteFramebuffer(this.framebuffer)};var $t=519,wr=function(Z,ve,ee){this.func=Z,this.mask=ve,this.range=ee};wr.ReadOnly=!1,wr.ReadWrite=!0,wr.disabled=new wr($t,wr.ReadOnly,[0,1]);var yt=519,jt=7680,Qt=function(Z,ve,ee,de,Fe,je){this.test=Z,this.ref=ve,this.mask=ee,this.fail=de,this.depthFail=Fe,this.pass=je};Qt.disabled=new Qt({func:yt,mask:0},0,0,jt,jt,jt);var gr=0,sr=1,vt=771,at=function(Z,ve,ee){this.blendFunction=Z,this.blendColor=ve,this.mask=ee};at.Replace=[sr,gr],at.disabled=new at(at.Replace,o.Color.transparent,[!1,!1,!1,!1]),at.unblended=new at(at.Replace,o.Color.transparent,[!0,!0,!0,!0]),at.alphaBlended=new at([sr,vt],o.Color.transparent,[!0,!0,!0,!0]);var xt=1029,Mt=2305,Dt=function(Z,ve,ee){this.enable=Z,this.mode=ve,this.frontFace=ee};Dt.disabled=new Dt(!1,xt,Mt),Dt.backCCW=new Dt(!0,xt,Mt);var Lt=function(Z){this.gl=Z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Me(this),this.clearDepth=new me(this),this.clearStencil=new Ee(this),this.colorMask=new Be(this),this.depthMask=new Ue(this),this.stencilMask=new De(this),this.stencilFunc=new He(this),this.stencilOp=new nt(this),this.stencilTest=new lt(this),this.depthRange=new $e(this),this.depthTest=new qe(this),this.depthFunc=new ct(this),this.blend=new dt(this),this.blendFunc=new gt(this),this.blendColor=new At(this),this.blendEquation=new Rt(this),this.cullFace=new Vt(this),this.cullFaceSide=new Je(this),this.frontFace=new Ve(this),this.program=new Ie(this),this.activeTexture=new Oe(this),this.viewport=new Le(this),this.bindFramebuffer=new xe(this),this.bindRenderbuffer=new pe(this),this.bindTexture=new Ae(this),this.bindVertexBuffer=new Te(this),this.bindElementBuffer=new Ne(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ye(this),this.pixelStoreUnpack=new et(this),this.pixelStoreUnpackPremultiplyAlpha=new ft(this),this.pixelStoreUnpackFlipY=new pt(this),this.extTextureFilterAnisotropic=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Z.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=Z.getParameter(Z.MAX_TEXTURE_SIZE)};Lt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Lt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Lt.prototype.createIndexBuffer=function(Z,ve){return new Se(this,Z,ve)},Lt.prototype.createVertexBuffer=function(Z,ve,ee){return new _e(this,Z,ve,ee)},Lt.prototype.createRenderbuffer=function(Z,ve,ee){var de=this.gl,Fe=de.createRenderbuffer();return this.bindRenderbuffer.set(Fe),de.renderbufferStorage(de.RENDERBUFFER,Z,ve,ee),this.bindRenderbuffer.set(null),Fe},Lt.prototype.createFramebuffer=function(Z,ve,ee){return new _t(this,Z,ve,ee)},Lt.prototype.clear=function(Z){var ve=Z.color,ee=Z.depth,de=this.gl,Fe=0;ve&&(Fe|=de.COLOR_BUFFER_BIT,this.clearColor.set(ve),this.colorMask.set([!0,!0,!0,!0])),typeof ee<"u"&&(Fe|=de.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ee),this.depthMask.set(!0)),de.clear(Fe)},Lt.prototype.setCullFace=function(Z){Z.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Z.mode),this.frontFace.set(Z.frontFace))},Lt.prototype.setDepthMode=function(Z){Z.func===this.gl.ALWAYS&&!Z.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Z.func),this.depthMask.set(Z.mask),this.depthRange.set(Z.range))},Lt.prototype.setStencilMode=function(Z){Z.test.func===this.gl.ALWAYS&&!Z.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Z.mask),this.stencilOp.set([Z.fail,Z.depthFail,Z.pass]),this.stencilFunc.set({func:Z.test.func,ref:Z.ref,mask:Z.test.mask}))},Lt.prototype.setColorMode=function(Z){o.deepEqual(Z.blendFunction,at.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Z.blendFunction),this.blendColor.set(Z.blendColor)),this.colorMask.set(Z.mask)},Lt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Bt=function(ce){function Z(ve,ee,de){var Fe=this;ce.call(this),this.id=ve,this.dispatcher=de,this.on("data",function(je){je.dataType==="source"&&je.sourceDataType==="metadata"&&(Fe._sourceLoaded=!0),Fe._sourceLoaded&&!Fe._paused&&je.dataType==="source"&&je.sourceDataType==="content"&&(Fe.reload(),Fe.transform&&Fe.update(Fe.transform))}),this.on("error",function(){Fe._sourceErrored=!0}),this._source=Y(ve,ee,de,this),this._tiles={},this._cache=new ye(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new o.SourceFeatureState}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(ee){this.map=ee,this._maxTileCacheSize=ee?ee._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ee)},Z.prototype.onRemove=function(ee){this._source&&this._source.onRemove&&this._source.onRemove(ee)},Z.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ee in this._tiles){var de=this._tiles[ee];if(de.state!=="loaded"&&de.state!=="errored")return!1}return!0},Z.prototype.getSource=function(){return this._source},Z.prototype.pause=function(){this._paused=!0},Z.prototype.resume=function(){if(this._paused){var ee=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ee&&this.reload(),this.transform&&this.update(this.transform)}},Z.prototype._loadTile=function(ee,de){return this._source.loadTile(ee,de)},Z.prototype._unloadTile=function(ee){if(this._source.unloadTile)return this._source.unloadTile(ee,function(){})},Z.prototype._abortTile=function(ee){if(this._source.abortTile)return this._source.abortTile(ee,function(){})},Z.prototype.serialize=function(){return this._source.serialize()},Z.prototype.prepare=function(ee){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var de in this._tiles){var Fe=this._tiles[de];Fe.upload(ee),Fe.prepare(this.map.style.imageManager)}},Z.prototype.getIds=function(){return o.values(this._tiles).map(function(ee){return ee.tileID}).sort(Nt).map(function(ee){return ee.key})},Z.prototype.getRenderableIds=function(ee){var de=this,Fe=[];for(var je in this._tiles)this._isIdRenderable(je,ee)&&Fe.push(this._tiles[je]);return ee?Fe.sort(function(it,St){var Ut=it.tileID,Kt=St.tileID,or=new o.Point(Ut.canonical.x,Ut.canonical.y)._rotate(de.transform.angle),ir=new o.Point(Kt.canonical.x,Kt.canonical.y)._rotate(de.transform.angle);return Ut.overscaledZ-Kt.overscaledZ||ir.y-or.y||ir.x-or.x}).map(function(it){return it.tileID.key}):Fe.map(function(it){return it.tileID}).sort(Nt).map(function(it){return it.key})},Z.prototype.hasRenderableParent=function(ee){var de=this.findLoadedParent(ee,0);return de?this._isIdRenderable(de.tileID.key):!1},Z.prototype._isIdRenderable=function(ee,de){return this._tiles[ee]&&this._tiles[ee].hasData()&&!this._coveredTiles[ee]&&(de||!this._tiles[ee].holdingForFade())},Z.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ee in this._tiles)this._tiles[ee].state!=="errored"&&this._reloadTile(ee,"reloading")},Z.prototype._reloadTile=function(ee,de){var Fe=this._tiles[ee];Fe&&(Fe.state!=="loading"&&(Fe.state=de),this._loadTile(Fe,this._tileLoaded.bind(this,Fe,ee,de)))},Z.prototype._tileLoaded=function(ee,de,Fe,je){if(je){ee.state="errored",je.status!==404?this._source.fire(new o.ErrorEvent(je,{tile:ee})):this.update(this.transform);return}ee.timeAdded=o.browser.now(),Fe==="expired"&&(ee.refreshedUponExpiration=!0),this._setTileReloadTimer(de,ee),this.getSource().type==="raster-dem"&&ee.dem&&this._backfillDEM(ee),this._state.initializeTileState(ee,this.map?this.map.painter:null),this._source.fire(new o.Event("data",{dataType:"source",tile:ee,coord:ee.tileID}))},Z.prototype._backfillDEM=function(ee){for(var de=this.getRenderableIds(),Fe=0;Fe<de.length;Fe++){var je=de[Fe];if(ee.neighboringTiles&&ee.neighboringTiles[je]){var it=this.getTileByID(je);St(ee,it),St(it,ee)}}function St(Ut,Kt){Ut.needsHillshadePrepare=!0;var or=Kt.tileID.canonical.x-Ut.tileID.canonical.x,ir=Kt.tileID.canonical.y-Ut.tileID.canonical.y,Fr=Math.pow(2,Ut.tileID.canonical.z),Zr=Kt.tileID.key;or===0&&ir===0||Math.abs(ir)>1||(Math.abs(or)>1&&(Math.abs(or+Fr)===1?or+=Fr:Math.abs(or-Fr)===1&&(or-=Fr)),!(!Kt.dem||!Ut.dem)&&(Ut.dem.backfillBorder(Kt.dem,or,ir),Ut.neighboringTiles&&Ut.neighboringTiles[Zr]&&(Ut.neighboringTiles[Zr].backfilled=!0)))}},Z.prototype.getTile=function(ee){return this.getTileByID(ee.key)},Z.prototype.getTileByID=function(ee){return this._tiles[ee]},Z.prototype._retainLoadedChildren=function(ee,de,Fe,je){for(var it in this._tiles){var St=this._tiles[it];if(!(je[it]||!St.hasData()||St.tileID.overscaledZ<=de||St.tileID.overscaledZ>Fe)){for(var Ut=St.tileID;St&&St.tileID.overscaledZ>de+1;){var Kt=St.tileID.scaledTo(St.tileID.overscaledZ-1);St=this._tiles[Kt.key],St&&St.hasData()&&(Ut=Kt)}for(var or=Ut;or.overscaledZ>de;)if(or=or.scaledTo(or.overscaledZ-1),ee[or.key]){je[Ut.key]=Ut;break}}}},Z.prototype.findLoadedParent=function(ee,de){if(ee.key in this._loadedParentTiles){var Fe=this._loadedParentTiles[ee.key];return Fe&&Fe.tileID.overscaledZ>=de?Fe:null}for(var je=ee.overscaledZ-1;je>=de;je--){var it=ee.scaledTo(je),St=this._getLoadedTile(it);if(St)return St}},Z.prototype._getLoadedTile=function(ee){var de=this._tiles[ee.key];if(de&&de.hasData())return de;var Fe=this._cache.getByKey(ee.wrapped().key);return Fe},Z.prototype.updateCacheSize=function(ee){var de=Math.ceil(ee.width/this._source.tileSize)+1,Fe=Math.ceil(ee.height/this._source.tileSize)+1,je=de*Fe,it=5,St=Math.floor(je*it),Ut=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,St):St;this._cache.setMaxSize(Ut)},Z.prototype.handleWrapJump=function(ee){var de=this._prevLng===void 0?ee:this._prevLng,Fe=ee-de,je=Fe/360,it=Math.round(je);if(this._prevLng=ee,it){var St={};for(var Ut in this._tiles){var Kt=this._tiles[Ut];Kt.tileID=Kt.tileID.unwrapTo(Kt.tileID.wrap+it),St[Kt.tileID.key]=Kt}this._tiles=St;for(var or in this._timers)clearTimeout(this._timers[or]),delete this._timers[or];for(var ir in this._tiles){var Fr=this._tiles[ir];this._setTileReloadTimer(ir,Fr)}}},Z.prototype.update=function(ee){var de=this;if(this.transform=ee,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ee),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Fe;this.used?this._source.tileID?Fe=ee.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ca){return new o.OverscaledTileID(ca.canonical.z,ca.wrap,ca.canonical.z,ca.canonical.x,ca.canonical.y)}):(Fe=ee.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Fe=Fe.filter(function(ca){return de._source.hasTile(ca)}))):Fe=[];var je=ee.coveringZoomLevel(this._source),it=Math.max(je-Z.maxOverzooming,this._source.minzoom),St=Math.max(je+Z.maxUnderzooming,this._source.minzoom),Ut=this._updateRetainedTiles(Fe,je);if(Xt(this._source.type)){for(var Kt={},or={},ir=Object.keys(Ut),Fr=0,Zr=ir;Fr<Zr.length;Fr+=1){var Yr=Zr[Fr],Vr=Ut[Yr],Kr=this._tiles[Yr];if(!(!Kr||Kr.fadeEndTime&&Kr.fadeEndTime<=o.browser.now())){var fn=this.findLoadedParent(Vr,it);fn&&(this._addTile(fn.tileID),Kt[fn.tileID.key]=fn.tileID),or[Yr]=Vr}}this._retainLoadedChildren(or,je,St,Ut);for(var Dn in Kt)Ut[Dn]||(this._coveredTiles[Dn]=!0,Ut[Dn]=Kt[Dn])}for(var zn in Ut)this._tiles[zn].clearFadeHold();for(var Yn=o.keysDifference(this._tiles,Ut),Xn=0,Vn=Yn;Xn<Vn.length;Xn+=1){var Jn=Vn[Xn],ia=this._tiles[Jn];ia.hasSymbolBuckets&&!ia.holdingForFade()?ia.setHoldDuration(this.map._fadeDuration):(!ia.hasSymbolBuckets||ia.symbolFadeFinished())&&this._removeTile(Jn)}this._updateLoadedParentTileCache()}},Z.prototype.releaseSymbolFadeTiles=function(){for(var ee in this._tiles)this._tiles[ee].holdingForFade()&&this._removeTile(ee)},Z.prototype._updateRetainedTiles=function(ee,de){for(var Fe={},je={},it=Math.max(de-Z.maxOverzooming,this._source.minzoom),St=Math.max(de+Z.maxUnderzooming,this._source.minzoom),Ut={},Kt=0,or=ee;Kt<or.length;Kt+=1){var ir=or[Kt],Fr=this._addTile(ir);Fe[ir.key]=ir,!Fr.hasData()&&de<this._source.maxzoom&&(Ut[ir.key]=ir)}this._retainLoadedChildren(Ut,de,St,Fe);for(var Zr=0,Yr=ee;Zr<Yr.length;Zr+=1){var Vr=Yr[Zr],Kr=this._tiles[Vr.key];if(!Kr.hasData()){if(de+1>this._source.maxzoom){var fn=Vr.children(this._source.maxzoom)[0],Dn=this.getTile(fn);if(Dn&&Dn.hasData()){Fe[fn.key]=fn;continue}}else{var zn=Vr.children(this._source.maxzoom);if(Fe[zn[0].key]&&Fe[zn[1].key]&&Fe[zn[2].key]&&Fe[zn[3].key])continue}for(var Yn=Kr.wasRequested(),Xn=Vr.overscaledZ-1;Xn>=it;--Xn){var Vn=Vr.scaledTo(Xn);if(je[Vn.key]||(je[Vn.key]=!0,Kr=this.getTile(Vn),!Kr&&Yn&&(Kr=this._addTile(Vn)),Kr&&(Fe[Vn.key]=Vn,Yn=Kr.wasRequested(),Kr.hasData())))break}}}return Fe},Z.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ee in this._tiles){for(var de=[],Fe=void 0,je=this._tiles[ee].tileID;je.overscaledZ>0;){if(je.key in this._loadedParentTiles){Fe=this._loadedParentTiles[je.key];break}de.push(je.key);var it=je.scaledTo(je.overscaledZ-1);if(Fe=this._getLoadedTile(it),Fe)break;je=it}for(var St=0,Ut=de;St<Ut.length;St+=1){var Kt=Ut[St];this._loadedParentTiles[Kt]=Fe}}},Z.prototype._addTile=function(ee){var de=this._tiles[ee.key];if(de)return de;de=this._cache.getAndRemove(ee),de&&(this._setTileReloadTimer(ee.key,de),de.tileID=ee,this._state.initializeTileState(de,this.map?this.map.painter:null),this._cacheTimers[ee.key]&&(clearTimeout(this._cacheTimers[ee.key]),delete this._cacheTimers[ee.key],this._setTileReloadTimer(ee.key,de)));var Fe=!!de;return Fe||(de=new o.Tile(ee,this._source.tileSize*ee.overscaleFactor()),this._loadTile(de,this._tileLoaded.bind(this,de,ee.key,de.state))),de?(de.uses++,this._tiles[ee.key]=de,Fe||this._source.fire(new o.Event("dataloading",{tile:de,coord:de.tileID,dataType:"source"})),de):null},Z.prototype._setTileReloadTimer=function(ee,de){var Fe=this;ee in this._timers&&(clearTimeout(this._timers[ee]),delete this._timers[ee]);var je=de.getExpiryTimeout();je&&(this._timers[ee]=setTimeout(function(){Fe._reloadTile(ee,"expired"),delete Fe._timers[ee]},je))},Z.prototype._removeTile=function(ee){var de=this._tiles[ee];de&&(de.uses--,delete this._tiles[ee],this._timers[ee]&&(clearTimeout(this._timers[ee]),delete this._timers[ee]),!(de.uses>0)&&(de.hasData()&&de.state!=="reloading"?this._cache.add(de.tileID,de,de.getExpiryTimeout()):(de.aborted=!0,this._abortTile(de),this._unloadTile(de))))},Z.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ee in this._tiles)this._removeTile(ee);this._cache.reset()},Z.prototype.tilesIn=function(ee,de,Fe){var je=this,it=[],St=this.transform;if(!St)return it;for(var Ut=Fe?St.getCameraQueryGeometry(ee):ee,Kt=ee.map(function(Xn){return St.pointCoordinate(Xn)}),or=Ut.map(function(Xn){return St.pointCoordinate(Xn)}),ir=this.getIds(),Fr=1/0,Zr=1/0,Yr=-1/0,Vr=-1/0,Kr=0,fn=or;Kr<fn.length;Kr+=1){var Dn=fn[Kr];Fr=Math.min(Fr,Dn.x),Zr=Math.min(Zr,Dn.y),Yr=Math.max(Yr,Dn.x),Vr=Math.max(Vr,Dn.y)}for(var zn=function(Xn){var Vn=je._tiles[ir[Xn]];if(!Vn.holdingForFade()){var Jn=Vn.tileID,ia=Math.pow(2,St.zoom-Vn.tileID.overscaledZ),ca=de*Vn.queryPadding*o.EXTENT/Vn.tileSize/ia,xa=[Jn.getTilePoint(new o.MercatorCoordinate(Fr,Zr)),Jn.getTilePoint(new o.MercatorCoordinate(Yr,Vr))];if(xa[0].x-ca<o.EXTENT&&xa[0].y-ca<o.EXTENT&&xa[1].x+ca>=0&&xa[1].y+ca>=0){var da=Kt.map(function(Qa){return Jn.getTilePoint(Qa)}),_a=or.map(function(Qa){return Jn.getTilePoint(Qa)});it.push({tile:Vn,tileID:Jn,queryGeometry:da,cameraQueryGeometry:_a,scale:ia})}}},Yn=0;Yn<ir.length;Yn++)zn(Yn);return it},Z.prototype.getVisibleCoordinates=function(ee){for(var de=this,Fe=this.getRenderableIds(ee).map(function(Ut){return de._tiles[Ut].tileID}),je=0,it=Fe;je<it.length;je+=1){var St=it[je];St.posMatrix=this.transform.calculatePosMatrix(St.toUnwrapped())}return Fe},Z.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Xt(this._source.type))for(var ee in this._tiles){var de=this._tiles[ee];if(de.fadeEndTime!==void 0&&de.fadeEndTime>=o.browser.now())return!0}return!1},Z.prototype.setFeatureState=function(ee,de,Fe){ee=ee||"_geojsonTileLayer",this._state.updateState(ee,de,Fe)},Z.prototype.removeFeatureState=function(ee,de,Fe){ee=ee||"_geojsonTileLayer",this._state.removeFeatureState(ee,de,Fe)},Z.prototype.getFeatureState=function(ee,de){return ee=ee||"_geojsonTileLayer",this._state.getState(ee,de)},Z.prototype.setDependencies=function(ee,de,Fe){var je=this._tiles[ee];je&&je.setDependencies(de,Fe)},Z.prototype.reloadTilesForDependencies=function(ee,de){for(var Fe in this._tiles){var je=this._tiles[Fe];je.hasDependency(ee,de)&&this._reloadTile(Fe,"reloading")}this._cache.filter(function(it){return!it.hasDependency(ee,de)})},Z}(o.Evented);Bt.maxOverzooming=10,Bt.maxUnderzooming=3;function Nt(ce,Z){var ve=Math.abs(ce.wrap*2)-+(ce.wrap<0),ee=Math.abs(Z.wrap*2)-+(Z.wrap<0);return ce.overscaledZ-Z.overscaledZ||ee-ve||Z.canonical.y-ce.canonical.y||Z.canonical.x-ce.canonical.x}function Xt(ce){return ce==="raster"||ce==="image"||ce==="video"}function lr(){return new o.window.Worker(oo.workerUrl)}var fr="mapboxgl_preloaded_worker_pool",hr=function(){this.active={}};hr.prototype.acquire=function(Z){if(!this.workers)for(this.workers=[];this.workers.length<hr.workerCount;)this.workers.push(new lr);return this.active[Z]=!0,this.workers.slice()},hr.prototype.release=function(Z){delete this.active[Z],this.numActive()===0&&(this.workers.forEach(function(ve){ve.terminate()}),this.workers=null)},hr.prototype.isPreloaded=function(){return!!this.active[fr]},hr.prototype.numActive=function(){return Object.keys(this.active).length};var We=Math.floor(o.browser.hardwareConcurrency/2);hr.workerCount=Math.max(Math.min(We,6),1);var Ge;function kt(){return Ge||(Ge=new hr),Ge}function It(){var ce=kt();ce.acquire(fr)}function Zt(){var ce=Ge;ce&&(ce.isPreloaded()&&ce.numActive()===1?(ce.release(fr),Ge=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function rr(ce,Z){var ve={};for(var ee in ce)ee!=="ref"&&(ve[ee]=ce[ee]);return o.refProperties.forEach(function(de){de in Z&&(ve[de]=Z[de])}),ve}function ur(ce){ce=ce.slice();for(var Z=Object.create(null),ve=0;ve<ce.length;ve++)Z[ce[ve].id]=ce[ve];for(var ee=0;ee<ce.length;ee++)"ref"in ce[ee]&&(ce[ee]=rr(ce[ee],Z[ce[ee].ref]));return ce}function er(){var ce={},Z=o.styleSpec.$version;for(var ve in o.styleSpec.$root){var ee=o.styleSpec.$root[ve];if(ee.required){var de=null;ve==="version"?de=Z:ee.type==="array"?de=[]:de={},de!=null&&(ce[ve]=de)}}return ce}var zt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function vr(ce,Z,ve){ve.push({command:zt.addSource,args:[ce,Z[ce]]})}function yr(ce,Z,ve){Z.push({command:zt.removeSource,args:[ce]}),ve[ce]=!0}function pr(ce,Z,ve,ee){yr(ce,ve,ee),vr(ce,Z,ve)}function cr(ce,Z,ve){var ee;for(ee in ce[ve])if(ce[ve].hasOwnProperty(ee)&&ee!=="data"&&!o.deepEqual(ce[ve][ee],Z[ve][ee]))return!1;for(ee in Z[ve])if(Z[ve].hasOwnProperty(ee)&&ee!=="data"&&!o.deepEqual(ce[ve][ee],Z[ve][ee]))return!1;return!0}function Ur(ce,Z,ve,ee){ce=ce||{},Z=Z||{};var de;for(de in ce)ce.hasOwnProperty(de)&&(Z.hasOwnProperty(de)||yr(de,ve,ee));for(de in Z)Z.hasOwnProperty(de)&&(ce.hasOwnProperty(de)?o.deepEqual(ce[de],Z[de])||(ce[de].type==="geojson"&&Z[de].type==="geojson"&&cr(ce,Z,de)?ve.push({command:zt.setGeoJSONSourceData,args:[de,Z[de].data]}):pr(de,Z,ve,ee)):vr(de,Z,ve))}function kr(ce,Z,ve,ee,de,Fe){ce=ce||{},Z=Z||{};var je;for(je in ce)ce.hasOwnProperty(je)&&(o.deepEqual(ce[je],Z[je])||ve.push({command:Fe,args:[ee,je,Z[je],de]}));for(je in Z)!Z.hasOwnProperty(je)||ce.hasOwnProperty(je)||o.deepEqual(ce[je],Z[je])||ve.push({command:Fe,args:[ee,je,Z[je],de]})}function Rr(ce){return ce.id}function vn(ce,Z){return ce[Z.id]=Z,ce}function tn(ce,Z,ve){ce=ce||[],Z=Z||[];var ee=ce.map(Rr),de=Z.map(Rr),Fe=ce.reduce(vn,{}),je=Z.reduce(vn,{}),it=ee.slice(),St=Object.create(null),Ut,Kt,or,ir,Fr,Zr,Yr;for(Ut=0,Kt=0;Ut<ee.length;Ut++)or=ee[Ut],je.hasOwnProperty(or)?Kt++:(ve.push({command:zt.removeLayer,args:[or]}),it.splice(it.indexOf(or,Kt),1));for(Ut=0,Kt=0;Ut<de.length;Ut++)or=de[de.length-1-Ut],it[it.length-1-Ut]!==or&&(Fe.hasOwnProperty(or)?(ve.push({command:zt.removeLayer,args:[or]}),it.splice(it.lastIndexOf(or,it.length-Kt),1)):Kt++,Zr=it[it.length-Ut],ve.push({command:zt.addLayer,args:[je[or],Zr]}),it.splice(it.length-Ut,0,or),St[or]=!0);for(Ut=0;Ut<de.length;Ut++)if(or=de[Ut],ir=Fe[or],Fr=je[or],!(St[or]||o.deepEqual(ir,Fr))){if(!o.deepEqual(ir.source,Fr.source)||!o.deepEqual(ir["source-layer"],Fr["source-layer"])||!o.deepEqual(ir.type,Fr.type)){ve.push({command:zt.removeLayer,args:[or]}),Zr=it[it.lastIndexOf(or)+1],ve.push({command:zt.addLayer,args:[Fr,Zr]});continue}kr(ir.layout,Fr.layout,ve,or,null,zt.setLayoutProperty),kr(ir.paint,Fr.paint,ve,or,null,zt.setPaintProperty),o.deepEqual(ir.filter,Fr.filter)||ve.push({command:zt.setFilter,args:[or,Fr.filter]}),(!o.deepEqual(ir.minzoom,Fr.minzoom)||!o.deepEqual(ir.maxzoom,Fr.maxzoom))&&ve.push({command:zt.setLayerZoomRange,args:[or,Fr.minzoom,Fr.maxzoom]});for(Yr in ir)ir.hasOwnProperty(Yr)&&(Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?kr(ir[Yr],Fr[Yr],ve,or,Yr.slice(6),zt.setPaintProperty):o.deepEqual(ir[Yr],Fr[Yr])||ve.push({command:zt.setLayerProperty,args:[or,Yr,Fr[Yr]]})));for(Yr in Fr)!Fr.hasOwnProperty(Yr)||ir.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?kr(ir[Yr],Fr[Yr],ve,or,Yr.slice(6),zt.setPaintProperty):o.deepEqual(ir[Yr],Fr[Yr])||ve.push({command:zt.setLayerProperty,args:[or,Yr,Fr[Yr]]}))}}function Bn(ce,Z){if(!ce)return[{command:zt.setStyle,args:[Z]}];var ve=[];try{if(!o.deepEqual(ce.version,Z.version))return[{command:zt.setStyle,args:[Z]}];o.deepEqual(ce.center,Z.center)||ve.push({command:zt.setCenter,args:[Z.center]}),o.deepEqual(ce.zoom,Z.zoom)||ve.push({command:zt.setZoom,args:[Z.zoom]}),o.deepEqual(ce.bearing,Z.bearing)||ve.push({command:zt.setBearing,args:[Z.bearing]}),o.deepEqual(ce.pitch,Z.pitch)||ve.push({command:zt.setPitch,args:[Z.pitch]}),o.deepEqual(ce.sprite,Z.sprite)||ve.push({command:zt.setSprite,args:[Z.sprite]}),o.deepEqual(ce.glyphs,Z.glyphs)||ve.push({command:zt.setGlyphs,args:[Z.glyphs]}),o.deepEqual(ce.transition,Z.transition)||ve.push({command:zt.setTransition,args:[Z.transition]}),o.deepEqual(ce.light,Z.light)||ve.push({command:zt.setLight,args:[Z.light]});var ee={},de=[];Ur(ce.sources,Z.sources,de,ee);var Fe=[];ce.layers&&ce.layers.forEach(function(je){ee[je.source]?ve.push({command:zt.removeLayer,args:[je.id]}):Fe.push(je)}),ve=ve.concat(de),tn(Fe,Z.layers,ve)}catch(je){console.warn("Unable to compute style diff:",je),ve=[{command:zt.setStyle,args:[Z]}]}return ve}var xn=function(Z,ve){this.reset(Z,ve)};xn.prototype.reset=function(Z,ve){this.points=Z||[],this._distances=[0];for(var ee=1;ee<this.points.length;ee++)this._distances[ee]=this._distances[ee-1]+this.points[ee].dist(this.points[ee-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ve||0,this.length*.5),this.paddedLength=this.length-this.padding*2},xn.prototype.lerp=function(Z){if(this.points.length===1)return this.points[0];Z=o.clamp(Z,0,1);for(var ve=1,ee=this._distances[ve],de=Z*this.paddedLength+this.padding;ee<de&&ve<this._distances.length;)ee=this._distances[++ve];var Fe=ve-1,je=this._distances[Fe],it=ee-je,St=it>0?(de-je)/it:0;return this.points[Fe].mult(1-St).add(this.points[ve].mult(St))};var Mr=function(Z,ve,ee){var de=this.boxCells=[],Fe=this.circleCells=[];this.xCellCount=Math.ceil(Z/ee),this.yCellCount=Math.ceil(ve/ee);for(var je=0;je<this.xCellCount*this.yCellCount;je++)de.push([]),Fe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Z,this.height=ve,this.xScale=this.xCellCount/Z,this.yScale=this.yCellCount/ve,this.boxUid=0,this.circleUid=0};Mr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Mr.prototype.insert=function(Z,ve,ee,de,Fe){this._forEachCell(ve,ee,de,Fe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Z),this.bboxes.push(ve),this.bboxes.push(ee),this.bboxes.push(de),this.bboxes.push(Fe)},Mr.prototype.insertCircle=function(Z,ve,ee,de){this._forEachCell(ve-de,ee-de,ve+de,ee+de,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Z),this.circles.push(ve),this.circles.push(ee),this.circles.push(de)},Mr.prototype._insertBoxCell=function(Z,ve,ee,de,Fe,je){this.boxCells[Fe].push(je)},Mr.prototype._insertCircleCell=function(Z,ve,ee,de,Fe,je){this.circleCells[Fe].push(je)},Mr.prototype._query=function(Z,ve,ee,de,Fe,je){if(ee<0||Z>this.width||de<0||ve>this.height)return Fe?!1:[];var it=[];if(Z<=0&&ve<=0&&this.width<=ee&&this.height<=de){if(Fe)return!0;for(var St=0;St<this.boxKeys.length;St++)it.push({key:this.boxKeys[St],x1:this.bboxes[St*4],y1:this.bboxes[St*4+1],x2:this.bboxes[St*4+2],y2:this.bboxes[St*4+3]});for(var Ut=0;Ut<this.circleKeys.length;Ut++){var Kt=this.circles[Ut*3],or=this.circles[Ut*3+1],ir=this.circles[Ut*3+2];it.push({key:this.circleKeys[Ut],x1:Kt-ir,y1:or-ir,x2:Kt+ir,y2:or+ir})}return je?it.filter(je):it}else{var Fr={hitTest:Fe,seenUids:{box:{},circle:{}}};return this._forEachCell(Z,ve,ee,de,this._queryCell,it,Fr,je),Fe?it.length>0:it}},Mr.prototype._queryCircle=function(Z,ve,ee,de,Fe){var je=Z-ee,it=Z+ee,St=ve-ee,Ut=ve+ee;if(it<0||je>this.width||Ut<0||St>this.height)return de?!1:[];var Kt=[],or={hitTest:de,circle:{x:Z,y:ve,radius:ee},seenUids:{box:{},circle:{}}};return this._forEachCell(je,St,it,Ut,this._queryCellCircle,Kt,or,Fe),de?Kt.length>0:Kt},Mr.prototype.query=function(Z,ve,ee,de,Fe){return this._query(Z,ve,ee,de,!1,Fe)},Mr.prototype.hitTest=function(Z,ve,ee,de,Fe){return this._query(Z,ve,ee,de,!0,Fe)},Mr.prototype.hitTestCircle=function(Z,ve,ee,de){return this._queryCircle(Z,ve,ee,!0,de)},Mr.prototype._queryCell=function(Z,ve,ee,de,Fe,je,it,St){var Ut=it.seenUids,Kt=this.boxCells[Fe];if(Kt!==null)for(var or=this.bboxes,ir=0,Fr=Kt;ir<Fr.length;ir+=1){var Zr=Fr[ir];if(!Ut.box[Zr]){Ut.box[Zr]=!0;var Yr=Zr*4;if(Z<=or[Yr+2]&&ve<=or[Yr+3]&&ee>=or[Yr+0]&&de>=or[Yr+1]&&(!St||St(this.boxKeys[Zr]))){if(it.hitTest)return je.push(!0),!0;je.push({key:this.boxKeys[Zr],x1:or[Yr],y1:or[Yr+1],x2:or[Yr+2],y2:or[Yr+3]})}}}var Vr=this.circleCells[Fe];if(Vr!==null)for(var Kr=this.circles,fn=0,Dn=Vr;fn<Dn.length;fn+=1){var zn=Dn[fn];if(!Ut.circle[zn]){Ut.circle[zn]=!0;var Yn=zn*3;if(this._circleAndRectCollide(Kr[Yn],Kr[Yn+1],Kr[Yn+2],Z,ve,ee,de)&&(!St||St(this.circleKeys[zn]))){if(it.hitTest)return je.push(!0),!0;var Xn=Kr[Yn],Vn=Kr[Yn+1],Jn=Kr[Yn+2];je.push({key:this.circleKeys[zn],x1:Xn-Jn,y1:Vn-Jn,x2:Xn+Jn,y2:Vn+Jn})}}}},Mr.prototype._queryCellCircle=function(Z,ve,ee,de,Fe,je,it,St){var Ut=it.circle,Kt=it.seenUids,or=this.boxCells[Fe];if(or!==null)for(var ir=this.bboxes,Fr=0,Zr=or;Fr<Zr.length;Fr+=1){var Yr=Zr[Fr];if(!Kt.box[Yr]){Kt.box[Yr]=!0;var Vr=Yr*4;if(this._circleAndRectCollide(Ut.x,Ut.y,Ut.radius,ir[Vr+0],ir[Vr+1],ir[Vr+2],ir[Vr+3])&&(!St||St(this.boxKeys[Yr])))return je.push(!0),!0}}var Kr=this.circleCells[Fe];if(Kr!==null)for(var fn=this.circles,Dn=0,zn=Kr;Dn<zn.length;Dn+=1){var Yn=zn[Dn];if(!Kt.circle[Yn]){Kt.circle[Yn]=!0;var Xn=Yn*3;if(this._circlesCollide(fn[Xn],fn[Xn+1],fn[Xn+2],Ut.x,Ut.y,Ut.radius)&&(!St||St(this.circleKeys[Yn])))return je.push(!0),!0}}},Mr.prototype._forEachCell=function(Z,ve,ee,de,Fe,je,it,St){for(var Ut=this._convertToXCellCoord(Z),Kt=this._convertToYCellCoord(ve),or=this._convertToXCellCoord(ee),ir=this._convertToYCellCoord(de),Fr=Ut;Fr<=or;Fr++)for(var Zr=Kt;Zr<=ir;Zr++){var Yr=this.xCellCount*Zr+Fr;if(Fe.call(this,Z,ve,ee,de,Yr,je,it,St))return}},Mr.prototype._convertToXCellCoord=function(Z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Z*this.xScale)))},Mr.prototype._convertToYCellCoord=function(Z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Z*this.yScale)))},Mr.prototype._circlesCollide=function(Z,ve,ee,de,Fe,je){var it=de-Z,St=Fe-ve,Ut=ee+je;return Ut*Ut>it*it+St*St},Mr.prototype._circleAndRectCollide=function(Z,ve,ee,de,Fe,je,it){var St=(je-de)/2,Ut=Math.abs(Z-(de+St));if(Ut>St+ee)return!1;var Kt=(it-Fe)/2,or=Math.abs(ve-(Fe+Kt));if(or>Kt+ee)return!1;if(Ut<=St||or<=Kt)return!0;var ir=Ut-St,Fr=or-Kt;return ir*ir+Fr*Fr<=ee*ee};function Er(ce,Z,ve,ee,de){var Fe=o.create();return Z?(o.scale(Fe,Fe,[1/de,1/de,1]),ve||o.rotateZ(Fe,Fe,ee.angle)):o.multiply(Fe,ee.labelPlaneMatrix,ce),Fe}function Wr(ce,Z,ve,ee,de){if(Z){var Fe=o.clone(ce);return o.scale(Fe,Fe,[de,de,1]),ve||o.rotateZ(Fe,Fe,-ee.angle),Fe}else return ee.glCoordMatrix}function Hr(ce,Z){var ve=[ce.x,ce.y,0,1];Tr(ve,ve,Z);var ee=ve[3];return{point:new o.Point(ve[0]/ee,ve[1]/ee),signedDistanceFromCamera:ee}}function an(ce,Z){return .5+.5*(ce/Z)}function dn(ce,Z){var ve=ce[0]/ce[3],ee=ce[1]/ce[3],de=ve>=-Z[0]&&ve<=Z[0]&&ee>=-Z[1]&&ee<=Z[1];return de}function gn(ce,Z,ve,ee,de,Fe,je,it){var St=ee?ce.textSizeData:ce.iconSizeData,Ut=o.evaluateSizeForZoom(St,ve.transform.zoom),Kt=[256/ve.width*2+1,256/ve.height*2+1],or=ee?ce.text.dynamicLayoutVertexArray:ce.icon.dynamicLayoutVertexArray;or.clear();for(var ir=ce.lineVertexArray,Fr=ee?ce.text.placedSymbolArray:ce.icon.placedSymbolArray,Zr=ve.transform.width/ve.transform.height,Yr=!1,Vr=0;Vr<Fr.length;Vr++){var Kr=Fr.get(Vr);if(Kr.hidden||Kr.writingMode===o.WritingMode.vertical&&!Yr){$n(Kr.numGlyphs,or);continue}Yr=!1;var fn=[Kr.anchorX,Kr.anchorY,0,1];if(o.transformMat4(fn,fn,Z),!dn(fn,Kt)){$n(Kr.numGlyphs,or);continue}var Dn=fn[3],zn=an(ve.transform.cameraToCenterDistance,Dn),Yn=o.evaluateSizeForFeature(St,Ut,Kr),Xn=je?Yn/zn:Yn*zn,Vn=new o.Point(Kr.anchorX,Kr.anchorY),Jn=Hr(Vn,de).point,ia={},ca=sa(Kr,Xn,!1,it,Z,de,Fe,ce.glyphOffsetArray,ir,or,Jn,Vn,ia,Zr);Yr=ca.useVertical,(ca.notEnoughRoom||Yr||ca.needsFlipping&&sa(Kr,Xn,!0,it,Z,de,Fe,ce.glyphOffsetArray,ir,or,Jn,Vn,ia,Zr).notEnoughRoom)&&$n(Kr.numGlyphs,or)}ee?ce.text.dynamicLayoutVertexBuffer.updateData(or):ce.icon.dynamicLayoutVertexBuffer.updateData(or)}function Cn(ce,Z,ve,ee,de,Fe,je,it,St,Ut,Kt){var or=it.glyphStartIndex+it.numGlyphs,ir=it.lineStartIndex,Fr=it.lineStartIndex+it.lineLength,Zr=Z.getoffsetX(it.glyphStartIndex),Yr=Z.getoffsetX(or-1),Vr=ea(ce*Zr,ve,ee,de,Fe,je,it.segment,ir,Fr,St,Ut,Kt);if(!Vr)return null;var Kr=ea(ce*Yr,ve,ee,de,Fe,je,it.segment,ir,Fr,St,Ut,Kt);return Kr?{first:Vr,last:Kr}:null}function _n(ce,Z,ve,ee){if(ce===o.WritingMode.horizontal){var de=Math.abs(ve.y-Z.y),Fe=Math.abs(ve.x-Z.x)*ee;if(de>Fe)return{useVertical:!0}}return(ce===o.WritingMode.vertical?Z.y<ve.y:Z.x>ve.x)?{needsFlipping:!0}:null}function sa(ce,Z,ve,ee,de,Fe,je,it,St,Ut,Kt,or,ir,Fr){var Zr=Z/24,Yr=ce.lineOffsetX*Zr,Vr=ce.lineOffsetY*Zr,Kr;if(ce.numGlyphs>1){var fn=ce.glyphStartIndex+ce.numGlyphs,Dn=ce.lineStartIndex,zn=ce.lineStartIndex+ce.lineLength,Yn=Cn(Zr,it,Yr,Vr,ve,Kt,or,ce,St,Fe,ir);if(!Yn)return{notEnoughRoom:!0};var Xn=Hr(Yn.first.point,je).point,Vn=Hr(Yn.last.point,je).point;if(ee&&!ve){var Jn=_n(ce.writingMode,Xn,Vn,Fr);if(Jn)return Jn}Kr=[Yn.first];for(var ia=ce.glyphStartIndex+1;ia<fn-1;ia++)Kr.push(ea(Zr*it.getoffsetX(ia),Yr,Vr,ve,Kt,or,ce.segment,Dn,zn,St,Fe,ir));Kr.push(Yn.last)}else{if(ee&&!ve){var ca=Hr(or,de).point,xa=ce.lineStartIndex+ce.segment+1,da=new o.Point(St.getx(xa),St.gety(xa)),_a=Hr(da,de),Qa=_a.signedDistanceFromCamera>0?_a.point:Qn(or,da,ca,1,de),Ya=_n(ce.writingMode,ca,Qa,Fr);if(Ya)return Ya}var Sa=ea(Zr*it.getoffsetX(ce.glyphStartIndex),Yr,Vr,ve,Kt,or,ce.segment,ce.lineStartIndex,ce.lineStartIndex+ce.lineLength,St,Fe,ir);if(!Sa)return{notEnoughRoom:!0};Kr=[Sa]}for(var Za=0,Ha=Kr;Za<Ha.length;Za+=1){var ii=Ha[Za];o.addDynamicAttributes(Ut,ii.point,ii.angle)}return{}}function Qn(ce,Z,ve,ee,de){var Fe=Hr(ce.add(ce.sub(Z)._unit()),de).point,je=ve.sub(Fe);return ve.add(je._mult(ee/je.mag()))}function ea(ce,Z,ve,ee,de,Fe,je,it,St,Ut,Kt,or){var ir=ee?ce-Z:ce+Z,Fr=ir>0?1:-1,Zr=0;ee&&(Fr*=-1,Zr=Math.PI),Fr<0&&(Zr+=Math.PI);for(var Yr=Fr>0?it+je:it+je+1,Vr=de,Kr=de,fn=0,Dn=0,zn=Math.abs(ir),Yn=[];fn+Dn<=zn;){if(Yr+=Fr,Yr<it||Yr>=St)return null;if(Kr=Vr,Yn.push(Vr),Vr=or[Yr],Vr===void 0){var Xn=new o.Point(Ut.getx(Yr),Ut.gety(Yr)),Vn=Hr(Xn,Kt);if(Vn.signedDistanceFromCamera>0)Vr=or[Yr]=Vn.point;else{var Jn=Yr-Fr,ia=fn===0?Fe:new o.Point(Ut.getx(Jn),Ut.gety(Jn));Vr=Qn(ia,Xn,Kr,zn-fn+1,Kt)}}fn+=Dn,Dn=Kr.dist(Vr)}var ca=(zn-fn)/Dn,xa=Vr.sub(Kr),da=xa.mult(ca)._add(Kr);da._add(xa._unit()._perp()._mult(ve*Fr));var _a=Zr+Math.atan2(Vr.y-Kr.y,Vr.x-Kr.x);return Yn.push(da),{point:da,angle:_a,path:Yn}}var Zn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function $n(ce,Z){for(var ve=0;ve<ce;ve++){var ee=Z.length;Z.resize(ee+4),Z.float32.set(Zn,ee*3)}}function Tr(ce,Z,ve){var ee=Z[0],de=Z[1];return ce[0]=ve[0]*ee+ve[4]*de+ve[12],ce[1]=ve[1]*ee+ve[5]*de+ve[13],ce[3]=ve[3]*ee+ve[7]*de+ve[15],ce}var on=100,rn=function(Z,ve,ee){ve===void 0&&(ve=new Mr(Z.width+2*on,Z.height+2*on,25)),ee===void 0&&(ee=new Mr(Z.width+2*on,Z.height+2*on,25)),this.transform=Z,this.grid=ve,this.ignoredGrid=ee,this.pitchfactor=Math.cos(Z._pitch)*Z.cameraToCenterDistance,this.screenRightBoundary=Z.width+on,this.screenBottomBoundary=Z.height+on,this.gridRightBoundary=Z.width+2*on,this.gridBottomBoundary=Z.height+2*on};rn.prototype.placeCollisionBox=function(Z,ve,ee,de,Fe){var je=this.projectAndGetPerspectiveRatio(de,Z.anchorPointX,Z.anchorPointY),it=ee*je.perspectiveRatio,St=Z.x1*it+je.point.x,Ut=Z.y1*it+je.point.y,Kt=Z.x2*it+je.point.x,or=Z.y2*it+je.point.y;return!this.isInsideGrid(St,Ut,Kt,or)||!ve&&this.grid.hitTest(St,Ut,Kt,or,Fe)?{box:[],offscreen:!1}:{box:[St,Ut,Kt,or],offscreen:this.isOffscreen(St,Ut,Kt,or)}},rn.prototype.placeCollisionCircles=function(Z,ve,ee,de,Fe,je,it,St,Ut,Kt,or,ir,Fr){var Zr=[],Yr=new o.Point(ve.anchorX,ve.anchorY),Vr=Hr(Yr,je),Kr=an(this.transform.cameraToCenterDistance,Vr.signedDistanceFromCamera),fn=Kt?Fe/Kr:Fe*Kr,Dn=fn/o.ONE_EM,zn=Hr(Yr,it).point,Yn={},Xn=ve.lineOffsetX*Dn,Vn=ve.lineOffsetY*Dn,Jn=Cn(Dn,de,Xn,Vn,!1,zn,Yr,ve,ee,it,Yn),ia=!1,ca=!1,xa=!0;if(Jn){for(var da=ir*.5*Kr+Fr,_a=new o.Point(-on,-on),Qa=new o.Point(this.screenRightBoundary,this.screenBottomBoundary),Ya=new xn,Sa=Jn.first,Za=Jn.last,Ha=[],ii=Sa.path.length-1;ii>=1;ii--)Ha.push(Sa.path[ii]);for(var ei=1;ei<Za.path.length;ei++)Ha.push(Za.path[ei]);var Ai=da*2.5;if(St){var Ja=Ha.map(function(yl){return Hr(yl,St)});Ja.some(function(yl){return yl.signedDistanceFromCamera<=0})?Ha=[]:Ha=Ja.map(function(yl){return yl.point})}var yi=[];if(Ha.length>0){for(var Va=Ha[0].clone(),$a=Ha[0].clone(),Ni=1;Ni<Ha.length;Ni++)Va.x=Math.min(Va.x,Ha[Ni].x),Va.y=Math.min(Va.y,Ha[Ni].y),$a.x=Math.max($a.x,Ha[Ni].x),$a.y=Math.max($a.y,Ha[Ni].y);Va.x>=_a.x&&$a.x<=Qa.x&&Va.y>=_a.y&&$a.y<=Qa.y?yi=[Ha]:$a.x<_a.x||Va.x>Qa.x||$a.y<_a.y||Va.y>Qa.y?yi=[]:yi=o.clipLine([Ha],_a.x,_a.y,Qa.x,Qa.y)}for(var yo=0,Ks=yi;yo<Ks.length;yo+=1){var Js=Ks[yo];Ya.reset(Js,da*.25);var dl=0;Ya.length<=.5*da?dl=1:dl=Math.ceil(Ya.paddedLength/Ai)+1;for(var Yl=0;Yl<dl;Yl++){var Df=Yl/Math.max(dl-1,1),Zl=Ya.lerp(Df),rs=Zl.x+on,jl=Zl.y+on;Zr.push(rs,jl,da,0);var ys=rs-da,ns=jl-da,pl=rs+da,Mu=jl+da;if(xa=xa&&this.isOffscreen(ys,ns,pl,Mu),ca=ca||this.isInsideGrid(ys,ns,pl,Mu),!Z&&this.grid.hitTestCircle(rs,jl,da,or)&&(ia=!0,!Ut))return{circles:[],offscreen:!1,collisionDetected:ia}}}}return{circles:!Ut&&ia||!ca?[]:Zr,offscreen:xa,collisionDetected:ia}},rn.prototype.queryRenderedSymbols=function(Z){if(Z.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ve=[],ee=1/0,de=1/0,Fe=-1/0,je=-1/0,it=0,St=Z;it<St.length;it+=1){var Ut=St[it],Kt=new o.Point(Ut.x+on,Ut.y+on);ee=Math.min(ee,Kt.x),de=Math.min(de,Kt.y),Fe=Math.max(Fe,Kt.x),je=Math.max(je,Kt.y),ve.push(Kt)}for(var or=this.grid.query(ee,de,Fe,je).concat(this.ignoredGrid.query(ee,de,Fe,je)),ir={},Fr={},Zr=0,Yr=or;Zr<Yr.length;Zr+=1){var Vr=Yr[Zr],Kr=Vr.key;if(ir[Kr.bucketInstanceId]===void 0&&(ir[Kr.bucketInstanceId]={}),!ir[Kr.bucketInstanceId][Kr.featureIndex]){var fn=[new o.Point(Vr.x1,Vr.y1),new o.Point(Vr.x2,Vr.y1),new o.Point(Vr.x2,Vr.y2),new o.Point(Vr.x1,Vr.y2)];o.polygonIntersectsPolygon(ve,fn)&&(ir[Kr.bucketInstanceId][Kr.featureIndex]=!0,Fr[Kr.bucketInstanceId]===void 0&&(Fr[Kr.bucketInstanceId]=[]),Fr[Kr.bucketInstanceId].push(Kr.featureIndex))}}return Fr},rn.prototype.insertCollisionBox=function(Z,ve,ee,de,Fe){var je=ve?this.ignoredGrid:this.grid,it={bucketInstanceId:ee,featureIndex:de,collisionGroupID:Fe};je.insert(it,Z[0],Z[1],Z[2],Z[3])},rn.prototype.insertCollisionCircles=function(Z,ve,ee,de,Fe){for(var je=ve?this.ignoredGrid:this.grid,it={bucketInstanceId:ee,featureIndex:de,collisionGroupID:Fe},St=0;St<Z.length;St+=4)je.insertCircle(it,Z[St],Z[St+1],Z[St+2])},rn.prototype.projectAndGetPerspectiveRatio=function(Z,ve,ee){var de=[ve,ee,0,1];Tr(de,de,Z);var Fe=new o.Point((de[0]/de[3]+1)/2*this.transform.width+on,(-de[1]/de[3]+1)/2*this.transform.height+on);return{point:Fe,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/de[3])}},rn.prototype.isOffscreen=function(Z,ve,ee,de){return ee<on||Z>=this.screenRightBoundary||de<on||ve>this.screenBottomBoundary},rn.prototype.isInsideGrid=function(Z,ve,ee,de){return ee>=0&&Z<this.gridRightBoundary&&de>=0&&ve<this.gridBottomBoundary},rn.prototype.getViewportMatrix=function(){var Z=o.identity([]);return o.translate(Z,Z,[-on,-on,0]),Z};function pn(ce,Z,ve){return Z*(o.EXTENT/(ce.tileSize*Math.pow(2,ve-ce.tileID.overscaledZ)))}var Wn=function(Z,ve,ee,de){Z?this.opacity=Math.max(0,Math.min(1,Z.opacity+(Z.placed?ve:-ve))):this.opacity=de&&ee?1:0,this.placed=ee};Wn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var An=function(Z,ve,ee,de,Fe){this.text=new Wn(Z?Z.text:null,ve,ee,Fe),this.icon=new Wn(Z?Z.icon:null,ve,de,Fe)};An.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Sn=function(Z,ve,ee){this.text=Z,this.icon=ve,this.skipFade=ee},Hn=function(){this.invProjMatrix=o.create(),this.viewportMatrix=o.create(),this.circles=[]},ta=function(Z,ve,ee,de,Fe){this.bucketInstanceId=Z,this.featureIndex=ve,this.sourceLayerIndex=ee,this.bucketIndex=de,this.tileID=Fe},wa=function(Z){this.crossSourceCollisions=Z,this.maxGroupID=0,this.collisionGroups={}};wa.prototype.get=function(Z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Z]){var ve=++this.maxGroupID;this.collisionGroups[Z]={ID:ve,predicate:function(ee){return ee.collisionGroupID===ve}}}return this.collisionGroups[Z]};function Ga(ce,Z,ve,ee,de){var Fe=o.getAnchorAlignment(ce),je=Fe.horizontalAlign,it=Fe.verticalAlign,St=-(je-.5)*Z,Ut=-(it-.5)*ve,Kt=o.evaluateVariableOffset(ce,ee);return new o.Point(St+Kt[0]*de,Ut+Kt[1]*de)}function Sr(ce,Z,ve,ee,de,Fe){var je=ce.x1,it=ce.x2,St=ce.y1,Ut=ce.y2,Kt=ce.anchorPointX,or=ce.anchorPointY,ir=new o.Point(Z,ve);return ee&&ir._rotate(de?Fe:-Fe),{x1:je+ir.x,y1:St+ir.y,x2:it+ir.x,y2:Ut+ir.y,anchorPointX:Kt,anchorPointY:or}}var Nr=function(Z,ve,ee,de){this.transform=Z.clone(),this.collisionIndex=new rn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ve,this.retainedQueryData={},this.collisionGroups=new wa(ee),this.collisionCircleArrays={},this.prevPlacement=de,de&&(de.prevPlacement=void 0),this.placedOrientations={}};Nr.prototype.getBucketParts=function(Z,ve,ee,de){var Fe=ee.getBucket(ve),je=ee.latestFeatureIndex;if(!(!Fe||!je||ve.id!==Fe.layerIds[0])){var it=ee.collisionBoxArray,St=Fe.layers[0].layout,Ut=Math.pow(2,this.transform.zoom-ee.tileID.overscaledZ),Kt=ee.tileSize/o.EXTENT,or=this.transform.calculatePosMatrix(ee.tileID.toUnwrapped()),ir=St.get("text-pitch-alignment")==="map",Fr=St.get("text-rotation-alignment")==="map",Zr=pn(ee,1,this.transform.zoom),Yr=Er(or,ir,Fr,this.transform,Zr),Vr=null;if(ir){var Kr=Wr(or,ir,Fr,this.transform,Zr);Vr=o.multiply([],this.transform.labelPlaneMatrix,Kr)}this.retainedQueryData[Fe.bucketInstanceId]=new ta(Fe.bucketInstanceId,je,Fe.sourceLayerIndex,Fe.index,ee.tileID);var fn={bucket:Fe,layout:St,posMatrix:or,textLabelPlaneMatrix:Yr,labelToScreenMatrix:Vr,scale:Ut,textPixelRatio:Kt,holdingForFade:ee.holdingForFade(),collisionBoxArray:it,partiallyEvaluatedTextSize:o.evaluateSizeForZoom(Fe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Fe.sourceID)};if(de)for(var Dn=0,zn=Fe.sortKeyRanges;Dn<zn.length;Dn+=1){var Yn=zn[Dn],Xn=Yn.sortKey,Vn=Yn.symbolInstanceStart,Jn=Yn.symbolInstanceEnd;Z.push({sortKey:Xn,symbolInstanceStart:Vn,symbolInstanceEnd:Jn,parameters:fn})}else Z.push({symbolInstanceStart:0,symbolInstanceEnd:Fe.symbolInstances.length,parameters:fn})}},Nr.prototype.attemptAnchorPlacement=function(Z,ve,ee,de,Fe,je,it,St,Ut,Kt,or,ir,Fr,Zr,Yr){var Vr=[ir.textOffset0,ir.textOffset1],Kr=Ga(Z,ee,de,Vr,Fe),fn=this.collisionIndex.placeCollisionBox(Sr(ve,Kr.x,Kr.y,je,it,this.transform.angle),or,St,Ut,Kt.predicate);if(Yr){var Dn=this.collisionIndex.placeCollisionBox(Sr(Yr,Kr.x,Kr.y,je,it,this.transform.angle),or,St,Ut,Kt.predicate);if(Dn.box.length===0)return}if(fn.box.length>0){var zn;return this.prevPlacement&&this.prevPlacement.variableOffsets[ir.crossTileID]&&this.prevPlacement.placements[ir.crossTileID]&&this.prevPlacement.placements[ir.crossTileID].text&&(zn=this.prevPlacement.variableOffsets[ir.crossTileID].anchor),this.variableOffsets[ir.crossTileID]={textOffset:Vr,width:ee,height:de,anchor:Z,textBoxScale:Fe,prevAnchor:zn},this.markUsedJustification(Fr,Z,ir,Zr),Fr.allowVerticalPlacement&&(this.markUsedOrientation(Fr,Zr,ir),this.placedOrientations[ir.crossTileID]=Zr),{shift:Kr,placedGlyphBoxes:fn}}},Nr.prototype.placeLayerBucketPart=function(Z,ve,ee){var de=this,Fe=Z.parameters,je=Fe.bucket,it=Fe.layout,St=Fe.posMatrix,Ut=Fe.textLabelPlaneMatrix,Kt=Fe.labelToScreenMatrix,or=Fe.textPixelRatio,ir=Fe.holdingForFade,Fr=Fe.collisionBoxArray,Zr=Fe.partiallyEvaluatedTextSize,Yr=Fe.collisionGroup,Vr=it.get("text-optional"),Kr=it.get("icon-optional"),fn=it.get("text-allow-overlap"),Dn=it.get("icon-allow-overlap"),zn=it.get("text-rotation-alignment")==="map",Yn=it.get("text-pitch-alignment")==="map",Xn=it.get("icon-text-fit")!=="none",Vn=it.get("symbol-z-order")==="viewport-y",Jn=fn&&(Dn||!je.hasIconData()||Kr),ia=Dn&&(fn||!je.hasTextData()||Vr);!je.collisionArrays&&Fr&&je.deserializeCollisionBoxes(Fr);var ca=function(Sa,Za){if(!ve[Sa.crossTileID]){if(ir){de.placements[Sa.crossTileID]=new Sn(!1,!1,!1);return}var Ha=!1,ii=!1,ei=!0,Ai=null,Ja={box:null,offscreen:null},yi={box:null,offscreen:null},Va=null,$a=null,Ni=null,yo=0,Ks=0,Js=0;Za.textFeatureIndex?yo=Za.textFeatureIndex:Sa.useRuntimeCollisionCircles&&(yo=Sa.featureIndex),Za.verticalTextFeatureIndex&&(Ks=Za.verticalTextFeatureIndex);var dl=Za.textBox;if(dl){var Yl=function(Yi){var ms=o.WritingMode.horizontal;if(je.allowVerticalPlacement&&!Yi&&de.prevPlacement){var xs=de.prevPlacement.placedOrientations[Sa.crossTileID];xs&&(de.placedOrientations[Sa.crossTileID]=xs,ms=xs,de.markUsedOrientation(je,ms,Sa))}return ms},Df=function(Yi,ms){if(je.allowVerticalPlacement&&Sa.numVerticalGlyphVertices>0&&Za.verticalTextBox)for(var xs=0,Qh=je.writingModes;xs<Qh.length;xs+=1){var ed=Qh[xs];if(ed===o.WritingMode.vertical?(Ja=ms(),yi=Ja):Ja=Yi(),Ja&&Ja.box&&Ja.box.length)break}else Ja=Yi()};if(it.get("text-variable-anchor")){var ys=it.get("text-variable-anchor");if(de.prevPlacement&&de.prevPlacement.variableOffsets[Sa.crossTileID]){var ns=de.prevPlacement.variableOffsets[Sa.crossTileID];ys.indexOf(ns.anchor)>0&&(ys=ys.filter(function(Yi){return Yi!==ns.anchor}),ys.unshift(ns.anchor))}var pl=function(Yi,ms,xs){for(var Qh=Yi.x2-Yi.x1,ed=Yi.y2-Yi.y1,cg=Sa.textBoxScale,hg=Xn&&!Dn?ms:null,Th={box:[],offscreen:!1},vg=fn?ys.length*2:ys.length,$h=0;$h<vg;++$h){var dg=ys[$h%ys.length],pg=$h>=ys.length,td=de.attemptAnchorPlacement(dg,Yi,Qh,ed,cg,zn,Yn,or,St,Yr,pg,Sa,je,xs,hg);if(td&&(Th=td.placedGlyphBoxes,Th&&Th.box&&Th.box.length)){Ha=!0,Ai=td.shift;break}}return Th},Mu=function(){return pl(dl,Za.iconBox,o.WritingMode.horizontal)},yl=function(){var Yi=Za.verticalTextBox,ms=Ja&&Ja.box&&Ja.box.length;return je.allowVerticalPlacement&&!ms&&Sa.numVerticalGlyphVertices>0&&Yi?pl(Yi,Za.verticalIconBox,o.WritingMode.vertical):{box:null,offscreen:null}};Df(Mu,yl),Ja&&(Ha=Ja.box,ei=Ja.offscreen);var Zh=Yl(Ja&&Ja.box);if(!Ha&&de.prevPlacement){var bc=de.prevPlacement.variableOffsets[Sa.crossTileID];bc&&(de.variableOffsets[Sa.crossTileID]=bc,de.markUsedJustification(je,bc.anchor,Sa,Zh))}}else{var Zl=function(Yi,ms){var xs=de.collisionIndex.placeCollisionBox(Yi,fn,or,St,Yr.predicate);return xs&&xs.box&&xs.box.length&&(de.markUsedOrientation(je,ms,Sa),de.placedOrientations[Sa.crossTileID]=ms),xs},rs=function(){return Zl(dl,o.WritingMode.horizontal)},jl=function(){var Yi=Za.verticalTextBox;return je.allowVerticalPlacement&&Sa.numVerticalGlyphVertices>0&&Yi?Zl(Yi,o.WritingMode.vertical):{box:null,offscreen:null}};Df(rs,jl),Yl(Ja&&Ja.box&&Ja.box.length)}}if(Va=Ja,Ha=Va&&Va.box&&Va.box.length>0,ei=Va&&Va.offscreen,Sa.useRuntimeCollisionCircles){var To=je.text.placedSymbolArray.get(Sa.centerJustifiedTextSymbolIndex),jh=o.evaluateSizeForFeature(je.textSizeData,Zr,To),wh=it.get("text-padding"),Vo=Sa.collisionCircleDiameter;$a=de.collisionIndex.placeCollisionCircles(fn,To,je.lineVertexArray,je.glyphOffsetArray,jh,St,Ut,Kt,ee,Yn,Yr.predicate,Vo,wh),Ha=fn||$a.circles.length>0&&!$a.collisionDetected,ei=ei&&$a.offscreen}if(Za.iconFeatureIndex&&(Js=Za.iconFeatureIndex),Za.iconBox){var wc=function(Yi){var ms=Xn&&Ai?Sr(Yi,Ai.x,Ai.y,zn,Yn,de.transform.angle):Yi;return de.collisionIndex.placeCollisionBox(ms,Dn,or,St,Yr.predicate)};yi&&yi.box&&yi.box.length&&Za.verticalIconBox?(Ni=wc(Za.verticalIconBox),ii=Ni.box.length>0):(Ni=wc(Za.iconBox),ii=Ni.box.length>0),ei=ei&&Ni.offscreen}var Xh=Vr||Sa.numHorizontalGlyphVertices===0&&Sa.numVerticalGlyphVertices===0,Kh=Kr||Sa.numIconVertices===0;if(!Xh&&!Kh?ii=Ha=ii&&Ha:Kh?Xh||(ii=ii&&Ha):Ha=ii&&Ha,Ha&&Va&&Va.box&&(yi&&yi.box&&Ks?de.collisionIndex.insertCollisionBox(Va.box,it.get("text-ignore-placement"),je.bucketInstanceId,Ks,Yr.ID):de.collisionIndex.insertCollisionBox(Va.box,it.get("text-ignore-placement"),je.bucketInstanceId,yo,Yr.ID)),ii&&Ni&&de.collisionIndex.insertCollisionBox(Ni.box,it.get("icon-ignore-placement"),je.bucketInstanceId,Js,Yr.ID),$a&&(Ha&&de.collisionIndex.insertCollisionCircles($a.circles,it.get("text-ignore-placement"),je.bucketInstanceId,yo,Yr.ID),ee)){var Jh=je.bucketInstanceId,Tc=de.collisionCircleArrays[Jh];Tc===void 0&&(Tc=de.collisionCircleArrays[Jh]=new Hn);for(var Ac=0;Ac<$a.circles.length;Ac+=4)Tc.circles.push($a.circles[Ac+0]),Tc.circles.push($a.circles[Ac+1]),Tc.circles.push($a.circles[Ac+2]),Tc.circles.push($a.collisionDetected?1:0)}de.placements[Sa.crossTileID]=new Sn(Ha||Jn,ii||ia,ei||je.justReloaded),ve[Sa.crossTileID]=!0}};if(Vn)for(var xa=je.getSortedSymbolIndexes(this.transform.angle),da=xa.length-1;da>=0;--da){var _a=xa[da];ca(je.symbolInstances.get(_a),je.collisionArrays[_a])}else for(var Qa=Z.symbolInstanceStart;Qa<Z.symbolInstanceEnd;Qa++)ca(je.symbolInstances.get(Qa),je.collisionArrays[Qa]);if(ee&&je.bucketInstanceId in this.collisionCircleArrays){var Ya=this.collisionCircleArrays[je.bucketInstanceId];o.invert(Ya.invProjMatrix,St),Ya.viewportMatrix=this.collisionIndex.getViewportMatrix()}je.justReloaded=!1},Nr.prototype.markUsedJustification=function(Z,ve,ee,de){var Fe={left:ee.leftJustifiedTextSymbolIndex,center:ee.centerJustifiedTextSymbolIndex,right:ee.rightJustifiedTextSymbolIndex},je;de===o.WritingMode.vertical?je=ee.verticalPlacedTextSymbolIndex:je=Fe[o.getAnchorJustification(ve)];for(var it=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex,ee.verticalPlacedTextSymbolIndex],St=0,Ut=it;St<Ut.length;St+=1){var Kt=Ut[St];Kt>=0&&(je>=0&&Kt!==je?Z.text.placedSymbolArray.get(Kt).crossTileID=0:Z.text.placedSymbolArray.get(Kt).crossTileID=ee.crossTileID)}},Nr.prototype.markUsedOrientation=function(Z,ve,ee){for(var de=ve===o.WritingMode.horizontal||ve===o.WritingMode.horizontalOnly?ve:0,Fe=ve===o.WritingMode.vertical?ve:0,je=[ee.leftJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.rightJustifiedTextSymbolIndex],it=0,St=je;it<St.length;it+=1){var Ut=St[it];Z.text.placedSymbolArray.get(Ut).placedOrientation=de}ee.verticalPlacedTextSymbolIndex&&(Z.text.placedSymbolArray.get(ee.verticalPlacedTextSymbolIndex).placedOrientation=Fe)},Nr.prototype.commit=function(Z){this.commitTime=Z,this.zoomAtLastRecencyCheck=this.transform.zoom;var ve=this.prevPlacement,ee=!1;this.prevZoomAdjustment=ve?ve.zoomAdjustment(this.transform.zoom):0;var de=ve?ve.symbolFadeChange(Z):1,Fe=ve?ve.opacities:{},je=ve?ve.variableOffsets:{},it=ve?ve.placedOrientations:{};for(var St in this.placements){var Ut=this.placements[St],Kt=Fe[St];Kt?(this.opacities[St]=new An(Kt,de,Ut.text,Ut.icon),ee=ee||Ut.text!==Kt.text.placed||Ut.icon!==Kt.icon.placed):(this.opacities[St]=new An(null,de,Ut.text,Ut.icon,Ut.skipFade),ee=ee||Ut.text||Ut.icon)}for(var or in Fe){var ir=Fe[or];if(!this.opacities[or]){var Fr=new An(ir,de,!1,!1);Fr.isHidden()||(this.opacities[or]=Fr,ee=ee||ir.text.placed||ir.icon.placed)}}for(var Zr in je)!this.variableOffsets[Zr]&&this.opacities[Zr]&&!this.opacities[Zr].isHidden()&&(this.variableOffsets[Zr]=je[Zr]);for(var Yr in it)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=it[Yr]);ee?this.lastPlacementChangeTime=Z:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ve?ve.lastPlacementChangeTime:Z)},Nr.prototype.updateLayerOpacities=function(Z,ve){for(var ee={},de=0,Fe=ve;de<Fe.length;de+=1){var je=Fe[de],it=je.getBucket(Z);it&&je.latestFeatureIndex&&Z.id===it.layerIds[0]&&this.updateBucketOpacities(it,ee,je.collisionBoxArray)}},Nr.prototype.updateBucketOpacities=function(Z,ve,ee){var de=this;Z.hasTextData()&&Z.text.opacityVertexArray.clear(),Z.hasIconData()&&Z.icon.opacityVertexArray.clear(),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexArray.clear(),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexArray.clear();var Fe=Z.layers[0].layout,je=new An(null,0,!1,!1,!0),it=Fe.get("text-allow-overlap"),St=Fe.get("icon-allow-overlap"),Ut=Fe.get("text-variable-anchor"),Kt=Fe.get("text-rotation-alignment")==="map",or=Fe.get("text-pitch-alignment")==="map",ir=Fe.get("icon-text-fit")!=="none",Fr=new An(null,0,it&&(St||!Z.hasIconData()||Fe.get("icon-optional")),St&&(it||!Z.hasTextData()||Fe.get("text-optional")),!0);!Z.collisionArrays&&ee&&(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData())&&Z.deserializeCollisionBoxes(ee);for(var Zr=function(fn,Dn,zn){for(var Yn=0;Yn<Dn/4;Yn++)fn.opacityVertexArray.emplaceBack(zn)},Yr=function(fn){var Dn=Z.symbolInstances.get(fn),zn=Dn.numHorizontalGlyphVertices,Yn=Dn.numVerticalGlyphVertices,Xn=Dn.crossTileID,Vn=ve[Xn],Jn=de.opacities[Xn];Vn?Jn=je:Jn||(Jn=Fr,de.opacities[Xn]=Jn),ve[Xn]=!0;var ia=zn>0||Yn>0,ca=Dn.numIconVertices>0,xa=de.placedOrientations[Dn.crossTileID],da=xa===o.WritingMode.vertical,_a=xa===o.WritingMode.horizontal||xa===o.WritingMode.horizontalOnly;if(ia){var Qa=Gr(Jn.text),Ya=da?Qr:Qa;Zr(Z.text,zn,Ya);var Sa=_a?Qr:Qa;Zr(Z.text,Yn,Sa);var Za=Jn.text.isHidden();[Dn.rightJustifiedTextSymbolIndex,Dn.centerJustifiedTextSymbolIndex,Dn.leftJustifiedTextSymbolIndex].forEach(function(Js){Js>=0&&(Z.text.placedSymbolArray.get(Js).hidden=Za||da?1:0)}),Dn.verticalPlacedTextSymbolIndex>=0&&(Z.text.placedSymbolArray.get(Dn.verticalPlacedTextSymbolIndex).hidden=Za||_a?1:0);var Ha=de.variableOffsets[Dn.crossTileID];Ha&&de.markUsedJustification(Z,Ha.anchor,Dn,xa);var ii=de.placedOrientations[Dn.crossTileID];ii&&(de.markUsedJustification(Z,"left",Dn,ii),de.markUsedOrientation(Z,ii,Dn))}if(ca){var ei=Gr(Jn.icon),Ai=!(ir&&Dn.verticalPlacedIconSymbolIndex&&da);if(Dn.placedIconSymbolIndex>=0){var Ja=Ai?ei:Qr;Zr(Z.icon,Dn.numIconVertices,Ja),Z.icon.placedSymbolArray.get(Dn.placedIconSymbolIndex).hidden=Jn.icon.isHidden()}if(Dn.verticalPlacedIconSymbolIndex>=0){var yi=Ai?Qr:ei;Zr(Z.icon,Dn.numVerticalIconVertices,yi),Z.icon.placedSymbolArray.get(Dn.verticalPlacedIconSymbolIndex).hidden=Jn.icon.isHidden()}}if(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData()){var Va=Z.collisionArrays[fn];if(Va){var $a=new o.Point(0,0);if(Va.textBox||Va.verticalTextBox){var Ni=!0;if(Ut){var yo=de.variableOffsets[Xn];yo?($a=Ga(yo.anchor,yo.width,yo.height,yo.textOffset,yo.textBoxScale),Kt&&$a._rotate(or?de.transform.angle:-de.transform.angle)):Ni=!1}Va.textBox&&br(Z.textCollisionBox.collisionVertexArray,Jn.text.placed,!Ni||da,$a.x,$a.y),Va.verticalTextBox&&br(Z.textCollisionBox.collisionVertexArray,Jn.text.placed,!Ni||_a,$a.x,$a.y)}var Ks=!!(!_a&&Va.verticalIconBox);Va.iconBox&&br(Z.iconCollisionBox.collisionVertexArray,Jn.icon.placed,Ks,ir?$a.x:0,ir?$a.y:0),Va.verticalIconBox&&br(Z.iconCollisionBox.collisionVertexArray,Jn.icon.placed,!Ks,ir?$a.x:0,ir?$a.y:0)}}},Vr=0;Vr<Z.symbolInstances.length;Vr++)Yr(Vr);if(Z.sortFeatures(this.transform.angle),this.retainedQueryData[Z.bucketInstanceId]&&(this.retainedQueryData[Z.bucketInstanceId].featureSortOrder=Z.featureSortOrder),Z.hasTextData()&&Z.text.opacityVertexBuffer&&Z.text.opacityVertexBuffer.updateData(Z.text.opacityVertexArray),Z.hasIconData()&&Z.icon.opacityVertexBuffer&&Z.icon.opacityVertexBuffer.updateData(Z.icon.opacityVertexArray),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexBuffer&&Z.iconCollisionBox.collisionVertexBuffer.updateData(Z.iconCollisionBox.collisionVertexArray),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexBuffer&&Z.textCollisionBox.collisionVertexBuffer.updateData(Z.textCollisionBox.collisionVertexArray),Z.bucketInstanceId in this.collisionCircleArrays){var Kr=this.collisionCircleArrays[Z.bucketInstanceId];Z.placementInvProjMatrix=Kr.invProjMatrix,Z.placementViewportMatrix=Kr.viewportMatrix,Z.collisionCircleArray=Kr.circles,delete this.collisionCircleArrays[Z.bucketInstanceId]}},Nr.prototype.symbolFadeChange=function(Z){return this.fadeDuration===0?1:(Z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Nr.prototype.zoomAdjustment=function(Z){return Math.max(0,(this.transform.zoom-Z)/1.5)},Nr.prototype.hasTransitions=function(Z){return this.stale||Z-this.lastPlacementChangeTime<this.fadeDuration},Nr.prototype.stillRecent=function(Z,ve){var ee=this.zoomAtLastRecencyCheck===ve?1-this.zoomAdjustment(ve):1;return this.zoomAtLastRecencyCheck=ve,this.commitTime+this.fadeDuration*ee>Z},Nr.prototype.setStale=function(){this.stale=!0};function br(ce,Z,ve,ee,de){ce.emplaceBack(Z?1:0,ve?1:0,ee||0,de||0),ce.emplaceBack(Z?1:0,ve?1:0,ee||0,de||0),ce.emplaceBack(Z?1:0,ve?1:0,ee||0,de||0),ce.emplaceBack(Z?1:0,ve?1:0,ee||0,de||0)}var _r=Math.pow(2,25),wn=Math.pow(2,24),Rn=Math.pow(2,17),yn=Math.pow(2,16),hn=Math.pow(2,9),Lr=Math.pow(2,8),Xr=Math.pow(2,1);function Gr(ce){if(ce.opacity===0&&!ce.placed)return 0;if(ce.opacity===1&&ce.placed)return 4294967295;var Z=ce.placed?1:0,ve=Math.floor(ce.opacity*127);return ve*_r+Z*wn+ve*Rn+Z*yn+ve*hn+Z*Lr+ve*Xr+Z}var Qr=0,Tn=function(Z){this._sortAcrossTiles=Z.layout.get("symbol-z-order")!=="viewport-y"&&Z.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Tn.prototype.continuePlacement=function(Z,ve,ee,de,Fe){for(var je=this._bucketParts;this._currentTileIndex<Z.length;){var it=Z[this._currentTileIndex];if(ve.getBucketParts(je,de,it,this._sortAcrossTiles),this._currentTileIndex++,Fe())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,je.sort(function(Ut,Kt){return Ut.sortKey-Kt.sortKey}));this._currentPartIndex<je.length;){var St=je[this._currentPartIndex];if(ve.placeLayerBucketPart(St,this._seenCrossTileIDs,ee),this._currentPartIndex++,Fe())return!0}return!1};var Fn=function(Z,ve,ee,de,Fe,je,it){this.placement=new Nr(Z,Fe,je,it),this._currentPlacementIndex=ve.length-1,this._forceFullPlacement=ee,this._showCollisionBoxes=de,this._done=!1};Fn.prototype.isDone=function(){return this._done},Fn.prototype.continuePlacement=function(Z,ve,ee){for(var de=this,Fe=o.browser.now(),je=function(){var or=o.browser.now()-Fe;return de._forceFullPlacement?!1:or>2};this._currentPlacementIndex>=0;){var it=Z[this._currentPlacementIndex],St=ve[it],Ut=this.placement.collisionIndex.transform.zoom;if(St.type==="symbol"&&(!St.minzoom||St.minzoom<=Ut)&&(!St.maxzoom||St.maxzoom>Ut)){this._inProgressLayer||(this._inProgressLayer=new Tn(St));var Kt=this._inProgressLayer.continuePlacement(ee[St.source],this.placement,this._showCollisionBoxes,St,je);if(Kt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Fn.prototype.commit=function(Z){return this.placement.commit(Z),this.placement};var In=512/o.EXTENT/2,Un=function(Z,ve,ee){this.tileID=Z,this.indexedSymbolInstances={},this.bucketInstanceId=ee;for(var de=0;de<ve.length;de++){var Fe=ve.get(de),je=Fe.key;this.indexedSymbolInstances[je]||(this.indexedSymbolInstances[je]=[]),this.indexedSymbolInstances[je].push({crossTileID:Fe.crossTileID,coord:this.getScaledCoordinates(Fe,Z)})}};Un.prototype.getScaledCoordinates=function(Z,ve){var ee=ve.canonical.z-this.tileID.canonical.z,de=In/Math.pow(2,ee);return{x:Math.floor((ve.canonical.x*o.EXTENT+Z.anchorX)*de),y:Math.floor((ve.canonical.y*o.EXTENT+Z.anchorY)*de)}},Un.prototype.findMatches=function(Z,ve,ee){for(var de=this.tileID.canonical.z<ve.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ve.canonical.z),Fe=0;Fe<Z.length;Fe++){var je=Z.get(Fe);if(!je.crossTileID){var it=this.indexedSymbolInstances[je.key];if(it)for(var St=this.getScaledCoordinates(je,ve),Ut=0,Kt=it;Ut<Kt.length;Ut+=1){var or=Kt[Ut];if(Math.abs(or.coord.x-St.x)<=de&&Math.abs(or.coord.y-St.y)<=de&&!ee[or.crossTileID]){ee[or.crossTileID]=!0,je.crossTileID=or.crossTileID;break}}}}};var On=function(){this.maxCrossTileID=0};On.prototype.generate=function(){return++this.maxCrossTileID};var ya=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ya.prototype.handleWrapJump=function(Z){var ve=Math.round((Z-this.lng)/360);if(ve!==0)for(var ee in this.indexes){var de=this.indexes[ee],Fe={};for(var je in de){var it=de[je];it.tileID=it.tileID.unwrapTo(it.tileID.wrap+ve),Fe[it.tileID.key]=it}this.indexes[ee]=Fe}this.lng=Z},ya.prototype.addBucket=function(Z,ve,ee){if(this.indexes[Z.overscaledZ]&&this.indexes[Z.overscaledZ][Z.key]){if(this.indexes[Z.overscaledZ][Z.key].bucketInstanceId===ve.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Z.overscaledZ,this.indexes[Z.overscaledZ][Z.key])}for(var de=0;de<ve.symbolInstances.length;de++){var Fe=ve.symbolInstances.get(de);Fe.crossTileID=0}this.usedCrossTileIDs[Z.overscaledZ]||(this.usedCrossTileIDs[Z.overscaledZ]={});var je=this.usedCrossTileIDs[Z.overscaledZ];for(var it in this.indexes){var St=this.indexes[it];if(Number(it)>Z.overscaledZ)for(var Ut in St){var Kt=St[Ut];Kt.tileID.isChildOf(Z)&&Kt.findMatches(ve.symbolInstances,Z,je)}else{var or=Z.scaledTo(Number(it)),ir=St[or.key];ir&&ir.findMatches(ve.symbolInstances,Z,je)}}for(var Fr=0;Fr<ve.symbolInstances.length;Fr++){var Zr=ve.symbolInstances.get(Fr);Zr.crossTileID||(Zr.crossTileID=ee.generate(),je[Zr.crossTileID]=!0)}return this.indexes[Z.overscaledZ]===void 0&&(this.indexes[Z.overscaledZ]={}),this.indexes[Z.overscaledZ][Z.key]=new Un(Z,ve.symbolInstances,ve.bucketInstanceId),!0},ya.prototype.removeBucketCrossTileIDs=function(Z,ve){for(var ee in ve.indexedSymbolInstances)for(var de=0,Fe=ve.indexedSymbolInstances[ee];de<Fe.length;de+=1){var je=Fe[de];delete this.usedCrossTileIDs[Z][je.crossTileID]}},ya.prototype.removeStaleBuckets=function(Z){var ve=!1;for(var ee in this.indexes){var de=this.indexes[ee];for(var Fe in de)Z[de[Fe].bucketInstanceId]||(this.removeBucketCrossTileIDs(ee,de[Fe]),delete de[Fe],ve=!0)}return ve};var ua=function(){this.layerIndexes={},this.crossTileIDs=new On,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ua.prototype.addLayer=function(Z,ve,ee){var de=this.layerIndexes[Z.id];de===void 0&&(de=this.layerIndexes[Z.id]=new ya);var Fe=!1,je={};de.handleWrapJump(ee);for(var it=0,St=ve;it<St.length;it+=1){var Ut=St[it],Kt=Ut.getBucket(Z);!Kt||Z.id!==Kt.layerIds[0]||(Kt.bucketInstanceId||(Kt.bucketInstanceId=++this.maxBucketInstanceId),de.addBucket(Ut.tileID,Kt,this.crossTileIDs)&&(Fe=!0),je[Kt.bucketInstanceId]=!0)}return de.removeStaleBuckets(je)&&(Fe=!0),Fe},ua.prototype.pruneUnusedLayers=function(Z){var ve={};Z.forEach(function(de){ve[de]=!0});for(var ee in this.layerIndexes)ve[ee]||delete this.layerIndexes[ee]};var ga=function(ce,Z){return o.emitValidationErrors(ce,Z&&Z.filter(function(ve){return ve.identifier!=="source.canvas"}))},Pa=o.pick(zt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),pi=o.pick(zt,["setCenter","setZoom","setBearing","setPitch"]),ri=er(),_o=function(ce){function Z(ve,ee){var de=this;ee===void 0&&(ee={}),ce.call(this),this.map=ve,this.dispatcher=new I(kt(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new S(ve._requestManager,ee.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new ua,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.getReferrer());var Fe=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(function(je){var it={pluginStatus:je.pluginStatus,pluginURL:je.pluginURL};Fe.dispatcher.broadcast("syncRTLPluginState",it,function(St,Ut){if(o.triggerPluginCompletionEvent(St),Ut){var Kt=Ut.every(function(ir){return ir});if(Kt)for(var or in Fe.sourceCaches)Fe.sourceCaches[or].reload()}})}),this.on("data",function(je){if(!(je.dataType!=="source"||je.sourceDataType!=="metadata")){var it=de.sourceCaches[je.sourceId];if(it){var St=it.getSource();if(!(!St||!St.vectorLayerIds))for(var Ut in de._layers){var Kt=de._layers[Ut];Kt.source===St.id&&de._validateLayer(Kt)}}}})}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.loadURL=function(ee,de){var Fe=this;de===void 0&&(de={}),this.fire(new o.Event("dataloading",{dataType:"style"}));var je=typeof de.validate=="boolean"?de.validate:!o.isMapboxURL(ee);ee=this.map._requestManager.normalizeStyleURL(ee,de.accessToken);var it=this.map._requestManager.transformRequest(ee,o.ResourceType.Style);this._request=o.getJSON(it,function(St,Ut){Fe._request=null,St?Fe.fire(new o.ErrorEvent(St)):Ut&&Fe._load(Ut,je)})},Z.prototype.loadJSON=function(ee,de){var Fe=this;de===void 0&&(de={}),this.fire(new o.Event("dataloading",{dataType:"style"})),this._request=o.browser.frame(function(){Fe._request=null,Fe._load(ee,de.validate!==!1)})},Z.prototype.loadEmpty=function(){this.fire(new o.Event("dataloading",{dataType:"style"})),this._load(ri,!1)},Z.prototype._load=function(ee,de){if(!(de&&ga(this,o.validateStyle(ee)))){this._loaded=!0,this.stylesheet=ee;for(var Fe in ee.sources)this.addSource(Fe,ee.sources[Fe],{validate:!1});ee.sprite?this._loadSprite(ee.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ee.glyphs);var je=ur(this.stylesheet.layers);this._order=je.map(function(Kt){return Kt.id}),this._layers={},this._serializedLayers={};for(var it=0,St=je;it<St.length;it+=1){var Ut=St[it];Ut=o.createStyleLayer(Ut),Ut.setEventedParent(this,{layer:{id:Ut.id}}),this._layers[Ut.id]=Ut,this._serializedLayers[Ut.id]=Ut.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new o.Event("data",{dataType:"style"})),this.fire(new o.Event("style.load"))}},Z.prototype._loadSprite=function(ee){var de=this;this._spriteRequest=l(ee,this.map._requestManager,function(Fe,je){if(de._spriteRequest=null,Fe)de.fire(new o.ErrorEvent(Fe));else if(je)for(var it in je)de.imageManager.addImage(it,je[it]);de.imageManager.setLoaded(!0),de._availableImages=de.imageManager.listImages(),de.dispatcher.broadcast("setImages",de._availableImages),de.fire(new o.Event("data",{dataType:"style"}))})},Z.prototype._validateLayer=function(ee){var de=this.sourceCaches[ee.source];if(de){var Fe=ee.sourceLayer;if(Fe){var je=de.getSource();(je.type==="geojson"||je.vectorLayerIds&&je.vectorLayerIds.indexOf(Fe)===-1)&&this.fire(new o.ErrorEvent(new Error('Source layer "'+Fe+'" does not exist on source "'+je.id+'" as specified by style layer "'+ee.id+'"')))}}},Z.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ee in this.sourceCaches)if(!this.sourceCaches[ee].loaded())return!1;return!!this.imageManager.isLoaded()},Z.prototype._serializeLayers=function(ee){for(var de=[],Fe=0,je=ee;Fe<je.length;Fe+=1){var it=je[Fe],St=this._layers[it];St.type!=="custom"&&de.push(St.serialize())}return de},Z.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ee in this.sourceCaches)if(this.sourceCaches[ee].hasTransition())return!0;for(var de in this._layers)if(this._layers[de].hasTransition())return!0;return!1},Z.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Z.prototype.update=function(ee){if(this._loaded){var de=this._changed;if(this._changed){var Fe=Object.keys(this._updatedLayers),je=Object.keys(this._removedLayers);(Fe.length||je.length)&&this._updateWorkerLayers(Fe,je);for(var it in this._updatedSources){var St=this._updatedSources[it];St==="reload"?this._reloadSource(it):St==="clear"&&this._clearSource(it)}this._updateTilesForChangedImages();for(var Ut in this._updatedPaintProps)this._layers[Ut].updateTransitions(ee);this.light.updateTransitions(ee),this._resetUpdates()}var Kt={};for(var or in this.sourceCaches){var ir=this.sourceCaches[or];Kt[or]=ir.used,ir.used=!1}for(var Fr=0,Zr=this._order;Fr<Zr.length;Fr+=1){var Yr=Zr[Fr],Vr=this._layers[Yr];Vr.recalculate(ee,this._availableImages),!Vr.isHidden(ee.zoom)&&Vr.source&&(this.sourceCaches[Vr.source].used=!0)}for(var Kr in Kt){var fn=this.sourceCaches[Kr];Kt[Kr]!==fn.used&&fn.fire(new o.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Kr}))}this.light.recalculate(ee),this.z=ee.zoom,de&&this.fire(new o.Event("data",{dataType:"style"}))}},Z.prototype._updateTilesForChangedImages=function(){var ee=Object.keys(this._changedImages);if(ee.length){for(var de in this.sourceCaches)this.sourceCaches[de].reloadTilesForDependencies(["icons","patterns"],ee);this._changedImages={}}},Z.prototype._updateWorkerLayers=function(ee,de){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ee),removedIds:de})},Z.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Z.prototype.setState=function(ee){var de=this;if(this._checkLoaded(),ga(this,o.validateStyle(ee)))return!1;ee=o.clone$1(ee),ee.layers=ur(ee.layers);var Fe=Bn(this.serialize(),ee).filter(function(it){return!(it.command in pi)});if(Fe.length===0)return!1;var je=Fe.filter(function(it){return!(it.command in Pa)});if(je.length>0)throw new Error("Unimplemented: "+je.map(function(it){return it.command}).join(", ")+".");return Fe.forEach(function(it){it.command!=="setTransition"&&de[it.command].apply(de,it.args)}),this.stylesheet=ee,!0},Z.prototype.addImage=function(ee,de){if(this.getImage(ee))return this.fire(new o.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ee,de),this._afterImageUpdated(ee)},Z.prototype.updateImage=function(ee,de){this.imageManager.updateImage(ee,de)},Z.prototype.getImage=function(ee){return this.imageManager.getImage(ee)},Z.prototype.removeImage=function(ee){if(!this.getImage(ee))return this.fire(new o.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ee),this._afterImageUpdated(ee)},Z.prototype._afterImageUpdated=function(ee){this._availableImages=this.imageManager.listImages(),this._changedImages[ee]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.Event("data",{dataType:"style"}))},Z.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Z.prototype.addSource=function(ee,de,Fe){var je=this;if(Fe===void 0&&(Fe={}),this._checkLoaded(),this.sourceCaches[ee]!==void 0)throw new Error("There is already a source with this ID");if(!de.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(de).join(", ")+".");var it=["vector","raster","geojson","video","image"],St=it.indexOf(de.type)>=0;if(!(St&&this._validate(o.validateStyle.source,"sources."+ee,de,null,Fe))){this.map&&this.map._collectResourceTiming&&(de.collectResourceTiming=!0);var Ut=this.sourceCaches[ee]=new Bt(ee,de,this.dispatcher);Ut.style=this,Ut.setEventedParent(this,function(){return{isSourceLoaded:je.loaded(),source:Ut.serialize(),sourceId:ee}}),Ut.onAdd(this.map),this._changed=!0}},Z.prototype.removeSource=function(ee){if(this._checkLoaded(),this.sourceCaches[ee]===void 0)throw new Error("There is no source with this ID");for(var de in this._layers)if(this._layers[de].source===ee)return this.fire(new o.ErrorEvent(new Error('Source "'+ee+'" cannot be removed while layer "'+de+'" is using it.')));var Fe=this.sourceCaches[ee];delete this.sourceCaches[ee],delete this._updatedSources[ee],Fe.fire(new o.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ee})),Fe.setEventedParent(null),Fe.clearTiles(),Fe.onRemove&&Fe.onRemove(this.map),this._changed=!0},Z.prototype.setGeoJSONSourceData=function(ee,de){this._checkLoaded();var Fe=this.sourceCaches[ee].getSource();Fe.setData(de),this._changed=!0},Z.prototype.getSource=function(ee){return this.sourceCaches[ee]&&this.sourceCaches[ee].getSource()},Z.prototype.addLayer=function(ee,de,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var je=ee.id;if(this.getLayer(je)){this.fire(new o.ErrorEvent(new Error('Layer with id "'+je+'" already exists on this map')));return}var it;if(ee.type==="custom"){if(ga(this,o.validateCustomStyleLayer(ee)))return;it=o.createStyleLayer(ee)}else{if(typeof ee.source=="object"&&(this.addSource(je,ee.source),ee=o.clone$1(ee),ee=o.extend(ee,{source:je})),this._validate(o.validateStyle.layer,"layers."+je,ee,{arrayIndex:-1},Fe))return;it=o.createStyleLayer(ee),this._validateLayer(it),it.setEventedParent(this,{layer:{id:je}}),this._serializedLayers[it.id]=it.serialize()}var St=de?this._order.indexOf(de):this._order.length;if(de&&St===-1){this.fire(new o.ErrorEvent(new Error('Layer with id "'+de+'" does not exist on this map.')));return}if(this._order.splice(St,0,je),this._layerOrderChanged=!0,this._layers[je]=it,this._removedLayers[je]&&it.source&&it.type!=="custom"){var Ut=this._removedLayers[je];delete this._removedLayers[je],Ut.type!==it.type?this._updatedSources[it.source]="clear":(this._updatedSources[it.source]="reload",this.sourceCaches[it.source].pause())}this._updateLayer(it),it.onAdd&&it.onAdd(this.map)},Z.prototype.moveLayer=function(ee,de){this._checkLoaded(),this._changed=!0;var Fe=this._layers[ee];if(!Fe){this.fire(new o.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be moved.")));return}if(ee!==de){var je=this._order.indexOf(ee);this._order.splice(je,1);var it=de?this._order.indexOf(de):this._order.length;if(de&&it===-1){this.fire(new o.ErrorEvent(new Error('Layer with id "'+de+'" does not exist on this map.')));return}this._order.splice(it,0,ee),this._layerOrderChanged=!0}},Z.prototype.removeLayer=function(ee){this._checkLoaded();var de=this._layers[ee];if(!de){this.fire(new o.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be removed.")));return}de.setEventedParent(null);var Fe=this._order.indexOf(ee);this._order.splice(Fe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ee]=de,delete this._layers[ee],delete this._serializedLayers[ee],delete this._updatedLayers[ee],delete this._updatedPaintProps[ee],de.onRemove&&de.onRemove(this.map)},Z.prototype.getLayer=function(ee){return this._layers[ee]},Z.prototype.hasLayer=function(ee){return ee in this._layers},Z.prototype.setLayerZoomRange=function(ee,de,Fe){this._checkLoaded();var je=this.getLayer(ee);if(!je){this.fire(new o.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot have zoom extent.")));return}je.minzoom===de&&je.maxzoom===Fe||(de!=null&&(je.minzoom=de),Fe!=null&&(je.maxzoom=Fe),this._updateLayer(je))},Z.prototype.setFilter=function(ee,de,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var je=this.getLayer(ee);if(!je){this.fire(new o.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be filtered.")));return}if(!o.deepEqual(je.filter,de)){if(de==null){je.filter=void 0,this._updateLayer(je);return}this._validate(o.validateStyle.filter,"layers."+je.id+".filter",de,null,Fe)||(je.filter=o.clone$1(de),this._updateLayer(je))}},Z.prototype.getFilter=function(ee){return o.clone$1(this.getLayer(ee).filter)},Z.prototype.setLayoutProperty=function(ee,de,Fe,je){je===void 0&&(je={}),this._checkLoaded();var it=this.getLayer(ee);if(!it){this.fire(new o.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}o.deepEqual(it.getLayoutProperty(de),Fe)||(it.setLayoutProperty(de,Fe,je),this._updateLayer(it))},Z.prototype.getLayoutProperty=function(ee,de){var Fe=this.getLayer(ee);if(!Fe){this.fire(new o.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style.")));return}return Fe.getLayoutProperty(de)},Z.prototype.setPaintProperty=function(ee,de,Fe,je){je===void 0&&(je={}),this._checkLoaded();var it=this.getLayer(ee);if(!it){this.fire(new o.ErrorEvent(new Error("The layer '"+ee+"' does not exist in the map's style and cannot be styled.")));return}if(!o.deepEqual(it.getPaintProperty(de),Fe)){var St=it.setPaintProperty(de,Fe,je);St&&this._updateLayer(it),this._changed=!0,this._updatedPaintProps[ee]=!0}},Z.prototype.getPaintProperty=function(ee,de){return this.getLayer(ee).getPaintProperty(de)},Z.prototype.setFeatureState=function(ee,de){this._checkLoaded();var Fe=ee.source,je=ee.sourceLayer,it=this.sourceCaches[Fe];if(it===void 0){this.fire(new o.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var St=it.getSource().type;if(St==="geojson"&&je){this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(St==="vector"&&!je){this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ee.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),it.setFeatureState(je,ee.id,de)},Z.prototype.removeFeatureState=function(ee,de){this._checkLoaded();var Fe=ee.source,je=this.sourceCaches[Fe];if(je===void 0){this.fire(new o.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var it=je.getSource().type,St=it==="vector"?ee.sourceLayer:void 0;if(it==="vector"&&!St){this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(de&&typeof ee.id!="string"&&typeof ee.id!="number"){this.fire(new o.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}je.removeFeatureState(St,ee.id,de)},Z.prototype.getFeatureState=function(ee){this._checkLoaded();var de=ee.source,Fe=ee.sourceLayer,je=this.sourceCaches[de];if(je===void 0){this.fire(new o.ErrorEvent(new Error("The source '"+de+"' does not exist in the map's style.")));return}var it=je.getSource().type;if(it==="vector"&&!Fe){this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ee.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),je.getFeatureState(Fe,ee.id)},Z.prototype.getTransition=function(){return o.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Z.prototype.serialize=function(){return o.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:o.mapObject(this.sourceCaches,function(ee){return ee.serialize()}),layers:this._serializeLayers(this._order)},function(ee){return ee!==void 0})},Z.prototype._updateLayer=function(ee){this._updatedLayers[ee.id]=!0,ee.source&&!this._updatedSources[ee.source]&&this.sourceCaches[ee.source].getSource().type!=="raster"&&(this._updatedSources[ee.source]="reload",this.sourceCaches[ee.source].pause()),this._changed=!0},Z.prototype._flattenAndSortRenderedFeatures=function(ee){for(var de=this,Fe=function(_a){return de._layers[_a].type==="fill-extrusion"},je={},it=[],St=this._order.length-1;St>=0;St--){var Ut=this._order[St];if(Fe(Ut)){je[Ut]=St;for(var Kt=0,or=ee;Kt<or.length;Kt+=1){var ir=or[Kt],Fr=ir[Ut];if(Fr)for(var Zr=0,Yr=Fr;Zr<Yr.length;Zr+=1){var Vr=Yr[Zr];it.push(Vr)}}}}it.sort(function(_a,Qa){return Qa.intersectionZ-_a.intersectionZ});for(var Kr=[],fn=this._order.length-1;fn>=0;fn--){var Dn=this._order[fn];if(Fe(Dn))for(var zn=it.length-1;zn>=0;zn--){var Yn=it[zn].feature;if(je[Yn.layer.id]<fn)break;Kr.push(Yn),it.pop()}else for(var Xn=0,Vn=ee;Xn<Vn.length;Xn+=1){var Jn=Vn[Xn],ia=Jn[Dn];if(ia)for(var ca=0,xa=ia;ca<xa.length;ca+=1){var da=xa[ca];Kr.push(da.feature)}}}return Kr},Z.prototype.queryRenderedFeatures=function(ee,de,Fe){de&&de.filter&&this._validate(o.validateStyle.filter,"queryRenderedFeatures.filter",de.filter,null,de);var je={};if(de&&de.layers){if(!Array.isArray(de.layers))return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var it=0,St=de.layers;it<St.length;it+=1){var Ut=St[it],Kt=this._layers[Ut];if(!Kt)return this.fire(new o.ErrorEvent(new Error("The layer '"+Ut+"' does not exist in the map's style and cannot be queried for features."))),[];je[Kt.source]=!0}}var or=[];de.availableImages=this._availableImages;for(var ir in this.sourceCaches)de.layers&&!je[ir]||or.push(Q(this.sourceCaches[ir],this._layers,this._serializedLayers,ee,de,Fe));return this.placement&&or.push(X(this._layers,this._serializedLayers,this.sourceCaches,ee,de,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(or)},Z.prototype.querySourceFeatures=function(ee,de){de&&de.filter&&this._validate(o.validateStyle.filter,"querySourceFeatures.filter",de.filter,null,de);var Fe=this.sourceCaches[ee];return Fe?se(Fe,de):[]},Z.prototype.addSourceType=function(ee,de,Fe){if(Z.getSourceType(ee))return Fe(new Error('A source type called "'+ee+'" already exists.'));if(Z.setSourceType(ee,de),!de.workerSourceURL)return Fe(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ee,url:de.workerSourceURL},Fe)},Z.prototype.getLight=function(){return this.light.getLight()},Z.prototype.setLight=function(ee,de){de===void 0&&(de={}),this._checkLoaded();var Fe=this.light.getLight(),je=!1;for(var it in ee)if(!o.deepEqual(ee[it],Fe[it])){je=!0;break}if(je){var St={now:o.browser.now(),transition:o.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ee,de),this.light.updateTransitions(St)}},Z.prototype._validate=function(ee,de,Fe,je,it){return it===void 0&&(it={}),it&&it.validate===!1?!1:ga(this,ee.call(o.validateStyle,o.extend({key:de,style:this.serialize(),value:Fe,styleSpec:o.styleSpec},je)))},Z.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ee in this._layers){var de=this._layers[ee];de.setEventedParent(null)}for(var Fe in this.sourceCaches)this.sourceCaches[Fe].clearTiles(),this.sourceCaches[Fe].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Z.prototype._clearSource=function(ee){this.sourceCaches[ee].clearTiles()},Z.prototype._reloadSource=function(ee){this.sourceCaches[ee].resume(),this.sourceCaches[ee].reload()},Z.prototype._updateSources=function(ee){for(var de in this.sourceCaches)this.sourceCaches[de].update(ee)},Z.prototype._generateCollisionBoxes=function(){for(var ee in this.sourceCaches)this._reloadSource(ee)},Z.prototype._updatePlacement=function(ee,de,Fe,je,it){it===void 0&&(it=!1);for(var St=!1,Ut=!1,Kt={},or=0,ir=this._order;or<ir.length;or+=1){var Fr=ir[or],Zr=this._layers[Fr];if(Zr.type==="symbol"){if(!Kt[Zr.source]){var Yr=this.sourceCaches[Zr.source];Kt[Zr.source]=Yr.getRenderableIds(!0).map(function(Xn){return Yr.getTileByID(Xn)}).sort(function(Xn,Vn){return Vn.tileID.overscaledZ-Xn.tileID.overscaledZ||(Xn.tileID.isLessThan(Vn.tileID)?-1:1)})}var Vr=this.crossTileSymbolIndex.addLayer(Zr,Kt[Zr.source],ee.center.lng);St=St||Vr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),it=it||this._layerOrderChanged||Fe===0,(it||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.browser.now(),ee.zoom))&&(this.pauseablePlacement=new Fn(ee,this._order,it,de,Fe,je,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Kt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.browser.now()),Ut=!0),St&&this.pauseablePlacement.placement.setStale()),Ut||St)for(var Kr=0,fn=this._order;Kr<fn.length;Kr+=1){var Dn=fn[Kr],zn=this._layers[Dn];zn.type==="symbol"&&this.placement.updateLayerOpacities(zn,Kt[zn.source])}var Yn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.browser.now());return Yn},Z.prototype._releaseSymbolFadeTiles=function(){for(var ee in this.sourceCaches)this.sourceCaches[ee].releaseSymbolFadeTiles()},Z.prototype.getImages=function(ee,de,Fe){this.imageManager.getImages(de.icons,Fe),this._updateTilesForChangedImages();var je=this.sourceCaches[de.source];je&&je.setDependencies(de.tileID.key,de.type,de.icons)},Z.prototype.getGlyphs=function(ee,de,Fe){this.glyphManager.getGlyphs(de.stacks,Fe)},Z.prototype.getResource=function(ee,de,Fe){return o.makeRequest(de,Fe)},Z}(o.Evented);_o.getSourceType=ae,_o.setSourceType=j,_o.registerForPluginStateChange=o.registerForPluginStateChange;var Lo=o.createLayout([{name:"a_pos",type:"Int16",components:2}]),to=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Sl=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,ff=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,jf="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",qa=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ru="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",cf=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ki=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,bo="void main() {gl_FragColor=vec4(1.0);}",El="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",zu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ii=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Cl=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,_i="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Vi="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Ll="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",ro="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",no="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",zo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Xf="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Po=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,eh=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,cs=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ji=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,hf=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ns=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,hs=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Kf=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,th=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Ou=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,nh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ah="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",df=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ih="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",oh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Jf=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Qf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,il=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Pl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,au=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$f=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Ss=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sh="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Bu=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,ec=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Nu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Xo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Rl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,ol=gi(to,Sl),iu=gi(ff,jf),Us=gi(qa,ru),vs=gi(cf,Ki),pf=gi(bo,El),Dl=gi(zu,Ii),Ko=gi(Cl,_i),Pi=gi(Vi,Ll),gf=gi(ro,no),lh=gi(zo,Xf),Uu=gi(Po,eh),Il=gi(cs,Ji),kl=gi(hf,Ns),Ro=gi(hs,vf),Hu=gi(Kf,th),Fl=gi(Ou,rh),Vu=gi(nh,ah),uh=gi(df,ih),tc=gi(oh,Jf),yf=gi(Qf,il),mf=gi(Pl,nu),xf=gi(au,$f),_l=gi(Ss,sh),Gu=gi(Bu,qf),ou=gi(ec,Nu),Wu=gi(Xo,Rl);function gi(ce,Z){var ve=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ee=Z.match(/attribute ([\w]+) ([\w]+)/g),de=ce.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Fe=Z.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),je=Fe?Fe.concat(de):de,it={};return ce=ce.replace(ve,function(St,Ut,Kt,or,ir){return it[ir]=!0,Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+ir+`
varying `+Kt+" "+or+" "+ir+`;
#else
uniform `+Kt+" "+or+" u_"+ir+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+ir+`
    `+Kt+" "+or+" "+ir+" = u_"+ir+`;
#endif
`}),Z=Z.replace(ve,function(St,Ut,Kt,or,ir){var Fr=or==="float"?"vec2":"vec4",Zr=ir.match(/color/)?"color":Fr;return it[ir]?Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+ir+`
uniform lowp float u_`+ir+`_t;
attribute `+Kt+" "+Fr+" a_"+ir+`;
varying `+Kt+" "+or+" "+ir+`;
#else
uniform `+Kt+" "+or+" u_"+ir+`;
#endif
`:Zr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+ir+" = a_"+ir+`;
#else
    `+Kt+" "+or+" "+ir+" = u_"+ir+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+ir+" = unpack_mix_"+Zr+"(a_"+ir+", u_"+ir+`_t);
#else
    `+Kt+" "+or+" "+ir+" = u_"+ir+`;
#endif
`:Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+ir+`
uniform lowp float u_`+ir+`_t;
attribute `+Kt+" "+Fr+" a_"+ir+`;
#else
uniform `+Kt+" "+or+" u_"+ir+`;
#endif
`:Zr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+Kt+" "+or+" "+ir+" = a_"+ir+`;
#else
    `+Kt+" "+or+" "+ir+" = u_"+ir+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ir+`
    `+Kt+" "+or+" "+ir+" = unpack_mix_"+Zr+"(a_"+ir+", u_"+ir+`_t);
#else
    `+Kt+" "+or+" "+ir+" = u_"+ir+`;
#endif
`}),{fragmentSource:ce,vertexSource:Z,staticAttributes:ee,staticUniforms:je}}var rc=Object.freeze({__proto__:null,prelude:ol,background:iu,backgroundPattern:Us,circle:vs,clippingMask:pf,heatmap:Dl,heatmapTexture:Ko,collisionBox:Pi,collisionCircle:gf,debug:lh,fill:Uu,fillOutline:Il,fillOutlinePattern:kl,fillPattern:Ro,fillExtrusion:Hu,fillExtrusionPattern:Fl,hillshadePrepare:Vu,hillshade:uh,line:tc,lineGradient:yf,linePattern:mf,lineSDF:xf,raster:_l,symbolIcon:Gu,symbolSDF:ou,symbolTextAndIcon:Wu}),Jo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Jo.prototype.bind=function(Z,ve,ee,de,Fe,je,it,St){this.context=Z;for(var Ut=this.boundPaintVertexBuffers.length!==de.length,Kt=0;!Ut&&Kt<de.length;Kt++)this.boundPaintVertexBuffers[Kt]!==de[Kt]&&(Ut=!0);var or=!this.vao||this.boundProgram!==ve||this.boundLayoutVertexBuffer!==ee||Ut||this.boundIndexBuffer!==Fe||this.boundVertexOffset!==je||this.boundDynamicVertexBuffer!==it||this.boundDynamicVertexBuffer2!==St;!Z.extVertexArrayObject||or?this.freshBind(ve,ee,de,Fe,je,it,St):(Z.bindVertexArrayOES.set(this.vao),it&&it.bind(),Fe&&Fe.dynamicDraw&&Fe.bind(),St&&St.bind())},Jo.prototype.freshBind=function(Z,ve,ee,de,Fe,je,it){var St,Ut=Z.numAttributes,Kt=this.context,or=Kt.gl;if(Kt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Kt.extVertexArrayObject.createVertexArrayOES(),Kt.bindVertexArrayOES.set(this.vao),St=0,this.boundProgram=Z,this.boundLayoutVertexBuffer=ve,this.boundPaintVertexBuffers=ee,this.boundIndexBuffer=de,this.boundVertexOffset=Fe,this.boundDynamicVertexBuffer=je,this.boundDynamicVertexBuffer2=it;else{St=Kt.currentNumAttributes||0;for(var ir=Ut;ir<St;ir++)or.disableVertexAttribArray(ir)}ve.enableAttributes(or,Z);for(var Fr=0,Zr=ee;Fr<Zr.length;Fr+=1){var Yr=Zr[Fr];Yr.enableAttributes(or,Z)}je&&je.enableAttributes(or,Z),it&&it.enableAttributes(or,Z),ve.bind(),ve.setVertexAttribPointers(or,Z,Fe);for(var Vr=0,Kr=ee;Vr<Kr.length;Vr+=1){var fn=Kr[Vr];fn.bind(),fn.setVertexAttribPointers(or,Z,Fe)}je&&(je.bind(),je.setVertexAttribPointers(or,Z,Fe)),de&&de.bind(),it&&(it.bind(),it.setVertexAttribPointers(or,Z,Fe)),Kt.currentNumAttributes=Ut},Jo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function nc(ce){for(var Z=[],ve=0;ve<ce.length;ve++)if(ce[ve]!==null){var ee=ce[ve].split(" ");Z.push(ee.pop())}return Z}var bf=function(Z,ve,ee,de,Fe,je){var it=Z.gl;this.program=it.createProgram();for(var St=nc(ee.staticAttributes),Ut=de?de.getBinderAttributes():[],Kt=St.concat(Ut),or=ee.staticUniforms?nc(ee.staticUniforms):[],ir=de?de.getBinderUniforms():[],Fr=or.concat(ir),Zr=[],Yr=0,Vr=Fr;Yr<Vr.length;Yr+=1){var Kr=Vr[Yr];Zr.indexOf(Kr)<0&&Zr.push(Kr)}var fn=de?de.defines():[];je&&fn.push("#define OVERDRAW_INSPECTOR;");var Dn=fn.concat(ol.fragmentSource,ee.fragmentSource).join(`
`),zn=fn.concat(ol.vertexSource,ee.vertexSource).join(`
`),Yn=it.createShader(it.FRAGMENT_SHADER);if(it.isContextLost()){this.failedToCreate=!0;return}it.shaderSource(Yn,Dn),it.compileShader(Yn),it.attachShader(this.program,Yn);var Xn=it.createShader(it.VERTEX_SHADER);if(it.isContextLost()){this.failedToCreate=!0;return}it.shaderSource(Xn,zn),it.compileShader(Xn),it.attachShader(this.program,Xn),this.attributes={};var Vn={};this.numAttributes=Kt.length;for(var Jn=0;Jn<this.numAttributes;Jn++)Kt[Jn]&&(it.bindAttribLocation(this.program,Jn,Kt[Jn]),this.attributes[Kt[Jn]]=Jn);it.linkProgram(this.program),it.deleteShader(Xn),it.deleteShader(Yn);for(var ia=0;ia<Zr.length;ia++){var ca=Zr[ia];if(ca&&!Vn[ca]){var xa=it.getUniformLocation(this.program,ca);xa&&(Vn[ca]=xa)}}this.fixedUniforms=Fe(Z,Vn),this.binderUniforms=de?de.getUniforms(Z,Vn):[]};bf.prototype.draw=function(Z,ve,ee,de,Fe,je,it,St,Ut,Kt,or,ir,Fr,Zr,Yr,Vr){var Kr,fn=Z.gl;if(!this.failedToCreate){Z.program.set(this.program),Z.setDepthMode(ee),Z.setStencilMode(de),Z.setColorMode(Fe),Z.setCullFace(je);for(var Dn in this.fixedUniforms)this.fixedUniforms[Dn].set(it[Dn]);Zr&&Zr.setUniforms(Z,this.binderUniforms,ir,{zoom:Fr});for(var zn=(Kr={},Kr[fn.LINES]=2,Kr[fn.TRIANGLES]=3,Kr[fn.LINE_STRIP]=1,Kr)[ve],Yn=0,Xn=or.get();Yn<Xn.length;Yn+=1){var Vn=Xn[Yn],Jn=Vn.vaos||(Vn.vaos={}),ia=Jn[St]||(Jn[St]=new Jo);ia.bind(Z,this,Ut,Zr?Zr.getPaintVertexBuffers():[],Kt,Vn.vertexOffset,Yr,Vr),fn.drawElements(ve,Vn.primitiveLength*zn,fn.UNSIGNED_SHORT,Vn.primitiveOffset*zn*2)}}};function sl(ce,Z,ve){var ee=1/pn(ve,1,Z.transform.tileZoom),de=Math.pow(2,ve.tileID.overscaledZ),Fe=ve.tileSize*Math.pow(2,Z.transform.tileZoom)/de,je=Fe*(ve.tileID.canonical.x+ve.tileID.wrap*de),it=Fe*ve.tileID.canonical.y;return{u_image:0,u_texsize:ve.imageAtlasTexture.size,u_scale:[ee,ce.fromScale,ce.toScale],u_fade:ce.t,u_pixel_coord_upper:[je>>16,it>>16],u_pixel_coord_lower:[je&65535,it&65535]}}function Hs(ce,Z,ve,ee){var de=ve.imageManager.getPattern(ce.from.toString()),Fe=ve.imageManager.getPattern(ce.to.toString()),je=ve.imageManager.getPixelSize(),it=je.width,St=je.height,Ut=Math.pow(2,ee.tileID.overscaledZ),Kt=ee.tileSize*Math.pow(2,ve.transform.tileZoom)/Ut,or=Kt*(ee.tileID.canonical.x+ee.tileID.wrap*Ut),ir=Kt*ee.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:de.tl,u_pattern_br_a:de.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[it,St],u_mix:Z.t,u_pattern_size_a:de.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:Z.fromScale,u_scale_b:Z.toScale,u_tile_units_to_pixels:1/pn(ee,1,ve.transform.tileZoom),u_pixel_coord_upper:[or>>16,ir>>16],u_pixel_coord_lower:[or&65535,ir&65535]}}var Yu=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_lightpos:new o.Uniform3f(ce,Z.u_lightpos),u_lightintensity:new o.Uniform1f(ce,Z.u_lightintensity),u_lightcolor:new o.Uniform3f(ce,Z.u_lightcolor),u_vertical_gradient:new o.Uniform1f(ce,Z.u_vertical_gradient),u_opacity:new o.Uniform1f(ce,Z.u_opacity)}},ki=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_lightpos:new o.Uniform3f(ce,Z.u_lightpos),u_lightintensity:new o.Uniform1f(ce,Z.u_lightintensity),u_lightcolor:new o.Uniform3f(ce,Z.u_lightcolor),u_vertical_gradient:new o.Uniform1f(ce,Z.u_vertical_gradient),u_height_factor:new o.Uniform1f(ce,Z.u_height_factor),u_image:new o.Uniform1i(ce,Z.u_image),u_texsize:new o.Uniform2f(ce,Z.u_texsize),u_pixel_coord_upper:new o.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(ce,Z.u_pixel_coord_lower),u_scale:new o.Uniform3f(ce,Z.u_scale),u_fade:new o.Uniform1f(ce,Z.u_fade),u_opacity:new o.Uniform1f(ce,Z.u_opacity)}},su=function(ce,Z,ve,ee){var de=Z.style.light,Fe=de.properties.get("position"),je=[Fe.x,Fe.y,Fe.z],it=o.create$1();de.properties.get("anchor")==="viewport"&&o.fromRotation(it,-Z.transform.angle),o.transformMat3(je,je,it);var St=de.properties.get("color");return{u_matrix:ce,u_lightpos:je,u_lightintensity:de.properties.get("intensity"),u_lightcolor:[St.r,St.g,St.b],u_vertical_gradient:+ve,u_opacity:ee}},Qo=function(ce,Z,ve,ee,de,Fe,je){return o.extend(su(ce,Z,ve,ee),sl(Fe,Z,je),{u_height_factor:-Math.pow(2,de.overscaledZ)/je.tileSize/8})},Es=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix)}},ll=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_image:new o.Uniform1i(ce,Z.u_image),u_texsize:new o.Uniform2f(ce,Z.u_texsize),u_pixel_coord_upper:new o.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(ce,Z.u_pixel_coord_lower),u_scale:new o.Uniform3f(ce,Z.u_scale),u_fade:new o.Uniform1f(ce,Z.u_fade)}},Vs=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_world:new o.Uniform2f(ce,Z.u_world)}},$o=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_world:new o.Uniform2f(ce,Z.u_world),u_image:new o.Uniform1i(ce,Z.u_image),u_texsize:new o.Uniform2f(ce,Z.u_texsize),u_pixel_coord_upper:new o.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(ce,Z.u_pixel_coord_lower),u_scale:new o.Uniform3f(ce,Z.u_scale),u_fade:new o.Uniform1f(ce,Z.u_fade)}},Cs=function(ce){return{u_matrix:ce}},qo=function(ce,Z,ve,ee){return o.extend(Cs(ce),sl(ve,Z,ee))},Ho=function(ce,Z){return{u_matrix:ce,u_world:Z}},lu=function(ce,Z,ve,ee,de){return o.extend(qo(ce,Z,ve,ee),{u_world:de})},fh=function(ce,Z){return{u_camera_to_center_distance:new o.Uniform1f(ce,Z.u_camera_to_center_distance),u_scale_with_map:new o.Uniform1i(ce,Z.u_scale_with_map),u_pitch_with_map:new o.Uniform1i(ce,Z.u_pitch_with_map),u_extrude_scale:new o.Uniform2f(ce,Z.u_extrude_scale),u_device_pixel_ratio:new o.Uniform1f(ce,Z.u_device_pixel_ratio),u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix)}},ch=function(ce,Z,ve,ee){var de=ce.transform,Fe,je;if(ee.paint.get("circle-pitch-alignment")==="map"){var it=pn(ve,1,de.zoom);Fe=!0,je=[it,it]}else Fe=!1,je=de.pixelsToGLUnits;return{u_camera_to_center_distance:de.cameraToCenterDistance,u_scale_with_map:+(ee.paint.get("circle-pitch-scale")==="map"),u_matrix:ce.translatePosMatrix(Z.posMatrix,ve,ee.paint.get("circle-translate"),ee.paint.get("circle-translate-anchor")),u_pitch_with_map:+Fe,u_device_pixel_ratio:o.browser.devicePixelRatio,u_extrude_scale:je}},hh=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_camera_to_center_distance:new o.Uniform1f(ce,Z.u_camera_to_center_distance),u_pixels_to_tile_units:new o.Uniform1f(ce,Z.u_pixels_to_tile_units),u_extrude_scale:new o.Uniform2f(ce,Z.u_extrude_scale),u_overscale_factor:new o.Uniform1f(ce,Z.u_overscale_factor)}},vh=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_inv_matrix:new o.UniformMatrix4f(ce,Z.u_inv_matrix),u_camera_to_center_distance:new o.Uniform1f(ce,Z.u_camera_to_center_distance),u_viewport_size:new o.Uniform2f(ce,Z.u_viewport_size)}},wf=function(ce,Z,ve){var ee=pn(ve,1,Z.zoom),de=Math.pow(2,Z.zoom-ve.tileID.overscaledZ),Fe=ve.tileID.overscaleFactor();return{u_matrix:ce,u_camera_to_center_distance:Z.cameraToCenterDistance,u_pixels_to_tile_units:ee,u_extrude_scale:[Z.pixelsToGLUnits[0]/(ee*de),Z.pixelsToGLUnits[1]/(ee*de)],u_overscale_factor:Fe}},ac=function(ce,Z,ve){return{u_matrix:ce,u_inv_matrix:Z,u_camera_to_center_distance:ve.cameraToCenterDistance,u_viewport_size:[ve.width,ve.height]}},zl=function(ce,Z){return{u_color:new o.UniformColor(ce,Z.u_color),u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_overlay:new o.Uniform1i(ce,Z.u_overlay),u_overlay_scale:new o.Uniform1f(ce,Z.u_overlay_scale)}},Qi=function(ce,Z,ve){return ve===void 0&&(ve=1),{u_matrix:ce,u_color:Z,u_overlay:0,u_overlay_scale:ve}},Oo=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix)}},Ol=function(ce){return{u_matrix:ce}},ic=function(ce,Z){return{u_extrude_scale:new o.Uniform1f(ce,Z.u_extrude_scale),u_intensity:new o.Uniform1f(ce,Z.u_intensity),u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix)}},uu=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_world:new o.Uniform2f(ce,Z.u_world),u_image:new o.Uniform1i(ce,Z.u_image),u_color_ramp:new o.Uniform1i(ce,Z.u_color_ramp),u_opacity:new o.Uniform1f(ce,Z.u_opacity)}},Ls=function(ce,Z,ve,ee){return{u_matrix:ce,u_extrude_scale:pn(Z,1,ve),u_intensity:ee}},dh=function(ce,Z,ve,ee){var de=o.create();o.ortho(de,0,ce.width,ce.height,0,0,1);var Fe=ce.context.gl;return{u_matrix:de,u_world:[Fe.drawingBufferWidth,Fe.drawingBufferHeight],u_image:ve,u_color_ramp:ee,u_opacity:Z.paint.get("heatmap-opacity")}},oc=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_image:new o.Uniform1i(ce,Z.u_image),u_latrange:new o.Uniform2f(ce,Z.u_latrange),u_light:new o.Uniform2f(ce,Z.u_light),u_shadow:new o.UniformColor(ce,Z.u_shadow),u_highlight:new o.UniformColor(ce,Z.u_highlight),u_accent:new o.UniformColor(ce,Z.u_accent)}},sc=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_image:new o.Uniform1i(ce,Z.u_image),u_dimension:new o.Uniform2f(ce,Z.u_dimension),u_zoom:new o.Uniform1f(ce,Z.u_zoom),u_unpack:new o.Uniform4f(ce,Z.u_unpack)}},Tf=function(ce,Z,ve){var ee=ve.paint.get("hillshade-shadow-color"),de=ve.paint.get("hillshade-highlight-color"),Fe=ve.paint.get("hillshade-accent-color"),je=ve.paint.get("hillshade-illumination-direction")*(Math.PI/180);ve.paint.get("hillshade-illumination-anchor")==="viewport"&&(je-=ce.transform.angle);var it=!ce.options.moving;return{u_matrix:ce.transform.calculatePosMatrix(Z.tileID.toUnwrapped(),it),u_image:0,u_latrange:wo(ce,Z.tileID),u_light:[ve.paint.get("hillshade-exaggeration"),je],u_shadow:ee,u_highlight:de,u_accent:Fe}},lc=function(ce,Z){var ve=Z.stride,ee=o.create();return o.ortho(ee,0,o.EXTENT,-o.EXTENT,0,0,1),o.translate(ee,ee,[0,-o.EXTENT,0]),{u_matrix:ee,u_image:1,u_dimension:[ve,ve],u_zoom:ce.overscaledZ,u_unpack:Z.getUnpackVector()}};function wo(ce,Z){var ve=Math.pow(2,Z.canonical.z),ee=Z.canonical.y;return[new o.MercatorCoordinate(0,ee/ve).toLngLat().lat,new o.MercatorCoordinate(0,(ee+1)/ve).toLngLat().lat]}var es=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_ratio:new o.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new o.Uniform1f(ce,Z.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(ce,Z.u_units_to_pixels)}},Gs=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_ratio:new o.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new o.Uniform1f(ce,Z.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(ce,Z.u_units_to_pixels),u_image:new o.Uniform1i(ce,Z.u_image),u_image_height:new o.Uniform1f(ce,Z.u_image_height)}},Bl=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_texsize:new o.Uniform2f(ce,Z.u_texsize),u_ratio:new o.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new o.Uniform1f(ce,Z.u_device_pixel_ratio),u_image:new o.Uniform1i(ce,Z.u_image),u_units_to_pixels:new o.Uniform2f(ce,Z.u_units_to_pixels),u_scale:new o.Uniform3f(ce,Z.u_scale),u_fade:new o.Uniform1f(ce,Z.u_fade)}},Zu=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_ratio:new o.Uniform1f(ce,Z.u_ratio),u_device_pixel_ratio:new o.Uniform1f(ce,Z.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(ce,Z.u_units_to_pixels),u_patternscale_a:new o.Uniform2f(ce,Z.u_patternscale_a),u_patternscale_b:new o.Uniform2f(ce,Z.u_patternscale_b),u_sdfgamma:new o.Uniform1f(ce,Z.u_sdfgamma),u_image:new o.Uniform1i(ce,Z.u_image),u_tex_y_a:new o.Uniform1f(ce,Z.u_tex_y_a),u_tex_y_b:new o.Uniform1f(ce,Z.u_tex_y_b),u_mix:new o.Uniform1f(ce,Z.u_mix)}},ul=function(ce,Z,ve){var ee=ce.transform;return{u_matrix:Ws(ce,Z,ve),u_ratio:1/pn(Z,1,ee.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_units_to_pixels:[1/ee.pixelsToGLUnits[0],1/ee.pixelsToGLUnits[1]]}},fl=function(ce,Z,ve,ee){return o.extend(ul(ce,Z,ve),{u_image:0,u_image_height:ee})},uc=function(ce,Z,ve,ee){var de=ce.transform,Fe=Nl(Z,de);return{u_matrix:Ws(ce,Z,ve),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/pn(Z,1,de.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_image:0,u_scale:[Fe,ee.fromScale,ee.toScale],u_fade:ee.t,u_units_to_pixels:[1/de.pixelsToGLUnits[0],1/de.pixelsToGLUnits[1]]}},Ps=function(ce,Z,ve,ee,de){var Fe=ce.transform,je=ce.lineAtlas,it=Nl(Z,Fe),St=ve.layout.get("line-cap")==="round",Ut=je.getDash(ee.from,St),Kt=je.getDash(ee.to,St),or=Ut.width*de.fromScale,ir=Kt.width*de.toScale;return o.extend(ul(ce,Z,ve),{u_patternscale_a:[it/or,-Ut.height/2],u_patternscale_b:[it/ir,-Kt.height/2],u_sdfgamma:je.width/(Math.min(or,ir)*256*o.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ut.y,u_tex_y_b:Kt.y,u_mix:de.t})};function Nl(ce,Z){return 1/pn(ce,1,Z.tileZoom)}function Ws(ce,Z,ve){return ce.translatePosMatrix(Z.tileID.posMatrix,Z,ve.paint.get("line-translate"),ve.paint.get("line-translate-anchor"))}var Rs=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_tl_parent:new o.Uniform2f(ce,Z.u_tl_parent),u_scale_parent:new o.Uniform1f(ce,Z.u_scale_parent),u_buffer_scale:new o.Uniform1f(ce,Z.u_buffer_scale),u_fade_t:new o.Uniform1f(ce,Z.u_fade_t),u_opacity:new o.Uniform1f(ce,Z.u_opacity),u_image0:new o.Uniform1i(ce,Z.u_image0),u_image1:new o.Uniform1i(ce,Z.u_image1),u_brightness_low:new o.Uniform1f(ce,Z.u_brightness_low),u_brightness_high:new o.Uniform1f(ce,Z.u_brightness_high),u_saturation_factor:new o.Uniform1f(ce,Z.u_saturation_factor),u_contrast_factor:new o.Uniform1f(ce,Z.u_contrast_factor),u_spin_weights:new o.Uniform3f(ce,Z.u_spin_weights)}},fu=function(ce,Z,ve,ee,de){return{u_matrix:ce,u_tl_parent:Z,u_scale_parent:ve,u_buffer_scale:1,u_fade_t:ee.mix,u_opacity:ee.opacity*de.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:de.paint.get("raster-brightness-min"),u_brightness_high:de.paint.get("raster-brightness-max"),u_saturation_factor:Hl(de.paint.get("raster-saturation")),u_contrast_factor:ci(de.paint.get("raster-contrast")),u_spin_weights:Ul(de.paint.get("raster-hue-rotate"))}};function Ul(ce){ce*=Math.PI/180;var Z=Math.sin(ce),ve=Math.cos(ce);return[(2*ve+1)/3,(-Math.sqrt(3)*Z-ve+1)/3,(Math.sqrt(3)*Z-ve+1)/3]}function ci(ce){return ce>0?1/(1-ce):1+ce}function Hl(ce){return ce>0?1-1/(1.001-ce):-ce}var ju=function(ce,Z){return{u_is_size_zoom_constant:new o.Uniform1i(ce,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(ce,Z.u_is_size_feature_constant),u_size_t:new o.Uniform1f(ce,Z.u_size_t),u_size:new o.Uniform1f(ce,Z.u_size),u_camera_to_center_distance:new o.Uniform1f(ce,Z.u_camera_to_center_distance),u_pitch:new o.Uniform1f(ce,Z.u_pitch),u_rotate_symbol:new o.Uniform1i(ce,Z.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(ce,Z.u_aspect_ratio),u_fade_change:new o.Uniform1f(ce,Z.u_fade_change),u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(ce,Z.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(ce,Z.u_coord_matrix),u_is_text:new o.Uniform1i(ce,Z.u_is_text),u_pitch_with_map:new o.Uniform1i(ce,Z.u_pitch_with_map),u_texsize:new o.Uniform2f(ce,Z.u_texsize),u_texture:new o.Uniform1i(ce,Z.u_texture)}},fc=function(ce,Z){return{u_is_size_zoom_constant:new o.Uniform1i(ce,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(ce,Z.u_is_size_feature_constant),u_size_t:new o.Uniform1f(ce,Z.u_size_t),u_size:new o.Uniform1f(ce,Z.u_size),u_camera_to_center_distance:new o.Uniform1f(ce,Z.u_camera_to_center_distance),u_pitch:new o.Uniform1f(ce,Z.u_pitch),u_rotate_symbol:new o.Uniform1i(ce,Z.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(ce,Z.u_aspect_ratio),u_fade_change:new o.Uniform1f(ce,Z.u_fade_change),u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(ce,Z.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(ce,Z.u_coord_matrix),u_is_text:new o.Uniform1i(ce,Z.u_is_text),u_pitch_with_map:new o.Uniform1i(ce,Z.u_pitch_with_map),u_texsize:new o.Uniform2f(ce,Z.u_texsize),u_texture:new o.Uniform1i(ce,Z.u_texture),u_gamma_scale:new o.Uniform1f(ce,Z.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(ce,Z.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(ce,Z.u_is_halo)}},Vl=function(ce,Z){return{u_is_size_zoom_constant:new o.Uniform1i(ce,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(ce,Z.u_is_size_feature_constant),u_size_t:new o.Uniform1f(ce,Z.u_size_t),u_size:new o.Uniform1f(ce,Z.u_size),u_camera_to_center_distance:new o.Uniform1f(ce,Z.u_camera_to_center_distance),u_pitch:new o.Uniform1f(ce,Z.u_pitch),u_rotate_symbol:new o.Uniform1i(ce,Z.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(ce,Z.u_aspect_ratio),u_fade_change:new o.Uniform1f(ce,Z.u_fade_change),u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(ce,Z.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(ce,Z.u_coord_matrix),u_is_text:new o.Uniform1i(ce,Z.u_is_text),u_pitch_with_map:new o.Uniform1i(ce,Z.u_pitch_with_map),u_texsize:new o.Uniform2f(ce,Z.u_texsize),u_texsize_icon:new o.Uniform2f(ce,Z.u_texsize_icon),u_texture:new o.Uniform1i(ce,Z.u_texture),u_texture_icon:new o.Uniform1i(ce,Z.u_texture_icon),u_gamma_scale:new o.Uniform1f(ce,Z.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(ce,Z.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(ce,Z.u_is_halo)}},cu=function(ce,Z,ve,ee,de,Fe,je,it,St,Ut){var Kt=de.transform;return{u_is_size_zoom_constant:+(ce==="constant"||ce==="source"),u_is_size_feature_constant:+(ce==="constant"||ce==="camera"),u_size_t:Z?Z.uSizeT:0,u_size:Z?Z.uSize:0,u_camera_to_center_distance:Kt.cameraToCenterDistance,u_pitch:Kt.pitch/360*2*Math.PI,u_rotate_symbol:+ve,u_aspect_ratio:Kt.width/Kt.height,u_fade_change:de.options.fadeDuration?de.symbolFadeChange:1,u_matrix:Fe,u_label_plane_matrix:je,u_coord_matrix:it,u_is_text:+St,u_pitch_with_map:+ee,u_texsize:Ut,u_texture:0}},Xu=function(ce,Z,ve,ee,de,Fe,je,it,St,Ut,Kt){var or=de.transform;return o.extend(cu(ce,Z,ve,ee,de,Fe,je,it,St,Ut),{u_gamma_scale:ee?Math.cos(or._pitch)*or.cameraToCenterDistance:1,u_device_pixel_ratio:o.browser.devicePixelRatio,u_is_halo:+Kt})},Af=function(ce,Z,ve,ee,de,Fe,je,it,St,Ut){return o.extend(Xu(ce,Z,ve,ee,de,Fe,je,it,!0,St,!0),{u_texsize_icon:Ut,u_texture_icon:1})},hu=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_opacity:new o.Uniform1f(ce,Z.u_opacity),u_color:new o.UniformColor(ce,Z.u_color)}},vu=function(ce,Z){return{u_matrix:new o.UniformMatrix4f(ce,Z.u_matrix),u_opacity:new o.Uniform1f(ce,Z.u_opacity),u_image:new o.Uniform1i(ce,Z.u_image),u_pattern_tl_a:new o.Uniform2f(ce,Z.u_pattern_tl_a),u_pattern_br_a:new o.Uniform2f(ce,Z.u_pattern_br_a),u_pattern_tl_b:new o.Uniform2f(ce,Z.u_pattern_tl_b),u_pattern_br_b:new o.Uniform2f(ce,Z.u_pattern_br_b),u_texsize:new o.Uniform2f(ce,Z.u_texsize),u_mix:new o.Uniform1f(ce,Z.u_mix),u_pattern_size_a:new o.Uniform2f(ce,Z.u_pattern_size_a),u_pattern_size_b:new o.Uniform2f(ce,Z.u_pattern_size_b),u_scale_a:new o.Uniform1f(ce,Z.u_scale_a),u_scale_b:new o.Uniform1f(ce,Z.u_scale_b),u_pixel_coord_upper:new o.Uniform2f(ce,Z.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(ce,Z.u_pixel_coord_lower),u_tile_units_to_pixels:new o.Uniform1f(ce,Z.u_tile_units_to_pixels)}},Ys=function(ce,Z,ve){return{u_matrix:ce,u_opacity:Z,u_color:ve}},du=function(ce,Z,ve,ee,de,Fe){return o.extend(Hs(ee,Fe,ve,de),{u_matrix:ce,u_opacity:Z})},Zs={fillExtrusion:Yu,fillExtrusionPattern:ki,fill:Es,fillPattern:ll,fillOutline:Vs,fillOutlinePattern:$o,circle:fh,collisionBox:hh,collisionCircle:vh,debug:zl,clippingMask:Oo,heatmap:ic,heatmapTexture:uu,hillshade:oc,hillshadePrepare:sc,line:es,lineGradient:Gs,linePattern:Bl,lineSDF:Zu,raster:Rs,symbolIcon:ju,symbolSDF:fc,symbolTextAndIcon:Vl,background:hu,backgroundPattern:vu},Gi;function ds(ce,Z,ve,ee,de,Fe,je){for(var it=ce.context,St=it.gl,Ut=ce.useProgram("collisionBox"),Kt=[],or=0,ir=0,Fr=0;Fr<ee.length;Fr++){var Zr=ee[Fr],Yr=Z.getTile(Zr),Vr=Yr.getBucket(ve);if(Vr){var Kr=Zr.posMatrix;(de[0]!==0||de[1]!==0)&&(Kr=ce.translatePosMatrix(Zr.posMatrix,Yr,de,Fe));var fn=je?Vr.textCollisionBox:Vr.iconCollisionBox,Dn=Vr.collisionCircleArray;if(Dn.length>0){var zn=o.create(),Yn=Kr;o.mul(zn,Vr.placementInvProjMatrix,ce.transform.glCoordMatrix),o.mul(zn,zn,Vr.placementViewportMatrix),Kt.push({circleArray:Dn,circleOffset:ir,transform:Yn,invTransform:zn}),or+=Dn.length/4,ir=or}fn&&Ut.draw(it,St.LINES,wr.disabled,Qt.disabled,ce.colorModeForRenderPass(),Dt.disabled,wf(Kr,ce.transform,Yr),ve.id,fn.layoutVertexBuffer,fn.indexBuffer,fn.segments,null,ce.transform.zoom,null,null,fn.collisionVertexBuffer)}}if(!(!je||!Kt.length)){var Xn=ce.useProgram("collisionCircle"),Vn=new o.StructArrayLayout2f1f2i16;Vn.resize(or*4),Vn._trim();for(var Jn=0,ia=0,ca=Kt;ia<ca.length;ia+=1)for(var xa=ca[ia],da=0;da<xa.circleArray.length/4;da++){var _a=da*4,Qa=xa.circleArray[_a+0],Ya=xa.circleArray[_a+1],Sa=xa.circleArray[_a+2],Za=xa.circleArray[_a+3];Vn.emplace(Jn++,Qa,Ya,Sa,Za,0),Vn.emplace(Jn++,Qa,Ya,Sa,Za,1),Vn.emplace(Jn++,Qa,Ya,Sa,Za,2),Vn.emplace(Jn++,Qa,Ya,Sa,Za,3)}(!Gi||Gi.length<or*2)&&(Gi=Mf(or));for(var Ha=it.createIndexBuffer(Gi,!0),ii=it.createVertexBuffer(Vn,o.collisionCircleLayout.members,!0),ei=0,Ai=Kt;ei<Ai.length;ei+=1){var Ja=Ai[ei],yi=ac(Ja.transform,Ja.invTransform,ce.transform);Xn.draw(it,St.TRIANGLES,wr.disabled,Qt.disabled,ce.colorModeForRenderPass(),Dt.disabled,yi,ve.id,ii,Ha,o.SegmentVector.simpleSegment(0,Ja.circleOffset*2,Ja.circleArray.length,Ja.circleArray.length/2),null,ce.transform.zoom,null,null,null)}ii.destroy(),Ha.destroy()}}function Mf(ce){var Z=ce*2,ve=new o.StructArrayLayout3ui6;ve.resize(Z),ve._trim();for(var ee=0;ee<Z;ee++){var de=ee*6;ve.uint16[de+0]=ee*4+0,ve.uint16[de+1]=ee*4+1,ve.uint16[de+2]=ee*4+2,ve.uint16[de+3]=ee*4+2,ve.uint16[de+4]=ee*4+3,ve.uint16[de+5]=ee*4+0}return ve}var cl=o.identity(new Float32Array(16));function Ku(ce,Z,ve,ee,de){if(ce.renderPass==="translucent"){var Fe=Qt.disabled,je=ce.colorModeForRenderPass(),it=ve.layout.get("text-variable-anchor");it&&ph(ee,ce,ve,Z,ve.layout.get("text-rotation-alignment"),ve.layout.get("text-pitch-alignment"),de),ve.paint.get("icon-opacity").constantOr(1)!==0&&gu(ce,Z,ve,ee,!1,ve.paint.get("icon-translate"),ve.paint.get("icon-translate-anchor"),ve.layout.get("icon-rotation-alignment"),ve.layout.get("icon-pitch-alignment"),ve.layout.get("icon-keep-upright"),Fe,je),ve.paint.get("text-opacity").constantOr(1)!==0&&gu(ce,Z,ve,ee,!0,ve.paint.get("text-translate"),ve.paint.get("text-translate-anchor"),ve.layout.get("text-rotation-alignment"),ve.layout.get("text-pitch-alignment"),ve.layout.get("text-keep-upright"),Fe,je),Z.map.showCollisionBoxes&&(ds(ce,Z,ve,ee,ve.paint.get("text-translate"),ve.paint.get("text-translate-anchor"),!0),ds(ce,Z,ve,ee,ve.paint.get("icon-translate"),ve.paint.get("icon-translate-anchor"),!1))}}function pu(ce,Z,ve,ee,de,Fe){var je=o.getAnchorAlignment(ce),it=je.horizontalAlign,St=je.verticalAlign,Ut=-(it-.5)*Z,Kt=-(St-.5)*ve,or=o.evaluateVariableOffset(ce,ee);return new o.Point((Ut/de+or[0])*Fe,(Kt/de+or[1])*Fe)}function ph(ce,Z,ve,ee,de,Fe,je){for(var it=Z.transform,St=de==="map",Ut=Fe==="map",Kt=0,or=ce;Kt<or.length;Kt+=1){var ir=or[Kt],Fr=ee.getTile(ir),Zr=Fr.getBucket(ve);if(!(!Zr||!Zr.text||!Zr.text.segments.get().length)){var Yr=Zr.textSizeData,Vr=o.evaluateSizeForZoom(Yr,it.zoom),Kr=pn(Fr,1,Z.transform.zoom),fn=Er(ir.posMatrix,Ut,St,Z.transform,Kr),Dn=ve.layout.get("icon-text-fit")!=="none"&&Zr.hasIconData();if(Vr){var zn=Math.pow(2,it.zoom-Fr.tileID.overscaledZ);cc(Zr,St,Ut,je,o.symbolSize,it,fn,ir.posMatrix,zn,Vr,Dn)}}}}function cc(ce,Z,ve,ee,de,Fe,je,it,St,Ut,Kt){var or=ce.text.placedSymbolArray,ir=ce.text.dynamicLayoutVertexArray,Fr=ce.icon.dynamicLayoutVertexArray,Zr={};ir.clear();for(var Yr=0;Yr<or.length;Yr++){var Vr=or.get(Yr),Kr=ce.allowVerticalPlacement&&!Vr.placedOrientation,fn=!Vr.hidden&&Vr.crossTileID&&!Kr?ee[Vr.crossTileID]:null;if(!fn)$n(Vr.numGlyphs,ir);else{var Dn=new o.Point(Vr.anchorX,Vr.anchorY),zn=Hr(Dn,ve?it:je),Yn=an(Fe.cameraToCenterDistance,zn.signedDistanceFromCamera),Xn=de.evaluateSizeForFeature(ce.textSizeData,Ut,Vr)*Yn/o.ONE_EM;ve&&(Xn*=ce.tilePixelRatio/St);for(var Vn=fn.width,Jn=fn.height,ia=fn.anchor,ca=fn.textOffset,xa=fn.textBoxScale,da=pu(ia,Vn,Jn,ca,xa,Xn),_a=ve?Hr(Dn.add(da),je).point:zn.point.add(Z?da.rotate(-Fe.angle):da),Qa=ce.allowVerticalPlacement&&Vr.placedOrientation===o.WritingMode.vertical?Math.PI/2:0,Ya=0;Ya<Vr.numGlyphs;Ya++)o.addDynamicAttributes(ir,_a,Qa);Kt&&Vr.associatedIconIndex>=0&&(Zr[Vr.associatedIconIndex]={shiftedAnchor:_a,angle:Qa})}}if(Kt){Fr.clear();for(var Sa=ce.icon.placedSymbolArray,Za=0;Za<Sa.length;Za++){var Ha=Sa.get(Za);if(Ha.hidden)$n(Ha.numGlyphs,Fr);else{var ii=Zr[Za];if(!ii)$n(Ha.numGlyphs,Fr);else for(var ei=0;ei<Ha.numGlyphs;ei++)o.addDynamicAttributes(Fr,ii.shiftedAnchor,ii.angle)}}ce.icon.dynamicLayoutVertexBuffer.updateData(Fr)}ce.text.dynamicLayoutVertexBuffer.updateData(ir)}function po(ce,Z,ve){return ve.iconsInText&&Z?"symbolTextAndIcon":ce?"symbolSDF":"symbolIcon"}function gu(ce,Z,ve,ee,de,Fe,je,it,St,Ut,Kt,or){for(var ir=ce.context,Fr=ir.gl,Zr=ce.transform,Yr=it==="map",Vr=St==="map",Kr=Yr&&ve.layout.get("symbol-placement")!=="point",fn=Yr&&!Vr&&!Kr,Dn=ve.layout.get("symbol-sort-key").constantOr(1)!==void 0,zn=!1,Yn=ce.depthModeForSublayer(0,wr.ReadOnly),Xn=ve.layout.get("text-variable-anchor"),Vn=[],Jn=0,ia=ee;Jn<ia.length;Jn+=1){var ca=ia[Jn],xa=Z.getTile(ca),da=xa.getBucket(ve);if(da){var _a=de?da.text:da.icon;if(!(!_a||!_a.segments.get().length)){var Qa=_a.programConfigurations.get(ve.id),Ya=de||da.sdfIcons,Sa=de?da.textSizeData:da.iconSizeData,Za=Vr||Zr.pitch!==0,Ha=ce.useProgram(po(Ya,de,da),Qa),ii=o.evaluateSizeForZoom(Sa,Zr.zoom),ei=void 0,Ai=[0,0],Ja=void 0,yi=void 0,Va=null,$a=void 0;if(de){if(Ja=xa.glyphAtlasTexture,yi=Fr.LINEAR,ei=xa.glyphAtlasTexture.size,da.iconsInText){Ai=xa.imageAtlasTexture.size,Va=xa.imageAtlasTexture;var Ni=Sa.kind==="composite"||Sa.kind==="camera";$a=Za||ce.options.rotating||ce.options.zooming||Ni?Fr.LINEAR:Fr.NEAREST}}else{var yo=ve.layout.get("icon-size").constantOr(0)!==1||da.iconsNeedLinear;Ja=xa.imageAtlasTexture,yi=Ya||ce.options.rotating||ce.options.zooming||yo||Za?Fr.LINEAR:Fr.NEAREST,ei=xa.imageAtlasTexture.size}var Ks=pn(xa,1,ce.transform.zoom),Js=Er(ca.posMatrix,Vr,Yr,ce.transform,Ks),dl=Wr(ca.posMatrix,Vr,Yr,ce.transform,Ks),Yl=Xn&&da.hasTextData(),Df=ve.layout.get("icon-text-fit")!=="none"&&Yl&&da.hasIconData();Kr&&gn(da,ca.posMatrix,ce,de,Js,dl,Vr,Ut);var Zl=ce.translatePosMatrix(ca.posMatrix,xa,Fe,je),rs=Kr||de&&Xn||Df?cl:Js,jl=ce.translatePosMatrix(dl,xa,Fe,je,!0),ys=Ya&&ve.paint.get(de?"text-halo-width":"icon-halo-width").constantOr(1)!==0,ns=void 0;Ya?da.iconsInText?ns=Af(Sa.kind,ii,fn,Vr,ce,Zl,rs,jl,ei,Ai):ns=Xu(Sa.kind,ii,fn,Vr,ce,Zl,rs,jl,de,ei,!0):ns=cu(Sa.kind,ii,fn,Vr,ce,Zl,rs,jl,de,ei);var pl={program:Ha,buffers:_a,uniformValues:ns,atlasTexture:Ja,atlasTextureIcon:Va,atlasInterpolation:yi,atlasInterpolationIcon:$a,isSDF:Ya,hasHalo:ys};if(Dn&&da.canOverlap){zn=!0;for(var Mu=_a.segments.get(),yl=0,Zh=Mu;yl<Zh.length;yl+=1){var bc=Zh[yl];Vn.push({segments:new o.SegmentVector([bc]),sortKey:bc.sortKey,state:pl})}}else Vn.push({segments:_a.segments,sortKey:0,state:pl})}}}zn&&Vn.sort(function(Xh,Kh){return Xh.sortKey-Kh.sortKey});for(var To=0,jh=Vn;To<jh.length;To+=1){var wh=jh[To],Vo=wh.state;if(ir.activeTexture.set(Fr.TEXTURE0),Vo.atlasTexture.bind(Vo.atlasInterpolation,Fr.CLAMP_TO_EDGE),Vo.atlasTextureIcon&&(ir.activeTexture.set(Fr.TEXTURE1),Vo.atlasTextureIcon&&Vo.atlasTextureIcon.bind(Vo.atlasInterpolationIcon,Fr.CLAMP_TO_EDGE)),Vo.isSDF){var wc=Vo.uniformValues;Vo.hasHalo&&(wc.u_is_halo=1,Gl(Vo.buffers,wh.segments,ve,ce,Vo.program,Yn,Kt,or,wc)),wc.u_is_halo=0}Gl(Vo.buffers,wh.segments,ve,ce,Vo.program,Yn,Kt,or,Vo.uniformValues)}}function Gl(ce,Z,ve,ee,de,Fe,je,it,St){var Ut=ee.context,Kt=Ut.gl;de.draw(Ut,Kt.TRIANGLES,Fe,je,it,Dt.disabled,St,ve.id,ce.layoutVertexBuffer,ce.indexBuffer,Z,ve.paint,ee.transform.zoom,ce.programConfigurations.get(ve.id),ce.dynamicLayoutVertexBuffer,ce.opacityVertexBuffer)}function hc(ce,Z,ve,ee){if(ce.renderPass==="translucent"){var de=ve.paint.get("circle-opacity"),Fe=ve.paint.get("circle-stroke-width"),je=ve.paint.get("circle-stroke-opacity"),it=ve.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(de.constantOr(1)===0&&(Fe.constantOr(1)===0||je.constantOr(1)===0))){for(var St=ce.context,Ut=St.gl,Kt=ce.depthModeForSublayer(0,wr.ReadOnly),or=Qt.disabled,ir=ce.colorModeForRenderPass(),Fr=[],Zr=0;Zr<ee.length;Zr++){var Yr=ee[Zr],Vr=Z.getTile(Yr),Kr=Vr.getBucket(ve);if(Kr){var fn=Kr.programConfigurations.get(ve.id),Dn=ce.useProgram("circle",fn),zn=Kr.layoutVertexBuffer,Yn=Kr.indexBuffer,Xn=ch(ce,Yr,Vr,ve),Vn={programConfiguration:fn,program:Dn,layoutVertexBuffer:zn,indexBuffer:Yn,uniformValues:Xn};if(it)for(var Jn=Kr.segments.get(),ia=0,ca=Jn;ia<ca.length;ia+=1){var xa=ca[ia];Fr.push({segments:new o.SegmentVector([xa]),sortKey:xa.sortKey,state:Vn})}else Fr.push({segments:Kr.segments,sortKey:0,state:Vn})}}it&&Fr.sort(function(Ja,yi){return Ja.sortKey-yi.sortKey});for(var da=0,_a=Fr;da<_a.length;da+=1){var Qa=_a[da],Ya=Qa.state,Sa=Ya.programConfiguration,Za=Ya.program,Ha=Ya.layoutVertexBuffer,ii=Ya.indexBuffer,ei=Ya.uniformValues,Ai=Qa.segments;Za.draw(St,Ut.TRIANGLES,Kt,or,ir,Dt.disabled,ei,ve.id,Ha,ii,Ai,ve.paint,ce.transform.zoom,Sa)}}}}function js(ce,Z,ve,ee){if(ve.paint.get("heatmap-opacity")!==0)if(ce.renderPass==="offscreen"){var de=ce.context,Fe=de.gl,je=Qt.disabled,it=new at([Fe.ONE,Fe.ONE],o.Color.transparent,[!0,!0,!0,!0]);gh(de,ce,ve),de.clear({color:o.Color.transparent});for(var St=0;St<ee.length;St++){var Ut=ee[St];if(!Z.hasRenderableParent(Ut)){var Kt=Z.getTile(Ut),or=Kt.getBucket(ve);if(or){var ir=or.programConfigurations.get(ve.id),Fr=ce.useProgram("heatmap",ir),Zr=ce.transform,Yr=Zr.zoom;Fr.draw(de,Fe.TRIANGLES,wr.disabled,je,it,Dt.disabled,Ls(Ut.posMatrix,Kt,Yr,ve.paint.get("heatmap-intensity")),ve.id,or.layoutVertexBuffer,or.indexBuffer,or.segments,ve.paint,ce.transform.zoom,ir)}}}de.viewport.set([0,0,ce.width,ce.height])}else ce.renderPass==="translucent"&&(ce.context.setColorMode(ce.colorModeForRenderPass()),yu(ce,ve))}function gh(ce,Z,ve){var ee=ce.gl;ce.activeTexture.set(ee.TEXTURE1),ce.viewport.set([0,0,Z.width/4,Z.height/4]);var de=ve.heatmapFbo;if(de)ee.bindTexture(ee.TEXTURE_2D,de.colorAttachment.get()),ce.bindFramebuffer.set(de.framebuffer);else{var Fe=ee.createTexture();ee.bindTexture(ee.TEXTURE_2D,Fe),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_S,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_T,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MIN_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MAG_FILTER,ee.LINEAR),de=ve.heatmapFbo=ce.createFramebuffer(Z.width/4,Z.height/4,!1),Do(ce,Z,Fe,de)}}function Do(ce,Z,ve,ee){var de=ce.gl,Fe=ce.extRenderToTextureHalfFloat?ce.extTextureHalfFloat.HALF_FLOAT_OES:de.UNSIGNED_BYTE;de.texImage2D(de.TEXTURE_2D,0,de.RGBA,Z.width/4,Z.height/4,0,de.RGBA,Fe,null),ee.colorAttachment.set(ve)}function yu(ce,Z){var ve=ce.context,ee=ve.gl,de=Z.heatmapFbo;if(de){ve.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,de.colorAttachment.get()),ve.activeTexture.set(ee.TEXTURE1);var Fe=Z.colorRampTexture;Fe||(Fe=Z.colorRampTexture=new o.Texture(ve,Z.colorRamp,ee.RGBA)),Fe.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),ce.useProgram("heatmapTexture").draw(ve,ee.TRIANGLES,wr.disabled,Qt.disabled,ce.colorModeForRenderPass(),Dt.disabled,dh(ce,Z,0,1),Z.id,ce.viewportBuffer,ce.quadTriangleIndexBuffer,ce.viewportSegments,Z.paint,ce.transform.zoom)}}function Ju(ce,Z,ve,ee){if(ce.renderPass==="translucent"){var de=ve.paint.get("line-opacity"),Fe=ve.paint.get("line-width");if(!(de.constantOr(1)===0||Fe.constantOr(1)===0))for(var je=ce.depthModeForSublayer(0,wr.ReadOnly),it=ce.colorModeForRenderPass(),St=ve.paint.get("line-dasharray"),Ut=ve.paint.get("line-pattern"),Kt=Ut.constantOr(1),or=ve.paint.get("line-gradient"),ir=ve.getCrossfadeParameters(),Fr=Kt?"linePattern":St?"lineSDF":or?"lineGradient":"line",Zr=ce.context,Yr=Zr.gl,Vr=!0,Kr=0,fn=ee;Kr<fn.length;Kr+=1){var Dn=fn[Kr],zn=Z.getTile(Dn);if(!(Kt&&!zn.patternsLoaded())){var Yn=zn.getBucket(ve);if(Yn){var Xn=Yn.programConfigurations.get(ve.id),Vn=ce.context.program.get(),Jn=ce.useProgram(Fr,Xn),ia=Vr||Jn.program!==Vn,ca=Ut.constantOr(null);if(ca&&zn.imageAtlas){var xa=zn.imageAtlas,da=xa.patternPositions[ca.to.toString()],_a=xa.patternPositions[ca.from.toString()];da&&_a&&Xn.setConstantPatternPositions(da,_a)}var Qa=Kt?uc(ce,zn,ve,ir):St?Ps(ce,zn,ve,St,ir):or?fl(ce,zn,ve,Yn.lineClipsArray.length):ul(ce,zn,ve);if(Kt)Zr.activeTexture.set(Yr.TEXTURE0),zn.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),Xn.updatePaintBuffers(ir);else if(St&&(ia||ce.lineAtlas.dirty))Zr.activeTexture.set(Yr.TEXTURE0),ce.lineAtlas.bind(Zr);else if(or){var Ya=Yn.gradients[ve.id],Sa=Ya.texture;if(ve.gradientVersion!==Ya.version){var Za=256;if(ve.stepInterpolant){var Ha=Z.getSource().maxzoom,ii=Dn.canonical.z===Ha?Math.ceil(1<<ce.transform.maxZoom-Dn.canonical.z):1,ei=Yn.maxLineLength/o.EXTENT,Ai=1024,Ja=ei*Ai*ii;Za=o.clamp(o.nextPowerOfTwo(Ja),256,Zr.maxTextureSize)}Ya.gradient=o.renderColorRamp({expression:ve.gradientExpression(),evaluationKey:"lineProgress",resolution:Za,image:Ya.gradient||void 0,clips:Yn.lineClipsArray}),Ya.texture?Ya.texture.update(Ya.gradient):Ya.texture=new o.Texture(Zr,Ya.gradient,Yr.RGBA),Ya.version=ve.gradientVersion,Sa=Ya.texture}Zr.activeTexture.set(Yr.TEXTURE0),Sa.bind(ve.stepInterpolant?Yr.NEAREST:Yr.LINEAR,Yr.CLAMP_TO_EDGE)}Jn.draw(Zr,Yr.TRIANGLES,je,ce.stencilModeForClipping(Dn),it,Dt.disabled,Qa,ve.id,Yn.layoutVertexBuffer,Yn.indexBuffer,Yn.segments,ve.paint,ce.transform.zoom,Xn,Yn.layoutVertexBuffer2),Vr=!1}}}}}function Ds(ce,Z,ve,ee){var de=ve.paint.get("fill-color"),Fe=ve.paint.get("fill-opacity");if(Fe.constantOr(1)!==0){var je=ce.colorModeForRenderPass(),it=ve.paint.get("fill-pattern"),St=ce.opaquePassEnabledForLayer()&&!it.constantOr(1)&&de.constantOr(o.Color.transparent).a===1&&Fe.constantOr(0)===1?"opaque":"translucent";if(ce.renderPass===St){var Ut=ce.depthModeForSublayer(1,ce.renderPass==="opaque"?wr.ReadWrite:wr.ReadOnly);Xs(ce,Z,ve,ee,Ut,je,!1)}if(ce.renderPass==="translucent"&&ve.paint.get("fill-antialias")){var Kt=ce.depthModeForSublayer(ve.getPaintProperty("fill-outline-color")?2:0,wr.ReadOnly);Xs(ce,Z,ve,ee,Kt,je,!0)}}}function Xs(ce,Z,ve,ee,de,Fe,je){var it=ce.context.gl,St=ve.paint.get("fill-pattern"),Ut=St&&St.constantOr(1),Kt=ve.getCrossfadeParameters(),or,ir,Fr,Zr,Yr;je?(ir=Ut&&!ve.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",or=it.LINES):(ir=Ut?"fillPattern":"fill",or=it.TRIANGLES);for(var Vr=0,Kr=ee;Vr<Kr.length;Vr+=1){var fn=Kr[Vr],Dn=Z.getTile(fn);if(!(Ut&&!Dn.patternsLoaded())){var zn=Dn.getBucket(ve);if(zn){var Yn=zn.programConfigurations.get(ve.id),Xn=ce.useProgram(ir,Yn);Ut&&(ce.context.activeTexture.set(it.TEXTURE0),Dn.imageAtlasTexture.bind(it.LINEAR,it.CLAMP_TO_EDGE),Yn.updatePaintBuffers(Kt));var Vn=St.constantOr(null);if(Vn&&Dn.imageAtlas){var Jn=Dn.imageAtlas,ia=Jn.patternPositions[Vn.to.toString()],ca=Jn.patternPositions[Vn.from.toString()];ia&&ca&&Yn.setConstantPatternPositions(ia,ca)}var xa=ce.translatePosMatrix(fn.posMatrix,Dn,ve.paint.get("fill-translate"),ve.paint.get("fill-translate-anchor"));if(!je)Zr=zn.indexBuffer,Yr=zn.segments,Fr=Ut?qo(xa,ce,Kt,Dn):Cs(xa);else{Zr=zn.indexBuffer2,Yr=zn.segments2;var da=[it.drawingBufferWidth,it.drawingBufferHeight];Fr=ir==="fillOutlinePattern"&&Ut?lu(xa,ce,Kt,Dn,da):Ho(xa,da)}Xn.draw(ce.context,or,de,ce.stencilModeForClipping(fn),Fe,Dt.disabled,Fr,ve.id,zn.layoutVertexBuffer,Zr,Yr,ve.paint,ce.transform.zoom,Yn)}}}}function Sf(ce,Z,ve,ee){var de=ve.paint.get("fill-extrusion-opacity");if(de!==0&&ce.renderPass==="translucent"){var Fe=new wr(ce.context.gl.LEQUAL,wr.ReadWrite,ce.depthRangeFor3D);if(de===1&&!ve.paint.get("fill-extrusion-pattern").constantOr(1)){var je=ce.colorModeForRenderPass();mu(ce,Z,ve,ee,Fe,Qt.disabled,je)}else mu(ce,Z,ve,ee,Fe,Qt.disabled,at.disabled),mu(ce,Z,ve,ee,Fe,ce.stencilModeFor3D(),ce.colorModeForRenderPass())}}function mu(ce,Z,ve,ee,de,Fe,je){for(var it=ce.context,St=it.gl,Ut=ve.paint.get("fill-extrusion-pattern"),Kt=Ut.constantOr(1),or=ve.getCrossfadeParameters(),ir=ve.paint.get("fill-extrusion-opacity"),Fr=0,Zr=ee;Fr<Zr.length;Fr+=1){var Yr=Zr[Fr],Vr=Z.getTile(Yr),Kr=Vr.getBucket(ve);if(Kr){var fn=Kr.programConfigurations.get(ve.id),Dn=ce.useProgram(Kt?"fillExtrusionPattern":"fillExtrusion",fn);Kt&&(ce.context.activeTexture.set(St.TEXTURE0),Vr.imageAtlasTexture.bind(St.LINEAR,St.CLAMP_TO_EDGE),fn.updatePaintBuffers(or));var zn=Ut.constantOr(null);if(zn&&Vr.imageAtlas){var Yn=Vr.imageAtlas,Xn=Yn.patternPositions[zn.to.toString()],Vn=Yn.patternPositions[zn.from.toString()];Xn&&Vn&&fn.setConstantPatternPositions(Xn,Vn)}var Jn=ce.translatePosMatrix(Yr.posMatrix,Vr,ve.paint.get("fill-extrusion-translate"),ve.paint.get("fill-extrusion-translate-anchor")),ia=ve.paint.get("fill-extrusion-vertical-gradient"),ca=Kt?Qo(Jn,ce,ia,ir,Yr,or,Vr):su(Jn,ce,ia,ir);Dn.draw(it,it.gl.TRIANGLES,de,Fe,je,Dt.backCCW,ca,ve.id,Kr.layoutVertexBuffer,Kr.indexBuffer,Kr.segments,ve.paint,ce.transform.zoom,fn)}}}function xu(ce,Z,ve,ee){if(!(ce.renderPass!=="offscreen"&&ce.renderPass!=="translucent")){for(var de=ce.context,Fe=ce.depthModeForSublayer(0,wr.ReadOnly),je=ce.colorModeForRenderPass(),it=ce.renderPass==="translucent"?ce.stencilConfigForOverlap(ee):[{},ee],St=it[0],Ut=it[1],Kt=0,or=Ut;Kt<or.length;Kt+=1){var ir=or[Kt],Fr=Z.getTile(ir);Fr.needsHillshadePrepare&&ce.renderPass==="offscreen"?vc(ce,Fr,ve,Fe,Qt.disabled,je):ce.renderPass==="translucent"&&Qu(ce,Fr,ve,Fe,St[ir.overscaledZ],je)}de.viewport.set([0,0,ce.width,ce.height])}}function Qu(ce,Z,ve,ee,de,Fe){var je=ce.context,it=je.gl,St=Z.fbo;if(St){var Ut=ce.useProgram("hillshade");je.activeTexture.set(it.TEXTURE0),it.bindTexture(it.TEXTURE_2D,St.colorAttachment.get());var Kt=Tf(ce,Z,ve);Ut.draw(je,it.TRIANGLES,ee,de,Fe,Dt.disabled,Kt,ve.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function vc(ce,Z,ve,ee,de,Fe){var je=ce.context,it=je.gl,St=Z.dem;if(St&&St.data){var Ut=St.dim,Kt=St.stride,or=St.getPixels();if(je.activeTexture.set(it.TEXTURE1),je.pixelStoreUnpackPremultiplyAlpha.set(!1),Z.demTexture=Z.demTexture||ce.getTileTexture(Kt),Z.demTexture){var ir=Z.demTexture;ir.update(or,{premultiply:!1}),ir.bind(it.NEAREST,it.CLAMP_TO_EDGE)}else Z.demTexture=new o.Texture(je,or,it.RGBA,{premultiply:!1}),Z.demTexture.bind(it.NEAREST,it.CLAMP_TO_EDGE);je.activeTexture.set(it.TEXTURE0);var Fr=Z.fbo;if(!Fr){var Zr=new o.Texture(je,{width:Ut,height:Ut,data:null},it.RGBA);Zr.bind(it.LINEAR,it.CLAMP_TO_EDGE),Fr=Z.fbo=je.createFramebuffer(Ut,Ut,!0),Fr.colorAttachment.set(Zr.texture)}je.bindFramebuffer.set(Fr.framebuffer),je.viewport.set([0,0,Ut,Ut]),ce.useProgram("hillshadePrepare").draw(je,it.TRIANGLES,ee,de,Fe,Dt.disabled,lc(Z.tileID,St),ve.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments),Z.needsHillshadePrepare=!1}}function bu(ce,Z,ve,ee){if(ce.renderPass==="translucent"&&ve.paint.get("raster-opacity")!==0&&ee.length)for(var de=ce.context,Fe=de.gl,je=Z.getSource(),it=ce.useProgram("raster"),St=ce.colorModeForRenderPass(),Ut=je instanceof $?[{},ee]:ce.stencilConfigForOverlap(ee),Kt=Ut[0],or=Ut[1],ir=or[or.length-1].overscaledZ,Fr=!ce.options.moving,Zr=0,Yr=or;Zr<Yr.length;Zr+=1){var Vr=Yr[Zr],Kr=ce.depthModeForSublayer(Vr.overscaledZ-ir,ve.paint.get("raster-opacity")===1?wr.ReadWrite:wr.ReadOnly,Fe.LESS),fn=Z.getTile(Vr),Dn=ce.transform.calculatePosMatrix(Vr.toUnwrapped(),Fr);fn.registerFadeDuration(ve.paint.get("raster-fade-duration"));var zn=Z.findLoadedParent(Vr,0),Yn=Ef(fn,zn,Z,ve,ce.transform),Xn=void 0,Vn=void 0,Jn=ve.paint.get("raster-resampling")==="nearest"?Fe.NEAREST:Fe.LINEAR;de.activeTexture.set(Fe.TEXTURE0),fn.texture.bind(Jn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),de.activeTexture.set(Fe.TEXTURE1),zn?(zn.texture.bind(Jn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),Xn=Math.pow(2,zn.tileID.overscaledZ-fn.tileID.overscaledZ),Vn=[fn.tileID.canonical.x*Xn%1,fn.tileID.canonical.y*Xn%1]):fn.texture.bind(Jn,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST);var ia=fu(Dn,Vn||[0,0],Xn||1,Yn,ve);je instanceof $?it.draw(de,Fe.TRIANGLES,Kr,Qt.disabled,St,Dt.disabled,ia,ve.id,je.boundsBuffer,ce.quadTriangleIndexBuffer,je.boundsSegments):it.draw(de,Fe.TRIANGLES,Kr,Kt[Vr.overscaledZ],St,Dt.disabled,ia,ve.id,ce.rasterBoundsBuffer,ce.quadTriangleIndexBuffer,ce.rasterBoundsSegments)}}function Ef(ce,Z,ve,ee,de){var Fe=ee.paint.get("raster-fade-duration");if(Fe>0){var je=o.browser.now(),it=(je-ce.timeAdded)/Fe,St=Z?(je-Z.timeAdded)/Fe:-1,Ut=ve.getSource(),Kt=de.coveringZoomLevel({tileSize:Ut.tileSize,roundZoom:Ut.roundZoom}),or=!Z||Math.abs(Z.tileID.overscaledZ-Kt)>Math.abs(ce.tileID.overscaledZ-Kt),ir=or&&ce.refreshedUponExpiration?1:o.clamp(or?it:1-St,0,1);return ce.refreshedUponExpiration&&it>=1&&(ce.refreshedUponExpiration=!1),Z?{opacity:1,mix:1-ir}:{opacity:ir,mix:0}}else return{opacity:1,mix:0}}function hl(ce,Z,ve){var ee=ve.paint.get("background-color"),de=ve.paint.get("background-opacity");if(de!==0){var Fe=ce.context,je=Fe.gl,it=ce.transform,St=it.tileSize,Ut=ve.paint.get("background-pattern");if(!ce.isPatternMissing(Ut)){var Kt=!Ut&&ee.a===1&&de===1&&ce.opaquePassEnabledForLayer()?"opaque":"translucent";if(ce.renderPass===Kt){var or=Qt.disabled,ir=ce.depthModeForSublayer(0,Kt==="opaque"?wr.ReadWrite:wr.ReadOnly),Fr=ce.colorModeForRenderPass(),Zr=ce.useProgram(Ut?"backgroundPattern":"background"),Yr=it.coveringTiles({tileSize:St});Ut&&(Fe.activeTexture.set(je.TEXTURE0),ce.imageManager.bind(ce.context));for(var Vr=ve.getCrossfadeParameters(),Kr=0,fn=Yr;Kr<fn.length;Kr+=1){var Dn=fn[Kr],zn=ce.transform.calculatePosMatrix(Dn.toUnwrapped()),Yn=Ut?du(zn,de,ce,Ut,{tileID:Dn,tileSize:St},Vr):Ys(zn,de,ee);Zr.draw(Fe,je.TRIANGLES,ir,or,Fr,Dt.disabled,Yn,ve.id,ce.tileExtentBuffer,ce.quadTriangleIndexBuffer,ce.tileExtentSegments)}}}}}var Cf=new o.Color(1,0,0,1),wu=new o.Color(0,1,0,1),dc=new o.Color(0,0,1,1),Xe=new o.Color(1,0,1,1),rt=new o.Color(0,1,1,1);function ht(ce){var Z=ce.transform.padding,ve=3;Ft(ce,ce.transform.height-(Z.top||0),ve,Cf),Ft(ce,Z.bottom||0,ve,wu),Pt(ce,Z.left||0,ve,dc),Pt(ce,ce.transform.width-(Z.right||0),ve,Xe);var ee=ce.transform.centerPoint;mt(ce,ee.x,ce.transform.height-ee.y,rt)}function mt(ce,Z,ve,ee){var de=20,Fe=2;Ot(ce,Z-Fe/2,ve-de/2,Fe,de,ee),Ot(ce,Z-de/2,ve-Fe/2,de,Fe,ee)}function Ft(ce,Z,ve,ee){Ot(ce,0,Z+ve/2,ce.transform.width,ve,ee)}function Pt(ce,Z,ve,ee){Ot(ce,Z-ve/2,0,ve,ce.transform.height,ee)}function Ot(ce,Z,ve,ee,de,Fe){var je=ce.context,it=je.gl;it.enable(it.SCISSOR_TEST),it.scissor(Z*o.browser.devicePixelRatio,ve*o.browser.devicePixelRatio,ee*o.browser.devicePixelRatio,de*o.browser.devicePixelRatio),je.clear({color:Fe}),it.disable(it.SCISSOR_TEST)}function dr(ce,Z,ve){for(var ee=0;ee<ve.length;ee++)xr(ce,Z,ve[ee])}function xr(ce,Z,ve){var ee=ce.context,de=ee.gl,Fe=ve.posMatrix,je=ce.useProgram("debug"),it=wr.disabled,St=Qt.disabled,Ut=ce.colorModeForRenderPass(),Kt="$debug";ee.activeTexture.set(de.TEXTURE0),ce.emptyTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),je.draw(ee,de.LINE_STRIP,it,St,Ut,Dt.disabled,Qi(Fe,o.Color.red),Kt,ce.debugBuffer,ce.tileBorderIndexBuffer,ce.debugSegments);var or=Z.getTileByID(ve.key).latestRawTileData,ir=or&&or.byteLength||0,Fr=Math.floor(ir/1024),Zr=Z.getTile(ve).tileSize,Yr=512/Math.min(Zr,512)*(ve.overscaledZ/ce.transform.zoom)*.5,Vr=ve.canonical.toString();ve.overscaledZ!==ve.canonical.z&&(Vr+=" => "+ve.overscaledZ);var Kr=Vr+" "+Fr+"kb";ar(ce,Kr),je.draw(ee,de.TRIANGLES,it,St,at.alphaBlended,Dt.disabled,Qi(Fe,o.Color.transparent,Yr),Kt,ce.debugBuffer,ce.quadTriangleIndexBuffer,ce.debugSegments)}function ar(ce,Z){ce.initDebugOverlayCanvas();var ve=ce.debugOverlayCanvas,ee=ce.context.gl,de=ce.debugOverlayCanvas.getContext("2d");de.clearRect(0,0,ve.width,ve.height),de.shadowColor="white",de.shadowBlur=2,de.lineWidth=1.5,de.strokeStyle="white",de.textBaseline="top",de.font="bold 36px Open Sans, sans-serif",de.fillText(Z,5,5),de.strokeText(Z,5,5),ce.debugOverlayTexture.update(ve),ce.debugOverlayTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE)}function Ar(ce,Z,ve){var ee=ce.context,de=ve.implementation;if(ce.renderPass==="offscreen"){var Fe=de.prerender;Fe&&(ce.setCustomLayerDefaults(),ee.setColorMode(ce.colorModeForRenderPass()),Fe.call(de,ee.gl,ce.transform.customLayerMatrix()),ee.setDirty(),ce.setBaseState())}else if(ce.renderPass==="translucent"){ce.setCustomLayerDefaults(),ee.setColorMode(ce.colorModeForRenderPass()),ee.setStencilMode(Qt.disabled);var je=de.renderingMode==="3d"?new wr(ce.context.gl.LEQUAL,wr.ReadWrite,ce.depthRangeFor3D):ce.depthModeForSublayer(0,wr.ReadOnly);ee.setDepthMode(je),de.render(ee.gl,ce.transform.customLayerMatrix()),ee.setDirty(),ce.setBaseState(),ee.bindFramebuffer.set(null)}}var Ir={symbol:Ku,circle:hc,heatmap:js,line:Ju,fill:Ds,"fill-extrusion":Sf,hillshade:xu,raster:bu,background:hl,debug:dr,custom:Ar},Or=function(Z,ve){this.context=new Lt(Z),this.transform=ve,this._tileTextures={},this.setup(),this.numSublayers=Bt.maxUnderzooming+Bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ua,this.gpuTimers={}};Or.prototype.resize=function(Z,ve){if(this.width=Z*o.browser.devicePixelRatio,this.height=ve*o.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ee=0,de=this.style._order;ee<de.length;ee+=1){var Fe=de[ee];this.style._layers[Fe].resize()}},Or.prototype.setup=function(){var Z=this.context,ve=new o.StructArrayLayout2i4;ve.emplaceBack(0,0),ve.emplaceBack(o.EXTENT,0),ve.emplaceBack(0,o.EXTENT),ve.emplaceBack(o.EXTENT,o.EXTENT),this.tileExtentBuffer=Z.createVertexBuffer(ve,Lo.members),this.tileExtentSegments=o.SegmentVector.simpleSegment(0,0,4,2);var ee=new o.StructArrayLayout2i4;ee.emplaceBack(0,0),ee.emplaceBack(o.EXTENT,0),ee.emplaceBack(0,o.EXTENT),ee.emplaceBack(o.EXTENT,o.EXTENT),this.debugBuffer=Z.createVertexBuffer(ee,Lo.members),this.debugSegments=o.SegmentVector.simpleSegment(0,0,4,5);var de=new o.StructArrayLayout4i8;de.emplaceBack(0,0,0,0),de.emplaceBack(o.EXTENT,0,o.EXTENT,0),de.emplaceBack(0,o.EXTENT,0,o.EXTENT),de.emplaceBack(o.EXTENT,o.EXTENT,o.EXTENT,o.EXTENT),this.rasterBoundsBuffer=Z.createVertexBuffer(de,W.members),this.rasterBoundsSegments=o.SegmentVector.simpleSegment(0,0,4,2);var Fe=new o.StructArrayLayout2i4;Fe.emplaceBack(0,0),Fe.emplaceBack(1,0),Fe.emplaceBack(0,1),Fe.emplaceBack(1,1),this.viewportBuffer=Z.createVertexBuffer(Fe,Lo.members),this.viewportSegments=o.SegmentVector.simpleSegment(0,0,4,2);var je=new o.StructArrayLayout1ui2;je.emplaceBack(0),je.emplaceBack(1),je.emplaceBack(3),je.emplaceBack(2),je.emplaceBack(0),this.tileBorderIndexBuffer=Z.createIndexBuffer(je);var it=new o.StructArrayLayout3ui6;it.emplaceBack(0,1,2),it.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Z.createIndexBuffer(it),this.emptyTexture=new o.Texture(Z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Z.gl.RGBA);var St=this.context.gl;this.stencilClearMode=new Qt({func:St.ALWAYS,mask:0},0,255,St.ZERO,St.ZERO,St.ZERO)},Or.prototype.clearStencil=function(){var Z=this.context,ve=Z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ee=o.create();o.ortho(ee,0,this.width,this.height,0,0,1),o.scale(ee,ee,[ve.drawingBufferWidth,ve.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Z,ve.TRIANGLES,wr.disabled,this.stencilClearMode,at.disabled,Dt.disabled,Ol(ee),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Or.prototype._renderTileClippingMasks=function(Z,ve){if(!(this.currentStencilSource===Z.source||!Z.isTileClipped()||!ve||!ve.length)){this.currentStencilSource=Z.source;var ee=this.context,de=ee.gl;this.nextStencilID+ve.length>256&&this.clearStencil(),ee.setColorMode(at.disabled),ee.setDepthMode(wr.disabled);var Fe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var je=0,it=ve;je<it.length;je+=1){var St=it[je],Ut=this._tileClippingMaskIDs[St.key]=this.nextStencilID++;Fe.draw(ee,de.TRIANGLES,wr.disabled,new Qt({func:de.ALWAYS,mask:0},Ut,255,de.KEEP,de.KEEP,de.REPLACE),at.disabled,Dt.disabled,Ol(St.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Or.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Z=this.nextStencilID++,ve=this.context.gl;return new Qt({func:ve.NOTEQUAL,mask:255},Z,255,ve.KEEP,ve.KEEP,ve.REPLACE)},Or.prototype.stencilModeForClipping=function(Z){var ve=this.context.gl;return new Qt({func:ve.EQUAL,mask:255},this._tileClippingMaskIDs[Z.key],0,ve.KEEP,ve.KEEP,ve.REPLACE)},Or.prototype.stencilConfigForOverlap=function(Z){var ve,ee=this.context.gl,de=Z.sort(function(Ut,Kt){return Kt.overscaledZ-Ut.overscaledZ}),Fe=de[de.length-1].overscaledZ,je=de[0].overscaledZ-Fe+1;if(je>1){this.currentStencilSource=void 0,this.nextStencilID+je>256&&this.clearStencil();for(var it={},St=0;St<je;St++)it[St+Fe]=new Qt({func:ee.GEQUAL,mask:255},St+this.nextStencilID,255,ee.KEEP,ee.KEEP,ee.REPLACE);return this.nextStencilID+=je,[it,de]}return[(ve={},ve[Fe]=Qt.disabled,ve),de]},Or.prototype.colorModeForRenderPass=function(){var Z=this.context.gl;if(this._showOverdrawInspector){var ve=8,ee=1/ve;return new at([Z.CONSTANT_COLOR,Z.ONE],new o.Color(ee,ee,ee,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?at.unblended:at.alphaBlended},Or.prototype.depthModeForSublayer=function(Z,ve,ee){if(!this.opaquePassEnabledForLayer())return wr.disabled;var de=1-((1+this.currentLayer)*this.numSublayers+Z)*this.depthEpsilon;return new wr(ee||this.context.gl.LEQUAL,ve,[de,de])},Or.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Or.prototype.render=function(Z,ve){var ee=this;this.style=Z,this.options=ve,this.lineAtlas=Z.lineAtlas,this.imageManager=Z.imageManager,this.glyphManager=Z.glyphManager,this.symbolFadeChange=Z.placement.symbolFadeChange(o.browser.now()),this.imageManager.beginFrame();var de=this.style._order,Fe=this.style.sourceCaches;for(var je in Fe){var it=Fe[je];it.used&&it.prepare(this.context)}var St={},Ut={},Kt={};for(var or in Fe){var ir=Fe[or];St[or]=ir.getVisibleCoordinates(),Ut[or]=St[or].slice().reverse(),Kt[or]=ir.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Fr=0;Fr<de.length;Fr++){var Zr=de[Fr];if(this.style._layers[Zr].is3D()){this.opaquePassCutoff=Fr;break}}this.renderPass="offscreen";for(var Yr=0,Vr=de;Yr<Vr.length;Yr+=1){var Kr=Vr[Yr],fn=this.style._layers[Kr];if(!(!fn.hasOffscreenPass()||fn.isHidden(this.transform.zoom))){var Dn=Ut[fn.source];fn.type!=="custom"&&!Dn.length||this.renderLayer(this,Fe[fn.source],fn,Dn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ve.showOverdrawInspector?o.Color.black:o.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ve.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=de.length-1;this.currentLayer>=0;this.currentLayer--){var zn=this.style._layers[de[this.currentLayer]],Yn=Fe[zn.source],Xn=St[zn.source];this._renderTileClippingMasks(zn,Xn),this.renderLayer(this,Yn,zn,Xn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<de.length;this.currentLayer++){var Vn=this.style._layers[de[this.currentLayer]],Jn=Fe[Vn.source],ia=(Vn.type==="symbol"?Kt:Ut)[Vn.source];this._renderTileClippingMasks(Vn,St[Vn.source]),this.renderLayer(this,Jn,Vn,ia)}if(this.options.showTileBoundaries){var ca,xa,da=o.values(this.style._layers);da.forEach(function(_a){_a.source&&!_a.isHidden(ee.transform.zoom)&&(_a.source!==(xa&&xa.id)&&(xa=ee.style.sourceCaches[_a.source]),(!ca||ca.getSource().maxzoom<xa.getSource().maxzoom)&&(ca=xa))}),ca&&Ir.debug(this,ca,ca.getVisibleCoordinates())}this.options.showPadding&&ht(this),this.context.setDefault()},Or.prototype.renderLayer=function(Z,ve,ee,de){ee.isHidden(this.transform.zoom)||ee.type!=="background"&&ee.type!=="custom"&&!de.length||(this.id=ee.id,this.gpuTimingStart(ee),Ir[ee.type](Z,ve,ee,de,this.style.placement.variableOffsets),this.gpuTimingEnd())},Or.prototype.gpuTimingStart=function(Z){if(this.options.gpuTiming){var ve=this.context.extTimerQuery,ee=this.gpuTimers[Z.id];ee||(ee=this.gpuTimers[Z.id]={calls:0,cpuTime:0,query:ve.createQueryEXT()}),ee.calls++,ve.beginQueryEXT(ve.TIME_ELAPSED_EXT,ee.query)}},Or.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Z=this.context.extTimerQuery;Z.endQueryEXT(Z.TIME_ELAPSED_EXT)}},Or.prototype.collectGpuTimers=function(){var Z=this.gpuTimers;return this.gpuTimers={},Z},Or.prototype.queryGpuTimers=function(Z){var ve={};for(var ee in Z){var de=Z[ee],Fe=this.context.extTimerQuery,je=Fe.getQueryObjectEXT(de.query,Fe.QUERY_RESULT_EXT)/(1e3*1e3);Fe.deleteQueryEXT(de.query),ve[ee]=je}return ve},Or.prototype.translatePosMatrix=function(Z,ve,ee,de,Fe){if(!ee[0]&&!ee[1])return Z;var je=Fe?de==="map"?this.transform.angle:0:de==="viewport"?-this.transform.angle:0;if(je){var it=Math.sin(je),St=Math.cos(je);ee=[ee[0]*St-ee[1]*it,ee[0]*it+ee[1]*St]}var Ut=[Fe?ee[0]:pn(ve,ee[0],this.transform.zoom),Fe?ee[1]:pn(ve,ee[1],this.transform.zoom),0],Kt=new Float32Array(16);return o.translate(Kt,Z,Ut),Kt},Or.prototype.saveTileTexture=function(Z){var ve=this._tileTextures[Z.size[0]];ve?ve.push(Z):this._tileTextures[Z.size[0]]=[Z]},Or.prototype.getTileTexture=function(Z){var ve=this._tileTextures[Z];return ve&&ve.length>0?ve.pop():null},Or.prototype.isPatternMissing=function(Z){if(!Z)return!1;if(!Z.from||!Z.to)return!0;var ve=this.imageManager.getPattern(Z.from.toString()),ee=this.imageManager.getPattern(Z.to.toString());return!ve||!ee},Or.prototype.useProgram=function(Z,ve){this.cache=this.cache||{};var ee=""+Z+(ve?ve.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ee]||(this.cache[ee]=new bf(this.context,Z,rc[Z],ve,Zs[Z],this._showOverdrawInspector)),this.cache[ee]},Or.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Or.prototype.setBaseState=function(){var Z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Z.FUNC_ADD)},Or.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=o.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Z=this.context.gl;this.debugOverlayTexture=new o.Texture(this.context,this.debugOverlayCanvas,Z.RGBA)}},Or.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var en=function(Z,ve){this.points=Z,this.planes=ve};en.fromInvProjectionMatrix=function(Z,ve,ee){var de=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Fe=Math.pow(2,ee),je=de.map(function(Ut){return o.transformMat4([],Ut,Z)}).map(function(Ut){return o.scale$1([],Ut,1/Ut[3]/ve*Fe)}),it=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],St=it.map(function(Ut){var Kt=o.sub([],je[Ut[0]],je[Ut[1]]),or=o.sub([],je[Ut[2]],je[Ut[1]]),ir=o.normalize([],o.cross([],Kt,or)),Fr=-o.dot(ir,je[Ut[1]]);return ir.concat(Fr)});return new en(je,St)};var bn=function(Z,ve){this.min=Z,this.max=ve,this.center=o.scale$2([],o.add([],this.min,this.max),.5)};bn.prototype.quadrant=function(Z){for(var ve=[Z%2===0,Z<2],ee=o.clone$2(this.min),de=o.clone$2(this.max),Fe=0;Fe<ve.length;Fe++)ee[Fe]=ve[Fe]?this.min[Fe]:this.center[Fe],de[Fe]=ve[Fe]?this.center[Fe]:this.max[Fe];return de[2]=this.max[2],new bn(ee,de)},bn.prototype.distanceX=function(Z){var ve=Math.max(Math.min(this.max[0],Z[0]),this.min[0]);return ve-Z[0]},bn.prototype.distanceY=function(Z){var ve=Math.max(Math.min(this.max[1],Z[1]),this.min[1]);return ve-Z[1]},bn.prototype.intersects=function(Z){for(var ve=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ee=!0,de=0;de<Z.planes.length;de++){for(var Fe=Z.planes[de],je=0,it=0;it<ve.length;it++)je+=o.dot$1(Fe,ve[it])>=0;if(je===0)return 0;je!==ve.length&&(ee=!1)}if(ee)return 2;for(var St=0;St<3;St++){for(var Ut=Number.MAX_VALUE,Kt=-Number.MAX_VALUE,or=0;or<Z.points.length;or++){var ir=Z.points[or][St]-this.min[St];Ut=Math.min(Ut,ir),Kt=Math.max(Kt,ir)}if(Kt<0||Ut>this.max[St]-this.min[St])return 0}return 1};var Ln=function(Z,ve,ee,de){if(Z===void 0&&(Z=0),ve===void 0&&(ve=0),ee===void 0&&(ee=0),de===void 0&&(de=0),isNaN(Z)||Z<0||isNaN(ve)||ve<0||isNaN(ee)||ee<0||isNaN(de)||de<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Z,this.bottom=ve,this.left=ee,this.right=de};Ln.prototype.interpolate=function(Z,ve,ee){return ve.top!=null&&Z.top!=null&&(this.top=o.number(Z.top,ve.top,ee)),ve.bottom!=null&&Z.bottom!=null&&(this.bottom=o.number(Z.bottom,ve.bottom,ee)),ve.left!=null&&Z.left!=null&&(this.left=o.number(Z.left,ve.left,ee)),ve.right!=null&&Z.right!=null&&(this.right=o.number(Z.right,ve.right,ee)),this},Ln.prototype.getCenter=function(Z,ve){var ee=o.clamp((this.left+Z-this.right)/2,0,Z),de=o.clamp((this.top+ve-this.bottom)/2,0,ve);return new o.Point(ee,de)},Ln.prototype.equals=function(Z){return this.top===Z.top&&this.bottom===Z.bottom&&this.left===Z.left&&this.right===Z.right},Ln.prototype.clone=function(){return new Ln(this.top,this.bottom,this.left,this.right)},Ln.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Pn=function(Z,ve,ee,de,Fe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Fe===void 0?!0:Fe,this._minZoom=Z||0,this._maxZoom=ve||22,this._minPitch=ee??0,this._maxPitch=de??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ln,this._posMatrixCache={},this._alignedPosMatrixCache={}},Kn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Pn.prototype.clone=function(){var Z=new Pn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Z.tileSize=this.tileSize,Z.latRange=this.latRange,Z.width=this.width,Z.height=this.height,Z._center=this._center,Z.zoom=this.zoom,Z.angle=this.angle,Z._fov=this._fov,Z._pitch=this._pitch,Z._unmodified=this._unmodified,Z._edgeInsets=this._edgeInsets.clone(),Z._calcMatrices(),Z},Kn.minZoom.get=function(){return this._minZoom},Kn.minZoom.set=function(ce){this._minZoom!==ce&&(this._minZoom=ce,this.zoom=Math.max(this.zoom,ce))},Kn.maxZoom.get=function(){return this._maxZoom},Kn.maxZoom.set=function(ce){this._maxZoom!==ce&&(this._maxZoom=ce,this.zoom=Math.min(this.zoom,ce))},Kn.minPitch.get=function(){return this._minPitch},Kn.minPitch.set=function(ce){this._minPitch!==ce&&(this._minPitch=ce,this.pitch=Math.max(this.pitch,ce))},Kn.maxPitch.get=function(){return this._maxPitch},Kn.maxPitch.set=function(ce){this._maxPitch!==ce&&(this._maxPitch=ce,this.pitch=Math.min(this.pitch,ce))},Kn.renderWorldCopies.get=function(){return this._renderWorldCopies},Kn.renderWorldCopies.set=function(ce){ce===void 0?ce=!0:ce===null&&(ce=!1),this._renderWorldCopies=ce},Kn.worldSize.get=function(){return this.tileSize*this.scale},Kn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Kn.size.get=function(){return new o.Point(this.width,this.height)},Kn.bearing.get=function(){return-this.angle/Math.PI*180},Kn.bearing.set=function(ce){var Z=-o.wrap(ce,-180,180)*Math.PI/180;this.angle!==Z&&(this._unmodified=!1,this.angle=Z,this._calcMatrices(),this.rotationMatrix=o.create$2(),o.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Kn.pitch.get=function(){return this._pitch/Math.PI*180},Kn.pitch.set=function(ce){var Z=o.clamp(ce,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Z&&(this._unmodified=!1,this._pitch=Z,this._calcMatrices())},Kn.fov.get=function(){return this._fov/Math.PI*180},Kn.fov.set=function(ce){ce=Math.max(.01,Math.min(60,ce)),this._fov!==ce&&(this._unmodified=!1,this._fov=ce/180*Math.PI,this._calcMatrices())},Kn.zoom.get=function(){return this._zoom},Kn.zoom.set=function(ce){var Z=Math.min(Math.max(ce,this.minZoom),this.maxZoom);this._zoom!==Z&&(this._unmodified=!1,this._zoom=Z,this.scale=this.zoomScale(Z),this.tileZoom=Math.floor(Z),this.zoomFraction=Z-this.tileZoom,this._constrain(),this._calcMatrices())},Kn.center.get=function(){return this._center},Kn.center.set=function(ce){ce.lat===this._center.lat&&ce.lng===this._center.lng||(this._unmodified=!1,this._center=ce,this._constrain(),this._calcMatrices())},Kn.padding.get=function(){return this._edgeInsets.toJSON()},Kn.padding.set=function(ce){this._edgeInsets.equals(ce)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ce,1),this._calcMatrices())},Kn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Pn.prototype.isPaddingEqual=function(Z){return this._edgeInsets.equals(Z)},Pn.prototype.interpolatePadding=function(Z,ve,ee){this._unmodified=!1,this._edgeInsets.interpolate(Z,ve,ee),this._constrain(),this._calcMatrices()},Pn.prototype.coveringZoomLevel=function(Z){var ve=(Z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Z.tileSize));return Math.max(0,ve)},Pn.prototype.getVisibleUnwrappedCoordinates=function(Z){var ve=[new o.UnwrappedTileID(0,Z)];if(this._renderWorldCopies)for(var ee=this.pointCoordinate(new o.Point(0,0)),de=this.pointCoordinate(new o.Point(this.width,0)),Fe=this.pointCoordinate(new o.Point(this.width,this.height)),je=this.pointCoordinate(new o.Point(0,this.height)),it=Math.floor(Math.min(ee.x,de.x,Fe.x,je.x)),St=Math.floor(Math.max(ee.x,de.x,Fe.x,je.x)),Ut=1,Kt=it-Ut;Kt<=St+Ut;Kt++)Kt!==0&&ve.push(new o.UnwrappedTileID(Kt,Z));return ve},Pn.prototype.coveringTiles=function(Z){var ve=this.coveringZoomLevel(Z),ee=ve;if(Z.minzoom!==void 0&&ve<Z.minzoom)return[];Z.maxzoom!==void 0&&ve>Z.maxzoom&&(ve=Z.maxzoom);var de=o.MercatorCoordinate.fromLngLat(this.center),Fe=Math.pow(2,ve),je=[Fe*de.x,Fe*de.y,0],it=en.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ve),St=Z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(St=ve);var Ut=3,Kt=function(da){return{aabb:new bn([da*Fe,0,0],[(da+1)*Fe,Fe,0]),zoom:0,x:0,y:0,wrap:da,fullyVisible:!1}},or=[],ir=[],Fr=ve,Zr=Z.reparseOverscaled?ee:ve;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)or.push(Kt(-Yr)),or.push(Kt(Yr));for(or.push(Kt(0));or.length>0;){var Vr=or.pop(),Kr=Vr.x,fn=Vr.y,Dn=Vr.fullyVisible;if(!Dn){var zn=Vr.aabb.intersects(it);if(zn===0)continue;Dn=zn===2}var Yn=Vr.aabb.distanceX(je),Xn=Vr.aabb.distanceY(je),Vn=Math.max(Math.abs(Yn),Math.abs(Xn)),Jn=Ut+(1<<Fr-Vr.zoom)-2;if(Vr.zoom===Fr||Vn>Jn&&Vr.zoom>=St){ir.push({tileID:new o.OverscaledTileID(Vr.zoom===Fr?Zr:Vr.zoom,Vr.wrap,Vr.zoom,Kr,fn),distanceSq:o.sqrLen([je[0]-.5-Kr,je[1]-.5-fn])});continue}for(var ia=0;ia<4;ia++){var ca=(Kr<<1)+ia%2,xa=(fn<<1)+(ia>>1);or.push({aabb:Vr.aabb.quadrant(ia),zoom:Vr.zoom+1,x:ca,y:xa,wrap:Vr.wrap,fullyVisible:Dn})}}return ir.sort(function(da,_a){return da.distanceSq-_a.distanceSq}).map(function(da){return da.tileID})},Pn.prototype.resize=function(Z,ve){this.width=Z,this.height=ve,this.pixelsToGLUnits=[2/Z,-2/ve],this._constrain(),this._calcMatrices()},Kn.unmodified.get=function(){return this._unmodified},Pn.prototype.zoomScale=function(Z){return Math.pow(2,Z)},Pn.prototype.scaleZoom=function(Z){return Math.log(Z)/Math.LN2},Pn.prototype.project=function(Z){var ve=o.clamp(Z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.Point(o.mercatorXfromLng(Z.lng)*this.worldSize,o.mercatorYfromLat(ve)*this.worldSize)},Pn.prototype.unproject=function(Z){return new o.MercatorCoordinate(Z.x/this.worldSize,Z.y/this.worldSize).toLngLat()},Kn.point.get=function(){return this.project(this.center)},Pn.prototype.setLocationAtPoint=function(Z,ve){var ee=this.pointCoordinate(ve),de=this.pointCoordinate(this.centerPoint),Fe=this.locationCoordinate(Z),je=new o.MercatorCoordinate(Fe.x-(ee.x-de.x),Fe.y-(ee.y-de.y));this.center=this.coordinateLocation(je),this._renderWorldCopies&&(this.center=this.center.wrap())},Pn.prototype.locationPoint=function(Z){return this.coordinatePoint(this.locationCoordinate(Z))},Pn.prototype.pointLocation=function(Z){return this.coordinateLocation(this.pointCoordinate(Z))},Pn.prototype.locationCoordinate=function(Z){return o.MercatorCoordinate.fromLngLat(Z)},Pn.prototype.coordinateLocation=function(Z){return Z.toLngLat()},Pn.prototype.pointCoordinate=function(Z){var ve=0,ee=[Z.x,Z.y,0,1],de=[Z.x,Z.y,1,1];o.transformMat4(ee,ee,this.pixelMatrixInverse),o.transformMat4(de,de,this.pixelMatrixInverse);var Fe=ee[3],je=de[3],it=ee[0]/Fe,St=de[0]/je,Ut=ee[1]/Fe,Kt=de[1]/je,or=ee[2]/Fe,ir=de[2]/je,Fr=or===ir?0:(ve-or)/(ir-or);return new o.MercatorCoordinate(o.number(it,St,Fr)/this.worldSize,o.number(Ut,Kt,Fr)/this.worldSize)},Pn.prototype.coordinatePoint=function(Z){var ve=[Z.x*this.worldSize,Z.y*this.worldSize,0,1];return o.transformMat4(ve,ve,this.pixelMatrix),new o.Point(ve[0]/ve[3],ve[1]/ve[3])},Pn.prototype.getBounds=function(){return new o.LngLatBounds().extend(this.pointLocation(new o.Point(0,0))).extend(this.pointLocation(new o.Point(this.width,0))).extend(this.pointLocation(new o.Point(this.width,this.height))).extend(this.pointLocation(new o.Point(0,this.height)))},Pn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new o.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Pn.prototype.setMaxBounds=function(Z){Z?(this.lngRange=[Z.getWest(),Z.getEast()],this.latRange=[Z.getSouth(),Z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Pn.prototype.calculatePosMatrix=function(Z,ve){ve===void 0&&(ve=!1);var ee=Z.key,de=ve?this._alignedPosMatrixCache:this._posMatrixCache;if(de[ee])return de[ee];var Fe=Z.canonical,je=this.worldSize/this.zoomScale(Fe.z),it=Fe.x+Math.pow(2,Fe.z)*Z.wrap,St=o.identity(new Float64Array(16));return o.translate(St,St,[it*je,Fe.y*je,0]),o.scale(St,St,[je/o.EXTENT,je/o.EXTENT,1]),o.multiply(St,ve?this.alignedProjMatrix:this.projMatrix,St),de[ee]=new Float32Array(St),de[ee]},Pn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Pn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Z=-90,ve=90,ee=-180,de=180,Fe,je,it,St,Ut=this.size,Kt=this._unmodified;if(this.latRange){var or=this.latRange;Z=o.mercatorYfromLat(or[1])*this.worldSize,ve=o.mercatorYfromLat(or[0])*this.worldSize,Fe=ve-Z<Ut.y?Ut.y/(ve-Z):0}if(this.lngRange){var ir=this.lngRange;ee=o.mercatorXfromLng(ir[0])*this.worldSize,de=o.mercatorXfromLng(ir[1])*this.worldSize,je=de-ee<Ut.x?Ut.x/(de-ee):0}var Fr=this.point,Zr=Math.max(je||0,Fe||0);if(Zr){this.center=this.unproject(new o.Point(je?(de+ee)/2:Fr.x,Fe?(ve+Z)/2:Fr.y)),this.zoom+=this.scaleZoom(Zr),this._unmodified=Kt,this._constraining=!1;return}if(this.latRange){var Yr=Fr.y,Vr=Ut.y/2;Yr-Vr<Z&&(St=Z+Vr),Yr+Vr>ve&&(St=ve-Vr)}if(this.lngRange){var Kr=Fr.x,fn=Ut.x/2;Kr-fn<ee&&(it=ee+fn),Kr+fn>de&&(it=de-fn)}(it!==void 0||St!==void 0)&&(this.center=this.unproject(new o.Point(it!==void 0?it:Fr.x,St!==void 0?St:Fr.y))),this._unmodified=Kt,this._constraining=!1}},Pn.prototype._calcMatrices=function(){if(this.height){var Z=this._fov/2,ve=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Z)*this.height;var ee=Math.PI/2+this._pitch,de=this._fov*(.5+ve.y/this.height),Fe=Math.sin(de)*this.cameraToCenterDistance/Math.sin(o.clamp(Math.PI-ee-de,.01,Math.PI-.01)),je=this.point,it=je.x,St=je.y,Ut=Math.cos(Math.PI/2-this._pitch)*Fe+this.cameraToCenterDistance,Kt=Ut*1.01,or=this.height/50,ir=new Float64Array(16);o.perspective(ir,this._fov,this.width/this.height,or,Kt),ir[8]=-ve.x*2/this.width,ir[9]=ve.y*2/this.height,o.scale(ir,ir,[1,-1,1]),o.translate(ir,ir,[0,0,-this.cameraToCenterDistance]),o.rotateX(ir,ir,this._pitch),o.rotateZ(ir,ir,this.angle),o.translate(ir,ir,[-it,-St,0]),this.mercatorMatrix=o.scale([],ir,[this.worldSize,this.worldSize,this.worldSize]),o.scale(ir,ir,[1,1,o.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ir,this.invProjMatrix=o.invert([],this.projMatrix);var Fr=this.width%2/2,Zr=this.height%2/2,Yr=Math.cos(this.angle),Vr=Math.sin(this.angle),Kr=it-Math.round(it)+Yr*Fr+Vr*Zr,fn=St-Math.round(St)+Yr*Zr+Vr*Fr,Dn=new Float64Array(ir);if(o.translate(Dn,Dn,[Kr>.5?Kr-1:Kr,fn>.5?fn-1:fn,0]),this.alignedProjMatrix=Dn,ir=o.create(),o.scale(ir,ir,[this.width/2,-this.height/2,1]),o.translate(ir,ir,[1,-1,0]),this.labelPlaneMatrix=ir,ir=o.create(),o.scale(ir,ir,[1,-1,1]),o.translate(ir,ir,[-1,-1,0]),o.scale(ir,ir,[2/this.width,2/this.height,1]),this.glCoordMatrix=ir,this.pixelMatrix=o.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),ir=o.invert(new Float64Array(16),this.pixelMatrix),!ir)throw new Error("failed to invert matrix");this.pixelMatrixInverse=ir,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Pn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Z=this.pointCoordinate(new o.Point(0,0)),ve=[Z.x*this.worldSize,Z.y*this.worldSize,0,1],ee=o.transformMat4(ve,ve,this.pixelMatrix);return ee[3]/this.cameraToCenterDistance},Pn.prototype.getCameraPoint=function(){var Z=this._pitch,ve=Math.tan(Z)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.Point(0,ve))},Pn.prototype.getCameraQueryGeometry=function(Z){var ve=this.getCameraPoint();if(Z.length===1)return[Z[0],ve];for(var ee=ve.x,de=ve.y,Fe=ve.x,je=ve.y,it=0,St=Z;it<St.length;it+=1){var Ut=St[it];ee=Math.min(ee,Ut.x),de=Math.min(de,Ut.y),Fe=Math.max(Fe,Ut.x),je=Math.max(je,Ut.y)}return[new o.Point(ee,de),new o.Point(Fe,de),new o.Point(Fe,je),new o.Point(ee,je),new o.Point(ee,de)]},Object.defineProperties(Pn.prototype,Kn);function Ra(ce,Z){var ve=!1,ee=null,de=function(){ee=null,ve&&(ce(),ee=setTimeout(de,Z),ve=!1)};return function(){return ve=!0,ee||de(),ee}}var Da=function(Z){this._hashName=Z&&encodeURIComponent(Z),o.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ra(this._updateHashUnthrottled.bind(this),30*1e3/100)};Da.prototype.addTo=function(Z){return this._map=Z,o.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Da.prototype.remove=function(){return o.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Da.prototype.getHashString=function(Z){var ve=this._map.getCenter(),ee=Math.round(this._map.getZoom()*100)/100,de=Math.ceil((ee*Math.LN2+Math.log(512/360/.5))/Math.LN10),Fe=Math.pow(10,de),je=Math.round(ve.lng*Fe)/Fe,it=Math.round(ve.lat*Fe)/Fe,St=this._map.getBearing(),Ut=this._map.getPitch(),Kt="";if(Z?Kt+="/"+je+"/"+it+"/"+ee:Kt+=ee+"/"+it+"/"+je,(St||Ut)&&(Kt+="/"+Math.round(St*10)/10),Ut&&(Kt+="/"+Math.round(Ut)),this._hashName){var or=this._hashName,ir=!1,Fr=o.window.location.hash.slice(1).split("&").map(function(Zr){var Yr=Zr.split("=")[0];return Yr===or?(ir=!0,Yr+"="+Kt):Zr}).filter(function(Zr){return Zr});return ir||Fr.push(or+"="+Kt),"#"+Fr.join("&")}return"#"+Kt},Da.prototype._getCurrentHash=function(){var Z=this,ve=o.window.location.hash.replace("#","");if(this._hashName){var ee;return ve.split("&").map(function(de){return de.split("=")}).forEach(function(de){de[0]===Z._hashName&&(ee=de)}),(ee&&ee[1]||"").split("/")}return ve.split("/")},Da.prototype._onHashChange=function(){var Z=this._getCurrentHash();if(Z.length>=3&&!Z.some(function(ee){return isNaN(ee)})){var ve=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Z[2],+Z[1]],zoom:+Z[0],bearing:ve,pitch:+(Z[4]||0)}),!0}return!1},Da.prototype._updateHashUnthrottled=function(){var Z=o.window.location.href.replace(/(#.+)?$/,this.getHashString());try{o.window.history.replaceState(o.window.history.state,null,Z)}catch{}};var Ia={linearity:.3,easing:o.bezier(0,0,.3,1)},za=o.extend({deceleration:2500,maxSpeed:1400},Ia),ja=o.extend({deceleration:20,maxSpeed:1400},Ia),hi=o.extend({deceleration:1e3,maxSpeed:360},Ia),Fi=o.extend({deceleration:1e3,maxSpeed:90},Ia),le=function(Z){this._map=Z,this.clear()};le.prototype.clear=function(){this._inertiaBuffer=[]},le.prototype.record=function(Z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.browser.now(),settings:Z})},le.prototype._drainInertiaBuffer=function(){for(var Z=this._inertiaBuffer,ve=o.browser.now(),ee=160;Z.length>0&&ve-Z[0].time>ee;)Z.shift()},le.prototype._onMoveEnd=function(Z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ve={zoom:0,bearing:0,pitch:0,pan:new o.Point(0,0),pinchAround:void 0,around:void 0},ee=0,de=this._inertiaBuffer;ee<de.length;ee+=1){var Fe=de[ee],je=Fe.settings;ve.zoom+=je.zoomDelta||0,ve.bearing+=je.bearingDelta||0,ve.pitch+=je.pitchDelta||0,je.panDelta&&ve.pan._add(je.panDelta),je.around&&(ve.around=je.around),je.pinchAround&&(ve.pinchAround=je.pinchAround)}var it=this._inertiaBuffer[this._inertiaBuffer.length-1],St=it.time-this._inertiaBuffer[0].time,Ut={};if(ve.pan.mag()){var Kt=ze(ve.pan.mag(),St,o.extend({},za,Z||{}));Ut.offset=ve.pan.mult(Kt.amount/ve.pan.mag()),Ut.center=this._map.transform.center,Ce(Ut,Kt)}if(ve.zoom){var or=ze(ve.zoom,St,ja);Ut.zoom=this._map.transform.zoom+or.amount,Ce(Ut,or)}if(ve.bearing){var ir=ze(ve.bearing,St,hi);Ut.bearing=this._map.transform.bearing+o.clamp(ir.amount,-179,179),Ce(Ut,ir)}if(ve.pitch){var Fr=ze(ve.pitch,St,Fi);Ut.pitch=this._map.transform.pitch+Fr.amount,Ce(Ut,Fr)}if(Ut.zoom||Ut.bearing){var Zr=ve.pinchAround===void 0?ve.around:ve.pinchAround;Ut.around=Zr?this._map.unproject(Zr):this._map.getCenter()}return this.clear(),o.extend(Ut,{noMoveStart:!0})}};function Ce(ce,Z){(!ce.duration||ce.duration<Z.duration)&&(ce.duration=Z.duration,ce.easing=Z.easing)}function ze(ce,Z,ve){var ee=ve.maxSpeed,de=ve.linearity,Fe=ve.deceleration,je=o.clamp(ce*de/(Z/1e3),-ee,ee),it=Math.abs(je)/(Fe*de);return{easing:ve.easing,duration:it*1e3,amount:je*(it/2)}}var Qe=function(ce){function Z(ee,de,Fe,je){je===void 0&&(je={});var it=M.mousePos(de.getCanvasContainer(),Fe),St=de.unproject(it);ce.call(this,ee,o.extend({point:it,lngLat:St,originalEvent:Fe},je)),this._defaultPrevented=!1,this.target=de}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var ve={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ve.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ve),Z}(o.Event),tt=function(ce){function Z(ee,de,Fe){var je=ee==="touchend"?Fe.changedTouches:Fe.touches,it=M.touchPos(de.getCanvasContainer(),je),St=it.map(function(or){return de.unproject(or)}),Ut=it.reduce(function(or,ir,Fr,Zr){return or.add(ir.div(Zr.length))},new o.Point(0,0)),Kt=de.unproject(Ut);ce.call(this,ee,{points:it,point:Ut,lngLats:St,lngLat:Kt,originalEvent:Fe}),this._defaultPrevented=!1}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var ve={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ve.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ve),Z}(o.Event),ot=function(ce){function Z(ee,de,Fe){ce.call(this,ee,{originalEvent:Fe}),this._defaultPrevented=!1}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var ve={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ve.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ve),Z}(o.Event),Et=function(Z,ve){this._map=Z,this._clickTolerance=ve.clickTolerance};Et.prototype.reset=function(){delete this._mousedownPos},Et.prototype.wheel=function(Z){return this._firePreventable(new ot(Z.type,this._map,Z))},Et.prototype.mousedown=function(Z,ve){return this._mousedownPos=ve,this._firePreventable(new Qe(Z.type,this._map,Z))},Et.prototype.mouseup=function(Z){this._map.fire(new Qe(Z.type,this._map,Z))},Et.prototype.click=function(Z,ve){this._mousedownPos&&this._mousedownPos.dist(ve)>=this._clickTolerance||this._map.fire(new Qe(Z.type,this._map,Z))},Et.prototype.dblclick=function(Z){return this._firePreventable(new Qe(Z.type,this._map,Z))},Et.prototype.mouseover=function(Z){this._map.fire(new Qe(Z.type,this._map,Z))},Et.prototype.mouseout=function(Z){this._map.fire(new Qe(Z.type,this._map,Z))},Et.prototype.touchstart=function(Z){return this._firePreventable(new tt(Z.type,this._map,Z))},Et.prototype.touchmove=function(Z){this._map.fire(new tt(Z.type,this._map,Z))},Et.prototype.touchend=function(Z){this._map.fire(new tt(Z.type,this._map,Z))},Et.prototype.touchcancel=function(Z){this._map.fire(new tt(Z.type,this._map,Z))},Et.prototype._firePreventable=function(Z){if(this._map.fire(Z),Z.defaultPrevented)return{}},Et.prototype.isEnabled=function(){return!0},Et.prototype.isActive=function(){return!1},Et.prototype.enable=function(){},Et.prototype.disable=function(){};var bt=function(Z){this._map=Z};bt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},bt.prototype.mousemove=function(Z){this._map.fire(new Qe(Z.type,this._map,Z))},bt.prototype.mousedown=function(){this._delayContextMenu=!0},bt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Qe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},bt.prototype.contextmenu=function(Z){this._delayContextMenu?this._contextMenuEvent=Z:this._map.fire(new Qe(Z.type,this._map,Z)),this._map.listens("contextmenu")&&Z.preventDefault()},bt.prototype.isEnabled=function(){return!0},bt.prototype.isActive=function(){return!1},bt.prototype.enable=function(){},bt.prototype.disable=function(){};var Ht=function(Z,ve){this._map=Z,this._el=Z.getCanvasContainer(),this._container=Z.getContainer(),this._clickTolerance=ve.clickTolerance||1};Ht.prototype.isEnabled=function(){return!!this._enabled},Ht.prototype.isActive=function(){return!!this._active},Ht.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ht.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ht.prototype.mousedown=function(Z,ve){this.isEnabled()&&Z.shiftKey&&Z.button===0&&(M.disableDrag(),this._startPos=this._lastPos=ve,this._active=!0)},Ht.prototype.mousemoveWindow=function(Z,ve){if(this._active){var ee=ve;if(!(this._lastPos.equals(ee)||!this._box&&ee.dist(this._startPos)<this._clickTolerance)){var de=this._startPos;this._lastPos=ee,this._box||(this._box=M.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Z));var Fe=Math.min(de.x,ee.x),je=Math.max(de.x,ee.x),it=Math.min(de.y,ee.y),St=Math.max(de.y,ee.y);M.setTransform(this._box,"translate("+Fe+"px,"+it+"px)"),this._box.style.width=je-Fe+"px",this._box.style.height=St-it+"px"}}},Ht.prototype.mouseupWindow=function(Z,ve){var ee=this;if(this._active&&Z.button===0){var de=this._startPos,Fe=ve;if(this.reset(),M.suppressClick(),de.x===Fe.x&&de.y===Fe.y)this._fireEvent("boxzoomcancel",Z);else return this._map.fire(new o.Event("boxzoomend",{originalEvent:Z})),{cameraAnimation:function(je){return je.fitScreenCoordinates(de,Fe,ee._map.getBearing(),{linear:!0})}}}},Ht.prototype.keydown=function(Z){this._active&&Z.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Z))},Ht.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos},Ht.prototype._fireEvent=function(Z,ve){return this._map.fire(new o.Event(Z,{originalEvent:ve}))};function Gt(ce,Z){for(var ve={},ee=0;ee<ce.length;ee++)ve[ce[ee].identifier]=Z[ee];return ve}function tr(ce){for(var Z=new o.Point(0,0),ve=0,ee=ce;ve<ee.length;ve+=1){var de=ee[ve];Z._add(de)}return Z.div(ce.length)}var Cr=500,Pr=500,Jr=30,nn=function(Z){this.reset(),this.numTouches=Z.numTouches};nn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},nn.prototype.touchstart=function(Z,ve,ee){(this.centroid||ee.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Z.timeStamp),ee.length===this.numTouches&&(this.centroid=tr(ve),this.touches=Gt(ee,ve)))},nn.prototype.touchmove=function(Z,ve,ee){if(!(this.aborted||!this.centroid)){var de=Gt(ee,ve);for(var Fe in this.touches){var je=this.touches[Fe],it=de[Fe];(!it||it.dist(je)>Jr)&&(this.aborted=!0)}}},nn.prototype.touchend=function(Z,ve,ee){if((!this.centroid||Z.timeStamp-this.startTime>Pr)&&(this.aborted=!0),ee.length===0){var de=!this.aborted&&this.centroid;if(this.reset(),de)return de}};var Dr=function(Z){this.singleTap=new nn(Z),this.numTaps=Z.numTaps,this.reset()};Dr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Dr.prototype.touchstart=function(Z,ve,ee){this.singleTap.touchstart(Z,ve,ee)},Dr.prototype.touchmove=function(Z,ve,ee){this.singleTap.touchmove(Z,ve,ee)},Dr.prototype.touchend=function(Z,ve,ee){var de=this.singleTap.touchend(Z,ve,ee);if(de){var Fe=Z.timeStamp-this.lastTime<Cr,je=!this.lastTap||this.lastTap.dist(de)<Jr;if((!Fe||!je)&&this.reset(),this.count++,this.lastTime=Z.timeStamp,this.lastTap=de,this.count===this.numTaps)return this.reset(),de}};var Br=function(){this._zoomIn=new Dr({numTouches:1,numTaps:2}),this._zoomOut=new Dr({numTouches:2,numTaps:1}),this.reset()};Br.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Br.prototype.touchstart=function(Z,ve,ee){this._zoomIn.touchstart(Z,ve,ee),this._zoomOut.touchstart(Z,ve,ee)},Br.prototype.touchmove=function(Z,ve,ee){this._zoomIn.touchmove(Z,ve,ee),this._zoomOut.touchmove(Z,ve,ee)},Br.prototype.touchend=function(Z,ve,ee){var de=this,Fe=this._zoomIn.touchend(Z,ve,ee),je=this._zoomOut.touchend(Z,ve,ee);if(Fe)return this._active=!0,Z.preventDefault(),setTimeout(function(){return de.reset()},0),{cameraAnimation:function(it){return it.easeTo({duration:300,zoom:it.getZoom()+1,around:it.unproject(Fe)},{originalEvent:Z})}};if(je)return this._active=!0,Z.preventDefault(),setTimeout(function(){return de.reset()},0),{cameraAnimation:function(it){return it.easeTo({duration:300,zoom:it.getZoom()-1,around:it.unproject(je)},{originalEvent:Z})}}},Br.prototype.touchcancel=function(){this.reset()},Br.prototype.enable=function(){this._enabled=!0},Br.prototype.disable=function(){this._enabled=!1,this.reset()},Br.prototype.isEnabled=function(){return this._enabled},Br.prototype.isActive=function(){return this._active};var jr=0,ln=2,cn={};cn[jr]=1,cn[ln]=2;function $r(ce,Z){var ve=cn[Z];return ce.buttons===void 0||(ce.buttons&ve)!==ve}var Nn=function(Z){this.reset(),this._clickTolerance=Z.clickTolerance||1};Nn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Nn.prototype._correctButton=function(Z,ve){return!1},Nn.prototype._move=function(Z,ve){return{}},Nn.prototype.mousedown=function(Z,ve){if(!this._lastPoint){var ee=M.mouseButton(Z);this._correctButton(Z,ee)&&(this._lastPoint=ve,this._eventButton=ee)}},Nn.prototype.mousemoveWindow=function(Z,ve){var ee=this._lastPoint;if(ee){if(Z.preventDefault(),$r(Z,this._eventButton)){this.reset();return}if(!(!this._moved&&ve.dist(ee)<this._clickTolerance))return this._moved=!0,this._lastPoint=ve,this._move(ee,ve)}},Nn.prototype.mouseupWindow=function(Z){if(this._lastPoint){var ve=M.mouseButton(Z);ve===this._eventButton&&(this._moved&&M.suppressClick(),this.reset())}},Nn.prototype.enable=function(){this._enabled=!0},Nn.prototype.disable=function(){this._enabled=!1,this.reset()},Nn.prototype.isEnabled=function(){return this._enabled},Nn.prototype.isActive=function(){return this._active};var aa=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.mousedown=function(ee,de){ce.prototype.mousedown.call(this,ee,de),this._lastPoint&&(this._active=!0)},Z.prototype._correctButton=function(ee,de){return de===jr&&!ee.ctrlKey},Z.prototype._move=function(ee,de){return{around:de,panDelta:de.sub(ee)}},Z}(Nn),ha=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(ee,de){return de===jr&&ee.ctrlKey||de===ln},Z.prototype._move=function(ee,de){var Fe=.8,je=(de.x-ee.x)*Fe;if(je)return this._active=!0,{bearingDelta:je}},Z.prototype.contextmenu=function(ee){ee.preventDefault()},Z}(Nn),ra=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(ee,de){return de===jr&&ee.ctrlKey||de===ln},Z.prototype._move=function(ee,de){var Fe=-.5,je=(de.y-ee.y)*Fe;if(je)return this._active=!0,{pitchDelta:je}},Z.prototype.contextmenu=function(ee){ee.preventDefault()},Z}(Nn),la=function(Z){this._minTouches=1,this._clickTolerance=Z.clickTolerance||1,this.reset()};la.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new o.Point(0,0)},la.prototype.touchstart=function(Z,ve,ee){return this._calculateTransform(Z,ve,ee)},la.prototype.touchmove=function(Z,ve,ee){if(!(!this._active||ee.length<this._minTouches))return Z.preventDefault(),this._calculateTransform(Z,ve,ee)},la.prototype.touchend=function(Z,ve,ee){this._calculateTransform(Z,ve,ee),this._active&&ee.length<this._minTouches&&this.reset()},la.prototype.touchcancel=function(){this.reset()},la.prototype._calculateTransform=function(Z,ve,ee){ee.length>0&&(this._active=!0);var de=Gt(ee,ve),Fe=new o.Point(0,0),je=new o.Point(0,0),it=0;for(var St in de){var Ut=de[St],Kt=this._touches[St];Kt&&(Fe._add(Ut),je._add(Ut.sub(Kt)),it++,de[St]=Ut)}if(this._touches=de,!(it<this._minTouches||!je.mag())){var or=je.div(it);if(this._sum._add(or),!(this._sum.mag()<this._clickTolerance)){var ir=Fe.div(it);return{around:ir,panDelta:or}}}},la.prototype.enable=function(){this._enabled=!0},la.prototype.disable=function(){this._enabled=!1,this.reset()},la.prototype.isEnabled=function(){return this._enabled},la.prototype.isActive=function(){return this._active};var va=function(){this.reset()};va.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},va.prototype._start=function(Z){},va.prototype._move=function(Z,ve,ee){return{}},va.prototype.touchstart=function(Z,ve,ee){this._firstTwoTouches||ee.length<2||(this._firstTwoTouches=[ee[0].identifier,ee[1].identifier],this._start([ve[0],ve[1]]))},va.prototype.touchmove=function(Z,ve,ee){if(this._firstTwoTouches){Z.preventDefault();var de=this._firstTwoTouches,Fe=de[0],je=de[1],it=Ba(ee,ve,Fe),St=Ba(ee,ve,je);if(!(!it||!St)){var Ut=this._aroundCenter?null:it.add(St).div(2);return this._move([it,St],Ut,Z)}}},va.prototype.touchend=function(Z,ve,ee){if(this._firstTwoTouches){var de=this._firstTwoTouches,Fe=de[0],je=de[1],it=Ba(ee,ve,Fe),St=Ba(ee,ve,je);it&&St||(this._active&&M.suppressClick(),this.reset())}},va.prototype.touchcancel=function(){this.reset()},va.prototype.enable=function(Z){this._enabled=!0,this._aroundCenter=!!Z&&Z.around==="center"},va.prototype.disable=function(){this._enabled=!1,this.reset()},va.prototype.isEnabled=function(){return this._enabled},va.prototype.isActive=function(){return this._active};function Ba(ce,Z,ve){for(var ee=0;ee<ce.length;ee++)if(ce[ee].identifier===ve)return Z[ee]}var Ea=.1;function Fa(ce,Z){return Math.log(ce/Z)/Math.LN2}var ni=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ce.prototype.reset.call(this),delete this._distance,delete this._startDistance},Z.prototype._start=function(ee){this._startDistance=this._distance=ee[0].dist(ee[1])},Z.prototype._move=function(ee,de){var Fe=this._distance;if(this._distance=ee[0].dist(ee[1]),!(!this._active&&Math.abs(Fa(this._distance,this._startDistance))<Ea))return this._active=!0,{zoomDelta:Fa(this._distance,Fe),pinchAround:de}},Z}(va),zi=25;function ui(ce,Z){return ce.angleWith(Z)*180/Math.PI}var qn=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ce.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Z.prototype._start=function(ee){this._startVector=this._vector=ee[0].sub(ee[1]),this._minDiameter=ee[0].dist(ee[1])},Z.prototype._move=function(ee,de){var Fe=this._vector;if(this._vector=ee[0].sub(ee[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ui(this._vector,Fe),pinchAround:de}},Z.prototype._isBelowThreshold=function(ee){this._minDiameter=Math.min(this._minDiameter,ee.mag());var de=Math.PI*this._minDiameter,Fe=zi/de*360,je=ui(ee,this._startVector);return Math.abs(je)<Fe},Z}(va);function Ua(ce){return Math.abs(ce.y)>Math.abs(ce.x)}var Ma=100,Xa=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){ce.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Z.prototype._start=function(ee){this._lastPoints=ee,Ua(ee[0].sub(ee[1]))&&(this._valid=!1)},Z.prototype._move=function(ee,de,Fe){var je=ee[0].sub(this._lastPoints[0]),it=ee[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(je,it,Fe.timeStamp),!!this._valid){this._lastPoints=ee,this._active=!0;var St=(je.y+it.y)/2,Ut=-.5;return{pitchDelta:St*Ut}}},Z.prototype.gestureBeginsVertically=function(ee,de,Fe){if(this._valid!==void 0)return this._valid;var je=2,it=ee.mag()>=je,St=de.mag()>=je;if(!(!it&&!St)){if(!it||!St)return this._firstMove===void 0&&(this._firstMove=Fe),Fe-this._firstMove<Ma?void 0:!1;var Ut=ee.y>0==de.y>0;return Ua(ee)&&Ua(de)&&Ut}},Z}(va),bi={panStep:100,bearingStep:15,pitchStep:10},ai=function(){var Z=bi;this._panStep=Z.panStep,this._bearingStep=Z.bearingStep,this._pitchStep=Z.pitchStep,this._rotationDisabled=!1};ai.prototype.reset=function(){this._active=!1},ai.prototype.keydown=function(Z){var ve=this;if(!(Z.altKey||Z.ctrlKey||Z.metaKey)){var ee=0,de=0,Fe=0,je=0,it=0;switch(Z.keyCode){case 61:case 107:case 171:case 187:ee=1;break;case 189:case 109:case 173:ee=-1;break;case 37:Z.shiftKey?de=-1:(Z.preventDefault(),je=-1);break;case 39:Z.shiftKey?de=1:(Z.preventDefault(),je=1);break;case 38:Z.shiftKey?Fe=1:(Z.preventDefault(),it=-1);break;case 40:Z.shiftKey?Fe=-1:(Z.preventDefault(),it=1);break;default:return}return this._rotationDisabled&&(de=0,Fe=0),{cameraAnimation:function(St){var Ut=St.getZoom();St.easeTo({duration:300,easeId:"keyboardHandler",easing:$i,zoom:ee?Math.round(Ut)+ee*(Z.shiftKey?2:1):Ut,bearing:St.getBearing()+de*ve._bearingStep,pitch:St.getPitch()+Fe*ve._pitchStep,offset:[-je*ve._panStep,-it*ve._panStep],center:St.getCenter()},{originalEvent:Z})}}}},ai.prototype.enable=function(){this._enabled=!0},ai.prototype.disable=function(){this._enabled=!1,this.reset()},ai.prototype.isEnabled=function(){return this._enabled},ai.prototype.isActive=function(){return this._active},ai.prototype.disableRotation=function(){this._rotationDisabled=!0},ai.prototype.enableRotation=function(){this._rotationDisabled=!1};function $i(ce){return ce*(2-ce)}var qi=4.000244140625,ao=1/100,wi=1/450,go=2,fa=function(Z,ve){this._map=Z,this._el=Z.getCanvasContainer(),this._handler=ve,this._delta=0,this._defaultZoomRate=ao,this._wheelZoomRate=wi,o.bindAll(["_onTimeout"],this)};fa.prototype.setZoomRate=function(Z){this._defaultZoomRate=Z},fa.prototype.setWheelZoomRate=function(Z){this._wheelZoomRate=Z},fa.prototype.isEnabled=function(){return!!this._enabled},fa.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},fa.prototype.isZooming=function(){return!!this._zooming},fa.prototype.enable=function(Z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Z&&Z.around==="center")},fa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},fa.prototype.wheel=function(Z){if(this.isEnabled()){var ve=Z.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE?Z.deltaY*40:Z.deltaY,ee=o.browser.now(),de=ee-(this._lastWheelEventTime||0);this._lastWheelEventTime=ee,ve!==0&&ve%qi===0?this._type="wheel":ve!==0&&Math.abs(ve)<4?this._type="trackpad":de>400?(this._type=null,this._lastValue=ve,this._timeout=setTimeout(this._onTimeout,40,Z)):this._type||(this._type=Math.abs(de*ve)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ve+=this._lastValue)),Z.shiftKey&&ve&&(ve=ve/4),this._type&&(this._lastWheelEvent=Z,this._delta-=ve,this._active||this._start(Z)),Z.preventDefault()}},fa.prototype._onTimeout=function(Z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Z)},fa.prototype._start=function(Z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ve=M.mousePos(this._el,Z);this._around=o.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ve)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},fa.prototype.renderFrame=function(){var Z=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ve=this._map.transform;if(this._delta!==0){var ee=this._type==="wheel"&&Math.abs(this._delta)>qi?this._wheelZoomRate:this._defaultZoomRate,de=go/(1+Math.exp(-Math.abs(this._delta*ee)));this._delta<0&&de!==0&&(de=1/de);var Fe=typeof this._targetZoom=="number"?ve.zoomScale(this._targetZoom):ve.scale;this._targetZoom=Math.min(ve.maxZoom,Math.max(ve.minZoom,ve.scaleZoom(Fe*de))),this._type==="wheel"&&(this._startZoom=ve.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var je=typeof this._targetZoom=="number"?this._targetZoom:ve.zoom,it=this._startZoom,St=this._easing,Ut=!1,Kt;if(this._type==="wheel"&&it&&St){var or=Math.min((o.browser.now()-this._lastWheelEventTime)/200,1),ir=St(or);Kt=o.number(it,je,ir),or<1?this._frameId||(this._frameId=!0):Ut=!0}else Kt=je,Ut=!0;return this._active=!0,Ut&&(this._active=!1,this._finishTimeout=setTimeout(function(){Z._zooming=!1,Z._handler._triggerRenderFrame(),delete Z._targetZoom,delete Z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ut,zoomDelta:Kt-ve.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},fa.prototype._smoothOutEasing=function(Z){var ve=o.ease;if(this._prevEase){var ee=this._prevEase,de=(o.browser.now()-ee.start)/ee.duration,Fe=ee.easing(de+.01)-ee.easing(de),je=.27/Math.sqrt(Fe*Fe+1e-4)*.01,it=Math.sqrt(.27*.27-je*je);ve=o.bezier(je,it,.25,1)}return this._prevEase={start:o.browser.now(),duration:Z,easing:ve},ve},fa.prototype.reset=function(){this._active=!1};var La=function(Z,ve){this._clickZoom=Z,this._tapZoom=ve};La.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},La.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},La.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},La.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Io=function(){this.reset()};Io.prototype.reset=function(){this._active=!1},Io.prototype.dblclick=function(Z,ve){return Z.preventDefault(),{cameraAnimation:function(ee){ee.easeTo({duration:300,zoom:ee.getZoom()+(Z.shiftKey?-1:1),around:ee.unproject(ve)},{originalEvent:Z})}}},Io.prototype.enable=function(){this._enabled=!0},Io.prototype.disable=function(){this._enabled=!1,this.reset()},Io.prototype.isEnabled=function(){return this._enabled},Io.prototype.isActive=function(){return this._active};var Bo=function(){this._tap=new Dr({numTouches:1,numTaps:1}),this.reset()};Bo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Bo.prototype.touchstart=function(Z,ve,ee){this._swipePoint||(this._tapTime&&Z.timeStamp-this._tapTime>Cr&&this.reset(),this._tapTime?ee.length>0&&(this._swipePoint=ve[0],this._swipeTouch=ee[0].identifier):this._tap.touchstart(Z,ve,ee))},Bo.prototype.touchmove=function(Z,ve,ee){if(!this._tapTime)this._tap.touchmove(Z,ve,ee);else if(this._swipePoint){if(ee[0].identifier!==this._swipeTouch)return;var de=ve[0],Fe=de.y-this._swipePoint.y;return this._swipePoint=de,Z.preventDefault(),this._active=!0,{zoomDelta:Fe/128}}},Bo.prototype.touchend=function(Z,ve,ee){if(this._tapTime)this._swipePoint&&ee.length===0&&this.reset();else{var de=this._tap.touchend(Z,ve,ee);de&&(this._tapTime=Z.timeStamp)}},Bo.prototype.touchcancel=function(){this.reset()},Bo.prototype.enable=function(){this._enabled=!0},Bo.prototype.disable=function(){this._enabled=!1,this.reset()},Bo.prototype.isEnabled=function(){return this._enabled},Bo.prototype.isActive=function(){return this._active};var io=function(Z,ve,ee){this._el=Z,this._mousePan=ve,this._touchPan=ee};io.prototype.enable=function(Z){this._inertiaOptions=Z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},io.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},io.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},io.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var fi=function(Z,ve,ee){this._pitchWithRotate=Z.pitchWithRotate,this._mouseRotate=ve,this._mousePitch=ee};fi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},fi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},fi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},fi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Wi=function(Z,ve,ee,de){this._el=Z,this._touchZoom=ve,this._touchRotate=ee,this._tapDragZoom=de,this._rotationDisabled=!1,this._enabled=!0};Wi.prototype.enable=function(Z){this._touchZoom.enable(Z),this._rotationDisabled||this._touchRotate.enable(Z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Wi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Wi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Wi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Wi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Wi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Bi=function(ce){return ce.zoom||ce.drag||ce.pitch||ce.rotate},ps=function(ce){function Z(){ce.apply(this,arguments)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z}(o.Event);function Is(ce){return ce.panDelta&&ce.panDelta.mag()||ce.zoomDelta||ce.bearingDelta||ce.pitchDelta}var Ci=function(Z,ve){this._map=Z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new le(Z),this._bearingSnap=ve.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ve),o.bindAll(["handleEvent","handleWindowEvent"],this);var ee=this._el;this._listeners=[[ee,"touchstart",{passive:!0}],[ee,"touchmove",{passive:!1}],[ee,"touchend",void 0],[ee,"touchcancel",void 0],[ee,"mousedown",void 0],[ee,"mousemove",void 0],[ee,"mouseup",void 0],[o.window.document,"mousemove",{capture:!0}],[o.window.document,"mouseup",void 0],[ee,"mouseover",void 0],[ee,"mouseout",void 0],[ee,"dblclick",void 0],[ee,"click",void 0],[ee,"keydown",{capture:!1}],[ee,"keyup",void 0],[ee,"wheel",{passive:!1}],[ee,"contextmenu",void 0],[o.window,"blur",void 0]];for(var de=0,Fe=this._listeners;de<Fe.length;de+=1){var je=Fe[de],it=je[0],St=je[1],Ut=je[2];M.addEventListener(it,St,it===o.window.document?this.handleWindowEvent:this.handleEvent,Ut)}};Ci.prototype.destroy=function(){for(var Z=0,ve=this._listeners;Z<ve.length;Z+=1){var ee=ve[Z],de=ee[0],Fe=ee[1],je=ee[2];M.removeEventListener(de,Fe,de===o.window.document?this.handleWindowEvent:this.handleEvent,je)}},Ci.prototype._addDefaultHandlers=function(Z){var ve=this._map,ee=ve.getCanvasContainer();this._add("mapEvent",new Et(ve,Z));var de=ve.boxZoom=new Ht(ve,Z);this._add("boxZoom",de);var Fe=new Br,je=new Io;ve.doubleClickZoom=new La(je,Fe),this._add("tapZoom",Fe),this._add("clickZoom",je);var it=new Bo;this._add("tapDragZoom",it);var St=ve.touchPitch=new Xa;this._add("touchPitch",St);var Ut=new ha(Z),Kt=new ra(Z);ve.dragRotate=new fi(Z,Ut,Kt),this._add("mouseRotate",Ut,["mousePitch"]),this._add("mousePitch",Kt,["mouseRotate"]);var or=new aa(Z),ir=new la(Z);ve.dragPan=new io(ee,or,ir),this._add("mousePan",or),this._add("touchPan",ir,["touchZoom","touchRotate"]);var Fr=new qn,Zr=new ni;ve.touchZoomRotate=new Wi(ee,Zr,Fr,it),this._add("touchRotate",Fr,["touchPan","touchZoom"]),this._add("touchZoom",Zr,["touchPan","touchRotate"]);var Yr=ve.scrollZoom=new fa(ve,this);this._add("scrollZoom",Yr,["mousePan"]);var Vr=ve.keyboard=new ai;this._add("keyboard",Vr),this._add("blockableMapEvent",new bt(ve));for(var Kr=0,fn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Kr<fn.length;Kr+=1){var Dn=fn[Kr];Z.interactive&&Z[Dn]&&ve[Dn].enable(Z[Dn])}},Ci.prototype._add=function(Z,ve,ee){this._handlers.push({handlerName:Z,handler:ve,allowed:ee}),this._handlersById[Z]=ve},Ci.prototype.stop=function(Z){if(!this._updatingCamera){for(var ve=0,ee=this._handlers;ve<ee.length;ve+=1){var de=ee[ve],Fe=de.handler;Fe.reset()}this._inertia.clear(),this._fireEvents({},{},Z),this._changes=[]}},Ci.prototype.isActive=function(){for(var Z=0,ve=this._handlers;Z<ve.length;Z+=1){var ee=ve[Z],de=ee.handler;if(de.isActive())return!0}return!1},Ci.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Ci.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Ci.prototype.isMoving=function(){return!!Bi(this._eventsInProgress)||this.isZooming()},Ci.prototype._blockedByActive=function(Z,ve,ee){for(var de in Z)if(de!==ee&&(!ve||ve.indexOf(de)<0))return!0;return!1},Ci.prototype.handleWindowEvent=function(Z){this.handleEvent(Z,Z.type+"Window")},Ci.prototype._getMapTouches=function(Z){for(var ve=[],ee=0,de=Z;ee<de.length;ee+=1){var Fe=de[ee],je=Fe.target;this._el.contains(je)&&ve.push(Fe)}return ve},Ci.prototype.handleEvent=function(Z,ve){if(Z.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var ee=Z.type==="renderFrame"?void 0:Z,de={needsRenderFrame:!1},Fe={},je={},it=Z.touches?this._getMapTouches(Z.touches):void 0,St=it?M.touchPos(this._el,it):M.mousePos(this._el,Z),Ut=0,Kt=this._handlers;Ut<Kt.length;Ut+=1){var or=Kt[Ut],ir=or.handlerName,Fr=or.handler,Zr=or.allowed;if(Fr.isEnabled()){var Yr=void 0;this._blockedByActive(je,Zr,ir)?Fr.reset():Fr[ve||Z.type]&&(Yr=Fr[ve||Z.type](Z,St,it),this.mergeHandlerResult(de,Fe,Yr,ir,ee),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||Fr.isActive())&&(je[ir]=Fr)}}var Vr={};for(var Kr in this._previousActiveHandlers)je[Kr]||(Vr[Kr]=ee);this._previousActiveHandlers=je,(Object.keys(Vr).length||Is(de))&&(this._changes.push([de,Fe,Vr]),this._triggerRenderFrame()),(Object.keys(je).length||Is(de))&&this._map._stop(!0),this._updatingCamera=!1;var fn=de.cameraAnimation;fn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],fn(this._map))},Ci.prototype.mergeHandlerResult=function(Z,ve,ee,de,Fe){if(ee){o.extend(Z,ee);var je={handlerName:de,originalEvent:ee.originalEvent||Fe};ee.zoomDelta!==void 0&&(ve.zoom=je),ee.panDelta!==void 0&&(ve.drag=je),ee.pitchDelta!==void 0&&(ve.pitch=je),ee.bearingDelta!==void 0&&(ve.rotate=je)}},Ci.prototype._applyChanges=function(){for(var Z={},ve={},ee={},de=0,Fe=this._changes;de<Fe.length;de+=1){var je=Fe[de],it=je[0],St=je[1],Ut=je[2];it.panDelta&&(Z.panDelta=(Z.panDelta||new o.Point(0,0))._add(it.panDelta)),it.zoomDelta&&(Z.zoomDelta=(Z.zoomDelta||0)+it.zoomDelta),it.bearingDelta&&(Z.bearingDelta=(Z.bearingDelta||0)+it.bearingDelta),it.pitchDelta&&(Z.pitchDelta=(Z.pitchDelta||0)+it.pitchDelta),it.around!==void 0&&(Z.around=it.around),it.pinchAround!==void 0&&(Z.pinchAround=it.pinchAround),it.noInertia&&(Z.noInertia=it.noInertia),o.extend(ve,St),o.extend(ee,Ut)}this._updateMapTransform(Z,ve,ee),this._changes=[]},Ci.prototype._updateMapTransform=function(Z,ve,ee){var de=this._map,Fe=de.transform;if(!Is(Z))return this._fireEvents(ve,ee,!0);var je=Z.panDelta,it=Z.zoomDelta,St=Z.bearingDelta,Ut=Z.pitchDelta,Kt=Z.around,or=Z.pinchAround;or!==void 0&&(Kt=or),de._stop(!0),Kt=Kt||de.transform.centerPoint;var ir=Fe.pointLocation(je?Kt.sub(je):Kt);St&&(Fe.bearing+=St),Ut&&(Fe.pitch+=Ut),it&&(Fe.zoom+=it),Fe.setLocationAtPoint(ir,Kt),this._map._update(),Z.noInertia||this._inertia.record(Z),this._fireEvents(ve,ee,!0)},Ci.prototype._fireEvents=function(Z,ve,ee){var de=this,Fe=Bi(this._eventsInProgress),je=Bi(Z),it={};for(var St in Z){var Ut=Z[St],Kt=Ut.originalEvent;this._eventsInProgress[St]||(it[St+"start"]=Kt),this._eventsInProgress[St]=Z[St]}!Fe&&je&&this._fireEvent("movestart",je.originalEvent);for(var or in it)this._fireEvent(or,it[or]);je&&this._fireEvent("move",je.originalEvent);for(var ir in Z){var Fr=Z[ir],Zr=Fr.originalEvent;this._fireEvent(ir,Zr)}var Yr={},Vr;for(var Kr in this._eventsInProgress){var fn=this._eventsInProgress[Kr],Dn=fn.handlerName,zn=fn.originalEvent;this._handlersById[Dn].isActive()||(delete this._eventsInProgress[Kr],Vr=ve[Dn]||zn,Yr[Kr+"end"]=Vr)}for(var Yn in Yr)this._fireEvent(Yn,Yr[Yn]);var Xn=Bi(this._eventsInProgress);if(ee&&(Fe||je)&&!Xn){this._updatingCamera=!0;var Vn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Jn=function(ia){return ia!==0&&-de._bearingSnap<ia&&ia<de._bearingSnap};Vn?(Jn(Vn.bearing||this._map.getBearing())&&(Vn.bearing=0),this._map.easeTo(Vn,{originalEvent:Vr})):(this._map.fire(new o.Event("moveend",{originalEvent:Vr})),Jn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Ci.prototype._fireEvent=function(Z,ve){this._map.fire(new o.Event(Z,ve?{originalEvent:ve}:{}))},Ci.prototype._requestFrame=function(){var Z=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(ve){delete Z._frameId,Z.handleEvent(new ps("renderFrame",{timeStamp:ve})),Z._applyChanges()})},Ci.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Wl=function(ce){function Z(ve,ee){ce.call(this),this._moving=!1,this._zooming=!1,this.transform=ve,this._bearingSnap=ee.bearingSnap,o.bindAll(["_renderFrameCallback"],this)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.getCenter=function(){return new o.LngLat(this.transform.center.lng,this.transform.center.lat)},Z.prototype.setCenter=function(ee,de){return this.jumpTo({center:ee},de)},Z.prototype.panBy=function(ee,de,Fe){return ee=o.Point.convert(ee).mult(-1),this.panTo(this.transform.center,o.extend({offset:ee},de),Fe)},Z.prototype.panTo=function(ee,de,Fe){return this.easeTo(o.extend({center:ee},de),Fe)},Z.prototype.getZoom=function(){return this.transform.zoom},Z.prototype.setZoom=function(ee,de){return this.jumpTo({zoom:ee},de),this},Z.prototype.zoomTo=function(ee,de,Fe){return this.easeTo(o.extend({zoom:ee},de),Fe)},Z.prototype.zoomIn=function(ee,de){return this.zoomTo(this.getZoom()+1,ee,de),this},Z.prototype.zoomOut=function(ee,de){return this.zoomTo(this.getZoom()-1,ee,de),this},Z.prototype.getBearing=function(){return this.transform.bearing},Z.prototype.setBearing=function(ee,de){return this.jumpTo({bearing:ee},de),this},Z.prototype.getPadding=function(){return this.transform.padding},Z.prototype.setPadding=function(ee,de){return this.jumpTo({padding:ee},de),this},Z.prototype.rotateTo=function(ee,de,Fe){return this.easeTo(o.extend({bearing:ee},de),Fe)},Z.prototype.resetNorth=function(ee,de){return this.rotateTo(0,o.extend({duration:1e3},ee),de),this},Z.prototype.resetNorthPitch=function(ee,de){return this.easeTo(o.extend({bearing:0,pitch:0,duration:1e3},ee),de),this},Z.prototype.snapToNorth=function(ee,de){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ee,de):this},Z.prototype.getPitch=function(){return this.transform.pitch},Z.prototype.setPitch=function(ee,de){return this.jumpTo({pitch:ee},de),this},Z.prototype.cameraForBounds=function(ee,de){ee=o.LngLatBounds.convert(ee);var Fe=de&&de.bearing||0;return this._cameraForBoxAndBearing(ee.getNorthWest(),ee.getSouthEast(),Fe,de)},Z.prototype._cameraForBoxAndBearing=function(ee,de,Fe,je){var it={top:0,bottom:0,right:0,left:0};if(je=o.extend({padding:it,offset:[0,0],maxZoom:this.transform.maxZoom},je),typeof je.padding=="number"){var St=je.padding;je.padding={top:St,bottom:St,right:St,left:St}}je.padding=o.extend(it,je.padding);var Ut=this.transform,Kt=Ut.padding,or=Ut.project(o.LngLat.convert(ee)),ir=Ut.project(o.LngLat.convert(de)),Fr=or.rotate(-Fe*Math.PI/180),Zr=ir.rotate(-Fe*Math.PI/180),Yr=new o.Point(Math.max(Fr.x,Zr.x),Math.max(Fr.y,Zr.y)),Vr=new o.Point(Math.min(Fr.x,Zr.x),Math.min(Fr.y,Zr.y)),Kr=Yr.sub(Vr),fn=(Ut.width-(Kt.left+Kt.right+je.padding.left+je.padding.right))/Kr.x,Dn=(Ut.height-(Kt.top+Kt.bottom+je.padding.top+je.padding.bottom))/Kr.y;if(Dn<0||fn<0){o.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var zn=Math.min(Ut.scaleZoom(Ut.scale*Math.min(fn,Dn)),je.maxZoom),Yn=typeof je.offset.x=="number"?new o.Point(je.offset.x,je.offset.y):o.Point.convert(je.offset),Xn=(je.padding.left-je.padding.right)/2,Vn=(je.padding.top-je.padding.bottom)/2,Jn=new o.Point(Xn,Vn),ia=Jn.rotate(Fe*Math.PI/180),ca=Yn.add(ia),xa=ca.mult(Ut.scale/Ut.zoomScale(zn)),da=Ut.unproject(or.add(ir).div(2).sub(xa));return{center:da,zoom:zn,bearing:Fe}},Z.prototype.fitBounds=function(ee,de,Fe){return this._fitInternal(this.cameraForBounds(ee,de),de,Fe)},Z.prototype.fitScreenCoordinates=function(ee,de,Fe,je,it){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.Point.convert(ee)),this.transform.pointLocation(o.Point.convert(de)),Fe,je),je,it)},Z.prototype._fitInternal=function(ee,de,Fe){return ee?(de=o.extend(ee,de),delete de.padding,de.linear?this.easeTo(de,Fe):this.flyTo(de,Fe)):this},Z.prototype.jumpTo=function(ee,de){this.stop();var Fe=this.transform,je=!1,it=!1,St=!1;return"zoom"in ee&&Fe.zoom!==+ee.zoom&&(je=!0,Fe.zoom=+ee.zoom),ee.center!==void 0&&(Fe.center=o.LngLat.convert(ee.center)),"bearing"in ee&&Fe.bearing!==+ee.bearing&&(it=!0,Fe.bearing=+ee.bearing),"pitch"in ee&&Fe.pitch!==+ee.pitch&&(St=!0,Fe.pitch=+ee.pitch),ee.padding!=null&&!Fe.isPaddingEqual(ee.padding)&&(Fe.padding=ee.padding),this.fire(new o.Event("movestart",de)).fire(new o.Event("move",de)),je&&this.fire(new o.Event("zoomstart",de)).fire(new o.Event("zoom",de)).fire(new o.Event("zoomend",de)),it&&this.fire(new o.Event("rotatestart",de)).fire(new o.Event("rotate",de)).fire(new o.Event("rotateend",de)),St&&this.fire(new o.Event("pitchstart",de)).fire(new o.Event("pitch",de)).fire(new o.Event("pitchend",de)),this.fire(new o.Event("moveend",de))},Z.prototype.easeTo=function(ee,de){var Fe=this;this._stop(!1,ee.easeId),ee=o.extend({offset:[0,0],duration:500,easing:o.ease},ee),(ee.animate===!1||!ee.essential&&o.browser.prefersReducedMotion)&&(ee.duration=0);var je=this.transform,it=this.getZoom(),St=this.getBearing(),Ut=this.getPitch(),Kt=this.getPadding(),or="zoom"in ee?+ee.zoom:it,ir="bearing"in ee?this._normalizeBearing(ee.bearing,St):St,Fr="pitch"in ee?+ee.pitch:Ut,Zr="padding"in ee?ee.padding:je.padding,Yr=o.Point.convert(ee.offset),Vr=je.centerPoint.add(Yr),Kr=je.pointLocation(Vr),fn=o.LngLat.convert(ee.center||Kr);this._normalizeCenter(fn);var Dn=je.project(Kr),zn=je.project(fn).sub(Dn),Yn=je.zoomScale(or-it),Xn,Vn;ee.around&&(Xn=o.LngLat.convert(ee.around),Vn=je.locationPoint(Xn));var Jn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||or!==it,this._rotating=this._rotating||St!==ir,this._pitching=this._pitching||Fr!==Ut,this._padding=!je.isPaddingEqual(Zr),this._easeId=ee.easeId,this._prepareEase(de,ee.noMoveStart,Jn),this._ease(function(ia){if(Fe._zooming&&(je.zoom=o.number(it,or,ia)),Fe._rotating&&(je.bearing=o.number(St,ir,ia)),Fe._pitching&&(je.pitch=o.number(Ut,Fr,ia)),Fe._padding&&(je.interpolatePadding(Kt,Zr,ia),Vr=je.centerPoint.add(Yr)),Xn)je.setLocationAtPoint(Xn,Vn);else{var ca=je.zoomScale(je.zoom-it),xa=or>it?Math.min(2,Yn):Math.max(.5,Yn),da=Math.pow(xa,1-ia),_a=je.unproject(Dn.add(zn.mult(ia*da)).mult(ca));je.setLocationAtPoint(je.renderWorldCopies?_a.wrap():_a,Vr)}Fe._fireMoveEvents(de)},function(ia){Fe._afterEase(de,ia)},ee),this},Z.prototype._prepareEase=function(ee,de,Fe){Fe===void 0&&(Fe={}),this._moving=!0,!de&&!Fe.moving&&this.fire(new o.Event("movestart",ee)),this._zooming&&!Fe.zooming&&this.fire(new o.Event("zoomstart",ee)),this._rotating&&!Fe.rotating&&this.fire(new o.Event("rotatestart",ee)),this._pitching&&!Fe.pitching&&this.fire(new o.Event("pitchstart",ee))},Z.prototype._fireMoveEvents=function(ee){this.fire(new o.Event("move",ee)),this._zooming&&this.fire(new o.Event("zoom",ee)),this._rotating&&this.fire(new o.Event("rotate",ee)),this._pitching&&this.fire(new o.Event("pitch",ee))},Z.prototype._afterEase=function(ee,de){if(!(this._easeId&&de&&this._easeId===de)){delete this._easeId;var Fe=this._zooming,je=this._rotating,it=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Fe&&this.fire(new o.Event("zoomend",ee)),je&&this.fire(new o.Event("rotateend",ee)),it&&this.fire(new o.Event("pitchend",ee)),this.fire(new o.Event("moveend",ee))}},Z.prototype.flyTo=function(ee,de){var Fe=this;if(!ee.essential&&o.browser.prefersReducedMotion){var je=o.pick(ee,["center","zoom","bearing","pitch","around"]);return this.jumpTo(je,de)}this.stop(),ee=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},ee);var it=this.transform,St=this.getZoom(),Ut=this.getBearing(),Kt=this.getPitch(),or=this.getPadding(),ir="zoom"in ee?o.clamp(+ee.zoom,it.minZoom,it.maxZoom):St,Fr="bearing"in ee?this._normalizeBearing(ee.bearing,Ut):Ut,Zr="pitch"in ee?+ee.pitch:Kt,Yr="padding"in ee?ee.padding:it.padding,Vr=it.zoomScale(ir-St),Kr=o.Point.convert(ee.offset),fn=it.centerPoint.add(Kr),Dn=it.pointLocation(fn),zn=o.LngLat.convert(ee.center||Dn);this._normalizeCenter(zn);var Yn=it.project(Dn),Xn=it.project(zn).sub(Yn),Vn=ee.curve,Jn=Math.max(it.width,it.height),ia=Jn/Vr,ca=Xn.mag();if("minZoom"in ee){var xa=o.clamp(Math.min(ee.minZoom,St,ir),it.minZoom,it.maxZoom),da=Jn/it.zoomScale(xa-St);Vn=Math.sqrt(da/ca*2)}var _a=Vn*Vn;function Qa(Va){var $a=(ia*ia-Jn*Jn+(Va?-1:1)*_a*_a*ca*ca)/(2*(Va?ia:Jn)*_a*ca);return Math.log(Math.sqrt($a*$a+1)-$a)}function Ya(Va){return(Math.exp(Va)-Math.exp(-Va))/2}function Sa(Va){return(Math.exp(Va)+Math.exp(-Va))/2}function Za(Va){return Ya(Va)/Sa(Va)}var Ha=Qa(0),ii=function(Va){return Sa(Ha)/Sa(Ha+Vn*Va)},ei=function(Va){return Jn*((Sa(Ha)*Za(Ha+Vn*Va)-Ya(Ha))/_a)/ca},Ai=(Qa(1)-Ha)/Vn;if(Math.abs(ca)<1e-6||!isFinite(Ai)){if(Math.abs(Jn-ia)<1e-6)return this.easeTo(ee,de);var Ja=ia<Jn?-1:1;Ai=Math.abs(Math.log(ia/Jn))/Vn,ei=function(){return 0},ii=function(Va){return Math.exp(Ja*Vn*Va)}}if("duration"in ee)ee.duration=+ee.duration;else{var yi="screenSpeed"in ee?+ee.screenSpeed/Vn:+ee.speed;ee.duration=1e3*Ai/yi}return ee.maxDuration&&ee.duration>ee.maxDuration&&(ee.duration=0),this._zooming=!0,this._rotating=Ut!==Fr,this._pitching=Zr!==Kt,this._padding=!it.isPaddingEqual(Yr),this._prepareEase(de,!1),this._ease(function(Va){var $a=Va*Ai,Ni=1/ii($a);it.zoom=Va===1?ir:St+it.scaleZoom(Ni),Fe._rotating&&(it.bearing=o.number(Ut,Fr,Va)),Fe._pitching&&(it.pitch=o.number(Kt,Zr,Va)),Fe._padding&&(it.interpolatePadding(or,Yr,Va),fn=it.centerPoint.add(Kr));var yo=Va===1?zn:it.unproject(Yn.add(Xn.mult(ei($a))).mult(Ni));it.setLocationAtPoint(it.renderWorldCopies?yo.wrap():yo,fn),Fe._fireMoveEvents(de)},function(){return Fe._afterEase(de)},ee),this},Z.prototype.isEasing=function(){return!!this._easeFrameId},Z.prototype.stop=function(){return this._stop()},Z.prototype._stop=function(ee,de){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Fe=this._onEaseEnd;delete this._onEaseEnd,Fe.call(this,de)}if(!ee){var je=this.handlers;je&&je.stop(!1)}return this},Z.prototype._ease=function(ee,de,Fe){Fe.animate===!1||Fe.duration===0?(ee(1),de()):(this._easeStart=o.browser.now(),this._easeOptions=Fe,this._onEaseFrame=ee,this._onEaseEnd=de,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Z.prototype._renderFrameCallback=function(){var ee=Math.min((o.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ee)),ee<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Z.prototype._normalizeBearing=function(ee,de){ee=o.wrap(ee,-180,180);var Fe=Math.abs(ee-de);return Math.abs(ee-360-de)<Fe&&(ee-=360),Math.abs(ee+360-de)<Fe&&(ee+=360),ee},Z.prototype._normalizeCenter=function(ee){var de=this.transform;if(!(!de.renderWorldCopies||de.lngRange)){var Fe=ee.lng-de.center.lng;ee.lng+=Fe>180?-360:Fe<-180?360:0}},Z}(o.Evented),Ka=function(Z){Z===void 0&&(Z={}),this.options=Z,o.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ka.prototype.getDefaultPosition=function(){return"bottom-right"},Ka.prototype.onAdd=function(Z){var ve=this.options&&this.options.compact;return this._map=Z,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=M.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=M.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ve&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ve===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ka.prototype.onRemove=function(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ka.prototype._setElementTitle=function(Z,ve){var ee=this._map._getUIString("AttributionControl."+ve);Z.title=ee,Z.setAttribute("aria-label",ee)},Ka.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ka.prototype._updateEditLink=function(){var Z=this._editLink;Z||(Z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ve=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.config.ACCESS_TOKEN}];if(Z){var ee=ve.reduce(function(de,Fe,je){return Fe.value&&(de+=Fe.key+"="+Fe.value+(je<ve.length-1?"&":"")),de},"?");Z.href=o.config.FEEDBACK_URL+"/"+ee+(this._map._hash?this._map._hash.getHashString(!0):""),Z.rel="noopener nofollow",this._setElementTitle(Z,"MapFeedback")}},Ka.prototype._updateData=function(Z){Z&&(Z.sourceDataType==="metadata"||Z.sourceDataType==="visibility"||Z.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Ka.prototype._updateAttributions=function(){if(this._map.style){var Z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Z=Z.concat(this.options.customAttribution.map(function(St){return typeof St!="string"?"":St})):typeof this.options.customAttribution=="string"&&Z.push(this.options.customAttribution)),this._map.style.stylesheet){var ve=this._map.style.stylesheet;this.styleOwner=ve.owner,this.styleId=ve.id}var ee=this._map.style.sourceCaches;for(var de in ee){var Fe=ee[de];if(Fe.used){var je=Fe.getSource();je.attribution&&Z.indexOf(je.attribution)<0&&Z.push(je.attribution)}}Z.sort(function(St,Ut){return St.length-Ut.length}),Z=Z.filter(function(St,Ut){for(var Kt=Ut+1;Kt<Z.length;Kt++)if(Z[Kt].indexOf(St)>=0)return!1;return!0});var it=Z.join(" | ");it!==this._attribHTML&&(this._attribHTML=it,Z.length?(this._innerContainer.innerHTML=it,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ka.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Li=function(){o.bindAll(["_updateLogo"],this),o.bindAll(["_updateCompact"],this)};Li.prototype.onAdd=function(Z){this._map=Z,this._container=M.create("div","mapboxgl-ctrl");var ve=M.create("a","mapboxgl-ctrl-logo");return ve.target="_blank",ve.rel="noopener nofollow",ve.href="https://www.mapbox.com/",ve.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ve.setAttribute("rel","noopener nofollow"),this._container.appendChild(ve),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Li.prototype.onRemove=function(){M.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Li.prototype.getDefaultPosition=function(){return"bottom-left"},Li.prototype._updateLogo=function(Z){(!Z||Z.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Li.prototype._logoRequired=function(){if(this._map.style){var Z=this._map.style.sourceCaches;for(var ve in Z){var ee=Z[ve].getSource();if(ee.mapbox_logo)return!0}return!1}},Li.prototype._updateCompact=function(){var Z=this._container.children;if(Z.length){var ve=Z[0];this._map.getCanvasContainer().offsetWidth<250?ve.classList.add("mapboxgl-compact"):ve.classList.remove("mapboxgl-compact")}};var yh=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};yh.prototype.add=function(Z){var ve=++this._id,ee=this._queue;return ee.push({callback:Z,id:ve,cancelled:!1}),ve},yh.prototype.remove=function(Z){for(var ve=this._currentlyRunning,ee=ve?this._queue.concat(ve):this._queue,de=0,Fe=ee;de<Fe.length;de+=1){var je=Fe[de];if(je.id===Z){je.cancelled=!0;return}}},yh.prototype.run=function(Z){Z===void 0&&(Z=0);var ve=this._currentlyRunning=this._queue;this._queue=[];for(var ee=0,de=ve;ee<de.length;ee+=1){var Fe=de[ee];if(!Fe.cancelled&&(Fe.callback(Z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},yh.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var fp={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Lf=o.window.HTMLImageElement,Xv=o.window.HTMLElement,$u=o.window.ImageBitmap,pc=-2,gc=22,ts=0,qu=60,Kv={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:pc,maxZoom:gc,minPitch:ts,maxPitch:qu,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Jv=function(ce){function Z(ee){var de=this;if(ee=o.extend({},Kv,ee),ee.minZoom!=null&&ee.maxZoom!=null&&ee.minZoom>ee.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ee.minPitch!=null&&ee.maxPitch!=null&&ee.minPitch>ee.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ee.minPitch!=null&&ee.minPitch<ts)throw new Error("minPitch must be greater than or equal to "+ts);if(ee.maxPitch!=null&&ee.maxPitch>qu)throw new Error("maxPitch must be less than or equal to "+qu);var Fe=new Pn(ee.minZoom,ee.maxZoom,ee.minPitch,ee.maxPitch,ee.renderWorldCopies);if(ce.call(this,Fe,ee),this._interactive=ee.interactive,this._maxTileCacheSize=ee.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ee.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ee.preserveDrawingBuffer,this._antialias=ee.antialias,this._trackResize=ee.trackResize,this._bearingSnap=ee.bearingSnap,this._refreshExpiredTiles=ee.refreshExpiredTiles,this._fadeDuration=ee.fadeDuration,this._crossSourceCollisions=ee.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ee.collectResourceTiming,this._renderTaskQueue=new yh,this._controls=[],this._mapId=o.uniqueId(),this._locale=o.extend({},fp,ee.locale),this._clickTolerance=ee.clickTolerance,this._requestManager=new o.RequestManager(ee.transformRequest,ee.accessToken),typeof ee.container=="string"){if(this._container=o.window.document.getElementById(ee.container),!this._container)throw new Error("Container '"+ee.container+"' not found.")}else if(ee.container instanceof Xv)this._container=ee.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ee.maxBounds&&this.setMaxBounds(ee.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return de._update(!1)}),this.on("moveend",function(){return de._update(!1)}),this.on("zoom",function(){return de._update(!0)}),typeof o.window<"u"&&(o.window.addEventListener("online",this._onWindowOnline,!1),o.window.addEventListener("resize",this._onWindowResize,!1),o.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Ci(this,ee);var je=typeof ee.hash=="string"&&ee.hash||void 0;this._hash=ee.hash&&new Da(je).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ee.center,zoom:ee.zoom,bearing:ee.bearing,pitch:ee.pitch}),ee.bounds&&(this.resize(),this.fitBounds(ee.bounds,o.extend({},ee.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ee.localIdeographFontFamily,ee.style&&this.setStyle(ee.style,{localIdeographFontFamily:ee.localIdeographFontFamily}),ee.attributionControl&&this.addControl(new Ka({customAttribution:ee.customAttribution})),this.addControl(new Li,ee.logoPosition),this.on("style.load",function(){de.transform.unmodified&&de.jumpTo(de.style.stylesheet)}),this.on("data",function(it){de._update(it.dataType==="style"),de.fire(new o.Event(it.dataType+"data",it))}),this.on("dataloading",function(it){de.fire(new o.Event(it.dataType+"dataloading",it))})}ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z;var ve={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Z.prototype._getMapId=function(){return this._mapId},Z.prototype.addControl=function(de,Fe){if(Fe===void 0&&(de.getDefaultPosition?Fe=de.getDefaultPosition():Fe="top-right"),!de||!de.onAdd)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var je=de.onAdd(this);this._controls.push(de);var it=this._controlPositions[Fe];return Fe.indexOf("bottom")!==-1?it.insertBefore(je,it.firstChild):it.appendChild(je),this},Z.prototype.removeControl=function(de){if(!de||!de.onRemove)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Fe=this._controls.indexOf(de);return Fe>-1&&this._controls.splice(Fe,1),de.onRemove(this),this},Z.prototype.hasControl=function(de){return this._controls.indexOf(de)>-1},Z.prototype.resize=function(de){var Fe=this._containerDimensions(),je=Fe[0],it=Fe[1];this._resizeCanvas(je,it),this.transform.resize(je,it),this.painter.resize(je,it);var St=!this._moving;return St&&(this.stop(),this.fire(new o.Event("movestart",de)).fire(new o.Event("move",de))),this.fire(new o.Event("resize",de)),St&&this.fire(new o.Event("moveend",de)),this},Z.prototype.getBounds=function(){return this.transform.getBounds()},Z.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Z.prototype.setMaxBounds=function(de){return this.transform.setMaxBounds(o.LngLatBounds.convert(de)),this._update()},Z.prototype.setMinZoom=function(de){if(de=de??pc,de>=pc&&de<=this.transform.maxZoom)return this.transform.minZoom=de,this._update(),this.getZoom()<de&&this.setZoom(de),this;throw new Error("minZoom must be between "+pc+" and the current maxZoom, inclusive")},Z.prototype.getMinZoom=function(){return this.transform.minZoom},Z.prototype.setMaxZoom=function(de){if(de=de??gc,de>=this.transform.minZoom)return this.transform.maxZoom=de,this._update(),this.getZoom()>de&&this.setZoom(de),this;throw new Error("maxZoom must be greater than the current minZoom")},Z.prototype.getMaxZoom=function(){return this.transform.maxZoom},Z.prototype.setMinPitch=function(de){if(de=de??ts,de<ts)throw new Error("minPitch must be greater than or equal to "+ts);if(de>=ts&&de<=this.transform.maxPitch)return this.transform.minPitch=de,this._update(),this.getPitch()<de&&this.setPitch(de),this;throw new Error("minPitch must be between "+ts+" and the current maxPitch, inclusive")},Z.prototype.getMinPitch=function(){return this.transform.minPitch},Z.prototype.setMaxPitch=function(de){if(de=de??qu,de>qu)throw new Error("maxPitch must be less than or equal to "+qu);if(de>=this.transform.minPitch)return this.transform.maxPitch=de,this._update(),this.getPitch()>de&&this.setPitch(de),this;throw new Error("maxPitch must be greater than the current minPitch")},Z.prototype.getMaxPitch=function(){return this.transform.maxPitch},Z.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Z.prototype.setRenderWorldCopies=function(de){return this.transform.renderWorldCopies=de,this._update()},Z.prototype.project=function(de){return this.transform.locationPoint(o.LngLat.convert(de))},Z.prototype.unproject=function(de){return this.transform.pointLocation(o.Point.convert(de))},Z.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Z.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Z.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Z.prototype._createDelegatedListener=function(de,Fe,je){var it=this,St;if(de==="mouseenter"||de==="mouseover"){var Ut=!1,Kt=function(Vr){var Kr=it.getLayer(Fe)?it.queryRenderedFeatures(Vr.point,{layers:[Fe]}):[];Kr.length?Ut||(Ut=!0,je.call(it,new Qe(de,it,Vr.originalEvent,{features:Kr}))):Ut=!1},or=function(){Ut=!1};return{layer:Fe,listener:je,delegates:{mousemove:Kt,mouseout:or}}}else if(de==="mouseleave"||de==="mouseout"){var ir=!1,Fr=function(Vr){var Kr=it.getLayer(Fe)?it.queryRenderedFeatures(Vr.point,{layers:[Fe]}):[];Kr.length?ir=!0:ir&&(ir=!1,je.call(it,new Qe(de,it,Vr.originalEvent)))},Zr=function(Vr){ir&&(ir=!1,je.call(it,new Qe(de,it,Vr.originalEvent)))};return{layer:Fe,listener:je,delegates:{mousemove:Fr,mouseout:Zr}}}else{var Yr=function(Vr){var Kr=it.getLayer(Fe)?it.queryRenderedFeatures(Vr.point,{layers:[Fe]}):[];Kr.length&&(Vr.features=Kr,je.call(it,Vr),delete Vr.features)};return{layer:Fe,listener:je,delegates:(St={},St[de]=Yr,St)}}},Z.prototype.on=function(de,Fe,je){if(je===void 0)return ce.prototype.on.call(this,de,Fe);var it=this._createDelegatedListener(de,Fe,je);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[de]=this._delegatedListeners[de]||[],this._delegatedListeners[de].push(it);for(var St in it.delegates)this.on(St,it.delegates[St]);return this},Z.prototype.once=function(de,Fe,je){if(je===void 0)return ce.prototype.once.call(this,de,Fe);var it=this._createDelegatedListener(de,Fe,je);for(var St in it.delegates)this.once(St,it.delegates[St]);return this},Z.prototype.off=function(de,Fe,je){var it=this;if(je===void 0)return ce.prototype.off.call(this,de,Fe);var St=function(Ut){for(var Kt=Ut[de],or=0;or<Kt.length;or++){var ir=Kt[or];if(ir.layer===Fe&&ir.listener===je){for(var Fr in ir.delegates)it.off(Fr,ir.delegates[Fr]);return Kt.splice(or,1),it}}};return this._delegatedListeners&&this._delegatedListeners[de]&&St(this._delegatedListeners),this},Z.prototype.queryRenderedFeatures=function(de,Fe){if(!this.style)return[];Fe===void 0&&de!==void 0&&!(de instanceof o.Point)&&!Array.isArray(de)&&(Fe=de,de=void 0),Fe=Fe||{},de=de||[[0,0],[this.transform.width,this.transform.height]];var je;if(de instanceof o.Point||typeof de[0]=="number")je=[o.Point.convert(de)];else{var it=o.Point.convert(de[0]),St=o.Point.convert(de[1]);je=[it,new o.Point(St.x,it.y),St,new o.Point(it.x,St.y),it]}return this.style.queryRenderedFeatures(je,Fe,this.transform)},Z.prototype.querySourceFeatures=function(de,Fe){return this.style.querySourceFeatures(de,Fe)},Z.prototype.setStyle=function(de,Fe){return Fe=o.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Fe),Fe.diff!==!1&&Fe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&de?(this._diffStyle(de,Fe),this):(this._localIdeographFontFamily=Fe.localIdeographFontFamily,this._updateStyle(de,Fe))},Z.prototype._getUIString=function(de){var Fe=this._locale[de];if(Fe==null)throw new Error("Missing UI string '"+de+"'");return Fe},Z.prototype._updateStyle=function(de,Fe){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),de)this.style=new _o(this,Fe||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof de=="string"?this.style.loadURL(de):this.style.loadJSON(de),this},Z.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new _o(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Z.prototype._diffStyle=function(de,Fe){var je=this;if(typeof de=="string"){var it=this._requestManager.normalizeStyleURL(de),St=this._requestManager.transformRequest(it,o.ResourceType.Style);o.getJSON(St,function(Ut,Kt){Ut?je.fire(new o.ErrorEvent(Ut)):Kt&&je._updateDiff(Kt,Fe)})}else typeof de=="object"&&this._updateDiff(de,Fe)},Z.prototype._updateDiff=function(de,Fe){try{this.style.setState(de)&&this._update(!0)}catch(je){o.warnOnce("Unable to perform style diff: "+(je.message||je.error||je)+".  Rebuilding the style from scratch."),this._updateStyle(de,Fe)}},Z.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Z.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():o.warnOnce("There is no style added to the map.")},Z.prototype.addSource=function(de,Fe){return this._lazyInitEmptyStyle(),this.style.addSource(de,Fe),this._update(!0)},Z.prototype.isSourceLoaded=function(de){var Fe=this.style&&this.style.sourceCaches[de];if(Fe===void 0){this.fire(new o.ErrorEvent(new Error("There is no source with ID '"+de+"'")));return}return Fe.loaded()},Z.prototype.areTilesLoaded=function(){var de=this.style&&this.style.sourceCaches;for(var Fe in de){var je=de[Fe],it=je._tiles;for(var St in it){var Ut=it[St];if(!(Ut.state==="loaded"||Ut.state==="errored"))return!1}}return!0},Z.prototype.addSourceType=function(de,Fe,je){return this._lazyInitEmptyStyle(),this.style.addSourceType(de,Fe,je)},Z.prototype.removeSource=function(de){return this.style.removeSource(de),this._update(!0)},Z.prototype.getSource=function(de){return this.style.getSource(de)},Z.prototype.addImage=function(de,Fe,je){je===void 0&&(je={});var it=je.pixelRatio;it===void 0&&(it=1);var St=je.sdf;St===void 0&&(St=!1);var Ut=je.stretchX,Kt=je.stretchY,or=je.content;this._lazyInitEmptyStyle();var ir=0;if(Fe instanceof Lf||$u&&Fe instanceof $u){var Fr=o.browser.getImageData(Fe),Zr=Fr.width,Yr=Fr.height,Vr=Fr.data;this.style.addImage(de,{data:new o.RGBAImage({width:Zr,height:Yr},Vr),pixelRatio:it,stretchX:Ut,stretchY:Kt,content:or,sdf:St,version:ir})}else{if(Fe.width===void 0||Fe.height===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Kr=Fe.width,fn=Fe.height,Dn=Fe.data,zn=Fe;this.style.addImage(de,{data:new o.RGBAImage({width:Kr,height:fn},new Uint8Array(Dn)),pixelRatio:it,stretchX:Ut,stretchY:Kt,content:or,sdf:St,version:ir,userImage:zn}),zn.onAdd&&zn.onAdd(this,de)}},Z.prototype.updateImage=function(de,Fe){var je=this.style.getImage(de);if(!je)return this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var it=Fe instanceof Lf||$u&&Fe instanceof $u?o.browser.getImageData(Fe):Fe,St=it.width,Ut=it.height,Kt=it.data;if(St===void 0||Ut===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(St!==je.data.width||Ut!==je.data.height)return this.fire(new o.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var or=!(Fe instanceof Lf||$u&&Fe instanceof $u);je.data.replace(Kt,or),this.style.updateImage(de,je)},Z.prototype.hasImage=function(de){return de?!!this.style.getImage(de):(this.fire(new o.ErrorEvent(new Error("Missing required image id"))),!1)},Z.prototype.removeImage=function(de){this.style.removeImage(de)},Z.prototype.loadImage=function(de,Fe){o.getImage(this._requestManager.transformRequest(de,o.ResourceType.Image),Fe)},Z.prototype.listImages=function(){return this.style.listImages()},Z.prototype.addLayer=function(de,Fe){return this._lazyInitEmptyStyle(),this.style.addLayer(de,Fe),this._update(!0)},Z.prototype.moveLayer=function(de,Fe){return this.style.moveLayer(de,Fe),this._update(!0)},Z.prototype.removeLayer=function(de){return this.style.removeLayer(de),this._update(!0)},Z.prototype.getLayer=function(de){return this.style.getLayer(de)},Z.prototype.setLayerZoomRange=function(de,Fe,je){return this.style.setLayerZoomRange(de,Fe,je),this._update(!0)},Z.prototype.setFilter=function(de,Fe,je){return je===void 0&&(je={}),this.style.setFilter(de,Fe,je),this._update(!0)},Z.prototype.getFilter=function(de){return this.style.getFilter(de)},Z.prototype.setPaintProperty=function(de,Fe,je,it){return it===void 0&&(it={}),this.style.setPaintProperty(de,Fe,je,it),this._update(!0)},Z.prototype.getPaintProperty=function(de,Fe){return this.style.getPaintProperty(de,Fe)},Z.prototype.setLayoutProperty=function(de,Fe,je,it){return it===void 0&&(it={}),this.style.setLayoutProperty(de,Fe,je,it),this._update(!0)},Z.prototype.getLayoutProperty=function(de,Fe){return this.style.getLayoutProperty(de,Fe)},Z.prototype.setLight=function(de,Fe){return Fe===void 0&&(Fe={}),this._lazyInitEmptyStyle(),this.style.setLight(de,Fe),this._update(!0)},Z.prototype.getLight=function(){return this.style.getLight()},Z.prototype.setFeatureState=function(de,Fe){return this.style.setFeatureState(de,Fe),this._update()},Z.prototype.removeFeatureState=function(de,Fe){return this.style.removeFeatureState(de,Fe),this._update()},Z.prototype.getFeatureState=function(de){return this.style.getFeatureState(de)},Z.prototype.getContainer=function(){return this._container},Z.prototype.getCanvasContainer=function(){return this._canvasContainer},Z.prototype.getCanvas=function(){return this._canvas},Z.prototype._containerDimensions=function(){var de=0,Fe=0;return this._container&&(de=this._container.clientWidth||400,Fe=this._container.clientHeight||300),[de,Fe]},Z.prototype._detectMissingCSS=function(){var de=o.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");de!=="rgb(250, 128, 114)"&&o.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Z.prototype._setupContainer=function(){var de=this._container;de.classList.add("mapboxgl-map");var Fe=this._missingCSSCanary=M.create("div","mapboxgl-canary",de);Fe.style.visibility="hidden",this._detectMissingCSS();var je=this._canvasContainer=M.create("div","mapboxgl-canvas-container",de);this._interactive&&je.classList.add("mapboxgl-interactive"),this._canvas=M.create("canvas","mapboxgl-canvas",je),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var it=this._containerDimensions();this._resizeCanvas(it[0],it[1]);var St=this._controlContainer=M.create("div","mapboxgl-control-container",de),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Kt){Ut[Kt]=M.create("div","mapboxgl-ctrl-"+Kt,St)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Z.prototype._resizeCanvas=function(de,Fe){var je=o.browser.devicePixelRatio||1;this._canvas.width=je*de,this._canvas.height=je*Fe,this._canvas.style.width=de+"px",this._canvas.style.height=Fe+"px"},Z.prototype._setupPainter=function(){var de=o.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Fe=this._canvas.getContext("webgl",de)||this._canvas.getContext("experimental-webgl",de);if(!Fe){this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Or(Fe,this.transform),o.webpSupported.testSupport(Fe)},Z.prototype._contextLost=function(de){de.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.Event("webglcontextlost",{originalEvent:de}))},Z.prototype._contextRestored=function(de){this._setupPainter(),this.resize(),this._update(),this.fire(new o.Event("webglcontextrestored",{originalEvent:de}))},Z.prototype._onMapScroll=function(de){if(de.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Z.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Z.prototype._update=function(de){return this.style?(this._styleDirty=this._styleDirty||de,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Z.prototype._requestRenderFrame=function(de){return this._update(),this._renderTaskQueue.add(de)},Z.prototype._cancelRenderFrame=function(de){this._renderTaskQueue.remove(de)},Z.prototype._render=function(de){var Fe=this,je,it=0,St=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(je=St.createQueryEXT(),St.beginQueryEXT(St.TIME_ELAPSED_EXT,je),it=o.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(de),!this._removed){var Ut=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Kt=this.transform.zoom,or=o.browser.now();this.style.zoomHistory.update(Kt,or);var ir=new o.EvaluationParameters(Kt,{now:or,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Fr=ir.crossFadingFactor();(Fr!==1||Fr!==this._crossFadingFactor)&&(Ut=!0,this._crossFadingFactor=Fr),this.style.update(ir)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new o.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.Event("load"))),this.style&&(this.style.hasTransitions()||Ut)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Zr=o.browser.now()-it;St.endQueryEXT(St.TIME_ELAPSED_EXT,je),setTimeout(function(){var Kr=St.getQueryObjectEXT(je,St.QUERY_RESULT_EXT)/1e6;St.deleteQueryEXT(je),Fe.fire(new o.Event("gpu-timing-frame",{cpuTime:Zr,gpuTime:Kr}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var Kr=Fe.painter.queryGpuTimers(Yr);Fe.fire(new o.Event("gpu-timing-layer",{layerTimes:Kr}))},50)}var Vr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Vr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.Event("idle")),this._loaded&&!this._fullyLoaded&&!Vr&&(this._fullyLoaded=!0),this}},Z.prototype.remove=function(){this._hash&&this._hash.remove();for(var de=0,Fe=this._controls;de<Fe.length;de+=1){var je=Fe[de];je.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof o.window<"u"&&(o.window.removeEventListener("resize",this._onWindowResize,!1),o.window.removeEventListener("orientationchange",this._onWindowResize,!1),o.window.removeEventListener("online",this._onWindowOnline,!1));var it=this.painter.context.gl.getExtension("WEBGL_lose_context");it&&it.loseContext&&it.loseContext(),mh(this._canvasContainer),mh(this._controlContainer),mh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new o.Event("remove"))},Z.prototype.triggerRepaint=function(){var de=this;this.style&&!this._frame&&(this._frame=o.browser.frame(function(Fe){de._frame=null,de._render(Fe)}))},Z.prototype._onWindowOnline=function(){this._update()},Z.prototype._onWindowResize=function(de){this._trackResize&&this.resize({originalEvent:de})._update()},ve.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ve.showTileBoundaries.set=function(ee){this._showTileBoundaries!==ee&&(this._showTileBoundaries=ee,this._update())},ve.showPadding.get=function(){return!!this._showPadding},ve.showPadding.set=function(ee){this._showPadding!==ee&&(this._showPadding=ee,this._update())},ve.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ve.showCollisionBoxes.set=function(ee){this._showCollisionBoxes!==ee&&(this._showCollisionBoxes=ee,ee?this.style._generateCollisionBoxes():this._update())},ve.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ve.showOverdrawInspector.set=function(ee){this._showOverdrawInspector!==ee&&(this._showOverdrawInspector=ee,this._update())},ve.repaint.get=function(){return!!this._repaint},ve.repaint.set=function(ee){this._repaint!==ee&&(this._repaint=ee,this.triggerRepaint())},ve.vertices.get=function(){return!!this._vertices},ve.vertices.set=function(ee){this._vertices=ee,this._update()},Z.prototype._setCacheLimits=function(de,Fe){o.setCacheLimits(de,Fe)},ve.version.get=function(){return o.version},Object.defineProperties(Z.prototype,ve),Z}(Wl);function mh(ce){ce.parentNode&&ce.parentNode.removeChild(ce)}var Wh={showCompass:!0,showZoom:!0,visualizePitch:!1},Tu=function(Z){var ve=this;this.options=o.extend({},Wh,Z),this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ee){return ee.preventDefault()}),this.options.showZoom&&(o.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ee){return ve._map.zoomIn({},{originalEvent:ee})}),M.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ee){return ve._map.zoomOut({},{originalEvent:ee})}),M.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(o.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ee){ve.options.visualizePitch?ve._map.resetNorthPitch({},{originalEvent:ee}):ve._map.resetNorth({},{originalEvent:ee})}),this._compassIcon=M.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Tu.prototype._updateZoomButtons=function(){var Z=this._map.getZoom(),ve=Z===this._map.getMaxZoom(),ee=Z===this._map.getMinZoom();this._zoomInButton.disabled=ve,this._zoomOutButton.disabled=ee,this._zoomInButton.setAttribute("aria-disabled",ve.toString()),this._zoomOutButton.setAttribute("aria-disabled",ee.toString())},Tu.prototype._rotateCompassArrow=function(){var Z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Z},Tu.prototype.onAdd=function(Z){return this._map=Z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new gs(this._map,this._compass,this.options.visualizePitch)),this._container},Tu.prototype.onRemove=function(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Tu.prototype._createButton=function(Z,ve){var ee=M.create("button",Z,this._container);return ee.type="button",ee.addEventListener("click",ve),ee},Tu.prototype._setButtonTitle=function(Z,ve){var ee=this._map._getUIString("NavigationControl."+ve);Z.title=ee,Z.setAttribute("aria-label",ee)};var gs=function(Z,ve,ee){ee===void 0&&(ee=!1),this._clickTolerance=10,this.element=ve,this.mouseRotate=new ha({clickTolerance:Z.dragRotate._mouseRotate._clickTolerance}),this.map=Z,ee&&(this.mousePitch=new ra({clickTolerance:Z.dragRotate._mousePitch._clickTolerance})),o.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),M.addEventListener(ve,"mousedown",this.mousedown),M.addEventListener(ve,"touchstart",this.touchstart,{passive:!1}),M.addEventListener(ve,"touchmove",this.touchmove),M.addEventListener(ve,"touchend",this.touchend),M.addEventListener(ve,"touchcancel",this.reset)};gs.prototype.down=function(Z,ve){this.mouseRotate.mousedown(Z,ve),this.mousePitch&&this.mousePitch.mousedown(Z,ve),M.disableDrag()},gs.prototype.move=function(Z,ve){var ee=this.map,de=this.mouseRotate.mousemoveWindow(Z,ve);if(de&&de.bearingDelta&&ee.setBearing(ee.getBearing()+de.bearingDelta),this.mousePitch){var Fe=this.mousePitch.mousemoveWindow(Z,ve);Fe&&Fe.pitchDelta&&ee.setPitch(ee.getPitch()+Fe.pitchDelta)}},gs.prototype.off=function(){var Z=this.element;M.removeEventListener(Z,"mousedown",this.mousedown),M.removeEventListener(Z,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(Z,"touchmove",this.touchmove),M.removeEventListener(Z,"touchend",this.touchend),M.removeEventListener(Z,"touchcancel",this.reset),this.offTemp()},gs.prototype.offTemp=function(){M.enableDrag(),M.removeEventListener(o.window,"mousemove",this.mousemove),M.removeEventListener(o.window,"mouseup",this.mouseup)},gs.prototype.mousedown=function(Z){this.down(o.extend({},Z,{ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}}),M.mousePos(this.element,Z)),M.addEventListener(o.window,"mousemove",this.mousemove),M.addEventListener(o.window,"mouseup",this.mouseup)},gs.prototype.mousemove=function(Z){this.move(Z,M.mousePos(this.element,Z))},gs.prototype.mouseup=function(Z){this.mouseRotate.mouseupWindow(Z),this.mousePitch&&this.mousePitch.mouseupWindow(Z),this.offTemp()},gs.prototype.touchstart=function(Z){Z.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,Z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}},this._startPos))},gs.prototype.touchmove=function(Z){Z.targetTouches.length!==1?this.reset():(this._lastPos=M.touchPos(this.element,Z.targetTouches)[0],this.move({preventDefault:function(){return Z.preventDefault()}},this._lastPos))},gs.prototype.touchend=function(Z){Z.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},gs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Au(ce,Z,ve){if(ce=new o.LngLat(ce.lng,ce.lat),Z){var ee=new o.LngLat(ce.lng-360,ce.lat),de=new o.LngLat(ce.lng+360,ce.lat),Fe=ve.locationPoint(ce).distSqr(Z);ve.locationPoint(ee).distSqr(Z)<Fe?ce=ee:ve.locationPoint(de).distSqr(Z)<Fe&&(ce=de)}for(;Math.abs(ce.lng-ve.center.lng)>180;){var je=ve.locationPoint(ce);if(je.x>=0&&je.y>=0&&je.x<=ve.width&&je.y<=ve.height)break;ce.lng>ve.center.lng?ce.lng-=360:ce.lng+=360}return ce}var xh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Yh(ce,Z,ve){var ee=ce.classList;for(var de in xh)ee.remove("mapboxgl-"+ve+"-anchor-"+de);ee.add("mapboxgl-"+ve+"-anchor-"+Z)}var yc=function(ce){function Z(ve,ee){if(ce.call(this),(ve instanceof o.window.HTMLElement||ee)&&(ve=o.extend({element:ve},ee)),o.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ve&&ve.anchor||"center",this._color=ve&&ve.color||"#3FB1CE",this._scale=ve&&ve.scale||1,this._draggable=ve&&ve.draggable||!1,this._clickTolerance=ve&&ve.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ve&&ve.rotation||0,this._rotationAlignment=ve&&ve.rotationAlignment||"auto",this._pitchAlignment=ve&&ve.pitchAlignment&&ve.pitchAlignment!=="auto"?ve.pitchAlignment:this._rotationAlignment,!ve||!ve.element){this._defaultMarker=!0,this._element=M.create("div"),this._element.setAttribute("aria-label","Map marker");var de=M.createNS("http://www.w3.org/2000/svg","svg"),Fe=41,je=27;de.setAttributeNS(null,"display","block"),de.setAttributeNS(null,"height",Fe+"px"),de.setAttributeNS(null,"width",je+"px"),de.setAttributeNS(null,"viewBox","0 0 "+je+" "+Fe);var it=M.createNS("http://www.w3.org/2000/svg","g");it.setAttributeNS(null,"stroke","none"),it.setAttributeNS(null,"stroke-width","1"),it.setAttributeNS(null,"fill","none"),it.setAttributeNS(null,"fill-rule","evenodd");var St=M.createNS("http://www.w3.org/2000/svg","g");St.setAttributeNS(null,"fill-rule","nonzero");var Ut=M.createNS("http://www.w3.org/2000/svg","g");Ut.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ut.setAttributeNS(null,"fill","#000000");for(var Kt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],or=0,ir=Kt;or<ir.length;or+=1){var Fr=ir[or],Zr=M.createNS("http://www.w3.org/2000/svg","ellipse");Zr.setAttributeNS(null,"opacity","0.04"),Zr.setAttributeNS(null,"cx","10.5"),Zr.setAttributeNS(null,"cy","5.80029008"),Zr.setAttributeNS(null,"rx",Fr.rx),Zr.setAttributeNS(null,"ry",Fr.ry),Ut.appendChild(Zr)}var Yr=M.createNS("http://www.w3.org/2000/svg","g");Yr.setAttributeNS(null,"fill",this._color);var Vr=M.createNS("http://www.w3.org/2000/svg","path");Vr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Yr.appendChild(Vr);var Kr=M.createNS("http://www.w3.org/2000/svg","g");Kr.setAttributeNS(null,"opacity","0.25"),Kr.setAttributeNS(null,"fill","#000000");var fn=M.createNS("http://www.w3.org/2000/svg","path");fn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Kr.appendChild(fn);var Dn=M.createNS("http://www.w3.org/2000/svg","g");Dn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Dn.setAttributeNS(null,"fill","#FFFFFF");var zn=M.createNS("http://www.w3.org/2000/svg","g");zn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Yn=M.createNS("http://www.w3.org/2000/svg","circle");Yn.setAttributeNS(null,"fill","#000000"),Yn.setAttributeNS(null,"opacity","0.25"),Yn.setAttributeNS(null,"cx","5.5"),Yn.setAttributeNS(null,"cy","5.5"),Yn.setAttributeNS(null,"r","5.4999962");var Xn=M.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#FFFFFF"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962"),zn.appendChild(Yn),zn.appendChild(Xn),St.appendChild(Ut),St.appendChild(Yr),St.appendChild(Kr),St.appendChild(Dn),St.appendChild(zn),de.appendChild(St),de.setAttributeNS(null,"height",Fe*this._scale+"px"),de.setAttributeNS(null,"width",je*this._scale+"px"),this._element.appendChild(de),this._offset=o.Point.convert(ve&&ve.offset||[0,-14])}else this._element=ve.element,this._offset=o.Point.convert(ve&&ve.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Vn){Vn.preventDefault()}),this._element.addEventListener("mousedown",function(Vn){Vn.preventDefault()}),Yh(this._element,this._anchor,"marker"),this._popup=null}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(ee){return this.remove(),this._map=ee,ee.getCanvasContainer().appendChild(this._element),ee.on("move",this._update),ee.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Z.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(ee){return this._lngLat=o.LngLat.convert(ee),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Z.prototype.getElement=function(){return this._element},Z.prototype.setPopup=function(ee){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ee){if(!("offset"in ee.options)){var de=38.1,Fe=13.5,je=Math.sqrt(Math.pow(Fe,2)/2);ee.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-de],"bottom-left":[je,(de-Fe+je)*-1],"bottom-right":[-je,(de-Fe+je)*-1],left:[Fe,(de-Fe)*-1],right:[-Fe,(de-Fe)*-1]}:this._offset}this._popup=ee,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Z.prototype._onKeyPress=function(ee){var de=ee.code,Fe=ee.charCode||ee.keyCode;(de==="Space"||de==="Enter"||Fe===32||Fe===13)&&this.togglePopup()},Z.prototype._onMapClick=function(ee){var de=ee.originalEvent.target,Fe=this._element;this._popup&&(de===Fe||Fe.contains(de))&&this.togglePopup()},Z.prototype.getPopup=function(){return this._popup},Z.prototype.togglePopup=function(){var ee=this._popup;if(ee)ee.isOpen()?ee.remove():ee.addTo(this._map);else return this;return this},Z.prototype._update=function(ee){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Au(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var de="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?de="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(de="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Fe="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Fe="rotateX(0deg)":this._pitchAlignment==="map"&&(Fe="rotateX("+this._map.getPitch()+"deg)"),(!ee||ee.type==="moveend")&&(this._pos=this._pos.round()),M.setTransform(this._element,xh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Fe+" "+de)}},Z.prototype.getOffset=function(){return this._offset},Z.prototype.setOffset=function(ee){return this._offset=o.Point.convert(ee),this._update(),this},Z.prototype._onMove=function(ee){if(!this._isDragging){var de=this._clickTolerance||this._map._clickTolerance;this._isDragging=ee.point.dist(this._pointerdownPos)>=de}this._isDragging&&(this._pos=ee.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.Event("dragstart"))),this.fire(new o.Event("drag")))},Z.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.Event("dragend")),this._state="inactive"},Z.prototype._addDragHandler=function(ee){this._element.contains(ee.originalEvent.target)&&(ee.preventDefault(),this._positionDelta=ee.point.sub(this._pos).add(this._offset),this._pointerdownPos=ee.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Z.prototype.setDraggable=function(ee){return this._draggable=!!ee,this._map&&(ee?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Z.prototype.isDraggable=function(){return this._draggable},Z.prototype.setRotation=function(ee){return this._rotation=ee||0,this._update(),this},Z.prototype.getRotation=function(){return this._rotation},Z.prototype.setRotationAlignment=function(ee){return this._rotationAlignment=ee||"auto",this._update(),this},Z.prototype.getRotationAlignment=function(){return this._rotationAlignment},Z.prototype.setPitchAlignment=function(ee){return this._pitchAlignment=ee&&ee!=="auto"?ee:this._rotationAlignment,this._update(),this},Z.prototype.getPitchAlignment=function(){return this._pitchAlignment},Z}(o.Evented),Qv={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},ef;function bh(ce){ef!==void 0?ce(ef):o.window.navigator.permissions!==void 0?o.window.navigator.permissions.query({name:"geolocation"}).then(function(Z){ef=Z.state!=="denied",ce(ef)}):(ef=!!o.window.navigator.geolocation,ce(ef))}var mc=0,Pf=!1,cp=function(ce){function Z(ve){ce.call(this),this.options=o.extend({},Qv,ve),o.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(ee){return this._map=ee,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),bh(this._setupUI),this._container},Z.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,mc=0,Pf=!1},Z.prototype._isOutOfMapMaxBounds=function(ee){var de=this._map.getMaxBounds(),Fe=ee.coords;return de&&(Fe.longitude<de.getWest()||Fe.longitude>de.getEast()||Fe.latitude<de.getSouth()||Fe.latitude>de.getNorth())},Z.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Z.prototype._onSuccess=function(ee){if(this._map){if(this._isOutOfMapMaxBounds(ee)){this._setErrorState(),this.fire(new o.Event("outofmaxbounds",ee)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ee,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ee),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ee),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("geolocate",ee)),this._finish()}},Z.prototype._updateCamera=function(ee){var de=new o.LngLat(ee.coords.longitude,ee.coords.latitude),Fe=ee.coords.accuracy,je=this._map.getBearing(),it=o.extend({bearing:je},this.options.fitBoundsOptions);this._map.fitBounds(de.toBounds(Fe),it,{geolocateSource:!0})},Z.prototype._updateMarker=function(ee){if(ee){var de=new o.LngLat(ee.coords.longitude,ee.coords.latitude);this._accuracyCircleMarker.setLngLat(de).addTo(this._map),this._userLocationDotMarker.setLngLat(de).addTo(this._map),this._accuracy=ee.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Z.prototype._updateCircleRadius=function(){var ee=this._map._container.clientHeight/2,de=this._map.unproject([0,ee]),Fe=this._map.unproject([1,ee]),je=de.distanceTo(Fe),it=Math.ceil(2*this._accuracy/je);this._circleElement.style.width=it+"px",this._circleElement.style.height=it+"px"},Z.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Z.prototype._onError=function(ee){if(this._map){if(this.options.trackUserLocation)if(ee.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var de=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=de,this._geolocateButton.setAttribute("aria-label",de),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ee.code===3&&Pf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("error",ee)),this._finish()}},Z.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Z.prototype._setupUI=function(ee){var de=this;if(this._container.addEventListener("contextmenu",function(it){return it.preventDefault()}),this._geolocateButton=M.create("button","mapboxgl-ctrl-geolocate",this._container),M.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ee===!1){o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Fe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Fe,this._geolocateButton.setAttribute("aria-label",Fe)}else{var je=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=je,this._geolocateButton.setAttribute("aria-label",je)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new yc(this._dotElement),this._circleElement=M.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new yc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(it){var St=it.originalEvent&&it.originalEvent.type==="resize";!it.geolocateSource&&de._watchState==="ACTIVE_LOCK"&&!St&&(de._watchState="BACKGROUND",de._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),de._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),de.fire(new o.Event("trackuserlocationend")))})},Z.prototype.trigger=function(){if(!this._setup)return o.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":mc--,Pf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),mc++;var ee;mc>1?(ee={maximumAge:6e5,timeout:0},Pf=!0):(ee=this.options.positionOptions,Pf=!1),this._geolocationWatchID=o.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ee)}}else o.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Z.prototype._clearWatch=function(){o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Z}(o.Evented),$v={maxWidth:100,unit:"metric"},Rf=function(Z){this.options=o.extend({},$v,Z),o.bindAll(["_onMove","setUnit"],this)};Rf.prototype.getDefaultPosition=function(){return"bottom-left"},Rf.prototype._onMove=function(){qv(this._map,this._container,this.options)},Rf.prototype.onAdd=function(Z){return this._map=Z,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Rf.prototype.onRemove=function(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Rf.prototype.setUnit=function(Z){this.options.unit=Z,qv(this._map,this._container,this.options)};function qv(ce,Z,ve){var ee=ve&&ve.maxWidth||100,de=ce._container.clientHeight/2,Fe=ce.unproject([0,de]),je=ce.unproject([ee,de]),it=Fe.distanceTo(je);if(ve&&ve.unit==="imperial"){var St=3.2808*it;if(St>5280){var Ut=St/5280;xc(Z,ee,Ut,ce._getUIString("ScaleControl.Miles"))}else xc(Z,ee,St,ce._getUIString("ScaleControl.Feet"))}else if(ve&&ve.unit==="nautical"){var Kt=it/1852;xc(Z,ee,Kt,ce._getUIString("ScaleControl.NauticalMiles"))}else it>=1e3?xc(Z,ee,it/1e3,ce._getUIString("ScaleControl.Kilometers")):xc(Z,ee,it,ce._getUIString("ScaleControl.Meters"))}function xc(ce,Z,ve,ee){var de=vp(ve),Fe=de/ve;ce.style.width=Z*Fe+"px",ce.innerHTML=de+"&nbsp;"+ee}function hp(ce){var Z=Math.pow(10,Math.ceil(-Math.log(ce)/Math.LN10));return Math.round(ce*Z)/Z}function vp(ce){var Z=Math.pow(10,(""+Math.floor(ce)).length-1),ve=ce/Z;return ve=ve>=10?10:ve>=5?5:ve>=3?3:ve>=2?2:ve>=1?1:hp(ve),Z*ve}var vl=function(Z){this._fullscreen=!1,Z&&Z.container&&(Z.container instanceof o.window.HTMLElement?this._container=Z.container:o.warnOnce("Full screen control 'container' must be a DOM element.")),o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.window.document&&(this._fullscreenchange="MSFullscreenChange")};vl.prototype.onAdd=function(Z){return this._map=Z,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},vl.prototype.onRemove=function(){M.remove(this._controlContainer),this._map=null,o.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},vl.prototype._checkFullscreenSupport=function(){return!!(o.window.document.fullscreenEnabled||o.window.document.mozFullScreenEnabled||o.window.document.msFullscreenEnabled||o.window.document.webkitFullscreenEnabled)},vl.prototype._setupUI=function(){var Z=this._fullscreenButton=M.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);M.create("span","mapboxgl-ctrl-icon",Z).setAttribute("aria-hidden",!0),Z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},vl.prototype._updateTitle=function(){var Z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Z),this._fullscreenButton.title=Z},vl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},vl.prototype._isFullscreen=function(){return this._fullscreen},vl.prototype._changeIcon=function(){var Z=o.window.document.fullscreenElement||o.window.document.mozFullScreenElement||o.window.document.webkitFullscreenElement||o.window.document.msFullscreenElement;Z===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},vl.prototype._onClickFullscreen=function(){this._isFullscreen()?o.window.document.exitFullscreen?o.window.document.exitFullscreen():o.window.document.mozCancelFullScreen?o.window.document.mozCancelFullScreen():o.window.document.msExitFullscreen?o.window.document.msExitFullscreen():o.window.document.webkitCancelFullScreen&&o.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var dp={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},pp=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),fg=function(ce){function Z(ve){ce.call(this),this.options=o.extend(Object.create(dp),ve),o.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ce&&(Z.__proto__=ce),Z.prototype=Object.create(ce&&ce.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(ee){return this._map&&this.remove(),this._map=ee,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new o.Event("open")),this},Z.prototype.isOpen=function(){return!!this._map},Z.prototype.remove=function(){return this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.Event("close")),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(ee){return this._lngLat=o.LngLat.convert(ee),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Z.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Z.prototype.getElement=function(){return this._container},Z.prototype.setText=function(ee){return this.setDOMContent(o.window.document.createTextNode(ee))},Z.prototype.setHTML=function(ee){var de=o.window.document.createDocumentFragment(),Fe=o.window.document.createElement("body"),je;for(Fe.innerHTML=ee;je=Fe.firstChild,!!je;)de.appendChild(je);return this.setDOMContent(de)},Z.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Z.prototype.setMaxWidth=function(ee){return this.options.maxWidth=ee,this._update(),this},Z.prototype.setDOMContent=function(ee){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=M.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(ee),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Z.prototype.addClassName=function(ee){this._container&&this._container.classList.add(ee)},Z.prototype.removeClassName=function(ee){this._container&&this._container.classList.remove(ee)},Z.prototype.setOffset=function(ee){return this.options.offset=ee,this._update(),this},Z.prototype.toggleClassName=function(ee){if(this._container)return this._container.classList.toggle(ee)},Z.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=M.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Z.prototype._onMouseUp=function(ee){this._update(ee.point)},Z.prototype._onMouseMove=function(ee){this._update(ee.point)},Z.prototype._onDrag=function(ee){this._update(ee.point)},Z.prototype._update=function(ee){var de=this,Fe=this._lngLat||this._trackPointer;if(!(!this._map||!Fe||!this._content)&&(this._container||(this._container=M.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=M.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Fr){return de._container.classList.add(Fr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Au(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ee))){var je=this._pos=this._trackPointer&&ee?ee:this._map.project(this._lngLat),it=this.options.anchor,St=gp(this.options.offset);if(!it){var Ut=this._container.offsetWidth,Kt=this._container.offsetHeight,or;je.y+St.bottom.y<Kt?or=["top"]:je.y>this._map.transform.height-Kt?or=["bottom"]:or=[],je.x<Ut/2?or.push("left"):je.x>this._map.transform.width-Ut/2&&or.push("right"),or.length===0?it="bottom":it=or.join("-")}var ir=je.add(St[it]).round();M.setTransform(this._container,xh[it]+" translate("+ir.x+"px,"+ir.y+"px)"),Yh(this._container,it,"popup")}},Z.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var ee=this._container.querySelector(pp);ee&&ee.focus()}},Z.prototype._onClose=function(){this.remove()},Z}(o.Evented);function gp(ce){if(ce)if(typeof ce=="number"){var Z=Math.round(Math.sqrt(.5*Math.pow(ce,2)));return{center:new o.Point(0,0),top:new o.Point(0,ce),"top-left":new o.Point(Z,Z),"top-right":new o.Point(-Z,Z),bottom:new o.Point(0,-ce),"bottom-left":new o.Point(Z,-Z),"bottom-right":new o.Point(-Z,-Z),left:new o.Point(ce,0),right:new o.Point(-ce,0)}}else if(ce instanceof o.Point||Array.isArray(ce)){var ve=o.Point.convert(ce);return{center:ve,top:ve,"top-left":ve,"top-right":ve,bottom:ve,"bottom-left":ve,"bottom-right":ve,left:ve,right:ve}}else return{center:o.Point.convert(ce.center||[0,0]),top:o.Point.convert(ce.top||[0,0]),"top-left":o.Point.convert(ce["top-left"]||[0,0]),"top-right":o.Point.convert(ce["top-right"]||[0,0]),bottom:o.Point.convert(ce.bottom||[0,0]),"bottom-left":o.Point.convert(ce["bottom-left"]||[0,0]),"bottom-right":o.Point.convert(ce["bottom-right"]||[0,0]),left:o.Point.convert(ce.left||[0,0]),right:o.Point.convert(ce.right||[0,0])};else return gp(new o.Point(0,0))}var oo={version:o.version,supported:L,setRTLTextPlugin:o.setRTLTextPlugin,getRTLTextPluginStatus:o.getRTLTextPluginStatus,Map:Jv,NavigationControl:Tu,GeolocateControl:cp,AttributionControl:Ka,ScaleControl:Rf,FullscreenControl:vl,Popup:fg,Marker:yc,Style:_o,LngLat:o.LngLat,LngLatBounds:o.LngLatBounds,Point:o.Point,MercatorCoordinate:o.MercatorCoordinate,Evented:o.Evented,config:o.config,prewarm:It,clearPrewarmedResources:Zt,get accessToken(){return o.config.ACCESS_TOKEN},set accessToken(ce){o.config.ACCESS_TOKEN=ce},get baseApiUrl(){return o.config.API_URL},set baseApiUrl(ce){o.config.API_URL=ce},get workerCount(){return hr.workerCount},set workerCount(ce){hr.workerCount=ce},get maxParallelImageRequests(){return o.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ce){o.config.MAX_PARALLEL_IMAGE_REQUESTS=ce},clearStorage:function(Z){o.clearTileCache(Z)},workerUrl:""};return oo}),y})},88294:function(G,V,e){G.exports=e(62849)},62849:function(G,V,e){var y=e(91358),P=e(53435),o=e(18863),L=e(21527),M=e(71299),v=e(46775),p=e(30120),r=e(64941),t=e(90660),i=e(27084),n=1073741824;G.exports=function(l,g){g||(g={}),l=p(l,"float64"),g=M(g,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var f=v(g.maxDepth,255),T=v(g.bounds,L(l,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var h=c(l,T),s=l.length>>>1,d;g.dtype||(g.dtype="array"),typeof g.dtype=="string"?d=new(t(g.dtype))(s):g.dtype&&(d=g.dtype,Array.isArray(d)&&(d.length=s));for(var A=0;A<s;++A)d[A]=A;var w=[],C=[],b=[],S=[];N(0,0,1,d,0,1);for(var m=0,a=0;a<w.length;a++){var E=w[a];if(d.set)d.set(E,m);else for(var x=0,k=E.length;x<k;x++)d[x+m]=E[x];var I=m+w[a].length;S[a]=[m,I],m=I}return d.range=F,d;function N(_,B,W,$,te,ie){if(!$.length)return null;var ue=w[te]||(w[te]=[]),J=b[te]||(b[te]=[]),Y=C[te]||(C[te]=[]),ae=ue.length;if(te++,te>f||ie>n){for(var j=0;j<$.length;j++)ue.push($[j]),J.push(ie),Y.push(null,null,null,null);return ae}if(ue.push($[0]),J.push(ie),$.length<=1)return Y.push(null,null,null,null),ae;for(var q=W*.5,oe=_+q,Q=B+q,X=[],se=[],ne=[],fe=[],ye=1,Se=$.length;ye<Se;ye++){var we=$[ye],_e=h[we*2],ke=h[we*2+1];_e<oe?ke<Q?X.push(we):se.push(we):ke<Q?ne.push(we):fe.push(we)}return ie<<=2,Y.push(N(_,B,q,X,te,ie),N(_,Q,q,se,te,ie+1),N(oe,B,q,ne,te,ie+2),N(oe,Q,q,fe,te,ie+3)),ae}function F(){for(var _=[],B=arguments.length;B--;)_[B]=arguments[B];var W;if(r(_[_.length-1])){var $=_.pop();!_.length&&($.x!=null||$.l!=null||$.left!=null)&&(_=[$],W={}),W=M($,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else W={};_.length||(_=T);var te=o.apply(void 0,_),ie=[Math.min(te.x,te.x+te.width),Math.min(te.y,te.y+te.height),Math.max(te.x,te.x+te.width),Math.max(te.y,te.y+te.height)],ue=ie[0],J=ie[1],Y=ie[2],ae=ie[3],j=c([ue,J,Y,ae],T),q=j[0],oe=j[1],Q=j[2],X=j[3],se=v(W.level,w.length);if(W.d!=null){var ne;typeof W.d=="number"?ne=[W.d,W.d]:W.d.length&&(ne=W.d),se=Math.min(Math.max(Math.ceil(-i(Math.abs(ne[0])/(T[2]-T[0]))),Math.ceil(-i(Math.abs(ne[1])/(T[3]-T[1])))),se)}if(se=Math.min(se,w.length),W.lod)return z(q,oe,Q,X,se);var fe=[];ye(0,0,1,0,0,1);function ye(we,_e,ke,Me,me,Ee){if(!(me===null||Ee===null)){var Be=we+ke,Ue=_e+ke;if(!(q>Be||oe>Ue||Q<we||X<_e)&&!(Me>=se)&&me!==Ee){var De=w[Me];Ee===void 0&&(Ee=De.length);for(var He=me;He<Ee;He++){var nt=De[He],lt=l[nt*2],$e=l[nt*2+1];lt>=ue&&lt<=Y&&$e>=J&&$e<=ae&&fe.push(nt)}var qe=C[Me],ct=qe[me*4+0],dt=qe[me*4+1],gt=qe[me*4+2],At=qe[me*4+3],Rt=Se(qe,me+1),Vt=ke*.5,Je=Me+1;ye(we,_e,Vt,Je,ct,dt||gt||At||Rt),ye(we,_e+Vt,Vt,Je,dt,gt||At||Rt),ye(we+Vt,_e,Vt,Je,gt,At||Rt),ye(we+Vt,_e+Vt,Vt,Je,At,Rt)}}}function Se(we,_e){for(var ke=null,Me=0;ke===null;)if(ke=we[_e*4+Me],Me++,Me>we.length)return null;return ke}return fe}function z(_,B,W,$,te){for(var ie=[],ue=0;ue<te;ue++){var J=b[ue],Y=S[ue][0],ae=O(_,B,ue),j=O(W,$,ue),q=y.ge(J,ae),oe=y.gt(J,j,q,J.length-1);ie[ue]=[q+Y,oe+Y]}return ie}function O(_,B,W){for(var $=1,te=.5,ie=.5,ue=.5,J=0;J<W;J++)$<<=2,$+=_<te?B<ie?0:1:B<ie?2:3,ue*=.5,te+=_<te?-ue:ue,ie+=B<ie?-ue:ue;return $}};function c(u,l){for(var g=l[0],f=l[1],T=l[2],h=l[3],s=1/(T-g),d=1/(h-f),A=new Array(u.length),w=0,C=u.length/2;w<C;w++)A[2*w]=P((u[2*w]-g)*s,0,1),A[2*w+1]=P((u[2*w+1]-f)*d,0,1);return A}},30774:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(60302),P=6378137;function o(r){return y.geomReduce(r,function(t,i){return t+L(i)},0)}V.default=o;function L(r){var t=0,i;switch(r.type){case"Polygon":return M(r.coordinates);case"MultiPolygon":for(i=0;i<r.coordinates.length;i++)t+=M(r.coordinates[i]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function M(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var i=1;i<r.length;i++)t-=Math.abs(v(r[i]))}return t}function v(r){var t,i,n,c,u,l,g,f=0,T=r.length;if(T>2){for(g=0;g<T;g++)g===T-2?(c=T-2,u=T-1,l=0):g===T-1?(c=T-1,u=0,l=1):(c=g,u=g+1,l=g+2),t=r[c],i=r[u],n=r[l],f+=(p(n[0])-p(t[0]))*Math.sin(p(i[1]));f=f*P*P/2}return f}function p(r){return r*Math.PI/180}},23132:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(m,a,E){E===void 0&&(E={});var x={type:"Feature"};return(E.id===0||E.id)&&(x.id=E.id),E.bbox&&(x.bbox=E.bbox),x.properties=a||{},x.geometry=m,x}V.feature=e;function y(m,a,E){switch(m){case"Point":return P(a).geometry;case"LineString":return v(a).geometry;case"Polygon":return L(a).geometry;case"MultiPoint":return i(a).geometry;case"MultiLineString":return t(a).geometry;case"MultiPolygon":return n(a).geometry;default:throw new Error(m+" is invalid")}}V.geometry=y;function P(m,a,E){if(E===void 0&&(E={}),!m)throw new Error("coordinates is required");if(!Array.isArray(m))throw new Error("coordinates must be an Array");if(m.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(m[0])||!w(m[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:m};return e(x,a,E)}V.point=P;function o(m,a,E){return E===void 0&&(E={}),r(m.map(function(x){return P(x,a)}),E)}V.points=o;function L(m,a,E){E===void 0&&(E={});for(var x=0,k=m;x<k.length;x++){var I=k[x];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<I[I.length-1].length;N++)if(I[I.length-1][N]!==I[0][N])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:m};return e(F,a,E)}V.polygon=L;function M(m,a,E){return E===void 0&&(E={}),r(m.map(function(x){return L(x,a)}),E)}V.polygons=M;function v(m,a,E){if(E===void 0&&(E={}),m.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:m};return e(x,a,E)}V.lineString=v;function p(m,a,E){return E===void 0&&(E={}),r(m.map(function(x){return v(x,a)}),E)}V.lineStrings=p;function r(m,a){a===void 0&&(a={});var E={type:"FeatureCollection"};return a.id&&(E.id=a.id),a.bbox&&(E.bbox=a.bbox),E.features=m,E}V.featureCollection=r;function t(m,a,E){E===void 0&&(E={});var x={type:"MultiLineString",coordinates:m};return e(x,a,E)}V.multiLineString=t;function i(m,a,E){E===void 0&&(E={});var x={type:"MultiPoint",coordinates:m};return e(x,a,E)}V.multiPoint=i;function n(m,a,E){E===void 0&&(E={});var x={type:"MultiPolygon",coordinates:m};return e(x,a,E)}V.multiPolygon=n;function c(m,a,E){E===void 0&&(E={});var x={type:"GeometryCollection",geometries:m};return e(x,a,E)}V.geometryCollection=c;function u(m,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,a||0);return Math.round(m*E)/E}V.round=u;function l(m,a){a===void 0&&(a="kilometers");var E=V.factors[a];if(!E)throw new Error(a+" units is invalid");return m*E}V.radiansToLength=l;function g(m,a){a===void 0&&(a="kilometers");var E=V.factors[a];if(!E)throw new Error(a+" units is invalid");return m/E}V.lengthToRadians=g;function f(m,a){return h(g(m,a))}V.lengthToDegrees=f;function T(m){var a=m%360;return a<0&&(a+=360),a}V.bearingToAzimuth=T;function h(m){var a=m%(2*Math.PI);return a*180/Math.PI}V.radiansToDegrees=h;function s(m){var a=m%360;return a*Math.PI/180}V.degreesToRadians=s;function d(m,a,E){if(a===void 0&&(a="kilometers"),E===void 0&&(E="kilometers"),!(m>=0))throw new Error("length must be a positive number");return l(g(m,a),E)}V.convertLength=d;function A(m,a,E){if(a===void 0&&(a="meters"),E===void 0&&(E="kilometers"),!(m>=0))throw new Error("area must be a positive number");var x=V.areaFactors[a];if(!x)throw new Error("invalid original units");var k=V.areaFactors[E];if(!k)throw new Error("invalid final units");return m/x*k}V.convertArea=A;function w(m){return!isNaN(m)&&m!==null&&!Array.isArray(m)}V.isNumber=w;function C(m){return!!m&&m.constructor===Object}V.isObject=C;function b(m){if(!m)throw new Error("bbox is required");if(!Array.isArray(m))throw new Error("bbox must be an Array");if(m.length!==4&&m.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");m.forEach(function(a){if(!w(a))throw new Error("bbox must only contain numbers")})}V.validateBBox=b;function S(m){if(!m)throw new Error("id is required");if(["string","number"].indexOf(typeof m)===-1)throw new Error("id must be a number or a string")}V.validateId=S},60302:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(23132);function P(s,d,A){if(s!==null)for(var w,C,b,S,m,a,E,x=0,k=0,I,N=s.type,F=N==="FeatureCollection",z=N==="Feature",O=F?s.features.length:1,_=0;_<O;_++){E=F?s.features[_].geometry:z?s.geometry:s,I=E?E.type==="GeometryCollection":!1,m=I?E.geometries.length:1;for(var B=0;B<m;B++){var W=0,$=0;if(S=I?E.geometries[B]:E,S!==null){a=S.coordinates;var te=S.type;switch(x=A&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(a,k,_,W,$)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<a.length;w++){if(d(a[w],k,_,W,$)===!1)return!1;k++,te==="MultiPoint"&&W++}te==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<a.length;w++){for(C=0;C<a[w].length-x;C++){if(d(a[w][C],k,_,W,$)===!1)return!1;k++}te==="MultiLineString"&&W++,te==="Polygon"&&$++}te==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<a.length;w++){for($=0,C=0;C<a[w].length;C++){for(b=0;b<a[w][C].length-x;b++){if(d(a[w][C][b],k,_,W,$)===!1)return!1;k++}$++}W++}break;case"GeometryCollection":for(w=0;w<S.geometries.length;w++)if(P(S.geometries[w],d,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(s,d,A,w){var C=A;return P(s,function(b,S,m,a,E){S===0&&A===void 0?C=b:C=d(C,b,S,m,a,E)},w),C}function L(s,d){var A;switch(s.type){case"FeatureCollection":for(A=0;A<s.features.length&&d(s.features[A].properties,A)!==!1;A++);break;case"Feature":d(s.properties,0);break}}function M(s,d,A){var w=A;return L(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function v(s,d){if(s.type==="Feature")d(s,0);else if(s.type==="FeatureCollection")for(var A=0;A<s.features.length&&d(s.features[A],A)!==!1;A++);}function p(s,d,A){var w=A;return v(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function r(s){var d=[];return P(s,function(A){d.push(A)}),d}function t(s,d){var A,w,C,b,S,m,a,E,x,k,I=0,N=s.type==="FeatureCollection",F=s.type==="Feature",z=N?s.features.length:1;for(A=0;A<z;A++){for(m=N?s.features[A].geometry:F?s.geometry:s,E=N?s.features[A].properties:F?s.properties:{},x=N?s.features[A].bbox:F?s.bbox:void 0,k=N?s.features[A].id:F?s.id:void 0,a=m?m.type==="GeometryCollection":!1,S=a?m.geometries.length:1,C=0;C<S;C++){if(b=a?m.geometries[C]:m,b===null){if(d(null,I,E,x,k)===!1)return!1;continue}switch(b.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(b,I,E,x,k)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<b.geometries.length;w++)if(d(b.geometries[w],I,E,x,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function i(s,d,A){var w=A;return t(s,function(C,b,S,m,a){b===0&&A===void 0?w=C:w=d(w,C,b,S,m,a)}),w}function n(s,d){t(s,function(A,w,C,b,S){var m=A===null?null:A.type;switch(m){case null:case"Point":case"LineString":case"Polygon":return d(y.feature(A,C,{bbox:b,id:S}),w,0)===!1?!1:void 0}var a;switch(m){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var x=A.coordinates[E],k={type:a,coordinates:x};if(d(y.feature(k,C),w,E)===!1)return!1}})}function c(s,d,A){var w=A;return n(s,function(C,b,S){b===0&&S===0&&A===void 0?w=C:w=d(w,C,b,S)}),w}function u(s,d){n(s,function(A,w,C){var b=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var m,a=0,E=0,x=0;if(P(A,function(k,I,N,F,z){if(m===void 0||w>a||F>E||z>x){m=k,a=w,E=F,x=z,b=0;return}var O=y.lineString([m,k],A.properties);if(d(O,w,C,z,b)===!1)return!1;b++,m=k})===!1)return!1}}})}function l(s,d,A){var w=A,C=!1;return u(s,function(b,S,m,a,E){C===!1&&A===void 0?w=b:w=d(w,b,S,m,a,E),C=!0}),w}function g(s,d){if(!s)throw new Error("geojson is required");n(s,function(A,w,C){if(A.geometry!==null){var b=A.geometry.type,S=A.geometry.coordinates;switch(b){case"LineString":if(d(A,w,C,0,0)===!1)return!1;break;case"Polygon":for(var m=0;m<S.length;m++)if(d(y.lineString(S[m],A.properties),w,C,m)===!1)return!1;break}}})}function f(s,d,A){var w=A;return g(s,function(C,b,S,m){b===0&&A===void 0?w=C:w=d(w,C,b,S,m)}),w}function T(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.segmentIndex||0,S=d.properties,m;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,m=s.features[A].geometry;break;case"Feature":S=S||s.properties,m=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":m=s;break;default:throw new Error("geojson is invalid")}if(m===null)return null;var a=m.coordinates;switch(m.type){case"Point":case"MultiPoint":return null;case"LineString":return b<0&&(b=a.length+b-1),y.lineString([a[b],a[b+1]],S,d);case"Polygon":return C<0&&(C=a.length+C),b<0&&(b=a[C].length+b-1),y.lineString([a[C][b],a[C][b+1]],S,d);case"MultiLineString":return w<0&&(w=a.length+w),b<0&&(b=a[w].length+b-1),y.lineString([a[w][b],a[w][b+1]],S,d);case"MultiPolygon":return w<0&&(w=a.length+w),C<0&&(C=a[w].length+C),b<0&&(b=a[w][C].length-b-1),y.lineString([a[w][C][b],a[w][C][b+1]],S,d)}throw new Error("geojson is invalid")}function h(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.coordIndex||0,S=d.properties,m;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,m=s.features[A].geometry;break;case"Feature":S=S||s.properties,m=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":m=s;break;default:throw new Error("geojson is invalid")}if(m===null)return null;var a=m.coordinates;switch(m.type){case"Point":return y.point(a,S,d);case"MultiPoint":return w<0&&(w=a.length+w),y.point(a[w],S,d);case"LineString":return b<0&&(b=a.length+b),y.point(a[b],S,d);case"Polygon":return C<0&&(C=a.length+C),b<0&&(b=a[C].length+b),y.point(a[C][b],S,d);case"MultiLineString":return w<0&&(w=a.length+w),b<0&&(b=a[w].length+b),y.point(a[w][b],S,d);case"MultiPolygon":return w<0&&(w=a.length+w),C<0&&(C=a[w].length+C),b<0&&(b=a[w][C].length-b),y.point(a[w][C][b],S,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=o,V.propEach=L,V.propReduce=M,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=i,V.flattenEach=n,V.flattenReduce=c,V.segmentEach=u,V.segmentReduce=l,V.lineEach=g,V.lineReduce=f,V.findSegment=T,V.findPoint=h},85268:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(27138);function P(o){var L=[1/0,1/0,-1/0,-1/0];return y.coordEach(o,function(M){L[0]>M[0]&&(L[0]=M[0]),L[1]>M[1]&&(L[1]=M[1]),L[2]<M[0]&&(L[2]=M[0]),L[3]<M[1]&&(L[3]=M[1])}),L}P.default=P,V.default=P},94228:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(m,a,E){E===void 0&&(E={});var x={type:"Feature"};return(E.id===0||E.id)&&(x.id=E.id),E.bbox&&(x.bbox=E.bbox),x.properties=a||{},x.geometry=m,x}V.feature=e;function y(m,a,E){switch(m){case"Point":return P(a).geometry;case"LineString":return v(a).geometry;case"Polygon":return L(a).geometry;case"MultiPoint":return i(a).geometry;case"MultiLineString":return t(a).geometry;case"MultiPolygon":return n(a).geometry;default:throw new Error(m+" is invalid")}}V.geometry=y;function P(m,a,E){if(E===void 0&&(E={}),!m)throw new Error("coordinates is required");if(!Array.isArray(m))throw new Error("coordinates must be an Array");if(m.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(m[0])||!w(m[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:m};return e(x,a,E)}V.point=P;function o(m,a,E){return E===void 0&&(E={}),r(m.map(function(x){return P(x,a)}),E)}V.points=o;function L(m,a,E){E===void 0&&(E={});for(var x=0,k=m;x<k.length;x++){var I=k[x];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<I[I.length-1].length;N++)if(I[I.length-1][N]!==I[0][N])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:m};return e(F,a,E)}V.polygon=L;function M(m,a,E){return E===void 0&&(E={}),r(m.map(function(x){return L(x,a)}),E)}V.polygons=M;function v(m,a,E){if(E===void 0&&(E={}),m.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:m};return e(x,a,E)}V.lineString=v;function p(m,a,E){return E===void 0&&(E={}),r(m.map(function(x){return v(x,a)}),E)}V.lineStrings=p;function r(m,a){a===void 0&&(a={});var E={type:"FeatureCollection"};return a.id&&(E.id=a.id),a.bbox&&(E.bbox=a.bbox),E.features=m,E}V.featureCollection=r;function t(m,a,E){E===void 0&&(E={});var x={type:"MultiLineString",coordinates:m};return e(x,a,E)}V.multiLineString=t;function i(m,a,E){E===void 0&&(E={});var x={type:"MultiPoint",coordinates:m};return e(x,a,E)}V.multiPoint=i;function n(m,a,E){E===void 0&&(E={});var x={type:"MultiPolygon",coordinates:m};return e(x,a,E)}V.multiPolygon=n;function c(m,a,E){E===void 0&&(E={});var x={type:"GeometryCollection",geometries:m};return e(x,a,E)}V.geometryCollection=c;function u(m,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,a||0);return Math.round(m*E)/E}V.round=u;function l(m,a){a===void 0&&(a="kilometers");var E=V.factors[a];if(!E)throw new Error(a+" units is invalid");return m*E}V.radiansToLength=l;function g(m,a){a===void 0&&(a="kilometers");var E=V.factors[a];if(!E)throw new Error(a+" units is invalid");return m/E}V.lengthToRadians=g;function f(m,a){return h(g(m,a))}V.lengthToDegrees=f;function T(m){var a=m%360;return a<0&&(a+=360),a}V.bearingToAzimuth=T;function h(m){var a=m%(2*Math.PI);return a*180/Math.PI}V.radiansToDegrees=h;function s(m){var a=m%360;return a*Math.PI/180}V.degreesToRadians=s;function d(m,a,E){if(a===void 0&&(a="kilometers"),E===void 0&&(E="kilometers"),!(m>=0))throw new Error("length must be a positive number");return l(g(m,a),E)}V.convertLength=d;function A(m,a,E){if(a===void 0&&(a="meters"),E===void 0&&(E="kilometers"),!(m>=0))throw new Error("area must be a positive number");var x=V.areaFactors[a];if(!x)throw new Error("invalid original units");var k=V.areaFactors[E];if(!k)throw new Error("invalid final units");return m/x*k}V.convertArea=A;function w(m){return!isNaN(m)&&m!==null&&!Array.isArray(m)}V.isNumber=w;function C(m){return!!m&&m.constructor===Object}V.isObject=C;function b(m){if(!m)throw new Error("bbox is required");if(!Array.isArray(m))throw new Error("bbox must be an Array");if(m.length!==4&&m.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");m.forEach(function(a){if(!w(a))throw new Error("bbox must only contain numbers")})}V.validateBBox=b;function S(m){if(!m)throw new Error("id is required");if(["string","number"].indexOf(typeof m)===-1)throw new Error("id must be a number or a string")}V.validateId=S},27138:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(94228);function P(s,d,A){if(s!==null)for(var w,C,b,S,m,a,E,x=0,k=0,I,N=s.type,F=N==="FeatureCollection",z=N==="Feature",O=F?s.features.length:1,_=0;_<O;_++){E=F?s.features[_].geometry:z?s.geometry:s,I=E?E.type==="GeometryCollection":!1,m=I?E.geometries.length:1;for(var B=0;B<m;B++){var W=0,$=0;if(S=I?E.geometries[B]:E,S!==null){a=S.coordinates;var te=S.type;switch(x=A&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(a,k,_,W,$)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<a.length;w++){if(d(a[w],k,_,W,$)===!1)return!1;k++,te==="MultiPoint"&&W++}te==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<a.length;w++){for(C=0;C<a[w].length-x;C++){if(d(a[w][C],k,_,W,$)===!1)return!1;k++}te==="MultiLineString"&&W++,te==="Polygon"&&$++}te==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<a.length;w++){for($=0,C=0;C<a[w].length;C++){for(b=0;b<a[w][C].length-x;b++){if(d(a[w][C][b],k,_,W,$)===!1)return!1;k++}$++}W++}break;case"GeometryCollection":for(w=0;w<S.geometries.length;w++)if(P(S.geometries[w],d,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(s,d,A,w){var C=A;return P(s,function(b,S,m,a,E){S===0&&A===void 0?C=b:C=d(C,b,S,m,a,E)},w),C}function L(s,d){var A;switch(s.type){case"FeatureCollection":for(A=0;A<s.features.length&&d(s.features[A].properties,A)!==!1;A++);break;case"Feature":d(s.properties,0);break}}function M(s,d,A){var w=A;return L(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function v(s,d){if(s.type==="Feature")d(s,0);else if(s.type==="FeatureCollection")for(var A=0;A<s.features.length&&d(s.features[A],A)!==!1;A++);}function p(s,d,A){var w=A;return v(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function r(s){var d=[];return P(s,function(A){d.push(A)}),d}function t(s,d){var A,w,C,b,S,m,a,E,x,k,I=0,N=s.type==="FeatureCollection",F=s.type==="Feature",z=N?s.features.length:1;for(A=0;A<z;A++){for(m=N?s.features[A].geometry:F?s.geometry:s,E=N?s.features[A].properties:F?s.properties:{},x=N?s.features[A].bbox:F?s.bbox:void 0,k=N?s.features[A].id:F?s.id:void 0,a=m?m.type==="GeometryCollection":!1,S=a?m.geometries.length:1,C=0;C<S;C++){if(b=a?m.geometries[C]:m,b===null){if(d(null,I,E,x,k)===!1)return!1;continue}switch(b.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(b,I,E,x,k)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<b.geometries.length;w++)if(d(b.geometries[w],I,E,x,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function i(s,d,A){var w=A;return t(s,function(C,b,S,m,a){b===0&&A===void 0?w=C:w=d(w,C,b,S,m,a)}),w}function n(s,d){t(s,function(A,w,C,b,S){var m=A===null?null:A.type;switch(m){case null:case"Point":case"LineString":case"Polygon":return d(y.feature(A,C,{bbox:b,id:S}),w,0)===!1?!1:void 0}var a;switch(m){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var x=A.coordinates[E],k={type:a,coordinates:x};if(d(y.feature(k,C),w,E)===!1)return!1}})}function c(s,d,A){var w=A;return n(s,function(C,b,S){b===0&&S===0&&A===void 0?w=C:w=d(w,C,b,S)}),w}function u(s,d){n(s,function(A,w,C){var b=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var m,a=0,E=0,x=0;if(P(A,function(k,I,N,F,z){if(m===void 0||w>a||F>E||z>x){m=k,a=w,E=F,x=z,b=0;return}var O=y.lineString([m,k],A.properties);if(d(O,w,C,z,b)===!1)return!1;b++,m=k})===!1)return!1}}})}function l(s,d,A){var w=A,C=!1;return u(s,function(b,S,m,a,E){C===!1&&A===void 0?w=b:w=d(w,b,S,m,a,E),C=!0}),w}function g(s,d){if(!s)throw new Error("geojson is required");n(s,function(A,w,C){if(A.geometry!==null){var b=A.geometry.type,S=A.geometry.coordinates;switch(b){case"LineString":if(d(A,w,C,0,0)===!1)return!1;break;case"Polygon":for(var m=0;m<S.length;m++)if(d(y.lineString(S[m],A.properties),w,C,m)===!1)return!1;break}}})}function f(s,d,A){var w=A;return g(s,function(C,b,S,m){b===0&&A===void 0?w=C:w=d(w,C,b,S,m)}),w}function T(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.segmentIndex||0,S=d.properties,m;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,m=s.features[A].geometry;break;case"Feature":S=S||s.properties,m=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":m=s;break;default:throw new Error("geojson is invalid")}if(m===null)return null;var a=m.coordinates;switch(m.type){case"Point":case"MultiPoint":return null;case"LineString":return b<0&&(b=a.length+b-1),y.lineString([a[b],a[b+1]],S,d);case"Polygon":return C<0&&(C=a.length+C),b<0&&(b=a[C].length+b-1),y.lineString([a[C][b],a[C][b+1]],S,d);case"MultiLineString":return w<0&&(w=a.length+w),b<0&&(b=a[w].length+b-1),y.lineString([a[w][b],a[w][b+1]],S,d);case"MultiPolygon":return w<0&&(w=a.length+w),C<0&&(C=a[w].length+C),b<0&&(b=a[w][C].length-b-1),y.lineString([a[w][C][b],a[w][C][b+1]],S,d)}throw new Error("geojson is invalid")}function h(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.coordIndex||0,S=d.properties,m;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,m=s.features[A].geometry;break;case"Feature":S=S||s.properties,m=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":m=s;break;default:throw new Error("geojson is invalid")}if(m===null)return null;var a=m.coordinates;switch(m.type){case"Point":return y.point(a,S,d);case"MultiPoint":return w<0&&(w=a.length+w),y.point(a[w],S,d);case"LineString":return b<0&&(b=a.length+b),y.point(a[b],S,d);case"Polygon":return C<0&&(C=a.length+C),b<0&&(b=a[C].length+b),y.point(a[C][b],S,d);case"MultiLineString":return w<0&&(w=a.length+w),b<0&&(b=a[w].length+b),y.point(a[w][b],S,d);case"MultiPolygon":return w<0&&(w=a.length+w),C<0&&(C=a[w].length+C),b<0&&(b=a[w][C].length-b),y.point(a[w][C][b],S,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=o,V.propEach=L,V.propReduce=M,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=i,V.flattenEach=n,V.flattenReduce=c,V.segmentEach=u,V.segmentReduce=l,V.lineEach=g,V.lineReduce=f,V.findSegment=T,V.findPoint=h},29261:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(88553),P=e(64182);function o(L,M){M===void 0&&(M={});var v=0,p=0,r=0;return y.coordEach(L,function(t){v+=t[0],p+=t[1],r++}),P.point([v/r,p/r],M.properties)}V.default=o},64182:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius/1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:.91441111923921},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(F,z,O){O===void 0&&(O={});var _={type:"Feature"};return(O.id===0||O.id)&&(_.id=O.id),O.bbox&&(_.bbox=O.bbox),_.properties=z||{},_.geometry=F,_}V.feature=e;function y(F,z,O){switch(F){case"Point":return P(z).geometry;case"LineString":return v(z).geometry;case"Polygon":return L(z).geometry;case"MultiPoint":return i(z).geometry;case"MultiLineString":return t(z).geometry;case"MultiPolygon":return n(z).geometry;default:throw new Error(F+" is invalid")}}V.geometry=y;function P(F,z,O){O===void 0&&(O={});var _={type:"Point",coordinates:F};return e(_,z,O)}V.point=P;function o(F,z,O){return O===void 0&&(O={}),r(F.map(function(_){return P(_,z)}),O)}V.points=o;function L(F,z,O){O===void 0&&(O={});for(var _=0,B=F;_<B.length;_++){var W=B[_];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var $=0;$<W[W.length-1].length;$++)if(W[W.length-1][$]!==W[0][$])throw new Error("First and last Position are not equivalent.")}var te={type:"Polygon",coordinates:F};return e(te,z,O)}V.polygon=L;function M(F,z,O){return O===void 0&&(O={}),r(F.map(function(_){return L(_,z)}),O)}V.polygons=M;function v(F,z,O){if(O===void 0&&(O={}),F.length<2)throw new Error("coordinates must be an array of two or more positions");var _={type:"LineString",coordinates:F};return e(_,z,O)}V.lineString=v;function p(F,z,O){return O===void 0&&(O={}),r(F.map(function(_){return v(_,z)}),O)}V.lineStrings=p;function r(F,z){z===void 0&&(z={});var O={type:"FeatureCollection"};return z.id&&(O.id=z.id),z.bbox&&(O.bbox=z.bbox),O.features=F,O}V.featureCollection=r;function t(F,z,O){O===void 0&&(O={});var _={type:"MultiLineString",coordinates:F};return e(_,z,O)}V.multiLineString=t;function i(F,z,O){O===void 0&&(O={});var _={type:"MultiPoint",coordinates:F};return e(_,z,O)}V.multiPoint=i;function n(F,z,O){O===void 0&&(O={});var _={type:"MultiPolygon",coordinates:F};return e(_,z,O)}V.multiPolygon=n;function c(F,z,O){O===void 0&&(O={});var _={type:"GeometryCollection",geometries:F};return e(_,z,O)}V.geometryCollection=c;function u(F,z){if(z===void 0&&(z=0),z&&!(z>=0))throw new Error("precision must be a positive number");var O=Math.pow(10,z||0);return Math.round(F*O)/O}V.round=u;function l(F,z){z===void 0&&(z="kilometers");var O=V.factors[z];if(!O)throw new Error(z+" units is invalid");return F*O}V.radiansToLength=l;function g(F,z){z===void 0&&(z="kilometers");var O=V.factors[z];if(!O)throw new Error(z+" units is invalid");return F/O}V.lengthToRadians=g;function f(F,z){return h(g(F,z))}V.lengthToDegrees=f;function T(F){var z=F%360;return z<0&&(z+=360),z}V.bearingToAzimuth=T;function h(F){var z=F%(2*Math.PI);return z*180/Math.PI}V.radiansToDegrees=h;function s(F){var z=F%360;return z*Math.PI/180}V.degreesToRadians=s;function d(F,z,O){if(z===void 0&&(z="kilometers"),O===void 0&&(O="kilometers"),!(F>=0))throw new Error("length must be a positive number");return l(g(F,z),O)}V.convertLength=d;function A(F,z,O){if(z===void 0&&(z="meters"),O===void 0&&(O="kilometers"),!(F>=0))throw new Error("area must be a positive number");var _=V.areaFactors[z];if(!_)throw new Error("invalid original units");var B=V.areaFactors[O];if(!B)throw new Error("invalid final units");return F/_*B}V.convertArea=A;function w(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)&&!/^\s*$/.test(F)}V.isNumber=w;function C(F){return!!F&&F.constructor===Object}V.isObject=C;function b(F){if(!F)throw new Error("bbox is required");if(!Array.isArray(F))throw new Error("bbox must be an Array");if(F.length!==4&&F.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");F.forEach(function(z){if(!w(z))throw new Error("bbox must only contain numbers")})}V.validateBBox=b;function S(F){if(!F)throw new Error("id is required");if(["string","number"].indexOf(typeof F)===-1)throw new Error("id must be a number or a string")}V.validateId=S;function m(){throw new Error("method has been renamed to `radiansToDegrees`")}V.radians2degrees=m;function a(){throw new Error("method has been renamed to `degreesToRadians`")}V.degrees2radians=a;function E(){throw new Error("method has been renamed to `lengthToDegrees`")}V.distanceToDegrees=E;function x(){throw new Error("method has been renamed to `lengthToRadians`")}V.distanceToRadians=x;function k(){throw new Error("method has been renamed to `radiansToLength`")}V.radiansToDistance=k;function I(){throw new Error("method has been renamed to `bearingToAzimuth`")}V.bearingToAngle=I;function N(){throw new Error("method has been renamed to `convertLength`")}V.convertDistance=N},88553:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var y=e(64182);function P(s,d,A){if(s!==null)for(var w,C,b,S,m,a,E,x=0,k=0,I,N=s.type,F=N==="FeatureCollection",z=N==="Feature",O=F?s.features.length:1,_=0;_<O;_++){E=F?s.features[_].geometry:z?s.geometry:s,I=E?E.type==="GeometryCollection":!1,m=I?E.geometries.length:1;for(var B=0;B<m;B++){var W=0,$=0;if(S=I?E.geometries[B]:E,S!==null){a=S.coordinates;var te=S.type;switch(x=A&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(a,k,_,W,$)===!1)return!1;k++,W++;break;case"LineString":case"MultiPoint":for(w=0;w<a.length;w++){if(d(a[w],k,_,W,$)===!1)return!1;k++,te==="MultiPoint"&&W++}te==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(w=0;w<a.length;w++){for(C=0;C<a[w].length-x;C++){if(d(a[w][C],k,_,W,$)===!1)return!1;k++}te==="MultiLineString"&&W++,te==="Polygon"&&$++}te==="Polygon"&&W++;break;case"MultiPolygon":for(w=0;w<a.length;w++){for($=0,C=0;C<a[w].length;C++){for(b=0;b<a[w][C].length-x;b++){if(d(a[w][C][b],k,_,W,$)===!1)return!1;k++}$++}W++}break;case"GeometryCollection":for(w=0;w<S.geometries.length;w++)if(P(S.geometries[w],d,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(s,d,A,w){var C=A;return P(s,function(b,S,m,a,E){S===0&&A===void 0?C=b:C=d(C,b,S,m,a,E)},w),C}function L(s,d){var A;switch(s.type){case"FeatureCollection":for(A=0;A<s.features.length&&d(s.features[A].properties,A)!==!1;A++);break;case"Feature":d(s.properties,0);break}}function M(s,d,A){var w=A;return L(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function v(s,d){if(s.type==="Feature")d(s,0);else if(s.type==="FeatureCollection")for(var A=0;A<s.features.length&&d(s.features[A],A)!==!1;A++);}function p(s,d,A){var w=A;return v(s,function(C,b){b===0&&A===void 0?w=C:w=d(w,C,b)}),w}function r(s){var d=[];return P(s,function(A){d.push(A)}),d}function t(s,d){var A,w,C,b,S,m,a,E,x,k,I=0,N=s.type==="FeatureCollection",F=s.type==="Feature",z=N?s.features.length:1;for(A=0;A<z;A++){for(m=N?s.features[A].geometry:F?s.geometry:s,E=N?s.features[A].properties:F?s.properties:{},x=N?s.features[A].bbox:F?s.bbox:void 0,k=N?s.features[A].id:F?s.id:void 0,a=m?m.type==="GeometryCollection":!1,S=a?m.geometries.length:1,C=0;C<S;C++){if(b=a?m.geometries[C]:m,b===null){if(d(null,I,E,x,k)===!1)return!1;continue}switch(b.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(b,I,E,x,k)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<b.geometries.length;w++)if(d(b.geometries[w],I,E,x,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function i(s,d,A){var w=A;return t(s,function(C,b,S,m,a){b===0&&A===void 0?w=C:w=d(w,C,b,S,m,a)}),w}function n(s,d){t(s,function(A,w,C,b,S){var m=A===null?null:A.type;switch(m){case null:case"Point":case"LineString":case"Polygon":return d(y.feature(A,C,{bbox:b,id:S}),w,0)===!1?!1:void 0}var a;switch(m){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var x=A.coordinates[E],k={type:a,coordinates:x};if(d(y.feature(k,C),w,E)===!1)return!1}})}function c(s,d,A){var w=A;return n(s,function(C,b,S){b===0&&S===0&&A===void 0?w=C:w=d(w,C,b,S)}),w}function u(s,d){n(s,function(A,w,C){var b=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var m,a=0,E=0,x=0;if(P(A,function(k,I,N,F,z){if(m===void 0||w>a||F>E||z>x){m=k,a=w,E=F,x=z,b=0;return}var O=y.lineString([m,k],A.properties);if(d(O,w,C,z,b)===!1)return!1;b++,m=k})===!1)return!1}}})}function l(s,d,A){var w=A,C=!1;return u(s,function(b,S,m,a,E){C===!1&&A===void 0?w=b:w=d(w,b,S,m,a,E),C=!0}),w}function g(s,d){if(!s)throw new Error("geojson is required");n(s,function(A,w,C){if(A.geometry!==null){var b=A.geometry.type,S=A.geometry.coordinates;switch(b){case"LineString":if(d(A,w,C,0,0)===!1)return!1;break;case"Polygon":for(var m=0;m<S.length;m++)if(d(y.lineString(S[m],A.properties),w,C,m)===!1)return!1;break}}})}function f(s,d,A){var w=A;return g(s,function(C,b,S,m){b===0&&A===void 0?w=C:w=d(w,C,b,S,m)}),w}function T(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.segmentIndex||0,S=d.properties,m;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,m=s.features[A].geometry;break;case"Feature":S=S||s.properties,m=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":m=s;break;default:throw new Error("geojson is invalid")}if(m===null)return null;var a=m.coordinates;switch(m.type){case"Point":case"MultiPoint":return null;case"LineString":return b<0&&(b=a.length+b-1),y.lineString([a[b],a[b+1]],S,d);case"Polygon":return C<0&&(C=a.length+C),b<0&&(b=a[C].length+b-1),y.lineString([a[C][b],a[C][b+1]],S,d);case"MultiLineString":return w<0&&(w=a.length+w),b<0&&(b=a[w].length+b-1),y.lineString([a[w][b],a[w][b+1]],S,d);case"MultiPolygon":return w<0&&(w=a.length+w),C<0&&(C=a[w].length+C),b<0&&(b=a[w][C].length-b-1),y.lineString([a[w][C][b],a[w][C][b+1]],S,d)}throw new Error("geojson is invalid")}function h(s,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,w=d.multiFeatureIndex||0,C=d.geometryIndex||0,b=d.coordIndex||0,S=d.properties,m;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),S=S||s.features[A].properties,m=s.features[A].geometry;break;case"Feature":S=S||s.properties,m=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":m=s;break;default:throw new Error("geojson is invalid")}if(m===null)return null;var a=m.coordinates;switch(m.type){case"Point":return y.point(a,S,d);case"MultiPoint":return w<0&&(w=a.length+w),y.point(a[w],S,d);case"LineString":return b<0&&(b=a.length+b),y.point(a[b],S,d);case"Polygon":return C<0&&(C=a.length+C),b<0&&(b=a[C].length+b),y.point(a[C][b],S,d);case"MultiLineString":return w<0&&(w=a.length+w),b<0&&(b=a[w].length+b),y.point(a[w][b],S,d);case"MultiPolygon":return w<0&&(w=a.length+w),C<0&&(C=a[w].length+C),b<0&&(b=a[w][C].length-b),y.point(a[w][C][b],S,d)}throw new Error("geojson is invalid")}V.coordEach=P,V.coordReduce=o,V.propEach=L,V.propReduce=M,V.featureEach=v,V.featureReduce=p,V.coordAll=r,V.geomEach=t,V.geomReduce=i,V.flattenEach=n,V.flattenReduce=c,V.segmentEach=u,V.segmentReduce=l,V.lineEach=g,V.lineReduce=f,V.findSegment=T,V.findPoint=h},65185:function(G){G.exports=V;function V(e){var y=0,P=0,o=0,L=0;return e.map(function(M){M=M.slice();var v=M[0],p=v.toUpperCase();if(v!=p)switch(M[0]=p,v){case"a":M[6]+=o,M[7]+=L;break;case"v":M[1]+=L;break;case"h":M[1]+=o;break;default:for(var r=1;r<M.length;)M[r++]+=o,M[r++]+=L}switch(p){case"Z":o=y,L=P;break;case"H":o=M[1];break;case"V":L=M[1];break;case"M":o=y=M[1],L=P=M[2];break;default:o=M[M.length-2],L=M[M.length-1]}return M})}},21527:function(G){G.exports=V;function V(e,y){if(!e||e.length==null)throw Error("Argument should be an array");y==null?y=1:y=Math.floor(y);for(var P=Array(y*2),o=0;o<y;o++){for(var L=-1/0,M=1/0,v=o,p=e.length;v<p;v+=y)e[v]>L&&(L=e[v]),e[v]<M&&(M=e[v]);P[o]=M,P[y+o]=L}return P}},6851:function(G){G.exports=function(V,e,y){if(typeof Array.prototype.findIndex=="function")return V.findIndex(e,y);if(typeof e!="function")throw new TypeError("predicate must be a function");var P=Object(V),o=P.length;if(o===0)return-1;for(var L=0;L<o;L++)if(e.call(y,P[L],L,P))return L;return-1}},54:function(G,V,e){var y=e(21527);G.exports=P;function P(o,L,M){if(!o||o.length==null)throw Error("Argument should be an array");L==null&&(L=1),M==null&&(M=y(o,L));for(var v=0;v<L;v++){var p=M[L+v],r=M[v],t=v,i=o.length;if(p===1/0&&r===-1/0)for(t=v;t<i;t+=L)o[t]=o[t]===p?1:o[t]===r?0:.5;else if(p===1/0)for(t=v;t<i;t+=L)o[t]=o[t]===p?1:0;else if(r===-1/0)for(t=v;t<i;t+=L)o[t]=o[t]===r?0:1;else{var n=p-r;for(t=v;t<i;t+=L)isNaN(o[t])||(o[t]=n===0?.5:(o[t]-r)/n)}}return o}},57471:function(G){G.exports=function(e,y){var P=typeof e=="number",o=typeof y=="number";P&&!o?(y=e,e=0):!P&&!o&&(e=0,y=0),e=e|0,y=y|0;var L=y-e;if(L<0)throw new Error("array length must be positive");for(var M=new Array(L),v=0,p=e;v<L;v++,p++)M[v]=p;return M}},32791:function(G,V,e){var y=e(90386);function P($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(ie){return typeof ie}:P=function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},P($)}function o($,te){if(!($ instanceof te))throw new TypeError("Cannot call a class as a function")}var L=e(79616),M=L.codes,v=M.ERR_AMBIGUOUS_ARGUMENT,p=M.ERR_INVALID_ARG_TYPE,r=M.ERR_INVALID_ARG_VALUE,t=M.ERR_INVALID_RETURN_VALUE,i=M.ERR_MISSING_ARGS,n=e(73894),c=e(43827),u=c.inspect,l=e(43827).types,g=l.isPromise,f=l.isRegExp,T=Object.assign?Object.assign:e(73523).assign,h=Object.is?Object.is:e(64003),s,d;function A(){var $=e(74061);s=$.isDeepEqual,d=$.isDeepStrictEqual}var w=!1,C=G.exports=E,b={};function S($){throw $.message instanceof Error?$.message:new n($)}function m($,te,ie,ue,J){var Y=arguments.length,ae;if(Y===0)ae="Failed";else if(Y===1)ie=$,$=void 0;else{if(w===!1){w=!0;var j=y.emitWarning?y.emitWarning:console.warn.bind(console);j("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Y===2&&(ue="!=")}if(ie instanceof Error)throw ie;var q={actual:$,expected:te,operator:ue===void 0?"fail":ue,stackStartFn:J||m};ie!==void 0&&(q.message=ie);var oe=new n(q);throw ae&&(oe.message=ae,oe.generatedMessage=!0),oe}C.fail=m,C.AssertionError=n;function a($,te,ie,ue){if(!ie){var J=!1;if(te===0)J=!0,ue="No value argument passed to `assert.ok()`";else if(ue instanceof Error)throw ue;var Y=new n({actual:ie,expected:!0,message:ue,operator:"==",stackStartFn:$});throw Y.generatedMessage=J,Y}}function E(){for(var $=arguments.length,te=new Array($),ie=0;ie<$;ie++)te[ie]=arguments[ie];a.apply(void 0,[E,te.length].concat(te))}C.ok=E,C.equal=function $(te,ie,ue){if(arguments.length<2)throw new i("actual","expected");te!=ie&&S({actual:te,expected:ie,message:ue,operator:"==",stackStartFn:$})},C.notEqual=function $(te,ie,ue){if(arguments.length<2)throw new i("actual","expected");te==ie&&S({actual:te,expected:ie,message:ue,operator:"!=",stackStartFn:$})},C.deepEqual=function $(te,ie,ue){if(arguments.length<2)throw new i("actual","expected");s===void 0&&A(),s(te,ie)||S({actual:te,expected:ie,message:ue,operator:"deepEqual",stackStartFn:$})},C.notDeepEqual=function $(te,ie,ue){if(arguments.length<2)throw new i("actual","expected");s===void 0&&A(),s(te,ie)&&S({actual:te,expected:ie,message:ue,operator:"notDeepEqual",stackStartFn:$})},C.deepStrictEqual=function $(te,ie,ue){if(arguments.length<2)throw new i("actual","expected");s===void 0&&A(),d(te,ie)||S({actual:te,expected:ie,message:ue,operator:"deepStrictEqual",stackStartFn:$})},C.notDeepStrictEqual=x;function x($,te,ie){if(arguments.length<2)throw new i("actual","expected");s===void 0&&A(),d($,te)&&S({actual:$,expected:te,message:ie,operator:"notDeepStrictEqual",stackStartFn:x})}C.strictEqual=function $(te,ie,ue){if(arguments.length<2)throw new i("actual","expected");h(te,ie)||S({actual:te,expected:ie,message:ue,operator:"strictEqual",stackStartFn:$})},C.notStrictEqual=function $(te,ie,ue){if(arguments.length<2)throw new i("actual","expected");h(te,ie)&&S({actual:te,expected:ie,message:ue,operator:"notStrictEqual",stackStartFn:$})};var k=function $(te,ie,ue){var J=this;o(this,$),ie.forEach(function(Y){Y in te&&(ue!==void 0&&typeof ue[Y]=="string"&&f(te[Y])&&te[Y].test(ue[Y])?J[Y]=ue[Y]:J[Y]=te[Y])})};function I($,te,ie,ue,J,Y){if(!(ie in $)||!d($[ie],te[ie])){if(!ue){var ae=new k($,J),j=new k(te,J,$),q=new n({actual:ae,expected:j,operator:"deepStrictEqual",stackStartFn:Y});throw q.actual=$,q.expected=te,q.operator=Y.name,q}S({actual:$,expected:te,message:ue,operator:Y.name,stackStartFn:Y})}}function N($,te,ie,ue){if(typeof te!="function"){if(f(te))return te.test($);if(arguments.length===2)throw new p("expected",["Function","RegExp"],te);if(P($)!=="object"||$===null){var J=new n({actual:$,expected:te,message:ie,operator:"deepStrictEqual",stackStartFn:ue});throw J.operator=ue.name,J}var Y=Object.keys(te);if(te instanceof Error)Y.push("name","message");else if(Y.length===0)throw new r("error",te,"may not be an empty object");return s===void 0&&A(),Y.forEach(function(ae){typeof $[ae]=="string"&&f(te[ae])&&te[ae].test($[ae])||I($,te,ae,ie,Y,ue)}),!0}return te.prototype!==void 0&&$ instanceof te?!0:Error.isPrototypeOf(te)?!1:te.call({},$)===!0}function F($){if(typeof $!="function")throw new p("fn","Function",$);try{$()}catch(te){return te}return b}function z($){return g($)||$!==null&&P($)==="object"&&typeof $.then=="function"&&typeof $.catch=="function"}function O($){return Promise.resolve().then(function(){var te;if(typeof $=="function"){if(te=$(),!z(te))throw new t("instance of Promise","promiseFn",te)}else if(z($))te=$;else throw new p("promiseFn",["Function","Promise"],$);return Promise.resolve().then(function(){return te}).then(function(){return b}).catch(function(ie){return ie})})}function _($,te,ie,ue){if(typeof ie=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ie);if(P(te)==="object"&&te!==null){if(te.message===ie)throw new v("error/message",'The error message "'.concat(te.message,'" is identical to the message.'))}else if(te===ie)throw new v("error/message",'The error "'.concat(te,'" is identical to the message.'));ue=ie,ie=void 0}else if(ie!=null&&P(ie)!=="object"&&typeof ie!="function")throw new p("error",["Object","Error","Function","RegExp"],ie);if(te===b){var J="";ie&&ie.name&&(J+=" (".concat(ie.name,")")),J+=ue?": ".concat(ue):".";var Y=$.name==="rejects"?"rejection":"exception";S({actual:void 0,expected:ie,operator:$.name,message:"Missing expected ".concat(Y).concat(J),stackStartFn:$})}if(ie&&!N(te,ie,ue,$))throw te}function B($,te,ie,ue){if(te!==b){if(typeof ie=="string"&&(ue=ie,ie=void 0),!ie||N(te,ie)){var J=ue?": ".concat(ue):".",Y=$.name==="doesNotReject"?"rejection":"exception";S({actual:te,expected:ie,operator:$.name,message:"Got unwanted ".concat(Y).concat(J,`
`)+'Actual message: "'.concat(te&&te.message,'"'),stackStartFn:$})}throw te}}C.throws=function $(te){for(var ie=arguments.length,ue=new Array(ie>1?ie-1:0),J=1;J<ie;J++)ue[J-1]=arguments[J];_.apply(void 0,[$,F(te)].concat(ue))},C.rejects=function $(te){for(var ie=arguments.length,ue=new Array(ie>1?ie-1:0),J=1;J<ie;J++)ue[J-1]=arguments[J];return O(te).then(function(Y){return _.apply(void 0,[$,Y].concat(ue))})},C.doesNotThrow=function $(te){for(var ie=arguments.length,ue=new Array(ie>1?ie-1:0),J=1;J<ie;J++)ue[J-1]=arguments[J];B.apply(void 0,[$,F(te)].concat(ue))},C.doesNotReject=function $(te){for(var ie=arguments.length,ue=new Array(ie>1?ie-1:0),J=1;J<ie;J++)ue[J-1]=arguments[J];return O(te).then(function(Y){return B.apply(void 0,[$,Y].concat(ue))})},C.ifError=function $(te){if(te!=null){var ie="ifError got unwanted exception: ";P(te)==="object"&&typeof te.message=="string"?te.message.length===0&&te.constructor?ie+=te.constructor.name:ie+=te.message:ie+=u(te);var ue=new n({actual:te,expected:null,operator:"ifError",message:ie,stackStartFn:$}),J=te.stack;if(typeof J=="string"){var Y=J.split(`
`);Y.shift();for(var ae=ue.stack.split(`
`),j=0;j<Y.length;j++){var q=ae.indexOf(Y[j]);if(q!==-1){ae=ae.slice(0,q);break}}ue.stack="".concat(ae.join(`
`),`
`).concat(Y.join(`
`))}throw ue}};function W(){for(var $=arguments.length,te=new Array($),ie=0;ie<$;ie++)te[ie]=arguments[ie];a.apply(void 0,[W,te.length].concat(te))}C.strict=T(W,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},73894:function(G,V,e){var y=e(90386);function P(F){for(var z=1;z<arguments.length;z++){var O=arguments[z]!=null?arguments[z]:{},_=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(_=_.concat(Object.getOwnPropertySymbols(O).filter(function(B){return Object.getOwnPropertyDescriptor(O,B).enumerable}))),_.forEach(function(B){o(F,B,O[B])})}return F}function o(F,z,O){return z in F?Object.defineProperty(F,z,{value:O,enumerable:!0,configurable:!0,writable:!0}):F[z]=O,F}function L(F,z){if(!(F instanceof z))throw new TypeError("Cannot call a class as a function")}function M(F,z){for(var O=0;O<z.length;O++){var _=z[O];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(F,_.key,_)}}function v(F,z,O){return z&&M(F.prototype,z),O&&M(F,O),F}function p(F,z){return z&&(f(z)==="object"||typeof z=="function")?z:r(F)}function r(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function t(F,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(z&&z.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),z&&l(F,z)}function i(F){var z=typeof Map=="function"?new Map:void 0;return i=function(_){if(_===null||!u(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(typeof z<"u"){if(z.has(_))return z.get(_);z.set(_,B)}function B(){return c(_,arguments,g(this).constructor)}return B.prototype=Object.create(_.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),l(B,_)},i(F)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function c(F,z,O){return n()?c=Reflect.construct:c=function(B,W,$){var te=[null];te.push.apply(te,W);var ie=Function.bind.apply(B,te),ue=new ie;return $&&l(ue,$.prototype),ue},c.apply(null,arguments)}function u(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function l(F,z){return l=Object.setPrototypeOf||function(_,B){return _.__proto__=B,_},l(F,z)}function g(F){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},g(F)}function f(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(O){return typeof O}:f=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},f(F)}var T=e(43827),h=T.inspect,s=e(79616),d=s.codes.ERR_INVALID_ARG_TYPE;function A(F,z,O){return(O===void 0||O>F.length)&&(O=F.length),F.substring(O-z.length,O)===z}function w(F,z){if(z=Math.floor(z),F.length==0||z==0)return"";var O=F.length*z;for(z=Math.floor(Math.log(z)/Math.log(2));z;)F+=F,z--;return F+=F.substring(0,O-F.length),F}var C="",b="",S="",m="",a={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},E=10;function x(F){var z=Object.keys(F),O=Object.create(Object.getPrototypeOf(F));return z.forEach(function(_){O[_]=F[_]}),Object.defineProperty(O,"message",{value:F.message}),O}function k(F){return h(F,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(F,z,O){var _="",B="",W=0,$="",te=!1,ie=k(F),ue=ie.split(`
`),J=k(z).split(`
`),Y=0,ae="";if(O==="strictEqual"&&f(F)==="object"&&f(z)==="object"&&F!==null&&z!==null&&(O="strictEqualObject"),ue.length===1&&J.length===1&&ue[0]!==J[0]){var j=ue[0].length+J[0].length;if(j<=E){if((f(F)!=="object"||F===null)&&(f(z)!=="object"||z===null)&&(F!==0||z!==0))return"".concat(a[O],`

`)+"".concat(ue[0]," !== ").concat(J[0],`
`)}else if(O!=="strictEqualObject"){var q=y.stderr&&y.stderr.isTTY?y.stderr.columns:80;if(j<q){for(;ue[0][Y]===J[0][Y];)Y++;Y>2&&(ae=`
  `.concat(w(" ",Y),"^"),Y=0)}}}for(var oe=ue[ue.length-1],Q=J[J.length-1];oe===Q&&(Y++<2?$=`
  `.concat(oe).concat($):_=oe,ue.pop(),J.pop(),!(ue.length===0||J.length===0));)oe=ue[ue.length-1],Q=J[J.length-1];var X=Math.max(ue.length,J.length);if(X===0){var se=ie.split(`
`);if(se.length>30)for(se[26]="".concat(C,"...").concat(m);se.length>27;)se.pop();return"".concat(a.notIdentical,`

`).concat(se.join(`
`),`
`)}Y>3&&($=`
`.concat(C,"...").concat(m).concat($),te=!0),_!==""&&($=`
  `.concat(_).concat($),_="");var ne=0,fe=a[O]+`
`.concat(b,"+ actual").concat(m," ").concat(S,"- expected").concat(m),ye=" ".concat(C,"...").concat(m," Lines skipped");for(Y=0;Y<X;Y++){var Se=Y-W;if(ue.length<Y+1)Se>1&&Y>2&&(Se>4?(B+=`
`.concat(C,"...").concat(m),te=!0):Se>3&&(B+=`
  `.concat(J[Y-2]),ne++),B+=`
  `.concat(J[Y-1]),ne++),W=Y,_+=`
`.concat(S,"-").concat(m," ").concat(J[Y]),ne++;else if(J.length<Y+1)Se>1&&Y>2&&(Se>4?(B+=`
`.concat(C,"...").concat(m),te=!0):Se>3&&(B+=`
  `.concat(ue[Y-2]),ne++),B+=`
  `.concat(ue[Y-1]),ne++),W=Y,B+=`
`.concat(b,"+").concat(m," ").concat(ue[Y]),ne++;else{var we=J[Y],_e=ue[Y],ke=_e!==we&&(!A(_e,",")||_e.slice(0,-1)!==we);ke&&A(we,",")&&we.slice(0,-1)===_e&&(ke=!1,_e+=","),ke?(Se>1&&Y>2&&(Se>4?(B+=`
`.concat(C,"...").concat(m),te=!0):Se>3&&(B+=`
  `.concat(ue[Y-2]),ne++),B+=`
  `.concat(ue[Y-1]),ne++),W=Y,B+=`
`.concat(b,"+").concat(m," ").concat(_e),_+=`
`.concat(S,"-").concat(m," ").concat(we),ne+=2):(B+=_,_="",(Se===1||Y===0)&&(B+=`
  `.concat(_e),ne++))}if(ne>20&&Y<X-2)return"".concat(fe).concat(ye,`
`).concat(B,`
`).concat(C,"...").concat(m).concat(_,`
`)+"".concat(C,"...").concat(m)}return"".concat(fe).concat(te?ye:"",`
`).concat(B).concat(_).concat($).concat(ae)}var N=function(F){t(z,F);function z(O){var _;if(L(this,z),f(O)!=="object"||O===null)throw new d("options","Object",O);var B=O.message,W=O.operator,$=O.stackStartFn,te=O.actual,ie=O.expected,ue=Error.stackTraceLimit;if(Error.stackTraceLimit=0,B!=null)_=p(this,g(z).call(this,String(B)));else if(y.stderr&&y.stderr.isTTY&&(y.stderr&&y.stderr.getColorDepth&&y.stderr.getColorDepth()!==1?(C="\x1B[34m",b="\x1B[32m",m="\x1B[39m",S="\x1B[31m"):(C="",b="",m="",S="")),f(te)==="object"&&te!==null&&f(ie)==="object"&&ie!==null&&"stack"in te&&te instanceof Error&&"stack"in ie&&ie instanceof Error&&(te=x(te),ie=x(ie)),W==="deepStrictEqual"||W==="strictEqual")_=p(this,g(z).call(this,I(te,ie,W)));else if(W==="notDeepStrictEqual"||W==="notStrictEqual"){var J=a[W],Y=k(te).split(`
`);if(W==="notStrictEqual"&&f(te)==="object"&&te!==null&&(J=a.notStrictEqualObject),Y.length>30)for(Y[26]="".concat(C,"...").concat(m);Y.length>27;)Y.pop();Y.length===1?_=p(this,g(z).call(this,"".concat(J," ").concat(Y[0]))):_=p(this,g(z).call(this,"".concat(J,`

`).concat(Y.join(`
`),`
`)))}else{var ae=k(te),j="",q=a[W];W==="notDeepEqual"||W==="notEqual"?(ae="".concat(a[W],`

`).concat(ae),ae.length>1024&&(ae="".concat(ae.slice(0,1021),"..."))):(j="".concat(k(ie)),ae.length>512&&(ae="".concat(ae.slice(0,509),"...")),j.length>512&&(j="".concat(j.slice(0,509),"...")),W==="deepEqual"||W==="equal"?ae="".concat(q,`

`).concat(ae,`

should equal

`):j=" ".concat(W," ").concat(j)),_=p(this,g(z).call(this,"".concat(ae).concat(j)))}return Error.stackTraceLimit=ue,_.generatedMessage=!B,Object.defineProperty(r(_),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),_.code="ERR_ASSERTION",_.actual=te,_.expected=ie,_.operator=W,Error.captureStackTrace&&Error.captureStackTrace(r(_),$),_.stack,_.name="AssertionError",p(_)}return v(z,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(_,B){return h(this,P({},B,{customInspect:!1,depth:0}))}}]),z}(i(Error));G.exports=N},79616:function(G,V,e){function y(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(h){return typeof h}:y=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},y(f)}function P(f,T){if(!(f instanceof T))throw new TypeError("Cannot call a class as a function")}function o(f,T){return T&&(y(T)==="object"||typeof T=="function")?T:L(f)}function L(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function M(f){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},M(f)}function v(f,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(T&&T.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),T&&p(f,T)}function p(f,T){return p=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},p(f,T)}var r={},t,i;function n(f,T,h){h||(h=Error);function s(A,w,C){return typeof T=="string"?T:T(A,w,C)}var d=function(A){v(w,A);function w(C,b,S){var m;return P(this,w),m=o(this,M(w).call(this,s(C,b,S))),m.code=f,m}return w}(h);r[f]=d}function c(f,T){if(Array.isArray(f)){var h=f.length;return f=f.map(function(s){return String(s)}),h>2?"one of ".concat(T," ").concat(f.slice(0,h-1).join(", "),", or ")+f[h-1]:h===2?"one of ".concat(T," ").concat(f[0]," or ").concat(f[1]):"of ".concat(T," ").concat(f[0])}else return"of ".concat(T," ").concat(String(f))}function u(f,T,h){return f.substr(!h||h<0?0:+h,T.length)===T}function l(f,T,h){return(h===void 0||h>f.length)&&(h=f.length),f.substring(h-T.length,h)===T}function g(f,T,h){return typeof h!="number"&&(h=0),h+T.length>f.length?!1:f.indexOf(T,h)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(f,T,h){t===void 0&&(t=e(32791)),t(typeof f=="string","'name' must be a string");var s;typeof T=="string"&&u(T,"not ")?(s="must not be",T=T.replace(/^not /,"")):s="must be";var d;if(l(f," argument"))d="The ".concat(f," ").concat(s," ").concat(c(T,"type"));else{var A=g(f,".")?"property":"argument";d='The "'.concat(f,'" ').concat(A," ").concat(s," ").concat(c(T,"type"))}return d+=". Received type ".concat(y(h)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(f,T){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";i===void 0&&(i=e(43827));var s=i.inspect(T);return s.length>128&&(s="".concat(s.slice(0,128),"...")),"The argument '".concat(f,"' ").concat(h,". Received ").concat(s)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(f,T,h){var s;return h&&h.constructor&&h.constructor.name?s="instance of ".concat(h.constructor.name):s="type ".concat(y(h)),"Expected ".concat(f,' to be returned from the "').concat(T,'"')+" function but got ".concat(s,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var f=arguments.length,T=new Array(f),h=0;h<f;h++)T[h]=arguments[h];t===void 0&&(t=e(32791)),t(T.length>0,"At least one arg needs to be specified");var s="The ",d=T.length;switch(T=T.map(function(A){return'"'.concat(A,'"')}),d){case 1:s+="".concat(T[0]," argument");break;case 2:s+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:s+=T.slice(0,d-1).join(", "),s+=", and ".concat(T[d-1]," arguments");break}return"".concat(s," must be specified")},TypeError),G.exports.codes=r},74061:function(G,V,e){function y(Me,me){return L(Me)||o(Me,me)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(Me,me){var Ee=[],Be=!0,Ue=!1,De=void 0;try{for(var He=Me[Symbol.iterator](),nt;!(Be=(nt=He.next()).done)&&(Ee.push(nt.value),!(me&&Ee.length===me));Be=!0);}catch(lt){Ue=!0,De=lt}finally{try{!Be&&He.return!=null&&He.return()}finally{if(Ue)throw De}}return Ee}function L(Me){if(Array.isArray(Me))return Me}function M(Me){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(Ee){return typeof Ee}:M=function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},M(Me)}var v=/a/g.flags!==void 0,p=function(me){var Ee=[];return me.forEach(function(Be){return Ee.push(Be)}),Ee},r=function(me){var Ee=[];return me.forEach(function(Be,Ue){return Ee.push([Ue,Be])}),Ee},t=Object.is?Object.is:e(64003),i=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(15567);function c(Me){return Me.call.bind(Me)}var u=c(Object.prototype.hasOwnProperty),l=c(Object.prototype.propertyIsEnumerable),g=c(Object.prototype.toString),f=e(43827).types,T=f.isAnyArrayBuffer,h=f.isArrayBufferView,s=f.isDate,d=f.isMap,A=f.isRegExp,w=f.isSet,C=f.isNativeError,b=f.isBoxedPrimitive,S=f.isNumberObject,m=f.isStringObject,a=f.isBooleanObject,E=f.isBigIntObject,x=f.isSymbolObject,k=f.isFloat32Array,I=f.isFloat64Array;function N(Me){if(Me.length===0||Me.length>10)return!0;for(var me=0;me<Me.length;me++){var Ee=Me.charCodeAt(me);if(Ee<48||Ee>57)return!0}return Me.length===10&&Me>=Math.pow(2,32)}function F(Me){return Object.keys(Me).filter(N).concat(i(Me).filter(Object.prototype.propertyIsEnumerable.bind(Me)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function z(Me,me){if(Me===me)return 0;for(var Ee=Me.length,Be=me.length,Ue=0,De=Math.min(Ee,Be);Ue<De;++Ue)if(Me[Ue]!==me[Ue]){Ee=Me[Ue],Be=me[Ue];break}return Ee<Be?-1:Be<Ee?1:0}var O=!0,_=!1,B=0,W=1,$=2,te=3;function ie(Me,me){return v?Me.source===me.source&&Me.flags===me.flags:RegExp.prototype.toString.call(Me)===RegExp.prototype.toString.call(me)}function ue(Me,me){if(Me.byteLength!==me.byteLength)return!1;for(var Ee=0;Ee<Me.byteLength;Ee++)if(Me[Ee]!==me[Ee])return!1;return!0}function J(Me,me){return Me.byteLength!==me.byteLength?!1:z(new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength),new Uint8Array(me.buffer,me.byteOffset,me.byteLength))===0}function Y(Me,me){return Me.byteLength===me.byteLength&&z(new Uint8Array(Me),new Uint8Array(me))===0}function ae(Me,me){return S(Me)?S(me)&&t(Number.prototype.valueOf.call(Me),Number.prototype.valueOf.call(me)):m(Me)?m(me)&&String.prototype.valueOf.call(Me)===String.prototype.valueOf.call(me):a(Me)?a(me)&&Boolean.prototype.valueOf.call(Me)===Boolean.prototype.valueOf.call(me):E(Me)?E(me)&&BigInt.prototype.valueOf.call(Me)===BigInt.prototype.valueOf.call(me):x(me)&&Symbol.prototype.valueOf.call(Me)===Symbol.prototype.valueOf.call(me)}function j(Me,me,Ee,Be){if(Me===me)return Me!==0?!0:Ee?t(Me,me):!0;if(Ee){if(M(Me)!=="object")return typeof Me=="number"&&n(Me)&&n(me);if(M(me)!=="object"||Me===null||me===null||Object.getPrototypeOf(Me)!==Object.getPrototypeOf(me))return!1}else{if(Me===null||M(Me)!=="object")return me===null||M(me)!=="object"?Me==me:!1;if(me===null||M(me)!=="object")return!1}var Ue=g(Me),De=g(me);if(Ue!==De)return!1;if(Array.isArray(Me)){if(Me.length!==me.length)return!1;var He=F(Me),nt=F(me);return He.length!==nt.length?!1:oe(Me,me,Ee,Be,W,He)}if(Ue==="[object Object]"&&(!d(Me)&&d(me)||!w(Me)&&w(me)))return!1;if(s(Me)){if(!s(me)||Date.prototype.getTime.call(Me)!==Date.prototype.getTime.call(me))return!1}else if(A(Me)){if(!A(me)||!ie(Me,me))return!1}else if(C(Me)||Me instanceof Error){if(Me.message!==me.message||Me.name!==me.name)return!1}else if(h(Me)){if(!Ee&&(k(Me)||I(Me))){if(!ue(Me,me))return!1}else if(!J(Me,me))return!1;var lt=F(Me),$e=F(me);return lt.length!==$e.length?!1:oe(Me,me,Ee,Be,B,lt)}else{if(w(Me))return!w(me)||Me.size!==me.size?!1:oe(Me,me,Ee,Be,$);if(d(Me))return!d(me)||Me.size!==me.size?!1:oe(Me,me,Ee,Be,te);if(T(Me)){if(!Y(Me,me))return!1}else if(b(Me)&&!ae(Me,me))return!1}return oe(Me,me,Ee,Be,B)}function q(Me,me){return me.filter(function(Ee){return l(Me,Ee)})}function oe(Me,me,Ee,Be,Ue,De){if(arguments.length===5){De=Object.keys(Me);var He=Object.keys(me);if(De.length!==He.length)return!1}for(var nt=0;nt<De.length;nt++)if(!u(me,De[nt]))return!1;if(Ee&&arguments.length===5){var lt=i(Me);if(lt.length!==0){var $e=0;for(nt=0;nt<lt.length;nt++){var qe=lt[nt];if(l(Me,qe)){if(!l(me,qe))return!1;De.push(qe),$e++}else if(l(me,qe))return!1}var ct=i(me);if(lt.length!==ct.length&&q(me,ct).length!==$e)return!1}else{var dt=i(me);if(dt.length!==0&&q(me,dt).length!==0)return!1}}if(De.length===0&&(Ue===B||Ue===W&&Me.length===0||Me.size===0))return!0;if(Be===void 0)Be={val1:new Map,val2:new Map,position:0};else{var gt=Be.val1.get(Me);if(gt!==void 0){var At=Be.val2.get(me);if(At!==void 0)return gt===At}Be.position++}Be.val1.set(Me,Be.position),Be.val2.set(me,Be.position);var Rt=we(Me,me,Ee,De,Be,Ue);return Be.val1.delete(Me),Be.val2.delete(me),Rt}function Q(Me,me,Ee,Be){for(var Ue=p(Me),De=0;De<Ue.length;De++){var He=Ue[De];if(j(me,He,Ee,Be))return Me.delete(He),!0}return!1}function X(Me){switch(M(Me)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Me=+Me;case"number":if(n(Me))return!1}return!0}function se(Me,me,Ee){var Be=X(Ee);return Be??(me.has(Be)&&!Me.has(Be))}function ne(Me,me,Ee,Be,Ue){var De=X(Ee);if(De!=null)return De;var He=me.get(De);return He===void 0&&!me.has(De)||!j(Be,He,!1,Ue)?!1:!Me.has(De)&&j(Be,He,!1,Ue)}function fe(Me,me,Ee,Be){for(var Ue=null,De=p(Me),He=0;He<De.length;He++){var nt=De[He];if(M(nt)==="object"&&nt!==null)Ue===null&&(Ue=new Set),Ue.add(nt);else if(!me.has(nt)){if(Ee||!se(Me,me,nt))return!1;Ue===null&&(Ue=new Set),Ue.add(nt)}}if(Ue!==null){for(var lt=p(me),$e=0;$e<lt.length;$e++){var qe=lt[$e];if(M(qe)==="object"&&qe!==null){if(!Q(Ue,qe,Ee,Be))return!1}else if(!Ee&&!Me.has(qe)&&!Q(Ue,qe,Ee,Be))return!1}return Ue.size===0}return!0}function ye(Me,me,Ee,Be,Ue,De){for(var He=p(Me),nt=0;nt<He.length;nt++){var lt=He[nt];if(j(Ee,lt,Ue,De)&&j(Be,me.get(lt),Ue,De))return Me.delete(lt),!0}return!1}function Se(Me,me,Ee,Be){for(var Ue=null,De=r(Me),He=0;He<De.length;He++){var nt=y(De[He],2),lt=nt[0],$e=nt[1];if(M(lt)==="object"&&lt!==null)Ue===null&&(Ue=new Set),Ue.add(lt);else{var qe=me.get(lt);if(qe===void 0&&!me.has(lt)||!j($e,qe,Ee,Be)){if(Ee||!ne(Me,me,lt,$e,Be))return!1;Ue===null&&(Ue=new Set),Ue.add(lt)}}}if(Ue!==null){for(var ct=r(me),dt=0;dt<ct.length;dt++){var gt=y(ct[dt],2),lt=gt[0],At=gt[1];if(M(lt)==="object"&&lt!==null){if(!ye(Ue,Me,lt,At,Ee,Be))return!1}else if(!Ee&&(!Me.has(lt)||!j(Me.get(lt),At,!1,Be))&&!ye(Ue,Me,lt,At,!1,Be))return!1}return Ue.size===0}return!0}function we(Me,me,Ee,Be,Ue,De){var He=0;if(De===$){if(!fe(Me,me,Ee,Ue))return!1}else if(De===te){if(!Se(Me,me,Ee,Ue))return!1}else if(De===W)for(;He<Me.length;He++)if(u(Me,He)){if(!u(me,He)||!j(Me[He],me[He],Ee,Ue))return!1}else{if(u(me,He))return!1;for(var nt=Object.keys(Me);He<nt.length;He++){var lt=nt[He];if(!u(me,lt)||!j(Me[lt],me[lt],Ee,Ue))return!1}return nt.length===Object.keys(me).length}for(He=0;He<Be.length;He++){var $e=Be[He];if(!j(Me[$e],me[$e],Ee,Ue))return!1}return!0}function _e(Me,me){return j(Me,me,_)}function ke(Me,me){return j(Me,me,O)}G.exports={isDeepEqual:_e,isDeepStrictEqual:ke}},11631:function(G,V,e){e.r(V),e.d(V,{decode:function(){return M},encode:function(){return L}});for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=typeof Uint8Array>"u"?[]:new Uint8Array(256),o=0;o<y.length;o++)P[y.charCodeAt(o)]=o;var L=function(v){var p=new Uint8Array(v),r,t=p.length,i="";for(r=0;r<t;r+=3)i+=y[p[r]>>2],i+=y[(p[r]&3)<<4|p[r+1]>>4],i+=y[(p[r+1]&15)<<2|p[r+2]>>6],i+=y[p[r+2]&63];return t%3===2?i=i.substring(0,i.length-1)+"=":t%3===1&&(i=i.substring(0,i.length-2)+"=="),i},M=function(v){var p=v.length*.75,r=v.length,t,i=0,n,c,u,l;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var g=new ArrayBuffer(p),f=new Uint8Array(g);for(t=0;t<r;t+=4)n=P[v.charCodeAt(t)],c=P[v.charCodeAt(t+1)],u=P[v.charCodeAt(t+2)],l=P[v.charCodeAt(t+3)],f[i++]=n<<2|c>>4,f[i++]=(c&15)<<4|u>>2,f[i++]=(u&3)<<6|l&63;return g}},95341:function(G,V){V.byteLength=p,V.toByteArray=t,V.fromByteArray=c;for(var e=[],y=[],P=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,M=o.length;L<M;++L)e[L]=o[L],y[o.charCodeAt(L)]=L;y["-".charCodeAt(0)]=62,y["_".charCodeAt(0)]=63;function v(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=u.indexOf("=");g===-1&&(g=l);var f=g===l?0:4-g%4;return[g,f]}function p(u){var l=v(u),g=l[0],f=l[1];return(g+f)*3/4-f}function r(u,l,g){return(l+g)*3/4-g}function t(u){var l,g=v(u),f=g[0],T=g[1],h=new P(r(u,f,T)),s=0,d=T>0?f-4:f,A;for(A=0;A<d;A+=4)l=y[u.charCodeAt(A)]<<18|y[u.charCodeAt(A+1)]<<12|y[u.charCodeAt(A+2)]<<6|y[u.charCodeAt(A+3)],h[s++]=l>>16&255,h[s++]=l>>8&255,h[s++]=l&255;return T===2&&(l=y[u.charCodeAt(A)]<<2|y[u.charCodeAt(A+1)]>>4,h[s++]=l&255),T===1&&(l=y[u.charCodeAt(A)]<<10|y[u.charCodeAt(A+1)]<<4|y[u.charCodeAt(A+2)]>>2,h[s++]=l>>8&255,h[s++]=l&255),h}function i(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function n(u,l,g){for(var f,T=[],h=l;h<g;h+=3)f=(u[h]<<16&16711680)+(u[h+1]<<8&65280)+(u[h+2]&255),T.push(i(f));return T.join("")}function c(u){for(var l,g=u.length,f=g%3,T=[],h=16383,s=0,d=g-f;s<d;s+=h)T.push(n(u,s,s+h>d?d:s+h));return f===1?(l=u[g-1],T.push(e[l>>2]+e[l<<4&63]+"==")):f===2&&(l=(u[g-2]<<8)+u[g-1],T.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),T.join("")}},91358:function(G){function V(M,v,p,r,t){for(var i=t+1;r<=t;){var n=r+t>>>1,c=M[n],u=p!==void 0?p(c,v):c-v;u>=0?(i=n,t=n-1):r=n+1}return i}function e(M,v,p,r,t){for(var i=t+1;r<=t;){var n=r+t>>>1,c=M[n],u=p!==void 0?p(c,v):c-v;u>0?(i=n,t=n-1):r=n+1}return i}function y(M,v,p,r,t){for(var i=r-1;r<=t;){var n=r+t>>>1,c=M[n],u=p!==void 0?p(c,v):c-v;u<0?(i=n,r=n+1):t=n-1}return i}function P(M,v,p,r,t){for(var i=r-1;r<=t;){var n=r+t>>>1,c=M[n],u=p!==void 0?p(c,v):c-v;u<=0?(i=n,r=n+1):t=n-1}return i}function o(M,v,p,r,t){for(;r<=t;){var i=r+t>>>1,n=M[i],c=p!==void 0?p(n,v):n-v;if(c===0)return i;c<=0?r=i+1:t=i-1}return-1}function L(M,v,p,r,t,i){return typeof p=="function"?i(M,v,p,r===void 0?0:r|0,t===void 0?M.length-1:t|0):i(M,v,void 0,p===void 0?0:p|0,r===void 0?M.length-1:r|0)}G.exports={ge:function(M,v,p,r,t){return L(M,v,p,r,t,V)},gt:function(M,v,p,r,t){return L(M,v,p,r,t,e)},lt:function(M,v,p,r,t){return L(M,v,p,r,t,y)},le:function(M,v,p,r,t){return L(M,v,p,r,t,P)},eq:function(M,v,p,r,t){return L(M,v,p,r,t,o)}}},13547:function(G,V){"use restrict";var e=32;V.INT_BITS=e,V.INT_MAX=2147483647,V.INT_MIN=-1<<e-1,V.sign=function(o){return(o>0)-(o<0)},V.abs=function(o){var L=o>>e-1;return(o^L)-L},V.min=function(o,L){return L^(o^L)&-(o<L)},V.max=function(o,L){return o^(o^L)&-(o<L)},V.isPow2=function(o){return!(o&o-1)&&!!o},V.log2=function(o){var L,M;return L=(o>65535)<<4,o>>>=L,M=(o>255)<<3,o>>>=M,L|=M,M=(o>15)<<2,o>>>=M,L|=M,M=(o>3)<<1,o>>>=M,L|=M,L|o>>1},V.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},V.popCount=function(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),(o+(o>>>4)&252645135)*16843009>>>24};function y(o){var L=32;return o&=-o,o&&L--,o&65535&&(L-=16),o&16711935&&(L-=8),o&252645135&&(L-=4),o&858993459&&(L-=2),o&1431655765&&(L-=1),L}V.countTrailingZeros=y,V.nextPow2=function(o){return o+=o===0,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o+1},V.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o-(o>>>1)},V.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,o&=15,27030>>>o&1};var P=new Array(256);(function(o){for(var L=0;L<256;++L){var M=L,v=L,p=7;for(M>>>=1;M;M>>>=1)v<<=1,v|=M&1,--p;o[L]=v<<p&255}})(P),V.reverse=function(o){return P[o&255]<<24|P[o>>>8&255]<<16|P[o>>>16&255]<<8|P[o>>>24&255]},V.interleave2=function(o,L){return o&=65535,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,o|L<<1},V.deinterleave2=function(o,L){return o=o>>>L&1431655765,o=(o|o>>>1)&858993459,o=(o|o>>>2)&252645135,o=(o|o>>>4)&16711935,o=(o|o>>>16)&65535,o<<16>>16},V.interleave3=function(o,L,M){return o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,o|=L<<1,M&=1023,M=(M|M<<16)&4278190335,M=(M|M<<8)&251719695,M=(M|M<<4)&3272356035,M=(M|M<<2)&1227133513,o|M<<2},V.deinterleave3=function(o,L){return o=o>>>L&1227133513,o=(o|o>>>2)&3272356035,o=(o|o>>>4)&251719695,o=(o|o>>>8)&4278190335,o=(o|o>>>16)&1023,o<<22>>22},V.nextCombination=function(o){var L=o|o-1;return L+1|(~L&-~L)-1>>>y(o)+1}},44781:function(G,V,e){var y=e(53435);G.exports=o;var P=1e20;function o(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,i=p.channel||0,n,c,u,l,g,f,T,h,s,d,A;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,c=p.height,l=v,p.stride?f=p.stride:f=Math.floor(v.length/n/c)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(h=v,T=h.getContext("2d"),n=h.width,c=h.height,s=T.getImageData(0,0,n,c),l=s.data,f=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(h=v.canvas,T=v,n=h.width,c=h.height,s=T.getImageData(0,0,n,c),l=s.data,f=4):window.ImageData&&v instanceof window.ImageData&&(s=v,n=v.width,c=v.height,l=s.data,f=4);if(u=Math.max(n,c),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(g=l,l=Array(n*c),d=0,A=g.length;d<A;d++)l[d]=g[d*f+i]/255;else if(f!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(n*c),C=Array(n*c),b=Array(u),S=Array(u),m=Array(u+1),a=Array(u);for(d=0,A=n*c;d<A;d++){var E=l[d];w[d]=E===1?0:E===0?P:Math.pow(Math.max(0,.5-E),2),C[d]=E===1?P:E===0?0:Math.pow(Math.max(0,E-.5),2)}L(w,n,c,b,S,a,m),L(C,n,c,b,S,a,m);var x=window.Float32Array?new Float32Array(n*c):new Array(n*c);for(d=0,A=n*c;d<A;d++)x[d]=y(1-((w[d]-C[d])/t+r),0,1);return x}function L(v,p,r,t,i,n,c){for(var u=0;u<p;u++){for(var l=0;l<r;l++)t[l]=v[l*p+u];for(M(t,i,n,c,r),l=0;l<r;l++)v[l*p+u]=i[l]}for(l=0;l<r;l++){for(u=0;u<p;u++)t[u]=v[l*p+u];for(M(t,i,n,c,p),u=0;u<p;u++)v[l*p+u]=Math.sqrt(i[u])}}function M(v,p,r,t,i){r[0]=0,t[0]=-P,t[1]=+P;for(var n=1,c=0;n<i;n++){for(var u=(v[n]+n*n-(v[r[c]]+r[c]*r[c]))/(2*n-2*r[c]);u<=t[c];)c--,u=(v[n]+n*n-(v[r[c]]+r[c]*r[c]))/(2*n-2*r[c]);c++,r[c]=n,t[c]=u,t[c+1]=+P}for(n=0,c=0;n<i;n++){for(;t[c+1]<n;)c++;p[n]=(n-r[c])*(n-r[c])+v[r[c]]}}},6614:function(G,V,e){var y=e(68318),P=e(68222),o=P(y("String.prototype.indexOf"));G.exports=function(M,v){var p=y(M,!!v);return typeof p=="function"&&o(M,".prototype.")>-1?P(p):p}},68222:function(G,V,e){var y=e(77575),P=e(68318),o=P("%Function.prototype.apply%"),L=P("%Function.prototype.call%"),M=P("%Reflect.apply%",!0)||y.call(L,o),v=P("%Object.getOwnPropertyDescriptor%",!0),p=P("%Object.defineProperty%",!0),r=P("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}G.exports=function(n){var c=M(y,L,arguments);if(v&&p){var u=v(c,"length");u.configurable&&p(c,"length",{value:1+r(0,n.length-(arguments.length-1))})}return c};var t=function(){return M(y,o,arguments)};p?p(G.exports,"apply",{value:t}):G.exports.apply=t},53435:function(G){G.exports=V;function V(e,y,P){return y<P?e<y?y:e>P?P:e:e<P?P:e>y?y:e}},6475:function(G,V,e){var y=e(53435);G.exports=P,G.exports.to=P,G.exports.from=o;function P(L,M){M==null&&(M=!0);var v=L[0],p=L[1],r=L[2],t=L[3];t==null&&(t=M?1:255),M&&(v*=255,p*=255,r*=255,t*=255),v=y(v,0,255)&255,p=y(p,0,255)&255,r=y(r,0,255)&255,t=y(t,0,255)&255;var i=v*16777216+(p<<16)+(r<<8)+t;return i}function o(L,M){L=+L;var v=L>>>24,p=(L&16711680)>>>16,r=(L&65280)>>>8,t=L&255;return M===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},76857:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(G,V,e){var y=e(36652),P=e(53435),o=e(90660);G.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=o(p),t=new r(4),i=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=y(v),v[0]/=255,v[1]/=255,v[2]/=255),L(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,i&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(i?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=P(Math.floor(v[0]*255),0,255),t[1]=P(Math.floor(v[1]*255),0,255),t[2]=P(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:P(Math.floor(v[3]*255),0,255)),t)};function L(M){return!!(M instanceof Uint8Array||M instanceof Uint8ClampedArray||Array.isArray(M)&&(M[0]>1||M[0]===0)&&(M[1]>1||M[1]===0)&&(M[2]>1||M[2]===0)&&(!M[3]||M[3]>1))}},90736:function(G,V,e){var y=e(76857),P=e(10973),o=e(46775);G.exports=M;var L={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function M(v){var p,r=[],t=1,i;if(typeof v=="string")if(y[v])r=y[v].slice(),i="rgb";else if(v==="transparent")t=0,i="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var n=v.slice(1),c=n.length,u=c<=4;t=1,u?(r=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],c===4&&(t=parseInt(n[3]+n[3],16)/255)):(r=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],c===8&&(t=parseInt(n[6]+n[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),i="rgb"}else if(p=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var l=p[1],g=l==="rgb",n=l.replace(/a$/,"");i=n;var c=n==="cmyk"?4:n==="gray"?1:3;r=p[2].trim().split(/\s*,\s*/).map(function(s,d){if(/%$/.test(s))return d===c?parseFloat(s)/100:n==="rgb"?parseFloat(s)*255/100:parseFloat(s);if(n[d]==="h"){if(/deg$/.test(s))return parseFloat(s);if(L[s]!==void 0)return L[s]}return parseFloat(s)}),l===n&&r.push(1),t=g||r[c]===void 0?1:r[c],r=r.slice(0,c)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(r=v.match(/([0-9]+)/g).map(function(T){return parseFloat(T)}),i=v.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(v))i="rgb",r=[v>>>16,(v&65280)>>>8,v&255];else if(P(v)){var f=o(v.r,v.red,v.R,null);f!==null?(i="rgb",r=[f,o(v.g,v.green,v.G),o(v.b,v.blue,v.B)]):(i="hsl",r=[o(v.h,v.hue,v.H),o(v.s,v.saturation,v.S),o(v.l,v.lightness,v.L,v.b,v.brightness)]),t=o(v.a,v.alpha,v.opacity,1),v.opacity!=null&&(t/=100)}else(Array.isArray(v)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(r=[v[0],v[1],v[2]],i="rgb",t=v.length===4?v[3]:1);return{space:i,values:r,alpha:t}}},36652:function(G,V,e){var y=e(90736),P=e(80009),o=e(53435);G.exports=function(M){var v,p=y(M);return p.space?(v=Array(3),v[0]=o(p.values[0],0,255),v[1]=o(p.values[1],0,255),v[2]=o(p.values[2],0,255),p.space[0]==="h"&&(v=P.rgb(v)),v.push(o(p.alpha,0,1)),v):[]}},80009:function(G,V,e){var y=e(6866);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(P){var o=P[0]/360,L=P[1]/100,M=P[2]/100,v,p,r,t,i;if(L===0)return i=M*255,[i,i,i];M<.5?p=M*(1+L):p=M+L-M*L,v=2*M-p,t=[0,0,0];for(var n=0;n<3;n++)r=o+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?i=v+(p-v)*6*r:2*r<1?i=p:3*r<2?i=v+(p-v)*(.6666666666666666-r)*6:i=v,t[n]=i*255;return t}},y.hsl=function(P){var o=P[0]/255,L=P[1]/255,M=P[2]/255,v=Math.min(o,L,M),p=Math.max(o,L,M),r=p-v,t,i,n;return p===v?t=0:o===p?t=(L-M)/r:L===p?t=2+(M-o)/r:M===p&&(t=4+(o-L)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?i=0:n<=.5?i=r/(p+v):i=r/(2-p-v),[t,i*100,n*100]}},6866:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(G,V,e){G.exports={parse:e(41004),stringify:e(53313)}},63625:function(G,V,e){var y=e(40402);G.exports={isSize:function(o){return/^[\d\.]/.test(o)||o.indexOf("/")!==-1||y.indexOf(o)!==-1}}},41004:function(G,V,e){var y=e(90448),P=e(38732),o=e(41901),L=e(15659),M=e(96209),v=e(83794),p=e(99011),r=e(63625).isSize;G.exports=i;var t=i.cache={};function i(c){if(typeof c!="string")throw new Error("Font argument must be a string.");if(t[c])return t[c];if(c==="")throw new Error("Cannot parse an empty string.");if(o.indexOf(c)!==-1)return t[c]={system:c};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=p(c,/\s+/),g;g=l.shift();){if(P.indexOf(g)!==-1)return["style","variant","weight","stretch"].forEach(function(T){u[T]=g}),t[c]=u;if(M.indexOf(g)!==-1){u.style=g;continue}if(g==="normal"||g==="small-caps"){u.variant=g;continue}if(v.indexOf(g)!==-1){u.stretch=g;continue}if(L.indexOf(g)!==-1){u.weight=g;continue}if(r(g)){var f=p(g,"/");if(u.size=f[0],f[1]!=null?u.lineHeight=n(f[1]):l[0]==="/"&&(l.shift(),u.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return u.family=p(l.join(" "),/\s*,\s*/).map(y),t[c]=u}throw new Error("Unknown or unsupported font token: "+g)}throw new Error("Missing required font-size.")}function n(c){var u=parseFloat(c);return u.toString()===c?u:c}},53313:function(G,V,e){var y=e(71299),P=e(63625).isSize,o=c(e(38732)),L=c(e(41901)),M=c(e(15659)),v=c(e(96209)),p=c(e(83794)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},i={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(l){if(l=y(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,L),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,M),n(l.stretch,p),l.size==null&&(l.size=i.size),typeof l.size=="number"&&(l.size+="px"),!P)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=i.family),Array.isArray(l.family)&&(l.family.length||(l.family=[i.family]),l.family=l.family.map(function(f){return t[f]?f:'"'+f+'"'}).join(", "));var g=[];return g.push(l.style),l.variant!==l.style&&g.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&g.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&g.push(l.stretch),g.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),g.push(l.family),g.filter(Boolean).join(" ")};function n(u,l){if(u&&!l[u]&&!o[u])throw Error("Unknown keyword `"+u+"`");return u}function c(u){for(var l={},g=0;g<u.length;g++)l[u[g]]=1;return l}},55174:function(G,V,e){var y=e(24582),P=e(10424),o=e(82527),L=e(19012),M=e(21780),v=e(16906),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,i;i=function(n,c,u){var l=P(c)&&o(c.value),g;return g=L(c),delete g.writable,delete g.value,g.get=function(){return!u.overwriteDefinition&&t.call(this,n)?l:(c.value=p.call(l,u.resolveContext?u.resolveContext(this):this),r(this,n,c),this[n])},g},G.exports=function(n){var c=M(arguments[1]);return y(c.resolveContext)&&o(c.resolveContext),v(n,function(u,l){return i(l,u,c)})}},62072:function(G,V,e){var y=e(24582),P=e(84985),o=e(95879),L=e(21780),M=e(66741),v=G.exports=function(p,r){var t,i,n,c,u;return arguments.length<2||typeof p!="string"?(c=r,r=p,p=null):c=arguments[2],y(p)?(t=M.call(p,"c"),i=M.call(p,"e"),n=M.call(p,"w")):(t=n=!0,i=!1),u={value:r,configurable:t,enumerable:i,writable:n},c?o(L(c),u):u};v.gs=function(p,r,t){var i,n,c,u;return typeof p!="string"?(c=t,t=r,r=p,p=null):c=arguments[3],y(r)?P(r)?y(t)?P(t)||(c=t,t=void 0):t=void 0:(c=r,r=t=void 0):r=void 0,y(p)?(i=M.call(p,"c"),n=M.call(p,"e")):(i=!0,n=!1),u={get:r,set:t,configurable:i,enumerable:n},c?o(L(c),u):u}},33064:function(G,V,e){e.d(V,{j2:function(){return y},Fp:function(){return L},J6:function(){return v},TS:function(){return p},VV:function(){return r},w6:function(){return t},Sm:function(){return i}});function y(n,c){return n<c?-1:n>c?1:n>=c?0:NaN}function P(n){return n.length===1&&(n=o(n)),{left:function(c,u,l,g){for(l==null&&(l=0),g==null&&(g=c.length);l<g;){var f=l+g>>>1;n(c[f],u)<0?l=f+1:g=f}return l},right:function(c,u,l,g){for(l==null&&(l=0),g==null&&(g=c.length);l<g;){var f=l+g>>>1;n(c[f],u)>0?g=f:l=f+1}return l}}}function o(n){return function(c,u){return y(n(c),u)}}P(y);function L(n,c){var u=n.length,l=-1,g,f;if(c==null){for(;++l<u;)if((g=n[l])!=null&&g>=g)for(f=g;++l<u;)(g=n[l])!=null&&g>f&&(f=g)}else for(;++l<u;)if((g=c(n[l],l,n))!=null&&g>=g)for(f=g;++l<u;)(g=c(n[l],l,n))!=null&&g>f&&(f=g);return f}function M(n){return n===null?NaN:+n}function v(n,c){var u=n.length,l=u,g=-1,f,T=0;if(c==null)for(;++g<u;)isNaN(f=M(n[g]))?--l:T+=f;else for(;++g<u;)isNaN(f=M(c(n[g],g,n)))?--l:T+=f;if(l)return T/l}function p(n){for(var c=n.length,u,l=-1,g=0,f,T;++l<c;)g+=n[l].length;for(f=new Array(g);--c>=0;)for(T=n[c],u=T.length;--u>=0;)f[--g]=T[u];return f}function r(n,c){var u=n.length,l=-1,g,f;if(c==null){for(;++l<u;)if((g=n[l])!=null&&g>=g)for(f=g;++l<u;)(g=n[l])!=null&&f>g&&(f=g)}else for(;++l<u;)if((g=c(n[l],l,n))!=null&&g>=g)for(f=g;++l<u;)(g=c(n[l],l,n))!=null&&f>g&&(f=g);return f}function t(n,c,u){n=+n,c=+c,u=(g=arguments.length)<2?(c=n,n=0,1):g<3?1:+u;for(var l=-1,g=Math.max(0,Math.ceil((c-n)/u))|0,f=new Array(g);++l<g;)f[l]=n+l*u;return f}function i(n,c){var u=n.length,l=-1,g,f=0;if(c==null)for(;++l<u;)(g=+n[l])&&(f+=g);else for(;++l<u;)(g=+c(n[l],l,n))&&(f+=g);return f}},15140:function(G,V,e){e.d(V,{UI:function(){return L},b1:function(){return M}});var y="$";function P(){}P.prototype=o.prototype={constructor:P,has:function(c){return y+c in this},get:function(c){return this[y+c]},set:function(c,u){return this[y+c]=u,this},remove:function(c){var u=y+c;return u in this&&delete this[u]},clear:function(){for(var c in this)c[0]===y&&delete this[c]},keys:function(){var c=[];for(var u in this)u[0]===y&&c.push(u.slice(1));return c},values:function(){var c=[];for(var u in this)u[0]===y&&c.push(this[u]);return c},entries:function(){var c=[];for(var u in this)u[0]===y&&c.push({key:u.slice(1),value:this[u]});return c},size:function(){var c=0;for(var u in this)u[0]===y&&++c;return c},empty:function(){for(var c in this)if(c[0]===y)return!1;return!0},each:function(c){for(var u in this)u[0]===y&&c(this[u],u.slice(1),this)}};function o(c,u){var l=new P;if(c instanceof P)c.each(function(s,d){l.set(d,s)});else if(Array.isArray(c)){var g=-1,f=c.length,T;if(u==null)for(;++g<f;)l.set(g,c[g]);else for(;++g<f;)l.set(u(T=c[g],g,c),T)}else if(c)for(var h in c)l.set(h,c[h]);return l}var L=o;function M(){var c=[],u=[],l,g,f;function T(s,d,A,w){if(d>=c.length)return l!=null&&s.sort(l),g!=null?g(s):s;for(var C=-1,b=s.length,S=c[d++],m,a,E=L(),x,k=A();++C<b;)(x=E.get(m=S(a=s[C])+""))?x.push(a):E.set(m,[a]);return E.each(function(I,N){w(k,N,T(I,d,A,w))}),k}function h(s,d){if(++d>c.length)return s;var A,w=u[d-1];return g!=null&&d>=c.length?A=s.entries():(A=[],s.each(function(C,b){A.push({key:b,values:h(C,d)})})),w!=null?A.sort(function(C,b){return w(C.key,b.key)}):A}return f={object:function(s){return T(s,0,v,p)},map:function(s){return T(s,0,r,t)},entries:function(s){return h(T(s,0,r,t),0)},key:function(s){return c.push(s),f},sortKeys:function(s){return u[c.length-1]=s,f},sortValues:function(s){return l=s,f},rollup:function(s){return g=s,f}}}function v(){return{}}function p(c,u,l){c[u]=l}function r(){return L()}function t(c,u,l){c.set(u,l)}function i(){}var n=L.prototype;i.prototype={constructor:i,has:n.has,add:function(c){return c+="",this[y+c]=c,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(G,V,e){e.r(V),e.d(V,{forceCenter:function(){return y},forceCollide:function(){return E},forceLink:function(){return N},forceManyBody:function(){return He},forceRadial:function(){return nt},forceSimulation:function(){return De},forceX:function(){return lt},forceY:function(){return $e}});function y(qe,ct){var dt;qe==null&&(qe=0),ct==null&&(ct=0);function gt(){var At,Rt=dt.length,Vt,Je=0,Ve=0;for(At=0;At<Rt;++At)Vt=dt[At],Je+=Vt.x,Ve+=Vt.y;for(Je=Je/Rt-qe,Ve=Ve/Rt-ct,At=0;At<Rt;++At)Vt=dt[At],Vt.x-=Je,Vt.y-=Ve}return gt.initialize=function(At){dt=At},gt.x=function(At){return arguments.length?(qe=+At,gt):qe},gt.y=function(At){return arguments.length?(ct=+At,gt):ct},gt}function P(qe){return function(){return qe}}function o(){return(Math.random()-.5)*1e-6}function L(qe){var ct=+this._x.call(null,qe),dt=+this._y.call(null,qe);return M(this.cover(ct,dt),ct,dt,qe)}function M(qe,ct,dt,gt){if(isNaN(ct)||isNaN(dt))return qe;var At,Rt=qe._root,Vt={data:gt},Je=qe._x0,Ve=qe._y0,Ie=qe._x1,Oe=qe._y1,Le,xe,pe,Ae,Te,Ne,Ye,et;if(!Rt)return qe._root=Vt,qe;for(;Rt.length;)if((Te=ct>=(Le=(Je+Ie)/2))?Je=Le:Ie=Le,(Ne=dt>=(xe=(Ve+Oe)/2))?Ve=xe:Oe=xe,At=Rt,!(Rt=Rt[Ye=Ne<<1|Te]))return At[Ye]=Vt,qe;if(pe=+qe._x.call(null,Rt.data),Ae=+qe._y.call(null,Rt.data),ct===pe&&dt===Ae)return Vt.next=Rt,At?At[Ye]=Vt:qe._root=Vt,qe;do At=At?At[Ye]=new Array(4):qe._root=new Array(4),(Te=ct>=(Le=(Je+Ie)/2))?Je=Le:Ie=Le,(Ne=dt>=(xe=(Ve+Oe)/2))?Ve=xe:Oe=xe;while((Ye=Ne<<1|Te)===(et=(Ae>=xe)<<1|pe>=Le));return At[et]=Rt,At[Ye]=Vt,qe}function v(qe){var ct,dt,gt=qe.length,At,Rt,Vt=new Array(gt),Je=new Array(gt),Ve=1/0,Ie=1/0,Oe=-1/0,Le=-1/0;for(dt=0;dt<gt;++dt)isNaN(At=+this._x.call(null,ct=qe[dt]))||isNaN(Rt=+this._y.call(null,ct))||(Vt[dt]=At,Je[dt]=Rt,At<Ve&&(Ve=At),At>Oe&&(Oe=At),Rt<Ie&&(Ie=Rt),Rt>Le&&(Le=Rt));if(Ve>Oe||Ie>Le)return this;for(this.cover(Ve,Ie).cover(Oe,Le),dt=0;dt<gt;++dt)M(this,Vt[dt],Je[dt],qe[dt]);return this}function p(qe,ct){if(isNaN(qe=+qe)||isNaN(ct=+ct))return this;var dt=this._x0,gt=this._y0,At=this._x1,Rt=this._y1;if(isNaN(dt))At=(dt=Math.floor(qe))+1,Rt=(gt=Math.floor(ct))+1;else{for(var Vt=At-dt,Je=this._root,Ve,Ie;dt>qe||qe>=At||gt>ct||ct>=Rt;)switch(Ie=(ct<gt)<<1|qe<dt,Ve=new Array(4),Ve[Ie]=Je,Je=Ve,Vt*=2,Ie){case 0:At=dt+Vt,Rt=gt+Vt;break;case 1:dt=At-Vt,Rt=gt+Vt;break;case 2:At=dt+Vt,gt=Rt-Vt;break;case 3:dt=At-Vt,gt=Rt-Vt;break}this._root&&this._root.length&&(this._root=Je)}return this._x0=dt,this._y0=gt,this._x1=At,this._y1=Rt,this}function r(){var qe=[];return this.visit(function(ct){if(!ct.length)do qe.push(ct.data);while(ct=ct.next)}),qe}function t(qe){return arguments.length?this.cover(+qe[0][0],+qe[0][1]).cover(+qe[1][0],+qe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function i(qe,ct,dt,gt,At){this.node=qe,this.x0=ct,this.y0=dt,this.x1=gt,this.y1=At}function n(qe,ct,dt){var gt,At=this._x0,Rt=this._y0,Vt,Je,Ve,Ie,Oe=this._x1,Le=this._y1,xe=[],pe=this._root,Ae,Te;for(pe&&xe.push(new i(pe,At,Rt,Oe,Le)),dt==null?dt=1/0:(At=qe-dt,Rt=ct-dt,Oe=qe+dt,Le=ct+dt,dt*=dt);Ae=xe.pop();)if(!(!(pe=Ae.node)||(Vt=Ae.x0)>Oe||(Je=Ae.y0)>Le||(Ve=Ae.x1)<At||(Ie=Ae.y1)<Rt))if(pe.length){var Ne=(Vt+Ve)/2,Ye=(Je+Ie)/2;xe.push(new i(pe[3],Ne,Ye,Ve,Ie),new i(pe[2],Vt,Ye,Ne,Ie),new i(pe[1],Ne,Je,Ve,Ye),new i(pe[0],Vt,Je,Ne,Ye)),(Te=(ct>=Ye)<<1|qe>=Ne)&&(Ae=xe[xe.length-1],xe[xe.length-1]=xe[xe.length-1-Te],xe[xe.length-1-Te]=Ae)}else{var et=qe-+this._x.call(null,pe.data),ft=ct-+this._y.call(null,pe.data),pt=et*et+ft*ft;if(pt<dt){var Yt=Math.sqrt(dt=pt);At=qe-Yt,Rt=ct-Yt,Oe=qe+Yt,Le=ct+Yt,gt=pe.data}}return gt}function c(qe){if(isNaN(Oe=+this._x.call(null,qe))||isNaN(Le=+this._y.call(null,qe)))return this;var ct,dt=this._root,gt,At,Rt,Vt=this._x0,Je=this._y0,Ve=this._x1,Ie=this._y1,Oe,Le,xe,pe,Ae,Te,Ne,Ye;if(!dt)return this;if(dt.length)for(;;){if((Ae=Oe>=(xe=(Vt+Ve)/2))?Vt=xe:Ve=xe,(Te=Le>=(pe=(Je+Ie)/2))?Je=pe:Ie=pe,ct=dt,!(dt=dt[Ne=Te<<1|Ae]))return this;if(!dt.length)break;(ct[Ne+1&3]||ct[Ne+2&3]||ct[Ne+3&3])&&(gt=ct,Ye=Ne)}for(;dt.data!==qe;)if(At=dt,!(dt=dt.next))return this;return(Rt=dt.next)&&delete dt.next,At?(Rt?At.next=Rt:delete At.next,this):ct?(Rt?ct[Ne]=Rt:delete ct[Ne],(dt=ct[0]||ct[1]||ct[2]||ct[3])&&dt===(ct[3]||ct[2]||ct[1]||ct[0])&&!dt.length&&(gt?gt[Ye]=dt:this._root=dt),this):(this._root=Rt,this)}function u(qe){for(var ct=0,dt=qe.length;ct<dt;++ct)this.remove(qe[ct]);return this}function l(){return this._root}function g(){var qe=0;return this.visit(function(ct){if(!ct.length)do++qe;while(ct=ct.next)}),qe}function f(qe){var ct=[],dt,gt=this._root,At,Rt,Vt,Je,Ve;for(gt&&ct.push(new i(gt,this._x0,this._y0,this._x1,this._y1));dt=ct.pop();)if(!qe(gt=dt.node,Rt=dt.x0,Vt=dt.y0,Je=dt.x1,Ve=dt.y1)&&gt.length){var Ie=(Rt+Je)/2,Oe=(Vt+Ve)/2;(At=gt[3])&&ct.push(new i(At,Ie,Oe,Je,Ve)),(At=gt[2])&&ct.push(new i(At,Rt,Oe,Ie,Ve)),(At=gt[1])&&ct.push(new i(At,Ie,Vt,Je,Oe)),(At=gt[0])&&ct.push(new i(At,Rt,Vt,Ie,Oe))}return this}function T(qe){var ct=[],dt=[],gt;for(this._root&&ct.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));gt=ct.pop();){var At=gt.node;if(At.length){var Rt,Vt=gt.x0,Je=gt.y0,Ve=gt.x1,Ie=gt.y1,Oe=(Vt+Ve)/2,Le=(Je+Ie)/2;(Rt=At[0])&&ct.push(new i(Rt,Vt,Je,Oe,Le)),(Rt=At[1])&&ct.push(new i(Rt,Oe,Je,Ve,Le)),(Rt=At[2])&&ct.push(new i(Rt,Vt,Le,Oe,Ie)),(Rt=At[3])&&ct.push(new i(Rt,Oe,Le,Ve,Ie))}dt.push(gt)}for(;gt=dt.pop();)qe(gt.node,gt.x0,gt.y0,gt.x1,gt.y1);return this}function h(qe){return qe[0]}function s(qe){return arguments.length?(this._x=qe,this):this._x}function d(qe){return qe[1]}function A(qe){return arguments.length?(this._y=qe,this):this._y}function w(qe,ct,dt){var gt=new C(ct??h,dt??d,NaN,NaN,NaN,NaN);return qe==null?gt:gt.addAll(qe)}function C(qe,ct,dt,gt,At,Rt){this._x=qe,this._y=ct,this._x0=dt,this._y0=gt,this._x1=At,this._y1=Rt,this._root=void 0}function b(qe){for(var ct={data:qe.data},dt=ct;qe=qe.next;)dt=dt.next={data:qe.data};return ct}var S=w.prototype=C.prototype;S.copy=function(){var qe=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ct=this._root,dt,gt;if(!ct)return qe;if(!ct.length)return qe._root=b(ct),qe;for(dt=[{source:ct,target:qe._root=new Array(4)}];ct=dt.pop();)for(var At=0;At<4;++At)(gt=ct.source[At])&&(gt.length?dt.push({source:gt,target:ct.target[At]=new Array(4)}):ct.target[At]=b(gt));return qe},S.add=L,S.addAll=v,S.cover=p,S.data=r,S.extent=t,S.find=n,S.remove=c,S.removeAll=u,S.root=l,S.size=g,S.visit=f,S.visitAfter=T,S.x=s,S.y=A;function m(qe){return qe.x+qe.vx}function a(qe){return qe.y+qe.vy}function E(qe){var ct,dt,gt=1,At=1;typeof qe!="function"&&(qe=P(qe==null?1:+qe));function Rt(){for(var Ve,Ie=ct.length,Oe,Le,xe,pe,Ae,Te,Ne=0;Ne<At;++Ne)for(Oe=w(ct,m,a).visitAfter(Vt),Ve=0;Ve<Ie;++Ve)Le=ct[Ve],Ae=dt[Le.index],Te=Ae*Ae,xe=Le.x+Le.vx,pe=Le.y+Le.vy,Oe.visit(Ye);function Ye(et,ft,pt,Yt,Jt){var Tt=et.data,_t=et.r,$t=Ae+_t;if(Tt){if(Tt.index>Le.index){var wr=xe-Tt.x-Tt.vx,yt=pe-Tt.y-Tt.vy,jt=wr*wr+yt*yt;jt<$t*$t&&(wr===0&&(wr=o(),jt+=wr*wr),yt===0&&(yt=o(),jt+=yt*yt),jt=($t-(jt=Math.sqrt(jt)))/jt*gt,Le.vx+=(wr*=jt)*($t=(_t*=_t)/(Te+_t)),Le.vy+=(yt*=jt)*$t,Tt.vx-=wr*($t=1-$t),Tt.vy-=yt*$t)}return}return ft>xe+$t||Yt<xe-$t||pt>pe+$t||Jt<pe-$t}}function Vt(Ve){if(Ve.data)return Ve.r=dt[Ve.data.index];for(var Ie=Ve.r=0;Ie<4;++Ie)Ve[Ie]&&Ve[Ie].r>Ve.r&&(Ve.r=Ve[Ie].r)}function Je(){if(ct){var Ve,Ie=ct.length,Oe;for(dt=new Array(Ie),Ve=0;Ve<Ie;++Ve)Oe=ct[Ve],dt[Oe.index]=+qe(Oe,Ve,ct)}}return Rt.initialize=function(Ve){ct=Ve,Je()},Rt.iterations=function(Ve){return arguments.length?(At=+Ve,Rt):At},Rt.strength=function(Ve){return arguments.length?(gt=+Ve,Rt):gt},Rt.radius=function(Ve){return arguments.length?(qe=typeof Ve=="function"?Ve:P(+Ve),Je(),Rt):qe},Rt}var x=e(15140);function k(qe){return qe.index}function I(qe,ct){var dt=qe.get(ct);if(!dt)throw new Error("missing: "+ct);return dt}function N(qe){var ct=k,dt=Oe,gt,At=P(30),Rt,Vt,Je,Ve,Ie=1;qe==null&&(qe=[]);function Oe(Te){return 1/Math.min(Je[Te.source.index],Je[Te.target.index])}function Le(Te){for(var Ne=0,Ye=qe.length;Ne<Ie;++Ne)for(var et=0,ft,pt,Yt,Jt,Tt,_t,$t;et<Ye;++et)ft=qe[et],pt=ft.source,Yt=ft.target,Jt=Yt.x+Yt.vx-pt.x-pt.vx||o(),Tt=Yt.y+Yt.vy-pt.y-pt.vy||o(),_t=Math.sqrt(Jt*Jt+Tt*Tt),_t=(_t-Rt[et])/_t*Te*gt[et],Jt*=_t,Tt*=_t,Yt.vx-=Jt*($t=Ve[et]),Yt.vy-=Tt*$t,pt.vx+=Jt*($t=1-$t),pt.vy+=Tt*$t}function xe(){if(Vt){var Te,Ne=Vt.length,Ye=qe.length,et=(0,x.UI)(Vt,ct),ft;for(Te=0,Je=new Array(Ne);Te<Ye;++Te)ft=qe[Te],ft.index=Te,typeof ft.source!="object"&&(ft.source=I(et,ft.source)),typeof ft.target!="object"&&(ft.target=I(et,ft.target)),Je[ft.source.index]=(Je[ft.source.index]||0)+1,Je[ft.target.index]=(Je[ft.target.index]||0)+1;for(Te=0,Ve=new Array(Ye);Te<Ye;++Te)ft=qe[Te],Ve[Te]=Je[ft.source.index]/(Je[ft.source.index]+Je[ft.target.index]);gt=new Array(Ye),pe(),Rt=new Array(Ye),Ae()}}function pe(){if(Vt)for(var Te=0,Ne=qe.length;Te<Ne;++Te)gt[Te]=+dt(qe[Te],Te,qe)}function Ae(){if(Vt)for(var Te=0,Ne=qe.length;Te<Ne;++Te)Rt[Te]=+At(qe[Te],Te,qe)}return Le.initialize=function(Te){Vt=Te,xe()},Le.links=function(Te){return arguments.length?(qe=Te,xe(),Le):qe},Le.id=function(Te){return arguments.length?(ct=Te,Le):ct},Le.iterations=function(Te){return arguments.length?(Ie=+Te,Le):Ie},Le.strength=function(Te){return arguments.length?(dt=typeof Te=="function"?Te:P(+Te),pe(),Le):dt},Le.distance=function(Te){return arguments.length?(At=typeof Te=="function"?Te:P(+Te),Ae(),Le):At},Le}var F={value:function(){}};function z(){for(var qe=0,ct=arguments.length,dt={},gt;qe<ct;++qe){if(!(gt=arguments[qe]+"")||gt in dt||/[\s.]/.test(gt))throw new Error("illegal type: "+gt);dt[gt]=[]}return new O(dt)}function O(qe){this._=qe}function _(qe,ct){return qe.trim().split(/^|\s+/).map(function(dt){var gt="",At=dt.indexOf(".");if(At>=0&&(gt=dt.slice(At+1),dt=dt.slice(0,At)),dt&&!ct.hasOwnProperty(dt))throw new Error("unknown type: "+dt);return{type:dt,name:gt}})}O.prototype=z.prototype={constructor:O,on:function(qe,ct){var dt=this._,gt=_(qe+"",dt),At,Rt=-1,Vt=gt.length;if(arguments.length<2){for(;++Rt<Vt;)if((At=(qe=gt[Rt]).type)&&(At=B(dt[At],qe.name)))return At;return}if(ct!=null&&typeof ct!="function")throw new Error("invalid callback: "+ct);for(;++Rt<Vt;)if(At=(qe=gt[Rt]).type)dt[At]=W(dt[At],qe.name,ct);else if(ct==null)for(At in dt)dt[At]=W(dt[At],qe.name,null);return this},copy:function(){var qe={},ct=this._;for(var dt in ct)qe[dt]=ct[dt].slice();return new O(qe)},call:function(qe,ct){if((At=arguments.length-2)>0)for(var dt=new Array(At),gt=0,At,Rt;gt<At;++gt)dt[gt]=arguments[gt+2];if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(Rt=this._[qe],gt=0,At=Rt.length;gt<At;++gt)Rt[gt].value.apply(ct,dt)},apply:function(qe,ct,dt){if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(var gt=this._[qe],At=0,Rt=gt.length;At<Rt;++At)gt[At].value.apply(ct,dt)}};function B(qe,ct){for(var dt=0,gt=qe.length,At;dt<gt;++dt)if((At=qe[dt]).name===ct)return At.value}function W(qe,ct,dt){for(var gt=0,At=qe.length;gt<At;++gt)if(qe[gt].name===ct){qe[gt]=F,qe=qe.slice(0,gt).concat(qe.slice(gt+1));break}return dt!=null&&qe.push({name:ct,value:dt}),qe}var $=z,te=0,ie=0,ue=0,J=1e3,Y,ae,j=0,q=0,oe=0,Q=typeof performance=="object"&&performance.now?performance:Date,X=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(qe){setTimeout(qe,17)};function se(){return q||(X(ne),q=Q.now()+oe)}function ne(){q=0}function fe(){this._call=this._time=this._next=null}fe.prototype=ye.prototype={constructor:fe,restart:function(qe,ct,dt){if(typeof qe!="function")throw new TypeError("callback is not a function");dt=(dt==null?se():+dt)+(ct==null?0:+ct),!this._next&&ae!==this&&(ae?ae._next=this:Y=this,ae=this),this._call=qe,this._time=dt,Me()},stop:function(){this._call&&(this._call=null,this._time=1/0,Me())}};function ye(qe,ct,dt){var gt=new fe;return gt.restart(qe,ct,dt),gt}function Se(){se(),++te;for(var qe=Y,ct;qe;)(ct=q-qe._time)>=0&&qe._call.call(null,ct),qe=qe._next;--te}function we(){q=(j=Q.now())+oe,te=ie=0;try{Se()}finally{te=0,ke(),q=0}}function _e(){var qe=Q.now(),ct=qe-j;ct>J&&(oe-=ct,j=qe)}function ke(){for(var qe,ct=Y,dt,gt=1/0;ct;)ct._call?(gt>ct._time&&(gt=ct._time),qe=ct,ct=ct._next):(dt=ct._next,ct._next=null,ct=qe?qe._next=dt:Y=dt);ae=qe,Me(gt)}function Me(qe){if(!te){ie&&(ie=clearTimeout(ie));var ct=qe-q;ct>24?(qe<1/0&&(ie=setTimeout(we,qe-Q.now()-oe)),ue&&(ue=clearInterval(ue))):(ue||(j=Q.now(),ue=setInterval(_e,J)),te=1,X(we))}}function me(qe){return qe.x}function Ee(qe){return qe.y}var Be=10,Ue=Math.PI*(3-Math.sqrt(5));function De(qe){var ct,dt=1,gt=.001,At=1-Math.pow(gt,1/300),Rt=0,Vt=.6,Je=(0,x.UI)(),Ve=ye(Oe),Ie=$("tick","end");qe==null&&(qe=[]);function Oe(){Le(),Ie.call("tick",ct),dt<gt&&(Ve.stop(),Ie.call("end",ct))}function Le(Ae){var Te,Ne=qe.length,Ye;Ae===void 0&&(Ae=1);for(var et=0;et<Ae;++et)for(dt+=(Rt-dt)*At,Je.each(function(ft){ft(dt)}),Te=0;Te<Ne;++Te)Ye=qe[Te],Ye.fx==null?Ye.x+=Ye.vx*=Vt:(Ye.x=Ye.fx,Ye.vx=0),Ye.fy==null?Ye.y+=Ye.vy*=Vt:(Ye.y=Ye.fy,Ye.vy=0);return ct}function xe(){for(var Ae=0,Te=qe.length,Ne;Ae<Te;++Ae){if(Ne=qe[Ae],Ne.index=Ae,Ne.fx!=null&&(Ne.x=Ne.fx),Ne.fy!=null&&(Ne.y=Ne.fy),isNaN(Ne.x)||isNaN(Ne.y)){var Ye=Be*Math.sqrt(Ae),et=Ae*Ue;Ne.x=Ye*Math.cos(et),Ne.y=Ye*Math.sin(et)}(isNaN(Ne.vx)||isNaN(Ne.vy))&&(Ne.vx=Ne.vy=0)}}function pe(Ae){return Ae.initialize&&Ae.initialize(qe),Ae}return xe(),ct={tick:Le,restart:function(){return Ve.restart(Oe),ct},stop:function(){return Ve.stop(),ct},nodes:function(Ae){return arguments.length?(qe=Ae,xe(),Je.each(pe),ct):qe},alpha:function(Ae){return arguments.length?(dt=+Ae,ct):dt},alphaMin:function(Ae){return arguments.length?(gt=+Ae,ct):gt},alphaDecay:function(Ae){return arguments.length?(At=+Ae,ct):+At},alphaTarget:function(Ae){return arguments.length?(Rt=+Ae,ct):Rt},velocityDecay:function(Ae){return arguments.length?(Vt=1-Ae,ct):1-Vt},force:function(Ae,Te){return arguments.length>1?(Te==null?Je.remove(Ae):Je.set(Ae,pe(Te)),ct):Je.get(Ae)},find:function(Ae,Te,Ne){var Ye=0,et=qe.length,ft,pt,Yt,Jt,Tt;for(Ne==null?Ne=1/0:Ne*=Ne,Ye=0;Ye<et;++Ye)Jt=qe[Ye],ft=Ae-Jt.x,pt=Te-Jt.y,Yt=ft*ft+pt*pt,Yt<Ne&&(Tt=Jt,Ne=Yt);return Tt},on:function(Ae,Te){return arguments.length>1?(Ie.on(Ae,Te),ct):Ie.on(Ae)}}}function He(){var qe,ct,dt,gt=P(-30),At,Rt=1,Vt=1/0,Je=.81;function Ve(xe){var pe,Ae=qe.length,Te=w(qe,me,Ee).visitAfter(Oe);for(dt=xe,pe=0;pe<Ae;++pe)ct=qe[pe],Te.visit(Le)}function Ie(){if(qe){var xe,pe=qe.length,Ae;for(At=new Array(pe),xe=0;xe<pe;++xe)Ae=qe[xe],At[Ae.index]=+gt(Ae,xe,qe)}}function Oe(xe){var pe=0,Ae,Te,Ne=0,Ye,et,ft;if(xe.length){for(Ye=et=ft=0;ft<4;++ft)(Ae=xe[ft])&&(Te=Math.abs(Ae.value))&&(pe+=Ae.value,Ne+=Te,Ye+=Te*Ae.x,et+=Te*Ae.y);xe.x=Ye/Ne,xe.y=et/Ne}else{Ae=xe,Ae.x=Ae.data.x,Ae.y=Ae.data.y;do pe+=At[Ae.data.index];while(Ae=Ae.next)}xe.value=pe}function Le(xe,pe,Ae,Te){if(!xe.value)return!0;var Ne=xe.x-ct.x,Ye=xe.y-ct.y,et=Te-pe,ft=Ne*Ne+Ye*Ye;if(et*et/Je<ft)return ft<Vt&&(Ne===0&&(Ne=o(),ft+=Ne*Ne),Ye===0&&(Ye=o(),ft+=Ye*Ye),ft<Rt&&(ft=Math.sqrt(Rt*ft)),ct.vx+=Ne*xe.value*dt/ft,ct.vy+=Ye*xe.value*dt/ft),!0;if(xe.length||ft>=Vt)return;(xe.data!==ct||xe.next)&&(Ne===0&&(Ne=o(),ft+=Ne*Ne),Ye===0&&(Ye=o(),ft+=Ye*Ye),ft<Rt&&(ft=Math.sqrt(Rt*ft)));do xe.data!==ct&&(et=At[xe.data.index]*dt/ft,ct.vx+=Ne*et,ct.vy+=Ye*et);while(xe=xe.next)}return Ve.initialize=function(xe){qe=xe,Ie()},Ve.strength=function(xe){return arguments.length?(gt=typeof xe=="function"?xe:P(+xe),Ie(),Ve):gt},Ve.distanceMin=function(xe){return arguments.length?(Rt=xe*xe,Ve):Math.sqrt(Rt)},Ve.distanceMax=function(xe){return arguments.length?(Vt=xe*xe,Ve):Math.sqrt(Vt)},Ve.theta=function(xe){return arguments.length?(Je=xe*xe,Ve):Math.sqrt(Je)},Ve}function nt(qe,ct,dt){var gt,At=P(.1),Rt,Vt;typeof qe!="function"&&(qe=P(+qe)),ct==null&&(ct=0),dt==null&&(dt=0);function Je(Ie){for(var Oe=0,Le=gt.length;Oe<Le;++Oe){var xe=gt[Oe],pe=xe.x-ct||1e-6,Ae=xe.y-dt||1e-6,Te=Math.sqrt(pe*pe+Ae*Ae),Ne=(Vt[Oe]-Te)*Rt[Oe]*Ie/Te;xe.vx+=pe*Ne,xe.vy+=Ae*Ne}}function Ve(){if(gt){var Ie,Oe=gt.length;for(Rt=new Array(Oe),Vt=new Array(Oe),Ie=0;Ie<Oe;++Ie)Vt[Ie]=+qe(gt[Ie],Ie,gt),Rt[Ie]=isNaN(Vt[Ie])?0:+At(gt[Ie],Ie,gt)}}return Je.initialize=function(Ie){gt=Ie,Ve()},Je.strength=function(Ie){return arguments.length?(At=typeof Ie=="function"?Ie:P(+Ie),Ve(),Je):At},Je.radius=function(Ie){return arguments.length?(qe=typeof Ie=="function"?Ie:P(+Ie),Ve(),Je):qe},Je.x=function(Ie){return arguments.length?(ct=+Ie,Je):ct},Je.y=function(Ie){return arguments.length?(dt=+Ie,Je):dt},Je}function lt(qe){var ct=P(.1),dt,gt,At;typeof qe!="function"&&(qe=P(qe==null?0:+qe));function Rt(Je){for(var Ve=0,Ie=dt.length,Oe;Ve<Ie;++Ve)Oe=dt[Ve],Oe.vx+=(At[Ve]-Oe.x)*gt[Ve]*Je}function Vt(){if(dt){var Je,Ve=dt.length;for(gt=new Array(Ve),At=new Array(Ve),Je=0;Je<Ve;++Je)gt[Je]=isNaN(At[Je]=+qe(dt[Je],Je,dt))?0:+ct(dt[Je],Je,dt)}}return Rt.initialize=function(Je){dt=Je,Vt()},Rt.strength=function(Je){return arguments.length?(ct=typeof Je=="function"?Je:P(+Je),Vt(),Rt):ct},Rt.x=function(Je){return arguments.length?(qe=typeof Je=="function"?Je:P(+Je),Vt(),Rt):qe},Rt}function $e(qe){var ct=P(.1),dt,gt,At;typeof qe!="function"&&(qe=P(qe==null?0:+qe));function Rt(Je){for(var Ve=0,Ie=dt.length,Oe;Ve<Ie;++Ve)Oe=dt[Ve],Oe.vy+=(At[Ve]-Oe.y)*gt[Ve]*Je}function Vt(){if(dt){var Je,Ve=dt.length;for(gt=new Array(Ve),At=new Array(Ve),Je=0;Je<Ve;++Je)gt[Je]=isNaN(At[Je]=+qe(dt[Je],Je,dt))?0:+ct(dt[Je],Je,dt)}}return Rt.initialize=function(Je){dt=Je,Vt()},Rt.strength=function(Je){return arguments.length?(ct=typeof Je=="function"?Je:P(+Je),Vt(),Rt):ct},Rt.y=function(Je){return arguments.length?(qe=typeof Je=="function"?Je:P(+Je),Vt(),Rt):qe},Rt}},60721:function(G,V,e){e.d(V,{WU:function(){return s},FF:function(){return T}});function y(A){return Math.abs(A=Math.round(A))>=1e21?A.toLocaleString("en").replace(/,/g,""):A.toString(10)}function P(A,w){if((C=(A=w?A.toExponential(w-1):A.toExponential()).indexOf("e"))<0)return null;var C,b=A.slice(0,C);return[b.length>1?b[0]+b.slice(2):b,+A.slice(C+1)]}function o(A){return A=P(Math.abs(A)),A?A[1]:NaN}function L(A,w){return function(C,b){for(var S=C.length,m=[],a=0,E=A[0],x=0;S>0&&E>0&&(x+E+1>b&&(E=Math.max(1,b-x)),m.push(C.substring(S-=E,S+E)),!((x+=E+1)>b));)E=A[a=(a+1)%A.length];return m.reverse().join(w)}}function M(A){return function(w){return w.replace(/[0-9]/g,function(C){return A[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(A){if(!(w=v.exec(A)))throw new Error("invalid format: "+A);var w;return new r({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}p.prototype=r.prototype;function r(A){this.fill=A.fill===void 0?" ":A.fill+"",this.align=A.align===void 0?">":A.align+"",this.sign=A.sign===void 0?"-":A.sign+"",this.symbol=A.symbol===void 0?"":A.symbol+"",this.zero=!!A.zero,this.width=A.width===void 0?void 0:+A.width,this.comma=!!A.comma,this.precision=A.precision===void 0?void 0:+A.precision,this.trim=!!A.trim,this.type=A.type===void 0?"":A.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(A){e:for(var w=A.length,C=1,b=-1,S;C<w;++C)switch(A[C]){case".":b=S=C;break;case"0":b===0&&(b=C),S=C;break;default:if(!+A[C])break e;b>0&&(b=0);break}return b>0?A.slice(0,b)+A.slice(S+1):A}var i;function n(A,w){var C=P(A,w);if(!C)return A+"";var b=C[0],S=C[1],m=S-(i=Math.max(-8,Math.min(8,Math.floor(S/3)))*3)+1,a=b.length;return m===a?b:m>a?b+new Array(m-a+1).join("0"):m>0?b.slice(0,m)+"."+b.slice(m):"0."+new Array(1-m).join("0")+P(A,Math.max(0,w+m-1))[0]}function c(A,w){var C=P(A,w);if(!C)return A+"";var b=C[0],S=C[1];return S<0?"0."+new Array(-S).join("0")+b:b.length>S+1?b.slice(0,S+1)+"."+b.slice(S+1):b+new Array(S-b.length+2).join("0")}var u={"%":function(A,w){return(A*100).toFixed(w)},b:function(A){return Math.round(A).toString(2)},c:function(A){return A+""},d:y,e:function(A,w){return A.toExponential(w)},f:function(A,w){return A.toFixed(w)},g:function(A,w){return A.toPrecision(w)},o:function(A){return Math.round(A).toString(8)},p:function(A,w){return c(A*100,w)},r:c,s:n,X:function(A){return Math.round(A).toString(16).toUpperCase()},x:function(A){return Math.round(A).toString(16)}};function l(A){return A}var g=Array.prototype.map,f=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T(A){var w=A.grouping===void 0||A.thousands===void 0?l:L(g.call(A.grouping,Number),A.thousands+""),C=A.currency===void 0?"":A.currency[0]+"",b=A.currency===void 0?"":A.currency[1]+"",S=A.decimal===void 0?".":A.decimal+"",m=A.numerals===void 0?l:M(g.call(A.numerals,String)),a=A.percent===void 0?"%":A.percent+"",E=A.minus===void 0?"-":A.minus+"",x=A.nan===void 0?"NaN":A.nan+"";function k(N){N=p(N);var F=N.fill,z=N.align,O=N.sign,_=N.symbol,B=N.zero,W=N.width,$=N.comma,te=N.precision,ie=N.trim,ue=N.type;ue==="n"?($=!0,ue="g"):u[ue]||(te===void 0&&(te=12),ie=!0,ue="g"),(B||F==="0"&&z==="=")&&(B=!0,F="0",z="=");var J=_==="$"?C:_==="#"&&/[boxX]/.test(ue)?"0"+ue.toLowerCase():"",Y=_==="$"?b:/[%p]/.test(ue)?a:"",ae=u[ue],j=/[defgprs%]/.test(ue);te=te===void 0?6:/[gprs]/.test(ue)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function q(oe){var Q=J,X=Y,se,ne,fe;if(ue==="c")X=ae(oe)+X,oe="";else{oe=+oe;var ye=oe<0||1/oe<0;if(oe=isNaN(oe)?x:ae(Math.abs(oe),te),ie&&(oe=t(oe)),ye&&+oe==0&&O!=="+"&&(ye=!1),Q=(ye?O==="("?O:E:O==="-"||O==="("?"":O)+Q,X=(ue==="s"?f[8+i/3]:"")+X+(ye&&O==="("?")":""),j){for(se=-1,ne=oe.length;++se<ne;)if(fe=oe.charCodeAt(se),48>fe||fe>57){X=(fe===46?S+oe.slice(se+1):oe.slice(se))+X,oe=oe.slice(0,se);break}}}$&&!B&&(oe=w(oe,1/0));var Se=Q.length+oe.length+X.length,we=Se<W?new Array(W-Se+1).join(F):"";switch($&&B&&(oe=w(we+oe,we.length?W-X.length:1/0),we=""),z){case"<":oe=Q+oe+X+we;break;case"=":oe=Q+we+oe+X;break;case"^":oe=we.slice(0,Se=we.length>>1)+Q+oe+X+we.slice(Se);break;default:oe=we+Q+oe+X;break}return m(oe)}return q.toString=function(){return N+""},q}function I(N,F){var z=k((N=p(N),N.type="f",N)),O=Math.max(-8,Math.min(8,Math.floor(o(F)/3)))*3,_=Math.pow(10,-O),B=f[8+O/3];return function(W){return z(_*W)+B}}return{format:k,formatPrefix:I}}var h,s;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(A){return h=T(A),s=h.format,h.formatPrefix,h}},65704:function(G,V,e){e.r(V),e.d(V,{geoAiry:function(){return B},geoAiryRaw:function(){return _},geoAitoff:function(){return $},geoAitoffRaw:function(){return W},geoArmadillo:function(){return ie},geoArmadilloRaw:function(){return te},geoAugust:function(){return J},geoAugustRaw:function(){return ue},geoBaker:function(){return q},geoBakerRaw:function(){return j},geoBerghaus:function(){return X},geoBerghausRaw:function(){return Q},geoBertin1953:function(){return ke},geoBertin1953Raw:function(){return _e},geoBoggs:function(){return nt},geoBoggsRaw:function(){return He},geoBonne:function(){return dt},geoBonneRaw:function(){return ct},geoBottomley:function(){return At},geoBottomleyRaw:function(){return gt},geoBromley:function(){return Vt},geoBromleyRaw:function(){return Rt},geoChamberlin:function(){return Te},geoChamberlinAfrica:function(){return Ae},geoChamberlinRaw:function(){return xe},geoCollignon:function(){return Ye},geoCollignonRaw:function(){return Ne},geoCraig:function(){return ft},geoCraigRaw:function(){return et},geoCraster:function(){return Jt},geoCrasterRaw:function(){return Yt},geoCylindricalEqualArea:function(){return _t},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return wr},geoCylindricalStereographicRaw:function(){return $t},geoEckert1:function(){return jt},geoEckert1Raw:function(){return yt},geoEckert2:function(){return gr},geoEckert2Raw:function(){return Qt},geoEckert3:function(){return vt},geoEckert3Raw:function(){return sr},geoEckert4:function(){return xt},geoEckert4Raw:function(){return at},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return Mt},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Lt},geoEisenlohr:function(){return lr},geoEisenlohrRaw:function(){return Xt},geoFahey:function(){return We},geoFaheyRaw:function(){return hr},geoFoucaut:function(){return kt},geoFoucautRaw:function(){return Ge},geoFoucautSinusoidal:function(){return Zt},geoFoucautSinusoidalRaw:function(){return It},geoGilbert:function(){return vr},geoGingery:function(){return Ur},geoGingeryRaw:function(){return yr},geoGinzburg4:function(){return vn},geoGinzburg4Raw:function(){return Rr},geoGinzburg5:function(){return Bn},geoGinzburg5Raw:function(){return tn},geoGinzburg6:function(){return Mr},geoGinzburg6Raw:function(){return xn},geoGinzburg8:function(){return Wr},geoGinzburg8Raw:function(){return Er},geoGinzburg9:function(){return an},geoGinzburg9Raw:function(){return Hr},geoGringorten:function(){return sa},geoGringortenQuincuncial:function(){return dh},geoGringortenRaw:function(){return gn},geoGuyou:function(){return pn},geoGuyouRaw:function(){return Tr},geoHammer:function(){return ye},geoHammerRaw:function(){return ne},geoHammerRetroazimuthal:function(){return Hn},geoHammerRetroazimuthalRaw:function(){return An},geoHealpix:function(){return hn},geoHealpixRaw:function(){return br},geoHill:function(){return Xr},geoHillRaw:function(){return Lr},geoHomolosine:function(){return Un},geoHomolosineRaw:function(){return In},geoHufnagel:function(){return ya},geoHufnagelRaw:function(){return On},geoHyperelliptical:function(){return pi},geoHyperellipticalRaw:function(){return Pa},geoInterrupt:function(){return to},geoInterruptedBoggs:function(){return ff},geoInterruptedHomolosine:function(){return qa},geoInterruptedMollweide:function(){return cf},geoInterruptedMollweideHemispheres:function(){return bo},geoInterruptedQuarticAuthalic:function(){return Us},geoInterruptedSinuMollweide:function(){return zu},geoInterruptedSinusoidal:function(){return Cl},geoKavrayskiy7:function(){return Vi},geoKavrayskiy7Raw:function(){return _i},geoLagrange:function(){return ro},geoLagrangeRaw:function(){return Ll},geoLarrivee:function(){return Xf},geoLarriveeRaw:function(){return zo},geoLaskowski:function(){return eh},geoLaskowskiRaw:function(){return Po},geoLittrow:function(){return Ji},geoLittrowRaw:function(){return cs},geoLoximuthal:function(){return Ns},geoLoximuthalRaw:function(){return hf},geoMiller:function(){return vf},geoMillerRaw:function(){return hs},geoModifiedStereographic:function(){return il},geoModifiedStereographicAlaska:function(){return df},geoModifiedStereographicGs48:function(){return ih},geoModifiedStereographicGs50:function(){return oh},geoModifiedStereographicLee:function(){return Qf},geoModifiedStereographicMiller:function(){return Jf},geoModifiedStereographicRaw:function(){return Kf},geoMollweide:function(){return Be},geoMollweideRaw:function(){return Ee},geoMtFlatPolarParabolic:function(){return $f},geoMtFlatPolarParabolicRaw:function(){return au},geoMtFlatPolarQuartic:function(){return sh},geoMtFlatPolarQuarticRaw:function(){return Ss},geoMtFlatPolarSinusoidal:function(){return qf},geoMtFlatPolarSinusoidalRaw:function(){return Bu},geoNaturalEarth:function(){return ec.Z},geoNaturalEarth2:function(){return Xo},geoNaturalEarth2Raw:function(){return Nu},geoNaturalEarthRaw:function(){return ec.K},geoNellHammer:function(){return ol},geoNellHammerRaw:function(){return Rl},geoNicolosi:function(){return pf},geoNicolosiRaw:function(){return vs},geoPatterson:function(){return Fl},geoPattersonRaw:function(){return Hu},geoPeirceQuincuncial:function(){return oc},geoPierceQuincuncial:function(){return oc},geoPolyconic:function(){return uh},geoPolyconicRaw:function(){return Vu},geoPolyhedral:function(){return gi},geoPolyhedralButterfly:function(){return su},geoPolyhedralCollignon:function(){return ll},geoPolyhedralWaterman:function(){return Vs},geoProject:function(){return hh},geoQuantize:function(){return sc},geoQuincuncial:function(){return Ls},geoRectangularPolyconic:function(){return lc},geoRectangularPolyconicRaw:function(){return Tf},geoRobinson:function(){return Gs},geoRobinsonRaw:function(){return es},geoSatellite:function(){return ul},geoSatelliteRaw:function(){return Zu},geoSinuMollweide:function(){return Fn},geoSinuMollweideRaw:function(){return Tn},geoSinusoidal:function(){return qe},geoSinusoidalRaw:function(){return $e},geoStitch:function(){return du},geoTimes:function(){return Gi},geoTimesRaw:function(){return Zs},geoTwoPointAzimuthal:function(){return Ku},geoTwoPointAzimuthalRaw:function(){return Mf},geoTwoPointAzimuthalUsa:function(){return cl},geoTwoPointEquidistant:function(){return cc},geoTwoPointEquidistantRaw:function(){return pu},geoTwoPointEquidistantUsa:function(){return ph},geoVanDerGrinten:function(){return gu},geoVanDerGrinten2:function(){return hc},geoVanDerGrinten2Raw:function(){return Gl},geoVanDerGrinten3:function(){return gh},geoVanDerGrinten3Raw:function(){return js},geoVanDerGrinten4:function(){return yu},geoVanDerGrinten4Raw:function(){return Do},geoVanDerGrintenRaw:function(){return po},geoWagner:function(){return Xs},geoWagner4:function(){return vc},geoWagner4Raw:function(){return Qu},geoWagner6:function(){return Ef},geoWagner6Raw:function(){return bu},geoWagner7:function(){return Sf},geoWagnerRaw:function(){return Ds},geoWiechel:function(){return Cf},geoWiechelRaw:function(){return hl},geoWinkel3:function(){return dc},geoWinkel3Raw:function(){return wu}});var y=e(15002),P=Math.abs,o=Math.atan,L=Math.atan2,M=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,i=Math.min,n=Math.pow,c=Math.round,u=Math.sign||function(Xe){return Xe>0?1:Xe<0?-1:0},l=Math.sin,g=Math.tan,f=1e-6,T=1e-12,h=Math.PI,s=h/2,d=h/4,A=Math.SQRT1_2,w=k(2),C=k(h),b=h*2,S=180/h,m=h/180;function a(Xe){return Xe?Xe/Math.sin(Xe):1}function E(Xe){return Xe>1?s:Xe<-1?-s:Math.asin(Xe)}function x(Xe){return Xe>1?0:Xe<-1?h:Math.acos(Xe)}function k(Xe){return Xe>0?Math.sqrt(Xe):0}function I(Xe){return Xe=v(2*Xe),(Xe-1)/(Xe+1)}function N(Xe){return(v(Xe)-v(-Xe))/2}function F(Xe){return(v(Xe)+v(-Xe))/2}function z(Xe){return r(Xe+k(Xe*Xe+1))}function O(Xe){return r(Xe+k(Xe*Xe-1))}function _(Xe){var rt=g(Xe/2),ht=2*r(M(Xe/2))/(rt*rt);function mt(Ft,Pt){var Ot=M(Ft),dr=M(Pt),xr=l(Pt),ar=dr*Ot,Ar=-((1-ar?r((1+ar)/2)/(1-ar):-.5)+ht/(1+ar));return[Ar*dr*l(Ft),Ar*xr]}return mt.invert=function(Ft,Pt){var Ot=k(Ft*Ft+Pt*Pt),dr=-Xe/2,xr=50,ar;if(!Ot)return[0,0];do{var Ar=dr/2,Ir=M(Ar),Or=l(Ar),en=Or/Ir,bn=-r(P(Ir));dr-=ar=(2/en*bn-ht*en-Ot)/(-bn/(Or*Or)+1-ht/(2*Ir*Ir))*(Ir<0?.7:1)}while(P(ar)>f&&--xr>0);var Ln=l(dr);return[L(Ft*Ln,Ot*M(dr)),E(Pt*Ln/Ot)]},mt}function B(){var Xe=s,rt=(0,y.r)(_),ht=rt(Xe);return ht.radius=function(mt){return arguments.length?rt(Xe=mt*m):Xe*S},ht.scale(179.976).clipAngle(147)}function W(Xe,rt){var ht=M(rt),mt=a(x(ht*M(Xe/=2)));return[2*ht*l(Xe)*mt,l(rt)*mt]}W.invert=function(Xe,rt){if(!(Xe*Xe+4*rt*rt>h*h+f)){var ht=Xe,mt=rt,Ft=25;do{var Pt=l(ht),Ot=l(ht/2),dr=M(ht/2),xr=l(mt),ar=M(mt),Ar=l(2*mt),Ir=xr*xr,Or=ar*ar,en=Ot*Ot,bn=1-Or*dr*dr,Ln=bn?x(ar*dr)*k(Pn=1/bn):Pn=0,Pn,Kn=2*Ln*ar*Ot-Xe,Ra=Ln*xr-rt,Da=Pn*(Or*en+Ln*ar*dr*Ir),Ia=Pn*(.5*Pt*Ar-Ln*2*xr*Ot),za=Pn*.25*(Ar*Ot-Ln*xr*Or*Pt),ja=Pn*(Ir*dr+Ln*en*ar),hi=Ia*za-ja*Da;if(!hi)break;var Fi=(Ra*Ia-Kn*ja)/hi,le=(Kn*za-Ra*Da)/hi;ht-=Fi,mt-=le}while((P(Fi)>f||P(le)>f)&&--Ft>0);return[ht,mt]}};function $(){return(0,y.Z)(W).scale(152.63)}function te(Xe){var rt=l(Xe),ht=M(Xe),mt=Xe>=0?1:-1,Ft=g(mt*Xe),Pt=(1+rt-ht)/2;function Ot(dr,xr){var ar=M(xr),Ar=M(dr/=2);return[(1+ar)*l(dr),(mt*xr>-L(Ar,Ft)-.001?0:-mt*10)+Pt+l(xr)*ht-(1+ar)*rt*Ar]}return Ot.invert=function(dr,xr){var ar=0,Ar=0,Ir=50;do{var Or=M(ar),en=l(ar),bn=M(Ar),Ln=l(Ar),Pn=1+bn,Kn=Pn*en-dr,Ra=Pt+Ln*ht-Pn*rt*Or-xr,Da=Pn*Or/2,Ia=-en*Ln,za=rt*Pn*en/2,ja=ht*bn+rt*Or*Ln,hi=Ia*za-ja*Da,Fi=(Ra*Ia-Kn*ja)/hi/2,le=(Kn*za-Ra*Da)/hi;P(le)>2&&(le/=2),ar-=Fi,Ar-=le}while((P(Fi)>f||P(le)>f)&&--Ir>0);return mt*Ar>-L(M(ar),Ft)-.001?[ar*2,Ar]:null},Ot}function ie(){var Xe=20*m,rt=Xe>=0?1:-1,ht=g(rt*Xe),mt=(0,y.r)(te),Ft=mt(Xe),Pt=Ft.stream;return Ft.parallel=function(Ot){return arguments.length?(ht=g((rt=(Xe=Ot*m)>=0?1:-1)*Xe),mt(Xe)):Xe*S},Ft.stream=function(Ot){var dr=Ft.rotate(),xr=Pt(Ot),ar=(Ft.rotate([0,0]),Pt(Ot)),Ar=Ft.precision();return Ft.rotate(dr),xr.sphere=function(){ar.polygonStart(),ar.lineStart();for(var Ir=rt*-180;rt*Ir<180;Ir+=rt*90)ar.point(Ir,rt*90);if(Xe)for(;rt*(Ir-=3*rt*Ar)>=-180;)ar.point(Ir,rt*-L(M(Ir*m/2),ht)*S);ar.lineEnd(),ar.polygonEnd()},xr},Ft.scale(218.695).center([0,28.0974])}function ue(Xe,rt){var ht=g(rt/2),mt=k(1-ht*ht),Ft=1+mt*M(Xe/=2),Pt=l(Xe)*mt/Ft,Ot=ht/Ft,dr=Pt*Pt,xr=Ot*Ot;return[1.3333333333333333*Pt*(3+dr-3*xr),1.3333333333333333*Ot*(3+3*dr-xr)]}ue.invert=function(Xe,rt){if(Xe*=.375,rt*=.375,!Xe&&P(rt)>1)return null;var ht=Xe*Xe,mt=rt*rt,Ft=1+ht+mt,Pt=k((Ft-k(Ft*Ft-4*rt*rt))/2),Ot=E(Pt)/3,dr=Pt?O(P(rt/Pt))/3:z(P(Xe))/3,xr=M(Ot),ar=F(dr),Ar=ar*ar-xr*xr;return[u(Xe)*2*L(N(dr)*xr,.25-Ar),u(rt)*2*L(ar*l(Ot),.25+Ar)]};function J(){return(0,y.Z)(ue).scale(66.1603)}var Y=k(8),ae=r(1+w);function j(Xe,rt){var ht=P(rt);return ht<d?[Xe,r(g(d+rt/2))]:[Xe*M(ht)*(2*w-1/l(ht)),u(rt)*(2*w*(ht-d)-r(g(ht/2)))]}j.invert=function(Xe,rt){if((Pt=P(rt))<ae)return[Xe,2*o(v(rt))-s];var ht=d,mt=25,Ft,Pt;do{var Ot=M(ht/2),dr=g(ht/2);ht-=Ft=(Y*(ht-d)-r(dr)-Pt)/(Y-Ot*Ot/(2*dr))}while(P(Ft)>T&&--mt>0);return[Xe/(M(ht)*(Y-1/l(ht))),u(rt)*ht]};function q(){return(0,y.Z)(j).scale(112.314)}var oe=e(17889);function Q(Xe){var rt=2*h/Xe;function ht(mt,Ft){var Pt=(0,oe.N)(mt,Ft);if(P(mt)>s){var Ot=L(Pt[1],Pt[0]),dr=k(Pt[0]*Pt[0]+Pt[1]*Pt[1]),xr=rt*c((Ot-s)/rt)+s,ar=L(l(Ot-=xr),2-M(Ot));Ot=xr+E(h/dr*l(ar))-ar,Pt[0]=dr*M(Ot),Pt[1]=dr*l(Ot)}return Pt}return ht.invert=function(mt,Ft){var Pt=k(mt*mt+Ft*Ft);if(Pt>s){var Ot=L(Ft,mt),dr=rt*c((Ot-s)/rt)+s,xr=Ot>dr?-1:1,ar=Pt*M(dr-Ot),Ar=1/g(xr*x((ar-h)/k(h*(h-2*ar)+Pt*Pt)));Ot=dr+2*o((Ar+xr*k(Ar*Ar-3))/3),mt=Pt*M(Ot),Ft=Pt*l(Ot)}return oe.N.invert(mt,Ft)},ht}function X(){var Xe=5,rt=(0,y.r)(Q),ht=rt(Xe),mt=ht.stream,Ft=.01,Pt=-M(Ft*m),Ot=l(Ft*m);return ht.lobes=function(dr){return arguments.length?rt(Xe=+dr):Xe},ht.stream=function(dr){var xr=ht.rotate(),ar=mt(dr),Ar=(ht.rotate([0,0]),mt(dr));return ht.rotate(xr),ar.sphere=function(){Ar.polygonStart(),Ar.lineStart();for(var Ir=0,Or=360/Xe,en=2*h/Xe,bn=90-180/Xe,Ln=s;Ir<Xe;++Ir,bn-=Or,Ln-=en)Ar.point(L(Ot*M(Ln),Pt)*S,E(Ot*l(Ln))*S),bn<-90?(Ar.point(-90,-180-bn-Ft),Ar.point(-90,-180-bn+Ft)):(Ar.point(90,bn+Ft),Ar.point(90,bn-Ft));Ar.lineEnd(),Ar.polygonEnd()},ar},ht.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(12956);function ne(Xe,rt){if(arguments.length<2&&(rt=Xe),rt===1)return se.l;if(rt===1/0)return fe;function ht(mt,Ft){var Pt=(0,se.l)(mt/rt,Ft);return Pt[0]*=Xe,Pt}return ht.invert=function(mt,Ft){var Pt=se.l.invert(mt/Xe,Ft);return Pt[0]*=rt,Pt},ht}function fe(Xe,rt){return[Xe*M(rt)/M(rt/=2),2*l(rt)]}fe.invert=function(Xe,rt){var ht=2*E(rt/2);return[Xe*M(ht/2)/M(ht),ht]};function ye(){var Xe=2,rt=(0,y.r)(ne),ht=rt(Xe);return ht.coefficient=function(mt){return arguments.length?rt(Xe=+mt):Xe},ht.scale(169.529)}function Se(Xe,rt,ht){var mt=100,Ft,Pt,Ot;ht=ht===void 0?0:+ht,rt=+rt;do Pt=Xe(ht),Ot=Xe(ht+f),Pt===Ot&&(Ot=Pt+f),ht-=Ft=-1*f*(Pt-rt)/(Pt-Ot);while(mt-- >0&&P(Ft)>f);return mt<0?NaN:ht}function we(Xe,rt,ht){return rt===void 0&&(rt=40),ht===void 0&&(ht=T),function(mt,Ft,Pt,Ot){var dr,xr,ar;Pt=Pt===void 0?0:+Pt,Ot=Ot===void 0?0:+Ot;for(var Ar=0;Ar<rt;Ar++){var Ir=Xe(Pt,Ot),Or=Ir[0]-mt,en=Ir[1]-Ft;if(P(Or)<ht&&P(en)<ht)break;var bn=Or*Or+en*en;if(bn>dr){Pt-=xr/=2,Ot-=ar/=2;continue}dr=bn;var Ln=(Pt>0?-1:1)*ht,Pn=(Ot>0?-1:1)*ht,Kn=Xe(Pt+Ln,Ot),Ra=Xe(Pt,Ot+Pn),Da=(Kn[0]-Ir[0])/Ln,Ia=(Kn[1]-Ir[1])/Ln,za=(Ra[0]-Ir[0])/Pn,ja=(Ra[1]-Ir[1])/Pn,hi=ja*Da-Ia*za,Fi=(P(hi)<.5?.5:1)/hi;if(xr=(en*za-Or*ja)*Fi,ar=(Or*Ia-en*Da)*Fi,Pt+=xr,Ot+=ar,P(xr)<ht&&P(ar)<ht)break}return[Pt,Ot]}}function _e(){var Xe=ne(1.68,2),rt=1.4,ht=12;function mt(Ft,Pt){if(Ft+Pt<-rt){var Ot=(Ft-Pt+1.6)*(Ft+Pt+rt)/8;Ft+=Ot,Pt-=.8*Ot*l(Pt+h/2)}var dr=Xe(Ft,Pt),xr=(1-M(Ft*Pt))/ht;return dr[1]<0&&(dr[0]*=1+xr),dr[1]>0&&(dr[1]*=1+xr/1.5*dr[0]*dr[0]),dr}return mt.invert=we(mt),mt}function ke(){return(0,y.Z)(_e()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Me(Xe,rt){var ht=Xe*l(rt),mt=30,Ft;do rt-=Ft=(rt+l(rt)-ht)/(1+M(rt));while(P(Ft)>f&&--mt>0);return rt/2}function me(Xe,rt,ht){function mt(Ft,Pt){return[Xe*Ft*M(Pt=Me(ht,Pt)),rt*l(Pt)]}return mt.invert=function(Ft,Pt){return Pt=E(Pt/rt),[Ft/(Xe*M(Pt)),E((2*Pt+l(2*Pt))/ht)]},mt}var Ee=me(w/s,w,h);function Be(){return(0,y.Z)(Ee).scale(169.529)}var Ue=2.00276,De=1.11072;function He(Xe,rt){var ht=Me(h,rt);return[Ue*Xe/(1/M(rt)+De/M(ht)),(rt+w*l(ht))/Ue]}He.invert=function(Xe,rt){var ht=Ue*rt,mt=rt<0?-d:d,Ft=25,Pt,Ot;do Ot=ht-w*l(mt),mt-=Pt=(l(2*mt)+2*mt-h*l(Ot))/(2*M(2*mt)+2+h*M(Ot)*w*M(mt));while(P(Pt)>f&&--Ft>0);return Ot=ht-w*l(mt),[Xe*(1/M(Ot)+De/M(mt))/Ue,Ot]};function nt(){return(0,y.Z)(He).scale(160.857)}function lt(Xe){var rt=0,ht=(0,y.r)(Xe),mt=ht(rt);return mt.parallel=function(Ft){return arguments.length?ht(rt=Ft*m):rt*S},mt}function $e(Xe,rt){return[Xe*M(rt),rt]}$e.invert=function(Xe,rt){return[Xe/M(rt),rt]};function qe(){return(0,y.Z)($e).scale(152.63)}function ct(Xe){if(!Xe)return $e;var rt=1/g(Xe);function ht(mt,Ft){var Pt=rt+Xe-Ft,Ot=Pt&&mt*M(Ft)/Pt;return[Pt*l(Ot),rt-Pt*M(Ot)]}return ht.invert=function(mt,Ft){var Pt=k(mt*mt+(Ft=rt-Ft)*Ft),Ot=rt+Xe-Pt;return[Pt/M(Ot)*L(mt,Ft),Ot]},ht}function dt(){return lt(ct).scale(123.082).center([0,26.1441]).parallel(45)}function gt(Xe){function rt(ht,mt){var Ft=s-mt,Pt=Ft&&ht*Xe*l(Ft)/Ft;return[Ft*l(Pt)/Xe,s-Ft*M(Pt)]}return rt.invert=function(ht,mt){var Ft=ht*Xe,Pt=s-mt,Ot=k(Ft*Ft+Pt*Pt),dr=L(Ft,Pt);return[(Ot?Ot/l(Ot):1)*dr/Xe,s-Ot]},rt}function At(){var Xe=.5,rt=(0,y.r)(gt),ht=rt(Xe);return ht.fraction=function(mt){return arguments.length?rt(Xe=+mt):Xe},ht.scale(158.837)}var Rt=me(1,4/h,h);function Vt(){return(0,y.Z)(Rt).scale(152.63)}var Je=e(66624),Ve=e(49386);function Ie(Xe,rt,ht,mt,Ft,Pt){var Ot=M(Pt),dr;if(P(Xe)>1||P(Pt)>1)dr=x(ht*Ft+rt*mt*Ot);else{var xr=l(Xe/2),ar=l(Pt/2);dr=2*E(k(xr*xr+rt*mt*ar*ar))}return P(dr)>f?[dr,L(mt*l(Pt),rt*Ft-ht*mt*Ot)]:[0,0]}function Oe(Xe,rt,ht){return x((Xe*Xe+rt*rt-ht*ht)/(2*Xe*rt))}function Le(Xe){return Xe-2*h*p((Xe+h)/(2*h))}function xe(Xe,rt,ht){for(var mt=[[Xe[0],Xe[1],l(Xe[1]),M(Xe[1])],[rt[0],rt[1],l(rt[1]),M(rt[1])],[ht[0],ht[1],l(ht[1]),M(ht[1])]],Ft=mt[2],Pt,Ot=0;Ot<3;++Ot,Ft=Pt)Pt=mt[Ot],Ft.v=Ie(Pt[1]-Ft[1],Ft[3],Ft[2],Pt[3],Pt[2],Pt[0]-Ft[0]),Ft.point=[0,0];var dr=Oe(mt[0].v[0],mt[2].v[0],mt[1].v[0]),xr=Oe(mt[0].v[0],mt[1].v[0],mt[2].v[0]),ar=h-dr;mt[2].point[1]=0,mt[0].point[0]=-(mt[1].point[0]=mt[0].v[0]/2);var Ar=[mt[2].point[0]=mt[0].point[0]+mt[2].v[0]*M(dr),2*(mt[0].point[1]=mt[1].point[1]=mt[2].v[0]*l(dr))];function Ir(Or,en){var bn=l(en),Ln=M(en),Pn=new Array(3),Kn;for(Kn=0;Kn<3;++Kn){var Ra=mt[Kn];if(Pn[Kn]=Ie(en-Ra[1],Ra[3],Ra[2],Ln,bn,Or-Ra[0]),!Pn[Kn][0])return Ra.point;Pn[Kn][1]=Le(Pn[Kn][1]-Ra.v[1])}var Da=Ar.slice();for(Kn=0;Kn<3;++Kn){var Ia=Kn==2?0:Kn+1,za=Oe(mt[Kn].v[0],Pn[Kn][0],Pn[Ia][0]);Pn[Kn][1]<0&&(za=-za),Kn?Kn==1?(za=xr-za,Da[0]-=Pn[Kn][0]*M(za),Da[1]-=Pn[Kn][0]*l(za)):(za=ar-za,Da[0]+=Pn[Kn][0]*M(za),Da[1]+=Pn[Kn][0]*l(za)):(Da[0]+=Pn[Kn][0]*M(za),Da[1]-=Pn[Kn][0]*l(za))}return Da[0]/=3,Da[1]/=3,Da}return Ir}function pe(Xe){return Xe[0]*=m,Xe[1]*=m,Xe}function Ae(){return Te([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Te(Xe,rt,ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:[Xe,rt,ht]}),Ft=[-mt[0],-mt[1]],Pt=(0,Ve.Z)(Ft),Ot=xe(pe(Pt(Xe)),pe(Pt(rt)),pe(Pt(ht)));Ot.invert=we(Ot);var dr=(0,y.Z)(Ot).rotate(Ft),xr=dr.center;return delete dr.rotate,dr.center=function(ar){return arguments.length?xr(Pt(ar)):Pt.invert(xr())},dr.clipAngle(90)}function Ne(Xe,rt){var ht=k(1-l(rt));return[2/C*Xe*ht,C*(1-ht)]}Ne.invert=function(Xe,rt){var ht=(ht=rt/C-1)*ht;return[ht>0?Xe*k(h/ht)/2:0,E(1-ht)]};function Ye(){return(0,y.Z)(Ne).scale(95.6464).center([0,30])}function et(Xe){var rt=g(Xe);function ht(mt,Ft){return[mt,(mt?mt/l(mt):1)*(l(Ft)*M(mt)-rt*M(Ft))]}return ht.invert=rt?function(mt,Ft){mt&&(Ft*=l(mt)/mt);var Pt=M(mt);return[mt,2*L(k(Pt*Pt+rt*rt-Ft*Ft)-Pt,rt-Ft)]}:function(mt,Ft){return[mt,E(mt?Ft*g(mt)/mt:Ft)]},ht}function ft(){return lt(et).scale(249.828).clipAngle(90)}var pt=k(3);function Yt(Xe,rt){return[pt*Xe*(2*M(2*rt/3)-1)/C,pt*C*l(rt/3)]}Yt.invert=function(Xe,rt){var ht=3*E(rt/(pt*C));return[C*Xe/(pt*(2*M(2*ht/3)-1)),ht]};function Jt(){return(0,y.Z)(Yt).scale(156.19)}function Tt(Xe){var rt=M(Xe);function ht(mt,Ft){return[mt*rt,l(Ft)/rt]}return ht.invert=function(mt,Ft){return[mt/rt,E(Ft*rt)]},ht}function _t(){return lt(Tt).parallel(38.58).scale(195.044)}function $t(Xe){var rt=M(Xe);function ht(mt,Ft){return[mt*rt,(1+rt)*g(Ft/2)]}return ht.invert=function(mt,Ft){return[mt/rt,o(Ft/(1+rt))*2]},ht}function wr(){return lt($t).scale(124.75)}function yt(Xe,rt){var ht=k(8/(3*h));return[ht*Xe*(1-P(rt)/h),ht*rt]}yt.invert=function(Xe,rt){var ht=k(8/(3*h)),mt=rt/ht;return[Xe/(ht*(1-P(mt)/h)),mt]};function jt(){return(0,y.Z)(yt).scale(165.664)}function Qt(Xe,rt){var ht=k(4-3*l(P(rt)));return[2/k(6*h)*Xe*ht,u(rt)*k(2*h/3)*(2-ht)]}Qt.invert=function(Xe,rt){var ht=2-P(rt)/k(2*h/3);return[Xe*k(6*h)/(2*ht),u(rt)*E((4-ht*ht)/3)]};function gr(){return(0,y.Z)(Qt).scale(165.664)}function sr(Xe,rt){var ht=k(h*(4+h));return[2/ht*Xe*(1+k(1-4*rt*rt/(h*h))),4/ht*rt]}sr.invert=function(Xe,rt){var ht=k(h*(4+h))/2;return[Xe*ht/(1+k(1-rt*rt*(4+h)/(4*h))),rt*ht/2]};function vt(){return(0,y.Z)(sr).scale(180.739)}function at(Xe,rt){var ht=(2+s)*l(rt);rt/=2;for(var mt=0,Ft=1/0;mt<10&&P(Ft)>f;mt++){var Pt=M(rt);rt-=Ft=(rt+l(rt)*(Pt+2)-ht)/(2*Pt*(1+Pt))}return[2/k(h*(4+h))*Xe*(1+M(rt)),2*k(h/(4+h))*l(rt)]}at.invert=function(Xe,rt){var ht=rt*k((4+h)/h)/2,mt=E(ht),Ft=M(mt);return[Xe/(2/k(h*(4+h))*(1+Ft)),E((mt+ht*(Ft+2))/(2+s))]};function xt(){return(0,y.Z)(at).scale(180.739)}function Mt(Xe,rt){return[Xe*(1+M(rt))/k(2+h),2*rt/k(2+h)]}Mt.invert=function(Xe,rt){var ht=k(2+h),mt=rt*ht/2;return[ht*Xe/(1+M(mt)),mt]};function Dt(){return(0,y.Z)(Mt).scale(173.044)}function Lt(Xe,rt){for(var ht=(1+s)*l(rt),mt=0,Ft=1/0;mt<10&&P(Ft)>f;mt++)rt-=Ft=(rt+l(rt)-ht)/(1+M(rt));return ht=k(2+h),[Xe*(1+M(rt))/ht,2*rt/ht]}Lt.invert=function(Xe,rt){var ht=1+s,mt=k(ht/2);return[Xe*2*mt/(1+M(rt*=mt)),E((rt+l(rt))/ht)]};function Bt(){return(0,y.Z)(Lt).scale(173.044)}var Nt=3+2*w;function Xt(Xe,rt){var ht=l(Xe/=2),mt=M(Xe),Ft=k(M(rt)),Pt=M(rt/=2),Ot=l(rt)/(Pt+w*mt*Ft),dr=k(2/(1+Ot*Ot)),xr=k((w*Pt+(mt+ht)*Ft)/(w*Pt+(mt-ht)*Ft));return[Nt*(dr*(xr-1/xr)-2*r(xr)),Nt*(dr*Ot*(xr+1/xr)-2*o(Ot))]}Xt.invert=function(Xe,rt){if(!(Pt=ue.invert(Xe/1.2,rt*1.065)))return null;var ht=Pt[0],mt=Pt[1],Ft=20,Pt;Xe/=Nt,rt/=Nt;do{var Ot=ht/2,dr=mt/2,xr=l(Ot),ar=M(Ot),Ar=l(dr),Ir=M(dr),Or=M(mt),en=k(Or),bn=Ar/(Ir+w*ar*en),Ln=bn*bn,Pn=k(2/(1+Ln)),Kn=w*Ir+(ar+xr)*en,Ra=w*Ir+(ar-xr)*en,Da=Kn/Ra,Ia=k(Da),za=Ia-1/Ia,ja=Ia+1/Ia,hi=Pn*za-2*r(Ia)-Xe,Fi=Pn*bn*ja-2*o(bn)-rt,le=Ar&&A*en*xr*Ln/Ar,Ce=(w*ar*Ir+en)/(2*(Ir+w*ar*en)*(Ir+w*ar*en)*en),ze=-.5*bn*Pn*Pn*Pn,Qe=ze*le,tt=ze*Ce,ot=(ot=2*Ir+w*en*(ar-xr))*ot*Ia,Et=(w*ar*Ir*en+Or)/ot,bt=-(w*xr*Ar)/(en*ot),Ht=za*Qe-2*Et/Ia+Pn*(Et+Et/Da),Gt=za*tt-2*bt/Ia+Pn*(bt+bt/Da),tr=bn*ja*Qe-2*le/(1+Ln)+Pn*ja*le+Pn*bn*(Et-Et/Da),Cr=bn*ja*tt-2*Ce/(1+Ln)+Pn*ja*Ce+Pn*bn*(bt-bt/Da),Pr=Gt*tr-Cr*Ht;if(!Pr)break;var Jr=(Fi*Gt-hi*Cr)/Pr,nn=(hi*tr-Fi*Ht)/Pr;ht-=Jr,mt=t(-s,i(s,mt-nn))}while((P(Jr)>f||P(nn)>f)&&--Ft>0);return P(P(mt)-s)<f?[0,mt]:Ft&&[ht,mt]};function lr(){return(0,y.Z)(Xt).scale(62.5271)}var fr=M(35*m);function hr(Xe,rt){var ht=g(rt/2);return[Xe*fr*k(1-ht*ht),(1+fr)*ht]}hr.invert=function(Xe,rt){var ht=rt/(1+fr);return[Xe&&Xe/(fr*k(1-ht*ht)),2*o(ht)]};function We(){return(0,y.Z)(hr).scale(137.152)}function Ge(Xe,rt){var ht=rt/2,mt=M(ht);return[2*Xe/C*M(rt)*mt*mt,C*g(ht)]}Ge.invert=function(Xe,rt){var ht=o(rt/C),mt=M(ht),Ft=2*ht;return[Xe*C/2/(M(Ft)*mt*mt),Ft]};function kt(){return(0,y.Z)(Ge).scale(135.264)}function It(Xe){var rt=1-Xe,ht=Pt(h,0)[0]-Pt(-h,0)[0],mt=Pt(0,s)[1]-Pt(0,-s)[1],Ft=k(2*mt/ht);function Pt(xr,ar){var Ar=M(ar),Ir=l(ar);return[Ar/(rt+Xe*Ar)*xr,rt*ar+Xe*Ir]}function Ot(xr,ar){var Ar=Pt(xr,ar);return[Ar[0]*Ft,Ar[1]/Ft]}function dr(xr){return Ot(0,xr)[1]}return Ot.invert=function(xr,ar){var Ar=Se(dr,ar),Ir=xr/Ft*(Xe+rt/M(Ar));return[Ir,Ar]},Ot}function Zt(){var Xe=.5,rt=(0,y.r)(It),ht=rt(Xe);return ht.alpha=function(mt){return arguments.length?rt(Xe=+mt):Xe},ht.scale(168.725)}var rr=e(57962),ur=e(97492);function er(Xe){return[Xe[0]/2,E(g(Xe[1]/2*m))*S]}function zt(Xe){return[Xe[0]*2,2*o(l(Xe[1]*m))*S]}function vr(Xe){Xe==null&&(Xe=rr.Z);var rt=Xe(),ht=(0,ur.Z)().scale(S).precision(0).clipAngle(null).translate([0,0]);function mt(Pt){return rt(er(Pt))}rt.invert&&(mt.invert=function(Pt){return zt(rt.invert(Pt))}),mt.stream=function(Pt){var Ot=rt.stream(Pt),dr=ht.stream({point:function(xr,ar){Ot.point(xr/2,E(g(-ar/2*m))*S)},lineStart:function(){Ot.lineStart()},lineEnd:function(){Ot.lineEnd()},polygonStart:function(){Ot.polygonStart()},polygonEnd:function(){Ot.polygonEnd()}});return dr.sphere=Ot.sphere,dr};function Ft(Pt){mt[Pt]=function(){return arguments.length?(rt[Pt].apply(rt,arguments),mt):rt[Pt]()}}return mt.rotate=function(Pt){return arguments.length?(ht.rotate(Pt),mt):ht.rotate()},mt.center=function(Pt){return arguments.length?(rt.center(er(Pt)),mt):zt(rt.center())},Ft("angle"),Ft("clipAngle"),Ft("clipExtent"),Ft("fitExtent"),Ft("fitHeight"),Ft("fitSize"),Ft("fitWidth"),Ft("scale"),Ft("translate"),Ft("precision"),mt.scale(249.5)}function yr(Xe,rt){var ht=2*h/rt,mt=Xe*Xe;function Ft(Pt,Ot){var dr=(0,oe.N)(Pt,Ot),xr=dr[0],ar=dr[1],Ar=xr*xr+ar*ar;if(Ar>mt){var Ir=k(Ar),Or=L(ar,xr),en=ht*c(Or/ht),bn=Or-en,Ln=Xe*M(bn),Pn=(Xe*l(bn)-bn*l(Ln))/(s-Ln),Kn=pr(bn,Pn),Ra=(h-Xe)/cr(Kn,Ln,h);xr=Ir;var Da=50,Ia;do xr-=Ia=(Xe+cr(Kn,Ln,xr)*Ra-Ir)/(Kn(xr)*Ra);while(P(Ia)>f&&--Da>0);ar=bn*l(xr),xr<s&&(ar-=Pn*(xr-s));var za=l(en),ja=M(en);dr[0]=xr*ja-ar*za,dr[1]=xr*za+ar*ja}return dr}return Ft.invert=function(Pt,Ot){var dr=Pt*Pt+Ot*Ot;if(dr>mt){var xr=k(dr),ar=L(Ot,Pt),Ar=ht*c(ar/ht),Ir=ar-Ar;Pt=xr*M(Ir),Ot=xr*l(Ir);for(var Or=Pt-s,en=l(Pt),bn=Ot/en,Ln=Pt<s?1/0:0,Pn=10;;){var Kn=Xe*l(bn),Ra=Xe*M(bn),Da=l(Ra),Ia=s-Ra,za=(Kn-bn*Da)/Ia,ja=pr(bn,za);if(P(Ln)<T||!--Pn)break;bn-=Ln=(bn*en-za*Or-Ot)/(en-Or*2*(Ia*(Ra+bn*Kn*M(Ra)-Da)-Kn*(Kn-bn*Da))/(Ia*Ia))}xr=Xe+cr(ja,Ra,Pt)*(h-Xe)/cr(ja,Ra,h),ar=Ar+bn,Pt=xr*M(ar),Ot=xr*l(ar)}return oe.N.invert(Pt,Ot)},Ft}function pr(Xe,rt){return function(ht){var mt=Xe*M(ht);return ht<s&&(mt-=rt),k(1+mt*mt)}}function cr(Xe,rt,ht){for(var mt=50,Ft=(ht-rt)/mt,Pt=Xe(rt)+Xe(ht),Ot=1,dr=rt;Ot<mt;++Ot)Pt+=2*Xe(dr+=Ft);return Pt*.5*Ft}function Ur(){var Xe=6,rt=30*m,ht=M(rt),mt=l(rt),Ft=(0,y.r)(yr),Pt=Ft(rt,Xe),Ot=Pt.stream,dr=.01,xr=-M(dr*m),ar=l(dr*m);return Pt.radius=function(Ar){return arguments.length?(ht=M(rt=Ar*m),mt=l(rt),Ft(rt,Xe)):rt*S},Pt.lobes=function(Ar){return arguments.length?Ft(rt,Xe=+Ar):Xe},Pt.stream=function(Ar){var Ir=Pt.rotate(),Or=Ot(Ar),en=(Pt.rotate([0,0]),Ot(Ar));return Pt.rotate(Ir),Or.sphere=function(){en.polygonStart(),en.lineStart();for(var bn=0,Ln=2*h/Xe,Pn=0;bn<Xe;++bn,Pn-=Ln)en.point(L(ar*M(Pn),xr)*S,E(ar*l(Pn))*S),en.point(L(mt*M(Pn-Ln/2),ht)*S,E(mt*l(Pn-Ln/2))*S);en.lineEnd(),en.polygonEnd()},Or},Pt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function kr(Xe,rt,ht,mt,Ft,Pt,Ot,dr){arguments.length<8&&(dr=0);function xr(ar,Ar){if(!Ar)return[Xe*ar/h,0];var Ir=Ar*Ar,Or=Xe+Ir*(rt+Ir*(ht+Ir*mt)),en=Ar*(Ft-1+Ir*(Pt-dr+Ir*Ot)),bn=(Or*Or+en*en)/(2*en),Ln=ar*E(Or/bn)/h;return[bn*l(Ln),Ar*(1+Ir*dr)+bn*(1-M(Ln))]}return xr.invert=function(ar,Ar){var Ir=h*ar/Xe,Or=Ar,en,bn,Ln=50;do{var Pn=Or*Or,Kn=Xe+Pn*(rt+Pn*(ht+Pn*mt)),Ra=Or*(Ft-1+Pn*(Pt-dr+Pn*Ot)),Da=Kn*Kn+Ra*Ra,Ia=2*Ra,za=Da/Ia,ja=za*za,hi=E(Kn/za)/h,Fi=Ir*hi,le=Kn*Kn,Ce=(2*rt+Pn*(4*ht+Pn*6*mt))*Or,ze=Ft+Pn*(3*Pt+Pn*5*Ot),Qe=2*(Kn*Ce+Ra*(ze-1)),tt=2*(ze-1),ot=(Qe*Ia-Da*tt)/(Ia*Ia),Et=M(Fi),bt=l(Fi),Ht=za*Et,Gt=za*bt,tr=Ir/h*(1/k(1-le/ja))*(Ce*za-Kn*ot)/ja,Cr=Gt-ar,Pr=Or*(1+Pn*dr)+za-Ht-Ar,Jr=ot*bt+Ht*tr,nn=Ht*hi,Dr=1+ot-(ot*Et-Gt*tr),Br=Gt*hi,jr=Jr*Br-Dr*nn;if(!jr)break;Ir-=en=(Pr*Jr-Cr*Dr)/jr,Or-=bn=(Cr*Br-Pr*nn)/jr}while((P(en)>f||P(bn)>f)&&--Ln>0);return[Ir,Or]},xr}var Rr=kr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function vn(){return(0,y.Z)(Rr).scale(149.995)}var tn=kr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Bn(){return(0,y.Z)(tn).scale(153.93)}var xn=kr(5/6*h,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Mr(){return(0,y.Z)(xn).scale(130.945)}function Er(Xe,rt){var ht=Xe*Xe,mt=rt*rt;return[Xe*(1-.162388*mt)*(.87-952426e-9*ht*ht),rt*(1+mt/12)]}Er.invert=function(Xe,rt){var ht=Xe,mt=rt,Ft=50,Pt;do{var Ot=mt*mt;mt-=Pt=(mt*(1+Ot/12)-rt)/(1+Ot/4)}while(P(Pt)>f&&--Ft>0);Ft=50,Xe/=1-.162388*Ot;do{var dr=(dr=ht*ht)*dr;ht-=Pt=(ht*(.87-952426e-9*dr)-Xe)/(.87-.00476213*dr)}while(P(Pt)>f&&--Ft>0);return[ht,mt]};function Wr(){return(0,y.Z)(Er).scale(131.747)}var Hr=kr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function an(){return(0,y.Z)(Hr).scale(131.087)}function dn(Xe){var rt=Xe(s,0)[0]-Xe(-s,0)[0];function ht(mt,Ft){var Pt=mt>0?-.5:.5,Ot=Xe(mt+Pt*h,Ft);return Ot[0]-=Pt*rt,Ot}return Xe.invert&&(ht.invert=function(mt,Ft){var Pt=mt>0?-.5:.5,Ot=Xe.invert(mt+Pt*rt,Ft),dr=Ot[0]-Pt*h;return dr<-h?dr+=2*h:dr>h&&(dr-=2*h),Ot[0]=dr,Ot}),ht}function gn(Xe,rt){var ht=u(Xe),mt=u(rt),Ft=M(rt),Pt=M(Xe)*Ft,Ot=l(Xe)*Ft,dr=l(mt*rt);Xe=P(L(Ot,dr)),rt=E(Pt),P(Xe-s)>f&&(Xe%=s);var xr=Cn(Xe>h/4?s-Xe:Xe,rt);return Xe>h/4&&(dr=xr[0],xr[0]=-xr[1],xr[1]=-dr),xr[0]*=ht,xr[1]*=-mt,xr}gn.invert=function(Xe,rt){P(Xe)>1&&(Xe=u(Xe)*2-Xe),P(rt)>1&&(rt=u(rt)*2-rt);var ht=u(Xe),mt=u(rt),Ft=-ht*Xe,Pt=-mt*rt,Ot=Pt/Ft<1,dr=_n(Ot?Pt:Ft,Ot?Ft:Pt),xr=dr[0],ar=dr[1],Ar=M(ar);return Ot&&(xr=-s-xr),[ht*(L(l(xr)*Ar,-l(ar))+h),mt*E(M(xr)*Ar)]};function Cn(Xe,rt){if(rt===s)return[0,0];var ht=l(rt),mt=ht*ht,Ft=mt*mt,Pt=1+Ft,Ot=1+3*Ft,dr=1-Ft,xr=E(1/k(Pt)),ar=dr+mt*Pt*xr,Ar=(1-ht)/ar,Ir=k(Ar),Or=Ar*Pt,en=k(Or),bn=Ir*dr,Ln,Pn;if(Xe===0)return[0,-(bn+mt*en)];var Kn=M(rt),Ra=1/Kn,Da=2*ht*Kn,Ia=(-3*mt+xr*Ot)*Da,za=(-ar*Kn-(1-ht)*Ia)/(ar*ar),ja=.5*za/Ir,hi=dr*ja-2*mt*Ir*Da,Fi=mt*Pt*za+Ar*Ot*Da,le=-Ra*Da,Ce=-Ra*Fi,ze=-2*Ra*hi,Qe=4*Xe/h,tt;if(Xe>.222*h||rt<h/4&&Xe>.175*h){if(Ln=(bn+mt*k(Or*(1+Ft)-bn*bn))/(1+Ft),Xe>h/4)return[Ln,Ln];var ot=Ln,Et=.5*Ln;Ln=.5*(Et+ot),Pn=50;do{var bt=k(Or-Ln*Ln),Ht=Ln*(ze+le*bt)+Ce*E(Ln/en)-Qe;if(!Ht)break;Ht<0?Et=Ln:ot=Ln,Ln=.5*(Et+ot)}while(P(ot-Et)>f&&--Pn>0)}else{Ln=f,Pn=25;do{var Gt=Ln*Ln,tr=k(Or-Gt),Cr=ze+le*tr,Pr=Ln*Cr+Ce*E(Ln/en)-Qe,Jr=Cr+(Ce-le*Gt)/tr;Ln-=tt=tr?Pr/Jr:0}while(P(tt)>f&&--Pn>0)}return[Ln,-bn-mt*k(Or-Ln*Ln)]}function _n(Xe,rt){for(var ht=0,mt=1,Ft=.5,Pt=50;;){var Ot=Ft*Ft,dr=k(Ft),xr=E(1/k(1+Ot)),ar=1-Ot+Ft*(1+Ot)*xr,Ar=(1-dr)/ar,Ir=k(Ar),Or=Ar*(1+Ot),en=Ir*(1-Ot),bn=Or-Xe*Xe,Ln=k(bn),Pn=rt+en+Ft*Ln;if(P(mt-ht)<T||--Pt===0||Pn===0)break;Pn>0?ht=Ft:mt=Ft,Ft=.5*(ht+mt)}if(!Pt)return null;var Kn=E(dr),Ra=M(Kn),Da=1/Ra,Ia=2*dr*Ra,za=(-3*Ft+xr*(1+3*Ot))*Ia,ja=(-ar*Ra-(1-dr)*za)/(ar*ar),hi=.5*ja/Ir,Fi=(1-Ot)*hi-2*Ft*Ir*Ia,le=-2*Da*Fi,Ce=-Da*Ia,ze=-Da*(Ft*(1+Ot)*ja+Ar*(1+3*Ot)*Ia);return[h/4*(Xe*(le+Ce*Ln)+ze*E(Xe/k(Or))),Kn]}function sa(){return(0,y.Z)(dn(gn)).scale(239.75)}function Qn(Xe,rt,ht){var mt,Ft,Pt;return Xe?(mt=ea(Xe,ht),rt?(Ft=ea(rt,1-ht),Pt=Ft[1]*Ft[1]+ht*mt[0]*mt[0]*Ft[0]*Ft[0],[[mt[0]*Ft[2]/Pt,mt[1]*mt[2]*Ft[0]*Ft[1]/Pt],[mt[1]*Ft[1]/Pt,-mt[0]*mt[2]*Ft[0]*Ft[2]/Pt],[mt[2]*Ft[1]*Ft[2]/Pt,-ht*mt[0]*mt[1]*Ft[0]/Pt]]):[[mt[0],0],[mt[1],0],[mt[2],0]]):(Ft=ea(rt,1-ht),[[0,Ft[0]/Ft[1]],[1/Ft[1],0],[Ft[2]/Ft[1],0]])}function ea(Xe,rt){var ht,mt,Ft,Pt,Ot;if(rt<f)return Pt=l(Xe),mt=M(Xe),ht=rt*(Xe-Pt*mt)/4,[Pt-ht*mt,mt+ht*Pt,1-rt*Pt*Pt/2,Xe-ht];if(rt>=1-f)return ht=(1-rt)/4,mt=F(Xe),Pt=I(Xe),Ft=1/mt,Ot=mt*N(Xe),[Pt+ht*(Ot-Xe)/(mt*mt),Ft-ht*Pt*Ft*(Ot-Xe),Ft+ht*Pt*Ft*(Ot+Xe),2*o(v(Xe))-s+ht*(Ot-Xe)/mt];var dr=[1,0,0,0,0,0,0,0,0],xr=[k(rt),0,0,0,0,0,0,0,0],ar=0;for(mt=k(1-rt),Ot=1;P(xr[ar]/dr[ar])>f&&ar<8;)ht=dr[ar++],xr[ar]=(ht-mt)/2,dr[ar]=(ht+mt)/2,mt=k(ht*mt),Ot*=2;Ft=Ot*dr[ar]*Xe;do Pt=xr[ar]*l(mt=Ft)/dr[ar],Ft=(E(Pt)+Ft)/2;while(--ar);return[l(Ft),Pt=M(Ft),Pt/M(Ft-mt),Ft]}function Zn(Xe,rt,ht){var mt=P(Xe),Ft=P(rt),Pt=N(Ft);if(mt){var Ot=1/l(mt),dr=1/(g(mt)*g(mt)),xr=-(dr+ht*(Pt*Pt*Ot*Ot)-1+ht),ar=(ht-1)*dr,Ar=(-xr+k(xr*xr-4*ar))/2;return[$n(o(1/k(Ar)),ht)*u(Xe),$n(o(k((Ar/dr-1)/ht)),1-ht)*u(rt)]}return[0,$n(o(Pt),1-ht)*u(rt)]}function $n(Xe,rt){if(!rt)return Xe;if(rt===1)return r(g(Xe/2+d));for(var ht=1,mt=k(1-rt),Ft=k(rt),Pt=0;P(Ft)>f;Pt++){if(Xe%h){var Ot=o(mt*g(Xe)/ht);Ot<0&&(Ot+=h),Xe+=Ot+~~(Xe/h)*h}else Xe+=Xe;Ft=(ht+mt)/2,mt=k(ht*mt),Ft=((ht=Ft)-mt)/2}return Xe/(n(2,Pt)*ht)}function Tr(Xe,rt){var ht=(w-1)/(w+1),mt=k(1-ht*ht),Ft=$n(s,mt*mt),Pt=-1,Ot=r(g(h/4+P(rt)/2)),dr=v(Pt*Ot)/k(ht),xr=on(dr*M(Pt*Xe),dr*l(Pt*Xe)),ar=Zn(xr[0],xr[1],mt*mt);return[-ar[1],(rt>=0?1:-1)*(.5*Ft-ar[0])]}function on(Xe,rt){var ht=Xe*Xe,mt=rt+1,Ft=1-ht-rt*rt;return[.5*((Xe>=0?s:-s)-L(Ft,2*Xe)),-.25*r(Ft*Ft+4*ht)+.5*r(mt*mt+ht)]}function rn(Xe,rt){var ht=rt[0]*rt[0]+rt[1]*rt[1];return[(Xe[0]*rt[0]+Xe[1]*rt[1])/ht,(Xe[1]*rt[0]-Xe[0]*rt[1])/ht]}Tr.invert=function(Xe,rt){var ht=(w-1)/(w+1),mt=k(1-ht*ht),Ft=$n(s,mt*mt),Pt=-1,Ot=Qn(.5*Ft-rt,-Xe,mt*mt),dr=rn(Ot[0],Ot[1]),xr=L(dr[1],dr[0])/Pt;return[xr,2*o(v(.5/Pt*r(ht*dr[0]*dr[0]+ht*dr[1]*dr[1])))-s]};function pn(){return(0,y.Z)(dn(Tr)).scale(151.496)}var Wn=e(7613);function An(Xe){var rt=l(Xe),ht=M(Xe),mt=Sn(Xe);mt.invert=Sn(-Xe);function Ft(Pt,Ot){var dr=mt(Pt,Ot);Pt=dr[0],Ot=dr[1];var xr=l(Ot),ar=M(Ot),Ar=M(Pt),Ir=x(rt*xr+ht*ar*Ar),Or=l(Ir),en=P(Or)>f?Ir/Or:1;return[en*ht*l(Pt),(P(Pt)>s?en:-en)*(rt*ar-ht*xr*Ar)]}return Ft.invert=function(Pt,Ot){var dr=k(Pt*Pt+Ot*Ot),xr=-l(dr),ar=M(dr),Ar=dr*ar,Ir=-Ot*xr,Or=dr*rt,en=k(Ar*Ar+Ir*Ir-Or*Or),bn=L(Ar*Or+Ir*en,Ir*Or-Ar*en),Ln=(dr>s?-1:1)*L(Pt*xr,dr*M(bn)*ar+Ot*l(bn)*xr);return mt.invert(Ln,bn)},Ft}function Sn(Xe){var rt=l(Xe),ht=M(Xe);return function(mt,Ft){var Pt=M(Ft),Ot=M(mt)*Pt,dr=l(mt)*Pt,xr=l(Ft);return[L(dr,Ot*ht-xr*rt),E(xr*ht+Ot*rt)]}}function Hn(){var Xe=0,rt=(0,y.r)(An),ht=rt(Xe),mt=ht.rotate,Ft=ht.stream,Pt=(0,Wn.Z)();return ht.parallel=function(Ot){if(!arguments.length)return Xe*S;var dr=ht.rotate();return rt(Xe=Ot*m).rotate(dr)},ht.rotate=function(Ot){return arguments.length?(mt.call(ht,[Ot[0],Ot[1]-Xe*S]),Pt.center([-Ot[0],-Ot[1]]),ht):(Ot=mt.call(ht),Ot[1]+=Xe*S,Ot)},ht.stream=function(Ot){return Ot=Ft(Ot),Ot.sphere=function(){Ot.polygonStart();var dr=.01,xr=Pt.radius(90-dr)().coordinates[0],ar=xr.length-1,Ar=-1,Ir;for(Ot.lineStart();++Ar<ar;)Ot.point((Ir=xr[Ar])[0],Ir[1]);for(Ot.lineEnd(),xr=Pt.radius(90+dr)().coordinates[0],ar=xr.length-1,Ot.lineStart();--Ar>=0;)Ot.point((Ir=xr[Ar])[0],Ir[1]);Ot.lineEnd(),Ot.polygonEnd()},Ot},ht.scale(79.4187).parallel(45).clipAngle(179.999)}var ta=e(33064),wa=e(72736),Ga=3,Sr=E(1-1/Ga)*S,Nr=Tt(0);function br(Xe){var rt=Sr*m,ht=Ne(h,rt)[0]-Ne(-h,rt)[0],mt=Nr(0,rt)[1],Ft=Ne(0,rt)[1],Pt=C-Ft,Ot=b/Xe,dr=4/b,xr=mt+Pt*Pt*4/b;function ar(Ar,Ir){var Or,en=P(Ir);if(en>rt){var bn=i(Xe-1,t(0,p((Ar+h)/Ot)));Ar+=h*(Xe-1)/Xe-bn*Ot,Or=Ne(Ar,en),Or[0]=Or[0]*b/ht-b*(Xe-1)/(2*Xe)+bn*b/Xe,Or[1]=mt+(Or[1]-Ft)*4*Pt/b,Ir<0&&(Or[1]=-Or[1])}else Or=Nr(Ar,Ir);return Or[0]*=dr,Or[1]/=xr,Or}return ar.invert=function(Ar,Ir){Ar/=dr,Ir*=xr;var Or=P(Ir);if(Or>mt){var en=i(Xe-1,t(0,p((Ar+h)/Ot)));Ar=(Ar+h*(Xe-1)/Xe-en*Ot)*ht/b;var bn=Ne.invert(Ar,.25*(Or-mt)*b/Pt+Ft);return bn[0]-=h*(Xe-1)/Xe-en*Ot,Ir<0&&(bn[1]=-bn[1]),bn}return Nr.invert(Ar,Ir)},ar}function _r(Xe,rt){return[Xe,rt&1?90-f:Sr]}function wn(Xe,rt){return[Xe,rt&1?-90+f:-Sr]}function Rn(Xe){return[Xe[0]*(1-f),Xe[1]]}function yn(Xe){var rt=[].concat((0,ta.w6)(-180,180+Xe/2,Xe).map(_r),(0,ta.w6)(180,-180-Xe/2,-Xe).map(wn));return{type:"Polygon",coordinates:[Xe===180?rt.map(Rn):rt]}}function hn(){var Xe=4,rt=(0,y.r)(br),ht=rt(Xe),mt=ht.stream;return ht.lobes=function(Ft){return arguments.length?rt(Xe=+Ft):Xe},ht.stream=function(Ft){var Pt=ht.rotate(),Ot=mt(Ft),dr=(ht.rotate([0,0]),mt(Ft));return ht.rotate(Pt),Ot.sphere=function(){(0,wa.Z)(yn(180/Xe),dr)},Ot},ht.scale(239.75)}function Lr(Xe){var rt=1+Xe,ht=l(1/rt),mt=E(ht),Ft=2*k(h/(Pt=h+4*mt*rt)),Pt,Ot=.5*Ft*(rt+k(Xe*(2+Xe))),dr=Xe*Xe,xr=rt*rt;function ar(Ar,Ir){var Or=1-l(Ir),en,bn;if(Or&&Or<2){var Ln=s-Ir,Pn=25,Kn;do{var Ra=l(Ln),Da=M(Ln),Ia=mt+L(Ra,rt-Da),za=1+xr-2*rt*Da;Ln-=Kn=(Ln-dr*mt-rt*Ra+za*Ia-.5*Or*Pt)/(2*rt*Ra*Ia)}while(P(Kn)>T&&--Pn>0);en=Ft*k(za),bn=Ar*Ia/h}else en=Ft*(Xe+Or),bn=Ar*mt/h;return[en*l(bn),Ot-en*M(bn)]}return ar.invert=function(Ar,Ir){var Or=Ar*Ar+(Ir-=Ot)*Ir,en=(1+xr-Or/(Ft*Ft))/(2*rt),bn=x(en),Ln=l(bn),Pn=mt+L(Ln,rt-en);return[E(Ar/k(Or))*h/Pn,E(1-2*(bn-dr*mt-rt*Ln+(1+xr-2*rt*en)*Pn)/Pt)]},ar}function Xr(){var Xe=1,rt=(0,y.r)(Lr),ht=rt(Xe);return ht.ratio=function(mt){return arguments.length?rt(Xe=+mt):Xe},ht.scale(167.774).center([0,18.67])}var Gr=.7109889596207567,Qr=.0528035274542;function Tn(Xe,rt){return rt>-Gr?(Xe=Ee(Xe,rt),Xe[1]+=Qr,Xe):$e(Xe,rt)}Tn.invert=function(Xe,rt){return rt>-Gr?Ee.invert(Xe,rt-Qr):$e.invert(Xe,rt)};function Fn(){return(0,y.Z)(Tn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function In(Xe,rt){return P(rt)>Gr?(Xe=Ee(Xe,rt),Xe[1]-=rt>0?Qr:-Qr,Xe):$e(Xe,rt)}In.invert=function(Xe,rt){return P(rt)>Gr?Ee.invert(Xe,rt+(rt>0?Qr:-Qr)):$e.invert(Xe,rt)};function Un(){return(0,y.Z)(In).scale(152.63)}function On(Xe,rt,ht,mt){var Ft=k(4*h/(2*ht+(1+Xe-rt/2)*l(2*ht)+(Xe+rt)/2*l(4*ht)+rt/2*l(6*ht))),Pt=k(mt*l(ht)*k((1+Xe*M(2*ht)+rt*M(4*ht))/(1+Xe+rt))),Ot=ht*xr(1);function dr(Ir){return k(1+Xe*M(2*Ir)+rt*M(4*Ir))}function xr(Ir){var Or=Ir*ht;return(2*Or+(1+Xe-rt/2)*l(2*Or)+(Xe+rt)/2*l(4*Or)+rt/2*l(6*Or))/ht}function ar(Ir){return dr(Ir)*l(Ir)}var Ar=function(Ir,Or){var en=ht*Se(xr,Ot*l(Or)/ht,Or/h);isNaN(en)&&(en=ht*u(Or));var bn=Ft*dr(en);return[bn*Pt*Ir/h*M(en),bn/Pt*l(en)]};return Ar.invert=function(Ir,Or){var en=Se(ar,Or*Pt/Ft);return[Ir*h/(M(en)*Ft*Pt*dr(en)),E(ht*xr(en/ht)/Ot)]},ht===0&&(Ft=k(mt/h),Ar=function(Ir,Or){return[Ir*Ft,l(Or)/Ft]},Ar.invert=function(Ir,Or){return[Ir/Ft,E(Or*Ft)]}),Ar}function ya(){var Xe=1,rt=0,ht=45*m,mt=2,Ft=(0,y.r)(On),Pt=Ft(Xe,rt,ht,mt);return Pt.a=function(Ot){return arguments.length?Ft(Xe=+Ot,rt,ht,mt):Xe},Pt.b=function(Ot){return arguments.length?Ft(Xe,rt=+Ot,ht,mt):rt},Pt.psiMax=function(Ot){return arguments.length?Ft(Xe,rt,ht=+Ot*m,mt):ht*S},Pt.ratio=function(Ot){return arguments.length?Ft(Xe,rt,ht,mt=+Ot):mt},Pt.scale(180.739)}function ua(Xe,rt,ht,mt,Ft,Pt,Ot,dr,xr,ar,Ar){if(Ar.nanEncountered)return NaN;var Ir,Or,en,bn,Ln,Pn,Kn,Ra,Da,Ia;if(Ir=ht-rt,Or=Xe(rt+Ir*.25),en=Xe(ht-Ir*.25),isNaN(Or)){Ar.nanEncountered=!0;return}if(isNaN(en)){Ar.nanEncountered=!0;return}return bn=Ir*(mt+4*Or+Ft)/12,Ln=Ir*(Ft+4*en+Pt)/12,Pn=bn+Ln,Ia=(Pn-Ot)/15,ar>xr?(Ar.maxDepthCount++,Pn+Ia):Math.abs(Ia)<dr?Pn+Ia:(Kn=rt+Ir*.5,Ra=ua(Xe,rt,Kn,mt,Or,Ft,bn,dr*.5,xr,ar+1,Ar),isNaN(Ra)?(Ar.nanEncountered=!0,NaN):(Da=ua(Xe,Kn,ht,Ft,en,Pt,Ln,dr*.5,xr,ar+1,Ar),isNaN(Da)?(Ar.nanEncountered=!0,NaN):Ra+Da))}function ga(Xe,rt,ht,mt,Ft){var Pt={maxDepthCount:0,nanEncountered:!1};mt===void 0&&(mt=1e-8),Ft===void 0&&(Ft=20);var Ot=Xe(rt),dr=Xe(.5*(rt+ht)),xr=Xe(ht),ar=(Ot+4*dr+xr)*(ht-rt)/6,Ar=ua(Xe,rt,ht,Ot,dr,xr,ar,mt,Ft,1,Pt);return Ar}function Pa(Xe,rt,ht){function mt(en){return Xe+(1-Xe)*n(1-n(en,rt),1/rt)}function Ft(en){return ga(mt,0,en,1e-4)}for(var Pt=1/Ft(1),Ot=1e3,dr=(1+1e-8)*Pt,xr=[],ar=0;ar<=Ot;ar++)xr.push(Ft(ar/Ot)*dr);function Ar(en){var bn=0,Ln=Ot,Pn=Ot>>1;do xr[Pn]>en?Ln=Pn:bn=Pn,Pn=bn+Ln>>1;while(Pn>bn);var Kn=xr[Pn+1]-xr[Pn];return Kn&&(Kn=(en-xr[Pn+1])/Kn),(Pn+1+Kn)/Ot}var Ir=2*Ar(1)/h*Pt/ht,Or=function(en,bn){var Ln=Ar(P(l(bn))),Pn=mt(Ln)*en;return Ln/=Ir,[Pn,bn>=0?Ln:-Ln]};return Or.invert=function(en,bn){var Ln;return bn*=Ir,P(bn)<1&&(Ln=u(bn)*E(Ft(P(bn))*Pt)),[en/mt(P(bn)),Ln]},Or}function pi(){var Xe=0,rt=2.5,ht=1.183136,mt=(0,y.r)(Pa),Ft=mt(Xe,rt,ht);return Ft.alpha=function(Pt){return arguments.length?mt(Xe=+Pt,rt,ht):Xe},Ft.k=function(Pt){return arguments.length?mt(Xe,rt=+Pt,ht):rt},Ft.gamma=function(Pt){return arguments.length?mt(Xe,rt,ht=+Pt):ht},Ft.scale(152.63)}function ri(Xe,rt){return P(Xe[0]-rt[0])<f&&P(Xe[1]-rt[1])<f}function _o(Xe,rt){for(var ht=-1,mt=Xe.length,Ft=Xe[0],Pt,Ot,dr,xr=[];++ht<mt;){Pt=Xe[ht],Ot=(Pt[0]-Ft[0])/rt,dr=(Pt[1]-Ft[1])/rt;for(var ar=0;ar<rt;++ar)xr.push([Ft[0]+ar*Ot,Ft[1]+ar*dr]);Ft=Pt}return xr.push(Pt),xr}function Lo(Xe){var rt=[],ht,mt,Ft,Pt,Ot,dr,xr,ar=Xe[0].length;for(xr=0;xr<ar;++xr)ht=Xe[0][xr],mt=ht[0][0],Ft=ht[0][1],Pt=ht[1][1],Ot=ht[2][0],dr=ht[2][1],rt.push(_o([[mt+f,Ft+f],[mt+f,Pt-f],[Ot-f,Pt-f],[Ot-f,dr+f]],30));for(xr=Xe[1].length-1;xr>=0;--xr)ht=Xe[1][xr],mt=ht[0][0],Ft=ht[0][1],Pt=ht[1][1],Ot=ht[2][0],dr=ht[2][1],rt.push(_o([[Ot-f,dr-f],[Ot-f,Pt+f],[mt+f,Pt+f],[mt+f,Ft-f]],30));return{type:"Polygon",coordinates:[(0,ta.TS)(rt)]}}function to(Xe,rt,ht){var mt,Ft;function Pt(xr,ar){for(var Ar=ar<0?-1:1,Ir=rt[+(ar<0)],Or=0,en=Ir.length-1;Or<en&&xr>Ir[Or][2][0];++Or);var bn=Xe(xr-Ir[Or][1][0],ar);return bn[0]+=Xe(Ir[Or][1][0],Ar*ar>Ar*Ir[Or][0][1]?Ir[Or][0][1]:ar)[0],bn}ht?Pt.invert=ht(Pt):Xe.invert&&(Pt.invert=function(xr,ar){for(var Ar=Ft[+(ar<0)],Ir=rt[+(ar<0)],Or=0,en=Ar.length;Or<en;++Or){var bn=Ar[Or];if(bn[0][0]<=xr&&xr<bn[1][0]&&bn[0][1]<=ar&&ar<bn[1][1]){var Ln=Xe.invert(xr-Xe(Ir[Or][1][0],0)[0],ar);return Ln[0]+=Ir[Or][1][0],ri(Pt(Ln[0],Ln[1]),[xr,ar])?Ln:null}}});var Ot=(0,y.Z)(Pt),dr=Ot.stream;return Ot.stream=function(xr){var ar=Ot.rotate(),Ar=dr(xr),Ir=(Ot.rotate([0,0]),dr(xr));return Ot.rotate(ar),Ar.sphere=function(){(0,wa.Z)(mt,Ir)},Ar},Ot.lobes=function(xr){return arguments.length?(mt=Lo(xr),rt=xr.map(function(ar){return ar.map(function(Ar){return[[Ar[0][0]*m,Ar[0][1]*m],[Ar[1][0]*m,Ar[1][1]*m],[Ar[2][0]*m,Ar[2][1]*m]]})}),Ft=rt.map(function(ar){return ar.map(function(Ar){var Ir=Xe(Ar[0][0],Ar[0][1])[0],Or=Xe(Ar[2][0],Ar[2][1])[0],en=Xe(Ar[1][0],Ar[0][1])[1],bn=Xe(Ar[1][0],Ar[1][1])[1],Ln;return en>bn&&(Ln=en,en=bn,bn=Ln),[[Ir,en],[Or,bn]]})}),Ot):rt.map(function(ar){return ar.map(function(Ar){return[[Ar[0][0]*S,Ar[0][1]*S],[Ar[1][0]*S,Ar[1][1]*S],[Ar[2][0]*S,Ar[2][1]*S]]})})},rt!=null&&Ot.lobes(rt),Ot}var Sl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ff(){return to(He,Sl).scale(160.857)}var jf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qa(){return to(In,jf).scale(152.63)}var ru=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function cf(){return to(Ee,ru).scale(169.529)}var Ki=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function bo(){return to(Ee,Ki).scale(169.529).rotate([20,0])}var El=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function zu(){return to(Tn,El,we).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Ii=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Cl(){return to($e,Ii).scale(152.63).rotate([-20,0])}function _i(Xe,rt){return[3/b*Xe*k(h*h/3-rt*rt),rt]}_i.invert=function(Xe,rt){return[b/3*Xe/k(h*h/3-rt*rt),rt]};function Vi(){return(0,y.Z)(_i).scale(158.837)}function Ll(Xe){function rt(ht,mt){if(P(P(mt)-s)<f)return[0,mt<0?-2:2];var Ft=l(mt),Pt=n((1+Ft)/(1-Ft),Xe/2),Ot=.5*(Pt+1/Pt)+M(ht*=Xe);return[2*l(ht)/Ot,(Pt-1/Pt)/Ot]}return rt.invert=function(ht,mt){var Ft=P(mt);if(P(Ft-2)<f)return ht?null:[0,u(mt)*s];if(Ft>2)return null;ht/=2,mt/=2;var Pt=ht*ht,Ot=mt*mt,dr=2*mt/(1+Pt+Ot);return dr=n((1+dr)/(1-dr),1/Xe),[L(2*ht,1-Pt-Ot)/Xe,E((dr-1)/(dr+1))]},rt}function ro(){var Xe=.5,rt=(0,y.r)(Ll),ht=rt(Xe);return ht.spacing=function(mt){return arguments.length?rt(Xe=+mt):Xe},ht.scale(124.75)}var no=h/w;function zo(Xe,rt){return[Xe*(1+k(M(rt)))/2,rt/(M(rt/2)*M(Xe/6))]}zo.invert=function(Xe,rt){var ht=P(Xe),mt=P(rt),Ft=f,Pt=s;mt<no?Pt*=mt/no:Ft+=6*x(no/mt);for(var Ot=0;Ot<25;Ot++){var dr=l(Pt),xr=k(M(Pt)),ar=l(Pt/2),Ar=M(Pt/2),Ir=l(Ft/6),Or=M(Ft/6),en=.5*Ft*(1+xr)-ht,bn=Pt/(Ar*Or)-mt,Ln=xr?-.25*Ft*dr/xr:0,Pn=.5*(1+xr),Kn=(1+.5*Pt*ar/Ar)/(Ar*Or),Ra=Pt/Ar*(Ir/6)/(Or*Or),Da=Ln*Ra-Kn*Pn,Ia=(en*Ra-bn*Pn)/Da,za=(bn*Ln-en*Kn)/Da;if(Pt-=Ia,Ft-=za,P(Ia)<f&&P(za)<f)break}return[Xe<0?-Ft:Ft,rt<0?-Pt:Pt]};function Xf(){return(0,y.Z)(zo).scale(97.2672)}function Po(Xe,rt){var ht=Xe*Xe,mt=rt*rt;return[Xe*(.975534+mt*(-.119161+ht*-.0143059+mt*-.0547009)),rt*(1.00384+ht*(.0802894+mt*-.02855+ht*199025e-9)+mt*(.0998909+mt*-.0491032))]}Po.invert=function(Xe,rt){var ht=u(Xe)*h,mt=rt/2,Ft=50;do{var Pt=ht*ht,Ot=mt*mt,dr=ht*mt,xr=ht*(.975534+Ot*(-.119161+Pt*-.0143059+Ot*-.0547009))-Xe,ar=mt*(1.00384+Pt*(.0802894+Ot*-.02855+Pt*199025e-9)+Ot*(.0998909+Ot*-.0491032))-rt,Ar=.975534-Ot*(.119161+3*Pt*.0143059+Ot*.0547009),Ir=-dr*(2*.119161+4*.0547009*Ot+2*.0143059*Pt),Or=dr*(2*.0802894+4*199025e-9*Pt+2*-.02855*Ot),en=1.00384+Pt*(.0802894+199025e-9*Pt)+Ot*(3*(.0998909-.02855*Pt)-5*.0491032*Ot),bn=Ir*Or-en*Ar,Ln=(ar*Ir-xr*en)/bn,Pn=(xr*Or-ar*Ar)/bn;ht-=Ln,mt-=Pn}while((P(Ln)>f||P(Pn)>f)&&--Ft>0);return Ft&&[ht,mt]};function eh(){return(0,y.Z)(Po).scale(139.98)}function cs(Xe,rt){return[l(Xe)/M(rt),g(rt)*M(Xe)]}cs.invert=function(Xe,rt){var ht=Xe*Xe,mt=rt*rt,Ft=mt+1,Pt=ht+Ft,Ot=Xe?A*k((Pt-k(Pt*Pt-4*ht))/ht):1/k(Ft);return[E(Xe*Ot),u(rt)*x(Ot)]};function Ji(){return(0,y.Z)(cs).scale(144.049).clipAngle(89.999)}function hf(Xe){var rt=M(Xe),ht=g(d+Xe/2);function mt(Ft,Pt){var Ot=Pt-Xe,dr=P(Ot)<f?Ft*rt:P(dr=d+Pt/2)<f||P(P(dr)-s)<f?0:Ft*Ot/r(g(dr)/ht);return[dr,Ot]}return mt.invert=function(Ft,Pt){var Ot,dr=Pt+Xe;return[P(Pt)<f?Ft/rt:P(Ot=d+dr/2)<f||P(P(Ot)-s)<f?0:Ft*r(g(Ot)/ht)/Pt,dr]},mt}function Ns(){return lt(hf).parallel(40).scale(158.837)}function hs(Xe,rt){return[Xe,1.25*r(g(d+.4*rt))]}hs.invert=function(Xe,rt){return[Xe,2.5*o(v(.8*rt))-.625*h]};function vf(){return(0,y.Z)(hs).scale(108.318)}function Kf(Xe){var rt=Xe.length-1;function ht(mt,Ft){for(var Pt=M(Ft),Ot=2/(1+Pt*M(mt)),dr=Ot*Pt*l(mt),xr=Ot*l(Ft),ar=rt,Ar=Xe[ar],Ir=Ar[0],Or=Ar[1],en;--ar>=0;)Ar=Xe[ar],Ir=Ar[0]+dr*(en=Ir)-xr*Or,Or=Ar[1]+dr*Or+xr*en;return Ir=dr*(en=Ir)-xr*Or,Or=dr*Or+xr*en,[Ir,Or]}return ht.invert=function(mt,Ft){var Pt=20,Ot=mt,dr=Ft;do{for(var xr=rt,ar=Xe[xr],Ar=ar[0],Ir=ar[1],Or=0,en=0,bn;--xr>=0;)ar=Xe[xr],Or=Ar+Ot*(bn=Or)-dr*en,en=Ir+Ot*en+dr*bn,Ar=ar[0]+Ot*(bn=Ar)-dr*Ir,Ir=ar[1]+Ot*Ir+dr*bn;Or=Ar+Ot*(bn=Or)-dr*en,en=Ir+Ot*en+dr*bn,Ar=Ot*(bn=Ar)-dr*Ir-mt,Ir=Ot*Ir+dr*bn-Ft;var Ln=Or*Or+en*en,Pn,Kn;Ot-=Pn=(Ar*Or+Ir*en)/Ln,dr-=Kn=(Ir*Or-Ar*en)/Ln}while(P(Pn)+P(Kn)>f*f&&--Pt>0);if(Pt){var Ra=k(Ot*Ot+dr*dr),Da=2*o(Ra*.5),Ia=l(Da);return[L(Ot*Ia,Ra*M(Da)),Ra?E(dr*Ia/Ra):0]}},ht}var th=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ou=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],rh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],nh=[[.9245,0],[0,0],[.01943,0]],ah=[[.721316,0],[0,0],[-.00881625,-.00617325]];function df(){return il(th,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function ih(){return il(Ou,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function oh(){return il(rh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Jf(){return il(nh,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Qf(){return il(ah,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function il(Xe,rt){var ht=(0,y.Z)(Kf(Xe)).rotate(rt).clipAngle(90),mt=(0,Ve.Z)(rt),Ft=ht.center;return delete ht.rotate,ht.center=function(Pt){return arguments.length?Ft(mt(Pt)):mt.invert(Ft())},ht}var Pl=k(6),nu=k(7);function au(Xe,rt){var ht=E(7*l(rt)/(3*Pl));return[Pl*Xe*(2*M(2*ht/3)-1)/nu,9*l(ht/3)/nu]}au.invert=function(Xe,rt){var ht=3*E(rt*nu/9);return[Xe*nu/(Pl*(2*M(2*ht/3)-1)),E(l(ht)*3*Pl/7)]};function $f(){return(0,y.Z)(au).scale(164.859)}function Ss(Xe,rt){for(var ht=(1+A)*l(rt),mt=rt,Ft=0,Pt;Ft<25&&(mt-=Pt=(l(mt/2)+l(mt)-ht)/(.5*M(mt/2)+M(mt)),!(P(Pt)<f));Ft++);return[Xe*(1+2*M(mt)/M(mt/2))/(3*w),2*k(3)*l(mt/2)/k(2+w)]}Ss.invert=function(Xe,rt){var ht=rt*k(2+w)/(2*k(3)),mt=2*E(ht);return[3*w*Xe/(1+2*M(mt)/M(mt/2)),E((ht+l(mt))/(1+A))]};function sh(){return(0,y.Z)(Ss).scale(188.209)}function Bu(Xe,rt){for(var ht=k(6/(4+h)),mt=(1+h/4)*l(rt),Ft=rt/2,Pt=0,Ot;Pt<25&&(Ft-=Ot=(Ft/2+l(Ft)-mt)/(.5+M(Ft)),!(P(Ot)<f));Pt++);return[ht*(.5+M(Ft))*Xe/1.5,ht*Ft]}Bu.invert=function(Xe,rt){var ht=k(6/(4+h)),mt=rt/ht;return P(P(mt)-s)<f&&(mt=mt<0?-s:s),[1.5*Xe/(ht*(.5+M(mt))),E((mt/2+l(mt))/(1+h/4))]};function qf(){return(0,y.Z)(Bu).scale(166.518)}var ec=e(26867);function Nu(Xe,rt){var ht=rt*rt,mt=ht*ht,Ft=ht*mt;return[Xe*(.84719-.13063*ht+Ft*Ft*(-.04515+.05494*ht-.02326*mt+.00331*Ft)),rt*(1.01183+mt*mt*(-.02625+.01926*ht-.00396*mt))]}Nu.invert=function(Xe,rt){var ht=rt,mt=25,Ft,Pt,Ot,dr;do Pt=ht*ht,Ot=Pt*Pt,ht-=Ft=(ht*(1.01183+Ot*Ot*(-.02625+.01926*Pt-.00396*Ot))-rt)/(1.01183+Ot*Ot*(-.23625+.21186*Pt+-.05148*Ot));while(P(Ft)>T&&--mt>0);return Pt=ht*ht,Ot=Pt*Pt,dr=Pt*Ot,[Xe/(.84719-.13063*Pt+dr*dr*(-.04515+.05494*Pt-.02326*Ot+.00331*dr)),ht]};function Xo(){return(0,y.Z)(Nu).scale(175.295)}function Rl(Xe,rt){return[Xe*(1+M(rt))/2,2*(rt-g(rt/2))]}Rl.invert=function(Xe,rt){for(var ht=rt/2,mt=0,Ft=1/0;mt<10&&P(Ft)>f;++mt){var Pt=M(rt/2);rt-=Ft=(rt-g(rt/2)-ht)/(1-.5/(Pt*Pt))}return[2*Xe/(1+M(rt)),rt]};function ol(){return(0,y.Z)(Rl).scale(152.63)}var iu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Us(){return to(ne(1/0),iu).rotate([20,0]).scale(152.63)}function vs(Xe,rt){var ht=l(rt),mt=M(rt),Ft=u(Xe);if(Xe===0||P(rt)===s)return[0,rt];if(rt===0)return[Xe,0];if(P(Xe)===s)return[Xe*mt,s*ht];var Pt=h/(2*Xe)-2*Xe/h,Ot=2*rt/h,dr=(1-Ot*Ot)/(ht-Ot),xr=Pt*Pt,ar=dr*dr,Ar=1+xr/ar,Ir=1+ar/xr,Or=(Pt*ht/dr-Pt/2)/Ar,en=(ar*ht/xr+dr/2)/Ir,bn=Or*Or+mt*mt/Ar,Ln=en*en-(ar*ht*ht/xr+dr*ht-1)/Ir;return[s*(Or+k(bn)*Ft),s*(en+k(Ln<0?0:Ln)*u(-rt*Pt)*Ft)]}vs.invert=function(Xe,rt){Xe/=s,rt/=s;var ht=Xe*Xe,mt=rt*rt,Ft=ht+mt,Pt=h*h;return[Xe?(Ft-1+k((1-Ft)*(1-Ft)+4*ht))/(2*Xe)*s:0,Se(function(Ot){return Ft*(h*l(Ot)-2*Ot)*h+4*Ot*Ot*(rt-l(Ot))+2*h*Ot-Pt*rt},0)]};function pf(){return(0,y.Z)(vs).scale(127.267)}var Dl=1.0148,Ko=.23185,Pi=-.14499,gf=.02406,lh=Dl,Uu=5*Ko,Il=7*Pi,kl=9*gf,Ro=1.790857183;function Hu(Xe,rt){var ht=rt*rt;return[Xe,rt*(Dl+ht*ht*(Ko+ht*(Pi+gf*ht)))]}Hu.invert=function(Xe,rt){rt>Ro?rt=Ro:rt<-Ro&&(rt=-Ro);var ht=rt,mt;do{var Ft=ht*ht;ht-=mt=(ht*(Dl+Ft*Ft*(Ko+Ft*(Pi+gf*Ft)))-rt)/(lh+Ft*Ft*(Uu+Ft*(Il+kl*Ft)))}while(P(mt)>f);return[Xe,ht]};function Fl(){return(0,y.Z)(Hu).scale(139.319)}function Vu(Xe,rt){if(P(rt)<f)return[Xe,0];var ht=g(rt),mt=Xe*l(rt);return[l(mt)/ht,rt+(1-M(mt))/ht]}Vu.invert=function(Xe,rt){if(P(rt)<f)return[Xe,0];var ht=Xe*Xe+rt*rt,mt=rt*.5,Ft=10,Pt;do{var Ot=g(mt),dr=1/M(mt),xr=ht-2*rt*mt+mt*mt;mt-=Pt=(Ot*xr+2*(mt-rt))/(2+xr*dr*dr+2*(mt-rt)*Ot)}while(P(Pt)>f&&--Ft>0);return Ot=g(mt),[(P(rt)<P(mt+1/Ot)?E(Xe*Ot):u(rt)*u(Xe)*(x(P(Xe*Ot))+s))/l(mt),mt]};function uh(){return(0,y.Z)(Vu).scale(103.74)}var tc=e(77338),yf=e(83074);function mf(Xe,rt){var ht=Gu(Xe[1],Xe[0]),mt=Gu(rt[1],rt[0]),Ft=Wu(ht,mt),Pt=ou(ht)/ou(mt);return _l([1,0,Xe[0][0],0,1,Xe[0][1]],_l([Pt,0,0,0,Pt,0],_l([M(Ft),l(Ft),0,-l(Ft),M(Ft),0],[1,0,-rt[0][0],0,1,-rt[0][1]])))}function xf(Xe){var rt=1/(Xe[0]*Xe[4]-Xe[1]*Xe[3]);return[rt*Xe[4],-rt*Xe[1],rt*(Xe[1]*Xe[5]-Xe[2]*Xe[4]),-rt*Xe[3],rt*Xe[0],rt*(Xe[2]*Xe[3]-Xe[0]*Xe[5])]}function _l(Xe,rt){return[Xe[0]*rt[0]+Xe[1]*rt[3],Xe[0]*rt[1]+Xe[1]*rt[4],Xe[0]*rt[2]+Xe[1]*rt[5]+Xe[2],Xe[3]*rt[0]+Xe[4]*rt[3],Xe[3]*rt[1]+Xe[4]*rt[4],Xe[3]*rt[2]+Xe[4]*rt[5]+Xe[5]]}function Gu(Xe,rt){return[Xe[0]-rt[0],Xe[1]-rt[1]]}function ou(Xe){return k(Xe[0]*Xe[0]+Xe[1]*Xe[1])}function Wu(Xe,rt){return L(Xe[0]*rt[1]-Xe[1]*rt[0],Xe[0]*rt[0]+Xe[1]*rt[1])}function gi(Xe,rt,ht){mt(Xe,{transform:null});function mt(ar,Ar){if(ar.edges=bf(ar.face),Ar.face){var Ir=ar.shared=nc(ar.face,Ar.face),Or=mf(Ir.map(Ar.project),Ir.map(ar.project));ar.transform=Ar.transform?_l(Ar.transform,Or):Or;for(var en=Ar.edges,bn=0,Ln=en.length;bn<Ln;++bn)Jo(Ir[0],en[bn][1])&&Jo(Ir[1],en[bn][0])&&(en[bn]=ar),Jo(Ir[0],en[bn][0])&&Jo(Ir[1],en[bn][1])&&(en[bn]=ar);for(en=ar.edges,bn=0,Ln=en.length;bn<Ln;++bn)Jo(Ir[0],en[bn][0])&&Jo(Ir[1],en[bn][1])&&(en[bn]=Ar),Jo(Ir[0],en[bn][1])&&Jo(Ir[1],en[bn][0])&&(en[bn]=Ar)}else ar.transform=Ar.transform;return ar.children&&ar.children.forEach(function(Pn){mt(Pn,ar)}),ar}function Ft(ar,Ar){var Ir=rt(ar,Ar),Or=Ir.project([ar*S,Ar*S]),en;return(en=Ir.transform)?[en[0]*Or[0]+en[1]*Or[1]+en[2],-(en[3]*Or[0]+en[4]*Or[1]+en[5])]:(Or[1]=-Or[1],Or)}sl(Xe)&&(Ft.invert=function(ar,Ar){var Ir=Pt(Xe,[ar,-Ar]);return Ir&&(Ir[0]*=m,Ir[1]*=m,Ir)});function Pt(ar,Ar){var Ir=ar.project.invert,Or=ar.transform,en=Ar;if(Or&&(Or=xf(Or),en=[Or[0]*en[0]+Or[1]*en[1]+Or[2],Or[3]*en[0]+Or[4]*en[1]+Or[5]]),Ir&&ar===Ot(bn=Ir(en)))return bn;for(var bn,Ln=ar.children,Pn=0,Kn=Ln&&Ln.length;Pn<Kn;++Pn)if(bn=Pt(Ln[Pn],Ar))return bn}function Ot(ar){return rt(ar[0]*m,ar[1]*m)}var dr=(0,y.Z)(Ft),xr=dr.stream;return dr.stream=function(ar){var Ar=dr.rotate(),Ir=xr(ar),Or=(dr.rotate([0,0]),xr(ar));return dr.rotate(Ar),Ir.sphere=function(){Or.polygonStart(),Or.lineStart(),rc(Or,Xe),Or.lineEnd(),Or.polygonEnd()},Ir},dr.angle(ht==null?-30:ht*S)}function rc(Xe,rt,ht){var mt,Ft=rt.edges,Pt=Ft.length,Ot,dr={type:"MultiPoint",coordinates:rt.face},xr=rt.face.filter(function(Ln){return P(Ln[1])!==90}),ar=(0,tc.Z)({type:"MultiPoint",coordinates:xr}),Ar=!1,Ir=-1,Or=ar[1][0]-ar[0][0],en=Or===180||Or===360?[(ar[0][0]+ar[1][0])/2,(ar[0][1]+ar[1][1])/2]:(0,Je.Z)(dr);if(ht)for(;++Ir<Pt&&Ft[Ir]!==ht;);++Ir;for(var bn=0;bn<Pt;++bn)Ot=Ft[(bn+Ir)%Pt],Array.isArray(Ot)?(Ar||(Xe.point((mt=(0,yf.Z)(Ot[0],en)(f))[0],mt[1]),Ar=!0),Xe.point((mt=(0,yf.Z)(Ot[1],en)(f))[0],mt[1])):(Ar=!1,Ot!==ht&&rc(Xe,Ot,rt))}function Jo(Xe,rt){return Xe&&rt&&Xe[0]===rt[0]&&Xe[1]===rt[1]}function nc(Xe,rt){for(var ht,mt,Ft=Xe.length,Pt=null,Ot=0;Ot<Ft;++Ot){ht=Xe[Ot];for(var dr=rt.length;--dr>=0;)if(mt=rt[dr],ht[0]===mt[0]&&ht[1]===mt[1]){if(Pt)return[Pt,ht];Pt=ht}}}function bf(Xe){for(var rt=Xe.length,ht=[],mt=Xe[rt-1],Ft=0;Ft<rt;++Ft)ht.push([mt,mt=Xe[Ft]]);return ht}function sl(Xe){return Xe.project.invert||Xe.children&&Xe.children.some(sl)}var Hs=e(98936),Yu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ki=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Xe){return Xe.map(function(rt){return Yu[rt]})});function su(Xe){Xe=Xe||function(ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:ht});return(0,Hs.Z)().scale(1).translate([0,0]).rotate([-mt[0],-mt[1]])};var rt=ki.map(function(ht){return{face:ht,project:Xe(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,mt){var Ft=rt[ht];Ft&&(Ft.children||(Ft.children=[])).push(rt[mt])}),gi(rt[0],function(ht,mt){return rt[ht<-h/2?mt<0?6:4:ht<0?mt<0?2:0:ht<h/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Qo=2/k(3);function Es(Xe,rt){var ht=Ne(Xe,rt);return[ht[0]*Qo,ht[1]]}Es.invert=function(Xe,rt){return Ne.invert(Xe/Qo,rt)};function ll(Xe){Xe=Xe||function(ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:ht});return(0,y.Z)(Es).translate([0,0]).scale(1).rotate(mt[1]>0?[-mt[0],0]:[180-mt[0],180])};var rt=ki.map(function(ht){return{face:ht,project:Xe(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,mt){var Ft=rt[ht];Ft&&(Ft.children||(Ft.children=[])).push(rt[mt])}),gi(rt[0],function(ht,mt){return rt[ht<-h/2?mt<0?6:4:ht<0?mt<0?2:0:ht<h/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Vs(Xe){Xe=Xe||function(Ot){var dr=Ot.length===6?(0,Je.Z)({type:"MultiPoint",coordinates:Ot}):Ot[0];return(0,Hs.Z)().scale(1).translate([0,0]).rotate([-dr[0],-dr[1]])};var rt=ki.map(function(Ot){for(var dr=Ot.map(Ho),xr=dr.length,ar=dr[xr-1],Ar,Ir=[],Or=0;Or<xr;++Or)Ar=dr[Or],Ir.push(qo([ar[0]*.9486832980505138+Ar[0]*.31622776601683794,ar[1]*.9486832980505138+Ar[1]*.31622776601683794,ar[2]*.9486832980505138+Ar[2]*.31622776601683794]),qo([Ar[0]*.9486832980505138+ar[0]*.31622776601683794,Ar[1]*.9486832980505138+ar[1]*.31622776601683794,Ar[2]*.9486832980505138+ar[2]*.31622776601683794])),ar=Ar;return Ir}),ht=[],mt=[-1,0,0,1,0,1,4,5];rt.forEach(function(Ot,dr){for(var xr=ki[dr],ar=xr.length,Ar=ht[dr]=[],Ir=0;Ir<ar;++Ir)rt.push([xr[Ir],Ot[(Ir*2+2)%(2*ar)],Ot[(Ir*2+1)%(2*ar)]]),mt.push(dr),Ar.push(Cs(Ho(Ot[(Ir*2+2)%(2*ar)]),Ho(Ot[(Ir*2+1)%(2*ar)])))});var Ft=rt.map(function(Ot){return{project:Xe(Ot),face:Ot}});mt.forEach(function(Ot,dr){var xr=Ft[Ot];xr&&(xr.children||(xr.children=[])).push(Ft[dr])});function Pt(Ot,dr){var xr=M(dr),ar=[xr*M(Ot),xr*l(Ot),l(dr)],Ar=Ot<-h/2?dr<0?6:4:Ot<0?dr<0?2:0:Ot<h/2?dr<0?3:1:dr<0?7:5,Ir=ht[Ar];return Ft[$o(Ir[0],ar)<0?8+3*Ar:$o(Ir[1],ar)<0?8+3*Ar+1:$o(Ir[2],ar)<0?8+3*Ar+2:Ar]}return gi(Ft[0],Pt).angle(-30).scale(110.625).center([0,45])}function $o(Xe,rt){for(var ht=0,mt=Xe.length,Ft=0;ht<mt;++ht)Ft+=Xe[ht]*rt[ht];return Ft}function Cs(Xe,rt){return[Xe[1]*rt[2]-Xe[2]*rt[1],Xe[2]*rt[0]-Xe[0]*rt[2],Xe[0]*rt[1]-Xe[1]*rt[0]]}function qo(Xe){return[L(Xe[1],Xe[0])*S,E(t(-1,i(1,Xe[2])))*S]}function Ho(Xe){var rt=Xe[0]*m,ht=Xe[1]*m,mt=M(ht);return[mt*M(rt),mt*l(rt),l(ht)]}function lu(){}function fh(Xe){if((ht=Xe.length)<4)return!1;for(var rt=0,ht,mt=Xe[ht-1][1]*Xe[0][0]-Xe[ht-1][0]*Xe[0][1];++rt<ht;)mt+=Xe[rt-1][1]*Xe[rt][0]-Xe[rt-1][0]*Xe[rt][1];return mt<=0}function ch(Xe,rt){for(var ht=rt[0],mt=rt[1],Ft=!1,Pt=0,Ot=Xe.length,dr=Ot-1;Pt<Ot;dr=Pt++){var xr=Xe[Pt],ar=xr[0],Ar=xr[1],Ir=Xe[dr],Or=Ir[0],en=Ir[1];Ar>mt^en>mt&&ht<(Or-ar)*(mt-Ar)/(en-Ar)+ar&&(Ft=!Ft)}return Ft}function hh(Xe,rt){var ht=rt.stream,mt;if(!ht)throw new Error("invalid projection");switch(Xe&&Xe.type){case"Feature":mt=wf;break;case"FeatureCollection":mt=vh;break;default:mt=zl;break}return mt(Xe,ht)}function vh(Xe,rt){return{type:"FeatureCollection",features:Xe.features.map(function(ht){return wf(ht,rt)})}}function wf(Xe,rt){return{type:"Feature",id:Xe.id,properties:Xe.properties,geometry:zl(Xe.geometry,rt)}}function ac(Xe,rt){return{type:"GeometryCollection",geometries:Xe.geometries.map(function(ht){return zl(ht,rt)})}}function zl(Xe,rt){if(!Xe)return null;if(Xe.type==="GeometryCollection")return ac(Xe,rt);var ht;switch(Xe.type){case"Point":ht=Ol;break;case"MultiPoint":ht=Ol;break;case"LineString":ht=ic;break;case"MultiLineString":ht=ic;break;case"Polygon":ht=uu;break;case"MultiPolygon":ht=uu;break;case"Sphere":ht=uu;break;default:return null}return(0,wa.Z)(Xe,rt(ht)),ht.result()}var Qi=[],Oo=[],Ol={point:function(Xe,rt){Qi.push([Xe,rt])},result:function(){var Xe=Qi.length?Qi.length<2?{type:"Point",coordinates:Qi[0]}:{type:"MultiPoint",coordinates:Qi}:null;return Qi=[],Xe}},ic={lineStart:lu,point:function(Xe,rt){Qi.push([Xe,rt])},lineEnd:function(){Qi.length&&(Oo.push(Qi),Qi=[])},result:function(){var Xe=Oo.length?Oo.length<2?{type:"LineString",coordinates:Oo[0]}:{type:"MultiLineString",coordinates:Oo}:null;return Oo=[],Xe}},uu={polygonStart:lu,lineStart:lu,point:function(Xe,rt){Qi.push([Xe,rt])},lineEnd:function(){var Xe=Qi.length;if(Xe){do Qi.push(Qi[0].slice());while(++Xe<4);Oo.push(Qi),Qi=[]}},polygonEnd:lu,result:function(){if(!Oo.length)return null;var Xe=[],rt=[];return Oo.forEach(function(ht){fh(ht)?Xe.push([ht]):rt.push(ht)}),rt.forEach(function(ht){var mt=ht[0];Xe.some(function(Ft){if(ch(Ft[0],mt))return Ft.push(ht),!0})||Xe.push([ht])}),Oo=[],Xe.length?Xe.length>1?{type:"MultiPolygon",coordinates:Xe}:{type:"Polygon",coordinates:Xe[0]}:null}};function Ls(Xe){var rt=Xe(s,0)[0]-Xe(-s,0)[0];function ht(mt,Ft){var Pt=P(mt)<s,Ot=Xe(Pt?mt:mt>0?mt-h:mt+h,Ft),dr=(Ot[0]-Ot[1])*A,xr=(Ot[0]+Ot[1])*A;if(Pt)return[dr,xr];var ar=rt*A,Ar=dr>0^xr>0?-1:1;return[Ar*dr-u(xr)*ar,Ar*xr-u(dr)*ar]}return Xe.invert&&(ht.invert=function(mt,Ft){var Pt=(mt+Ft)*A,Ot=(Ft-mt)*A,dr=P(Pt)<.5*rt&&P(Ot)<.5*rt;if(!dr){var xr=rt*A,ar=Pt>0^Ot>0?-1:1,Ar=-ar*mt+(Ot>0?1:-1)*xr,Ir=-ar*Ft+(Pt>0?1:-1)*xr;Pt=(-Ar-Ir)*A,Ot=(Ar-Ir)*A}var Or=Xe.invert(Pt,Ot);return dr||(Or[0]+=Pt>0?h:-h),Or}),(0,y.Z)(ht).rotate([-90,-90,45]).clipAngle(179.999)}function dh(){return Ls(gn).scale(176.423)}function oc(){return Ls(Tr).scale(111.48)}function sc(Xe,rt){if(!(0<=(rt=+rt)&&rt<=20))throw new Error("invalid digits");function ht(ar){var Ar=ar.length,Ir=2,Or=new Array(Ar);for(Or[0]=+ar[0].toFixed(rt),Or[1]=+ar[1].toFixed(rt);Ir<Ar;)Or[Ir]=ar[Ir],++Ir;return Or}function mt(ar){return ar.map(ht)}function Ft(ar){for(var Ar=ht(ar[0]),Ir=[Ar],Or=1;Or<ar.length;Or++){var en=ht(ar[Or]);(en.length>2||en[0]!=Ar[0]||en[1]!=Ar[1])&&(Ir.push(en),Ar=en)}return Ir.length===1&&ar.length>1&&Ir.push(ht(ar[ar.length-1])),Ir}function Pt(ar){return ar.map(Ft)}function Ot(ar){if(ar==null)return ar;var Ar;switch(ar.type){case"GeometryCollection":Ar={type:"GeometryCollection",geometries:ar.geometries.map(Ot)};break;case"Point":Ar={type:"Point",coordinates:ht(ar.coordinates)};break;case"MultiPoint":Ar={type:ar.type,coordinates:mt(ar.coordinates)};break;case"LineString":Ar={type:ar.type,coordinates:Ft(ar.coordinates)};break;case"MultiLineString":case"Polygon":Ar={type:ar.type,coordinates:Pt(ar.coordinates)};break;case"MultiPolygon":Ar={type:"MultiPolygon",coordinates:ar.coordinates.map(Pt)};break;default:return ar}return ar.bbox!=null&&(Ar.bbox=ar.bbox),Ar}function dr(ar){var Ar={type:"Feature",properties:ar.properties,geometry:Ot(ar.geometry)};return ar.id!=null&&(Ar.id=ar.id),ar.bbox!=null&&(Ar.bbox=ar.bbox),Ar}if(Xe!=null)switch(Xe.type){case"Feature":return dr(Xe);case"FeatureCollection":{var xr={type:"FeatureCollection",features:Xe.features.map(dr)};return Xe.bbox!=null&&(xr.bbox=Xe.bbox),xr}default:return Ot(Xe)}return Xe}function Tf(Xe){var rt=l(Xe);function ht(mt,Ft){var Pt=rt?g(mt*rt/2)/rt:mt/2;if(!Ft)return[2*Pt,-Xe];var Ot=2*o(Pt*l(Ft)),dr=1/g(Ft);return[l(Ot)*dr,Ft+(1-M(Ot))*dr-Xe]}return ht.invert=function(mt,Ft){if(P(Ft+=Xe)<f)return[rt?2*o(rt*mt/2)/rt:mt,0];var Pt=mt*mt+Ft*Ft,Ot=0,dr=10,xr;do{var ar=g(Ot),Ar=1/M(Ot),Ir=Pt-2*Ft*Ot+Ot*Ot;Ot-=xr=(ar*Ir+2*(Ot-Ft))/(2+Ir*Ar*Ar+2*(Ot-Ft)*ar)}while(P(xr)>f&&--dr>0);var Or=mt*(ar=g(Ot)),en=g(P(Ft)<P(Ot+1/ar)?E(Or)*.5:x(Or)*.5+h/4)/l(Ot);return[rt?2*o(rt*en)/rt:2*en,Ot]},ht}function lc(){return lt(Tf).scale(131.215)}var wo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];wo.forEach(function(Xe){Xe[1]*=1.0144});function es(Xe,rt){var ht=i(18,P(rt)*36/h),mt=p(ht),Ft=ht-mt,Pt=(Ir=wo[mt])[0],Ot=Ir[1],dr=(Ir=wo[++mt])[0],xr=Ir[1],ar=(Ir=wo[i(19,++mt)])[0],Ar=Ir[1],Ir;return[Xe*(dr+Ft*(ar-Pt)/2+Ft*Ft*(ar-2*dr+Pt)/2),(rt>0?s:-s)*(xr+Ft*(Ar-Ot)/2+Ft*Ft*(Ar-2*xr+Ot)/2)]}es.invert=function(Xe,rt){var ht=rt/s,mt=ht*90,Ft=i(18,P(mt/5)),Pt=t(0,p(Ft));do{var Ot=wo[Pt][1],dr=wo[Pt+1][1],xr=wo[i(19,Pt+2)][1],ar=xr-Ot,Ar=xr-2*dr+Ot,Ir=2*(P(ht)-dr)/ar,Or=Ar/ar,en=Ir*(1-Or*Ir*(1-2*Or*Ir));if(en>=0||Pt===1){mt=(rt>=0?5:-5)*(en+Ft);var bn=50,Ln;do Ft=i(18,P(mt)/5),Pt=p(Ft),en=Ft-Pt,Ot=wo[Pt][1],dr=wo[Pt+1][1],xr=wo[i(19,Pt+2)][1],mt-=(Ln=(rt>=0?s:-s)*(dr+en*(xr-Ot)/2+en*en*(xr-2*dr+Ot)/2)-rt)*S;while(P(Ln)>T&&--bn>0);break}}while(--Pt>=0);var Pn=wo[Pt][0],Kn=wo[Pt+1][0],Ra=wo[i(19,Pt+2)][0];return[Xe/(Kn+en*(Ra-Pn)/2+en*en*(Ra-2*Kn+Pn)/2),mt*m]};function Gs(){return(0,y.Z)(es).scale(152.63)}function Bl(Xe){function rt(ht,mt){var Ft=M(mt),Pt=(Xe-1)/(Xe-Ft*M(ht));return[Pt*Ft*l(ht),Pt*l(mt)]}return rt.invert=function(ht,mt){var Ft=ht*ht+mt*mt,Pt=k(Ft),Ot=(Xe-k(1-Ft*(Xe+1)/(Xe-1)))/((Xe-1)/Pt+Pt/(Xe-1));return[L(ht*Ot,Pt*k(1-Ot*Ot)),Pt?E(mt*Ot/Pt):0]},rt}function Zu(Xe,rt){var ht=Bl(Xe);if(!rt)return ht;var mt=M(rt),Ft=l(rt);function Pt(Ot,dr){var xr=ht(Ot,dr),ar=xr[1],Ar=ar*Ft/(Xe-1)+mt;return[xr[0]*mt/Ar,ar/Ar]}return Pt.invert=function(Ot,dr){var xr=(Xe-1)/(Xe-1-dr*Ft);return ht.invert(xr*Ot,xr*dr*mt)},Pt}function ul(){var Xe=2,rt=0,ht=(0,y.r)(Zu),mt=ht(Xe,rt);return mt.distance=function(Ft){return arguments.length?ht(Xe=+Ft,rt):Xe},mt.tilt=function(Ft){return arguments.length?ht(Xe,rt=Ft*m):rt*S},mt.scale(432.147).clipAngle(x(1/Xe)*S-1e-6)}var fl=1e-4,uc=1e4,Ps=-180,Nl=Ps+fl,Ws=180,Rs=Ws-fl,fu=-90,Ul=fu+fl,ci=90,Hl=ci-fl;function ju(Xe){return Xe.length>0}function fc(Xe){return Math.floor(Xe*uc)/uc}function Vl(Xe){return Xe===fu||Xe===ci?[0,Xe]:[Ps,fc(Xe)]}function cu(Xe){var rt=Xe[0],ht=Xe[1],mt=!1;return rt<=Nl?(rt=Ps,mt=!0):rt>=Rs&&(rt=Ws,mt=!0),ht<=Ul?(ht=fu,mt=!0):ht>=Hl&&(ht=ci,mt=!0),mt?[rt,ht]:Xe}function Xu(Xe){return Xe.map(cu)}function Af(Xe,rt,ht){for(var mt=0,Ft=Xe.length;mt<Ft;++mt){var Pt=Xe[mt].slice();ht.push({index:-1,polygon:rt,ring:Pt});for(var Ot=0,dr=Pt.length;Ot<dr;++Ot){var xr=Pt[Ot],ar=xr[0],Ar=xr[1];if(ar<=Nl||ar>=Rs||Ar<=Ul||Ar>=Hl){Pt[Ot]=cu(xr);for(var Ir=Ot+1;Ir<dr;++Ir){var Or=Pt[Ir],en=Or[0],bn=Or[1];if(en>Nl&&en<Rs&&bn>Ul&&bn<Hl)break}if(Ir===Ot+1)continue;if(Ot){var Ln={index:-1,polygon:rt,ring:Pt.slice(0,Ot+1)};Ln.ring[Ln.ring.length-1]=Vl(Ar),ht[ht.length-1]=Ln}else ht.pop();if(Ir>=dr)break;ht.push({index:-1,polygon:rt,ring:Pt=Pt.slice(Ir-1)}),Pt[0]=Vl(Pt[0][1]),Ot=-1,dr=Pt.length}}}}function hu(Xe){var rt,ht=Xe.length,mt={},Ft={},Pt,Ot,dr,xr,ar;for(rt=0;rt<ht;++rt){if(Pt=Xe[rt],Ot=Pt.ring[0],xr=Pt.ring[Pt.ring.length-1],Ot[0]===xr[0]&&Ot[1]===xr[1]){Pt.polygon.push(Pt.ring),Xe[rt]=null;continue}Pt.index=rt,mt[Ot]=Ft[xr]=Pt}for(rt=0;rt<ht;++rt)if(Pt=Xe[rt],Pt){if(Ot=Pt.ring[0],xr=Pt.ring[Pt.ring.length-1],dr=Ft[Ot],ar=mt[xr],delete mt[Ot],delete Ft[xr],Ot[0]===xr[0]&&Ot[1]===xr[1]){Pt.polygon.push(Pt.ring);continue}dr?(delete Ft[Ot],delete mt[dr.ring[0]],dr.ring.pop(),Xe[dr.index]=null,Pt={index:-1,polygon:dr.polygon,ring:dr.ring.concat(Pt.ring)},dr===ar?Pt.polygon.push(Pt.ring):(Pt.index=ht++,Xe.push(mt[Pt.ring[0]]=Ft[Pt.ring[Pt.ring.length-1]]=Pt))):ar?(delete mt[xr],delete Ft[ar.ring[ar.ring.length-1]],Pt.ring.pop(),Pt={index:ht++,polygon:ar.polygon,ring:Pt.ring.concat(ar.ring)},Xe[ar.index]=null,Xe.push(mt[Pt.ring[0]]=Ft[Pt.ring[Pt.ring.length-1]]=Pt)):(Pt.ring.push(Pt.ring[0]),Pt.polygon.push(Pt.ring))}}function vu(Xe){var rt={type:"Feature",geometry:Ys(Xe.geometry)};return Xe.id!=null&&(rt.id=Xe.id),Xe.bbox!=null&&(rt.bbox=Xe.bbox),Xe.properties!=null&&(rt.properties=Xe.properties),rt}function Ys(Xe){if(Xe==null)return Xe;var rt,ht,mt,Ft;switch(Xe.type){case"GeometryCollection":rt={type:"GeometryCollection",geometries:Xe.geometries.map(Ys)};break;case"Point":rt={type:"Point",coordinates:cu(Xe.coordinates)};break;case"MultiPoint":case"LineString":rt={type:Xe.type,coordinates:Xu(Xe.coordinates)};break;case"MultiLineString":rt={type:"MultiLineString",coordinates:Xe.coordinates.map(Xu)};break;case"Polygon":{var Pt=[];Af(Xe.coordinates,Pt,ht=[]),hu(ht),rt={type:"Polygon",coordinates:Pt};break}case"MultiPolygon":{ht=[],mt=-1,Ft=Xe.coordinates.length;for(var Ot=new Array(Ft);++mt<Ft;)Af(Xe.coordinates[mt],Ot[mt]=[],ht);hu(ht),rt={type:"MultiPolygon",coordinates:Ot.filter(ju)};break}default:return Xe}return Xe.bbox!=null&&(rt.bbox=Xe.bbox),rt}function du(Xe){if(Xe==null)return Xe;switch(Xe.type){case"Feature":return vu(Xe);case"FeatureCollection":{var rt={type:"FeatureCollection",features:Xe.features.map(vu)};return Xe.bbox!=null&&(rt.bbox=Xe.bbox),rt}default:return Ys(Xe)}}function Zs(Xe,rt){var ht=g(rt/2),mt=l(d*ht);return[Xe*(.74482-.34588*mt*mt),1.70711*ht]}Zs.invert=function(Xe,rt){var ht=rt/1.70711,mt=l(d*ht);return[Xe/(.74482-.34588*mt*mt),2*o(ht)]};function Gi(){return(0,y.Z)(Zs).scale(146.153)}function ds(Xe,rt,ht){var mt=(0,yf.Z)(rt,ht),Ft=mt(.5),Pt=(0,Ve.Z)([-Ft[0],-Ft[1]])(rt),Ot=mt.distance/2,dr=-E(l(Pt[1]*m)/l(Ot)),xr=[-Ft[0],-Ft[1],-(Pt[0]>0?h-dr:dr)*S],ar=(0,y.Z)(Xe(Ot)).rotate(xr),Ar=(0,Ve.Z)(xr),Ir=ar.center;return delete ar.rotate,ar.center=function(Or){return arguments.length?Ir(Ar(Or)):Ar.invert(Ir())},ar.clipAngle(90)}function Mf(Xe){var rt=M(Xe);function ht(mt,Ft){var Pt=(0,Hs.M)(mt,Ft);return Pt[0]*=rt,Pt}return ht.invert=function(mt,Ft){return Hs.M.invert(mt/rt,Ft)},ht}function cl(){return Ku([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Ku(Xe,rt){return ds(Mf,Xe,rt)}function pu(Xe){if(!(Xe*=2))return oe.N;var rt=-Xe/2,ht=-rt,mt=Xe*Xe,Ft=g(ht),Pt=.5/l(ht);function Ot(dr,xr){var ar=x(M(xr)*M(dr-rt)),Ar=x(M(xr)*M(dr-ht)),Ir=xr<0?-1:1;return ar*=ar,Ar*=Ar,[(ar-Ar)/(2*Xe),Ir*k(4*mt*Ar-(mt-ar+Ar)*(mt-ar+Ar))/(2*Xe)]}return Ot.invert=function(dr,xr){var ar=xr*xr,Ar=M(k(ar+(Or=dr+rt)*Or)),Ir=M(k(ar+(Or=dr+ht)*Or)),Or,en;return[L(en=Ar-Ir,Or=(Ar+Ir)*Ft),(xr<0?-1:1)*x(k(Or*Or+en*en)*Pt)]},Ot}function ph(){return cc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function cc(Xe,rt){return ds(pu,Xe,rt)}function po(Xe,rt){if(P(rt)<f)return[Xe,0];var ht=P(rt/s),mt=E(ht);if(P(Xe)<f||P(P(rt)-s)<f)return[0,u(rt)*h*g(mt/2)];var Ft=M(mt),Pt=P(h/Xe-Xe/h)/2,Ot=Pt*Pt,dr=Ft/(ht+Ft-1),xr=dr*(2/ht-1),ar=xr*xr,Ar=ar+Ot,Ir=dr-ar,Or=Ot+dr;return[u(Xe)*h*(Pt*Ir+k(Ot*Ir*Ir-Ar*(dr*dr-ar)))/Ar,u(rt)*h*(xr*Or-Pt*k((Ot+1)*Ar-Or*Or))/Ar]}po.invert=function(Xe,rt){if(P(rt)<f)return[Xe,0];if(P(Xe)<f)return[0,s*l(2*o(rt/h))];var ht=(Xe/=h)*Xe,mt=(rt/=h)*rt,Ft=ht+mt,Pt=Ft*Ft,Ot=-P(rt)*(1+Ft),dr=Ot-2*mt+ht,xr=-2*Ot+1+2*mt+Pt,ar=mt/xr+(2*dr*dr*dr/(xr*xr*xr)-9*Ot*dr/(xr*xr))/27,Ar=(Ot-dr*dr/(3*xr))/xr,Ir=2*k(-Ar/3),Or=x(3*ar/(Ar*Ir))/3;return[h*(Ft-1+k(1+2*(ht-mt)+Pt))/(2*Xe),u(rt)*h*(-Ir*M(Or+h/3)-dr/(3*xr))]};function gu(){return(0,y.Z)(po).scale(79.4183)}function Gl(Xe,rt){if(P(rt)<f)return[Xe,0];var ht=P(rt/s),mt=E(ht);if(P(Xe)<f||P(P(rt)-s)<f)return[0,u(rt)*h*g(mt/2)];var Ft=M(mt),Pt=P(h/Xe-Xe/h)/2,Ot=Pt*Pt,dr=Ft*(k(1+Ot)-Pt*Ft)/(1+Ot*ht*ht);return[u(Xe)*h*dr,u(rt)*h*k(1-dr*(2*Pt+dr))]}Gl.invert=function(Xe,rt){if(!Xe)return[0,s*l(2*o(rt/h))];var ht=P(Xe/h),mt=(1-ht*ht-(rt/=h)*rt)/(2*ht),Ft=mt*mt,Pt=k(Ft+1);return[u(Xe)*h*(Pt-mt),u(rt)*s*l(2*L(k((1-2*mt*ht)*(mt+Pt)-ht),k(Pt+mt+ht)))]};function hc(){return(0,y.Z)(Gl).scale(79.4183)}function js(Xe,rt){if(P(rt)<f)return[Xe,0];var ht=rt/s,mt=E(ht);if(P(Xe)<f||P(P(rt)-s)<f)return[0,h*g(mt/2)];var Ft=(h/Xe-Xe/h)/2,Pt=ht/(1+M(mt));return[h*(u(Xe)*k(Ft*Ft+1-Pt*Pt)-Ft),h*Pt]}js.invert=function(Xe,rt){if(!rt)return[Xe,0];var ht=rt/h,mt=(h*h*(1-ht*ht)-Xe*Xe)/(2*h*Xe);return[Xe?h*(u(Xe)*k(mt*mt+1)-mt):0,s*l(2*o(ht))]};function gh(){return(0,y.Z)(js).scale(79.4183)}function Do(Xe,rt){if(!rt)return[Xe,0];var ht=P(rt);if(!Xe||ht===s)return[0,rt];var mt=ht/s,Ft=mt*mt,Pt=(8*mt-Ft*(Ft+2)-5)/(2*Ft*(mt-1)),Ot=Pt*Pt,dr=mt*Pt,xr=Ft+Ot+2*dr,ar=mt+3*Pt,Ar=Xe/s,Ir=Ar+1/Ar,Or=u(P(Xe)-s)*k(Ir*Ir-4),en=Or*Or,bn=xr*(Ft+Ot*en-1)+(1-Ft)*(Ft*(ar*ar+4*Ot)+12*dr*Ot+4*Ot*Ot),Ln=(Or*(xr+Ot-1)+2*k(bn))/(4*xr+en);return[u(Xe)*s*Ln,u(rt)*s*k(1+Or*P(Ln)-Ln*Ln)]}Do.invert=function(Xe,rt){var ht;if(!Xe||!rt)return[Xe,rt];rt/=h;var mt=u(Xe)*Xe/s,Ft=(mt*mt-1+4*rt*rt)/P(mt),Pt=Ft*Ft,Ot=2*rt,dr=50;do{var xr=Ot*Ot,ar=(8*Ot-xr*(xr+2)-5)/(2*xr*(Ot-1)),Ar=(3*Ot-xr*Ot-10)/(2*xr*Ot),Ir=ar*ar,Or=Ot*ar,en=Ot+ar,bn=en*en,Ln=Ot+3*ar,Pn=bn*(xr+Ir*Pt-1)+(1-xr)*(xr*(Ln*Ln+4*Ir)+Ir*(12*Or+4*Ir)),Kn=-2*en*(4*Or*Ir+(1-4*xr+3*xr*xr)*(1+Ar)+Ir*(-6+14*xr-Pt+(-8+8*xr-2*Pt)*Ar)+Or*(-8+12*xr+(-10+10*xr-Pt)*Ar)),Ra=k(Pn),Da=Ft*(bn+Ir-1)+2*Ra-mt*(4*bn+Pt),Ia=Ft*(2*ar*Ar+2*en*(1+Ar))+Kn/Ra-8*en*(Ft*(-1+Ir+bn)+2*Ra)*(1+Ar)/(Pt+4*bn);Ot-=ht=Da/Ia}while(ht>f&&--dr>0);return[u(Xe)*(k(Ft*Ft+4)+Ft)*h/4,s*Ot]};function yu(){return(0,y.Z)(Do).scale(127.16)}function Ju(Xe,rt,ht,mt,Ft){function Pt(Ot,dr){var xr=ht*l(mt*dr),ar=k(1-xr*xr),Ar=k(2/(1+ar*M(Ot*=Ft)));return[Xe*ar*Ar*l(Ot),rt*xr*Ar]}return Pt.invert=function(Ot,dr){var xr=Ot/Xe,ar=dr/rt,Ar=k(xr*xr+ar*ar),Ir=2*E(Ar/2);return[L(Ot*g(Ir),Xe*Ar)/Ft,Ar&&E(dr*l(Ir)/(rt*ht*Ar))/mt]},Pt}function Ds(Xe,rt,ht,mt){var Ft=h/3;Xe=t(Xe,f),rt=t(rt,f),Xe=i(Xe,s),rt=i(rt,h-f),ht=t(ht,0),ht=i(ht,100-f),mt=t(mt,f);var Pt=ht/100+1,Ot=mt/100,dr=x(Pt*M(Ft))/Ft,xr=l(Xe)/l(dr*s),ar=rt/h,Ar=k(Ot*l(Xe/2)/l(rt/2)),Ir=Ar/k(ar*xr*dr),Or=1/(Ar*k(ar*xr*dr));return Ju(Ir,Or,xr,dr,ar)}function Xs(){var Xe=65*m,rt=60*m,ht=20,mt=200,Ft=(0,y.r)(Ds),Pt=Ft(Xe,rt,ht,mt);return Pt.poleline=function(Ot){return arguments.length?Ft(Xe=+Ot*m,rt,ht,mt):Xe*S},Pt.parallels=function(Ot){return arguments.length?Ft(Xe,rt=+Ot*m,ht,mt):rt*S},Pt.inflation=function(Ot){return arguments.length?Ft(Xe,rt,ht=+Ot,mt):ht},Pt.ratio=function(Ot){return arguments.length?Ft(Xe,rt,ht,mt=+Ot):mt},Pt.scale(163.775)}function Sf(){return Xs().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var mu=4*h+3*k(3),xu=2*k(2*h*k(3)/mu),Qu=me(xu*k(3)/h,xu,mu/6);function vc(){return(0,y.Z)(Qu).scale(176.84)}function bu(Xe,rt){return[Xe*k(1-3*rt*rt/(h*h)),rt]}bu.invert=function(Xe,rt){return[Xe/k(1-3*rt*rt/(h*h)),rt]};function Ef(){return(0,y.Z)(bu).scale(152.63)}function hl(Xe,rt){var ht=M(rt),mt=M(Xe)*ht,Ft=1-mt,Pt=M(Xe=L(l(Xe)*ht,-l(rt))),Ot=l(Xe);return ht=k(1-mt*mt),[Ot*ht-Pt*Ft,-Pt*ht-Ot*Ft]}hl.invert=function(Xe,rt){var ht=(Xe*Xe+rt*rt)/-2,mt=k(-ht*(2+ht)),Ft=rt*ht+Xe*mt,Pt=Xe*ht-rt*mt,Ot=k(Pt*Pt+Ft*Ft);return[L(mt*Ft,Ot*(1+ht)),Ot?-E(mt*Pt/Ot):0]};function Cf(){return(0,y.Z)(hl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function wu(Xe,rt){var ht=W(Xe,rt);return[(ht[0]+Xe/s)/2,(ht[1]+rt)/2]}wu.invert=function(Xe,rt){var ht=Xe,mt=rt,Ft=25;do{var Pt=M(mt),Ot=l(mt),dr=l(2*mt),xr=Ot*Ot,ar=Pt*Pt,Ar=l(ht),Ir=M(ht/2),Or=l(ht/2),en=Or*Or,bn=1-ar*Ir*Ir,Ln=bn?x(Pt*Ir)*k(Pn=1/bn):Pn=0,Pn,Kn=.5*(2*Ln*Pt*Or+ht/s)-Xe,Ra=.5*(Ln*Ot+mt)-rt,Da=.5*Pn*(ar*en+Ln*Pt*Ir*xr)+.5/s,Ia=Pn*(Ar*dr/4-Ln*Ot*Or),za=.125*Pn*(dr*Or-Ln*Ot*ar*Ar),ja=.5*Pn*(xr*Ir+Ln*en*Pt)+.5,hi=Ia*za-ja*Da,Fi=(Ra*Ia-Kn*ja)/hi,le=(Kn*za-Ra*Da)/hi;ht-=Fi,mt-=le}while((P(Fi)>f||P(le)>f)&&--Ft>0);return[ht,mt]};function dc(){return(0,y.Z)(wu).scale(158.837)}},33940:function(G,V,e){e.d(V,{Z:function(){return y}});function y(){return new P}function P(){this.reset()}P.prototype={constructor:P,reset:function(){this.s=this.t=0},add:function(M){L(o,M,this.t),L(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new P;function L(M,v,p){var r=M.s=v+p,t=r-v,i=r-t;M.t=v-i+(p-t)}},97860:function(G,V,e){e.d(V,{L9:function(){return M},ZP:function(){return T},gL:function(){return c}});var y=e(33940),P=e(39695),o=e(73182),L=e(72736),M=(0,y.Z)(),v=(0,y.Z)(),p,r,t,i,n,c={point:o.Z,lineStart:o.Z,lineEnd:o.Z,polygonStart:function(){M.reset(),c.lineStart=u,c.lineEnd=l},polygonEnd:function(){var h=+M;v.add(h<0?P.BZ+h:h),this.lineStart=this.lineEnd=this.point=o.Z},sphere:function(){v.add(P.BZ)}};function u(){c.point=g}function l(){f(p,r)}function g(h,s){c.point=f,p=h,r=s,h*=P.uR,s*=P.uR,t=h,i=(0,P.mC)(s=s/2+P.pu),n=(0,P.O$)(s)}function f(h,s){h*=P.uR,s*=P.uR,s=s/2+P.pu;var d=h-t,A=d>=0?1:-1,w=A*d,C=(0,P.mC)(s),b=(0,P.O$)(s),S=n*b,m=i*C+S*(0,P.mC)(w),a=S*A*(0,P.O$)(w);M.add((0,P.fv)(a,m)),t=h,i=C,n=b}function T(h){return v.reset(),(0,L.Z)(h,c),v*2}},77338:function(G,V,e){e.d(V,{Z:function(){return E}});var y=e(33940),P=e(97860),o=e(7620),L=e(39695),M=e(72736),v,p,r,t,i,n,c,u,l=(0,y.Z)(),g,f,T={point:h,lineStart:d,lineEnd:A,polygonStart:function(){T.point=w,T.lineStart=C,T.lineEnd=b,l.reset(),P.gL.polygonStart()},polygonEnd:function(){P.gL.polygonEnd(),T.point=h,T.lineStart=d,T.lineEnd=A,P.L9<0?(v=-(r=180),p=-(t=90)):l>L.Ho?t=90:l<-L.Ho&&(p=-90),f[0]=v,f[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function h(x,k){g.push(f=[v=x,r=x]),k<p&&(p=k),k>t&&(t=k)}function s(x,k){var I=(0,o.Og)([x*L.uR,k*L.uR]);if(u){var N=(0,o.T5)(u,I),F=[N[1],-N[0],0],z=(0,o.T5)(F,N);(0,o.iJ)(z),z=(0,o.Y1)(z);var O=x-i,_=O>0?1:-1,B=z[0]*L.RW*_,W,$=(0,L.Wn)(O)>180;$^(_*i<B&&B<_*x)?(W=z[1]*L.RW,W>t&&(t=W)):(B=(B+360)%360-180,$^(_*i<B&&B<_*x)?(W=-z[1]*L.RW,W<p&&(p=W)):(k<p&&(p=k),k>t&&(t=k))),$?x<i?S(v,x)>S(v,r)&&(r=x):S(x,r)>S(v,r)&&(v=x):r>=v?(x<v&&(v=x),x>r&&(r=x)):x>i?S(v,x)>S(v,r)&&(r=x):S(x,r)>S(v,r)&&(v=x)}else g.push(f=[v=x,r=x]);k<p&&(p=k),k>t&&(t=k),u=I,i=x}function d(){T.point=s}function A(){f[0]=v,f[1]=r,T.point=h,u=null}function w(x,k){if(u){var I=x-i;l.add((0,L.Wn)(I)>180?I+(I>0?360:-360):I)}else n=x,c=k;P.gL.point(x,k),s(x,k)}function C(){P.gL.lineStart()}function b(){w(n,c),P.gL.lineEnd(),(0,L.Wn)(l)>L.Ho&&(v=-(r=180)),f[0]=v,f[1]=r,u=null}function S(x,k){return(k-=x)<0?k+360:k}function m(x,k){return x[0]-k[0]}function a(x,k){return x[0]<=x[1]?x[0]<=k&&k<=x[1]:k<x[0]||x[1]<k}function E(x){var k,I,N,F,z,O,_;if(t=r=-(v=p=1/0),g=[],(0,M.Z)(x,T),I=g.length){for(g.sort(m),k=1,N=g[0],z=[N];k<I;++k)F=g[k],a(N,F[0])||a(N,F[1])?(S(N[0],F[1])>S(N[0],N[1])&&(N[1]=F[1]),S(F[0],N[1])>S(N[0],N[1])&&(N[0]=F[0])):z.push(N=F);for(O=-1/0,I=z.length-1,k=0,N=z[I];k<=I;N=F,++k)F=z[k],(_=S(N[1],F[0]))>O&&(O=_,v=F[0],r=N[1])}return g=f=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},7620:function(G,V,e){e.d(V,{Og:function(){return o},T:function(){return p},T5:function(){return M},Y1:function(){return P},iJ:function(){return r},j9:function(){return L},s0:function(){return v}});var y=e(39695);function P(t){return[(0,y.fv)(t[1],t[0]),(0,y.ZR)(t[2])]}function o(t){var i=t[0],n=t[1],c=(0,y.mC)(n);return[c*(0,y.mC)(i),c*(0,y.O$)(i),(0,y.O$)(n)]}function L(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function M(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function v(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function p(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function r(t){var i=(0,y._b)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}},66624:function(G,V,e){e.d(V,{Z:function(){return I}});var y=e(39695),P=e(73182),o=e(72736),L,M,v,p,r,t,i,n,c,u,l,g,f,T,h,s,d={sphere:P.Z,point:A,lineStart:C,lineEnd:m,polygonStart:function(){d.lineStart=a,d.lineEnd=E},polygonEnd:function(){d.lineStart=C,d.lineEnd=m}};function A(N,F){N*=y.uR,F*=y.uR;var z=(0,y.mC)(F);w(z*(0,y.mC)(N),z*(0,y.O$)(N),(0,y.O$)(F))}function w(N,F,z){++L,v+=(N-v)/L,p+=(F-p)/L,r+=(z-r)/L}function C(){d.point=b}function b(N,F){N*=y.uR,F*=y.uR;var z=(0,y.mC)(F);T=z*(0,y.mC)(N),h=z*(0,y.O$)(N),s=(0,y.O$)(F),d.point=S,w(T,h,s)}function S(N,F){N*=y.uR,F*=y.uR;var z=(0,y.mC)(F),O=z*(0,y.mC)(N),_=z*(0,y.O$)(N),B=(0,y.O$)(F),W=(0,y.fv)((0,y._b)((W=h*B-s*_)*W+(W=s*O-T*B)*W+(W=T*_-h*O)*W),T*O+h*_+s*B);M+=W,t+=W*(T+(T=O)),i+=W*(h+(h=_)),n+=W*(s+(s=B)),w(T,h,s)}function m(){d.point=A}function a(){d.point=x}function E(){k(g,f),d.point=A}function x(N,F){g=N,f=F,N*=y.uR,F*=y.uR,d.point=k;var z=(0,y.mC)(F);T=z*(0,y.mC)(N),h=z*(0,y.O$)(N),s=(0,y.O$)(F),w(T,h,s)}function k(N,F){N*=y.uR,F*=y.uR;var z=(0,y.mC)(F),O=z*(0,y.mC)(N),_=z*(0,y.O$)(N),B=(0,y.O$)(F),W=h*B-s*_,$=s*O-T*B,te=T*_-h*O,ie=(0,y._b)(W*W+$*$+te*te),ue=(0,y.ZR)(ie),J=ie&&-ue/ie;c+=J*W,u+=J*$,l+=J*te,M+=ue,t+=ue*(T+(T=O)),i+=ue*(h+(h=_)),n+=ue*(s+(s=B)),w(T,h,s)}function I(N){L=M=v=p=r=t=i=n=c=u=l=0,(0,o.Z)(N,d);var F=c,z=u,O=l,_=F*F+z*z+O*O;return _<y.aW&&(F=t,z=i,O=n,M<y.Ho&&(F=v,z=p,O=r),_=F*F+z*z+O*O,_<y.aW)?[NaN,NaN]:[(0,y.fv)(z,F)*y.RW,(0,y.ZR)(O/(0,y._b)(_))*y.RW]}},7613:function(G,V,e){e.d(V,{m:function(){return M},Z:function(){return p}});var y=e(7620);function P(r){return function(){return r}}var o=e(39695),L=e(49386);function M(r,t,i,n,c,u){if(i){var l=(0,o.mC)(t),g=(0,o.O$)(t),f=n*i;c==null?(c=t+n*o.BZ,u=t-f/2):(c=v(l,c),u=v(l,u),(n>0?c<u:c>u)&&(c+=n*o.BZ));for(var T,h=c;n>0?h>u:h<u;h-=f)T=(0,y.Y1)([l,-g*(0,o.mC)(h),-g*(0,o.O$)(h)]),r.point(T[0],T[1])}}function v(r,t){t=(0,y.Og)(t),t[0]-=r,(0,y.iJ)(t);var i=(0,o.Kh)(-t[1]);return((-t[2]<0?-i:i)+o.BZ-o.Ho)%o.BZ}function p(){var r=P([0,0]),t=P(90),i=P(6),n,c,u={point:l};function l(f,T){n.push(f=c(f,T)),f[0]*=o.RW,f[1]*=o.RW}function g(){var f=r.apply(this,arguments),T=t.apply(this,arguments)*o.uR,h=i.apply(this,arguments)*o.uR;return n=[],c=(0,L.I)(-f[0]*o.uR,-f[1]*o.uR,0).invert,M(u,T,h,1),f={type:"Polygon",coordinates:[n]},n=c=null,f}return g.center=function(f){return arguments.length?(r=typeof f=="function"?f:P([+f[0],+f[1]]),g):r},g.radius=function(f){return arguments.length?(t=typeof f=="function"?f:P(+f),g):t},g.precision=function(f){return arguments.length?(i=typeof f=="function"?f:P(+f),g):i},g}},87070:function(G,V,e){var y=e(97023),P=e(39695);V.Z=(0,y.Z)(function(){return!0},o,M,[-P.pi,-P.ou]);function o(v){var p=NaN,r=NaN,t=NaN,i;return{lineStart:function(){v.lineStart(),i=1},point:function(n,c){var u=n>0?P.pi:-P.pi,l=(0,P.Wn)(n-p);(0,P.Wn)(l-P.pi)<P.Ho?(v.point(p,r=(r+c)/2>0?P.ou:-P.ou),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(n,r),i=0):t!==u&&l>=P.pi&&((0,P.Wn)(p-t)<P.Ho&&(p-=t*P.Ho),(0,P.Wn)(n-u)<P.Ho&&(n-=u*P.Ho),r=L(p,r,n,c),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),i=0),v.point(p=n,r=c),t=u},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-i}}}function L(v,p,r,t){var i,n,c=(0,P.O$)(v-r);return(0,P.Wn)(c)>P.Ho?(0,P.z4)(((0,P.O$)(p)*(n=(0,P.mC)(t))*(0,P.O$)(r)-(0,P.O$)(t)*(i=(0,P.mC)(p))*(0,P.O$)(v))/(i*n*c)):(p+t)/2}function M(v,p,r,t){var i;if(v==null)i=r*P.ou,t.point(-P.pi,i),t.point(0,i),t.point(P.pi,i),t.point(P.pi,0),t.point(P.pi,-i),t.point(0,-i),t.point(-P.pi,-i),t.point(-P.pi,0),t.point(-P.pi,i);else if((0,P.Wn)(v[0]-p[0])>P.Ho){var n=v[0]<p[0]?P.pi:-P.pi;i=r*n/2,t.point(-n,i),t.point(0,i),t.point(n,i)}else t.point(p[0],p[1])}},85272:function(G,V,e){e.d(V,{Z:function(){return P}});var y=e(73182);function P(){var o=[],L;return{point:function(M,v,p){L.push([M,v,p])},lineStart:function(){o.push(L=[])},lineEnd:y.Z,rejoin:function(){o.length>1&&o.push(o.pop().concat(o.shift()))},result:function(){var M=o;return o=[],L=null,M}}}},1457:function(G,V,e){e.d(V,{Z:function(){return v}});var y=e(7620),P=e(7613),o=e(39695),L=e(67108),M=e(97023);function v(p){var r=(0,o.mC)(p),t=6*o.uR,i=r>0,n=(0,o.Wn)(r)>o.Ho;function c(T,h,s,d){(0,P.m)(d,p,t,s,T,h)}function u(T,h){return(0,o.mC)(T)*(0,o.mC)(h)>r}function l(T){var h,s,d,A,w;return{lineStart:function(){A=d=!1,w=1},point:function(C,b){var S=[C,b],m,a=u(C,b),E=i?a?0:f(C,b):a?f(C+(C<0?o.pi:-o.pi),b):0;if(!h&&(A=d=a)&&T.lineStart(),a!==d&&(m=g(h,S),(!m||(0,L.Z)(h,m)||(0,L.Z)(S,m))&&(S[2]=1)),a!==d)w=0,a?(T.lineStart(),m=g(S,h),T.point(m[0],m[1])):(m=g(h,S),T.point(m[0],m[1],2),T.lineEnd()),h=m;else if(n&&h&&i^a){var x;!(E&s)&&(x=g(S,h,!0))&&(w=0,i?(T.lineStart(),T.point(x[0][0],x[0][1]),T.point(x[1][0],x[1][1]),T.lineEnd()):(T.point(x[1][0],x[1][1]),T.lineEnd(),T.lineStart(),T.point(x[0][0],x[0][1],3)))}a&&(!h||!(0,L.Z)(h,S))&&T.point(S[0],S[1]),h=S,d=a,s=E},lineEnd:function(){d&&T.lineEnd(),h=null},clean:function(){return w|(A&&d)<<1}}}function g(T,h,s){var d=(0,y.Og)(T),A=(0,y.Og)(h),w=[1,0,0],C=(0,y.T5)(d,A),b=(0,y.j9)(C,C),S=C[0],m=b-S*S;if(!m)return!s&&T;var a=r*b/m,E=-r*S/m,x=(0,y.T5)(w,C),k=(0,y.T)(w,a),I=(0,y.T)(C,E);(0,y.s0)(k,I);var N=x,F=(0,y.j9)(k,N),z=(0,y.j9)(N,N),O=F*F-z*((0,y.j9)(k,k)-1);if(!(O<0)){var _=(0,o._b)(O),B=(0,y.T)(N,(-F-_)/z);if((0,y.s0)(B,k),B=(0,y.Y1)(B),!s)return B;var W=T[0],$=h[0],te=T[1],ie=h[1],ue;$<W&&(ue=W,W=$,$=ue);var J=$-W,Y=(0,o.Wn)(J-o.pi)<o.Ho,ae=Y||J<o.Ho;if(!Y&&ie<te&&(ue=te,te=ie,ie=ue),ae?Y?te+ie>0^B[1]<((0,o.Wn)(B[0]-W)<o.Ho?te:ie):te<=B[1]&&B[1]<=ie:J>o.pi^(W<=B[0]&&B[0]<=$)){var j=(0,y.T)(N,(-F+_)/z);return(0,y.s0)(j,k),[B,(0,y.Y1)(j)]}}}function f(T,h){var s=i?p:o.pi-p,d=0;return T<-s?d|=1:T>s&&(d|=2),h<-s?d|=4:h>s&&(d|=8),d}return(0,M.Z)(u,l,c,i?[0,-p]:[-o.pi,p-o.pi])}},97023:function(G,V,e){e.d(V,{Z:function(){return v}});var y=e(85272),P=e(46225),o=e(39695),L=e(23071),M=e(33064);function v(t,i,n,c){return function(u){var l=i(u),g=(0,y.Z)(),f=i(g),T=!1,h,s,d,A={point:w,lineStart:b,lineEnd:S,polygonStart:function(){A.point=m,A.lineStart=a,A.lineEnd=E,s=[],h=[]},polygonEnd:function(){A.point=w,A.lineStart=b,A.lineEnd=S,s=(0,M.TS)(s);var x=(0,L.Z)(h,c);s.length?(T||(u.polygonStart(),T=!0),(0,P.Z)(s,r,x,n,u)):x&&(T||(u.polygonStart(),T=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),T&&(u.polygonEnd(),T=!1),s=h=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function w(x,k){t(x,k)&&u.point(x,k)}function C(x,k){l.point(x,k)}function b(){A.point=C,l.lineStart()}function S(){A.point=w,l.lineEnd()}function m(x,k){d.push([x,k]),f.point(x,k)}function a(){f.lineStart(),d=[]}function E(){m(d[0][0],d[0][1]),f.lineEnd();var x=f.clean(),k=g.result(),I,N=k.length,F,z,O;if(d.pop(),h.push(d),d=null,!!N){if(x&1){if(z=k[0],(F=z.length-1)>0){for(T||(u.polygonStart(),T=!0),u.lineStart(),I=0;I<F;++I)u.point((O=z[I])[0],O[1]);u.lineEnd()}return}N>1&&x&2&&k.push(k.pop().concat(k.shift())),s.push(k.filter(p))}}return A}}function p(t){return t.length>1}function r(t,i){return((t=t.x)[0]<0?t[1]-o.ou-o.Ho:o.ou-t[1])-((i=i.x)[0]<0?i[1]-o.ou-o.Ho:o.ou-i[1])}},87605:function(G,V,e){e.d(V,{Z:function(){return r}});var y=e(39695),P=e(85272);function o(t,i,n,c,u,l){var g=t[0],f=t[1],T=i[0],h=i[1],s=0,d=1,A=T-g,w=h-f,C;if(C=n-g,!(!A&&C>0)){if(C/=A,A<0){if(C<s)return;C<d&&(d=C)}else if(A>0){if(C>d)return;C>s&&(s=C)}if(C=u-g,!(!A&&C<0)){if(C/=A,A<0){if(C>d)return;C>s&&(s=C)}else if(A>0){if(C<s)return;C<d&&(d=C)}if(C=c-f,!(!w&&C>0)){if(C/=w,w<0){if(C<s)return;C<d&&(d=C)}else if(w>0){if(C>d)return;C>s&&(s=C)}if(C=l-f,!(!w&&C<0)){if(C/=w,w<0){if(C>d)return;C>s&&(s=C)}else if(w>0){if(C<s)return;C<d&&(d=C)}return s>0&&(t[0]=g+s*A,t[1]=f+s*w),d<1&&(i[0]=g+d*A,i[1]=f+d*w),!0}}}}}var L=e(46225),M=e(33064),v=1e9,p=-v;function r(t,i,n,c){function u(h,s){return t<=h&&h<=n&&i<=s&&s<=c}function l(h,s,d,A){var w=0,C=0;if(h==null||(w=g(h,d))!==(C=g(s,d))||T(h,s)<0^d>0)do A.point(w===0||w===3?t:n,w>1?c:i);while((w=(w+d+4)%4)!==C);else A.point(s[0],s[1])}function g(h,s){return(0,y.Wn)(h[0]-t)<y.Ho?s>0?0:3:(0,y.Wn)(h[0]-n)<y.Ho?s>0?2:1:(0,y.Wn)(h[1]-i)<y.Ho?s>0?1:0:s>0?3:2}function f(h,s){return T(h.x,s.x)}function T(h,s){var d=g(h,1),A=g(s,1);return d!==A?d-A:d===0?s[1]-h[1]:d===1?h[0]-s[0]:d===2?h[1]-s[1]:s[0]-h[0]}return function(h){var s=h,d=(0,P.Z)(),A,w,C,b,S,m,a,E,x,k,I,N={point:F,lineStart:B,lineEnd:W,polygonStart:O,polygonEnd:_};function F(te,ie){u(te,ie)&&s.point(te,ie)}function z(){for(var te=0,ie=0,ue=w.length;ie<ue;++ie)for(var J=w[ie],Y=1,ae=J.length,j=J[0],q,oe,Q=j[0],X=j[1];Y<ae;++Y)q=Q,oe=X,j=J[Y],Q=j[0],X=j[1],oe<=c?X>c&&(Q-q)*(c-oe)>(X-oe)*(t-q)&&++te:X<=c&&(Q-q)*(c-oe)<(X-oe)*(t-q)&&--te;return te}function O(){s=d,A=[],w=[],I=!0}function _(){var te=z(),ie=I&&te,ue=(A=(0,M.TS)(A)).length;(ie||ue)&&(h.polygonStart(),ie&&(h.lineStart(),l(null,null,1,h),h.lineEnd()),ue&&(0,L.Z)(A,f,te,l,h),h.polygonEnd()),s=h,A=w=C=null}function B(){N.point=$,w&&w.push(C=[]),k=!0,x=!1,a=E=NaN}function W(){A&&($(b,S),m&&x&&d.rejoin(),A.push(d.result())),N.point=F,x&&s.lineEnd()}function $(te,ie){var ue=u(te,ie);if(w&&C.push([te,ie]),k)b=te,S=ie,m=ue,k=!1,ue&&(s.lineStart(),s.point(te,ie));else if(ue&&x)s.point(te,ie);else{var J=[a=Math.max(p,Math.min(v,a)),E=Math.max(p,Math.min(v,E))],Y=[te=Math.max(p,Math.min(v,te)),ie=Math.max(p,Math.min(v,ie))];o(J,Y,t,i,n,c)?(x||(s.lineStart(),s.point(J[0],J[1])),s.point(Y[0],Y[1]),ue||s.lineEnd(),I=!1):ue&&(s.lineStart(),s.point(te,ie),I=!1)}a=te,E=ie,x=ue}return N}}},46225:function(G,V,e){e.d(V,{Z:function(){return L}});var y=e(67108),P=e(39695);function o(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function L(v,p,r,t,i){var n=[],c=[],u,l;if(v.forEach(function(d){if(!((A=d.length-1)<=0)){var A,w=d[0],C=d[A],b;if((0,y.Z)(w,C)){if(!w[2]&&!C[2]){for(i.lineStart(),u=0;u<A;++u)i.point((w=d[u])[0],w[1]);i.lineEnd();return}C[0]+=2*P.Ho}n.push(b=new o(w,d,null,!0)),c.push(b.o=new o(w,null,b,!1)),n.push(b=new o(C,d,null,!1)),c.push(b.o=new o(C,null,b,!0))}}),!!n.length){for(c.sort(p),M(n),M(c),u=0,l=c.length;u<l;++u)c[u].e=r=!r;for(var g=n[0],f,T;;){for(var h=g,s=!0;h.v;)if((h=h.n)===g)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(s)for(u=0,l=f.length;u<l;++u)i.point((T=f[u])[0],T[1]);else t(h.x,h.n.x,1,i);h=h.n}else{if(s)for(f=h.p.z,u=f.length-1;u>=0;--u)i.point((T=f[u])[0],T[1]);else t(h.x,h.p.x,-1,i);h=h.p}h=h.o,f=h.z,s=!s}while(!h.v);i.lineEnd()}}}function M(v){if(p=v.length){for(var p,r=0,t=v[0],i;++r<p;)t.n=i=v[r],i.p=t,t=i;t.n=i=v[0],i.p=t}}},96059:function(G,V,e){e.d(V,{Z:function(){return y}});function y(P,o){function L(M,v){return M=P(M,v),o(M[0],M[1])}return P.invert&&o.invert&&(L.invert=function(M,v){return M=o.invert(M,v),M&&P.invert(M[0],M[1])}),L}},8593:function(G,V,e){e.d(V,{Z:function(){return y}});function y(P){return P}},27362:function(G,V,e){e.r(V),e.d(V,{geoAlbers:function(){return gr},geoAlbersUsa:function(){return at},geoArea:function(){return y.ZP},geoAzimuthalEqualArea:function(){return xt.Z},geoAzimuthalEqualAreaRaw:function(){return xt.l},geoAzimuthalEquidistant:function(){return Mt.Z},geoAzimuthalEquidistantRaw:function(){return Mt.N},geoBounds:function(){return P.Z},geoCentroid:function(){return o.Z},geoCircle:function(){return L.Z},geoClipAntimeridian:function(){return M.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.Z},geoConicConformal:function(){return fr},geoConicConformalRaw:function(){return lr},geoConicEqualArea:function(){return Qt},geoConicEqualAreaRaw:function(){return jt},geoConicEquidistant:function(){return Ge},geoConicEquidistantRaw:function(){return We},geoContains:function(){return O},geoDistance:function(){return m},geoEqualEarth:function(){return vr},geoEqualEarthRaw:function(){return zt},geoEquirectangular:function(){return hr.Z},geoEquirectangularRaw:function(){return hr.k},geoGnomonic:function(){return yr.Z},geoGnomonicRaw:function(){return yr.M},geoGraticule:function(){return $},geoGraticule10:function(){return te},geoIdentity:function(){return cr},geoInterpolate:function(){return ie.Z},geoLength:function(){return C},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Lt},geoNaturalEarth1:function(){return Ur.Z},geoNaturalEarth1Raw:function(){return Ur.K},geoOrthographic:function(){return kr.Z},geoOrthographicRaw:function(){return kr.I},geoPath:function(){return _t},geoProjection:function(){return $t.Z},geoProjectionMutator:function(){return $t.r},geoRotation:function(){return Dt.Z},geoStereographic:function(){return tn},geoStereographicRaw:function(){return vn},geoStream:function(){return u.Z},geoTransform:function(){return pr.Z},geoTransverseMercator:function(){return xn},geoTransverseMercatorRaw:function(){return Bn}});var y=e(97860),P=e(77338),o=e(66624),L=e(7613),M=e(87070),v=e(1457),p=e(87605);function r(){var Mr=0,Er=0,Wr=960,Hr=500,an,dn,gn;return gn={stream:function(Cn){return an&&dn===Cn?an:an=(0,p.Z)(Mr,Er,Wr,Hr)(dn=Cn)},extent:function(Cn){return arguments.length?(Mr=+Cn[0][0],Er=+Cn[0][1],Wr=+Cn[1][0],Hr=+Cn[1][1],an=dn=null,gn):[[Mr,Er],[Wr,Hr]]}}}var t=e(23071),i=e(33940),n=e(39695),c=e(73182),u=e(72736),l=(0,i.Z)(),g,f,T,h={sphere:c.Z,point:c.Z,lineStart:s,lineEnd:c.Z,polygonStart:c.Z,polygonEnd:c.Z};function s(){h.point=A,h.lineEnd=d}function d(){h.point=h.lineEnd=c.Z}function A(Mr,Er){Mr*=n.uR,Er*=n.uR,g=Mr,f=(0,n.O$)(Er),T=(0,n.mC)(Er),h.point=w}function w(Mr,Er){Mr*=n.uR,Er*=n.uR;var Wr=(0,n.O$)(Er),Hr=(0,n.mC)(Er),an=(0,n.Wn)(Mr-g),dn=(0,n.mC)(an),gn=(0,n.O$)(an),Cn=Hr*gn,_n=T*Wr-f*Hr*dn,sa=f*Wr+T*Hr*dn;l.add((0,n.fv)((0,n._b)(Cn*Cn+_n*_n),sa)),g=Mr,f=Wr,T=Hr}function C(Mr){return l.reset(),(0,u.Z)(Mr,h),+l}var b=[null,null],S={type:"LineString",coordinates:b};function m(Mr,Er){return b[0]=Mr,b[1]=Er,C(S)}var a={Feature:function(Mr,Er){return x(Mr.geometry,Er)},FeatureCollection:function(Mr,Er){for(var Wr=Mr.features,Hr=-1,an=Wr.length;++Hr<an;)if(x(Wr[Hr].geometry,Er))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Mr,Er){return k(Mr.coordinates,Er)},MultiPoint:function(Mr,Er){for(var Wr=Mr.coordinates,Hr=-1,an=Wr.length;++Hr<an;)if(k(Wr[Hr],Er))return!0;return!1},LineString:function(Mr,Er){return I(Mr.coordinates,Er)},MultiLineString:function(Mr,Er){for(var Wr=Mr.coordinates,Hr=-1,an=Wr.length;++Hr<an;)if(I(Wr[Hr],Er))return!0;return!1},Polygon:function(Mr,Er){return N(Mr.coordinates,Er)},MultiPolygon:function(Mr,Er){for(var Wr=Mr.coordinates,Hr=-1,an=Wr.length;++Hr<an;)if(N(Wr[Hr],Er))return!0;return!1},GeometryCollection:function(Mr,Er){for(var Wr=Mr.geometries,Hr=-1,an=Wr.length;++Hr<an;)if(x(Wr[Hr],Er))return!0;return!1}};function x(Mr,Er){return Mr&&E.hasOwnProperty(Mr.type)?E[Mr.type](Mr,Er):!1}function k(Mr,Er){return m(Mr,Er)===0}function I(Mr,Er){for(var Wr,Hr,an,dn=0,gn=Mr.length;dn<gn;dn++){if(Hr=m(Mr[dn],Er),Hr===0||dn>0&&(an=m(Mr[dn],Mr[dn-1]),an>0&&Wr<=an&&Hr<=an&&(Wr+Hr-an)*(1-Math.pow((Wr-Hr)/an,2))<n.aW*an))return!0;Wr=Hr}return!1}function N(Mr,Er){return!!(0,t.Z)(Mr.map(F),z(Er))}function F(Mr){return Mr=Mr.map(z),Mr.pop(),Mr}function z(Mr){return[Mr[0]*n.uR,Mr[1]*n.uR]}function O(Mr,Er){return(Mr&&a.hasOwnProperty(Mr.type)?a[Mr.type]:x)(Mr,Er)}var _=e(33064);function B(Mr,Er,Wr){var Hr=(0,_.w6)(Mr,Er-n.Ho,Wr).concat(Er);return function(an){return Hr.map(function(dn){return[an,dn]})}}function W(Mr,Er,Wr){var Hr=(0,_.w6)(Mr,Er-n.Ho,Wr).concat(Er);return function(an){return Hr.map(function(dn){return[dn,an]})}}function $(){var Mr,Er,Wr,Hr,an,dn,gn,Cn,_n=10,sa=_n,Qn=90,ea=360,Zn,$n,Tr,on,rn=2.5;function pn(){return{type:"MultiLineString",coordinates:Wn()}}function Wn(){return(0,_.w6)((0,n.mD)(Hr/Qn)*Qn,Wr,Qn).map(Tr).concat((0,_.w6)((0,n.mD)(Cn/ea)*ea,gn,ea).map(on)).concat((0,_.w6)((0,n.mD)(Er/_n)*_n,Mr,_n).filter(function(An){return(0,n.Wn)(An%Qn)>n.Ho}).map(Zn)).concat((0,_.w6)((0,n.mD)(dn/sa)*sa,an,sa).filter(function(An){return(0,n.Wn)(An%ea)>n.Ho}).map($n))}return pn.lines=function(){return Wn().map(function(An){return{type:"LineString",coordinates:An}})},pn.outline=function(){return{type:"Polygon",coordinates:[Tr(Hr).concat(on(gn).slice(1),Tr(Wr).reverse().slice(1),on(Cn).reverse().slice(1))]}},pn.extent=function(An){return arguments.length?pn.extentMajor(An).extentMinor(An):pn.extentMinor()},pn.extentMajor=function(An){return arguments.length?(Hr=+An[0][0],Wr=+An[1][0],Cn=+An[0][1],gn=+An[1][1],Hr>Wr&&(An=Hr,Hr=Wr,Wr=An),Cn>gn&&(An=Cn,Cn=gn,gn=An),pn.precision(rn)):[[Hr,Cn],[Wr,gn]]},pn.extentMinor=function(An){return arguments.length?(Er=+An[0][0],Mr=+An[1][0],dn=+An[0][1],an=+An[1][1],Er>Mr&&(An=Er,Er=Mr,Mr=An),dn>an&&(An=dn,dn=an,an=An),pn.precision(rn)):[[Er,dn],[Mr,an]]},pn.step=function(An){return arguments.length?pn.stepMajor(An).stepMinor(An):pn.stepMinor()},pn.stepMajor=function(An){return arguments.length?(Qn=+An[0],ea=+An[1],pn):[Qn,ea]},pn.stepMinor=function(An){return arguments.length?(_n=+An[0],sa=+An[1],pn):[_n,sa]},pn.precision=function(An){return arguments.length?(rn=+An,Zn=B(dn,an,90),$n=W(Er,Mr,rn),Tr=B(Cn,gn,90),on=W(Hr,Wr,rn),pn):rn},pn.extentMajor([[-180,-90+n.Ho],[180,90-n.Ho]]).extentMinor([[-180,-80-n.Ho],[180,80+n.Ho]])}function te(){return $()()}var ie=e(83074),ue=e(8593),J=(0,i.Z)(),Y=(0,i.Z)(),ae,j,q,oe,Q={point:c.Z,lineStart:c.Z,lineEnd:c.Z,polygonStart:function(){Q.lineStart=X,Q.lineEnd=fe},polygonEnd:function(){Q.lineStart=Q.lineEnd=Q.point=c.Z,J.add((0,n.Wn)(Y)),Y.reset()},result:function(){var Mr=J/2;return J.reset(),Mr}};function X(){Q.point=se}function se(Mr,Er){Q.point=ne,ae=q=Mr,j=oe=Er}function ne(Mr,Er){Y.add(oe*Mr-q*Er),q=Mr,oe=Er}function fe(){ne(ae,j)}var ye=Q,Se=e(3559),we=0,_e=0,ke=0,Me=0,me=0,Ee=0,Be=0,Ue=0,De=0,He,nt,lt,$e,qe={point:ct,lineStart:dt,lineEnd:Rt,polygonStart:function(){qe.lineStart=Vt,qe.lineEnd=Je},polygonEnd:function(){qe.point=ct,qe.lineStart=dt,qe.lineEnd=Rt},result:function(){var Mr=De?[Be/De,Ue/De]:Ee?[Me/Ee,me/Ee]:ke?[we/ke,_e/ke]:[NaN,NaN];return we=_e=ke=Me=me=Ee=Be=Ue=De=0,Mr}};function ct(Mr,Er){we+=Mr,_e+=Er,++ke}function dt(){qe.point=gt}function gt(Mr,Er){qe.point=At,ct(lt=Mr,$e=Er)}function At(Mr,Er){var Wr=Mr-lt,Hr=Er-$e,an=(0,n._b)(Wr*Wr+Hr*Hr);Me+=an*(lt+Mr)/2,me+=an*($e+Er)/2,Ee+=an,ct(lt=Mr,$e=Er)}function Rt(){qe.point=ct}function Vt(){qe.point=Ve}function Je(){Ie(He,nt)}function Ve(Mr,Er){qe.point=Ie,ct(He=lt=Mr,nt=$e=Er)}function Ie(Mr,Er){var Wr=Mr-lt,Hr=Er-$e,an=(0,n._b)(Wr*Wr+Hr*Hr);Me+=an*(lt+Mr)/2,me+=an*($e+Er)/2,Ee+=an,an=$e*Mr-lt*Er,Be+=an*(lt+Mr),Ue+=an*($e+Er),De+=an*3,ct(lt=Mr,$e=Er)}var Oe=qe;function Le(Mr){this._context=Mr}Le.prototype={_radius:4.5,pointRadius:function(Mr){return this._radius=Mr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Mr,Er){switch(this._point){case 0:{this._context.moveTo(Mr,Er),this._point=1;break}case 1:{this._context.lineTo(Mr,Er);break}default:{this._context.moveTo(Mr+this._radius,Er),this._context.arc(Mr,Er,this._radius,0,n.BZ);break}}},result:c.Z};var xe=(0,i.Z)(),pe,Ae,Te,Ne,Ye,et={point:c.Z,lineStart:function(){et.point=ft},lineEnd:function(){pe&&pt(Ae,Te),et.point=c.Z},polygonStart:function(){pe=!0},polygonEnd:function(){pe=null},result:function(){var Mr=+xe;return xe.reset(),Mr}};function ft(Mr,Er){et.point=pt,Ae=Ne=Mr,Te=Ye=Er}function pt(Mr,Er){Ne-=Mr,Ye-=Er,xe.add((0,n._b)(Ne*Ne+Ye*Ye)),Ne=Mr,Ye=Er}var Yt=et;function Jt(){this._string=[]}Jt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(Mr){return(Mr=+Mr)!==this._radius&&(this._radius=Mr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Mr,Er){switch(this._point){case 0:{this._string.push("M",Mr,",",Er),this._point=1;break}case 1:{this._string.push("L",Mr,",",Er);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",Mr,",",Er,this._circle);break}}},result:function(){if(this._string.length){var Mr=this._string.join("");return this._string=[],Mr}else return null}};function Tt(Mr){return"m0,"+Mr+"a"+Mr+","+Mr+" 0 1,1 0,"+-2*Mr+"a"+Mr+","+Mr+" 0 1,1 0,"+2*Mr+"z"}function _t(Mr,Er){var Wr=4.5,Hr,an;function dn(gn){return gn&&(typeof Wr=="function"&&an.pointRadius(+Wr.apply(this,arguments)),(0,u.Z)(gn,Hr(an))),an.result()}return dn.area=function(gn){return(0,u.Z)(gn,Hr(ye)),ye.result()},dn.measure=function(gn){return(0,u.Z)(gn,Hr(Yt)),Yt.result()},dn.bounds=function(gn){return(0,u.Z)(gn,Hr(Se.Z)),Se.Z.result()},dn.centroid=function(gn){return(0,u.Z)(gn,Hr(Oe)),Oe.result()},dn.projection=function(gn){return arguments.length?(Hr=gn==null?(Mr=null,ue.Z):(Mr=gn).stream,dn):Mr},dn.context=function(gn){return arguments.length?(an=gn==null?(Er=null,new Jt):new Le(Er=gn),typeof Wr!="function"&&an.pointRadius(Wr),dn):Er},dn.pointRadius=function(gn){return arguments.length?(Wr=typeof gn=="function"?gn:(an.pointRadius(+gn),+gn),dn):Wr},dn.projection(Mr).context(Er)}var $t=e(15002);function wr(Mr){var Er=0,Wr=n.pi/3,Hr=(0,$t.r)(Mr),an=Hr(Er,Wr);return an.parallels=function(dn){return arguments.length?Hr(Er=dn[0]*n.uR,Wr=dn[1]*n.uR):[Er*n.RW,Wr*n.RW]},an}function yt(Mr){var Er=(0,n.mC)(Mr);function Wr(Hr,an){return[Hr*Er,(0,n.O$)(an)/Er]}return Wr.invert=function(Hr,an){return[Hr/Er,(0,n.ZR)(an*Er)]},Wr}function jt(Mr,Er){var Wr=(0,n.O$)(Mr),Hr=(Wr+(0,n.O$)(Er))/2;if((0,n.Wn)(Hr)<n.Ho)return yt(Mr);var an=1+Wr*(2*Hr-Wr),dn=(0,n._b)(an)/Hr;function gn(Cn,_n){var sa=(0,n._b)(an-2*Hr*(0,n.O$)(_n))/Hr;return[sa*(0,n.O$)(Cn*=Hr),dn-sa*(0,n.mC)(Cn)]}return gn.invert=function(Cn,_n){var sa=dn-_n,Qn=(0,n.fv)(Cn,(0,n.Wn)(sa))*(0,n.Xx)(sa);return sa*Hr<0&&(Qn-=n.pi*(0,n.Xx)(Cn)*(0,n.Xx)(sa)),[Qn/Hr,(0,n.ZR)((an-(Cn*Cn+sa*sa)*Hr*Hr)/(2*Hr))]},gn}function Qt(){return wr(jt).scale(155.424).center([0,33.6442])}function gr(){return Qt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var sr=e(47589);function vt(Mr){var Er=Mr.length;return{point:function(Wr,Hr){for(var an=-1;++an<Er;)Mr[an].point(Wr,Hr)},sphere:function(){for(var Wr=-1;++Wr<Er;)Mr[Wr].sphere()},lineStart:function(){for(var Wr=-1;++Wr<Er;)Mr[Wr].lineStart()},lineEnd:function(){for(var Wr=-1;++Wr<Er;)Mr[Wr].lineEnd()},polygonStart:function(){for(var Wr=-1;++Wr<Er;)Mr[Wr].polygonStart()},polygonEnd:function(){for(var Wr=-1;++Wr<Er;)Mr[Wr].polygonEnd()}}}function at(){var Mr,Er,Wr=gr(),Hr,an=Qt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),dn,gn=Qt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Cn,_n,sa={point:function(Zn,$n){_n=[Zn,$n]}};function Qn(Zn){var $n=Zn[0],Tr=Zn[1];return _n=null,Hr.point($n,Tr),_n||(dn.point($n,Tr),_n)||(Cn.point($n,Tr),_n)}Qn.invert=function(Zn){var $n=Wr.scale(),Tr=Wr.translate(),on=(Zn[0]-Tr[0])/$n,rn=(Zn[1]-Tr[1])/$n;return(rn>=.12&&rn<.234&&on>=-.425&&on<-.214?an:rn>=.166&&rn<.234&&on>=-.214&&on<-.115?gn:Wr).invert(Zn)},Qn.stream=function(Zn){return Mr&&Er===Zn?Mr:Mr=vt([Wr.stream(Er=Zn),an.stream(Zn),gn.stream(Zn)])},Qn.precision=function(Zn){return arguments.length?(Wr.precision(Zn),an.precision(Zn),gn.precision(Zn),ea()):Wr.precision()},Qn.scale=function(Zn){return arguments.length?(Wr.scale(Zn),an.scale(Zn*.35),gn.scale(Zn),Qn.translate(Wr.translate())):Wr.scale()},Qn.translate=function(Zn){if(!arguments.length)return Wr.translate();var $n=Wr.scale(),Tr=+Zn[0],on=+Zn[1];return Hr=Wr.translate(Zn).clipExtent([[Tr-.455*$n,on-.238*$n],[Tr+.455*$n,on+.238*$n]]).stream(sa),dn=an.translate([Tr-.307*$n,on+.201*$n]).clipExtent([[Tr-.425*$n+n.Ho,on+.12*$n+n.Ho],[Tr-.214*$n-n.Ho,on+.234*$n-n.Ho]]).stream(sa),Cn=gn.translate([Tr-.205*$n,on+.212*$n]).clipExtent([[Tr-.214*$n+n.Ho,on+.166*$n+n.Ho],[Tr-.115*$n-n.Ho,on+.234*$n-n.Ho]]).stream(sa),ea()},Qn.fitExtent=function(Zn,$n){return(0,sr.qg)(Qn,Zn,$n)},Qn.fitSize=function(Zn,$n){return(0,sr.mF)(Qn,Zn,$n)},Qn.fitWidth=function(Zn,$n){return(0,sr.V6)(Qn,Zn,$n)},Qn.fitHeight=function(Zn,$n){return(0,sr.rf)(Qn,Zn,$n)};function ea(){return Mr=Er=null,Qn}return Qn.scale(1070)}var xt=e(12956),Mt=e(17889),Dt=e(49386);function Lt(Mr,Er){return[Mr,(0,n.cM)((0,n.OR)((n.ou+Er)/2))]}Lt.invert=function(Mr,Er){return[Mr,2*(0,n.z4)((0,n.Qq)(Er))-n.ou]};function Bt(){return Nt(Lt).scale(961/n.BZ)}function Nt(Mr){var Er=(0,$t.Z)(Mr),Wr=Er.center,Hr=Er.scale,an=Er.translate,dn=Er.clipExtent,gn=null,Cn,_n,sa;Er.scale=function(ea){return arguments.length?(Hr(ea),Qn()):Hr()},Er.translate=function(ea){return arguments.length?(an(ea),Qn()):an()},Er.center=function(ea){return arguments.length?(Wr(ea),Qn()):Wr()},Er.clipExtent=function(ea){return arguments.length?(ea==null?gn=Cn=_n=sa=null:(gn=+ea[0][0],Cn=+ea[0][1],_n=+ea[1][0],sa=+ea[1][1]),Qn()):gn==null?null:[[gn,Cn],[_n,sa]]};function Qn(){var ea=n.pi*Hr(),Zn=Er((0,Dt.Z)(Er.rotate()).invert([0,0]));return dn(gn==null?[[Zn[0]-ea,Zn[1]-ea],[Zn[0]+ea,Zn[1]+ea]]:Mr===Lt?[[Math.max(Zn[0]-ea,gn),Cn],[Math.min(Zn[0]+ea,_n),sa]]:[[gn,Math.max(Zn[1]-ea,Cn)],[_n,Math.min(Zn[1]+ea,sa)]])}return Qn()}function Xt(Mr){return(0,n.OR)((n.ou+Mr)/2)}function lr(Mr,Er){var Wr=(0,n.mC)(Mr),Hr=Mr===Er?(0,n.O$)(Mr):(0,n.cM)(Wr/(0,n.mC)(Er))/(0,n.cM)(Xt(Er)/Xt(Mr)),an=Wr*(0,n.sQ)(Xt(Mr),Hr)/Hr;if(!Hr)return Lt;function dn(gn,Cn){an>0?Cn<-n.ou+n.Ho&&(Cn=-n.ou+n.Ho):Cn>n.ou-n.Ho&&(Cn=n.ou-n.Ho);var _n=an/(0,n.sQ)(Xt(Cn),Hr);return[_n*(0,n.O$)(Hr*gn),an-_n*(0,n.mC)(Hr*gn)]}return dn.invert=function(gn,Cn){var _n=an-Cn,sa=(0,n.Xx)(Hr)*(0,n._b)(gn*gn+_n*_n),Qn=(0,n.fv)(gn,(0,n.Wn)(_n))*(0,n.Xx)(_n);return _n*Hr<0&&(Qn-=n.pi*(0,n.Xx)(gn)*(0,n.Xx)(_n)),[Qn/Hr,2*(0,n.z4)((0,n.sQ)(an/sa,1/Hr))-n.ou]},dn}function fr(){return wr(lr).scale(109.5).parallels([30,30])}var hr=e(97492);function We(Mr,Er){var Wr=(0,n.mC)(Mr),Hr=Mr===Er?(0,n.O$)(Mr):(Wr-(0,n.mC)(Er))/(Er-Mr),an=Wr/Hr+Mr;if((0,n.Wn)(Hr)<n.Ho)return hr.k;function dn(gn,Cn){var _n=an-Cn,sa=Hr*gn;return[_n*(0,n.O$)(sa),an-_n*(0,n.mC)(sa)]}return dn.invert=function(gn,Cn){var _n=an-Cn,sa=(0,n.fv)(gn,(0,n.Wn)(_n))*(0,n.Xx)(_n);return _n*Hr<0&&(sa-=n.pi*(0,n.Xx)(gn)*(0,n.Xx)(_n)),[sa/Hr,an-(0,n.Xx)(Hr)*(0,n._b)(gn*gn+_n*_n)]},dn}function Ge(){return wr(We).scale(131.154).center([0,13.9389])}var kt=1.340264,It=-.081106,Zt=893e-6,rr=.003796,ur=(0,n._b)(3)/2,er=12;function zt(Mr,Er){var Wr=(0,n.ZR)(ur*(0,n.O$)(Er)),Hr=Wr*Wr,an=Hr*Hr*Hr;return[Mr*(0,n.mC)(Wr)/(ur*(kt+3*It*Hr+an*(7*Zt+9*rr*Hr))),Wr*(kt+It*Hr+an*(Zt+rr*Hr))]}zt.invert=function(Mr,Er){for(var Wr=Er,Hr=Wr*Wr,an=Hr*Hr*Hr,dn=0,gn,Cn,_n;dn<er&&(Cn=Wr*(kt+It*Hr+an*(Zt+rr*Hr))-Er,_n=kt+3*It*Hr+an*(7*Zt+9*rr*Hr),Wr-=gn=Cn/_n,Hr=Wr*Wr,an=Hr*Hr*Hr,!((0,n.Wn)(gn)<n.aW));++dn);return[ur*Mr*(kt+3*It*Hr+an*(7*Zt+9*rr*Hr))/(0,n.mC)(Wr),(0,n.ZR)((0,n.O$)(Wr)/ur)]};function vr(){return(0,$t.Z)(zt).scale(177.158)}var yr=e(98936),pr=e(64684);function cr(){var Mr=1,Er=0,Wr=0,Hr=1,an=1,dn=0,gn,Cn,_n=null,sa,Qn,ea,Zn=1,$n=1,Tr=(0,pr.l)({point:function(Sn,Hn){var ta=An([Sn,Hn]);this.stream.point(ta[0],ta[1])}}),on=ue.Z,rn,pn;function Wn(){return Zn=Mr*Hr,$n=Mr*an,rn=pn=null,An}function An(Sn){var Hn=Sn[0]*Zn,ta=Sn[1]*$n;if(dn){var wa=ta*gn-Hn*Cn;Hn=Hn*gn+ta*Cn,ta=wa}return[Hn+Er,ta+Wr]}return An.invert=function(Sn){var Hn=Sn[0]-Er,ta=Sn[1]-Wr;if(dn){var wa=ta*gn+Hn*Cn;Hn=Hn*gn-ta*Cn,ta=wa}return[Hn/Zn,ta/$n]},An.stream=function(Sn){return rn&&pn===Sn?rn:rn=Tr(on(pn=Sn))},An.postclip=function(Sn){return arguments.length?(on=Sn,_n=sa=Qn=ea=null,Wn()):on},An.clipExtent=function(Sn){return arguments.length?(on=Sn==null?(_n=sa=Qn=ea=null,ue.Z):(0,p.Z)(_n=+Sn[0][0],sa=+Sn[0][1],Qn=+Sn[1][0],ea=+Sn[1][1]),Wn()):_n==null?null:[[_n,sa],[Qn,ea]]},An.scale=function(Sn){return arguments.length?(Mr=+Sn,Wn()):Mr},An.translate=function(Sn){return arguments.length?(Er=+Sn[0],Wr=+Sn[1],Wn()):[Er,Wr]},An.angle=function(Sn){return arguments.length?(dn=Sn%360*n.uR,Cn=(0,n.O$)(dn),gn=(0,n.mC)(dn),Wn()):dn*n.RW},An.reflectX=function(Sn){return arguments.length?(Hr=Sn?-1:1,Wn()):Hr<0},An.reflectY=function(Sn){return arguments.length?(an=Sn?-1:1,Wn()):an<0},An.fitExtent=function(Sn,Hn){return(0,sr.qg)(An,Sn,Hn)},An.fitSize=function(Sn,Hn){return(0,sr.mF)(An,Sn,Hn)},An.fitWidth=function(Sn,Hn){return(0,sr.V6)(An,Sn,Hn)},An.fitHeight=function(Sn,Hn){return(0,sr.rf)(An,Sn,Hn)},An}var Ur=e(26867),kr=e(57962),Rr=e(25382);function vn(Mr,Er){var Wr=(0,n.mC)(Er),Hr=1+(0,n.mC)(Mr)*Wr;return[Wr*(0,n.O$)(Mr)/Hr,(0,n.O$)(Er)/Hr]}vn.invert=(0,Rr.O)(function(Mr){return 2*(0,n.z4)(Mr)});function tn(){return(0,$t.Z)(vn).scale(250).clipAngle(142)}function Bn(Mr,Er){return[(0,n.cM)((0,n.OR)((n.ou+Er)/2)),-Mr]}Bn.invert=function(Mr,Er){return[-Er,2*(0,n.z4)((0,n.Qq)(Mr))-n.ou]};function xn(){var Mr=Nt(Bn),Er=Mr.center,Wr=Mr.rotate;return Mr.center=function(Hr){return arguments.length?Er([-Hr[1],Hr[0]]):(Hr=Er(),[Hr[1],-Hr[0]])},Mr.rotate=function(Hr){return arguments.length?Wr([Hr[0],Hr[1],Hr.length>2?Hr[2]+90:90]):(Hr=Wr(),[Hr[0],Hr[1],Hr[2]-90])},Wr([0,0,90]).scale(159.155)}},83074:function(G,V,e){e.d(V,{Z:function(){return P}});var y=e(39695);function P(o,L){var M=o[0]*y.uR,v=o[1]*y.uR,p=L[0]*y.uR,r=L[1]*y.uR,t=(0,y.mC)(v),i=(0,y.O$)(v),n=(0,y.mC)(r),c=(0,y.O$)(r),u=t*(0,y.mC)(M),l=t*(0,y.O$)(M),g=n*(0,y.mC)(p),f=n*(0,y.O$)(p),T=2*(0,y.ZR)((0,y._b)((0,y.Jy)(r-v)+t*n*(0,y.Jy)(p-M))),h=(0,y.O$)(T),s=T?function(d){var A=(0,y.O$)(d*=T)/h,w=(0,y.O$)(T-d)/h,C=w*u+A*g,b=w*l+A*f,S=w*i+A*c;return[(0,y.fv)(b,C)*y.RW,(0,y.fv)(S,(0,y._b)(C*C+b*b))*y.RW]}:function(){return[M*y.RW,v*y.RW]};return s.distance=T,s}},39695:function(G,V,e){e.d(V,{BZ:function(){return v},Ho:function(){return y},Jy:function(){return C},Kh:function(){return A},O$:function(){return T},OR:function(){return d},Qq:function(){return l},RW:function(){return p},Wn:function(){return t},Xx:function(){return h},ZR:function(){return w},_b:function(){return s},aW:function(){return P},cM:function(){return g},fv:function(){return n},mC:function(){return c},mD:function(){return u},ou:function(){return L},pi:function(){return o},pu:function(){return M},sQ:function(){return f},uR:function(){return r},z4:function(){return i}});var y=1e-6,P=1e-12,o=Math.PI,L=o/2,M=o/4,v=o*2,p=180/o,r=o/180,t=Math.abs,i=Math.atan,n=Math.atan2,c=Math.cos,u=Math.ceil,l=Math.exp,g=Math.log,f=Math.pow,T=Math.sin,h=Math.sign||function(b){return b>0?1:b<0?-1:0},s=Math.sqrt,d=Math.tan;function A(b){return b>1?0:b<-1?o:Math.acos(b)}function w(b){return b>1?L:b<-1?-L:Math.asin(b)}function C(b){return(b=T(b/2))*b}},73182:function(G,V,e){e.d(V,{Z:function(){return y}});function y(){}},3559:function(G,V,e){var y=e(73182),P=1/0,o=P,L=-P,M=L,v={point:p,lineStart:y.Z,lineEnd:y.Z,polygonStart:y.Z,polygonEnd:y.Z,result:function(){var r=[[P,o],[L,M]];return L=M=-(o=P=1/0),r}};function p(r,t){r<P&&(P=r),r>L&&(L=r),t<o&&(o=t),t>M&&(M=t)}V.Z=v},67108:function(G,V,e){e.d(V,{Z:function(){return P}});var y=e(39695);function P(o,L){return(0,y.Wn)(o[0]-L[0])<y.Ho&&(0,y.Wn)(o[1]-L[1])<y.Ho}},23071:function(G,V,e){e.d(V,{Z:function(){return v}});var y=e(33940),P=e(7620),o=e(39695),L=(0,y.Z)();function M(p){return(0,o.Wn)(p[0])<=o.pi?p[0]:(0,o.Xx)(p[0])*(((0,o.Wn)(p[0])+o.pi)%o.BZ-o.pi)}function v(p,r){var t=M(r),i=r[1],n=(0,o.O$)(i),c=[(0,o.O$)(t),-(0,o.mC)(t),0],u=0,l=0;L.reset(),n===1?i=o.ou+o.Ho:n===-1&&(i=-o.ou-o.Ho);for(var g=0,f=p.length;g<f;++g)if(h=(T=p[g]).length)for(var T,h,s=T[h-1],d=M(s),A=s[1]/2+o.pu,w=(0,o.O$)(A),C=(0,o.mC)(A),b=0;b<h;++b,d=m,w=E,C=x,s=S){var S=T[b],m=M(S),a=S[1]/2+o.pu,E=(0,o.O$)(a),x=(0,o.mC)(a),k=m-d,I=k>=0?1:-1,N=I*k,F=N>o.pi,z=w*E;if(L.add((0,o.fv)(z*I*(0,o.O$)(N),C*x+z*(0,o.mC)(N))),u+=F?k+I*o.BZ:k,F^d>=t^m>=t){var O=(0,P.T5)((0,P.Og)(s),(0,P.Og)(S));(0,P.iJ)(O);var _=(0,P.T5)(c,O);(0,P.iJ)(_);var B=(F^k>=0?-1:1)*(0,o.ZR)(_[2]);(i>B||i===B&&(O[0]||O[1]))&&(l+=F^k>=0?1:-1)}}return(u<-o.Ho||u<o.Ho&&L<-o.Ho)^l&1}},25382:function(G,V,e){e.d(V,{O:function(){return o},W:function(){return P}});var y=e(39695);function P(L){return function(M,v){var p=(0,y.mC)(M),r=(0,y.mC)(v),t=L(p*r);return[t*r*(0,y.O$)(M),t*(0,y.O$)(v)]}}function o(L){return function(M,v){var p=(0,y._b)(M*M+v*v),r=L(p),t=(0,y.O$)(r),i=(0,y.mC)(r);return[(0,y.fv)(M*t,p*i),(0,y.ZR)(p&&v*t/p)]}}},12956:function(G,V,e){e.d(V,{Z:function(){return M},l:function(){return L}});var y=e(39695),P=e(25382),o=e(15002),L=(0,P.W)(function(v){return(0,y._b)(2/(1+v))});L.invert=(0,P.O)(function(v){return 2*(0,y.ZR)(v/2)});function M(){return(0,o.Z)(L).scale(124.75).clipAngle(179.999)}},17889:function(G,V,e){e.d(V,{N:function(){return L},Z:function(){return M}});var y=e(39695),P=e(25382),o=e(15002),L=(0,P.W)(function(v){return(v=(0,y.Kh)(v))&&v/(0,y.O$)(v)});L.invert=(0,P.O)(function(v){return v});function M(){return(0,o.Z)(L).scale(79.4188).clipAngle(179.999)}},97492:function(G,V,e){e.d(V,{Z:function(){return o},k:function(){return P}});var y=e(15002);function P(L,M){return[L,M]}P.invert=P;function o(){return(0,y.Z)(P).scale(152.63)}},47589:function(G,V,e){e.d(V,{V6:function(){return v},mF:function(){return M},qg:function(){return L},rf:function(){return p}});var y=e(72736),P=e(3559);function o(r,t,i){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,y.Z)(i,r.stream(P.Z)),t(P.Z.result()),n!=null&&r.clipExtent(n),r}function L(r,t,i){return o(r,function(n){var c=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(c/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),g=+t[0][0]+(c-l*(n[1][0]+n[0][0]))/2,f=+t[0][1]+(u-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([g,f])},i)}function M(r,t,i){return L(r,[[0,0],t],i)}function v(r,t,i){return o(r,function(n){var c=+t,u=c/(n[1][0]-n[0][0]),l=(c-u*(n[1][0]+n[0][0]))/2,g=-u*n[0][1];r.scale(150*u).translate([l,g])},i)}function p(r,t,i){return o(r,function(n){var c=+t,u=c/(n[1][1]-n[0][1]),l=-u*n[0][0],g=(c-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([l,g])},i)}},98936:function(G,V,e){e.d(V,{M:function(){return L},Z:function(){return M}});var y=e(39695),P=e(25382),o=e(15002);function L(v,p){var r=(0,y.mC)(p),t=(0,y.mC)(v)*r;return[r*(0,y.O$)(v)/t,(0,y.O$)(p)/t]}L.invert=(0,P.O)(y.z4);function M(){return(0,o.Z)(L).scale(144.049).clipAngle(60)}},15002:function(G,V,e){e.d(V,{Z:function(){return d},r:function(){return A}});var y=e(87070),P=e(1457),o=e(87605),L=e(96059),M=e(8593),v=e(39695),p=e(49386),r=e(64684),t=e(47589),i=e(7620),n=16,c=(0,v.mC)(30*v.uR);function u(w,C){return+C?g(w,C):l(w)}function l(w){return(0,r.l)({point:function(C,b){C=w(C,b),this.stream.point(C[0],C[1])}})}function g(w,C){function b(S,m,a,E,x,k,I,N,F,z,O,_,B,W){var $=I-S,te=N-m,ie=$*$+te*te;if(ie>4*C&&B--){var ue=E+z,J=x+O,Y=k+_,ae=(0,v._b)(ue*ue+J*J+Y*Y),j=(0,v.ZR)(Y/=ae),q=(0,v.Wn)((0,v.Wn)(Y)-1)<v.Ho||(0,v.Wn)(a-F)<v.Ho?(a+F)/2:(0,v.fv)(J,ue),oe=w(q,j),Q=oe[0],X=oe[1],se=Q-S,ne=X-m,fe=te*se-$*ne;(fe*fe/ie>C||(0,v.Wn)(($*se+te*ne)/ie-.5)>.3||E*z+x*O+k*_<c)&&(b(S,m,a,E,x,k,Q,X,q,ue/=ae,J/=ae,Y,B,W),W.point(Q,X),b(Q,X,q,ue,J,Y,I,N,F,z,O,_,B,W))}}return function(S){var m,a,E,x,k,I,N,F,z,O,_,B,W={point:$,lineStart:te,lineEnd:ue,polygonStart:function(){S.polygonStart(),W.lineStart=J},polygonEnd:function(){S.polygonEnd(),W.lineStart=te}};function $(j,q){j=w(j,q),S.point(j[0],j[1])}function te(){F=NaN,W.point=ie,S.lineStart()}function ie(j,q){var oe=(0,i.Og)([j,q]),Q=w(j,q);b(F,z,N,O,_,B,F=Q[0],z=Q[1],N=j,O=oe[0],_=oe[1],B=oe[2],n,S),S.point(F,z)}function ue(){W.point=$,S.lineEnd()}function J(){te(),W.point=Y,W.lineEnd=ae}function Y(j,q){ie(m=j,q),a=F,E=z,x=O,k=_,I=B,W.point=ie}function ae(){b(F,z,N,O,_,B,a,E,m,x,k,I,n,S),W.lineEnd=ue,ue()}return W}}var f=(0,r.l)({point:function(w,C){this.stream.point(w*v.uR,C*v.uR)}});function T(w){return(0,r.l)({point:function(C,b){var S=w(C,b);return this.stream.point(S[0],S[1])}})}function h(w,C,b,S,m){function a(E,x){return E*=S,x*=m,[C+w*E,b-w*x]}return a.invert=function(E,x){return[(E-C)/w*S,(b-x)/w*m]},a}function s(w,C,b,S,m,a){var E=(0,v.mC)(a),x=(0,v.O$)(a),k=E*w,I=x*w,N=E/w,F=x/w,z=(x*b-E*C)/w,O=(x*C+E*b)/w;function _(B,W){return B*=S,W*=m,[k*B-I*W+C,b-I*B-k*W]}return _.invert=function(B,W){return[S*(N*B-F*W+z),m*(O-F*B-N*W)]},_}function d(w){return A(function(){return w})()}function A(w){var C,b=150,S=480,m=250,a=0,E=0,x=0,k=0,I=0,N,F=0,z=1,O=1,_=null,B=y.Z,W=null,$,te,ie,ue=M.Z,J=.5,Y,ae,j,q,oe;function Q(fe){return j(fe[0]*v.uR,fe[1]*v.uR)}function X(fe){return fe=j.invert(fe[0],fe[1]),fe&&[fe[0]*v.RW,fe[1]*v.RW]}Q.stream=function(fe){return q&&oe===fe?q:q=f(T(N)(B(Y(ue(oe=fe)))))},Q.preclip=function(fe){return arguments.length?(B=fe,_=void 0,ne()):B},Q.postclip=function(fe){return arguments.length?(ue=fe,W=$=te=ie=null,ne()):ue},Q.clipAngle=function(fe){return arguments.length?(B=+fe?(0,P.Z)(_=fe*v.uR):(_=null,y.Z),ne()):_*v.RW},Q.clipExtent=function(fe){return arguments.length?(ue=fe==null?(W=$=te=ie=null,M.Z):(0,o.Z)(W=+fe[0][0],$=+fe[0][1],te=+fe[1][0],ie=+fe[1][1]),ne()):W==null?null:[[W,$],[te,ie]]},Q.scale=function(fe){return arguments.length?(b=+fe,se()):b},Q.translate=function(fe){return arguments.length?(S=+fe[0],m=+fe[1],se()):[S,m]},Q.center=function(fe){return arguments.length?(a=fe[0]%360*v.uR,E=fe[1]%360*v.uR,se()):[a*v.RW,E*v.RW]},Q.rotate=function(fe){return arguments.length?(x=fe[0]%360*v.uR,k=fe[1]%360*v.uR,I=fe.length>2?fe[2]%360*v.uR:0,se()):[x*v.RW,k*v.RW,I*v.RW]},Q.angle=function(fe){return arguments.length?(F=fe%360*v.uR,se()):F*v.RW},Q.reflectX=function(fe){return arguments.length?(z=fe?-1:1,se()):z<0},Q.reflectY=function(fe){return arguments.length?(O=fe?-1:1,se()):O<0},Q.precision=function(fe){return arguments.length?(Y=u(ae,J=fe*fe),ne()):(0,v._b)(J)},Q.fitExtent=function(fe,ye){return(0,t.qg)(Q,fe,ye)},Q.fitSize=function(fe,ye){return(0,t.mF)(Q,fe,ye)},Q.fitWidth=function(fe,ye){return(0,t.V6)(Q,fe,ye)},Q.fitHeight=function(fe,ye){return(0,t.rf)(Q,fe,ye)};function se(){var fe=s(b,0,0,z,O,F).apply(null,C(a,E)),ye=(F?s:h)(b,S-fe[0],m-fe[1],z,O,F);return N=(0,p.I)(x,k,I),ae=(0,L.Z)(C,ye),j=(0,L.Z)(N,ae),Y=u(ae,J),ne()}function ne(){return q=oe=null,Q}return function(){return C=w.apply(this,arguments),Q.invert=C.invert&&X,se()}}},26867:function(G,V,e){e.d(V,{K:function(){return o},Z:function(){return L}});var y=e(15002),P=e(39695);function o(M,v){var p=v*v,r=p*p;return[M*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}o.invert=function(M,v){var p=v,r=25,t;do{var i=p*p,n=i*i;p-=t=(p*(1.007226+i*(.015085+n*(-.044475+.028874*i-.005916*n)))-v)/(1.007226+i*(.045255+n*(-.311325+.259866*i-.06507600000000001*n)))}while((0,P.Wn)(t)>P.Ho&&--r>0);return[M/(.8707+(i=p*p)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),p]};function L(){return(0,y.Z)(o).scale(175.295)}},57962:function(G,V,e){e.d(V,{I:function(){return L},Z:function(){return M}});var y=e(39695),P=e(25382),o=e(15002);function L(v,p){return[(0,y.mC)(p)*(0,y.O$)(v),(0,y.O$)(p)]}L.invert=(0,P.O)(y.ZR);function M(){return(0,o.Z)(L).scale(249.5).clipAngle(90+y.Ho)}},49386:function(G,V,e){e.d(V,{I:function(){return L},Z:function(){return r}});var y=e(96059),P=e(39695);function o(t,i){return[(0,P.Wn)(t)>P.pi?t+Math.round(-t/P.BZ)*P.BZ:t,i]}o.invert=o;function L(t,i,n){return(t%=P.BZ)?i||n?(0,y.Z)(v(t),p(i,n)):v(t):i||n?p(i,n):o}function M(t){return function(i,n){return i+=t,[i>P.pi?i-P.BZ:i<-P.pi?i+P.BZ:i,n]}}function v(t){var i=M(t);return i.invert=M(-t),i}function p(t,i){var n=(0,P.mC)(t),c=(0,P.O$)(t),u=(0,P.mC)(i),l=(0,P.O$)(i);function g(f,T){var h=(0,P.mC)(T),s=(0,P.mC)(f)*h,d=(0,P.O$)(f)*h,A=(0,P.O$)(T),w=A*n+s*c;return[(0,P.fv)(d*u-w*l,s*n-A*c),(0,P.ZR)(w*u+d*l)]}return g.invert=function(f,T){var h=(0,P.mC)(T),s=(0,P.mC)(f)*h,d=(0,P.O$)(f)*h,A=(0,P.O$)(T),w=A*u-d*l;return[(0,P.fv)(d*u+A*l,s*n+w*c),(0,P.ZR)(w*n-s*c)]},g}function r(t){t=L(t[0]*P.uR,t[1]*P.uR,t.length>2?t[2]*P.uR:0);function i(n){return n=t(n[0]*P.uR,n[1]*P.uR),n[0]*=P.RW,n[1]*=P.RW,n}return i.invert=function(n){return n=t.invert(n[0]*P.uR,n[1]*P.uR),n[0]*=P.RW,n[1]*=P.RW,n},i}},72736:function(G,V,e){e.d(V,{Z:function(){return v}});function y(p,r){p&&o.hasOwnProperty(p.type)&&o[p.type](p,r)}var P={Feature:function(p,r){y(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,i=-1,n=t.length;++i<n;)y(t[i].geometry,r)}},o={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)p=t[i],r.point(p[0],p[1],p[2])},LineString:function(p,r){L(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)L(t[i],r,0)},Polygon:function(p,r){M(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,i=-1,n=t.length;++i<n;)M(t[i],r)},GeometryCollection:function(p,r){for(var t=p.geometries,i=-1,n=t.length;++i<n;)y(t[i],r)}};function L(p,r,t){var i=-1,n=p.length-t,c;for(r.lineStart();++i<n;)c=p[i],r.point(c[0],c[1],c[2]);r.lineEnd()}function M(p,r){var t=-1,i=p.length;for(r.polygonStart();++t<i;)L(p[t],r,1);r.polygonEnd()}function v(p,r){p&&P.hasOwnProperty(p.type)?P[p.type](p,r):y(p,r)}},64684:function(G,V,e){e.d(V,{Z:function(){return y},l:function(){return P}});function y(L){return{stream:P(L)}}function P(L){return function(M){var v=new o;for(var p in L)v[p]=L[p];return v.stream=M,v}}function o(){}o.prototype={constructor:o,point:function(L,M){this.stream.point(L,M)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(G,V,e){e.r(V),e.d(V,{cluster:function(){return r},hierarchy:function(){return w},pack:function(){return X},packEnclose:function(){return k},packSiblings:function(){return Y},partition:function(){return we},stratify:function(){return Be},tree:function(){return dt},treemap:function(){return Je},treemapBinary:function(){return Ve},treemapDice:function(){return Se},treemapResquarify:function(){return Oe},treemapSlice:function(){return gt},treemapSliceDice:function(){return Ie},treemapSquarify:function(){return Vt}});function y(Le,xe){return Le.parent===xe.parent?1:2}function P(Le){return Le.reduce(o,0)/Le.length}function o(Le,xe){return Le+xe.x}function L(Le){return 1+Le.reduce(M,0)}function M(Le,xe){return Math.max(Le,xe.y)}function v(Le){for(var xe;xe=Le.children;)Le=xe[0];return Le}function p(Le){for(var xe;xe=Le.children;)Le=xe[xe.length-1];return Le}function r(){var Le=y,xe=1,pe=1,Ae=!1;function Te(Ne){var Ye,et=0;Ne.eachAfter(function(Tt){var _t=Tt.children;_t?(Tt.x=P(_t),Tt.y=L(_t)):(Tt.x=Ye?et+=Le(Tt,Ye):0,Tt.y=0,Ye=Tt)});var ft=v(Ne),pt=p(Ne),Yt=ft.x-Le(ft,pt)/2,Jt=pt.x+Le(pt,ft)/2;return Ne.eachAfter(Ae?function(Tt){Tt.x=(Tt.x-Ne.x)*xe,Tt.y=(Ne.y-Tt.y)*pe}:function(Tt){Tt.x=(Tt.x-Yt)/(Jt-Yt)*xe,Tt.y=(1-(Ne.y?Tt.y/Ne.y:1))*pe})}return Te.separation=function(Ne){return arguments.length?(Le=Ne,Te):Le},Te.size=function(Ne){return arguments.length?(Ae=!1,xe=+Ne[0],pe=+Ne[1],Te):Ae?null:[xe,pe]},Te.nodeSize=function(Ne){return arguments.length?(Ae=!0,xe=+Ne[0],pe=+Ne[1],Te):Ae?[xe,pe]:null},Te}function t(Le){var xe=0,pe=Le.children,Ae=pe&&pe.length;if(!Ae)xe=1;else for(;--Ae>=0;)xe+=pe[Ae].value;Le.value=xe}function i(){return this.eachAfter(t)}function n(Le){var xe=this,pe,Ae=[xe],Te,Ne,Ye;do for(pe=Ae.reverse(),Ae=[];xe=pe.pop();)if(Le(xe),Te=xe.children,Te)for(Ne=0,Ye=Te.length;Ne<Ye;++Ne)Ae.push(Te[Ne]);while(Ae.length);return this}function c(Le){for(var xe=this,pe=[xe],Ae,Te;xe=pe.pop();)if(Le(xe),Ae=xe.children,Ae)for(Te=Ae.length-1;Te>=0;--Te)pe.push(Ae[Te]);return this}function u(Le){for(var xe=this,pe=[xe],Ae=[],Te,Ne,Ye;xe=pe.pop();)if(Ae.push(xe),Te=xe.children,Te)for(Ne=0,Ye=Te.length;Ne<Ye;++Ne)pe.push(Te[Ne]);for(;xe=Ae.pop();)Le(xe);return this}function l(Le){return this.eachAfter(function(xe){for(var pe=+Le(xe.data)||0,Ae=xe.children,Te=Ae&&Ae.length;--Te>=0;)pe+=Ae[Te].value;xe.value=pe})}function g(Le){return this.eachBefore(function(xe){xe.children&&xe.children.sort(Le)})}function f(Le){for(var xe=this,pe=T(xe,Le),Ae=[xe];xe!==pe;)xe=xe.parent,Ae.push(xe);for(var Te=Ae.length;Le!==pe;)Ae.splice(Te,0,Le),Le=Le.parent;return Ae}function T(Le,xe){if(Le===xe)return Le;var pe=Le.ancestors(),Ae=xe.ancestors(),Te=null;for(Le=pe.pop(),xe=Ae.pop();Le===xe;)Te=Le,Le=pe.pop(),xe=Ae.pop();return Te}function h(){for(var Le=this,xe=[Le];Le=Le.parent;)xe.push(Le);return xe}function s(){var Le=[];return this.each(function(xe){Le.push(xe)}),Le}function d(){var Le=[];return this.eachBefore(function(xe){xe.children||Le.push(xe)}),Le}function A(){var Le=this,xe=[];return Le.each(function(pe){pe!==Le&&xe.push({source:pe.parent,target:pe})}),xe}function w(Le,xe){var pe=new a(Le),Ae=+Le.value&&(pe.value=Le.value),Te,Ne=[pe],Ye,et,ft,pt;for(xe==null&&(xe=b);Te=Ne.pop();)if(Ae&&(Te.value=+Te.data.value),(et=xe(Te.data))&&(pt=et.length))for(Te.children=new Array(pt),ft=pt-1;ft>=0;--ft)Ne.push(Ye=Te.children[ft]=new a(et[ft])),Ye.parent=Te,Ye.depth=Te.depth+1;return pe.eachBefore(m)}function C(){return w(this).eachBefore(S)}function b(Le){return Le.children}function S(Le){Le.data=Le.data.data}function m(Le){var xe=0;do Le.height=xe;while((Le=Le.parent)&&Le.height<++xe)}function a(Le){this.data=Le,this.depth=this.height=0,this.parent=null}a.prototype=w.prototype={constructor:a,count:i,each:n,eachAfter:u,eachBefore:c,sum:l,sort:g,path:f,ancestors:h,descendants:s,leaves:d,links:A,copy:C};var E=Array.prototype.slice;function x(Le){for(var xe=Le.length,pe,Ae;xe;)Ae=Math.random()*xe--|0,pe=Le[xe],Le[xe]=Le[Ae],Le[Ae]=pe;return Le}function k(Le){for(var xe=0,pe=(Le=x(E.call(Le))).length,Ae=[],Te,Ne;xe<pe;)Te=Le[xe],Ne&&F(Ne,Te)?++xe:(Ne=O(Ae=I(Ae,Te)),xe=0);return Ne}function I(Le,xe){var pe,Ae;if(z(xe,Le))return[xe];for(pe=0;pe<Le.length;++pe)if(N(xe,Le[pe])&&z(B(Le[pe],xe),Le))return[Le[pe],xe];for(pe=0;pe<Le.length-1;++pe)for(Ae=pe+1;Ae<Le.length;++Ae)if(N(B(Le[pe],Le[Ae]),xe)&&N(B(Le[pe],xe),Le[Ae])&&N(B(Le[Ae],xe),Le[pe])&&z(W(Le[pe],Le[Ae],xe),Le))return[Le[pe],Le[Ae],xe];throw new Error}function N(Le,xe){var pe=Le.r-xe.r,Ae=xe.x-Le.x,Te=xe.y-Le.y;return pe<0||pe*pe<Ae*Ae+Te*Te}function F(Le,xe){var pe=Le.r-xe.r+1e-6,Ae=xe.x-Le.x,Te=xe.y-Le.y;return pe>0&&pe*pe>Ae*Ae+Te*Te}function z(Le,xe){for(var pe=0;pe<xe.length;++pe)if(!F(Le,xe[pe]))return!1;return!0}function O(Le){switch(Le.length){case 1:return _(Le[0]);case 2:return B(Le[0],Le[1]);case 3:return W(Le[0],Le[1],Le[2])}}function _(Le){return{x:Le.x,y:Le.y,r:Le.r}}function B(Le,xe){var pe=Le.x,Ae=Le.y,Te=Le.r,Ne=xe.x,Ye=xe.y,et=xe.r,ft=Ne-pe,pt=Ye-Ae,Yt=et-Te,Jt=Math.sqrt(ft*ft+pt*pt);return{x:(pe+Ne+ft/Jt*Yt)/2,y:(Ae+Ye+pt/Jt*Yt)/2,r:(Jt+Te+et)/2}}function W(Le,xe,pe){var Ae=Le.x,Te=Le.y,Ne=Le.r,Ye=xe.x,et=xe.y,ft=xe.r,pt=pe.x,Yt=pe.y,Jt=pe.r,Tt=Ae-Ye,_t=Ae-pt,$t=Te-et,wr=Te-Yt,yt=ft-Ne,jt=Jt-Ne,Qt=Ae*Ae+Te*Te-Ne*Ne,gr=Qt-Ye*Ye-et*et+ft*ft,sr=Qt-pt*pt-Yt*Yt+Jt*Jt,vt=_t*$t-Tt*wr,at=($t*sr-wr*gr)/(vt*2)-Ae,xt=(wr*yt-$t*jt)/vt,Mt=(_t*gr-Tt*sr)/(vt*2)-Te,Dt=(Tt*jt-_t*yt)/vt,Lt=xt*xt+Dt*Dt-1,Bt=2*(Ne+at*xt+Mt*Dt),Nt=at*at+Mt*Mt-Ne*Ne,Xt=-(Lt?(Bt+Math.sqrt(Bt*Bt-4*Lt*Nt))/(2*Lt):Nt/Bt);return{x:Ae+at+xt*Xt,y:Te+Mt+Dt*Xt,r:Xt}}function $(Le,xe,pe){var Ae=Le.x-xe.x,Te,Ne,Ye=Le.y-xe.y,et,ft,pt=Ae*Ae+Ye*Ye;pt?(Ne=xe.r+pe.r,Ne*=Ne,ft=Le.r+pe.r,ft*=ft,Ne>ft?(Te=(pt+ft-Ne)/(2*pt),et=Math.sqrt(Math.max(0,ft/pt-Te*Te)),pe.x=Le.x-Te*Ae-et*Ye,pe.y=Le.y-Te*Ye+et*Ae):(Te=(pt+Ne-ft)/(2*pt),et=Math.sqrt(Math.max(0,Ne/pt-Te*Te)),pe.x=xe.x+Te*Ae-et*Ye,pe.y=xe.y+Te*Ye+et*Ae)):(pe.x=xe.x+pe.r,pe.y=xe.y)}function te(Le,xe){var pe=Le.r+xe.r-1e-6,Ae=xe.x-Le.x,Te=xe.y-Le.y;return pe>0&&pe*pe>Ae*Ae+Te*Te}function ie(Le){var xe=Le._,pe=Le.next._,Ae=xe.r+pe.r,Te=(xe.x*pe.r+pe.x*xe.r)/Ae,Ne=(xe.y*pe.r+pe.y*xe.r)/Ae;return Te*Te+Ne*Ne}function ue(Le){this._=Le,this.next=null,this.previous=null}function J(Le){if(!(Te=Le.length))return 0;var xe,pe,Ae,Te,Ne,Ye,et,ft,pt,Yt,Jt;if(xe=Le[0],xe.x=0,xe.y=0,!(Te>1))return xe.r;if(pe=Le[1],xe.x=-pe.r,pe.x=xe.r,pe.y=0,!(Te>2))return xe.r+pe.r;$(pe,xe,Ae=Le[2]),xe=new ue(xe),pe=new ue(pe),Ae=new ue(Ae),xe.next=Ae.previous=pe,pe.next=xe.previous=Ae,Ae.next=pe.previous=xe;e:for(et=3;et<Te;++et){$(xe._,pe._,Ae=Le[et]),Ae=new ue(Ae),ft=pe.next,pt=xe.previous,Yt=pe._.r,Jt=xe._.r;do if(Yt<=Jt){if(te(ft._,Ae._)){pe=ft,xe.next=pe,pe.previous=xe,--et;continue e}Yt+=ft._.r,ft=ft.next}else{if(te(pt._,Ae._)){xe=pt,xe.next=pe,pe.previous=xe,--et;continue e}Jt+=pt._.r,pt=pt.previous}while(ft!==pt.next);for(Ae.previous=xe,Ae.next=pe,xe.next=pe.previous=pe=Ae,Ne=ie(xe);(Ae=Ae.next)!==pe;)(Ye=ie(Ae))<Ne&&(xe=Ae,Ne=Ye);pe=xe.next}for(xe=[pe._],Ae=pe;(Ae=Ae.next)!==pe;)xe.push(Ae._);for(Ae=k(xe),et=0;et<Te;++et)xe=Le[et],xe.x-=Ae.x,xe.y-=Ae.y;return Ae.r}function Y(Le){return J(Le),Le}function ae(Le){return Le==null?null:j(Le)}function j(Le){if(typeof Le!="function")throw new Error;return Le}function q(){return 0}function oe(Le){return function(){return Le}}function Q(Le){return Math.sqrt(Le.value)}function X(){var Le=null,xe=1,pe=1,Ae=q;function Te(Ne){return Ne.x=xe/2,Ne.y=pe/2,Le?Ne.eachBefore(se(Le)).eachAfter(ne(Ae,.5)).eachBefore(fe(1)):Ne.eachBefore(se(Q)).eachAfter(ne(q,1)).eachAfter(ne(Ae,Ne.r/Math.min(xe,pe))).eachBefore(fe(Math.min(xe,pe)/(2*Ne.r))),Ne}return Te.radius=function(Ne){return arguments.length?(Le=ae(Ne),Te):Le},Te.size=function(Ne){return arguments.length?(xe=+Ne[0],pe=+Ne[1],Te):[xe,pe]},Te.padding=function(Ne){return arguments.length?(Ae=typeof Ne=="function"?Ne:oe(+Ne),Te):Ae},Te}function se(Le){return function(xe){xe.children||(xe.r=Math.max(0,+Le(xe)||0))}}function ne(Le,xe){return function(pe){if(Ae=pe.children){var Ae,Te,Ne=Ae.length,Ye=Le(pe)*xe||0,et;if(Ye)for(Te=0;Te<Ne;++Te)Ae[Te].r+=Ye;if(et=J(Ae),Ye)for(Te=0;Te<Ne;++Te)Ae[Te].r-=Ye;pe.r=et+Ye}}}function fe(Le){return function(xe){var pe=xe.parent;xe.r*=Le,pe&&(xe.x=pe.x+Le*xe.x,xe.y=pe.y+Le*xe.y)}}function ye(Le){Le.x0=Math.round(Le.x0),Le.y0=Math.round(Le.y0),Le.x1=Math.round(Le.x1),Le.y1=Math.round(Le.y1)}function Se(Le,xe,pe,Ae,Te){for(var Ne=Le.children,Ye,et=-1,ft=Ne.length,pt=Le.value&&(Ae-xe)/Le.value;++et<ft;)Ye=Ne[et],Ye.y0=pe,Ye.y1=Te,Ye.x0=xe,Ye.x1=xe+=Ye.value*pt}function we(){var Le=1,xe=1,pe=0,Ae=!1;function Te(Ye){var et=Ye.height+1;return Ye.x0=Ye.y0=pe,Ye.x1=Le,Ye.y1=xe/et,Ye.eachBefore(Ne(xe,et)),Ae&&Ye.eachBefore(ye),Ye}function Ne(Ye,et){return function(ft){ft.children&&Se(ft,ft.x0,Ye*(ft.depth+1)/et,ft.x1,Ye*(ft.depth+2)/et);var pt=ft.x0,Yt=ft.y0,Jt=ft.x1-pe,Tt=ft.y1-pe;Jt<pt&&(pt=Jt=(pt+Jt)/2),Tt<Yt&&(Yt=Tt=(Yt+Tt)/2),ft.x0=pt,ft.y0=Yt,ft.x1=Jt,ft.y1=Tt}}return Te.round=function(Ye){return arguments.length?(Ae=!!Ye,Te):Ae},Te.size=function(Ye){return arguments.length?(Le=+Ye[0],xe=+Ye[1],Te):[Le,xe]},Te.padding=function(Ye){return arguments.length?(pe=+Ye,Te):pe},Te}var _e="$",ke={depth:-1},Me={};function me(Le){return Le.id}function Ee(Le){return Le.parentId}function Be(){var Le=me,xe=Ee;function pe(Ae){var Te,Ne,Ye=Ae.length,et,ft,pt,Yt=new Array(Ye),Jt,Tt,_t={};for(Ne=0;Ne<Ye;++Ne)Te=Ae[Ne],pt=Yt[Ne]=new a(Te),(Jt=Le(Te,Ne,Ae))!=null&&(Jt+="")&&(Tt=_e+(pt.id=Jt),_t[Tt]=Tt in _t?Me:pt);for(Ne=0;Ne<Ye;++Ne)if(pt=Yt[Ne],Jt=xe(Ae[Ne],Ne,Ae),Jt==null||!(Jt+="")){if(et)throw new Error("multiple roots");et=pt}else{if(ft=_t[_e+Jt],!ft)throw new Error("missing: "+Jt);if(ft===Me)throw new Error("ambiguous: "+Jt);ft.children?ft.children.push(pt):ft.children=[pt],pt.parent=ft}if(!et)throw new Error("no root");if(et.parent=ke,et.eachBefore(function($t){$t.depth=$t.parent.depth+1,--Ye}).eachBefore(m),et.parent=null,Ye>0)throw new Error("cycle");return et}return pe.id=function(Ae){return arguments.length?(Le=j(Ae),pe):Le},pe.parentId=function(Ae){return arguments.length?(xe=j(Ae),pe):xe},pe}function Ue(Le,xe){return Le.parent===xe.parent?1:2}function De(Le){var xe=Le.children;return xe?xe[0]:Le.t}function He(Le){var xe=Le.children;return xe?xe[xe.length-1]:Le.t}function nt(Le,xe,pe){var Ae=pe/(xe.i-Le.i);xe.c-=Ae,xe.s+=pe,Le.c+=Ae,xe.z+=pe,xe.m+=pe}function lt(Le){for(var xe=0,pe=0,Ae=Le.children,Te=Ae.length,Ne;--Te>=0;)Ne=Ae[Te],Ne.z+=xe,Ne.m+=xe,xe+=Ne.s+(pe+=Ne.c)}function $e(Le,xe,pe){return Le.a.parent===xe.parent?Le.a:pe}function qe(Le,xe){this._=Le,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=xe}qe.prototype=Object.create(a.prototype);function ct(Le){for(var xe=new qe(Le,0),pe,Ae=[xe],Te,Ne,Ye,et;pe=Ae.pop();)if(Ne=pe._.children)for(pe.children=new Array(et=Ne.length),Ye=et-1;Ye>=0;--Ye)Ae.push(Te=pe.children[Ye]=new qe(Ne[Ye],Ye)),Te.parent=pe;return(xe.parent=new qe(null,0)).children=[xe],xe}function dt(){var Le=Ue,xe=1,pe=1,Ae=null;function Te(pt){var Yt=ct(pt);if(Yt.eachAfter(Ne),Yt.parent.m=-Yt.z,Yt.eachBefore(Ye),Ae)pt.eachBefore(ft);else{var Jt=pt,Tt=pt,_t=pt;pt.eachBefore(function(Qt){Qt.x<Jt.x&&(Jt=Qt),Qt.x>Tt.x&&(Tt=Qt),Qt.depth>_t.depth&&(_t=Qt)});var $t=Jt===Tt?1:Le(Jt,Tt)/2,wr=$t-Jt.x,yt=xe/(Tt.x+$t+wr),jt=pe/(_t.depth||1);pt.eachBefore(function(Qt){Qt.x=(Qt.x+wr)*yt,Qt.y=Qt.depth*jt})}return pt}function Ne(pt){var Yt=pt.children,Jt=pt.parent.children,Tt=pt.i?Jt[pt.i-1]:null;if(Yt){lt(pt);var _t=(Yt[0].z+Yt[Yt.length-1].z)/2;Tt?(pt.z=Tt.z+Le(pt._,Tt._),pt.m=pt.z-_t):pt.z=_t}else Tt&&(pt.z=Tt.z+Le(pt._,Tt._));pt.parent.A=et(pt,Tt,pt.parent.A||Jt[0])}function Ye(pt){pt._.x=pt.z+pt.parent.m,pt.m+=pt.parent.m}function et(pt,Yt,Jt){if(Yt){for(var Tt=pt,_t=pt,$t=Yt,wr=Tt.parent.children[0],yt=Tt.m,jt=_t.m,Qt=$t.m,gr=wr.m,sr;$t=He($t),Tt=De(Tt),$t&&Tt;)wr=De(wr),_t=He(_t),_t.a=pt,sr=$t.z+Qt-Tt.z-yt+Le($t._,Tt._),sr>0&&(nt($e($t,pt,Jt),pt,sr),yt+=sr,jt+=sr),Qt+=$t.m,yt+=Tt.m,gr+=wr.m,jt+=_t.m;$t&&!He(_t)&&(_t.t=$t,_t.m+=Qt-jt),Tt&&!De(wr)&&(wr.t=Tt,wr.m+=yt-gr,Jt=pt)}return Jt}function ft(pt){pt.x*=xe,pt.y=pt.depth*pe}return Te.separation=function(pt){return arguments.length?(Le=pt,Te):Le},Te.size=function(pt){return arguments.length?(Ae=!1,xe=+pt[0],pe=+pt[1],Te):Ae?null:[xe,pe]},Te.nodeSize=function(pt){return arguments.length?(Ae=!0,xe=+pt[0],pe=+pt[1],Te):Ae?[xe,pe]:null},Te}function gt(Le,xe,pe,Ae,Te){for(var Ne=Le.children,Ye,et=-1,ft=Ne.length,pt=Le.value&&(Te-pe)/Le.value;++et<ft;)Ye=Ne[et],Ye.x0=xe,Ye.x1=Ae,Ye.y0=pe,Ye.y1=pe+=Ye.value*pt}var At=(1+Math.sqrt(5))/2;function Rt(Le,xe,pe,Ae,Te,Ne){for(var Ye=[],et=xe.children,ft,pt,Yt=0,Jt=0,Tt=et.length,_t,$t,wr=xe.value,yt,jt,Qt,gr,sr,vt,at;Yt<Tt;){_t=Te-pe,$t=Ne-Ae;do yt=et[Jt++].value;while(!yt&&Jt<Tt);for(jt=Qt=yt,vt=Math.max($t/_t,_t/$t)/(wr*Le),at=yt*yt*vt,sr=Math.max(Qt/at,at/jt);Jt<Tt;++Jt){if(yt+=pt=et[Jt].value,pt<jt&&(jt=pt),pt>Qt&&(Qt=pt),at=yt*yt*vt,gr=Math.max(Qt/at,at/jt),gr>sr){yt-=pt;break}sr=gr}Ye.push(ft={value:yt,dice:_t<$t,children:et.slice(Yt,Jt)}),ft.dice?Se(ft,pe,Ae,Te,wr?Ae+=$t*yt/wr:Ne):gt(ft,pe,Ae,wr?pe+=_t*yt/wr:Te,Ne),wr-=yt,Yt=Jt}return Ye}var Vt=function Le(xe){function pe(Ae,Te,Ne,Ye,et){Rt(xe,Ae,Te,Ne,Ye,et)}return pe.ratio=function(Ae){return Le((Ae=+Ae)>1?Ae:1)},pe}(At);function Je(){var Le=Vt,xe=!1,pe=1,Ae=1,Te=[0],Ne=q,Ye=q,et=q,ft=q,pt=q;function Yt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=pe,Tt.y1=Ae,Tt.eachBefore(Jt),Te=[0],xe&&Tt.eachBefore(ye),Tt}function Jt(Tt){var _t=Te[Tt.depth],$t=Tt.x0+_t,wr=Tt.y0+_t,yt=Tt.x1-_t,jt=Tt.y1-_t;yt<$t&&($t=yt=($t+yt)/2),jt<wr&&(wr=jt=(wr+jt)/2),Tt.x0=$t,Tt.y0=wr,Tt.x1=yt,Tt.y1=jt,Tt.children&&(_t=Te[Tt.depth+1]=Ne(Tt)/2,$t+=pt(Tt)-_t,wr+=Ye(Tt)-_t,yt-=et(Tt)-_t,jt-=ft(Tt)-_t,yt<$t&&($t=yt=($t+yt)/2),jt<wr&&(wr=jt=(wr+jt)/2),Le(Tt,$t,wr,yt,jt))}return Yt.round=function(Tt){return arguments.length?(xe=!!Tt,Yt):xe},Yt.size=function(Tt){return arguments.length?(pe=+Tt[0],Ae=+Tt[1],Yt):[pe,Ae]},Yt.tile=function(Tt){return arguments.length?(Le=j(Tt),Yt):Le},Yt.padding=function(Tt){return arguments.length?Yt.paddingInner(Tt).paddingOuter(Tt):Yt.paddingInner()},Yt.paddingInner=function(Tt){return arguments.length?(Ne=typeof Tt=="function"?Tt:oe(+Tt),Yt):Ne},Yt.paddingOuter=function(Tt){return arguments.length?Yt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Yt.paddingTop()},Yt.paddingTop=function(Tt){return arguments.length?(Ye=typeof Tt=="function"?Tt:oe(+Tt),Yt):Ye},Yt.paddingRight=function(Tt){return arguments.length?(et=typeof Tt=="function"?Tt:oe(+Tt),Yt):et},Yt.paddingBottom=function(Tt){return arguments.length?(ft=typeof Tt=="function"?Tt:oe(+Tt),Yt):ft},Yt.paddingLeft=function(Tt){return arguments.length?(pt=typeof Tt=="function"?Tt:oe(+Tt),Yt):pt},Yt}function Ve(Le,xe,pe,Ae,Te){var Ne=Le.children,Ye,et=Ne.length,ft,pt=new Array(et+1);for(pt[0]=ft=Ye=0;Ye<et;++Ye)pt[Ye+1]=ft+=Ne[Ye].value;Yt(0,et,Le.value,xe,pe,Ae,Te);function Yt(Jt,Tt,_t,$t,wr,yt,jt){if(Jt>=Tt-1){var Qt=Ne[Jt];Qt.x0=$t,Qt.y0=wr,Qt.x1=yt,Qt.y1=jt;return}for(var gr=pt[Jt],sr=_t/2+gr,vt=Jt+1,at=Tt-1;vt<at;){var xt=vt+at>>>1;pt[xt]<sr?vt=xt+1:at=xt}sr-pt[vt-1]<pt[vt]-sr&&Jt+1<vt&&--vt;var Mt=pt[vt]-gr,Dt=_t-Mt;if(yt-$t>jt-wr){var Lt=($t*Dt+yt*Mt)/_t;Yt(Jt,vt,Mt,$t,wr,Lt,jt),Yt(vt,Tt,Dt,Lt,wr,yt,jt)}else{var Bt=(wr*Dt+jt*Mt)/_t;Yt(Jt,vt,Mt,$t,wr,yt,Bt),Yt(vt,Tt,Dt,$t,Bt,yt,jt)}}}function Ie(Le,xe,pe,Ae,Te){(Le.depth&1?gt:Se)(Le,xe,pe,Ae,Te)}var Oe=function Le(xe){function pe(Ae,Te,Ne,Ye,et){if((ft=Ae._squarify)&&ft.ratio===xe)for(var ft,pt,Yt,Jt,Tt=-1,_t,$t=ft.length,wr=Ae.value;++Tt<$t;){for(pt=ft[Tt],Yt=pt.children,Jt=pt.value=0,_t=Yt.length;Jt<_t;++Jt)pt.value+=Yt[Jt].value;pt.dice?Se(pt,Te,Ne,Ye,Ne+=(et-Ne)*pt.value/wr):gt(pt,Te,Ne,Te+=(Ye-Te)*pt.value/wr,et),wr-=pt.value}else Ae._squarify=ft=Rt(xe,Ae,Te,Ne,Ye,et),ft.ratio=xe}return pe.ratio=function(Ae){return Le((Ae=+Ae)>1?Ae:1)},pe}(At)},45879:function(G,V,e){e.d(V,{h5:function(){return f}});var y=Math.PI,P=2*y,o=1e-6,L=P-o;function M(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new M}M.prototype=v.prototype={constructor:M,moveTo:function(T,h){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,h){this._+="L"+(this._x1=+T)+","+(this._y1=+h)},quadraticCurveTo:function(T,h,s,d){this._+="Q"+ +T+","+ +h+","+(this._x1=+s)+","+(this._y1=+d)},bezierCurveTo:function(T,h,s,d,A,w){this._+="C"+ +T+","+ +h+","+ +s+","+ +d+","+(this._x1=+A)+","+(this._y1=+w)},arcTo:function(T,h,s,d,A){T=+T,h=+h,s=+s,d=+d,A=+A;var w=this._x1,C=this._y1,b=s-T,S=d-h,m=w-T,a=C-h,E=m*m+a*a;if(A<0)throw new Error("negative radius: "+A);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=h);else if(E>o)if(!(Math.abs(a*b-S*m)>o)||!A)this._+="L"+(this._x1=T)+","+(this._y1=h);else{var x=s-w,k=d-C,I=b*b+S*S,N=x*x+k*k,F=Math.sqrt(I),z=Math.sqrt(E),O=A*Math.tan((y-Math.acos((I+E-N)/(2*F*z)))/2),_=O/z,B=O/F;Math.abs(_-1)>o&&(this._+="L"+(T+_*m)+","+(h+_*a)),this._+="A"+A+","+A+",0,0,"+ +(a*x>m*k)+","+(this._x1=T+B*b)+","+(this._y1=h+B*S)}},arc:function(T,h,s,d,A,w){T=+T,h=+h,s=+s,w=!!w;var C=s*Math.cos(d),b=s*Math.sin(d),S=T+C,m=h+b,a=1^w,E=w?d-A:A-d;if(s<0)throw new Error("negative radius: "+s);this._x1===null?this._+="M"+S+","+m:(Math.abs(this._x1-S)>o||Math.abs(this._y1-m)>o)&&(this._+="L"+S+","+m),s&&(E<0&&(E=E%P+P),E>L?this._+="A"+s+","+s+",0,1,"+a+","+(T-C)+","+(h-b)+"A"+s+","+s+",0,1,"+a+","+(this._x1=S)+","+(this._y1=m):E>o&&(this._+="A"+s+","+s+",0,"+ +(E>=y)+","+a+","+(this._x1=T+s*Math.cos(A))+","+(this._y1=h+s*Math.sin(A))))},rect:function(T,h,s,d){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+h)+"h"+ +s+"v"+ +d+"h"+-s+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(T){return function(){return T}}function i(T){return T[0]}function n(T){return T[1]}function c(T){return T.source}function u(T){return T.target}function l(T){var h=c,s=u,d=i,A=n,w=null;function C(){var b,S=r.call(arguments),m=h.apply(this,S),a=s.apply(this,S);if(w||(w=b=p()),T(w,+d.apply(this,(S[0]=m,S)),+A.apply(this,S),+d.apply(this,(S[0]=a,S)),+A.apply(this,S)),b)return w=null,b+""||null}return C.source=function(b){return arguments.length?(h=b,C):h},C.target=function(b){return arguments.length?(s=b,C):s},C.x=function(b){return arguments.length?(d=typeof b=="function"?b:t(+b),C):d},C.y=function(b){return arguments.length?(A=typeof b=="function"?b:t(+b),C):A},C.context=function(b){return arguments.length?(w=b??null,C):w},C}function g(T,h,s,d,A){T.moveTo(h,s),T.bezierCurveTo(h=(h+d)/2,s,h,A,d,A)}function f(){return l(g)}},84096:function(G,V,e){e.d(V,{i$:function(){return Ve},Dq:function(){return i},g0:function(){return Ie}});var y=e(58176),P=e(48480),o=e(59879),L=e(82301),M=e(34823),v=e(79791);function p(Le){if(0<=Le.y&&Le.y<100){var xe=new Date(-1,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L);return xe.setFullYear(Le.y),xe}return new Date(Le.y,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L)}function r(Le){if(0<=Le.y&&Le.y<100){var xe=new Date(Date.UTC(-1,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L));return xe.setUTCFullYear(Le.y),xe}return new Date(Date.UTC(Le.y,Le.m,Le.d,Le.H,Le.M,Le.S,Le.L))}function t(Le,xe,pe){return{y:Le,m:xe,d:pe,H:0,M:0,S:0,L:0}}function i(Le){var xe=Le.dateTime,pe=Le.date,Ae=Le.time,Te=Le.periods,Ne=Le.days,Ye=Le.shortDays,et=Le.months,ft=Le.shortMonths,pt=T(Te),Yt=h(Te),Jt=T(Ne),Tt=h(Ne),_t=T(Ye),$t=h(Ye),wr=T(et),yt=h(et),jt=T(ft),Qt=h(ft),gr={a:We,A:Ge,b:kt,B:It,c:null,d:$,e:$,f:Y,H:te,I:ie,j:ue,L:J,m:ae,M:j,p:Zt,q:rr,Q:Rt,s:Vt,S:q,u:oe,U:Q,V:X,w:se,W:ne,x:null,X:null,y:fe,Y:ye,Z:Se,"%":At},sr={a:ur,A:er,b:zt,B:vr,c:null,d:we,e:we,f:Ee,H:_e,I:ke,j:Me,L:me,m:Be,M:Ue,p:yr,q:pr,Q:Rt,s:Vt,S:De,u:He,U:nt,V:lt,w:$e,W:qe,x:null,X:null,y:ct,Y:dt,Z:gt,"%":At},vt={a:Lt,A:Bt,b:Nt,B:Xt,c:lr,d:x,e:x,f:O,H:I,I,j:k,L:z,m:E,M:N,p:Dt,q:a,Q:B,s:W,S:F,u:d,U:A,V:w,w:s,W:C,x:fr,X:hr,y:S,Y:b,Z:m,"%":_};gr.x=at(pe,gr),gr.X=at(Ae,gr),gr.c=at(xe,gr),sr.x=at(pe,sr),sr.X=at(Ae,sr),sr.c=at(xe,sr);function at(cr,Ur){return function(kr){var Rr=[],vn=-1,tn=0,Bn=cr.length,xn,Mr,Er;for(kr instanceof Date||(kr=new Date(+kr));++vn<Bn;)cr.charCodeAt(vn)===37&&(Rr.push(cr.slice(tn,vn)),(Mr=n[xn=cr.charAt(++vn)])!=null?xn=cr.charAt(++vn):Mr=xn==="e"?" ":"0",(Er=Ur[xn])&&(xn=Er(kr,Mr)),Rr.push(xn),tn=vn+1);return Rr.push(cr.slice(tn,vn)),Rr.join("")}}function xt(cr,Ur){return function(kr){var Rr=t(1900,void 0,1),vn=Mt(Rr,cr,kr+="",0),tn,Bn;if(vn!=kr.length)return null;if("Q"in Rr)return new Date(Rr.Q);if("s"in Rr)return new Date(Rr.s*1e3+("L"in Rr?Rr.L:0));if(Ur&&!("Z"in Rr)&&(Rr.Z=0),"p"in Rr&&(Rr.H=Rr.H%12+Rr.p*12),Rr.m===void 0&&(Rr.m="q"in Rr?Rr.q:0),"V"in Rr){if(Rr.V<1||Rr.V>53)return null;"w"in Rr||(Rr.w=1),"Z"in Rr?(tn=r(t(Rr.y,0,1)),Bn=tn.getUTCDay(),tn=Bn>4||Bn===0?y.l6.ceil(tn):(0,y.l6)(tn),tn=P.Z.offset(tn,(Rr.V-1)*7),Rr.y=tn.getUTCFullYear(),Rr.m=tn.getUTCMonth(),Rr.d=tn.getUTCDate()+(Rr.w+6)%7):(tn=p(t(Rr.y,0,1)),Bn=tn.getDay(),tn=Bn>4||Bn===0?o.wA.ceil(tn):(0,o.wA)(tn),tn=L.Z.offset(tn,(Rr.V-1)*7),Rr.y=tn.getFullYear(),Rr.m=tn.getMonth(),Rr.d=tn.getDate()+(Rr.w+6)%7)}else("W"in Rr||"U"in Rr)&&("w"in Rr||(Rr.w="u"in Rr?Rr.u%7:"W"in Rr?1:0),Bn="Z"in Rr?r(t(Rr.y,0,1)).getUTCDay():p(t(Rr.y,0,1)).getDay(),Rr.m=0,Rr.d="W"in Rr?(Rr.w+6)%7+Rr.W*7-(Bn+5)%7:Rr.w+Rr.U*7-(Bn+6)%7);return"Z"in Rr?(Rr.H+=Rr.Z/100|0,Rr.M+=Rr.Z%100,r(Rr)):p(Rr)}}function Mt(cr,Ur,kr,Rr){for(var vn=0,tn=Ur.length,Bn=kr.length,xn,Mr;vn<tn;){if(Rr>=Bn)return-1;if(xn=Ur.charCodeAt(vn++),xn===37){if(xn=Ur.charAt(vn++),Mr=vt[xn in n?Ur.charAt(vn++):xn],!Mr||(Rr=Mr(cr,kr,Rr))<0)return-1}else if(xn!=kr.charCodeAt(Rr++))return-1}return Rr}function Dt(cr,Ur,kr){var Rr=pt.exec(Ur.slice(kr));return Rr?(cr.p=Yt[Rr[0].toLowerCase()],kr+Rr[0].length):-1}function Lt(cr,Ur,kr){var Rr=_t.exec(Ur.slice(kr));return Rr?(cr.w=$t[Rr[0].toLowerCase()],kr+Rr[0].length):-1}function Bt(cr,Ur,kr){var Rr=Jt.exec(Ur.slice(kr));return Rr?(cr.w=Tt[Rr[0].toLowerCase()],kr+Rr[0].length):-1}function Nt(cr,Ur,kr){var Rr=jt.exec(Ur.slice(kr));return Rr?(cr.m=Qt[Rr[0].toLowerCase()],kr+Rr[0].length):-1}function Xt(cr,Ur,kr){var Rr=wr.exec(Ur.slice(kr));return Rr?(cr.m=yt[Rr[0].toLowerCase()],kr+Rr[0].length):-1}function lr(cr,Ur,kr){return Mt(cr,xe,Ur,kr)}function fr(cr,Ur,kr){return Mt(cr,pe,Ur,kr)}function hr(cr,Ur,kr){return Mt(cr,Ae,Ur,kr)}function We(cr){return Ye[cr.getDay()]}function Ge(cr){return Ne[cr.getDay()]}function kt(cr){return ft[cr.getMonth()]}function It(cr){return et[cr.getMonth()]}function Zt(cr){return Te[+(cr.getHours()>=12)]}function rr(cr){return 1+~~(cr.getMonth()/3)}function ur(cr){return Ye[cr.getUTCDay()]}function er(cr){return Ne[cr.getUTCDay()]}function zt(cr){return ft[cr.getUTCMonth()]}function vr(cr){return et[cr.getUTCMonth()]}function yr(cr){return Te[+(cr.getUTCHours()>=12)]}function pr(cr){return 1+~~(cr.getUTCMonth()/3)}return{format:function(cr){var Ur=at(cr+="",gr);return Ur.toString=function(){return cr},Ur},parse:function(cr){var Ur=xt(cr+="",!1);return Ur.toString=function(){return cr},Ur},utcFormat:function(cr){var Ur=at(cr+="",sr);return Ur.toString=function(){return cr},Ur},utcParse:function(cr){var Ur=xt(cr+="",!0);return Ur.toString=function(){return cr},Ur}}}var n={"-":"",_:" ",0:"0"},c=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function g(Le,xe,pe){var Ae=Le<0?"-":"",Te=(Ae?-Le:Le)+"",Ne=Te.length;return Ae+(Ne<pe?new Array(pe-Ne+1).join(xe)+Te:Te)}function f(Le){return Le.replace(l,"\\$&")}function T(Le){return new RegExp("^(?:"+Le.map(f).join("|")+")","i")}function h(Le){for(var xe={},pe=-1,Ae=Le.length;++pe<Ae;)xe[Le[pe].toLowerCase()]=pe;return xe}function s(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+1));return Ae?(Le.w=+Ae[0],pe+Ae[0].length):-1}function d(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+1));return Ae?(Le.u=+Ae[0],pe+Ae[0].length):-1}function A(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+2));return Ae?(Le.U=+Ae[0],pe+Ae[0].length):-1}function w(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+2));return Ae?(Le.V=+Ae[0],pe+Ae[0].length):-1}function C(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+2));return Ae?(Le.W=+Ae[0],pe+Ae[0].length):-1}function b(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+4));return Ae?(Le.y=+Ae[0],pe+Ae[0].length):-1}function S(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+2));return Ae?(Le.y=+Ae[0]+(+Ae[0]>68?1900:2e3),pe+Ae[0].length):-1}function m(Le,xe,pe){var Ae=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(xe.slice(pe,pe+6));return Ae?(Le.Z=Ae[1]?0:-(Ae[2]+(Ae[3]||"00")),pe+Ae[0].length):-1}function a(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+1));return Ae?(Le.q=Ae[0]*3-3,pe+Ae[0].length):-1}function E(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+2));return Ae?(Le.m=Ae[0]-1,pe+Ae[0].length):-1}function x(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+2));return Ae?(Le.d=+Ae[0],pe+Ae[0].length):-1}function k(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+3));return Ae?(Le.m=0,Le.d=+Ae[0],pe+Ae[0].length):-1}function I(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+2));return Ae?(Le.H=+Ae[0],pe+Ae[0].length):-1}function N(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+2));return Ae?(Le.M=+Ae[0],pe+Ae[0].length):-1}function F(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+2));return Ae?(Le.S=+Ae[0],pe+Ae[0].length):-1}function z(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+3));return Ae?(Le.L=+Ae[0],pe+Ae[0].length):-1}function O(Le,xe,pe){var Ae=c.exec(xe.slice(pe,pe+6));return Ae?(Le.L=Math.floor(Ae[0]/1e3),pe+Ae[0].length):-1}function _(Le,xe,pe){var Ae=u.exec(xe.slice(pe,pe+1));return Ae?pe+Ae[0].length:-1}function B(Le,xe,pe){var Ae=c.exec(xe.slice(pe));return Ae?(Le.Q=+Ae[0],pe+Ae[0].length):-1}function W(Le,xe,pe){var Ae=c.exec(xe.slice(pe));return Ae?(Le.s=+Ae[0],pe+Ae[0].length):-1}function $(Le,xe){return g(Le.getDate(),xe,2)}function te(Le,xe){return g(Le.getHours(),xe,2)}function ie(Le,xe){return g(Le.getHours()%12||12,xe,2)}function ue(Le,xe){return g(1+L.Z.count((0,M.Z)(Le),Le),xe,3)}function J(Le,xe){return g(Le.getMilliseconds(),xe,3)}function Y(Le,xe){return J(Le,xe)+"000"}function ae(Le,xe){return g(Le.getMonth()+1,xe,2)}function j(Le,xe){return g(Le.getMinutes(),xe,2)}function q(Le,xe){return g(Le.getSeconds(),xe,2)}function oe(Le){var xe=Le.getDay();return xe===0?7:xe}function Q(Le,xe){return g(o.OM.count((0,M.Z)(Le)-1,Le),xe,2)}function X(Le,xe){var pe=Le.getDay();return Le=pe>=4||pe===0?(0,o.bL)(Le):o.bL.ceil(Le),g(o.bL.count((0,M.Z)(Le),Le)+((0,M.Z)(Le).getDay()===4),xe,2)}function se(Le){return Le.getDay()}function ne(Le,xe){return g(o.wA.count((0,M.Z)(Le)-1,Le),xe,2)}function fe(Le,xe){return g(Le.getFullYear()%100,xe,2)}function ye(Le,xe){return g(Le.getFullYear()%1e4,xe,4)}function Se(Le){var xe=Le.getTimezoneOffset();return(xe>0?"-":(xe*=-1,"+"))+g(xe/60|0,"0",2)+g(xe%60,"0",2)}function we(Le,xe){return g(Le.getUTCDate(),xe,2)}function _e(Le,xe){return g(Le.getUTCHours(),xe,2)}function ke(Le,xe){return g(Le.getUTCHours()%12||12,xe,2)}function Me(Le,xe){return g(1+P.Z.count((0,v.Z)(Le),Le),xe,3)}function me(Le,xe){return g(Le.getUTCMilliseconds(),xe,3)}function Ee(Le,xe){return me(Le,xe)+"000"}function Be(Le,xe){return g(Le.getUTCMonth()+1,xe,2)}function Ue(Le,xe){return g(Le.getUTCMinutes(),xe,2)}function De(Le,xe){return g(Le.getUTCSeconds(),xe,2)}function He(Le){var xe=Le.getUTCDay();return xe===0?7:xe}function nt(Le,xe){return g(y.Ox.count((0,v.Z)(Le)-1,Le),xe,2)}function lt(Le,xe){var pe=Le.getUTCDay();return Le=pe>=4||pe===0?(0,y.hB)(Le):y.hB.ceil(Le),g(y.hB.count((0,v.Z)(Le),Le)+((0,v.Z)(Le).getUTCDay()===4),xe,2)}function $e(Le){return Le.getUTCDay()}function qe(Le,xe){return g(y.l6.count((0,v.Z)(Le)-1,Le),xe,2)}function ct(Le,xe){return g(Le.getUTCFullYear()%100,xe,2)}function dt(Le,xe){return g(Le.getUTCFullYear()%1e4,xe,4)}function gt(){return"+0000"}function At(){return"%"}function Rt(Le){return+Le}function Vt(Le){return Math.floor(+Le/1e3)}var Je,Ve,Ie;Oe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Oe(Le){return Je=i(Le),Ve=Je.format,Je.parse,Ie=Je.utcFormat,Je.utcParse,Je}},82301:function(G,V,e){e.d(V,{a:function(){return L}});var y=e(30052),P=e(54263),o=(0,y.Z)(function(M){M.setHours(0,0,0,0)},function(M,v){M.setDate(M.getDate()+v)},function(M,v){return(v-M-(v.getTimezoneOffset()-M.getTimezoneOffset())*P.yB)/P.UD},function(M){return M.getDate()-1});V.Z=o;var L=o.range},54263:function(G,V,e){e.d(V,{UD:function(){return L},Y2:function(){return o},Ym:function(){return y},iM:function(){return M},yB:function(){return P}});var y=1e3,P=6e4,o=36e5,L=864e5,M=6048e5},81041:function(G,V,e){e.r(V),e.d(V,{timeDay:function(){return g.Z},timeDays:function(){return g.a},timeFriday:function(){return f.mC},timeFridays:function(){return f.b$},timeHour:function(){return u},timeHours:function(){return l},timeInterval:function(){return y.Z},timeMillisecond:function(){return o},timeMilliseconds:function(){return L},timeMinute:function(){return i},timeMinutes:function(){return n},timeMonday:function(){return f.wA},timeMondays:function(){return f.bJ},timeMonth:function(){return h},timeMonths:function(){return s},timeSaturday:function(){return f.EY},timeSaturdays:function(){return f.Ff},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return f.OM},timeSundays:function(){return f.vm},timeThursday:function(){return f.bL},timeThursdays:function(){return f.$t},timeTuesday:function(){return f.sy},timeTuesdays:function(){return f.aU},timeWednesday:function(){return f.zg},timeWednesdays:function(){return f.Ld},timeWeek:function(){return f.OM},timeWeeks:function(){return f.vm},timeYear:function(){return d.Z},timeYears:function(){return d.g},utcDay:function(){return a.Z},utcDays:function(){return a.y},utcFriday:function(){return E.QQ},utcFridays:function(){return E.fz},utcHour:function(){return S},utcHours:function(){return m},utcMillisecond:function(){return o},utcMilliseconds:function(){return L},utcMinute:function(){return w},utcMinutes:function(){return C},utcMonday:function(){return E.l6},utcMondays:function(){return E.$3},utcMonth:function(){return k},utcMonths:function(){return I},utcSaturday:function(){return E.g4},utcSaturdays:function(){return E.Q_},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return E.Ox},utcSundays:function(){return E.SU},utcThursday:function(){return E.hB},utcThursdays:function(){return E.xj},utcTuesday:function(){return E.J1},utcTuesdays:function(){return E.DK},utcWednesday:function(){return E.b3},utcWednesdays:function(){return E.uy},utcWeek:function(){return E.Ox},utcWeeks:function(){return E.SU},utcYear:function(){return N.Z},utcYears:function(){return N.D}});var y=e(30052),P=(0,y.Z)(function(){},function(F,z){F.setTime(+F+z)},function(F,z){return z-F});P.every=function(F){return F=Math.floor(F),!isFinite(F)||!(F>0)?null:F>1?(0,y.Z)(function(z){z.setTime(Math.floor(z/F)*F)},function(z,O){z.setTime(+z+O*F)},function(z,O){return(O-z)/F}):P};var o=P,L=P.range,M=e(54263),v=(0,y.Z)(function(F){F.setTime(F-F.getMilliseconds())},function(F,z){F.setTime(+F+z*M.Ym)},function(F,z){return(z-F)/M.Ym},function(F){return F.getUTCSeconds()}),p=v,r=v.range,t=(0,y.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*M.Ym)},function(F,z){F.setTime(+F+z*M.yB)},function(F,z){return(z-F)/M.yB},function(F){return F.getMinutes()}),i=t,n=t.range,c=(0,y.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*M.Ym-F.getMinutes()*M.yB)},function(F,z){F.setTime(+F+z*M.Y2)},function(F,z){return(z-F)/M.Y2},function(F){return F.getHours()}),u=c,l=c.range,g=e(82301),f=e(59879),T=(0,y.Z)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,z){F.setMonth(F.getMonth()+z)},function(F,z){return z.getMonth()-F.getMonth()+(z.getFullYear()-F.getFullYear())*12},function(F){return F.getMonth()}),h=T,s=T.range,d=e(34823),A=(0,y.Z)(function(F){F.setUTCSeconds(0,0)},function(F,z){F.setTime(+F+z*M.yB)},function(F,z){return(z-F)/M.yB},function(F){return F.getUTCMinutes()}),w=A,C=A.range,b=(0,y.Z)(function(F){F.setUTCMinutes(0,0,0)},function(F,z){F.setTime(+F+z*M.Y2)},function(F,z){return(z-F)/M.Y2},function(F){return F.getUTCHours()}),S=b,m=b.range,a=e(48480),E=e(58176),x=(0,y.Z)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,z){F.setUTCMonth(F.getUTCMonth()+z)},function(F,z){return z.getUTCMonth()-F.getUTCMonth()+(z.getUTCFullYear()-F.getUTCFullYear())*12},function(F){return F.getUTCMonth()}),k=x,I=x.range,N=e(79791)},30052:function(G,V,e){e.d(V,{Z:function(){return o}});var y=new Date,P=new Date;function o(L,M,v,p){function r(t){return L(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return L(t=new Date(+t)),t},r.ceil=function(t){return L(t=new Date(t-1)),M(t,1),L(t),t},r.round=function(t){var i=r(t),n=r.ceil(t);return t-i<n-t?i:n},r.offset=function(t,i){return M(t=new Date(+t),i==null?1:Math.floor(i)),t},r.range=function(t,i,n){var c=[],u;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<i)||!(n>0))return c;do c.push(u=new Date(+t)),M(t,n),L(t);while(u<t&&t<i);return c},r.filter=function(t){return o(function(i){if(i>=i)for(;L(i),!t(i);)i.setTime(i-1)},function(i,n){if(i>=i)if(n<0)for(;++n<=0;)for(;M(i,-1),!t(i););else for(;--n>=0;)for(;M(i,1),!t(i););})},v&&(r.count=function(t,i){return y.setTime(+t),P.setTime(+i),L(y),L(P),Math.floor(v(y,P))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(i){return p(i)%t===0}:function(i){return r.count(0,i)%t===0}):r}),r}},48480:function(G,V,e){e.d(V,{y:function(){return L}});var y=e(30052),P=e(54263),o=(0,y.Z)(function(M){M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCDate(M.getUTCDate()+v)},function(M,v){return(v-M)/P.UD},function(M){return M.getUTCDate()-1});V.Z=o;var L=o.range},58176:function(G,V,e){e.d(V,{$3:function(){return c},DK:function(){return u},J1:function(){return v},Ox:function(){return L},QQ:function(){return t},Q_:function(){return T},SU:function(){return n},b3:function(){return p},fz:function(){return f},g4:function(){return i},hB:function(){return r},l6:function(){return M},uy:function(){return l},xj:function(){return g}});var y=e(30052),P=e(54263);function o(h){return(0,y.Z)(function(s){s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-h)%7),s.setUTCHours(0,0,0,0)},function(s,d){s.setUTCDate(s.getUTCDate()+d*7)},function(s,d){return(d-s)/P.iM})}var L=o(0),M=o(1),v=o(2),p=o(3),r=o(4),t=o(5),i=o(6),n=L.range,c=M.range,u=v.range,l=p.range,g=r.range,f=t.range,T=i.range},79791:function(G,V,e){e.d(V,{D:function(){return o}});var y=e(30052),P=(0,y.Z)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,M){L.setUTCFullYear(L.getUTCFullYear()+M)},function(L,M){return M.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,y.Z)(function(M){M.setUTCFullYear(Math.floor(M.getUTCFullYear()/L)*L),M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCFullYear(M.getUTCFullYear()+v*L)})},V.Z=P;var o=P.range},59879:function(G,V,e){e.d(V,{$t:function(){return g},EY:function(){return i},Ff:function(){return T},Ld:function(){return l},OM:function(){return L},aU:function(){return u},b$:function(){return f},bJ:function(){return c},bL:function(){return r},mC:function(){return t},sy:function(){return v},vm:function(){return n},wA:function(){return M},zg:function(){return p}});var y=e(30052),P=e(54263);function o(h){return(0,y.Z)(function(s){s.setDate(s.getDate()-(s.getDay()+7-h)%7),s.setHours(0,0,0,0)},function(s,d){s.setDate(s.getDate()+d*7)},function(s,d){return(d-s-(d.getTimezoneOffset()-s.getTimezoneOffset())*P.yB)/P.iM})}var L=o(0),M=o(1),v=o(2),p=o(3),r=o(4),t=o(5),i=o(6),n=L.range,c=M.range,u=v.range,l=p.range,g=r.range,f=t.range,T=i.range},34823:function(G,V,e){e.d(V,{g:function(){return o}});var y=e(30052),P=(0,y.Z)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,M){L.setFullYear(L.getFullYear()+M)},function(L,M){return M.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});P.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,y.Z)(function(M){M.setFullYear(Math.floor(M.getFullYear()/L)*L),M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,v){M.setFullYear(M.getFullYear()+v*L)})},V.Z=P;var o=P.range},17045:function(G,V,e){var y=e(8709),P=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",o=Object.prototype.toString,L=Array.prototype.concat,M=Object.defineProperty,v=function(n){return typeof n=="function"&&o.call(n)==="[object Function]"},p=e(55622)(),r=M&&p,t=function(n,c,u,l){if(c in n){if(l===!0){if(n[c]===u)return}else if(!v(l)||!l())return}r?M(n,c,{configurable:!0,enumerable:!1,value:u,writable:!0}):n[c]=u},i=function(n,c){var u=arguments.length>2?arguments[2]:{},l=y(c);P&&(l=L.call(l,Object.getOwnPropertySymbols(c)));for(var g=0;g<l.length;g+=1)t(n,l[g],c[l[g]],u[l[g]])};i.supportsDescriptors=!!r,G.exports=i},46775:function(G){G.exports=function(){for(var V=0;V<arguments.length;V++)if(arguments[V]!==void 0)return arguments[V]}},53545:function(G){G.exports=P;var V=P.canvas=document.createElement("canvas"),e=V.getContext("2d"),y=o([32,126]);P.createPairs=o,P.ascii=y;function P(L,M){Array.isArray(L)&&(L=L.join(", "));var v={},p,r=16,t=.05;M&&(M.length===2&&typeof M[0]=="number"?p=o(M):Array.isArray(M)?p=M:(M.o?p=o(M.o):M.pairs&&(p=M.pairs),M.fontSize&&(r=M.fontSize),M.threshold!=null&&(t=M.threshold))),p||(p=y),e.font=r+"px "+L;for(var i=0;i<p.length;i++){var n=p[i],c=e.measureText(n[0]).width+e.measureText(n[1]).width,u=e.measureText(n).width;if(Math.abs(c-u)>r*t){var l=(u-c)/r;v[n]=l*1e3}}return v}function o(L){for(var M=[],v=L[0];v<=L[1];v++)for(var p=String.fromCharCode(v),r=L[0];r<L[1];r++){var t=String.fromCharCode(r),i=p+t;M.push(i)}return M}},31457:function(G,V,e){var y=e(65185),P=e(18625),o={M:"moveTo",C:"bezierCurveTo"};G.exports=function(L,M){L.beginPath(),P(y(M)).forEach(function(v){var p=v[0],r=v.slice(1);L[o[p]].apply(L,r)}),L.closePath()}},90660:function(G){G.exports=function(V){switch(V){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(G){function V(P,o,L){var M=P[L]|0;if(M<=0)return[];var v=new Array(M),p;if(L===P.length-1)for(p=0;p<M;++p)v[p]=o;else for(p=0;p<M;++p)v[p]=V(P,o,L+1);return v}function e(P,o){var L,M;for(L=new Array(P),M=0;M<P;++M)L[M]=o;return L}function y(P,o){switch(typeof o>"u"&&(o=0),typeof P){case"number":if(P>0)return e(P|0,o);break;case"object":if(typeof P.length=="number")return V(P,o,0);break}return[]}G.exports=y},11474:function(G){G.exports=V,G.exports.default=V;function V(I,N,F){F=F||2;var z=N&&N.length,O=z?N[0]*F:I.length,_=e(I,0,O,F,!0),B=[];if(!_||_.next===_.prev)return B;var W,$,te,ie,ue,J,Y;if(z&&(_=p(I,N,_,F)),I.length>80*F){W=te=I[0],$=ie=I[1];for(var ae=F;ae<O;ae+=F)ue=I[ae],J=I[ae+1],ue<W&&(W=ue),J<$&&($=J),ue>te&&(te=ue),J>ie&&(ie=J);Y=Math.max(te-W,ie-$),Y=Y!==0?1/Y:0}return P(_,B,F,W,$,Y),B}function e(I,N,F,z,O){var _,B;if(O===k(I,N,F,z)>0)for(_=N;_<F;_+=z)B=a(_,I[_],I[_+1],B);else for(_=F-z;_>=N;_-=z)B=a(_,I[_],I[_+1],B);return B&&s(B,B.next)&&(E(B),B=B.next),B}function y(I,N){if(!I)return I;N||(N=I);var F=I,z;do if(z=!1,!F.steiner&&(s(F,F.next)||h(F.prev,F,F.next)===0)){if(E(F),F=N=F.prev,F===F.next)break;z=!0}else F=F.next;while(z||F!==N);return N}function P(I,N,F,z,O,_,B){if(I){!B&&_&&c(I,z,O,_);for(var W=I,$,te;I.prev!==I.next;){if($=I.prev,te=I.next,_?L(I,z,O,_):o(I)){N.push($.i/F),N.push(I.i/F),N.push(te.i/F),E(I),I=te.next,W=te.next;continue}if(I=te,I===W){B?B===1?(I=M(y(I),N,F),P(I,N,F,z,O,_,2)):B===2&&v(I,N,F,z,O,_):P(y(I),N,F,z,O,_,1);break}}}}function o(I){var N=I.prev,F=I,z=I.next;if(h(N,F,z)>=0)return!1;for(var O=I.next.next;O!==I.prev;){if(f(N.x,N.y,F.x,F.y,z.x,z.y,O.x,O.y)&&h(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function L(I,N,F,z){var O=I.prev,_=I,B=I.next;if(h(O,_,B)>=0)return!1;for(var W=O.x<_.x?O.x<B.x?O.x:B.x:_.x<B.x?_.x:B.x,$=O.y<_.y?O.y<B.y?O.y:B.y:_.y<B.y?_.y:B.y,te=O.x>_.x?O.x>B.x?O.x:B.x:_.x>B.x?_.x:B.x,ie=O.y>_.y?O.y>B.y?O.y:B.y:_.y>B.y?_.y:B.y,ue=l(W,$,N,F,z),J=l(te,ie,N,F,z),Y=I.prevZ,ae=I.nextZ;Y&&Y.z>=ue&&ae&&ae.z<=J;){if(Y!==I.prev&&Y!==I.next&&f(O.x,O.y,_.x,_.y,B.x,B.y,Y.x,Y.y)&&h(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,ae!==I.prev&&ae!==I.next&&f(O.x,O.y,_.x,_.y,B.x,B.y,ae.x,ae.y)&&h(ae.prev,ae,ae.next)>=0))return!1;ae=ae.nextZ}for(;Y&&Y.z>=ue;){if(Y!==I.prev&&Y!==I.next&&f(O.x,O.y,_.x,_.y,B.x,B.y,Y.x,Y.y)&&h(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;ae&&ae.z<=J;){if(ae!==I.prev&&ae!==I.next&&f(O.x,O.y,_.x,_.y,B.x,B.y,ae.x,ae.y)&&h(ae.prev,ae,ae.next)>=0)return!1;ae=ae.nextZ}return!0}function M(I,N,F){var z=I;do{var O=z.prev,_=z.next.next;!s(O,_)&&d(O,z,z.next,_)&&b(O,_)&&b(_,O)&&(N.push(O.i/F),N.push(z.i/F),N.push(_.i/F),E(z),E(z.next),z=I=_),z=z.next}while(z!==I);return y(z)}function v(I,N,F,z,O,_){var B=I;do{for(var W=B.next.next;W!==B.prev;){if(B.i!==W.i&&T(B,W)){var $=m(B,W);B=y(B,B.next),$=y($,$.next),P(B,N,F,z,O,_),P($,N,F,z,O,_);return}W=W.next}B=B.next}while(B!==I)}function p(I,N,F,z){var O=[],_,B,W,$,te;for(_=0,B=N.length;_<B;_++)W=N[_]*z,$=_<B-1?N[_+1]*z:I.length,te=e(I,W,$,z,!1),te===te.next&&(te.steiner=!0),O.push(g(te));for(O.sort(r),_=0;_<O.length;_++)t(O[_],F),F=y(F,F.next);return F}function r(I,N){return I.x-N.x}function t(I,N){if(N=i(I,N),N){var F=m(N,I);y(N,N.next),y(F,F.next)}}function i(I,N){var F=N,z=I.x,O=I.y,_=-1/0,B;do{if(O<=F.y&&O>=F.next.y&&F.next.y!==F.y){var W=F.x+(O-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(W<=z&&W>_){if(_=W,W===z){if(O===F.y)return F;if(O===F.next.y)return F.next}B=F.x<F.next.x?F:F.next}}F=F.next}while(F!==N);if(!B)return null;if(z===_)return B;var $=B,te=B.x,ie=B.y,ue=1/0,J;F=B;do z>=F.x&&F.x>=te&&z!==F.x&&f(O<ie?z:_,O,te,ie,O<ie?_:z,O,F.x,F.y)&&(J=Math.abs(O-F.y)/(z-F.x),b(F,I)&&(J<ue||J===ue&&(F.x>B.x||F.x===B.x&&n(B,F)))&&(B=F,ue=J)),F=F.next;while(F!==$);return B}function n(I,N){return h(I.prev,I,N.prev)<0&&h(N.next,I,I.next)<0}function c(I,N,F,z){var O=I;do O.z===null&&(O.z=l(O.x,O.y,N,F,z)),O.prevZ=O.prev,O.nextZ=O.next,O=O.next;while(O!==I);O.prevZ.nextZ=null,O.prevZ=null,u(O)}function u(I){var N,F,z,O,_,B,W,$,te=1;do{for(F=I,I=null,_=null,B=0;F;){for(B++,z=F,W=0,N=0;N<te&&(W++,z=z.nextZ,!!z);N++);for($=te;W>0||$>0&&z;)W!==0&&($===0||!z||F.z<=z.z)?(O=F,F=F.nextZ,W--):(O=z,z=z.nextZ,$--),_?_.nextZ=O:I=O,O.prevZ=_,_=O;F=z}_.nextZ=null,te*=2}while(B>1);return I}function l(I,N,F,z,O){return I=32767*(I-F)*O,N=32767*(N-z)*O,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,I|N<<1}function g(I){var N=I,F=I;do(N.x<F.x||N.x===F.x&&N.y<F.y)&&(F=N),N=N.next;while(N!==I);return F}function f(I,N,F,z,O,_,B,W){return(O-B)*(N-W)-(I-B)*(_-W)>=0&&(I-B)*(z-W)-(F-B)*(N-W)>=0&&(F-B)*(_-W)-(O-B)*(z-W)>=0}function T(I,N){return I.next.i!==N.i&&I.prev.i!==N.i&&!C(I,N)&&(b(I,N)&&b(N,I)&&S(I,N)&&(h(I.prev,I,N.prev)||h(I,N.prev,N))||s(I,N)&&h(I.prev,I,I.next)>0&&h(N.prev,N,N.next)>0)}function h(I,N,F){return(N.y-I.y)*(F.x-N.x)-(N.x-I.x)*(F.y-N.y)}function s(I,N){return I.x===N.x&&I.y===N.y}function d(I,N,F,z){var O=w(h(I,N,F)),_=w(h(I,N,z)),B=w(h(F,z,I)),W=w(h(F,z,N));return!!(O!==_&&B!==W||O===0&&A(I,F,N)||_===0&&A(I,z,N)||B===0&&A(F,I,z)||W===0&&A(F,N,z))}function A(I,N,F){return N.x<=Math.max(I.x,F.x)&&N.x>=Math.min(I.x,F.x)&&N.y<=Math.max(I.y,F.y)&&N.y>=Math.min(I.y,F.y)}function w(I){return I>0?1:I<0?-1:0}function C(I,N){var F=I;do{if(F.i!==I.i&&F.next.i!==I.i&&F.i!==N.i&&F.next.i!==N.i&&d(F,F.next,I,N))return!0;F=F.next}while(F!==I);return!1}function b(I,N){return h(I.prev,I,I.next)<0?h(I,N,I.next)>=0&&h(I,I.prev,N)>=0:h(I,N,I.prev)<0||h(I,I.next,N)<0}function S(I,N){var F=I,z=!1,O=(I.x+N.x)/2,_=(I.y+N.y)/2;do F.y>_!=F.next.y>_&&F.next.y!==F.y&&O<(F.next.x-F.x)*(_-F.y)/(F.next.y-F.y)+F.x&&(z=!z),F=F.next;while(F!==I);return z}function m(I,N){var F=new x(I.i,I.x,I.y),z=new x(N.i,N.x,N.y),O=I.next,_=N.prev;return I.next=N,N.prev=I,F.next=O,O.prev=F,z.next=F,F.prev=z,_.next=z,z.prev=_,z}function a(I,N,F,z){var O=new x(I,N,F);return z?(O.next=z.next,O.prev=z,z.next.prev=O,z.next=O):(O.prev=O,O.next=O),O}function E(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function x(I,N,F){this.i=I,this.x=N,this.y=F,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}V.deviation=function(I,N,F,z){var O=N&&N.length,_=O?N[0]*F:I.length,B=Math.abs(k(I,0,_,F));if(O)for(var W=0,$=N.length;W<$;W++){var te=N[W]*F,ie=W<$-1?N[W+1]*F:I.length;B-=Math.abs(k(I,te,ie,F))}var ue=0;for(W=0;W<z.length;W+=3){var J=z[W]*F,Y=z[W+1]*F,ae=z[W+2]*F;ue+=Math.abs((I[J]-I[ae])*(I[Y+1]-I[J+1])-(I[J]-I[Y])*(I[ae+1]-I[J+1]))}return B===0&&ue===0?0:Math.abs((ue-B)/B)};function k(I,N,F,z){for(var O=0,_=N,B=F-z;_<F;_+=z)O+=(I[B]-I[_])*(I[_+1]+I[B+1]),B=_;return O}V.flatten=function(I){for(var N=I[0][0].length,F={vertices:[],holes:[],dimensions:N},z=0,O=0;O<I.length;O++){for(var _=0;_<I[O].length;_++)for(var B=0;B<N;B++)F.vertices.push(I[O][_][B]);O>0&&(z+=I[O-1].length,F.holes.push(z))}return F}},2502:function(G,V,e){var y=e(68664);G.exports=function(o,L){var M=[],v=[],p=[],r={},t=[],i;function n(A){p[A]=!1,r.hasOwnProperty(A)&&Object.keys(r[A]).forEach(function(w){delete r[A][w],p[w]&&n(w)})}function c(A){var w=!1;v.push(A),p[A]=!0;var C,b;for(C=0;C<t[A].length;C++)b=t[A][C],b===i?(u(i,v),w=!0):p[b]||(w=c(b));if(w)n(A);else for(C=0;C<t[A].length;C++){b=t[A][C];var S=r[b];S||(S={},r[b]=S),S[b]=!0}return v.pop(),w}function u(A,w){var C=[].concat(w).concat(A);L?L(c):M.push(C)}function l(A){for(var w=0;w<o.length;w++)w<A&&(o[w]=[]),o[w]=o[w].filter(function(C){return C>=A})}function g(A){l(A);for(var w=o,C=y(w),b=C.components.filter(function(I){return I.length>1}),S=1/0,m,a=0;a<b.length;a++)for(var E=0;E<b[a].length;E++)b[a][E]<S&&(S=b[a][E],m=a);var x=b[m];if(!x)return!1;var k=o.map(function(I,N){return x.indexOf(N)===-1?[]:I.filter(function(F){return x.indexOf(F)!==-1})});return{leastVertex:S,adjList:k}}i=0;for(var f=o.length;i<f;){var T=g(i);if(i=T.leastVertex,t=T.adjList,t){for(var h=0;h<t.length;h++)for(var s=0;s<t[h].length;s++){var d=t[h][s];p[+d]=!1,r[d]={}}c(i),i=i+1}else i=f}if(!L)return M}},16134:function(G,V,e){var y=e(36672);G.exports=function(){return y(this).length=0,this}},4892:function(G,V,e){G.exports=e(64404)()?Array.from:e(49441)},64404:function(G){G.exports=function(){var V=Array.from,e,y;return typeof V!="function"?!1:(e=["raz","dwa"],y=V(e),!!(y&&y!==e&&y[1]==="dwa"))}},49441:function(G,V,e){var y=e(8260).iterator,P=e(73051),o=e(33717),L=e(35976),M=e(78513),v=e(36672),p=e(95296),r=e(87963),t=Array.isArray,i=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},c=Object.defineProperty;G.exports=function(u){var l=arguments[1],g=arguments[2],f,T,h,s,d,A,w,C,b,S;if(u=Object(v(u)),p(l)&&M(l),!this||this===Array||!o(this)){if(!l){if(P(u))return d=u.length,d!==1?Array.apply(null,u):(s=new Array(1),s[0]=u[0],s);if(t(u)){for(s=new Array(d=u.length),T=0;T<d;++T)s[T]=u[T];return s}}s=[]}else f=this;if(!t(u)){if((b=u[y])!==void 0){for(w=M(b).call(u),f&&(s=new f),C=w.next(),T=0;!C.done;)S=l?i.call(l,g,C.value,T):C.value,f?(n.value=S,c(s,T,n)):s[T]=S,C=w.next(),++T;d=T}else if(r(u)){for(d=u.length,f&&(s=new f),T=0,h=0;T<d;++T)S=u[T],T+1<d&&(A=S.charCodeAt(0),A>=55296&&A<=56319&&(S+=u[++T])),S=l?i.call(l,g,S,h):S,f?(n.value=S,c(s,h,n)):s[h]=S,++h;d=h}}if(d===void 0)for(d=L(u.length),f&&(s=new f(d)),T=0;T<d;++T)S=l?i.call(l,g,u[T],T):u[T],f?(n.value=S,c(s,T,n)):s[T]=S;return f&&(n.value=null,s.length=d),s}},73051:function(G){var V=Object.prototype.toString,e=V.call(function(){return arguments}());G.exports=function(y){return V.call(y)===e}},33717:function(G){var V=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(y){return typeof y=="function"&&e(V.call(y))}},52345:function(G){G.exports=function(){}},9953:function(G,V,e){G.exports=e(90436)()?Math.sign:e(6069)},90436:function(G){G.exports=function(){var V=Math.sign;return typeof V!="function"?!1:V(10)===1&&V(-20)===-1}},6069:function(G){G.exports=function(V){return V=Number(V),isNaN(V)||V===0?V:V>0?1:-1}},56247:function(G,V,e){var y=e(9953),P=Math.abs,o=Math.floor;G.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:y(L)*o(P(L)))}},35976:function(G,V,e){var y=e(56247),P=Math.max;G.exports=function(o){return P(0,y(o))}},67260:function(G,V,e){var y=e(78513),P=e(36672),o=Function.prototype.bind,L=Function.prototype.call,M=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(p,r){return function(t,i){var n,c=arguments[2],u=arguments[3];return t=Object(P(t)),y(i),n=M(t),u&&n.sort(typeof u=="function"?o.call(u,t):void 0),typeof p!="function"&&(p=n[p]),L.call(p,n,function(l,g){return v.call(t,l)?L.call(i,c,t[l],l,t,g):r})}}},95879:function(G,V,e){G.exports=e(73583)()?Object.assign:e(34205)},73583:function(G){G.exports=function(){var V=Object.assign,e;return typeof V!="function"?!1:(e={foo:"raz"},V(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(G,V,e){var y=e(68700),P=e(36672),o=Math.max;G.exports=function(L,M){var v,p,r=o(arguments.length,2),t;for(L=Object(P(L)),t=function(i){try{L[i]=M[i]}catch(n){v||(v=n)}},p=1;p<r;++p)M=arguments[p],y(M).forEach(t);if(v!==void 0)throw v;return L}},19012:function(G,V,e){var y=e(4892),P=e(95879),o=e(36672);G.exports=function(L){var M=Object(o(L)),v=arguments[1],p=Object(arguments[2]);if(M!==L&&!v)return M;var r={};return v?y(v,function(t){(p.ensure||t in L)&&(r[t]=L[t])}):P(r,L),r}},52818:function(G,V,e){var y=Object.create,P;e(33247)()||(P=e(51882)),G.exports=function(){var o,L,M;return!P||P.level!==1?y:(o={},L={},M={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=M}),Object.defineProperties(o,L),Object.defineProperty(P,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:o}),function(v,p){return y(v===null?o:v,p)})}()},96437:function(G,V,e){G.exports=e(67260)("forEach")},99611:function(G,V,e){var y=e(95296),P={function:!0,object:!0};G.exports=function(o){return y(o)&&P[typeof o]||!1}},95296:function(G,V,e){var y=e(52345)();G.exports=function(P){return P!==y&&P!==null}},68700:function(G,V,e){G.exports=e(13895)()?Object.keys:e(25217)},13895:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(G,V,e){var y=e(95296),P=Object.keys;G.exports=function(o){return P(y(o)?Object(o):o)}},16906:function(G,V,e){var y=e(78513),P=e(96437),o=Function.prototype.call;G.exports=function(L,M){var v={},p=arguments[2];return y(M),P(L,function(r,t,i,n){v[t]=o.call(M,p,r,t,i,n)}),v}},21780:function(G,V,e){var y=e(95296),P=Array.prototype.forEach,o=Object.create,L=function(M,v){var p;for(p in M)v[p]=M[p]};G.exports=function(M){var v=o(null);return P.call(arguments,function(p){y(p)&&L(Object(p),v)}),v}},1496:function(G,V,e){G.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(G){var V=Object.create,e=Object.getPrototypeOf,y={};G.exports=function(){var P=Object.setPrototypeOf,o=arguments[0]||V;return typeof P!="function"?!1:e(P(o(null),y))===y}},51882:function(G,V,e){var y=e(99611),P=e(36672),o=Object.prototype.isPrototypeOf,L=Object.defineProperty,M={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(P(p),r===null||y(r))return p;throw new TypeError("Prototype must be null or an object")},G.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(i,n){return t.call(v(i,n),n),i}):r=function(i,n){return v(i,n).__proto__=n,i}:r=function i(n,c){var u;return v(n,c),u=o.call(i.nullPolyfill,n),u&&delete i.nullPolyfill.__proto__,c===null&&(c=i.nullPolyfill),n.__proto__=c,u&&L(i.nullPolyfill,"__proto__",M),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{t=i.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(52818)},78513:function(G){G.exports=function(V){if(typeof V!="function")throw new TypeError(V+" is not a function");return V}},98976:function(G,V,e){var y=e(99611);G.exports=function(P){if(!y(P))throw new TypeError(P+" is not an Object");return P}},36672:function(G,V,e){var y=e(95296);G.exports=function(P){if(!y(P))throw new TypeError("Cannot use null or undefined");return P}},66741:function(G,V,e){G.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(G){var V="razdwatrzy";G.exports=function(){return typeof V.contains!="function"?!1:V.contains("dwa")===!0&&V.contains("foo")===!1}},60381:function(G){var V=String.prototype.indexOf;G.exports=function(e){return V.call(this,e,arguments[1])>-1}},87963:function(G){var V=Object.prototype.toString,e=V.call("");G.exports=function(y){return typeof y=="string"||y&&typeof y=="object"&&(y instanceof String||V.call(y)===e)||!1}},43043:function(G){var V=Object.create(null),e=Math.random;G.exports=function(){var y;do y=e().toString(36).slice(2);while(V[y]);return y}},32411:function(G,V,e){var y=e(1496),P=e(66741),o=e(62072),L=e(8260),M=e(95426),v=Object.defineProperty,p;p=G.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");M.call(this,r),t?P.call(t,"key+value")?t="key+value":P.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",o("",t))},y&&y(p,M),delete p.prototype.constructor,p.prototype=Object.create(M.prototype,{_resolve:o(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,L.toStringTag,o("c","Array Iterator"))},27515:function(G,V,e){var y=e(73051),P=e(78513),o=e(87963),L=e(66661),M=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;G.exports=function(r,t){var i,n=arguments[2],c,u,l,g,f,T,h;if(M(r)||y(r)?i="array":o(r)?i="string":r=L(r),P(t),u=function(){l=!0},i==="array"){p.call(r,function(s){return v.call(t,n,s,u),l});return}if(i==="string"){for(f=r.length,g=0;g<f&&(T=r[g],g+1<f&&(h=T.charCodeAt(0),h>=55296&&h<=56319&&(T+=r[++g])),v.call(t,n,T,u),!l);++g);return}for(c=r.next();!c.done;){if(v.call(t,n,c.value,u),l)return;c=r.next()}}},66661:function(G,V,e){var y=e(73051),P=e(87963),o=e(32411),L=e(259),M=e(58095),v=e(8260).iterator;G.exports=function(p){return typeof M(p)[v]=="function"?p[v]():y(p)?new o(p):P(p)?new L(p):new o(p)}},95426:function(G,V,e){var y=e(16134),P=e(95879),o=e(78513),L=e(36672),M=e(62072),v=e(55174),p=e(8260),r=Object.defineProperty,t=Object.defineProperties,i;G.exports=i=function(n,c){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");t(this,{__list__:M("w",L(n)),__context__:M("w",c),__nextIndex__:M("w",0)}),c&&(o(c.on),c.on("_add",this._onAdd),c.on("_delete",this._onDelete),c.on("_clear",this._onClear))},delete i.prototype.constructor,t(i.prototype,P({_next:M(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:M(function(){return this._createResult(this._next())}),_createResult:M(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:M(function(n){return this.__list__[n]}),_unBind:M(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:M(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:M(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",M("c",[n]));return}this.__redo__.forEach(function(c,u){c>=n&&(this.__redo__[u]=++c)},this),this.__redo__.push(n)}}),_onDelete:M(function(n){var c;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(c=this.__redo__.indexOf(n),c!==-1&&this.__redo__.splice(c,1),this.__redo__.forEach(function(u,l){u>n&&(this.__redo__[l]=--u)},this)))}),_onClear:M(function(){this.__redo__&&y.call(this.__redo__),this.__nextIndex__=0})}))),r(i.prototype,p.iterator,M(function(){return this}))},35940:function(G,V,e){var y=e(73051),P=e(95296),o=e(87963),L=e(8260).iterator,M=Array.isArray;G.exports=function(v){return P(v)?M(v)||o(v)||y(v)?!0:typeof v[L]=="function":!1}},259:function(G,V,e){var y=e(1496),P=e(62072),o=e(8260),L=e(95426),M=Object.defineProperty,v;v=G.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),L.call(this,p),M(this,"__length__",P("",p.length))},y&&y(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:P(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:P(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),M(v.prototype,o.toStringTag,P("c","String Iterator"))},58095:function(G,V,e){var y=e(35940);G.exports=function(P){if(!y(P))throw new TypeError(P+" is not iterable");return P}},73523:function(G){function V(y,P){if(y==null)throw new TypeError("Cannot convert first argument to object");for(var o=Object(y),L=1;L<arguments.length;L++){var M=arguments[L];if(M!=null)for(var v=Object.keys(Object(M)),p=0,r=v.length;p<r;p++){var t=v[p],i=Object.getOwnPropertyDescriptor(M,t);i!==void 0&&i.enumerable&&(o[t]=M[t])}}return o}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:V})}G.exports={assign:V,polyfill:e}},8260:function(G,V,e){G.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(G,V,e){var y=e(94908),P={object:!0,symbol:!0};G.exports=function(){var o=y.Symbol,L;if(typeof o!="function")return!1;L=o("test symbol");try{String(L)}catch{return!1}return!(!P[typeof o.iterator]||!P[typeof o.toPrimitive]||!P[typeof o.toStringTag])}},82276:function(G){G.exports=function(V){return V?typeof V=="symbol"?!0:!V.constructor||V.constructor.name!=="Symbol"?!1:V[V.constructor.toStringTag]==="Symbol":!1}},29366:function(G,V,e){var y=e(62072),P=Object.create,o=Object.defineProperty,L=Object.prototype,M=P(null);G.exports=function(v){for(var p=0,r,t;M[v+(p||"")];)++p;return v+=p||"",M[v]=!0,r="@@"+v,o(L,r,y.gs(null,function(i){t||(t=!0,o(this,r,y(i)),t=!1)})),r}},92842:function(G,V,e){var y=e(62072),P=e(94908).Symbol;G.exports=function(o){return Object.defineProperties(o,{hasInstance:y("",P&&P.hasInstance||o("hasInstance")),isConcatSpreadable:y("",P&&P.isConcatSpreadable||o("isConcatSpreadable")),iterator:y("",P&&P.iterator||o("iterator")),match:y("",P&&P.match||o("match")),replace:y("",P&&P.replace||o("replace")),search:y("",P&&P.search||o("search")),species:y("",P&&P.species||o("species")),split:y("",P&&P.split||o("split")),toPrimitive:y("",P&&P.toPrimitive||o("toPrimitive")),toStringTag:y("",P&&P.toStringTag||o("toStringTag")),unscopables:y("",P&&P.unscopables||o("unscopables"))})}},13304:function(G,V,e){var y=e(62072),P=e(53308),o=Object.create(null);G.exports=function(L){return Object.defineProperties(L,{for:y(function(M){return o[M]?o[M]:o[M]=L(String(M))}),keyFor:y(function(M){var v;P(M);for(v in o)if(o[v]===M)return v})})}},18415:function(G,V,e){var y=e(62072),P=e(53308),o=e(94908).Symbol,L=e(29366),M=e(92842),v=e(13304),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,i,n,c;if(typeof o=="function")try{String(o()),c=!0}catch{}else o=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return i(l)},G.exports=i=function u(l){var g;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return c?o(l):(g=p(n.prototype),l=l===void 0?"":String(l),r(g,{__description__:y("",l),__name__:y("",L(l))}))},M(i),v(i),r(n.prototype,{constructor:y(i),toString:y("",function(){return this.__name__})}),r(i.prototype,{toString:y(function(){return"Symbol ("+P(this).__description__+")"}),valueOf:y(function(){return P(this)})}),t(i.prototype,i.toPrimitive,y("",function(){var u=P(this);return typeof u=="symbol"?u:u.toString()})),t(i.prototype,i.toStringTag,y("c","Symbol")),t(n.prototype,i.toStringTag,y("c",i.prototype[i.toStringTag])),t(n.prototype,i.toPrimitive,y("c",i.prototype[i.toPrimitive]))},53308:function(G,V,e){var y=e(82276);G.exports=function(P){if(!y(P))throw new TypeError(P+" is not a symbol");return P}},83522:function(G,V,e){G.exports=e(96402)()?WeakMap:e(329)},96402:function(G){G.exports=function(){var V,e;if(typeof WeakMap!="function")return!1;try{V=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(V)!=="[object WeakMap]"||typeof V.set!="function"||V.set({},1)!==V||typeof V.delete!="function"||typeof V.has!="function"||V.get(e)!=="one")}},96416:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(G,V,e){var y=e(95296),P=e(1496),o=e(98976),L=e(36672),M=e(43043),v=e(62072),p=e(66661),r=e(27515),t=e(8260).toStringTag,i=e(96416),n=Array.isArray,c=Object.defineProperty,u=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,g;G.exports=g=function(){var f=arguments[0],T;if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");return T=i&&P&&WeakMap!==g?P(new WeakMap,l(this)):this,y(f)&&(n(f)||(f=p(f))),c(T,"__weakMapData__",v("c","$weakMap$"+M())),f&&r(f,function(h){L(h),T.set(h[0],h[1])}),T},i&&(P&&P(g,WeakMap),g.prototype=Object.create(WeakMap.prototype,{constructor:v(g)})),Object.defineProperties(g.prototype,{delete:v(function(f){return u.call(o(f),this.__weakMapData__)?(delete f[this.__weakMapData__],!0):!1}),get:v(function(f){if(u.call(o(f),this.__weakMapData__))return f[this.__weakMapData__]}),has:v(function(f){return u.call(o(f),this.__weakMapData__)}),set:v(function(f,T){return c(o(f),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),c(g.prototype,t,v("c","WeakMap"))},15398:function(G){var V=typeof Reflect=="object"?Reflect:null,e=V&&typeof V.apply=="function"?V.apply:function(d,A,w){return Function.prototype.apply.call(d,A,w)},y;V&&typeof V.ownKeys=="function"?y=V.ownKeys:Object.getOwnPropertySymbols?y=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:y=function(d){return Object.getOwnPropertyNames(d)};function P(s){console&&console.warn&&console.warn(s)}var o=Number.isNaN||function(d){return d!==d};function L(){L.init.call(this)}G.exports=L,G.exports.once=f,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var M=10;function v(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function(s){if(typeof s!="number"||s<0||o(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");M=s}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||o(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(s){return s._maxListeners===void 0?L.defaultMaxListeners:s._maxListeners}L.prototype.getMaxListeners=function(){return p(this)},L.prototype.emit=function(d){for(var A=[],w=1;w<arguments.length;w++)A.push(arguments[w]);var C=d==="error",b=this._events;if(b!==void 0)C=C&&b.error===void 0;else if(!C)return!1;if(C){var S;if(A.length>0&&(S=A[0]),S instanceof Error)throw S;var m=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw m.context=S,m}var a=b[d];if(a===void 0)return!1;if(typeof a=="function")e(a,this,A);else for(var E=a.length,x=u(a,E),w=0;w<E;++w)e(x[w],this,A);return!0};function r(s,d,A,w){var C,b,S;if(v(A),b=s._events,b===void 0?(b=s._events=Object.create(null),s._eventsCount=0):(b.newListener!==void 0&&(s.emit("newListener",d,A.listener?A.listener:A),b=s._events),S=b[d]),S===void 0)S=b[d]=A,++s._eventsCount;else if(typeof S=="function"?S=b[d]=w?[A,S]:[S,A]:w?S.unshift(A):S.push(A),C=p(s),C>0&&S.length>C&&!S.warned){S.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=s,m.type=d,m.count=S.length,P(m)}return s}L.prototype.addListener=function(d,A){return r(this,d,A,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(d,A){return r(this,d,A,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(s,d,A){var w={fired:!1,wrapFn:void 0,target:s,type:d,listener:A},C=t.bind(w);return C.listener=A,w.wrapFn=C,C}L.prototype.once=function(d,A){return v(A),this.on(d,i(this,d,A)),this},L.prototype.prependOnceListener=function(d,A){return v(A),this.prependListener(d,i(this,d,A)),this},L.prototype.removeListener=function(d,A){var w,C,b,S,m;if(v(A),C=this._events,C===void 0)return this;if(w=C[d],w===void 0)return this;if(w===A||w.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,w.listener||A));else if(typeof w!="function"){for(b=-1,S=w.length-1;S>=0;S--)if(w[S]===A||w[S].listener===A){m=w[S].listener,b=S;break}if(b<0)return this;b===0?w.shift():l(w,b),w.length===1&&(C[d]=w[0]),C.removeListener!==void 0&&this.emit("removeListener",d,m||A)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(d){var A,w,C;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[d]),this;if(arguments.length===0){var b=Object.keys(w),S;for(C=0;C<b.length;++C)S=b[C],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=w[d],typeof A=="function")this.removeListener(d,A);else if(A!==void 0)for(C=A.length-1;C>=0;C--)this.removeListener(d,A[C]);return this};function n(s,d,A){var w=s._events;if(w===void 0)return[];var C=w[d];return C===void 0?[]:typeof C=="function"?A?[C.listener||C]:[C]:A?g(C):u(C,C.length)}L.prototype.listeners=function(d){return n(this,d,!0)},L.prototype.rawListeners=function(d){return n(this,d,!1)},L.listenerCount=function(s,d){return typeof s.listenerCount=="function"?s.listenerCount(d):c.call(s,d)},L.prototype.listenerCount=c;function c(s){var d=this._events;if(d!==void 0){var A=d[s];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]};function u(s,d){for(var A=new Array(d),w=0;w<d;++w)A[w]=s[w];return A}function l(s,d){for(;d+1<s.length;d++)s[d]=s[d+1];s.pop()}function g(s){for(var d=new Array(s.length),A=0;A<d.length;++A)d[A]=s[A].listener||s[A];return d}function f(s,d){return new Promise(function(A,w){function C(S){s.removeListener(d,b),w(S)}function b(){typeof s.removeListener=="function"&&s.removeListener("error",C),A([].slice.call(arguments))}h(s,d,b,{once:!0}),d!=="error"&&T(s,C,{once:!0})})}function T(s,d,A){typeof s.on=="function"&&h(s,"error",d,A)}function h(s,d,A,w){if(typeof s.on=="function")w.once?s.once(d,A):s.on(d,A);else if(typeof s.addEventListener=="function")s.addEventListener(d,function C(b){w.once&&s.removeEventListener(d,C),A(b)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof s)}},60774:function(G){var V=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return V()}try{return __global__||V()}finally{delete Object.prototype.__global__}}()},94908:function(G,V,e){G.exports=e(51152)()?globalThis:e(60774)},51152:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(G,V,e){var y=e(18546);G.exports=function(P){var o=typeof P;if(o==="string"){var L=P;if(P=+P,P===0&&y(L))return!1}else if(o!=="number")return!1;return P-P<1}},30120:function(G,V,e){var y=e(90660);G.exports=P;function P(o,L,M){if(!o)throw new TypeError("must specify data as first parameter");if(M=+(M||0)|0,Array.isArray(o)&&o[0]&&typeof o[0][0]=="number"){var v=o[0].length,p=o.length*v,r,t,i,n;(!L||typeof L=="string")&&(L=new(y(L||"float32"))(p+M));var c=L.length-M;if(p!==c)throw new Error("source length "+p+" ("+v+"x"+o.length+") does not match destination length "+c);for(r=0,i=M;r<o.length;r++)for(t=0;t<v;t++)L[i++]=o[r][t]===null?NaN:o[r][t]}else if(!L||typeof L=="string"){var u=y(L||"float32");if(Array.isArray(o)||L==="array")for(L=new u(o.length+M),r=0,i=M,n=L.length;i<n;i++,r++)L[i]=o[r]===null?NaN:o[r];else M===0?L=new u(o):(L=new u(o.length+M),L.set(o,M))}else L.set(o,M);return L}},68016:function(G,V,e){var y=e(53313),P=[32,126];G.exports=o;function o(L){L=L||{};var M=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),p=L.font,r=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],t=L.chars||P;if(p&&typeof p!="string"&&(p=y(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],n=t[0],c=0;n<=t[1];n++)i[c++]=String.fromCharCode(n);t=i}M=M.slice(),v.width=M[0],v.height=M[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=p,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var l=r[0]/2,g=r[1]/2,n=0;n<t.length;n++)u.fillText(t[n],l,g),(l+=r[0])>M[0]-r[0]/2&&(l=r[0]/2,g+=r[1]);return v}},32879:function(G){G.exports=V,V.canvas=document.createElement("canvas"),V.cache={};function V(t,L){L||(L={}),(typeof t=="string"||Array.isArray(t))&&(L.family=t);var M=Array.isArray(L.family)?L.family.join(", "):L.family;if(!M)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,p=L.weight||L.fontWeight||"",r=L.style||L.fontStyle||"",t=[r,p,v].join(" ")+"px "+M,i=L.origin||"top";if(V.cache[M]&&v<=V.cache[M].em)return e(V.cache[M],i);var n=L.canvas||V.canvas,c=n.getContext("2d"),u={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,c.font=t;var g="H",f={top:0};c.clearRect(0,0,l,l),c.textBaseline="top",c.fillStyle="black",c.fillText(g,0,0);var T=y(c.getImageData(0,0,l,l));c.clearRect(0,0,l,l),c.textBaseline="bottom",c.fillText(g,0,l);var h=y(c.getImageData(0,0,l,l));f.lineHeight=f.bottom=l-h+T,c.clearRect(0,0,l,l),c.textBaseline="alphabetic",c.fillText(g,0,l);var s=y(c.getImageData(0,0,l,l)),d=l-s-1+T;f.baseline=f.alphabetic=d,c.clearRect(0,0,l,l),c.textBaseline="middle",c.fillText(g,0,l*.5);var A=y(c.getImageData(0,0,l,l));f.median=f.middle=l-A-1+T-l*.5,c.clearRect(0,0,l,l),c.textBaseline="hanging",c.fillText(g,0,l*.5);var w=y(c.getImageData(0,0,l,l));f.hanging=l-w-1+T-l*.5,c.clearRect(0,0,l,l),c.textBaseline="ideographic",c.fillText(g,0,l);var C=y(c.getImageData(0,0,l,l));if(f.ideographic=l-C-1+T,u.upper&&(c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.upper,0,0),f.upper=y(c.getImageData(0,0,l,l)),f.capHeight=f.baseline-f.upper),u.lower&&(c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.lower,0,0),f.lower=y(c.getImageData(0,0,l,l)),f.xHeight=f.baseline-f.lower),u.tittle&&(c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.tittle,0,0),f.tittle=y(c.getImageData(0,0,l,l))),u.ascent&&(c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.ascent,0,0),f.ascent=y(c.getImageData(0,0,l,l))),u.descent&&(c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.descent,0,0),f.descent=P(c.getImageData(0,0,l,l))),u.overshoot){c.clearRect(0,0,l,l),c.textBaseline="top",c.fillText(u.overshoot,0,0);var b=P(c.getImageData(0,0,l,l));f.overshoot=b-d}for(var S in f)f[S]/=v;return f.em=v,V.cache[M]=f,e(f,i)}function e(o,L){var M={};typeof L=="string"&&(L=o[L]);for(var v in o)v!=="em"&&(M[v]=o[v]-L);return M}function y(o){for(var L=o.height,M=o.data,v=3;v<M.length;v+=4)if(M[v]!==0)return Math.floor((v-3)*.25/L)}function P(o){for(var L=o.height,M=o.data,v=M.length-1;v>0;v-=4)if(M[v]!==0)return Math.floor((v-3)*.25/L)}},31353:function(G,V,e){var y=e(85395),P=Object.prototype.toString,o=Object.prototype.hasOwnProperty,L=function(t,i,n){for(var c=0,u=t.length;c<u;c++)o.call(t,c)&&(n==null?i(t[c],c,t):i.call(n,t[c],c,t))},M=function(t,i,n){for(var c=0,u=t.length;c<u;c++)n==null?i(t.charAt(c),c,t):i.call(n,t.charAt(c),c,t)},v=function(t,i,n){for(var c in t)o.call(t,c)&&(n==null?i(t[c],c,t):i.call(n,t[c],c,t))},p=function(t,i,n){if(!y(i))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=n),P.call(t)==="[object Array]"?L(t,i,c):typeof t=="string"?M(t,i,c):v(t,i,c)};G.exports=p},73047:function(G){var V="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,y=Object.prototype.toString,P="[object Function]";G.exports=function(L){var M=this;if(typeof M!="function"||y.call(M)!==P)throw new TypeError(V+M);for(var v=e.call(arguments,1),p,r=function(){if(this instanceof p){var u=M.apply(this,v.concat(e.call(arguments)));return Object(u)===u?u:this}else return M.apply(L,v.concat(e.call(arguments)))},t=Math.max(0,M.length-v.length),i=[],n=0;n<t;n++)i.push("$"+n);if(p=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(r),M.prototype){var c=function(){};c.prototype=M.prototype,p.prototype=new c,c.prototype=null}return p}},77575:function(G,V,e){var y=e(73047);G.exports=Function.prototype.bind||y},86249:function(G){G.exports=V;function V(e,y){if(typeof e!="string")throw new TypeError("must specify type string");if(y=y||{},typeof document>"u"&&!y.canvas)return null;var P=y.canvas||document.createElement("canvas");typeof y.width=="number"&&(P.width=y.width),typeof y.height=="number"&&(P.height=y.height);var o=y,L;try{var M=[e];e.indexOf("webgl")===0&&M.push("experimental-"+e);for(var v=0;v<M.length;v++)if(L=P.getContext(M[v],o),L)return L}catch{L=null}return L||null}},68318:function(G,V,e){var y,P=SyntaxError,o=Function,L=TypeError,M=function(E){try{return o('"use strict"; return ('+E+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new L},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(57877)(),i=Object.getPrototypeOf||function(E){return E.__proto__},n={},c=typeof Uint8Array>"u"?y:i(Uint8Array),u={"%AggregateError%":typeof AggregateError>"u"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?y:ArrayBuffer,"%ArrayIteratorPrototype%":t?i([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?y:Atomics,"%BigInt%":typeof BigInt>"u"?y:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?y:Float32Array,"%Float64Array%":typeof Float64Array>"u"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?y:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?y:Int8Array,"%Int16Array%":typeof Int16Array>"u"?y:Int16Array,"%Int32Array%":typeof Int32Array>"u"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t?i(i([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map>"u"?y:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t?y:i(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?y:Promise,"%Proxy%":typeof Proxy>"u"?y:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?y:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t?y:i(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t?i(""[Symbol.iterator]()):y,"%Symbol%":t?Symbol:y,"%SyntaxError%":P,"%ThrowTypeError%":r,"%TypedArray%":c,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?y:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?y:WeakMap,"%WeakRef%":typeof WeakRef>"u"?y:WeakRef,"%WeakSet%":typeof WeakSet>"u"?y:WeakSet};try{null.error}catch(E){var l=i(i(E));u["%Error.prototype%"]=l}var g=function E(x){var k;if(x==="%AsyncFunction%")k=M("async function () {}");else if(x==="%GeneratorFunction%")k=M("function* () {}");else if(x==="%AsyncGeneratorFunction%")k=M("async function* () {}");else if(x==="%AsyncGenerator%"){var I=E("%AsyncGeneratorFunction%");I&&(k=I.prototype)}else if(x==="%AsyncIteratorPrototype%"){var N=E("%AsyncGenerator%");N&&(k=i(N.prototype))}return u[x]=k,k},f={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=e(77575),h=e(35065),s=T.call(Function.call,Array.prototype.concat),d=T.call(Function.apply,Array.prototype.splice),A=T.call(Function.call,String.prototype.replace),w=T.call(Function.call,String.prototype.slice),C=T.call(Function.call,RegExp.prototype.exec),b=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,m=function(x){var k=w(x,0,1),I=w(x,-1);if(k==="%"&&I!=="%")throw new P("invalid intrinsic syntax, expected closing `%`");if(I==="%"&&k!=="%")throw new P("invalid intrinsic syntax, expected opening `%`");var N=[];return A(x,b,function(F,z,O,_){N[N.length]=O?A(_,S,"$1"):z||F}),N},a=function(x,k){var I=x,N;if(h(f,I)&&(N=f[I],I="%"+N[0]+"%"),h(u,I)){var F=u[I];if(F===n&&(F=g(I)),typeof F>"u"&&!k)throw new L("intrinsic "+x+" exists, but is not available. Please file an issue!");return{alias:N,name:I,value:F}}throw new P("intrinsic "+x+" does not exist!")};G.exports=function(x,k){if(typeof x!="string"||x.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof k!="boolean")throw new L('"allowMissing" argument must be a boolean');if(C(/^%?[^%]*%?$/,x)===null)throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=m(x),N=I.length>0?I[0]:"",F=a("%"+N+"%",k),z=F.name,O=F.value,_=!1,B=F.alias;B&&(N=B[0],d(I,s([0,1],B)));for(var W=1,$=!0;W<I.length;W+=1){var te=I[W],ie=w(te,0,1),ue=w(te,-1);if((ie==='"'||ie==="'"||ie==="`"||ue==='"'||ue==="'"||ue==="`")&&ie!==ue)throw new P("property names with quotes must have matching quotes");if((te==="constructor"||!$)&&(_=!0),N+="."+te,z="%"+N+"%",h(u,z))O=u[z];else if(O!=null){if(!(te in O)){if(!k)throw new L("base intrinsic for "+x+" exists, but the property is not available.");return}if(v&&W+1>=I.length){var J=v(O,te);$=!!J,$&&"get"in J&&!("originalValue"in J.get)?O=J.get:O=O[te]}else $=h(O,te),O=O[te];$&&!_&&(u[z]=O)}}return O}},85400:function(G){G.exports=V;function V(e,y){var P=y[0],o=y[1],L=y[2],M=y[3],v=y[4],p=y[5],r=y[6],t=y[7],i=y[8],n=y[9],c=y[10],u=y[11],l=y[12],g=y[13],f=y[14],T=y[15];return e[0]=p*(c*T-u*f)-n*(r*T-t*f)+g*(r*u-t*c),e[1]=-(o*(c*T-u*f)-n*(L*T-M*f)+g*(L*u-M*c)),e[2]=o*(r*T-t*f)-p*(L*T-M*f)+g*(L*t-M*r),e[3]=-(o*(r*u-t*c)-p*(L*u-M*c)+n*(L*t-M*r)),e[4]=-(v*(c*T-u*f)-i*(r*T-t*f)+l*(r*u-t*c)),e[5]=P*(c*T-u*f)-i*(L*T-M*f)+l*(L*u-M*c),e[6]=-(P*(r*T-t*f)-v*(L*T-M*f)+l*(L*t-M*r)),e[7]=P*(r*u-t*c)-v*(L*u-M*c)+i*(L*t-M*r),e[8]=v*(n*T-u*g)-i*(p*T-t*g)+l*(p*u-t*n),e[9]=-(P*(n*T-u*g)-i*(o*T-M*g)+l*(o*u-M*n)),e[10]=P*(p*T-t*g)-v*(o*T-M*g)+l*(o*t-M*p),e[11]=-(P*(p*u-t*n)-v*(o*u-M*n)+i*(o*t-M*p)),e[12]=-(v*(n*f-c*g)-i*(p*f-r*g)+l*(p*c-r*n)),e[13]=P*(n*f-c*g)-i*(o*f-L*g)+l*(o*c-L*n),e[14]=-(P*(p*f-r*g)-v*(o*f-L*g)+l*(o*r-L*p)),e[15]=P*(p*c-r*n)-v*(o*c-L*n)+i*(o*r-L*p),e}},42331:function(G){G.exports=V;function V(e){var y=new Float32Array(16);return y[0]=e[0],y[1]=e[1],y[2]=e[2],y[3]=e[3],y[4]=e[4],y[5]=e[5],y[6]=e[6],y[7]=e[7],y[8]=e[8],y[9]=e[9],y[10]=e[10],y[11]=e[11],y[12]=e[12],y[13]=e[13],y[14]=e[14],y[15]=e[15],y}},31042:function(G){G.exports=V;function V(e,y){return e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=y[3],e[4]=y[4],e[5]=y[5],e[6]=y[6],e[7]=y[7],e[8]=y[8],e[9]=y[9],e[10]=y[10],e[11]=y[11],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15],e}},11902:function(G){G.exports=V;function V(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(G){G.exports=V;function V(e){var y=e[0],P=e[1],o=e[2],L=e[3],M=e[4],v=e[5],p=e[6],r=e[7],t=e[8],i=e[9],n=e[10],c=e[11],u=e[12],l=e[13],g=e[14],f=e[15],T=y*v-P*M,h=y*p-o*M,s=y*r-L*M,d=P*p-o*v,A=P*r-L*v,w=o*r-L*p,C=t*l-i*u,b=t*g-n*u,S=t*f-c*u,m=i*g-n*l,a=i*f-c*l,E=n*f-c*g;return T*E-h*a+s*m+d*S-A*b+w*C}},27812:function(G){G.exports=V;function V(e,y){var P=y[0],o=y[1],L=y[2],M=y[3],v=P+P,p=o+o,r=L+L,t=P*v,i=o*v,n=o*p,c=L*v,u=L*p,l=L*r,g=M*v,f=M*p,T=M*r;return e[0]=1-n-l,e[1]=i+T,e[2]=c-f,e[3]=0,e[4]=i-T,e[5]=1-t-l,e[6]=u+g,e[7]=0,e[8]=c+f,e[9]=u-g,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(G){G.exports=V;function V(e,y,P){var o,L,M,v=P[0],p=P[1],r=P[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,o=Math.sin(y),L=Math.cos(y),M=1-L,e[0]=v*v*M+L,e[1]=p*v*M+r*o,e[2]=r*v*M-p*o,e[3]=0,e[4]=v*p*M-r*o,e[5]=p*p*M+L,e[6]=r*p*M+v*o,e[7]=0,e[8]=v*r*M+p*o,e[9]=p*r*M-v*o,e[10]=r*r*M+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(G){G.exports=V;function V(e,y,P){var o=y[0],L=y[1],M=y[2],v=y[3],p=o+o,r=L+L,t=M+M,i=o*p,n=o*r,c=o*t,u=L*r,l=L*t,g=M*t,f=v*p,T=v*r,h=v*t;return e[0]=1-(u+g),e[1]=n+h,e[2]=c-T,e[3]=0,e[4]=n-h,e[5]=1-(i+g),e[6]=l+f,e[7]=0,e[8]=c+T,e[9]=l-f,e[10]=1-(i+u),e[11]=0,e[12]=P[0],e[13]=P[1],e[14]=P[2],e[15]=1,e}},81472:function(G){G.exports=V;function V(e,y){return e[0]=y[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=y[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=y[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(G){G.exports=V;function V(e,y){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=y[0],e[13]=y[1],e[14]=y[2],e[15]=1,e}},75262:function(G){G.exports=V;function V(e,y){var P=Math.sin(y),o=Math.cos(y);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=P,e[7]=0,e[8]=0,e[9]=-P,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(G){G.exports=V;function V(e,y){var P=Math.sin(y),o=Math.cos(y);return e[0]=o,e[1]=0,e[2]=-P,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=P,e[9]=0,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(G){G.exports=V;function V(e,y){var P=Math.sin(y),o=Math.cos(y);return e[0]=o,e[1]=P,e[2]=0,e[3]=0,e[4]=-P,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(G){G.exports=V;function V(e,y,P,o,L,M,v){var p=1/(P-y),r=1/(L-o),t=1/(M-v);return e[0]=M*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=M*2*r,e[6]=0,e[7]=0,e[8]=(P+y)*p,e[9]=(L+o)*r,e[10]=(v+M)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*M*2*t,e[15]=0,e}},71551:function(G){G.exports=V;function V(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(G,V,e){G.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(G){G.exports=V;function V(e,y){var P=y[0],o=y[1],L=y[2],M=y[3],v=y[4],p=y[5],r=y[6],t=y[7],i=y[8],n=y[9],c=y[10],u=y[11],l=y[12],g=y[13],f=y[14],T=y[15],h=P*p-o*v,s=P*r-L*v,d=P*t-M*v,A=o*r-L*p,w=o*t-M*p,C=L*t-M*r,b=i*g-n*l,S=i*f-c*l,m=i*T-u*l,a=n*f-c*g,E=n*T-u*g,x=c*T-u*f,k=h*x-s*E+d*a+A*m-w*S+C*b;return k?(k=1/k,e[0]=(p*x-r*E+t*a)*k,e[1]=(L*E-o*x-M*a)*k,e[2]=(g*C-f*w+T*A)*k,e[3]=(c*w-n*C-u*A)*k,e[4]=(r*m-v*x-t*S)*k,e[5]=(P*x-L*m+M*S)*k,e[6]=(f*d-l*C-T*s)*k,e[7]=(i*C-c*d+u*s)*k,e[8]=(v*E-p*m+t*b)*k,e[9]=(o*m-P*E-M*b)*k,e[10]=(l*w-g*d+T*h)*k,e[11]=(n*d-i*w-u*h)*k,e[12]=(p*S-v*a-r*b)*k,e[13]=(P*a-o*S+L*b)*k,e[14]=(g*s-l*A-f*h)*k,e[15]=(i*A-n*s+c*h)*k,e):null}},65551:function(G,V,e){var y=e(71551);G.exports=P;function P(o,L,M,v){var p,r,t,i,n,c,u,l,g,f,T=L[0],h=L[1],s=L[2],d=v[0],A=v[1],w=v[2],C=M[0],b=M[1],S=M[2];return Math.abs(T-C)<1e-6&&Math.abs(h-b)<1e-6&&Math.abs(s-S)<1e-6?y(o):(u=T-C,l=h-b,g=s-S,f=1/Math.sqrt(u*u+l*l+g*g),u*=f,l*=f,g*=f,p=A*g-w*l,r=w*u-d*g,t=d*l-A*u,f=Math.sqrt(p*p+r*r+t*t),f?(f=1/f,p*=f,r*=f,t*=f):(p=0,r=0,t=0),i=l*t-g*r,n=g*p-u*t,c=u*r-l*p,f=Math.sqrt(i*i+n*n+c*c),f?(f=1/f,i*=f,n*=f,c*=f):(i=0,n=0,c=0),o[0]=p,o[1]=i,o[2]=u,o[3]=0,o[4]=r,o[5]=n,o[6]=l,o[7]=0,o[8]=t,o[9]=c,o[10]=g,o[11]=0,o[12]=-(p*T+r*h+t*s),o[13]=-(i*T+n*h+c*s),o[14]=-(u*T+l*h+g*s),o[15]=1,o)}},91362:function(G){G.exports=V;function V(e,y,P){var o=y[0],L=y[1],M=y[2],v=y[3],p=y[4],r=y[5],t=y[6],i=y[7],n=y[8],c=y[9],u=y[10],l=y[11],g=y[12],f=y[13],T=y[14],h=y[15],s=P[0],d=P[1],A=P[2],w=P[3];return e[0]=s*o+d*p+A*n+w*g,e[1]=s*L+d*r+A*c+w*f,e[2]=s*M+d*t+A*u+w*T,e[3]=s*v+d*i+A*l+w*h,s=P[4],d=P[5],A=P[6],w=P[7],e[4]=s*o+d*p+A*n+w*g,e[5]=s*L+d*r+A*c+w*f,e[6]=s*M+d*t+A*u+w*T,e[7]=s*v+d*i+A*l+w*h,s=P[8],d=P[9],A=P[10],w=P[11],e[8]=s*o+d*p+A*n+w*g,e[9]=s*L+d*r+A*c+w*f,e[10]=s*M+d*t+A*u+w*T,e[11]=s*v+d*i+A*l+w*h,s=P[12],d=P[13],A=P[14],w=P[15],e[12]=s*o+d*p+A*n+w*g,e[13]=s*L+d*r+A*c+w*f,e[14]=s*M+d*t+A*u+w*T,e[15]=s*v+d*i+A*l+w*h,e}},60378:function(G){G.exports=V;function V(e,y,P,o,L,M,v){var p=1/(y-P),r=1/(o-L),t=1/(M-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(y+P)*p,e[13]=(L+o)*r,e[14]=(v+M)*t,e[15]=1,e}},7864:function(G){G.exports=V;function V(e,y,P,o,L){var M=1/Math.tan(y/2),v=1/(o-L);return e[0]=M/P,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=M,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+o)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*o*v,e[15]=0,e}},35279:function(G){G.exports=V;function V(e,y,P,o){var L=Math.tan(y.upDegrees*Math.PI/180),M=Math.tan(y.downDegrees*Math.PI/180),v=Math.tan(y.leftDegrees*Math.PI/180),p=Math.tan(y.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(L+M);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(L-M)*t*.5,e[10]=o/(P-o),e[11]=-1,e[12]=0,e[13]=0,e[14]=o*P/(P-o),e[15]=0,e}},65074:function(G){G.exports=V;function V(e,y,P,o){var L=o[0],M=o[1],v=o[2],p=Math.sqrt(L*L+M*M+v*v),r,t,i,n,c,u,l,g,f,T,h,s,d,A,w,C,b,S,m,a,E,x,k,I;return Math.abs(p)<1e-6?null:(p=1/p,L*=p,M*=p,v*=p,r=Math.sin(P),t=Math.cos(P),i=1-t,n=y[0],c=y[1],u=y[2],l=y[3],g=y[4],f=y[5],T=y[6],h=y[7],s=y[8],d=y[9],A=y[10],w=y[11],C=L*L*i+t,b=M*L*i+v*r,S=v*L*i-M*r,m=L*M*i-v*r,a=M*M*i+t,E=v*M*i+L*r,x=L*v*i+M*r,k=M*v*i-L*r,I=v*v*i+t,e[0]=n*C+g*b+s*S,e[1]=c*C+f*b+d*S,e[2]=u*C+T*b+A*S,e[3]=l*C+h*b+w*S,e[4]=n*m+g*a+s*E,e[5]=c*m+f*a+d*E,e[6]=u*m+T*a+A*E,e[7]=l*m+h*a+w*E,e[8]=n*x+g*k+s*I,e[9]=c*x+f*k+d*I,e[10]=u*x+T*k+A*I,e[11]=l*x+h*k+w*I,y!==e&&(e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e)}},35545:function(G){G.exports=V;function V(e,y,P){var o=Math.sin(P),L=Math.cos(P),M=y[4],v=y[5],p=y[6],r=y[7],t=y[8],i=y[9],n=y[10],c=y[11];return y!==e&&(e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=y[3],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[4]=M*L+t*o,e[5]=v*L+i*o,e[6]=p*L+n*o,e[7]=r*L+c*o,e[8]=t*L-M*o,e[9]=i*L-v*o,e[10]=n*L-p*o,e[11]=c*L-r*o,e}},94918:function(G){G.exports=V;function V(e,y,P){var o=Math.sin(P),L=Math.cos(P),M=y[0],v=y[1],p=y[2],r=y[3],t=y[8],i=y[9],n=y[10],c=y[11];return y!==e&&(e[4]=y[4],e[5]=y[5],e[6]=y[6],e[7]=y[7],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[0]=M*L-t*o,e[1]=v*L-i*o,e[2]=p*L-n*o,e[3]=r*L-c*o,e[8]=M*o+t*L,e[9]=v*o+i*L,e[10]=p*o+n*L,e[11]=r*o+c*L,e}},15692:function(G){G.exports=V;function V(e,y,P){var o=Math.sin(P),L=Math.cos(P),M=y[0],v=y[1],p=y[2],r=y[3],t=y[4],i=y[5],n=y[6],c=y[7];return y!==e&&(e[8]=y[8],e[9]=y[9],e[10]=y[10],e[11]=y[11],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[0]=M*L+t*o,e[1]=v*L+i*o,e[2]=p*L+n*o,e[3]=r*L+c*o,e[4]=t*L-M*o,e[5]=i*L-v*o,e[6]=n*L-p*o,e[7]=c*L-r*o,e}},10789:function(G){G.exports=V;function V(e,y,P){var o=P[0],L=P[1],M=P[2];return e[0]=y[0]*o,e[1]=y[1]*o,e[2]=y[2]*o,e[3]=y[3]*o,e[4]=y[4]*L,e[5]=y[5]*L,e[6]=y[6]*L,e[7]=y[7]*L,e[8]=y[8]*M,e[9]=y[9]*M,e[10]=y[10]*M,e[11]=y[11]*M,e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15],e}},6726:function(G){G.exports=V;function V(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(G){G.exports=V;function V(e,y,P){var o=P[0],L=P[1],M=P[2],v,p,r,t,i,n,c,u,l,g,f,T;return y===e?(e[12]=y[0]*o+y[4]*L+y[8]*M+y[12],e[13]=y[1]*o+y[5]*L+y[9]*M+y[13],e[14]=y[2]*o+y[6]*L+y[10]*M+y[14],e[15]=y[3]*o+y[7]*L+y[11]*M+y[15]):(v=y[0],p=y[1],r=y[2],t=y[3],i=y[4],n=y[5],c=y[6],u=y[7],l=y[8],g=y[9],f=y[10],T=y[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=i,e[5]=n,e[6]=c,e[7]=u,e[8]=l,e[9]=g,e[10]=f,e[11]=T,e[12]=v*o+i*L+l*M+y[12],e[13]=p*o+n*L+g*M+y[13],e[14]=r*o+c*L+f*M+y[14],e[15]=t*o+u*L+T*M+y[15]),e}},88654:function(G){G.exports=V;function V(e,y){if(e===y){var P=y[1],o=y[2],L=y[3],M=y[6],v=y[7],p=y[11];e[1]=y[4],e[2]=y[8],e[3]=y[12],e[4]=P,e[6]=y[9],e[7]=y[13],e[8]=o,e[9]=M,e[11]=y[14],e[12]=L,e[13]=v,e[14]=p}else e[0]=y[0],e[1]=y[4],e[2]=y[8],e[3]=y[12],e[4]=y[1],e[5]=y[5],e[6]=y[9],e[7]=y[13],e[8]=y[2],e[9]=y[6],e[10]=y[10],e[11]=y[14],e[12]=y[3],e[13]=y[7],e[14]=y[11],e[15]=y[15];return e}},42505:function(G,V,e){var y=e(72791),P=e(71299),o=e(98580),L=e(12018),M=e(83522),v=e(25075),p=e(68016),r=e(58404),t=e(18863),i=e(10973),n=e(25677),c=e(75686),u=e(53545),l=e(56131),g=e(32879),f=e(30120),T=e(13547),h=T.nextPow2,s=new M,d=!1;if(document.body){var A=document.body.appendChild(document.createElement("div"));A.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(A).fontStretch&&(d=!0),document.body.removeChild(A)}var w=function(S){C(S)?(S={regl:S},this.gl=S.regl._gl):this.gl=L(S),this.shader=s.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=S.regl||o({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),s.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(i(S)?S:{})};w.prototype.createShader=function(){var S=this.regl,m=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(E,x){return[x.atlas.width,x.atlas.height]},atlasDim:function(E,x){return[x.atlas.cols,x.atlas.rows]},atlas:function(E,x){return x.atlas.texture},charStep:function(E,x){return x.atlas.step},em:function(E,x){return x.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),a={};return{regl:S,draw:m,atlas:a}},w.prototype.update=function(S){var m=this;if(typeof S=="string")S={text:S};else if(!S)return;S=P(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),S.opacity!=null&&(Array.isArray(S.opacity)?this.opacity=S.opacity.map(function(De){return parseFloat(De)}):this.opacity=parseFloat(S.opacity)),S.viewport!=null&&(this.viewport=t(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),S.kerning!=null&&(this.kerning=S.kerning),S.offset!=null&&(typeof S.offset=="number"&&(S.offset=[S.offset,0]),this.positionOffset=f(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=w.baseFontSize+"px sans-serif");var a=!1,E=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(De,He){if(typeof De=="string")try{De=y.parse(De)}catch{De=y.parse(w.baseFontSize+"px "+De)}else De=y.parse(y.stringify(De));var nt=y.stringify({size:w.baseFontSize,family:De.family,stretch:d?De.stretch:void 0,variant:De.variant,weight:De.weight,style:De.style}),lt=n(De.size),$e=Math.round(lt[0]*c(lt[1]));if($e!==m.fontSize[He]&&(E=!0,m.fontSize[He]=$e),(!m.font[He]||nt!=m.font[He].baseString)&&(a=!0,m.font[He]=w.fonts[nt],!m.font[He])){var qe=De.family.join(", "),ct=[De.style];De.style!=De.variant&&ct.push(De.variant),De.variant!=De.weight&&ct.push(De.weight),d&&De.weight!=De.stretch&&ct.push(De.stretch),m.font[He]={baseString:nt,family:qe,weight:De.weight,stretch:De.stretch,style:De.style,variant:De.variant,width:{},kerning:{},metrics:g(qe,{origin:"top",fontSize:w.baseFontSize,fontStyle:ct.join(" ")})},w.fonts[nt]=m.font[He]}}),(a||E)&&this.font.forEach(function(De,He){var nt=y.stringify({size:m.fontSize[He],family:De.family,stretch:d?De.stretch:void 0,variant:De.variant,weight:De.weight,style:De.style});if(m.fontAtlas[He]=m.shader.atlas[nt],!m.fontAtlas[He]){var lt=De.metrics;m.shader.atlas[nt]=m.fontAtlas[He]={fontString:nt,step:Math.ceil(m.fontSize[He]*lt.bottom*.5)*2,em:m.fontSize[He],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:m.regl.texture()}}S.text==null&&(S.text=m.text)}),typeof S.text=="string"&&S.position&&S.position.length>2){for(var x=Array(S.position.length*.5),k=0;k<x.length;k++)x[k]=S.text;S.text=x}var I;if(S.text!=null||a){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var N=1;N<S.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+S.text[N-1].length,this.count+=S.text[N].length,this.counts.push(S.text[N].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];I=[],this.font.forEach(function(De,He){w.atlasContext.font=De.baseString;for(var nt=m.fontAtlas[He],lt=0;lt<m.text.length;lt++){var $e=m.text.charAt(lt);if(nt.ids[$e]==null&&(nt.ids[$e]=nt.chars.length,nt.chars.push($e),I.push($e)),De.width[$e]==null&&(De.width[$e]=w.atlasContext.measureText($e).width/w.baseFontSize,m.kerning)){var qe=[];for(var ct in De.width)qe.push(ct+$e,$e+ct);l(De.kerning,u(De.family,{pairs:qe}))}}})}if(S.position)if(S.position.length>2){for(var F=!S.position[0].length,z=r.mallocFloat(this.count*2),O=0,_=0;O<this.counts.length;O++){var B=this.counts[O];if(F)for(var W=0;W<B;W++)z[_++]=S.position[O*2],z[_++]=S.position[O*2+1];else for(var $=0;$<B;$++)z[_++]=S.position[O][0],z[_++]=S.position[O][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),r.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||a){var te=r.mallocUint8(this.count),ie=r.mallocFloat(this.count*2);this.textWidth=[];for(var ue=0,J=0;ue<this.counts.length;ue++){for(var Y=this.counts[ue],ae=this.font[ue]||this.font[0],j=this.fontAtlas[ue]||this.fontAtlas[0],q=0;q<Y;q++){var oe=this.text.charAt(J),Q=this.text.charAt(J-1);if(te[J]=j.ids[oe],ie[J*2]=ae.width[oe],q){var X=ie[J*2-2],se=ie[J*2],ne=ie[J*2-1],fe=ne+X*.5+se*.5;if(this.kerning){var ye=ae.kerning[Q+oe];ye&&(fe+=ye*.001)}ie[J*2+1]=fe}else ie[J*2+1]=ie[J*2]*.5;J++}this.textWidth.push(ie.length?ie[J*2-2]*.5+ie[J*2-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:te,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ie,type:"float",usage:"stream"}),r.freeUint8(te),r.freeFloat(ie),I.length&&this.font.forEach(function(De,He){var nt=m.fontAtlas[He],lt=nt.step,$e=Math.floor(w.maxAtlasSize/lt),qe=Math.min($e,nt.chars.length),ct=Math.ceil(nt.chars.length/qe),dt=h(qe*lt),gt=h(ct*lt);nt.width=dt,nt.height=gt,nt.rows=ct,nt.cols=qe,nt.em&&nt.texture({data:p({canvas:w.atlasCanvas,font:nt.fontString,chars:nt.chars,shape:[dt,gt],step:[lt,lt]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(De,He){var nt=Array.isArray(m.align)?m.align.length>1?m.align[He]:m.align[0]:m.align;if(typeof nt=="number")return nt;switch(nt){case"right":case"end":return-De;case"center":case"centre":case"middle":return-De*.5}return 0})),this.baseline==null&&S.baseline==null&&(S.baseline=0),S.baseline!=null&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(De,He){var nt=(m.font[He]||m.font[0]).metrics,lt=0;return lt+=nt.bottom*.5,typeof De=="number"?lt+=De-nt.baseline:lt+=-nt[De],lt*=-1,lt})),S.color!=null)if(S.color||(S.color="transparent"),typeof S.color=="string"||!isNaN(S.color))this.color=v(S.color,"uint8");else{var Se;if(typeof S.color[0]=="number"&&S.color.length>this.counts.length){var we=S.color.length;Se=r.mallocUint8(we);for(var _e=(S.color.subarray||S.color.slice).bind(S.color),ke=0;ke<we;ke+=4)Se.set(v(_e(ke,ke+4),"uint8"),ke)}else{var Me=S.color.length;Se=r.mallocUint8(Me*4);for(var me=0;me<Me;me++)Se.set(v(S.color[me]||0,"uint8"),me*4)}this.color=Se}if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity){var Ee=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Ee){var Be=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Be);for(var Ue=0;Ue<this.batch.length;Ue++)this.batch[Ue]={count:this.counts.length>1?this.counts[Ue]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ue]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ue*4,Ue*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ue]:this.opacity,baseline:this.baselineOffset[Ue]!=null?this.baselineOffset[Ue]:this.baselineOffset[0],align:this.align?this.alignOffset[Ue]!=null?this.alignOffset[Ue]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ue]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ue*2,Ue*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={};function C(b){return typeof b=="function"&&b._gl&&b.prop&&b.texture&&b.buffer}G.exports=w},12018:function(G,V,e){var y=e(71299);G.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},o(r)?r={container:r}:L(r)?r={container:r}:M(r)?r={gl:r}:r=y(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}o(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),P(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),P(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{r.gl=r.canvas.getContext(i,r.attrs)}catch{}return r.gl}),r.gl};function P(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function o(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function L(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function M(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},56068:function(G){G.exports=function(V){typeof V=="string"&&(V=[V]);for(var e=[].slice.call(arguments,1),y=[],P=0;P<V.length-1;P++)y.push(V[P],e[P]||"");return y.push(V[P]),y.join("")}},40383:function(G,V,e){var y=e(68318),P=y("%Object.getOwnPropertyDescriptor%",!0);if(P)try{P([],"length")}catch{P=null}G.exports=P},57035:function(G,V,e){var y=e(54404),P;typeof e.g.matchMedia=="function"?P=!e.g.matchMedia("(hover: none)").matches:P=y,G.exports=P},38520:function(G,V,e){var y=e(54404);function P(){var o=!1;try{var L=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{o=!1}return o}G.exports=y&&P()},55622:function(G,V,e){var y=e(68318),P=y("%Object.defineProperty%",!0),o=function(){if(P)try{return P({},"a",{value:1}),!0}catch{return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return P([],"length",{value:1}).length!==1}catch{return!0}},G.exports=o},57877:function(G,V,e){var y=typeof Symbol<"u"&&Symbol,P=e(35638);G.exports=function(){return typeof y!="function"||typeof Symbol!="function"||typeof y("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:P()}},35638:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},y=Symbol("test"),P=Object(y);if(typeof y=="string"||Object.prototype.toString.call(y)!=="[object Symbol]"||Object.prototype.toString.call(P)!=="[object Symbol]")return!1;var o=42;e[y]=o;for(y in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==y||!Object.prototype.propertyIsEnumerable.call(e,y))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var M=Object.getOwnPropertyDescriptor(e,y);if(M.value!==o||M.enumerable!==!0)return!1}return!0}},84543:function(G,V,e){var y=e(35638);G.exports=function(){return y()&&!!Symbol.toStringTag}},35065:function(G,V,e){var y=e(77575);G.exports=y.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(G,V){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */V.read=function(e,y,P,o,L){var M,v,p=L*8-o-1,r=(1<<p)-1,t=r>>1,i=-7,n=P?L-1:0,c=P?-1:1,u=e[y+n];for(n+=c,M=u&(1<<-i)-1,u>>=-i,i+=p;i>0;M=M*256+e[y+n],n+=c,i-=8);for(v=M&(1<<-i)-1,M>>=-i,i+=o;i>0;v=v*256+e[y+n],n+=c,i-=8);if(M===0)M=1-t;else{if(M===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,o),M=M-t}return(u?-1:1)*v*Math.pow(2,M-o)},V.write=function(e,y,P,o,L,M){var v,p,r,t=M*8-L-1,i=(1<<t)-1,n=i>>1,c=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=o?0:M-1,l=o?1:-1,g=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(p=isNaN(y)?1:0,v=i):(v=Math.floor(Math.log(y)/Math.LN2),y*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?y+=c/r:y+=c*Math.pow(2,1-n),y*r>=2&&(v++,r/=2),v+n>=i?(p=0,v=i):v+n>=1?(p=(y*r-1)*Math.pow(2,L),v=v+n):(p=y*Math.pow(2,n-1)*Math.pow(2,L),v=0));L>=8;e[P+u]=p&255,u+=l,p/=256,L-=8);for(v=v<<L|p,t+=L;t>0;e[P+u]=v&255,u+=l,v/=256,t-=8);e[P+u-l]|=g*128}},42018:function(G){typeof Object.create=="function"?G.exports=function(e,y){y&&(e.super_=y,e.prototype=Object.create(y.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,y){if(y){e.super_=y;var P=function(){};P.prototype=y.prototype,e.prototype=new P,e.prototype.constructor=e}}},47216:function(G,V,e){var y=e(84543)(),P=e(6614),o=P("Object.prototype.toString"),L=function(r){return y&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:o(r)==="[object Arguments]"},M=function(r){return L(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&o(r)!=="[object Array]"&&o(r.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=M,G.exports=v?L:M},54404:function(G){G.exports=!0},85395:function(G){var V=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,y,P;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{y=Object.defineProperty({},"length",{get:function(){throw P}}),P={},e(function(){throw 42},null,y)}catch(T){T!==P&&(e=null)}else e=null;var o=/^\s*class\b/,L=function(h){try{var s=V.call(h);return o.test(s)}catch{return!1}},M=function(h){try{return L(h)?!1:(V.call(h),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",i="[object HTMLAllCollection]",n="[object HTML document.all class]",c="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),g=function(){return!1};if(typeof document=="object"){var f=document.all;v.call(f)===v.call(document.all)&&(g=function(h){if((l||!h)&&(typeof h>"u"||typeof h=="object"))try{var s=v.call(h);return(s===i||s===n||s===c||s===p)&&h("")==null}catch{}return!1})}G.exports=e?function(h){if(g(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{e(h,null,y)}catch(s){if(s!==P)return!1}return!L(h)&&M(h)}:function(h){if(g(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(u)return M(h);if(L(h))return!1;var s=v.call(h);return s!==r&&s!==t&&!/^\[object HTML/.test(s)?!1:M(h)}},65481:function(G,V,e){var y=Object.prototype.toString,P=Function.prototype.toString,o=/^\s*(?:function)?\*/,L=e(84543)(),M=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},p;G.exports=function(t){if(typeof t!="function")return!1;if(o.test(P.call(t)))return!0;if(!L){var i=y.call(t);return i==="[object GeneratorFunction]"}if(!M)return!1;if(typeof p>"u"){var n=v();p=n?M(n):!1}return M(t)===p}},62683:function(G){G.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(G){G.exports=function(e){return e!==e}},15567:function(G,V,e){var y=e(68222),P=e(17045),o=e(64274),L=e(14922),M=e(22442),v=y(L(),Number);P(v,{getPolyfill:L,implementation:o,shim:M}),G.exports=v},14922:function(G,V,e){var y=e(64274);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:y}},22442:function(G,V,e){var y=e(17045),P=e(14922);G.exports=function(){var L=P();return y(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},64941:function(G){G.exports=function(V){var e=typeof V;return V!==null&&(e==="object"||e==="function")}},10973:function(G){var V=Object.prototype.toString;G.exports=function(e){var y;return V.call(e)==="[object Object]"&&(y=Object.getPrototypeOf(e),y===null||y===Object.getPrototypeOf({}))}},18546:function(G){G.exports=function(V){for(var e=V.length,y,P=0;P<e;P++)if(y=V.charCodeAt(P),(y<9||y>13)&&y!==32&&y!==133&&y!==160&&y!==5760&&y!==6158&&(y<8192||y>8205)&&y!==8232&&y!==8233&&y!==8239&&y!==8287&&y!==8288&&y!==12288&&y!==65279)return!1;return!0}},89546:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(G,V,e){var y=e(31353),P=e(72077),o=e(6614),L=o("Object.prototype.toString"),M=e(84543)(),v=e(40383),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=o("Array.prototype.indexOf",!0)||function(g,f){for(var T=0;T<g.length;T+=1)if(g[T]===f)return T;return-1},i=o("String.prototype.slice"),n={},c=Object.getPrototypeOf;M&&v&&c&&y(r,function(l){var g=new p[l];if(Symbol.toStringTag in g){var f=c(g),T=v(f,Symbol.toStringTag);if(!T){var h=c(f);T=v(h,Symbol.toStringTag)}n[l]=T.get}});var u=function(g){var f=!1;return y(n,function(T,h){if(!f)try{f=T.call(g)===h}catch{}}),f};G.exports=function(g){if(!g||typeof g!="object")return!1;if(!M||!(Symbol.toStringTag in g)){var f=i(L(g),8,-1);return t(r,f)>-1}return v?u(g):!1}},27084:function(G){G.exports=Math.log2||function(V){return Math.log(V)*Math.LOG2E}},16825:function(G,V,e){G.exports=P;var y=e(74311);function P(o,L){L||(L=o,o=window);var M=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(A){var w=!1;return"altKey"in A&&(w=w||A.altKey!==r.alt,r.alt=!!A.altKey),"shiftKey"in A&&(w=w||A.shiftKey!==r.shift,r.shift=!!A.shiftKey),"ctrlKey"in A&&(w=w||A.ctrlKey!==r.control,r.control=!!A.ctrlKey),"metaKey"in A&&(w=w||A.metaKey!==r.meta,r.meta=!!A.metaKey),w}function n(A,w){var C=y.x(w),b=y.y(w);"buttons"in w&&(A=w.buttons|0),(A!==M||C!==v||b!==p||i(w))&&(M=A|0,v=C||0,p=b||0,L&&L(M,v,p,r))}function c(A){n(0,A)}function u(){(M||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,M=0,r.shift=r.alt=r.control=r.meta=!1,L&&L(0,0,0,r))}function l(A){i(A)&&L&&L(M,v,p,r)}function g(A){y.buttons(A)===0?n(0,A):n(M,A)}function f(A){n(M|y.buttons(A),A)}function T(A){n(M&~y.buttons(A),A)}function h(){t||(t=!0,o.addEventListener("mousemove",g),o.addEventListener("mousedown",f),o.addEventListener("mouseup",T),o.addEventListener("mouseleave",c),o.addEventListener("mouseenter",c),o.addEventListener("mouseout",c),o.addEventListener("mouseover",c),o.addEventListener("blur",u),o.addEventListener("keyup",l),o.addEventListener("keydown",l),o.addEventListener("keypress",l),o!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function s(){t&&(t=!1,o.removeEventListener("mousemove",g),o.removeEventListener("mousedown",f),o.removeEventListener("mouseup",T),o.removeEventListener("mouseleave",c),o.removeEventListener("mouseenter",c),o.removeEventListener("mouseout",c),o.removeEventListener("mouseover",c),o.removeEventListener("blur",u),o.removeEventListener("keyup",l),o.removeEventListener("keydown",l),o.removeEventListener("keypress",l),o!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}h();var d={element:o};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(A){A?h():s()},enumerable:!0},buttons:{get:function(){return M},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},48956:function(G){var V={left:0,top:0};G.exports=e;function e(P,o,L){o=o||P.currentTarget||P.srcElement,Array.isArray(L)||(L=[0,0]);var M=P.clientX||0,v=P.clientY||0,p=y(o);return L[0]=M-p.left,L[1]=v-p.top,L}function y(P){return P===window||P===document||P===document.body?V:P.getBoundingClientRect()}},74311:function(G,V){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var M=L.which;if(M===2)return 4;if(M===3)return 2;if(M>0)return 1<<M-1}else if("button"in L){var M=L.button;if(M===1)return 4;if(M===2)return 2;if(M>=0)return 1<<M}}return 0}V.buttons=e;function y(L){return L.target||L.srcElement||window}V.element=y;function P(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var M=y(L),v=M.getBoundingClientRect();return L.clientX-v.left}return 0}V.x=P;function o(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var M=y(L),v=M.getBoundingClientRect();return L.clientY-v.top}return 0}V.y=o},1195:function(G,V,e){var y=e(75686);G.exports=P;function P(o,L,M){typeof o=="function"&&(M=!!L,L=o,o=window);var v=y("ex",o),p=function(r){M&&r.preventDefault();var t=r.deltaX||0,i=r.deltaY||0,n=r.deltaZ||0,c=r.deltaMode,u=1;switch(c){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,i*=u,n*=u,t||i||n)return L(t,i,n,r)};return o.addEventListener("wheel",p),p}},7417:function(G,V,e){var y;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(o,L,M){L[o]=L[o]||M(),G.exports?G.exports=L[o]:(y=(function(){return L[o]}).call(V,e,V,G),y!==void 0&&(G.exports=y))})("Promise",typeof e.g<"u"?e.g:this,function(){var o,L,M,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),o=function(d,A,w,C){return Object.defineProperty(d,A,{value:w,writable:!0,configurable:C!==!1})}}catch{o=function(A,w,C){return A[w]=C,A}}M=function(){var d,A,w;function C(b,S){this.fn=b,this.self=S,this.next=void 0}return{add:function(S,m){w=new C(S,m),A?A.next=w:d=w,A=w,w=void 0},drain:function(){var S=d;for(d=A=L=void 0;S;)S.fn.call(S.self),S=S.next}}}();function r(s,d){M.add(s,d),L||(L=p(M.drain))}function t(s){var d,A=typeof s;return s!=null&&(A=="object"||A=="function")&&(d=s.then),typeof d=="function"?d:!1}function i(){for(var s=0;s<this.chain.length;s++)n(this,this.state===1?this.chain[s].success:this.chain[s].failure,this.chain[s]);this.chain.length=0}function n(s,d,A){var w,C;try{d===!1?A.reject(s.msg):(d===!0?w=s.msg:w=d.call(void 0,s.msg),w===A.promise?A.reject(TypeError("Promise-chain cycle")):(C=t(w))?C.call(w,A.resolve,A.reject):A.resolve(w))}catch(b){A.reject(b)}}function c(s){var d,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(d=t(s))?r(function(){var w=new g(A);try{d.call(s,function(){c.apply(w,arguments)},function(){u.apply(w,arguments)})}catch(C){u.call(w,C)}}):(A.msg=s,A.state=1,A.chain.length>0&&r(i,A))}catch(w){u.call(new g(A),w)}}}function u(s){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=s,d.state=2,d.chain.length>0&&r(i,d))}function l(s,d,A,w){for(var C=0;C<d.length;C++)(function(S){s.resolve(d[S]).then(function(a){A(S,a)},w)})(C)}function g(s){this.def=s,this.triggered=!1}function f(s){this.promise=s,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(s){if(typeof s!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new f(this);this.then=function(w,C){var b={success:typeof w=="function"?w:!0,failure:typeof C=="function"?C:!1};return b.promise=new this.constructor(function(m,a){if(typeof m!="function"||typeof a!="function")throw TypeError("Not a function");b.resolve=m,b.reject=a}),d.chain.push(b),d.state!==0&&r(i,d),b.promise},this.catch=function(w){return this.then(void 0,w)};try{s.call(void 0,function(w){c.call(d,w)},function(w){u.call(d,w)})}catch(A){u.call(d,A)}}var h=o({},"constructor",T,!1);return T.prototype=h,o(h,"__NPO__",0,!1),o(T,"resolve",function(d){var A=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new A(function(C,b){if(typeof C!="function"||typeof b!="function")throw TypeError("Not a function");C(d)})}),o(T,"reject",function(d){return new this(function(w,C){if(typeof w!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),o(T,"all",function(d){var A=this;return v.call(d)!="[object Array]"?A.reject(TypeError("Not an array")):d.length===0?A.resolve([]):new A(function(C,b){if(typeof C!="function"||typeof b!="function")throw TypeError("Not a function");var S=d.length,m=Array(S),a=0;l(A,d,function(x,k){m[x]=k,++a===S&&C(m)},b)})}),o(T,"race",function(d){var A=this;return v.call(d)!="[object Array]"?A.reject(TypeError("Not an array")):new A(function(C,b){if(typeof C!="function"||typeof b!="function")throw TypeError("Not a function");l(A,d,function(m,a){C(a)},b)})}),T})},18625:function(G){var V=Math.PI,e=v(120);G.exports=y;function y(p){for(var r,t=[],i=0,n=0,c=0,u=0,l=null,g=null,f=0,T=0,h=0,s=p.length;h<s;h++){var d=p[h],A=d[0];switch(A){case"M":c=d[1],u=d[2];break;case"A":d=L(f,T,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var w=f,C=T;(r=="C"||r=="S")&&(w+=w-i,C+=C-n),d=["C",w,C,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=f*2-l,g=T*2-g):(l=f,g=T),d=o(f,T,l,g,d[1],d[2]);break;case"Q":l=d[1],g=d[2],d=o(f,T,d[1],d[2],d[3],d[4]);break;case"L":d=P(f,T,d[1],d[2]);break;case"H":d=P(f,T,d[1],T);break;case"V":d=P(f,T,f,d[1]);break;case"Z":d=P(f,T,c,u);break}r=A,f=d[d.length-2],T=d[d.length-1],d.length>4?(i=d[d.length-4],n=d[d.length-3]):(i=f,n=T),t.push(d)}return t}function P(p,r,t,i){return["C",p,r,t,i,t,i]}function o(p,r,t,i,n,c){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*i,n/3+.6666666666666666*t,c/3+.6666666666666666*i,n,c]}function L(p,r,t,i,n,c,u,l,g,f){if(f)m=f[0],a=f[1],b=f[2],S=f[3];else{var T=M(p,r,-n);p=T.x,r=T.y,T=M(l,g,-n),l=T.x,g=T.y;var h=(p-l)/2,s=(r-g)/2,d=h*h/(t*t)+s*s/(i*i);d>1&&(d=Math.sqrt(d),t=d*t,i=d*i);var A=t*t,w=i*i,C=(c==u?-1:1)*Math.sqrt(Math.abs((A*w-A*s*s-w*h*h)/(A*s*s+w*h*h)));C==1/0&&(C=1);var b=C*t*s/i+(p+l)/2,S=C*-i*h/t+(r+g)/2,m=Math.asin(((r-S)/i).toFixed(9)),a=Math.asin(((g-S)/i).toFixed(9));m=p<b?V-m:m,a=l<b?V-a:a,m<0&&(m=V*2+m),a<0&&(a=V*2+a),u&&m>a&&(m=m-V*2),!u&&a>m&&(a=a-V*2)}if(Math.abs(a-m)>e){var E=a,x=l,k=g;a=m+e*(u&&a>m?1:-1),l=b+t*Math.cos(a),g=S+i*Math.sin(a);var I=L(l,g,t,i,n,0,u,x,k,[a,E,b,S])}var N=Math.tan((a-m)/4),F=4/3*t*N,z=4/3*i*N,O=[2*p-(p+F*Math.sin(m)),2*r-(r-z*Math.cos(m)),l+F*Math.sin(a),g-z*Math.cos(a),l,g];if(f)return O;I&&(O=O.concat(I));for(var _=0;_<O.length;){var B=M(O[_],O[_+1],n);O[_++]=B.x,O[_++]=B.y}return O}function M(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(V/180)}},56131:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;function P(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function o(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var M={},v=0;v<10;v++)M["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(M).map(function(t){return M[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=o()?Object.assign:function(L,M){for(var v,p=P(L),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var i in v)e.call(v,i)&&(p[i]=v[i]);if(V){r=V(v);for(var n=0;n<r.length;n++)y.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},65848:function(G){var V=function(e){return e!==e};G.exports=function(y,P){return y===0&&P===0?1/y===1/P:!!(y===P||V(y)&&V(P))}},64003:function(G,V,e){var y=e(17045),P=e(68222),o=e(65848),L=e(27015),M=e(55572),v=P(L(),Object);y(v,{getPolyfill:L,implementation:o,shim:M}),G.exports=v},27015:function(G,V,e){var y=e(65848);G.exports=function(){return typeof Object.is=="function"?Object.is:y}},55572:function(G,V,e){var y=e(27015),P=e(17045);G.exports=function(){var L=y();return P(Object,{is:L},{is:function(){return Object.is!==L}}),L}},99019:function(G,V,e){var y;if(!Object.keys){var P=Object.prototype.hasOwnProperty,o=Object.prototype.toString,L=e(64178),M=Object.prototype.propertyIsEnumerable,v=!M.call({toString:null},"toString"),p=M.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var l=u.constructor;return l&&l.prototype===u},i={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!i["$"+u]&&P.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),c=function(u){if(typeof window>"u"||!n)return t(u);try{return t(u)}catch{return!1}};y=function(l){var g=l!==null&&typeof l=="object",f=o.call(l)==="[object Function]",T=L(l),h=g&&o.call(l)==="[object String]",s=[];if(!g&&!f&&!T)throw new TypeError("Object.keys called on a non-object");var d=p&&f;if(h&&l.length>0&&!P.call(l,0))for(var A=0;A<l.length;++A)s.push(String(A));if(T&&l.length>0)for(var w=0;w<l.length;++w)s.push(String(w));else for(var C in l)!(d&&C==="prototype")&&P.call(l,C)&&s.push(String(C));if(v)for(var b=c(l),S=0;S<r.length;++S)!(b&&r[S]==="constructor")&&P.call(l,r[S])&&s.push(r[S]);return s}}G.exports=y},8709:function(G,V,e){var y=Array.prototype.slice,P=e(64178),o=Object.keys,L=o?function(p){return o(p)}:e(99019),M=Object.keys;L.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return P(t)?M(y.call(t)):M(t)})}else Object.keys=L;return Object.keys||L},G.exports=L},64178:function(G){var V=Object.prototype.toString;G.exports=function(y){var P=V.call(y),o=P==="[object Arguments]";return o||(o=P!=="[object Array]"&&y!==null&&typeof y=="object"&&typeof y.length=="number"&&y.length>=0&&V.call(y.callee)==="[object Function]"),o}},88641:function(G){function V(P,o){if(typeof P!="string")return[P];var L=[P];typeof o=="string"||Array.isArray(o)?o={brackets:o}:o||(o={});var M=o.brackets?Array.isArray(o.brackets)?o.brackets:[o.brackets]:["{}","[]","()"],v=o.escape||"___",p=!!o.flat;M.forEach(function(i){var n=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),c=[];function u(l,g,f){var T=L.push(l.slice(i[0].length,-i[1].length))-1;return c.push(T),v+T+v}L.forEach(function(l,g){for(var f,T=0;l!=f;)if(f=l,l=l.replace(n,u),T++>1e4)throw Error("References have circular dependency. Please, check them.");L[g]=l}),c=c.reverse(),L=L.map(function(l){return c.forEach(function(g){l=l.replace(new RegExp("(\\"+v+g+"\\"+v+")","g"),i[0]+"$1"+i[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(i,n,c){for(var u=[],l,g=0;l=r.exec(i);){if(g++>1e4)throw Error("Circular references in parenthesis");u.push(i.slice(0,l.index)),u.push(t(n[l[1]],n)),i=i.slice(l.index+l[0].length)}return u.push(i),u}return p?L:t(L[0],L)}function e(P,o){if(o&&o.flat){var L=o&&o.escape||"___",M=P[0],v;if(!M)return"";for(var p=new RegExp("\\"+L+"([0-9]+)\\"+L),r=0;M!=v;){if(r++>1e4)throw Error("Circular references in "+P);v=M,M=M.replace(p,t)}return M}return P.reduce(function i(n,c){return Array.isArray(c)&&(c=c.reduce(i,"")),n+c},"");function t(i,n){if(P[n]==null)throw Error("Reference "+n+"is undefined");return P[n]}}function y(P,o){return Array.isArray(P)?e(P,o):V(P,o)}y.parse=V,y.stringify=e,G.exports=y},18863:function(G,V,e){var y=e(71299);G.exports=P;function P(o){var L;return arguments.length>1&&(o=arguments),typeof o=="string"?o=o.split(/\s/).map(parseFloat):typeof o=="number"&&(o=[o]),o.length&&typeof o[0]=="number"?o.length===1?L={width:o[0],height:o[0],x:0,y:0}:o.length===2?L={width:o[0],height:o[1],x:0,y:0}:L={x:o[0],y:o[1],width:o[2]-o[0]||0,height:o[3]-o[1]||0}:o&&(o=y(o,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:o.left||0,y:o.top||0},o.width==null?o.right?L.width=o.right-L.x:L.width=0:L.width=o.width,o.height==null?o.bottom?L.height=o.bottom-L.y:L.height=0:L.height=o.height),L}},95616:function(G){G.exports=y;var V={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function y(L){var M=[];return L.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=o(r),t=="m"&&r.length>2&&(M.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==V[t])return r.unshift(p),M.push(r);if(r.length<V[t])throw new Error("malformed path data");M.push([p].concat(r.splice(0,V[t])))}}),M}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function o(L){var M=L.match(P);return M?M.map(Number):[]}},25677:function(G){G.exports=function(e,y){y||(y=[0,""]),e=String(e);var P=parseFloat(e,10);return y[0]=P,y[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",y}},9748:function(G,V,e){var y=e(90386);(function(){var P,o,L,M,v,p;typeof performance<"u"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof y<"u"&&y!==null&&y.hrtime?(G.exports=function(){return(P()-v)/1e6},o=y.hrtime,P=function(){var r;return r=o(),r[0]*1e9+r[1]},M=P(),p=y.uptime()*1e9,v=M-p):Date.now?(G.exports=function(){return Date.now()-L},L=Date.now()):(G.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},71299:function(G){G.exports=function(P,o,L){var M={},v,p;if(typeof o=="string"&&(o=e(o)),Array.isArray(o)){var r={};for(p=0;p<o.length;p++)r[o[p]]=!0;o=r}for(v in o)o[v]=e(o[v]);var t={};for(v in o){var i=o[v];if(Array.isArray(i))for(p=0;p<i.length;p++){var n=i[p];if(L&&(t[n]=!0),n in P){if(M[v]=P[n],L)for(var c=p;c<i.length;c++)t[i[c]]=!0;break}}else v in P&&(o[v]&&(M[v]=P[v]),L&&(t[v]=!0))}if(L)for(v in P)t[v]||(M[v]=P[v]);return M};var V={};function e(y){return V[y]?V[y]:(typeof y=="string"&&(y=V[y]=y.split(/\s*,\s*|\s+/)),y)}},38258:function(G){G.exports=function(e,y,P,o){var L=e[0],M=e[1],v=!1;P===void 0&&(P=0),o===void 0&&(o=y.length);for(var p=o-P,r=0,t=p-1;r<p;t=r++){var i=y[r+P][0],n=y[r+P][1],c=y[t+P][0],u=y[t+P][1],l=n>M!=u>M&&L<(c-i)*(M-n)/(u-n)+i;l&&(v=!v)}return v}},52142:function(G,V,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var y=e(69444),P=e(29023),o=e(87263),L=e(11328),M=e(55968),v=e(10670),p=!1,r=P(),t;t={buildLog:function(n){return n===!0?p=y():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var c=o(!0,r,p);return n.regions.forEach(c.addRegion),{segments:c.calculate(n.inverted),inverted:n.inverted}},combine:function(n,c){var u=o(!1,r,p);return{combined:u.calculate(n.segments,n.inverted,c.segments,c.inverted),inverted1:n.inverted,inverted2:c.inverted}},selectUnion:function(n){return{segments:M.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:M.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:M.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:M.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:M.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,c){return i(n,c,t.selectUnion)},intersect:function(n,c){return i(n,c,t.selectIntersect)},difference:function(n,c){return i(n,c,t.selectDifference)},differenceRev:function(n,c){return i(n,c,t.selectDifferenceRev)},xor:function(n,c){return i(n,c,t.selectXor)}};function i(n,c,u){var l=t.segments(n),g=t.segments(c),f=t.combine(l,g),T=u(f);return t.polygon(T)}typeof window=="object"&&(window.PolyBool=t),G.exports=t},69444:function(G){function V(){var e,y=0,P=!1;function o(L,M){return e.list.push({type:L,data:M?JSON.parse(JSON.stringify(M)):void 0}),e}return e={list:[],segmentId:function(){return y++},checkIntersection:function(L,M){return o("check",{seg1:L,seg2:M})},segmentChop:function(L,M){return o("div_seg",{seg:L,pt:M}),o("chop",{seg:L,pt:M})},statusRemove:function(L){return o("pop_seg",{seg:L})},segmentUpdate:function(L){return o("seg_update",{seg:L})},segmentNew:function(L,M){return o("new_seg",{seg:L,primary:M})},segmentRemove:function(L){return o("rem_seg",{seg:L})},tempStatus:function(L,M,v){return o("temp_status",{seg:L,above:M,below:v})},rewind:function(L){return o("rewind",{seg:L})},status:function(L,M,v){return o("status",{seg:L,above:M,below:v})},vert:function(L){return L===P?e:(P=L,o("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),o("log",{txt:L})},reset:function(){return o("reset")},selected:function(L){return o("selected",{segs:L})},chainStart:function(L){return o("chain_start",{seg:L})},chainRemoveHead:function(L,M){return o("chain_rem_head",{index:L,pt:M})},chainRemoveTail:function(L,M){return o("chain_rem_tail",{index:L,pt:M})},chainNew:function(L,M){return o("chain_new",{pt1:L,pt2:M})},chainMatch:function(L){return o("chain_match",{index:L})},chainClose:function(L){return o("chain_close",{index:L})},chainAddHead:function(L,M){return o("chain_add_head",{index:L,pt:M})},chainAddTail:function(L,M){return o("chain_add_tail",{index:L,pt:M})},chainConnect:function(L,M){return o("chain_con",{index1:L,index2:M})},chainReverse:function(L){return o("chain_rev",{index:L})},chainJoin:function(L,M){return o("chain_join",{index1:L,index2:M})},done:function(){return o("done")}},e}G.exports=V},29023:function(G){function V(e){typeof e!="number"&&(e=1e-10);var y={epsilon:function(P){return typeof P=="number"&&(e=P),e},pointAboveOrOnLine:function(P,o,L){var M=o[0],v=o[1],p=L[0],r=L[1],t=P[0],i=P[1];return(p-M)*(i-v)-(r-v)*(t-M)>=-e},pointBetween:function(P,o,L){var M=P[1]-o[1],v=L[0]-o[0],p=P[0]-o[0],r=L[1]-o[1],t=p*v+M*r;if(t<e)return!1;var i=v*v+r*r;return!(t-i>-e)},pointsSameX:function(P,o){return Math.abs(P[0]-o[0])<e},pointsSameY:function(P,o){return Math.abs(P[1]-o[1])<e},pointsSame:function(P,o){return y.pointsSameX(P,o)&&y.pointsSameY(P,o)},pointsCompare:function(P,o){return y.pointsSameX(P,o)?y.pointsSameY(P,o)?0:P[1]<o[1]?-1:1:P[0]<o[0]?-1:1},pointsCollinear:function(P,o,L){var M=P[0]-o[0],v=P[1]-o[1],p=o[0]-L[0],r=o[1]-L[1];return Math.abs(M*r-p*v)<e},linesIntersect:function(P,o,L,M){var v=o[0]-P[0],p=o[1]-P[1],r=M[0]-L[0],t=M[1]-L[1],i=v*t-p*r;if(Math.abs(i)<e)return!1;var n=P[0]-L[0],c=P[1]-L[1],u=(r*c-t*n)/i,l=(v*c-p*n)/i,g={alongA:0,alongB:0,pt:[P[0]+u*v,P[1]+u*p]};return u<=-e?g.alongA=-2:u<e?g.alongA=-1:u-1<=-e?g.alongA=0:u-1<e?g.alongA=1:g.alongA=2,l<=-e?g.alongB=-2:l<e?g.alongB=-1:l-1<=-e?g.alongB=0:l-1<e?g.alongB=1:g.alongB=2,g},pointInsideRegion:function(P,o){for(var L=P[0],M=P[1],v=o[o.length-1][0],p=o[o.length-1][1],r=!1,t=0;t<o.length;t++){var i=o[t][0],n=o[t][1];n-M>e!=p-M>e&&(v-i)*(M-n)/(p-n)+i-L>e&&(r=!r),v=i,p=n}return r}};return y}G.exports=V},10670:function(G){var V={toPolygon:function(e,y){function P(M){if(M.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var i=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[i]})}for(var p=v(M[0]),r=1;r<M.length;r++)p=e.selectDifference(e.combine(p,v(M[r])));return p}if(y.type==="Polygon")return e.polygon(P(y.coordinates));if(y.type==="MultiPolygon"){for(var o=e.segments({inverted:!1,regions:[]}),L=0;L<y.coordinates.length;L++)o=e.selectUnion(e.combine(o,P(y.coordinates[L])));return e.polygon(o)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,y,P){P=e.polygon(e.segments(P));function o(u,l){return y.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],l)}function L(u){return{region:u,children:[]}}var M=L(null);function v(u,l){for(var g=0;g<u.children.length;g++){var f=u.children[g];if(o(l,f.region)){v(f,l);return}}for(var T=L(l),g=0;g<u.children.length;g++){var f=u.children[g];o(f.region,l)&&(T.children.push(f),u.children.splice(g,1),g--)}u.children.push(T)}for(var p=0;p<P.regions.length;p++){var r=P.regions[p];r.length<3||v(M,r)}function t(u,l){for(var g=0,f=u[u.length-1][0],T=u[u.length-1][1],h=[],s=0;s<u.length;s++){var d=u[s][0],A=u[s][1];h.push([d,A]),g+=A*f-d*T,f=d,T=A}var w=g<0;return w!==l&&h.reverse(),h.push([h[0][0],h[0][1]]),h}var i=[];function n(u){var l=[t(u.region,!1)];i.push(l);for(var g=0;g<u.children.length;g++)l.push(c(u.children[g]))}function c(u){for(var l=0;l<u.children.length;l++)n(u.children[l]);return t(u.region,!0)}for(var p=0;p<M.children.length;p++)n(M.children[p]);return i.length<=0?{type:"Polygon",coordinates:[]}:i.length==1?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}}};G.exports=V},87263:function(G,V,e){var y=e(26859);function P(o,L,M){function v(T,h){return{id:M?M.segmentId():-1,start:T,end:h,myFill:{above:null,below:null},otherFill:null}}function p(T,h,s){return{id:M?M.segmentId():-1,start:T,end:h,myFill:{above:s.myFill.above,below:s.myFill.below},otherFill:null}}var r=y.create();function t(T,h,s,d,A,w){var C=L.pointsCompare(h,A);return C!==0?C:L.pointsSame(s,w)?0:T!==d?T?1:-1:L.pointAboveOrOnLine(s,d?A:w,d?w:A)?1:-1}function i(T,h){r.insertBefore(T,function(s){var d=t(T.isStart,T.pt,h,s.isStart,s.pt,s.other.pt);return d<0})}function n(T,h){var s=y.node({isStart:!0,pt:T.start,seg:T,primary:h,other:null,status:null});return i(s,T.end),s}function c(T,h,s){var d=y.node({isStart:!1,pt:h.end,seg:h,primary:s,other:T,status:null});T.other=d,i(d,T.pt)}function u(T,h){var s=n(T,h);return c(s,T,h),s}function l(T,h){M&&M.segmentChop(T.seg,h),T.other.remove(),T.seg.end=h,T.other.pt=h,i(T.other,T.pt)}function g(T,h){var s=p(h,T.seg.end,T.seg);return l(T,h),u(s,T.primary)}function f(T,h){var s=y.create();function d(z,O){var _=z.seg.start,B=z.seg.end,W=O.seg.start,$=O.seg.end;return L.pointsCollinear(_,W,$)?L.pointsCollinear(B,W,$)||L.pointAboveOrOnLine(B,W,$)?1:-1:L.pointAboveOrOnLine(_,W,$)?1:-1}function A(z){return s.findTransition(function(O){var _=d(z,O.ev);return _>0})}function w(z,O){var _=z.seg,B=O.seg,W=_.start,$=_.end,te=B.start,ie=B.end;M&&M.checkIntersection(_,B);var ue=L.linesIntersect(W,$,te,ie);if(ue===!1){if(!L.pointsCollinear(W,$,te)||L.pointsSame(W,ie)||L.pointsSame($,te))return!1;var J=L.pointsSame(W,te),Y=L.pointsSame($,ie);if(J&&Y)return O;var ae=!J&&L.pointBetween(W,te,ie),j=!Y&&L.pointBetween($,te,ie);if(J)return j?g(O,$):g(z,ie),O;ae&&(Y||(j?g(O,$):g(z,ie)),g(O,W))}else ue.alongA===0&&(ue.alongB===-1?g(z,te):ue.alongB===0?g(z,ue.pt):ue.alongB===1&&g(z,ie)),ue.alongB===0&&(ue.alongA===-1?g(O,W):ue.alongA===0?g(O,ue.pt):ue.alongA===1&&g(O,$));return!1}for(var C=[];!r.isEmpty();){var b=r.getHead();if(M&&M.vert(b.pt[0]),b.isStart){let z=function(){if(m){var O=w(b,m);if(O)return O}return a?w(b,a):!1};var F=z;M&&M.segmentNew(b.seg,b.primary);var S=A(b),m=S.before?S.before.ev:null,a=S.after?S.after.ev:null;M&&M.tempStatus(b.seg,m?m.seg:!1,a?a.seg:!1);var E=z();if(E){if(o){var x;b.seg.myFill.below===null?x=!0:x=b.seg.myFill.above!==b.seg.myFill.below,x&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=b.seg.myFill;M&&M.segmentUpdate(E.seg),b.other.remove(),b.remove()}if(r.getHead()!==b){M&&M.rewind(b.seg);continue}if(o){var x;b.seg.myFill.below===null?x=!0:x=b.seg.myFill.above!==b.seg.myFill.below,a?b.seg.myFill.below=a.seg.myFill.above:b.seg.myFill.below=T,x?b.seg.myFill.above=!b.seg.myFill.below:b.seg.myFill.above=b.seg.myFill.below}else if(b.seg.otherFill===null){var k;a?b.primary===a.primary?k=a.seg.otherFill.above:k=a.seg.myFill.above:k=b.primary?h:T,b.seg.otherFill={above:k,below:k}}M&&M.status(b.seg,m?m.seg:!1,a?a.seg:!1),b.other.status=S.insert(y.node({ev:b}))}else{var I=b.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(I.prev)&&s.exists(I.next)&&w(I.prev.ev,I.next.ev),M&&M.statusRemove(I.ev.seg),I.remove(),!b.primary){var N=b.seg.myFill;b.seg.myFill=b.seg.otherFill,b.seg.otherFill=N}C.push(b.seg)}r.getHead().remove()}return M&&M.done(),C}return o?{addRegion:function(T){for(var h,s=T[T.length-1],d=0;d<T.length;d++){h=s,s=T[d];var A=L.pointsCompare(h,s);A!==0&&u(v(A<0?h:s,A<0?s:h),!0)}},calculate:function(T){return f(T,!1)}}:{calculate:function(T,h,s,d){return T.forEach(function(A){u(p(A.start,A.end,A),!0)}),s.forEach(function(A){u(p(A.start,A.end,A),!1)}),f(h,d)}}}G.exports=P},26859:function(G){var V={create:function(){var e={root:{root:!0,next:null},exists:function(y){return!(y===null||y===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(y,P){for(var o=e.root,L=e.root.next;L!==null;){if(P(L)){y.prev=L.prev,y.next=L,L.prev.next=y,L.prev=y;return}o=L,L=L.next}o.next=y,y.prev=o,y.next=null},findTransition:function(y){for(var P=e.root,o=e.root.next;o!==null&&!y(o);)P=o,o=o.next;return{before:P===e.root?null:P,after:o,insert:function(L){return L.prev=P,L.next=o,P.next=L,o!==null&&(o.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=V},11328:function(G){function V(e,y,P){var o=[],L=[];return e.forEach(function(M){var v=M.start,p=M.end;if(y.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(M);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=r;function n(E,x,k){return i.index=E,i.matches_head=x,i.matches_pt1=k,i===r?(i=t,!1):(i=null,!0)}for(var c=0;c<o.length;c++){var u=o[c],l=u[0];u[1];var g=u[u.length-1];if(u[u.length-2],y.pointsSame(l,v)){if(n(c,!0,!0))break}else if(y.pointsSame(l,p)){if(n(c,!0,!1))break}else if(y.pointsSame(g,v)){if(n(c,!1,!0))break}else if(y.pointsSame(g,p)&&n(c,!1,!1))break}if(i===r){o.push([v,p]),P&&P.chainNew(v,p);return}if(i===t){P&&P.chainMatch(r.index);var f=r.index,T=r.matches_pt1?p:v,h=r.matches_head,u=o[f],s=h?u[0]:u[u.length-1],d=h?u[1]:u[u.length-2],A=h?u[u.length-1]:u[0],w=h?u[u.length-2]:u[1];if(y.pointsCollinear(d,s,T)&&(h?(P&&P.chainRemoveHead(r.index,T),u.shift()):(P&&P.chainRemoveTail(r.index,T),u.pop()),s=d),y.pointsSame(A,T)){o.splice(f,1),y.pointsCollinear(w,A,s)&&(h?(P&&P.chainRemoveTail(r.index,s),u.pop()):(P&&P.chainRemoveHead(r.index,s),u.shift())),P&&P.chainClose(r.index),L.push(u);return}h?(P&&P.chainAddHead(r.index,T),u.unshift(T)):(P&&P.chainAddTail(r.index,T),u.push(T));return}function C(E){P&&P.chainReverse(E),o[E].reverse()}function b(E,x){var k=o[E],I=o[x],N=k[k.length-1],F=k[k.length-2],z=I[0],O=I[1];y.pointsCollinear(F,N,z)&&(P&&P.chainRemoveTail(E,N),k.pop(),N=F),y.pointsCollinear(N,z,O)&&(P&&P.chainRemoveHead(x,z),I.shift()),P&&P.chainJoin(E,x),o[E]=k.concat(I),o.splice(x,1)}var S=r.index,m=t.index;P&&P.chainConnect(S,m);var a=o[S].length<o[m].length;r.matches_head?t.matches_head?a?(C(S),b(S,m)):(C(m),b(m,S)):b(m,S):t.matches_head?b(S,m):a?(C(S),b(m,S)):(C(m),b(S,m))}),L}G.exports=V},55968:function(G){function V(y,P,o){var L=[];return y.forEach(function(M){var v=(M.myFill.above?8:0)+(M.myFill.below?4:0)+(M.otherFill&&M.otherFill.above?2:0)+(M.otherFill&&M.otherFill.below?1:0);P[v]!==0&&L.push({id:o?o.segmentId():-1,start:M.start,end:M.end,myFill:{above:P[v]===1,below:P[v]===2},otherFill:null})}),o&&o.selected(L),L}var e={union:function(y,P){return V(y,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(y,P){return V(y,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(y,P){return V(y,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(y,P){return V(y,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(y,P){return V(y,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};G.exports=e},14847:function(G,V,e){var y=e(21630).Transform,P=e(90715);function o(){y.call(this,{readableObjectMode:!0})}o.prototype=Object.create(y.prototype),o.prototype.constructor=o,P(o.prototype),V.OF=function(M,v,p){for(var r=v,t=0;t<p.length;)if(M[r++]!==p[t++])return!1;return!0},V.eG=function(M,v){var p=[],r=0;if(v&&v==="hex")for(;r<M.length;)p.push(parseInt(M.slice(r,r+2),16)),r+=2;else for(;r<M.length;r++)p.push(M.charCodeAt(r)&255);return p},V.mP=function(M,v){return M[v]|M[v+1]<<8},V.n8=function(M,v){return M[v+1]|M[v]<<8},V.nm=function(M,v){return M[v]|M[v+1]<<8|M[v+2]<<16|M[v+3]*16777216},V.Ag=function(M,v){return M[v+3]|M[v+2]<<8|M[v+1]<<16|M[v]*16777216};function L(M,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=M,v&&(this.code=v),p&&(this.statusCode=p)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},71371:function(G){function V(P,o){var L=new Error(P);return L.code=o,L}function e(P){try{return decodeURIComponent(escape(P))}catch{return P}}function y(P,o,L){this.input=P.subarray(o,L),this.start=o;var M=String.fromCharCode.apply(null,this.input.subarray(0,4));if(M!=="II*\0"&&M!=="MM\0*")throw V("invalid TIFF signature","EBADDATA");this.big_endian=M[0]==="M"}y.prototype.each=function(P){this.aborted=!1;var o=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:o}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,P)}},y.prototype.read_uint16=function(P){var o=this.input;if(P+2>o.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?o[P]*256+o[P+1]:o[P]+o[P+1]*256},y.prototype.read_uint32=function(P){var o=this.input;if(P+4>o.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?o[P]*16777216+o[P+1]*65536+o[P+2]*256+o[P+3]:o[P]+o[P+1]*256+o[P+2]*65536+o[P+3]*16777216},y.prototype.is_subifd_link=function(P,o){return P===0&&o===34665||P===0&&o===34853||P===34665&&o===40965},y.prototype.exif_format_length=function(P){switch(P){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},y.prototype.exif_format_read=function(P,o){var L;switch(P){case 1:case 2:return L=this.input[o],L;case 6:return L=this.input[o],L|(L&128)*33554430;case 3:return L=this.read_uint16(o),L;case 8:return L=this.read_uint16(o),L|(L&32768)*131070;case 4:return L=this.read_uint32(o),L;case 9:return L=this.read_uint32(o),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},y.prototype.scan_ifd=function(P,o,L){var M=this.read_uint16(o);o+=2;for(var v=0;v<M;v++){var p=this.read_uint16(o),r=this.read_uint16(o+2),t=this.read_uint32(o+4),i=this.exif_format_length(r),n=t*i,c=n<=4?o+8:this.read_uint32(o+8),u=!1;if(c+n>this.input.length)throw V("unexpected EOF","EBADDATA");for(var l=[],g=c,f=0;f<t;f++,g+=i){var T=this.exif_format_read(r,g);if(T===null){l=null;break}l.push(T)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(P,p)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:p,offset:l[0]}),u=!0);var h={is_big_endian:this.big_endian,ifd:P,tag:p,format:r,count:t,entry_offset:o+this.start,data_length:n,data_offset:c+this.start,value:l,is_subifd_link:u};if(L(h)===!1){this.aborted=!0;return}o+=12}P===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(o)})},G.exports.ExifParser=y,G.exports.get_orientation=function(P){var o=0;try{return new y(P,0,P.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return o=L.value[0],!1}),o}catch{return-1}}},76767:function(G,V,e){var y=e(14847).n8,P=e(14847).Ag;function o(n,c){if(n.length<4+c)return null;var u=P(n,c);return n.length<u+c||u<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(c+4,c+8)),data:n.slice(c+8,c+u),end:c+u}}G.exports.unbox=o;function L(n,c){for(var u=0;;){var l=o(n,u);if(!l)break;switch(l.boxtype){case"ispe":c.sizes.push({width:P(l.data,4),height:P(l.data,8)});break;case"irot":c.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":c.transforms.push({type:"imir",value:l.data[0]&1});break}u=l.end}}function M(n,c,u){for(var l=0,g=0;g<u;g++)l=l*256+(n[c+g]||0);return l}function v(n,c){for(var u=n[4]>>4&15,l=n[4]&15,g=n[5]>>4&15,f=y(n,6),T=8,h=0;h<f;h++){var s=y(n,T);T+=2;var d=y(n,T);T+=2;var A=M(n,T,g);T+=g;var w=y(n,T);if(T+=2,d===0&&w===1){var C=M(n,T,u),b=M(n,T+u,l);c.item_loc[s]={length:b,offset:C+A}}T+=w*(u+l)}}function p(n,c){for(var u=y(n,4),l=6,g=0;g<u;g++){var f=o(n,l);if(!f)break;if(f.boxtype==="infe"){for(var T=y(f.data,4),h="",s=8;s<f.data.length&&f.data[s];s++)h+=String.fromCharCode(f.data[s]);c.item_inf[h]=T}l=f.end}}function r(n,c){for(var u=0;;){var l=o(n,u);if(!l)break;l.boxtype==="ipco"&&L(l.data,c),u=l.end}}function t(n,c){for(var u=4;;){var l=o(n,u);if(!l)break;l.boxtype==="iprp"&&r(l.data,c),l.boxtype==="iloc"&&v(l.data,c),l.boxtype==="iinf"&&p(l.data,c),u=l.end}}function i(n){var c=n.reduce(function(g,f){return g.width>f.width||g.width===f.width&&g.height>f.height?g:f}),u=n.reduce(function(g,f){return g.height>f.height||g.height===f.height&&g.width>f.width?g:f}),l;return c.width>u.height||c.width===u.height&&c.height>u.width?l=c:l=u,l}G.exports.readSizeFromMeta=function(n){var c={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,c),!!c.sizes.length){var u=i(c.sizes),l=1;c.transforms.forEach(function(f){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(f.type==="imir"&&(f.value===0?l=h[l]:(l=h[l],l=T[l],l=T[l])),f.type==="irot")for(var s=0;s<f.value;s++)l=T[l]});var g=null;return c.item_inf.Exif&&(g=c.item_loc[c.item_inf.Exif]),{width:u.width,height:u.height,orientation:c.transforms.length?l:null,variants:c.sizes,exif_location:g}}},G.exports.getMimeType=function(n){var c=String.fromCharCode.apply(null,n.slice(0,4)),u={};u[c]=!0;for(var l=8;l<n.length;l+=4)u[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return c==="avif"||c==="avis"||c==="avio"?{type:"avif",mime:"image/avif"}:c==="heic"||c==="heix"?{type:"heic",mime:"image/heic"}:c==="hevc"||c==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(G,V,e){var y=e(14847).eG,P=e(14847).OF,o=e(14847).Ag,L=e(76767),M=e(71371),v=y("ftyp");G.exports=function(p){if(P(p,4,v)){var r=L.unbox(p,0);if(r){var t=L.getMimeType(r.data);if(t){for(var i,n=r.end;;){var c=L.unbox(p,n);if(!c)break;if(n=c.end,c.boxtype==="mdat")return;if(c.boxtype==="meta"){i=c.data;break}}if(i){var u=L.readSizeFromMeta(i);if(u){var l={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(l.variants=u.variants),u.orientation&&(l.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=p.length){var g=o(p,u.exif_location.offset),f=p.slice(u.exif_location.offset+g+4,u.exif_location.offset+u.exif_location.length),T=M.get_orientation(f);T>0&&(l.orientation=T)}return l}}}}}}},2504:function(G,V,e){var y=e(14847).eG,P=e(14847).OF,o=e(14847).mP,L=y("BM");G.exports=function(M){if(!(M.length<26)&&P(M,0,L))return{width:o(M,18),height:o(M,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(G,V,e){var y=e(14847).eG,P=e(14847).OF,o=e(14847).mP,L=y("GIF87a"),M=y("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!P(v,0,L)&&!P(v,0,M)))return{width:o(v,6),height:o(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(G,V,e){var y=e(14847).mP,P=0,o=1,L=16;G.exports=function(M){var v=y(M,0),p=y(M,2),r=y(M,4);if(!(v!==P||p!==o||!r)){for(var t=[],i={width:0,height:0},n=0;n<r;n++){var c=M[6+L*n]||256,u=M[6+L*n+1]||256,l={width:c,height:u};t.push(l),(c>i.width||u>i.height)&&(i=l)}return{width:i.width,height:i.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(G,V,e){var y=e(14847).n8,P=e(14847).eG,o=e(14847).OF,L=e(71371),M=P("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=y(v,p)-2,p+=2}else return;if(r===217||r===218)return;var i;if(r===225&&t>=10&&o(v,p,M)&&(i=L.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:y(v,p+3),height:y(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(n.orientation=i),n}p+=t}}},6303:function(G,V,e){var y=e(14847).eG,P=e(14847).OF,o=e(14847).Ag,L=y(`PNG\r

`),M=y("IHDR");G.exports=function(v){if(!(v.length<24)&&P(v,0,L)&&P(v,12,M))return{width:o(v,16),height:o(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(G,V,e){var y=e(14847).eG,P=e(14847).OF,o=e(14847).Ag,L=y("8BPS\0");G.exports=function(M){if(!(M.length<22)&&P(M,0,L))return{width:o(M,18),height:o(M,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(G){function V(i){return i===32||i===9||i===13||i===10}function e(i){return typeof i=="number"&&isFinite(i)&&i>0}function y(i){var n=0,c=i.length;for(i[0]===239&&i[1]===187&&i[2]===191&&(n=3);n<c&&V(i[n]);)n++;return n===c?!1:i[n]===60}var P=/<[-_.:a-zA-Z0-9][^>]*>/,o=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,M=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(i){var n=i.match(L),c=i.match(M),u=i.match(v);return{width:n&&(n[1]||n[2]),height:c&&(c[1]||c[2]),viewbox:u&&(u[1]||u[2])}}function t(i){return p.test(i)?i.match(p)[0]:"px"}G.exports=function(i){if(y(i)){for(var n="",c=0;c<i.length;c++)n+=String.fromCharCode(i[c]);var u=(n.match(P)||[""])[0];if(o.test(u)){var l=r(u),g=parseFloat(l.width),f=parseFloat(l.height);if(l.width&&l.height)return!e(g)||!e(f)?void 0:{width:g,height:f,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var T=(l.viewbox||"").split(" "),h={width:T[2],height:T[3]},s=parseFloat(h.width),d=parseFloat(h.height);if(!(!e(s)||!e(d))&&t(h.width)===t(h.height)){var A=s/d;return l.width?e(g)?{width:g,height:g/A,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(f)?{width:f*A,height:f,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:s,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(h.width),hUnits:t(h.height)}}}}}},66278:function(G,V,e){var y=e(14847).eG,P=e(14847).OF,o=e(14847).mP,L=e(14847).n8,M=e(14847).nm,v=e(14847).Ag,p=y("II*\0"),r=y("MM\0*");function t(c,u,l){return l?L(c,u):o(c,u)}function i(c,u,l){return l?v(c,u):M(c,u)}function n(c,u,l){var g=t(c,u+2,l),f=i(c,u+4,l);return f!==1||g!==3&&g!==4?null:g===3?t(c,u+8,l):i(c,u+8,l)}G.exports=function(c){if(!(c.length<8)&&!(!P(c,0,p)&&!P(c,0,r))){var u=c[0]===77,l=i(c,4,u)-8;if(!(l<0)){var g=l+8;if(!(c.length-g<2)){var f=t(c,g+0,u)*12;if(!(f<=0)&&(g+=2,!(c.length-g<f))){var T,h,s,d;for(T=0;T<f;T+=12)d=t(c,g+T,u),d===256?h=n(c,g+T,u):d===257&&(s=n(c,g+T,u));if(h&&s)return{width:h,height:s,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(G,V,e){var y=e(14847).eG,P=e(14847).OF,o=e(14847).mP,L=e(14847).nm,M=e(71371),v=y("RIFF"),p=y("WEBP");function r(n,c){if(!(n[c+3]!==157||n[c+4]!==1||n[c+5]!==42))return{width:o(n,c+6)&16383,height:o(n,c+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,c){if(n[c]===47){var u=L(n,c+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function i(n,c){return{width:(n[c+6]<<16|n[c+5]<<8|n[c+4])+1,height:(n[c+9]<<c|n[c+8]<<8|n[c+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(n){if(!(n.length<16)&&!(!P(n,0,v)&&!P(n,8,p))){var c=12,u=null,l=0,g=L(n,4)+8;if(!(g>n.length)){for(;c+8<g;){if(n[c]===0){c++;continue}var f=String.fromCharCode.apply(null,n.slice(c,c+4)),T=L(n,c+4);f==="VP8 "&&T>=10?u=u||r(n,c+8):f==="VP8L"&&T>=9?u=u||t(n,c+8):f==="VP8X"&&T>=10?u=u||i(n,c+8):f==="EXIF"&&(l=M.get_orientation(n.slice(c+8,c+8+T)),c=1/0),c+=8+T}if(u)return l>0&&(u.orientation=l),u}}}},91497:function(G,V,e){G.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(G,V,e){var y=e(91497);function P(o){for(var L=Object.keys(y),M=0;M<L.length;M++){var v=y[L[M]](o);if(v)return v}return null}G.exports=function(L){return P(L)},G.exports.parsers=y},90386:function(G){var V=G.exports={},e,y;function P(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=P}catch{e=P}try{typeof clearTimeout=="function"?y=clearTimeout:y=o}catch{y=o}})();function L(l){if(e===setTimeout)return setTimeout(l,0);if((e===P||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function M(l){if(y===clearTimeout)return clearTimeout(l);if((y===o||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(l);try{return y(l)}catch{try{return y.call(null,l)}catch{return y.call(this,l)}}}var v=[],p=!1,r,t=-1;function i(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var l=L(i);p=!0;for(var g=v.length;g;){for(r=v,v=[];++t<g;)r&&r[t].run();t=-1,g=v.length}r=null,p=!1,M(l)}}V.nextTick=function(l){var g=new Array(arguments.length-1);if(arguments.length>1)for(var f=1;f<arguments.length;f++)g[f-1]=arguments[f];v.push(new c(l,g)),v.length===1&&!p&&L(n)};function c(l,g){this.fun=l,this.array=g}c.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={};function u(){}V.on=u,V.addListener=u,V.once=u,V.off=u,V.removeListener=u,V.removeAllListeners=u,V.emit=u,V.prependListener=u,V.prependOnceListener=u,V.listeners=function(l){return[]},V.binding=function(l){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(l){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},5877:function(G,V,e){for(var y=e(9748),P=typeof window>"u"?e.g:window,o=["moz","webkit"],L="AnimationFrame",M=P["request"+L],v=P["cancel"+L]||P["cancelRequest"+L],p=0;!M&&p<o.length;p++)M=P[o[p]+"Request"+L],v=P[o[p]+"Cancel"+L]||P[o[p]+"CancelRequest"+L];if(!M||!v){var r=0,t=0,i=[],n=1e3/60;M=function(c){if(i.length===0){var u=y(),l=Math.max(0,n-(u-r));r=l+u,setTimeout(function(){var g=i.slice(0);i.length=0;for(var f=0;f<g.length;f++)if(!g[f].cancelled)try{g[f].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(l))}return i.push({handle:++t,callback:c,cancelled:!1}),t},v=function(c){for(var u=0;u<i.length;u++)i[u].handle===c&&(i[u].cancelled=!0)}}G.exports=function(c){return M.call(P,c)},G.exports.cancel=function(){v.apply(P,arguments)},G.exports.polyfill=function(c){c||(c=P),c.requestAnimationFrame=M,c.cancelAnimationFrame=v}},3593:function(G,V,e){var y=e(21527),P=e(25075),o=e(93447),L=e(71299),M=e(56131),v=e(30120),p=e(57060),r=p.float32,t=p.fract32;G.exports=n;var i=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(c,u){if(typeof c=="function"?(u||(u={}),u.regl=c):u=c,u.length&&(u.positions=u),c=u.regl,!c.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=c._gl,g,f,T,h,s,d,A={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},w=[];return h=c.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),f=c.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=c.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),s=c.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=c.buffer({usage:"static",type:"float",data:i}),m(u),g=c({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:c.prop("range"),lineWidth:c.prop("lineWidth"),capSize:c.prop("capSize"),opacity:c.prop("opacity"),scale:c.prop("scale"),translate:c.prop("translate"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),viewport:function(E,x){return[x.viewport.x,x.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:h,offset:function(E,x){return x.offset*4},divisor:1},position:{buffer:f,offset:function(E,x){return x.offset*8},divisor:1},positionFract:{buffer:T,offset:function(E,x){return x.offset*8},divisor:1},error:{buffer:s,offset:function(E,x){return x.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport"),stencil:!1,instances:c.prop("count"),count:i.length}),M(C,{update:m,draw:b,destroy:a,regl:c,gl:l,canvas:l.canvas,groups:w}),C;function C(E){E?m(E):E===null&&a(),b()}function b(E){if(typeof E=="number")return S(E);E&&!Array.isArray(E)&&(E=[E]),c._refresh(),w.forEach(function(x,k){if(x){if(E&&(E[k]?x.draw=!0:x.draw=!1),!x.draw){x.draw=!0;return}S(k)}})}function S(E){typeof E=="number"&&(E=w[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],g(E),E.after&&E.after(E))}function m(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var x=0,k=0;if(C.groups=w=E.map(function(B,W){var $=w[W];if(B)typeof B=="function"?B={after:B}:typeof B[0]=="number"&&(B={positions:B});else return $;return B=L(B,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),$||(w[W]=$={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},B=M({},A,B)),o($,B,[{lineWidth:function(te){return+te*.5},capSize:function(te){return+te*.5},opacity:parseFloat,errors:function(te){return te=v(te),k+=te.length,te},positions:function(te,ie){return te=v(te,"float64"),ie.count=Math.floor(te.length/2),ie.bounds=y(te,2),ie.offset=x,x+=ie.count,te}},{color:function(te,ie){var ue=ie.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var J=te;te=Array(ue);for(var Y=0;Y<ue;Y++)te[Y]=J}if(te.length<ue)throw Error("Not enough colors");for(var ae=new Uint8Array(ue*4),j=0;j<ue;j++){var q=P(te[j],"uint8");ae.set(q,j*4)}return ae},range:function(te,ie,ue){var J=ie.bounds;return te||(te=J),ie.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],ie.translate=[-te[0],-te[1]],ie.scaleFract=t(ie.scale),ie.translateFract=t(ie.translate),te},viewport:function(te){var ie;return Array.isArray(te)?ie={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?(ie={x:te.x||te.left||0,y:te.y||te.top||0},te.right?ie.width=te.right-ie.x:ie.width=te.w||te.width||0,te.bottom?ie.height=te.bottom-ie.y:ie.height=te.h||te.height||0):ie={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},ie}}]),$}),x||k){var I=w.reduce(function(B,W,$){return B+(W?W.count:0)},0),N=new Float64Array(I*2),F=new Uint8Array(I*4),z=new Float32Array(I*4);w.forEach(function(B,W){if(B){var $=B.positions,te=B.count,ie=B.offset,ue=B.color,J=B.errors;te&&(F.set(ue,ie*4),z.set(J,ie*4),N.set($,ie*2))}});var O=r(N);f(O);var _=t(N,O);T(_),h(F),s(z)}}}function a(){f.destroy(),T.destroy(),h.destroy(),s.destroy(),d.destroy()}}},46075:function(G,V,e){var y=e(25075),P=e(21527),o=e(56131),L=e(56068),M=e(71299),v=e(30120),p=e(11474),r=e(54),t=e(57060),i=t.float32,n=t.fract32,c=e(83522),u=e(18863),l=e(6851);G.exports=g;function g(f,T){if(!(this instanceof g))return new g(f,T);if(typeof f=="function"?(T||(T={}),T.regl=f):T=f,T.length&&(T.positions=T),f=T.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=f._gl,this.regl=f,this.passes=[],this.shaders=g.shaders.has(f)?g.shaders.get(f):g.shaders.set(f,g.createShaders(f)).get(f),this.update(T)}g.dashMult=2,g.maxPatternLength=256,g.precisionThreshold=3e6,g.maxPoints=1e4,g.maxLines=2048,g.shaders=new c,g.createShaders=function(f){var T=f.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),h={primitive:"triangle strip",instances:f.prop("count"),count:4,offset:0,uniforms:{miterMode:function(w,C){return C.join==="round"?2:1},miterLimit:f.prop("miterLimit"),scale:f.prop("scale"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),translate:f.prop("translate"),thickness:f.prop("thickness"),dashTexture:f.prop("dashTexture"),opacity:f.prop("opacity"),pixelRatio:f.context("pixelRatio"),id:f.prop("id"),dashLength:f.prop("dashLength"),viewport:function(w,C){return[C.viewport.x,C.viewport.y,w.viewportWidth,w.viewportHeight]},depth:f.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(w,C){return!C.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport")},s=f(o({vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:f.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},h)),d;try{d=f(o({cull:{enable:!0,face:"back"},vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aColor:{buffer:f.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:f.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},h))}catch{d=s}var A=f({primitive:"triangle",elements:function(w,C){return C.triangles},offset:0,vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:f.prop("scale"),color:f.prop("fill"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),translate:f.prop("translate"),opacity:f.prop("opacity"),pixelRatio:f.context("pixelRatio"),id:f.prop("id"),viewport:function(w,C){return[C.viewport.x,C.viewport.y,w.viewportWidth,w.viewportHeight]}},attributes:{position:{buffer:f.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:8}},blend:h.blend,depth:{enable:!1},scissor:h.scissor,stencil:h.stencil,viewport:h.viewport});return{fill:A,rect:s,miter:d}},g.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},g.prototype.render=function(){for(var f,T=[],h=arguments.length;h--;)T[h]=arguments[h];T.length&&(f=this).update.apply(f,T),this.draw()},g.prototype.draw=function(){for(var f=this,T=[],h=arguments.length;h--;)T[h]=arguments[h];return(T.length?T:this.passes).forEach(function(s,d){var A;if(s&&Array.isArray(s))return(A=f).draw.apply(A,s);typeof s=="number"&&(s=f.passes[s]),s&&s.count>1&&s.opacity&&(f.regl._refresh(),s.fill&&s.triangles&&s.triangles.length>2&&f.shaders.fill(s),s.thickness&&(s.scale[0]*s.viewport.width>g.precisionThreshold||s.scale[1]*s.viewport.height>g.precisionThreshold||s.join==="rect"||!s.join&&(s.thickness<=2||s.count>=g.maxPoints)?f.shaders.rect(s):f.shaders.miter(s)))}),this},g.prototype.update=function(f){var T=this;if(f){f.length!=null?typeof f[0]=="number"&&(f=[{positions:f}]):Array.isArray(f)||(f=[f]);var h=this,s=h.regl,d=h.gl;if(f.forEach(function(S,m){var a=T.passes[m];if(S!==void 0){if(S===null){T.passes[m]=null;return}if(typeof S[0]=="number"&&(S={positions:S}),S=M(S,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),a||(T.passes[m]=a={id:m,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:s.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:s.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:s.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:s.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},S=o({},g.defaults,S)),S.thickness!=null&&(a.thickness=parseFloat(S.thickness)),S.opacity!=null&&(a.opacity=parseFloat(S.opacity)),S.miterLimit!=null&&(a.miterLimit=parseFloat(S.miterLimit)),S.overlay!=null&&(a.overlay=!!S.overlay,m<g.maxLines&&(a.depth=2*(g.maxLines-1-m%g.maxLines)/g.maxLines-1)),S.join!=null&&(a.join=S.join),S.hole!=null&&(a.hole=S.hole),S.fill!=null&&(a.fill=S.fill?y(S.fill,"uint8"):null),S.viewport!=null&&(a.viewport=u(S.viewport)),a.viewport||(a.viewport=u([d.drawingBufferWidth,d.drawingBufferHeight])),S.close!=null&&(a.close=S.close),S.positions===null&&(S.positions=[]),S.positions){var E,x;if(S.positions.x&&S.positions.y){var k=S.positions.x,I=S.positions.y;x=a.count=Math.max(k.length,I.length),E=new Float64Array(x*2);for(var N=0;N<x;N++)E[N*2]=k[N],E[N*2+1]=I[N]}else E=v(S.positions,"float64"),x=a.count=Math.floor(E.length/2);var F=a.bounds=P(E,2);if(a.fill){for(var z=[],O={},_=0,B=0,W=0,$=a.count;B<$;B++){var te=E[B*2],ie=E[B*2+1];isNaN(te)||isNaN(ie)||te==null||ie==null?(te=E[_*2],ie=E[_*2+1],O[B]=_):_=B,z[W++]=te,z[W++]=ie}if(S.splitNull){a.count-1 in O||(O[a.count]=a.count-1);var ue=Object.keys(O).map(Number).sort(function(Oe,Le){return Oe-Le}),J=[],Y=0,ae=a.hole!=null?a.hole[0]:null;if(ae!=null){var j=l(ue,function(Oe){return Oe>=ae});ue=ue.slice(0,j),ue.push(ae)}for(var q=function(Oe){var Le=z.slice(Y*2,ue[Oe]*2).concat(ae?z.slice(ae*2):[]),xe=(a.hole||[]).map(function(Ae){return Ae-ae+(ue[Oe]-Y)}),pe=p(Le,xe);pe=pe.map(function(Ae){return Ae+Y+(Ae+Y<ue[Oe]?0:ae-ue[Oe])}),J.push.apply(J,pe),Y=ue[Oe]+1},oe=0;oe<ue.length;oe++)q(oe);for(var Q=0,X=J.length;Q<X;Q++)O[J[Q]]!=null&&(J[Q]=O[J[Q]]);a.triangles=J}else{for(var se=p(z,a.hole||[]),ne=0,fe=se.length;ne<fe;ne++)O[se[ne]]!=null&&(se[ne]=O[se[ne]]);a.triangles=se}}var ye=new Float64Array(E);r(ye,2,F);var Se=new Float64Array(x*2+6);a.close?E[0]===E[x*2-2]&&E[1]===E[x*2-1]?(Se[0]=ye[x*2-4],Se[1]=ye[x*2-3]):(Se[0]=ye[x*2-2],Se[1]=ye[x*2-1]):(Se[0]=ye[0],Se[1]=ye[1]),Se.set(ye,2),a.close?E[0]===E[x*2-2]&&E[1]===E[x*2-1]?(Se[x*2+2]=ye[2],Se[x*2+3]=ye[3],a.count-=1):(Se[x*2+2]=ye[0],Se[x*2+3]=ye[1],Se[x*2+4]=ye[2],Se[x*2+5]=ye[3]):(Se[x*2+2]=ye[x*2-2],Se[x*2+3]=ye[x*2-1],Se[x*2+4]=ye[x*2-2],Se[x*2+5]=ye[x*2-1]);var we=i(Se);a.positionBuffer(we);var _e=n(Se,we);a.positionFractBuffer(_e)}if(S.range?a.range=S.range:a.range||(a.range=a.bounds),(S.range||S.positions)&&a.count){var ke=a.bounds,Me=ke[2]-ke[0],me=ke[3]-ke[1],Ee=a.range[2]-a.range[0],Be=a.range[3]-a.range[1];a.scale=[Me/Ee,me/Be],a.translate=[-a.range[0]/Ee+ke[0]/Ee||0,-a.range[1]/Be+ke[1]/Be||0],a.scaleFract=n(a.scale),a.translateFract=n(a.translate)}if(S.dashes){var Ue=0,De;if(!S.dashes||S.dashes.length<2)Ue=1,De=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ue=0;for(var He=0;He<S.dashes.length;++He)Ue+=S.dashes[He];De=new Uint8Array(Ue*g.dashMult);for(var nt=0,lt=255,$e=0;$e<2;$e++)for(var qe=0;qe<S.dashes.length;++qe){for(var ct=0,dt=S.dashes[qe]*g.dashMult*.5;ct<dt;++ct)De[nt++]=lt;lt^=255}}a.dashLength=Ue,a.dashTexture({channels:1,data:De,width:De.length,height:1,mag:"linear",min:"linear"},0,0)}if(S.color){var gt=a.count,At=S.color;At||(At="transparent");var Rt=new Uint8Array(gt*4+4);if(!Array.isArray(At)||typeof At[0]=="number")for(var Vt=y(At,"uint8"),Je=0;Je<gt+1;Je++)Rt.set(Vt,Je*4);else{for(var Ve=0;Ve<gt;Ve++){var Ie=y(At[Ve],"uint8");Rt.set(Ie,Ve*4)}Rt.set(y(At[0],"uint8"),gt*4)}a.colorBuffer({usage:"dynamic",type:"uint8",data:Rt})}}}),f.length<this.passes.length){for(var A=f.length;A<this.passes.length;A++){var w=this.passes[A];w&&(w.colorBuffer.destroy(),w.positionBuffer.destroy(),w.dashTexture.destroy())}this.passes.length=f.length}for(var C=[],b=0;b<this.passes.length;b++)this.passes[b]!==null&&C.push(this.passes[b]);return this.passes=C,this}},g.prototype.destroy=function(){return this.passes.forEach(function(f){f.colorBuffer.destroy(),f.positionBuffer.destroy(),f.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(G,V,e){function y(a,E){var x=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(x!=null){var k,I,N,F,z=[],O=!0,_=!1;try{if(N=(x=x.call(a)).next,E===0){if(Object(x)!==x)return;O=!1}else for(;!(O=(k=N.call(x)).done)&&(z.push(k.value),z.length!==E);O=!0);}catch(B){_=!0,I=B}finally{try{if(!O&&x.return!=null&&(F=x.return(),Object(F)!==F))return}finally{if(_)throw I}}return z}}function P(a,E){return M(a)||y(a,E)||p(a,E)||i()}function o(a){return L(a)||v(a)||p(a)||t()}function L(a){if(Array.isArray(a))return r(a)}function M(a){if(Array.isArray(a))return a}function v(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function p(a,E){if(a){if(typeof a=="string")return r(a,E);var x=Object.prototype.toString.call(a).slice(8,-1);if(x==="Object"&&a.constructor&&(x=a.constructor.name),x==="Map"||x==="Set")return Array.from(a);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return r(a,E)}}function r(a,E){(E==null||E>a.length)&&(E=a.length);for(var x=0,k=new Array(E);x<E;x++)k[x]=a[x];return k}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(25075),c=e(21527),u=e(6475),l=e(88294),g=e(56131),f=e(56068),T=e(71299),h=e(93447),s=e(30120),d=e(62683),A=e(57060),w=e(18863),C=b;function b(a,E){var x=this;if(!(this instanceof b))return new b(a,E);typeof a=="function"?(E||(E={}),E.regl=a):(E=a,a=null),E&&E.length&&(E.positions=E),a=E.regl;var k=a._gl,I,N=[],F={},z=[],O=[null],_=[null],B=255,W=100;this.tooManyColors=d,I=a.texture({data:new Uint8Array(B*4),width:B,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),g(this,{regl:a,gl:k,groups:z,markerCache:_,markerTextures:O,palette:N,paletteIds:F,paletteTexture:I,maxColors:B,maxSize:W,canvas:k.canvas}),this.update(E);var $={uniforms:{constPointSize:!!E.constPointSize,opacity:a.prop("opacity"),paletteSize:function(J,Y){return[x.tooManyColors?0:B,I.height]},pixelRatio:a.context("pixelRatio"),scale:a.prop("scale"),scaleFract:a.prop("scaleFract"),translate:a.prop("translate"),translateFract:a.prop("translateFract"),markerTexture:a.prop("markerTexture"),paletteTexture:I},attributes:{x:function(J,Y){return Y.xAttr||{buffer:Y.positionBuffer,stride:8,offset:0}},y:function(J,Y){return Y.yAttr||{buffer:Y.positionBuffer,stride:8,offset:4}},xFract:function(J,Y){return Y.xAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:0}},yFract:function(J,Y){return Y.yAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:4}},size:function(J,Y){return Y.size.length?{buffer:Y.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Y.size*255/x.maxSize)]}},borderSize:function(J,Y){return Y.borderSize.length?{buffer:Y.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Y.borderSize*255/x.maxSize)]}},colorId:function(J,Y){return Y.color.length?{buffer:Y.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?N.slice(Y.color*4,Y.color*4+4):[Y.color]}},borderColorId:function(J,Y){return Y.borderColor.length?{buffer:Y.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?N.slice(Y.borderColor*4,Y.borderColor*4+4):[Y.borderColor]}},isActive:function(J,Y){return Y.activation===!0?{constant:[1]}:Y.activation?Y.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:a.prop("viewport")},viewport:a.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:a.prop("elements"),count:a.prop("count"),offset:a.prop("offset"),primitive:"points"},te=g({},$);te.frag=f([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),te.vert=f([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=a(te);var ie=g({},$);ie.frag=f([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ie.vert=f([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ie.frag=ie.frag.replace("smoothstep","smoothStep"),te.frag=te.frag.replace("smoothstep","smoothStep")),this.drawCircle=a(ie)}b.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},b.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},b.prototype.draw=function(){for(var a=this,E=arguments.length,x=new Array(E),k=0;k<E;k++)x[k]=arguments[k];var I=this.groups;if(x.length===1&&Array.isArray(x[0])&&(x[0][0]===null||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var N=0;N<x.length;N++)this.drawItem(N,x[N]);else I.forEach(function(F,z){a.drawItem(z)});return this},b.prototype.drawItem=function(a,E){var x=this.groups,k=x[a];if(typeof E=="number"&&(a=E,k=x[E],E=null),!!(k&&k.count&&k.opacity)){k.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,k,E));for(var I=[],N=1;N<k.activation.length;N++)!k.activation[N]||k.activation[N]!==!0&&!k.activation[N].data.length||I.push.apply(I,o(this.getMarkerDrawOptions(N,k,E)));I.length&&this.drawMarker(I)}},b.prototype.getMarkerDrawOptions=function(a,E,x){var k=E.range,I=E.tree,N=E.viewport,F=E.activation,z=E.selectionBuffer,O=E.count;if(this.regl,!I)return x?[g({},E,{markerTexture:this.markerTextures[a],activation:F[a],count:x.length,elements:x,offset:0})]:[g({},E,{markerTexture:this.markerTextures[a],activation:F[a],offset:0})];var _=[],B=I.range(k,{lod:!0,px:[(k[2]-k[0])/N.width,(k[3]-k[1])/N.height]});if(x){for(var W=F[a],$=W.data,te=new Uint8Array(O),ie=0;ie<x.length;ie++){var ue=x[ie];te[ue]=$?$[ue]:1}z.subdata(te)}for(var J=B.length;J--;){var Y=P(B[J],2),ae=Y[0],j=Y[1];_.push(g({},E,{markerTexture:this.markerTextures[a],activation:x?z:F[a],offset:ae,count:j-ae}))}return _},b.prototype.update=function(){for(var a=this,E=arguments.length,x=new Array(E),k=0;k<E;k++)x[k]=arguments[k];if(x.length){x.length===1&&Array.isArray(x[0])&&(x=x[0]);var I=this.groups,N=this.gl,F=this.regl,z=this.maxSize,O=this.maxColors,_=this.palette;this.groups=I=x.map(function(B,W){var $=I[W];if(B===void 0)return $;B===null?B={positions:null}:typeof B=="function"?B={ondraw:B}:typeof B[0]=="number"&&(B={positions:B}),B=T(B,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),B.positions===null&&(B.positions=[]),B.tooManyColors!=null&&(a.tooManyColors=B.tooManyColors),$||(I[W]=$={id:W,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:F.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},B=g({},b.defaults,B)),B.positions&&!("marker"in B)&&(B.marker=$.marker,delete $.marker),B.marker&&!("positions"in B)&&(B.positions=$.positions,delete $.positions);var te=0,ie=0;if(h($,B,[{snap:!0,size:function(me,Ee){return me==null&&(me=b.defaults.size),te+=me&&me.length?1:0,me},borderSize:function(me,Ee){return me==null&&(me=b.defaults.borderSize),te+=me&&me.length?1:0,me},opacity:parseFloat,color:function(me,Ee){return me==null&&(me=b.defaults.color),me=a.updateColor(me),ie++,me},borderColor:function(me,Ee){return me==null&&(me=b.defaults.borderColor),me=a.updateColor(me),ie++,me},bounds:function(me,Ee,Be){return"range"in Be||(Be.range=null),me},positions:function(me,Ee,Be){var Ue=Ee.snap,De=Ee.positionBuffer,He=Ee.positionFractBuffer,nt=Ee.selectionBuffer;if(me.x||me.y)return me.x.length?Ee.xAttr={buffer:F.buffer(me.x),offset:0,stride:4,count:me.x.length}:Ee.xAttr={buffer:me.x.buffer,offset:me.x.offset*4||0,stride:(me.x.stride||1)*4,count:me.x.count},me.y.length?Ee.yAttr={buffer:F.buffer(me.y),offset:0,stride:4,count:me.y.length}:Ee.yAttr={buffer:me.y.buffer,offset:me.y.offset*4||0,stride:(me.y.stride||1)*4,count:me.y.count},Ee.count=Math.max(Ee.xAttr.count,Ee.yAttr.count),me;me=s(me,"float64");var lt=Ee.count=Math.floor(me.length/2),$e=Ee.bounds=lt?c(me,2):null;if(!Be.range&&!Ee.range&&(delete Ee.range,Be.range=$e),!Be.marker&&!Ee.marker&&(delete Ee.marker,Be.marker=null),Ue&&(Ue===!0||lt>Ue)?Ee.tree=l(me,{bounds:$e}):Ue&&Ue.length&&(Ee.tree=Ue),Ee.tree){var qe={primitive:"points",usage:"static",data:Ee.tree,type:"uint32"};Ee.elements?Ee.elements(qe):Ee.elements=F.elements(qe)}var ct=A.float32(me);De({data:ct,usage:"dynamic"});var dt=A.fract32(me,ct);return He({data:dt,usage:"dynamic"}),nt({data:new Uint8Array(lt),type:"uint8",usage:"stream"}),me}},{marker:function(me,Ee,Be){var Ue=Ee.activation;if(Ue.forEach(function(dt){return dt&&dt.destroy&&dt.destroy()}),Ue.length=0,!me||typeof me[0]=="number"){var De=a.addMarker(me);Ue[De]=!0}else{for(var He=[],nt=0,lt=Math.min(me.length,Ee.count);nt<lt;nt++){var $e=a.addMarker(me[nt]);He[$e]||(He[$e]=new Uint8Array(Ee.count)),He[$e][nt]=1}for(var qe=0;qe<He.length;qe++)if(He[qe]){var ct={data:He[qe],type:"uint8",usage:"static"};Ue[qe]?Ue[qe](ct):Ue[qe]=F.buffer(ct),Ue[qe].data=He[qe]}}return me},range:function(me,Ee,Be){var Ue=Ee.bounds;if(Ue)return me||(me=Ue),Ee.scale=[1/(me[2]-me[0]),1/(me[3]-me[1])],Ee.translate=[-me[0],-me[1]],Ee.scaleFract=A.fract(Ee.scale),Ee.translateFract=A.fract(Ee.translate),me},viewport:function(me){var Ee=w(me||[N.drawingBufferWidth,N.drawingBufferHeight]);return Ee}}]),te){var ue=$,J=ue.count,Y=ue.size,ae=ue.borderSize,j=ue.sizeBuffer,q=new Uint8Array(J*2);if(Y.length||ae.length)for(var oe=0;oe<J;oe++)q[oe*2]=Math.round((Y[oe]==null?Y:Y[oe])*255/z),q[oe*2+1]=Math.round((ae[oe]==null?ae:ae[oe])*255/z);j({data:q,usage:"dynamic"})}if(ie){var Q=$,X=Q.count,se=Q.color,ne=Q.borderColor,fe=Q.colorBuffer,ye;if(a.tooManyColors){if(se.length||ne.length){ye=new Uint8Array(X*8);for(var Se=0;Se<X;Se++){var we=se[Se];ye[Se*8]=_[we*4],ye[Se*8+1]=_[we*4+1],ye[Se*8+2]=_[we*4+2],ye[Se*8+3]=_[we*4+3];var _e=ne[Se];ye[Se*8+4]=_[_e*4],ye[Se*8+5]=_[_e*4+1],ye[Se*8+6]=_[_e*4+2],ye[Se*8+7]=_[_e*4+3]}}}else if(se.length||ne.length){ye=new Uint8Array(X*4+2);for(var ke=0;ke<X;ke++)se[ke]!=null&&(ye[ke*4]=se[ke]%O,ye[ke*4+1]=Math.floor(se[ke]/O)),ne[ke]!=null&&(ye[ke*4+2]=ne[ke]%O,ye[ke*4+3]=Math.floor(ne[ke]/O))}fe({data:ye||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return $})}},b.prototype.addMarker=function(a){var E=this.markerTextures,x=this.regl,k=this.markerCache,I=a==null?0:k.indexOf(a);if(I>=0)return I;var N;if(a instanceof Uint8Array||a instanceof Uint8ClampedArray)N=a;else{N=new Uint8Array(a.length);for(var F=0,z=a.length;F<z;F++)N[F]=a[F]*255}var O=Math.floor(Math.sqrt(N.length));return I=E.length,k.push(a),E.push(x.texture({channels:1,data:N,radius:O,mag:"linear",min:"linear"})),I},b.prototype.updateColor=function(a){var E=this.paletteIds,x=this.palette,k=this.maxColors;Array.isArray(a)||(a=[a]);var I=[];if(typeof a[0]=="number"){var N=[];if(Array.isArray(a))for(var F=0;F<a.length;F+=4)N.push(a.slice(F,F+4));else for(var z=0;z<a.length;z+=4)N.push(a.subarray(z,z+4));a=N}for(var O=0;O<a.length;O++){var _=a[O];_=n(_,"uint8");var B=u(_,!1);if(E[B]==null){var W=x.length;E[B]=Math.floor(W/4),x[W]=_[0],x[W+1]=_[1],x[W+2]=_[2],x[W+3]=_[3]}I[O]=E[B]}return!this.tooManyColors&&x.length>k*4&&(this.tooManyColors=!0),this.updatePalette(x),I.length===1?I[0]:I},b.prototype.updatePalette=function(a){if(!this.tooManyColors){var E=this.maxColors,x=this.paletteTexture,k=Math.ceil(a.length*.25/E);if(k>1){a=a.slice();for(var I=a.length*.25%E;I<k*E;I++)a.push(0,0,0,0)}x.height<k&&x.resize(E,k),x.subimage({width:Math.min(a.length*.25,E),height:k,data:a},0,0)}},b.prototype.destroy=function(){return this.groups.forEach(function(a){a.sizeBuffer.destroy(),a.positionBuffer.destroy(),a.positionFractBuffer.destroy(),a.colorBuffer.destroy(),a.activation.forEach(function(E){return E&&E.destroy&&E.destroy()}),a.selectionBuffer.destroy(),a.elements&&a.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(a){return a&&a.destroy&&a.destroy()}),this};var S=e(56131),m=function(E,x){var k=new C(E,x),I=k.render.bind(k);return S(I,{render:I,update:k.update.bind(k),draw:k.draw.bind(k),destroy:k.destroy.bind(k),regl:k.regl,gl:k.gl,canvas:k.gl.canvas,groups:k.groups,markers:k.markerCache,palette:k.palette}),I};G.exports=m},60487:function(G,V,e){var y=e(11870),P=e(71299),o=e(21527),L=e(5877),M=e(57471),v=e(18863),p=e(30120);G.exports=r;function r(c,u){if(!(this instanceof r))return new r(c);this.traces=[],this.passes={},this.regl=c,this.scatter=y(c),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var c=this,u,l=[],g=arguments.length;g--;)l[g]=arguments[g];return l.length&&(u=this).update.apply(u,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){c.draw(),c.dirty=!0,c.planned=null})):(this.draw(),this.dirty=!0,L(function(){c.dirty=!1})),this)},r.prototype.update=function(){for(var c,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(u.length){for(var g=0;g<u.length;g++)this.updateItem(g,u[g]);this.traces=this.traces.filter(Boolean);for(var f=[],T=0,h=0;h<this.traces.length;h++){for(var s=this.traces[h],d=this.traces[h].passes,A=0;A<d.length;A++)f.push(this.passes[d[A]]);s.passOffset=T,T+=s.passes.length}return(c=this.scatter).update.apply(c,f),this}},r.prototype.updateItem=function(c,u){var l=this,g=l.regl;if(u===null)return this.traces[c]=null,this;if(!u)return this;var f=P(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[c]||(this.traces[c]={id:c,buffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([g._gl.drawingBufferWidth,g._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(f.color!=null&&(T.color=f.color),f.size!=null&&(T.size=f.size),f.marker!=null&&(T.marker=f.marker),f.borderColor!=null&&(T.borderColor=f.borderColor),f.borderSize!=null&&(T.borderSize=f.borderSize),f.opacity!=null&&(T.opacity=f.opacity),f.viewport&&(T.viewport=v(f.viewport)),f.diagonal!=null&&(T.diagonal=f.diagonal),f.upper!=null&&(T.upper=f.upper),f.lower!=null&&(T.lower=f.lower),f.data){T.buffer(p(f.data)),T.columns=f.data.length,T.count=f.data[0].length,T.bounds=[];for(var h=0;h<T.columns;h++)T.bounds[h]=o(f.data[h],1)}var s;f.range&&(T.range=f.range,s=T.range&&typeof T.range[0]!="number"),f.domain&&(T.domain=f.domain);var d=!1;f.padding!=null&&(Array.isArray(f.padding)&&f.padding.length===T.columns&&typeof f.padding[f.padding.length-1]=="number"?(T.padding=f.padding.map(n),d=!0):T.padding=n(f.padding));var A=T.columns,w=T.count,C=T.viewport.width,b=T.viewport.height,S=T.viewport.x,m=T.viewport.y,a=C/A,E=b/A;T.passes=[];for(var x=0;x<A;x++)for(var k=0;k<A;k++)if(!(!T.diagonal&&k===x)&&!(!T.upper&&x>k)&&!(!T.lower&&x<k)){var I=t(T.id,x,k),N=this.passes[I]||(this.passes[I]={});if(f.data&&(f.transpose?N.positions={x:{buffer:T.buffer,offset:k,count:w,stride:A},y:{buffer:T.buffer,offset:x,count:w,stride:A}}:N.positions={x:{buffer:T.buffer,offset:k*w,count:w},y:{buffer:T.buffer,offset:x*w,count:w}},N.bounds=i(T.bounds,x,k)),f.domain||f.viewport||f.data){var F=d?i(T.padding,x,k):T.padding;if(T.domain){var z=i(T.domain,x,k),O=z[0],_=z[1],B=z[2],W=z[3];N.viewport=[S+O*C+F[0],m+_*b+F[1],S+B*C-F[2],m+W*b-F[3]]}else N.viewport=[S+k*a+a*F[0],m+x*E+E*F[1],S+(k+1)*a-a*F[2],m+(x+1)*E-E*F[3]]}f.color&&(N.color=T.color),f.size&&(N.size=T.size),f.marker&&(N.marker=T.marker),f.borderSize&&(N.borderSize=T.borderSize),f.borderColor&&(N.borderColor=T.borderColor),f.opacity&&(N.opacity=T.opacity),f.range&&(N.range=s?i(T.range,x,k):T.range||N.bounds),T.passes.push(I)}return this},r.prototype.draw=function(){for(var c,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(!u.length)this.scatter.draw();else{for(var g=[],f=0;f<u.length;f++)if(typeof u[f]=="number"){var T=this.traces[u[f]],h=T.passes,s=T.passOffset;g.push.apply(g,M(s,s+h.length))}else if(u[f].length){var d=u[f],A=this.traces[f],w=A.passes,C=A.passOffset;w=w.map(function(b,S){g[C+S]=d})}(c=this.scatter).draw.apply(c,g)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(c){c.buffer&&c.buffer.destroy&&c.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(c,u,l){var g=c.id!=null?c.id:c,f=u,T=l,h=g<<16|(f&255)<<8|T&255;return h}function i(c,u,l){var g,f,T,h,s=c[u],d=c[l];return s.length>2?(s[0],s[2],g=s[1],f=s[3]):s.length?(g=s[0],f=s[1]):(s.x,g=s.y,s.x+s.width,f=s.y+s.height),d.length>2?(T=d[0],h=d[2],d[1],d[3]):d.length?(T=d[0],h=d[1]):(T=d.x,d.y,h=d.x+d.width,d.y+d.height),[T,g,h,f]}function n(c){if(typeof c=="number")return[c,c,c,c];if(c.length===2)return[c[0],c[1],c[0],c[1]];var u=v(c);return[u.x,u.y,u.x+u.width,u.y+u.height]}},98580:function(G){(function(V,e){G.exports=e()})(this,function(){function V(yt,jt){this.id=fe++,this.type=yt,this.data=jt}function e(yt){if(yt.length===0)return[];var jt=yt.charAt(0),Qt=yt.charAt(yt.length-1);if(1<yt.length&&jt===Qt&&(jt==='"'||jt==="'"))return['"'+yt.substr(1,yt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(jt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(yt))return e(yt.substr(0,jt.index)).concat(e(jt[1])).concat(e(yt.substr(jt.index+jt[0].length)));if(jt=yt.split("."),jt.length===1)return['"'+yt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(yt=[],Qt=0;Qt<jt.length;++Qt)yt=yt.concat(e(jt[Qt]));return yt}function y(yt){return"["+e(yt).join("][")+"]"}function P(yt,jt){if(typeof yt=="function")return new V(0,yt);if(typeof yt=="number"||typeof yt=="boolean")return new V(5,yt);if(Array.isArray(yt))return new V(6,yt.map(function(Qt,gr){return P(Qt)}));if(yt instanceof V)return yt}function o(){var yt={"":0},jt=[""];return{id:function(Qt){var gr=yt[Qt];return gr||(gr=yt[Qt]=jt.length,jt.push(Qt),gr)},str:function(Qt){return jt[Qt]}}}function L(yt,jt,Qt){function gr(){var at=window.innerWidth,xt=window.innerHeight;yt!==document.body&&(xt=sr.getBoundingClientRect(),at=xt.right-xt.left,xt=xt.bottom-xt.top),sr.width=Qt*at,sr.height=Qt*xt}var sr=document.createElement("canvas");ne(sr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),yt.appendChild(sr),yt===document.body&&(sr.style.position="absolute",ne(yt.style,{margin:0,padding:0}));var vt;return yt!==document.body&&typeof ResizeObserver=="function"?(vt=new ResizeObserver(function(){setTimeout(gr)}),vt.observe(yt)):window.addEventListener("resize",gr,!1),gr(),{canvas:sr,onDestroy:function(){vt?vt.disconnect():window.removeEventListener("resize",gr),yt.removeChild(sr)}}}function M(yt,jt){function Qt(gr){try{return yt.getContext(gr,jt)}catch{return null}}return Qt("webgl")||Qt("experimental-webgl")||Qt("webgl-experimental")}function v(yt){return typeof yt=="string"?yt.split():yt}function p(yt){return typeof yt=="string"?document.querySelector(yt):yt}function r(yt){var jt=yt||{},Qt,gr,sr,vt;yt={};var at=[],xt=[],Mt=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,Lt={},Bt=function(Xt){},Nt=function(){};if(typeof jt=="string"?Qt=document.querySelector(jt):typeof jt=="object"&&(typeof jt.nodeName=="string"&&typeof jt.appendChild=="function"&&typeof jt.getBoundingClientRect=="function"?Qt=jt:typeof jt.drawArrays=="function"||typeof jt.drawElements=="function"?(vt=jt,sr=vt.canvas):("gl"in jt?vt=jt.gl:"canvas"in jt?sr=p(jt.canvas):"container"in jt&&(gr=p(jt.container)),"attributes"in jt&&(yt=jt.attributes),"extensions"in jt&&(at=v(jt.extensions)),"optionalExtensions"in jt&&(xt=v(jt.optionalExtensions)),"onDone"in jt&&(Bt=jt.onDone),"profile"in jt&&(Dt=!!jt.profile),"pixelRatio"in jt&&(Mt=+jt.pixelRatio),"cachedCode"in jt&&(Lt=jt.cachedCode))),Qt&&(Qt.nodeName.toLowerCase()==="canvas"?sr=Qt:gr=Qt),!vt){if(!sr){if(Qt=L(gr||document.body,Bt,Mt),!Qt)return null;sr=Qt.canvas,Nt=Qt.onDestroy}yt.premultipliedAlpha===void 0&&(yt.premultipliedAlpha=!0),vt=M(sr,yt)}return vt?{gl:vt,canvas:sr,container:gr,extensions:at,optionalExtensions:xt,pixelRatio:Mt,profile:Dt,cachedCode:Lt,onDone:Bt,onDestroy:Nt}:(Nt(),Bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(yt,jt){function Qt(at){at=at.toLowerCase();var xt;try{xt=gr[at]=yt.getExtension(at)}catch{}return!!xt}for(var gr={},sr=0;sr<jt.extensions.length;++sr){var vt=jt.extensions[sr];if(!Qt(vt))return jt.onDestroy(),jt.onDone('"'+vt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return jt.optionalExtensions.forEach(Qt),{extensions:gr,restore:function(){Object.keys(gr).forEach(function(at){if(gr[at]&&!Qt(at))throw Error("(regl): error restoring extension "+at)})}}}function i(yt,jt){for(var Qt=Array(yt),gr=0;gr<yt;++gr)Qt[gr]=jt(gr);return Qt}function n(yt){var jt,Qt;return jt=(65535<yt)<<4,yt>>>=jt,Qt=(255<yt)<<3,yt>>>=Qt,jt|=Qt,Qt=(15<yt)<<2,yt>>>=Qt,jt|=Qt,Qt=(3<yt)<<1,jt|Qt|yt>>>Qt>>1}function c(){function yt(gr){e:{for(var sr=16;268435456>=sr;sr*=16)if(gr<=sr){gr=sr;break e}gr=0}return sr=Qt[n(gr)>>2],0<sr.length?sr.pop():new ArrayBuffer(gr)}function jt(gr){Qt[n(gr.byteLength)>>2].push(gr)}var Qt=i(8,function(){return[]});return{alloc:yt,free:jt,allocType:function(gr,sr){var vt=null;switch(gr){case 5120:vt=new Int8Array(yt(sr),0,sr);break;case 5121:vt=new Uint8Array(yt(sr),0,sr);break;case 5122:vt=new Int16Array(yt(2*sr),0,sr);break;case 5123:vt=new Uint16Array(yt(2*sr),0,sr);break;case 5124:vt=new Int32Array(yt(4*sr),0,sr);break;case 5125:vt=new Uint32Array(yt(4*sr),0,sr);break;case 5126:vt=new Float32Array(yt(4*sr),0,sr);break;default:return null}return vt.length!==sr?vt.subarray(0,sr):vt},freeType:function(gr){jt(gr.buffer)}}}function u(yt){return!!yt&&typeof yt=="object"&&Array.isArray(yt.shape)&&Array.isArray(yt.stride)&&typeof yt.offset=="number"&&yt.shape.length===yt.stride.length&&(Array.isArray(yt.data)||Me(yt.data))}function l(yt,jt,Qt,gr,sr,vt){for(var at=0;at<jt;++at)for(var xt=yt[at],Mt=0;Mt<Qt;++Mt)for(var Dt=xt[Mt],Lt=0;Lt<gr;++Lt)sr[vt++]=Dt[Lt]}function g(yt,jt,Qt,gr,sr){for(var vt=1,at=Qt+1;at<jt.length;++at)vt*=jt[at];var xt=jt[Qt];if(jt.length-Qt===4){var Mt=jt[Qt+1],Dt=jt[Qt+2];for(jt=jt[Qt+3],at=0;at<xt;++at)l(yt[at],Mt,Dt,jt,gr,sr),sr+=vt}else for(at=0;at<xt;++at)g(yt[at],jt,Qt+1,gr,sr),sr+=vt}function f(yt){return Be[Object.prototype.toString.call(yt)]|0}function T(yt,jt){for(var Qt=0;Qt<jt.length;++Qt)yt[Qt]=jt[Qt]}function h(yt,jt,Qt,gr,sr,vt,at){for(var xt=0,Mt=0;Mt<Qt;++Mt)for(var Dt=0;Dt<gr;++Dt)yt[xt++]=jt[sr*Mt+vt*Dt+at]}function s(yt,jt,Qt,gr){function sr(Bt){this.id=Mt++,this.buffer=yt.createBuffer(),this.type=Bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Qt.profile&&(this.stats={size:0})}function vt(Bt,Nt,Xt){Bt.byteLength=Nt.byteLength,yt.bufferData(Bt.type,Nt,Xt)}function at(Bt,Nt,Xt,lr,fr,hr){if(Bt.usage=Xt,Array.isArray(Nt)){if(Bt.dtype=lr||5126,0<Nt.length)if(Array.isArray(Nt[0])){fr=nt(Nt);for(var We=lr=1;We<fr.length;++We)lr*=fr[We];Bt.dimension=lr,Nt=He(Nt,fr,Bt.dtype),vt(Bt,Nt,Xt),hr?Bt.persistentData=Nt:_e.freeType(Nt)}else typeof Nt[0]=="number"?(Bt.dimension=fr,fr=_e.allocType(Bt.dtype,Nt.length),T(fr,Nt),vt(Bt,fr,Xt),hr?Bt.persistentData=fr:_e.freeType(fr)):Me(Nt[0])&&(Bt.dimension=Nt[0].length,Bt.dtype=lr||f(Nt[0])||5126,Nt=He(Nt,[Nt.length,Nt[0].length],Bt.dtype),vt(Bt,Nt,Xt),hr?Bt.persistentData=Nt:_e.freeType(Nt))}else if(Me(Nt))Bt.dtype=lr||f(Nt),Bt.dimension=fr,vt(Bt,Nt,Xt),hr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(u(Nt)){fr=Nt.shape;var Ge=Nt.stride,We=Nt.offset,kt=0,It=0,Zt=0,rr=0;fr.length===1?(kt=fr[0],It=1,Zt=Ge[0],rr=0):fr.length===2&&(kt=fr[0],It=fr[1],Zt=Ge[0],rr=Ge[1]),Bt.dtype=lr||f(Nt.data)||5126,Bt.dimension=It,fr=_e.allocType(Bt.dtype,kt*It),h(fr,Nt.data,kt,It,Zt,rr,We),vt(Bt,fr,Xt),hr?Bt.persistentData=fr:_e.freeType(fr)}else Nt instanceof ArrayBuffer&&(Bt.dtype=5121,Bt.dimension=fr,vt(Bt,Nt,Xt),hr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt))))}function xt(Bt){jt.bufferCount--,gr(Bt),yt.deleteBuffer(Bt.buffer),Bt.buffer=null,delete Dt[Bt.id]}var Mt=0,Dt={};sr.prototype.bind=function(){yt.bindBuffer(this.type,this.buffer)},sr.prototype.destroy=function(){xt(this)};var Lt=[];return Qt.profile&&(jt.getTotalBufferSize=function(){var Bt=0;return Object.keys(Dt).forEach(function(Nt){Bt+=Dt[Nt].stats.size}),Bt}),{create:function(Bt,Nt,Xt,lr){function fr(We){var Ge=35044,kt=null,It=0,Zt=0,rr=1;return Array.isArray(We)||Me(We)||u(We)||We instanceof ArrayBuffer?kt=We:typeof We=="number"?It=We|0:We&&("data"in We&&(kt=We.data),"usage"in We&&(Ge=De[We.usage]),"type"in We&&(Zt=Ue[We.type]),"dimension"in We&&(rr=We.dimension|0),"length"in We&&(It=We.length|0)),hr.bind(),kt?at(hr,kt,Ge,Zt,rr,lr):(It&&yt.bufferData(hr.type,It,Ge),hr.dtype=Zt||5121,hr.usage=Ge,hr.dimension=rr,hr.byteLength=It),Qt.profile&&(hr.stats.size=hr.byteLength*lt[hr.dtype]),fr}jt.bufferCount++;var hr=new sr(Nt);return Dt[hr.id]=hr,Xt||fr(Bt),fr._reglType="buffer",fr._buffer=hr,fr.subdata=function(We,Ge){var kt=(Ge||0)|0,It;if(hr.bind(),Me(We)||We instanceof ArrayBuffer)yt.bufferSubData(hr.type,kt,We);else if(Array.isArray(We)){if(0<We.length)if(typeof We[0]=="number"){var Zt=_e.allocType(hr.dtype,We.length);T(Zt,We),yt.bufferSubData(hr.type,kt,Zt),_e.freeType(Zt)}else(Array.isArray(We[0])||Me(We[0]))&&(It=nt(We),Zt=He(We,It,hr.dtype),yt.bufferSubData(hr.type,kt,Zt),_e.freeType(Zt))}else if(u(We)){It=We.shape;var rr=We.stride,ur=Zt=0,er=0,zt=0;It.length===1?(Zt=It[0],ur=1,er=rr[0],zt=0):It.length===2&&(Zt=It[0],ur=It[1],er=rr[0],zt=rr[1]),It=Array.isArray(We.data)?hr.dtype:f(We.data),It=_e.allocType(It,Zt*ur),h(It,We.data,Zt,ur,er,zt,We.offset),yt.bufferSubData(hr.type,kt,It),_e.freeType(It)}return fr},Qt.profile&&(fr.stats=hr.stats),fr.destroy=function(){xt(hr)},fr},createStream:function(Bt,Nt){var Xt=Lt.pop();return Xt||(Xt=new sr(Bt)),Xt.bind(),at(Xt,Nt,35040,0,1,!1),Xt},destroyStream:function(Bt){Lt.push(Bt)},clear:function(){me(Dt).forEach(xt),Lt.forEach(xt)},getBuffer:function(Bt){return Bt&&Bt._buffer instanceof sr?Bt._buffer:null},restore:function(){me(Dt).forEach(function(Bt){Bt.buffer=yt.createBuffer(),yt.bindBuffer(Bt.type,Bt.buffer),yt.bufferData(Bt.type,Bt.persistentData||Bt.byteLength,Bt.usage)})},_initBuffer:at}}function d(yt,jt,Qt,gr){function sr(Bt){this.id=Mt++,xt[this.id]=this,this.buffer=Bt,this.primType=4,this.type=this.vertCount=0}function vt(Bt,Nt,Xt,lr,fr,hr,We){Bt.buffer.bind();var Ge;if(Nt?((Ge=We)||Me(Nt)&&(!u(Nt)||Me(Nt.data))||(Ge=jt.oes_element_index_uint?5125:5123),Qt._initBuffer(Bt.buffer,Nt,Xt,Ge,3)):(yt.bufferData(34963,hr,Xt),Bt.buffer.dtype=Ge||5121,Bt.buffer.usage=Xt,Bt.buffer.dimension=3,Bt.buffer.byteLength=hr),Ge=We,!We){switch(Bt.buffer.dtype){case 5121:case 5120:Ge=5121;break;case 5123:case 5122:Ge=5123;break;case 5125:case 5124:Ge=5125}Bt.buffer.dtype=Ge}Bt.type=Ge,Nt=fr,0>Nt&&(Nt=Bt.buffer.byteLength,Ge===5123?Nt>>=1:Ge===5125&&(Nt>>=2)),Bt.vertCount=Nt,Nt=lr,0>lr&&(Nt=4,lr=Bt.buffer.dimension,lr===1&&(Nt=0),lr===2&&(Nt=1),lr===3&&(Nt=4)),Bt.primType=Nt}function at(Bt){gr.elementsCount--,delete xt[Bt.id],Bt.buffer.destroy(),Bt.buffer=null}var xt={},Mt=0,Dt={uint8:5121,uint16:5123};jt.oes_element_index_uint&&(Dt.uint32=5125),sr.prototype.bind=function(){this.buffer.bind()};var Lt=[];return{create:function(Bt,Nt){function Xt(hr){if(hr)if(typeof hr=="number")lr(hr),fr.primType=4,fr.vertCount=hr|0,fr.type=5121;else{var We=null,Ge=35044,kt=-1,It=-1,Zt=0,rr=0;Array.isArray(hr)||Me(hr)||u(hr)?We=hr:("data"in hr&&(We=hr.data),"usage"in hr&&(Ge=De[hr.usage]),"primitive"in hr&&(kt=$e[hr.primitive]),"count"in hr&&(It=hr.count|0),"type"in hr&&(rr=Dt[hr.type]),"length"in hr?Zt=hr.length|0:(Zt=It,rr===5123||rr===5122?Zt*=2:(rr===5125||rr===5124)&&(Zt*=4))),vt(fr,We,Ge,kt,It,Zt,rr)}else lr(),fr.primType=4,fr.vertCount=0,fr.type=5121;return Xt}var lr=Qt.create(null,34963,!0),fr=new sr(lr._buffer);return gr.elementsCount++,Xt(Bt),Xt._reglType="elements",Xt._elements=fr,Xt.subdata=function(hr,We){return lr.subdata(hr,We),Xt},Xt.destroy=function(){at(fr)},Xt},createStream:function(Bt){var Nt=Lt.pop();return Nt||(Nt=new sr(Qt.create(null,34963,!0,!1)._buffer)),vt(Nt,Bt,35040,-1,-1,0,0),Nt},destroyStream:function(Bt){Lt.push(Bt)},getElements:function(Bt){return typeof Bt=="function"&&Bt._elements instanceof sr?Bt._elements:null},clear:function(){me(xt).forEach(at)}}}function A(yt){for(var jt=_e.allocType(5123,yt.length),Qt=0;Qt<yt.length;++Qt)if(isNaN(yt[Qt]))jt[Qt]=65535;else if(yt[Qt]===1/0)jt[Qt]=31744;else if(yt[Qt]===-1/0)jt[Qt]=64512;else{qe[0]=yt[Qt];var vt=ct[0],gr=vt>>>31<<15,sr=(vt<<1>>>24)-127,vt=vt>>13&1023;jt[Qt]=-24>sr?gr:-14>sr?gr+(vt+1024>>-14-sr):15<sr?gr+31744:gr+(sr+15<<10)+vt}return jt}function w(yt){return Array.isArray(yt)||Me(yt)}function C(yt){return"[object "+yt+"]"}function b(yt){return Array.isArray(yt)&&(yt.length===0||typeof yt[0]=="number")}function S(yt){return!!(Array.isArray(yt)&&yt.length!==0&&w(yt[0]))}function m(yt){return Object.prototype.toString.call(yt)}function a(yt){if(!yt)return!1;var jt=m(yt);return 0<=Le.indexOf(jt)?!0:b(yt)||S(yt)||u(yt)}function E(yt,jt){yt.type===36193?(yt.data=A(jt),_e.freeType(jt)):yt.data=jt}function x(yt,jt,Qt,gr,sr,vt){if(yt=typeof pe[yt]<"u"?pe[yt]:At[yt]*xe[jt],vt&&(yt*=6),sr){for(gr=0;1<=Qt;)gr+=yt*Qt*Qt,Qt/=2;return gr}return yt*Qt*gr}function k(yt,jt,Qt,gr,sr,vt,at){function xt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Mt(Tr,on){Tr.internalformat=on.internalformat,Tr.format=on.format,Tr.type=on.type,Tr.compressed=on.compressed,Tr.premultiplyAlpha=on.premultiplyAlpha,Tr.flipY=on.flipY,Tr.unpackAlignment=on.unpackAlignment,Tr.colorSpace=on.colorSpace,Tr.width=on.width,Tr.height=on.height,Tr.channels=on.channels}function Dt(Tr,on){if(typeof on=="object"&&on){"premultiplyAlpha"in on&&(Tr.premultiplyAlpha=on.premultiplyAlpha),"flipY"in on&&(Tr.flipY=on.flipY),"alignment"in on&&(Tr.unpackAlignment=on.alignment),"colorSpace"in on&&(Tr.colorSpace=vn[on.colorSpace]),"type"in on&&(Tr.type=tn[on.type]);var rn=Tr.width,pn=Tr.height,Wn=Tr.channels,An=!1;"shape"in on?(rn=on.shape[0],pn=on.shape[1],on.shape.length===3&&(Wn=on.shape[2],An=!0)):("radius"in on&&(rn=pn=on.radius),"width"in on&&(rn=on.width),"height"in on&&(pn=on.height),"channels"in on&&(Wn=on.channels,An=!0)),Tr.width=rn|0,Tr.height=pn|0,Tr.channels=Wn|0,rn=!1,"format"in on&&(rn=on.format,pn=Tr.internalformat=Bn[rn],Tr.format=Cn[pn],rn in tn&&!("type"in on)&&(Tr.type=tn[rn]),rn in xn&&(Tr.compressed=!0),rn=!0),!An&&rn?Tr.channels=At[Tr.format]:An&&!rn&&Tr.channels!==gt[Tr.format]&&(Tr.format=Tr.internalformat=gt[Tr.channels])}}function Lt(Tr){yt.pixelStorei(37440,Tr.flipY),yt.pixelStorei(37441,Tr.premultiplyAlpha),yt.pixelStorei(37443,Tr.colorSpace),yt.pixelStorei(3317,Tr.unpackAlignment)}function Bt(){xt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(Tr,on){var rn=null;if(a(on)?rn=on:on&&(Dt(Tr,on),"x"in on&&(Tr.xOffset=on.x|0),"y"in on&&(Tr.yOffset=on.y|0),a(on.data)&&(rn=on.data)),on.copy){var pn=sr.viewportWidth,Wn=sr.viewportHeight;Tr.width=Tr.width||pn-Tr.xOffset,Tr.height=Tr.height||Wn-Tr.yOffset,Tr.needsCopy=!0}else if(!rn)Tr.width=Tr.width||1,Tr.height=Tr.height||1,Tr.channels=Tr.channels||4;else if(Me(rn))Tr.channels=Tr.channels||4,Tr.data=rn,"type"in on||Tr.type!==5121||(Tr.type=Be[Object.prototype.toString.call(rn)]|0);else if(b(rn)){switch(Tr.channels=Tr.channels||4,pn=rn,Wn=pn.length,Tr.type){case 5121:case 5123:case 5125:case 5126:Wn=_e.allocType(Tr.type,Wn),Wn.set(pn),Tr.data=Wn;break;case 36193:Tr.data=A(pn)}Tr.alignment=1,Tr.needsFree=!0}else if(u(rn)){pn=rn.data,Array.isArray(pn)||Tr.type!==5121||(Tr.type=Be[Object.prototype.toString.call(pn)]|0);var Wn=rn.shape,An=rn.stride,Sn,Hn,ta,wa;Wn.length===3?(ta=Wn[2],wa=An[2]):wa=ta=1,Sn=Wn[0],Hn=Wn[1],Wn=An[0],An=An[1],Tr.alignment=1,Tr.width=Sn,Tr.height=Hn,Tr.channels=ta,Tr.format=Tr.internalformat=gt[ta],Tr.needsFree=!0,Sn=wa,rn=rn.offset,ta=Tr.width,wa=Tr.height,Hn=Tr.channels;for(var Ga=_e.allocType(Tr.type===36193?5126:Tr.type,ta*wa*Hn),Sr=0,Nr=0;Nr<wa;++Nr)for(var br=0;br<ta;++br)for(var _r=0;_r<Hn;++_r)Ga[Sr++]=pn[Wn*br+An*Nr+Sn*_r+rn];E(Tr,Ga)}else if(m(rn)===Rt||m(rn)===Vt||m(rn)===Je)m(rn)===Rt||m(rn)===Vt?Tr.element=rn:Tr.element=rn.canvas,Tr.width=Tr.element.width,Tr.height=Tr.element.height,Tr.channels=4;else if(m(rn)===Ve)Tr.element=rn,Tr.width=rn.width,Tr.height=rn.height,Tr.channels=4;else if(m(rn)===Ie)Tr.element=rn,Tr.width=rn.naturalWidth,Tr.height=rn.naturalHeight,Tr.channels=4;else if(m(rn)===Oe)Tr.element=rn,Tr.width=rn.videoWidth,Tr.height=rn.videoHeight,Tr.channels=4;else if(S(rn)){for(pn=Tr.width||rn[0].length,Wn=Tr.height||rn.length,An=Tr.channels,An=w(rn[0][0])?An||rn[0][0].length:An||1,Sn=Ee.shape(rn),ta=1,wa=0;wa<Sn.length;++wa)ta*=Sn[wa];ta=_e.allocType(Tr.type===36193?5126:Tr.type,ta),Ee.flatten(rn,Sn,"",ta),E(Tr,ta),Tr.alignment=1,Tr.width=pn,Tr.height=Wn,Tr.channels=An,Tr.format=Tr.internalformat=gt[An],Tr.needsFree=!0}}function Xt(Tr,on,rn,pn,Wn){var An=Tr.element,Sn=Tr.data,Hn=Tr.internalformat,ta=Tr.format,wa=Tr.type,Ga=Tr.width,Sr=Tr.height;Lt(Tr),An?yt.texSubImage2D(on,Wn,rn,pn,ta,wa,An):Tr.compressed?yt.compressedTexSubImage2D(on,Wn,rn,pn,Hn,Ga,Sr,Sn):Tr.needsCopy?(gr(),yt.copyTexSubImage2D(on,Wn,rn,pn,Tr.xOffset,Tr.yOffset,Ga,Sr)):yt.texSubImage2D(on,Wn,rn,pn,Ga,Sr,ta,wa,Sn)}function lr(){return _n.pop()||new Bt}function fr(Tr){Tr.needsFree&&_e.freeType(Tr.data),Bt.call(Tr),_n.push(Tr)}function hr(){xt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function We(Tr,on,rn){var pn=Tr.images[0]=lr();Tr.mipmask=1,pn.width=Tr.width=on,pn.height=Tr.height=rn,pn.channels=Tr.channels=4}function Ge(Tr,on){var rn=null;if(a(on))rn=Tr.images[0]=lr(),Mt(rn,Tr),Nt(rn,on),Tr.mipmask=1;else if(Dt(Tr,on),Array.isArray(on.mipmap))for(var pn=on.mipmap,Wn=0;Wn<pn.length;++Wn)rn=Tr.images[Wn]=lr(),Mt(rn,Tr),rn.width>>=Wn,rn.height>>=Wn,Nt(rn,pn[Wn]),Tr.mipmask|=1<<Wn;else rn=Tr.images[0]=lr(),Mt(rn,Tr),Nt(rn,on),Tr.mipmask=1;Mt(Tr,Tr.images[0])}function kt(Tr,on){for(var rn=Tr.images,pn=0;pn<rn.length&&rn[pn];++pn){var Wn=rn[pn],An=on,Sn=pn,Hn=Wn.element,ta=Wn.data,wa=Wn.internalformat,Ga=Wn.format,Sr=Wn.type,Nr=Wn.width,br=Wn.height;Lt(Wn),Hn?yt.texImage2D(An,Sn,Ga,Ga,Sr,Hn):Wn.compressed?yt.compressedTexImage2D(An,Sn,wa,Nr,br,0,ta):Wn.needsCopy?(gr(),yt.copyTexImage2D(An,Sn,Ga,Wn.xOffset,Wn.yOffset,Nr,br,0)):yt.texImage2D(An,Sn,Ga,Nr,br,0,Ga,Sr,ta||null)}}function It(){var Tr=sa.pop()||new hr;xt.call(Tr);for(var on=Tr.mipmask=0;16>on;++on)Tr.images[on]=null;return Tr}function Zt(Tr){for(var on=Tr.images,rn=0;rn<on.length;++rn)on[rn]&&fr(on[rn]),on[rn]=null;sa.push(Tr)}function rr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ur(Tr,on){"min"in on&&(Tr.minFilter=Rr[on.min],0<=dt.indexOf(Tr.minFilter)&&!("faces"in on)&&(Tr.genMipmaps=!0)),"mag"in on&&(Tr.magFilter=kr[on.mag]);var rn=Tr.wrapS,pn=Tr.wrapT;if("wrap"in on){var Wn=on.wrap;typeof Wn=="string"?rn=pn=Ur[Wn]:Array.isArray(Wn)&&(rn=Ur[Wn[0]],pn=Ur[Wn[1]])}else"wrapS"in on&&(rn=Ur[on.wrapS]),"wrapT"in on&&(pn=Ur[on.wrapT]);if(Tr.wrapS=rn,Tr.wrapT=pn,"anisotropic"in on&&(Tr.anisotropic=on.anisotropic),"mipmap"in on){switch(rn=!1,typeof on.mipmap){case"string":Tr.mipmapHint=cr[on.mipmap],rn=Tr.genMipmaps=!0;break;case"boolean":rn=Tr.genMipmaps=on.mipmap;break;case"object":Tr.genMipmaps=!1,rn=!0}!rn||"min"in on||(Tr.minFilter=9984)}}function er(Tr,on){yt.texParameteri(on,10241,Tr.minFilter),yt.texParameteri(on,10240,Tr.magFilter),yt.texParameteri(on,10242,Tr.wrapS),yt.texParameteri(on,10243,Tr.wrapT),jt.ext_texture_filter_anisotropic&&yt.texParameteri(on,34046,Tr.anisotropic),Tr.genMipmaps&&(yt.hint(33170,Tr.mipmapHint),yt.generateMipmap(on))}function zt(Tr){xt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Qn++,this.refCount=1,this.target=Tr,this.texture=yt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new rr,at.profile&&(this.stats={size:0})}function vr(Tr){yt.activeTexture(33984),yt.bindTexture(Tr.target,Tr.texture)}function yr(){var Tr=$n[0];Tr?yt.bindTexture(Tr.target,Tr.texture):yt.bindTexture(3553,null)}function pr(Tr){var on=Tr.texture,rn=Tr.unit,pn=Tr.target;0<=rn&&(yt.activeTexture(33984+rn),yt.bindTexture(pn,null),$n[rn]=null),yt.deleteTexture(on),Tr.texture=null,Tr.params=null,Tr.pixels=null,Tr.refCount=0,delete ea[Tr.id],vt.textureCount--}var cr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Ur={repeat:10497,clamp:33071,mirror:33648},kr={nearest:9728,linear:9729},Rr=ne({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},kr),vn={none:0,browser:37444},tn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Bn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},xn={};jt.ext_srgb&&(Bn.srgb=35904,Bn.srgba=35906),jt.oes_texture_float&&(tn.float32=tn.float=5126),jt.oes_texture_half_float&&(tn.float16=tn["half float"]=36193),jt.webgl_depth_texture&&(ne(Bn,{depth:6402,"depth stencil":34041}),ne(tn,{uint16:5123,uint32:5125,"depth stencil":34042})),jt.webgl_compressed_texture_s3tc&&ne(xn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),jt.webgl_compressed_texture_atc&&ne(xn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),jt.webgl_compressed_texture_pvrtc&&ne(xn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),jt.webgl_compressed_texture_etc1&&(xn["rgb etc1"]=36196);var Mr=Array.prototype.slice.call(yt.getParameter(34467));Object.keys(xn).forEach(function(Tr){var on=xn[Tr];0<=Mr.indexOf(on)&&(Bn[Tr]=on)});var Er=Object.keys(Bn);Qt.textureFormats=Er;var Wr=[];Object.keys(Bn).forEach(function(Tr){Wr[Bn[Tr]]=Tr});var Hr=[];Object.keys(tn).forEach(function(Tr){Hr[tn[Tr]]=Tr});var an=[];Object.keys(kr).forEach(function(Tr){an[kr[Tr]]=Tr});var dn=[];Object.keys(Rr).forEach(function(Tr){dn[Rr[Tr]]=Tr});var gn=[];Object.keys(Ur).forEach(function(Tr){gn[Ur[Tr]]=Tr});var Cn=Er.reduce(function(Tr,on){var rn=Bn[on];return rn===6409||rn===6406||rn===6409||rn===6410||rn===6402||rn===34041||jt.ext_srgb&&(rn===35904||rn===35906)?Tr[rn]=rn:rn===32855||0<=on.indexOf("rgba")?Tr[rn]=6408:Tr[rn]=6407,Tr},{}),_n=[],sa=[],Qn=0,ea={},Zn=Qt.maxTextureUnits,$n=Array(Zn).map(function(){return null});return ne(zt.prototype,{bind:function(){this.bindCount+=1;var Tr=this.unit;if(0>Tr){for(var on=0;on<Zn;++on){var rn=$n[on];if(rn){if(0<rn.bindCount)continue;rn.unit=-1}$n[on]=this,Tr=on;break}at.profile&&vt.maxTextureUnits<Tr+1&&(vt.maxTextureUnits=Tr+1),this.unit=Tr,yt.activeTexture(33984+Tr),yt.bindTexture(this.target,this.texture)}return Tr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&pr(this)}}),at.profile&&(vt.getTotalTextureSize=function(){var Tr=0;return Object.keys(ea).forEach(function(on){Tr+=ea[on].stats.size}),Tr}),{create2D:function(Tr,on){function rn(Wn,An){var Sn=pn.texInfo;rr.call(Sn);var Hn=It();return typeof Wn=="number"?typeof An=="number"?We(Hn,Wn|0,An|0):We(Hn,Wn|0,Wn|0):Wn?(ur(Sn,Wn),Ge(Hn,Wn)):We(Hn,1,1),Sn.genMipmaps&&(Hn.mipmask=(Hn.width<<1)-1),pn.mipmask=Hn.mipmask,Mt(pn,Hn),pn.internalformat=Hn.internalformat,rn.width=Hn.width,rn.height=Hn.height,vr(pn),kt(Hn,3553),er(Sn,3553),yr(),Zt(Hn),at.profile&&(pn.stats.size=x(pn.internalformat,pn.type,Hn.width,Hn.height,Sn.genMipmaps,!1)),rn.format=Wr[pn.internalformat],rn.type=Hr[pn.type],rn.mag=an[Sn.magFilter],rn.min=dn[Sn.minFilter],rn.wrapS=gn[Sn.wrapS],rn.wrapT=gn[Sn.wrapT],rn}var pn=new zt(3553);return ea[pn.id]=pn,vt.textureCount++,rn(Tr,on),rn.subimage=function(Wn,An,Sn,Hn){An|=0,Sn|=0,Hn|=0;var ta=lr();return Mt(ta,pn),ta.width=0,ta.height=0,Nt(ta,Wn),ta.width=ta.width||(pn.width>>Hn)-An,ta.height=ta.height||(pn.height>>Hn)-Sn,vr(pn),Xt(ta,3553,An,Sn,Hn),yr(),fr(ta),rn},rn.resize=function(Wn,An){var Sn=Wn|0,Hn=An|0||Sn;if(Sn===pn.width&&Hn===pn.height)return rn;rn.width=pn.width=Sn,rn.height=pn.height=Hn,vr(pn);for(var ta=0;pn.mipmask>>ta;++ta){var wa=Sn>>ta,Ga=Hn>>ta;if(!wa||!Ga)break;yt.texImage2D(3553,ta,pn.format,wa,Ga,0,pn.format,pn.type,null)}return yr(),at.profile&&(pn.stats.size=x(pn.internalformat,pn.type,Sn,Hn,!1,!1)),rn},rn._reglType="texture2d",rn._texture=pn,at.profile&&(rn.stats=pn.stats),rn.destroy=function(){pn.decRef()},rn},createCube:function(Tr,on,rn,pn,Wn,An){function Sn(wa,Ga,Sr,Nr,br,_r){var wn,Rn=Hn.texInfo;for(rr.call(Rn),wn=0;6>wn;++wn)ta[wn]=It();if(typeof wa=="number"||!wa)for(wa=wa|0||1,wn=0;6>wn;++wn)We(ta[wn],wa,wa);else if(typeof wa=="object")if(Ga)Ge(ta[0],wa),Ge(ta[1],Ga),Ge(ta[2],Sr),Ge(ta[3],Nr),Ge(ta[4],br),Ge(ta[5],_r);else if(ur(Rn,wa),Dt(Hn,wa),"faces"in wa)for(wa=wa.faces,wn=0;6>wn;++wn)Mt(ta[wn],Hn),Ge(ta[wn],wa[wn]);else for(wn=0;6>wn;++wn)Ge(ta[wn],wa);for(Mt(Hn,ta[0]),Hn.mipmask=Rn.genMipmaps?(ta[0].width<<1)-1:ta[0].mipmask,Hn.internalformat=ta[0].internalformat,Sn.width=ta[0].width,Sn.height=ta[0].height,vr(Hn),wn=0;6>wn;++wn)kt(ta[wn],34069+wn);for(er(Rn,34067),yr(),at.profile&&(Hn.stats.size=x(Hn.internalformat,Hn.type,Sn.width,Sn.height,Rn.genMipmaps,!0)),Sn.format=Wr[Hn.internalformat],Sn.type=Hr[Hn.type],Sn.mag=an[Rn.magFilter],Sn.min=dn[Rn.minFilter],Sn.wrapS=gn[Rn.wrapS],Sn.wrapT=gn[Rn.wrapT],wn=0;6>wn;++wn)Zt(ta[wn]);return Sn}var Hn=new zt(34067);ea[Hn.id]=Hn,vt.cubeCount++;var ta=Array(6);return Sn(Tr,on,rn,pn,Wn,An),Sn.subimage=function(wa,Ga,Sr,Nr,br){Sr|=0,Nr|=0,br|=0;var _r=lr();return Mt(_r,Hn),_r.width=0,_r.height=0,Nt(_r,Ga),_r.width=_r.width||(Hn.width>>br)-Sr,_r.height=_r.height||(Hn.height>>br)-Nr,vr(Hn),Xt(_r,34069+wa,Sr,Nr,br),yr(),fr(_r),Sn},Sn.resize=function(wa){if(wa|=0,wa!==Hn.width){Sn.width=Hn.width=wa,Sn.height=Hn.height=wa,vr(Hn);for(var Ga=0;6>Ga;++Ga)for(var Sr=0;Hn.mipmask>>Sr;++Sr)yt.texImage2D(34069+Ga,Sr,Hn.format,wa>>Sr,wa>>Sr,0,Hn.format,Hn.type,null);return yr(),at.profile&&(Hn.stats.size=x(Hn.internalformat,Hn.type,Sn.width,Sn.height,!1,!0)),Sn}},Sn._reglType="textureCube",Sn._texture=Hn,at.profile&&(Sn.stats=Hn.stats),Sn.destroy=function(){Hn.decRef()},Sn},clear:function(){for(var Tr=0;Tr<Zn;++Tr)yt.activeTexture(33984+Tr),yt.bindTexture(3553,null),$n[Tr]=null;me(ea).forEach(pr),vt.cubeCount=0,vt.textureCount=0},getTexture:function(Tr){return null},restore:function(){for(var Tr=0;Tr<Zn;++Tr){var on=$n[Tr];on&&(on.bindCount=0,on.unit=-1,$n[Tr]=null)}me(ea).forEach(function(rn){rn.texture=yt.createTexture(),yt.bindTexture(rn.target,rn.texture);for(var pn=0;32>pn;++pn)if(rn.mipmask&1<<pn)if(rn.target===3553)yt.texImage2D(3553,pn,rn.internalformat,rn.width>>pn,rn.height>>pn,0,rn.internalformat,rn.type,null);else for(var Wn=0;6>Wn;++Wn)yt.texImage2D(34069+Wn,pn,rn.internalformat,rn.width>>pn,rn.height>>pn,0,rn.internalformat,rn.type,null);er(rn.texInfo,rn.target)})},refresh:function(){for(var Tr=0;Tr<Zn;++Tr){var on=$n[Tr];on&&(on.bindCount=0,on.unit=-1,$n[Tr]=null),yt.activeTexture(33984+Tr),yt.bindTexture(3553,null),yt.bindTexture(34067,null)}}}}function I(yt,jt,Qt,gr,sr,vt){function at(zt,vr,yr){this.target=zt,this.texture=vr,this.renderbuffer=yr;var pr=zt=0;vr?(zt=vr.width,pr=vr.height):yr&&(zt=yr.width,pr=yr.height),this.width=zt,this.height=pr}function xt(zt){zt&&(zt.texture&&zt.texture._texture.decRef(),zt.renderbuffer&&zt.renderbuffer._renderbuffer.decRef())}function Mt(zt,vr,yr){zt&&(zt.texture?zt.texture._texture.refCount+=1:zt.renderbuffer._renderbuffer.refCount+=1)}function Dt(zt,vr){vr&&(vr.texture?yt.framebufferTexture2D(36160,zt,vr.target,vr.texture._texture.texture,0):yt.framebufferRenderbuffer(36160,zt,36161,vr.renderbuffer._renderbuffer.renderbuffer))}function Lt(zt){var vr=3553,yr=null,pr=null,cr=zt;return typeof zt=="object"&&(cr=zt.data,"target"in zt&&(vr=zt.target|0)),zt=cr._reglType,zt==="texture2d"||zt==="textureCube"?yr=cr:zt==="renderbuffer"&&(pr=cr,vr=36161),new at(vr,yr,pr)}function Bt(zt,vr,yr,pr,cr){return yr?(zt=gr.create2D({width:zt,height:vr,format:pr,type:cr}),zt._texture.refCount=0,new at(3553,zt,null)):(zt=sr.create({width:zt,height:vr,format:pr}),zt._renderbuffer.refCount=0,new at(36161,null,zt))}function Nt(zt){return zt&&(zt.texture||zt.renderbuffer)}function Xt(zt,vr,yr){zt&&(zt.texture?zt.texture.resize(vr,yr):zt.renderbuffer&&zt.renderbuffer.resize(vr,yr),zt.width=vr,zt.height=yr)}function lr(){this.id=ur++,er[this.id]=this,this.framebuffer=yt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function fr(zt){zt.colorAttachments.forEach(xt),xt(zt.depthAttachment),xt(zt.stencilAttachment),xt(zt.depthStencilAttachment)}function hr(zt){yt.deleteFramebuffer(zt.framebuffer),zt.framebuffer=null,vt.framebufferCount--,delete er[zt.id]}function We(zt){var vr;yt.bindFramebuffer(36160,zt.framebuffer);var yr=zt.colorAttachments;for(vr=0;vr<yr.length;++vr)Dt(36064+vr,yr[vr]);for(vr=yr.length;vr<Qt.maxColorAttachments;++vr)yt.framebufferTexture2D(36160,36064+vr,3553,null,0);yt.framebufferTexture2D(36160,33306,3553,null,0),yt.framebufferTexture2D(36160,36096,3553,null,0),yt.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,zt.depthAttachment),Dt(36128,zt.stencilAttachment),Dt(33306,zt.depthStencilAttachment),yt.checkFramebufferStatus(36160),yt.isContextLost(),yt.bindFramebuffer(36160,kt.next?kt.next.framebuffer:null),kt.cur=kt.next,yt.getError()}function Ge(zt,vr){function yr(cr,Ur){var kr,Rr=0,vn=0,tn=!0,Bn=!0;kr=null;var xn=!0,Mr="rgba",Er="uint8",Wr=1,Hr=null,an=null,dn=null,gn=!1;typeof cr=="number"?(Rr=cr|0,vn=Ur|0||Rr):cr?("shape"in cr?(vn=cr.shape,Rr=vn[0],vn=vn[1]):("radius"in cr&&(Rr=vn=cr.radius),"width"in cr&&(Rr=cr.width),"height"in cr&&(vn=cr.height)),("color"in cr||"colors"in cr)&&(kr=cr.color||cr.colors),kr||("colorCount"in cr&&(Wr=cr.colorCount|0),"colorTexture"in cr&&(xn=!!cr.colorTexture,Mr="rgba4"),"colorType"in cr&&(Er=cr.colorType,!xn)&&(Er==="half float"||Er==="float16"?Mr="rgba16f":(Er==="float"||Er==="float32")&&(Mr="rgba32f")),"colorFormat"in cr&&(Mr=cr.colorFormat,0<=It.indexOf(Mr)?xn=!0:0<=Zt.indexOf(Mr)&&(xn=!1))),("depthTexture"in cr||"depthStencilTexture"in cr)&&(gn=!(!cr.depthTexture&&!cr.depthStencilTexture)),"depth"in cr&&(typeof cr.depth=="boolean"?tn=cr.depth:(Hr=cr.depth,Bn=!1)),"stencil"in cr&&(typeof cr.stencil=="boolean"?Bn=cr.stencil:(an=cr.stencil,tn=!1)),"depthStencil"in cr&&(typeof cr.depthStencil=="boolean"?tn=Bn=cr.depthStencil:(dn=cr.depthStencil,Bn=tn=!1))):Rr=vn=1;var Cn=null,_n=null,sa=null,Qn=null;if(Array.isArray(kr))Cn=kr.map(Lt);else if(kr)Cn=[Lt(kr)];else for(Cn=Array(Wr),kr=0;kr<Wr;++kr)Cn[kr]=Bt(Rr,vn,xn,Mr,Er);for(Rr=Rr||Cn[0].width,vn=vn||Cn[0].height,Hr?_n=Lt(Hr):tn&&!Bn&&(_n=Bt(Rr,vn,gn,"depth","uint32")),an?sa=Lt(an):Bn&&!tn&&(sa=Bt(Rr,vn,!1,"stencil","uint8")),dn?Qn=Lt(dn):!Hr&&!an&&Bn&&tn&&(Qn=Bt(Rr,vn,gn,"depth stencil","depth stencil")),tn=null,kr=0;kr<Cn.length;++kr)Mt(Cn[kr]),Cn[kr]&&Cn[kr].texture&&(Bn=Ne[Cn[kr].texture._texture.format]*Ye[Cn[kr].texture._texture.type],tn===null&&(tn=Bn));return Mt(_n),Mt(sa),Mt(Qn),fr(pr),pr.width=Rr,pr.height=vn,pr.colorAttachments=Cn,pr.depthAttachment=_n,pr.stencilAttachment=sa,pr.depthStencilAttachment=Qn,yr.color=Cn.map(Nt),yr.depth=Nt(_n),yr.stencil=Nt(sa),yr.depthStencil=Nt(Qn),yr.width=pr.width,yr.height=pr.height,We(pr),yr}var pr=new lr;return vt.framebufferCount++,yr(zt,vr),ne(yr,{resize:function(cr,Ur){var kr=Math.max(cr|0,1),Rr=Math.max(Ur|0||kr,1);if(kr===pr.width&&Rr===pr.height)return yr;for(var vn=pr.colorAttachments,tn=0;tn<vn.length;++tn)Xt(vn[tn],kr,Rr);return Xt(pr.depthAttachment,kr,Rr),Xt(pr.stencilAttachment,kr,Rr),Xt(pr.depthStencilAttachment,kr,Rr),pr.width=yr.width=kr,pr.height=yr.height=Rr,We(pr),yr},_reglType:"framebuffer",_framebuffer:pr,destroy:function(){hr(pr),fr(pr)},use:function(cr){kt.setFBO({framebuffer:yr},cr)}})}var kt={cur:null,next:null,dirty:!1,setFBO:null},It=["rgba"],Zt=["rgba4","rgb565","rgb5 a1"];jt.ext_srgb&&Zt.push("srgba"),jt.ext_color_buffer_half_float&&Zt.push("rgba16f","rgb16f"),jt.webgl_color_buffer_float&&Zt.push("rgba32f");var rr=["uint8"];jt.oes_texture_half_float&&rr.push("half float","float16"),jt.oes_texture_float&&rr.push("float","float32");var ur=0,er={};return ne(kt,{getFramebuffer:function(zt){return typeof zt=="function"&&zt._reglType==="framebuffer"&&(zt=zt._framebuffer,zt instanceof lr)?zt:null},create:Ge,createCube:function(zt){function vr(pr){var cr,Ur={color:null},kr=0,Rr=null;cr="rgba";var vn="uint8",tn=1;if(typeof pr=="number"?kr=pr|0:pr?("shape"in pr?kr=pr.shape[0]:("radius"in pr&&(kr=pr.radius|0),"width"in pr?kr=pr.width|0:"height"in pr&&(kr=pr.height|0)),("color"in pr||"colors"in pr)&&(Rr=pr.color||pr.colors),Rr||("colorCount"in pr&&(tn=pr.colorCount|0),"colorType"in pr&&(vn=pr.colorType),"colorFormat"in pr&&(cr=pr.colorFormat)),"depth"in pr&&(Ur.depth=pr.depth),"stencil"in pr&&(Ur.stencil=pr.stencil),"depthStencil"in pr&&(Ur.depthStencil=pr.depthStencil)):kr=1,Rr)if(Array.isArray(Rr))for(pr=[],cr=0;cr<Rr.length;++cr)pr[cr]=Rr[cr];else pr=[Rr];else for(pr=Array(tn),Rr={radius:kr,format:cr,type:vn},cr=0;cr<tn;++cr)pr[cr]=gr.createCube(Rr);for(Ur.color=Array(pr.length),cr=0;cr<pr.length;++cr)tn=pr[cr],kr=kr||tn.width,Ur.color[cr]={target:34069,data:pr[cr]};for(cr=0;6>cr;++cr){for(tn=0;tn<pr.length;++tn)Ur.color[tn].target=34069+cr;0<cr&&(Ur.depth=yr[0].depth,Ur.stencil=yr[0].stencil,Ur.depthStencil=yr[0].depthStencil),yr[cr]?yr[cr](Ur):yr[cr]=Ge(Ur)}return ne(vr,{width:kr,height:kr,color:pr})}var yr=Array(6);return vr(zt),ne(vr,{faces:yr,resize:function(pr){var cr=pr|0;if(cr===vr.width)return vr;var Ur=vr.color;for(pr=0;pr<Ur.length;++pr)Ur[pr].resize(cr);for(pr=0;6>pr;++pr)yr[pr].resize(cr);return vr.width=vr.height=cr,vr},_reglType:"framebufferCube",destroy:function(){yr.forEach(function(pr){pr.destroy()})}})},clear:function(){me(er).forEach(hr)},restore:function(){kt.cur=null,kt.next=null,kt.dirty=!0,me(er).forEach(function(zt){zt.framebuffer=yt.createFramebuffer(),We(zt)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function F(yt,jt,Qt,gr,sr,vt,at){function xt(We){if(We!==hr.currentVAO){var Ge=jt.oes_vertex_array_object;We?Ge.bindVertexArrayOES(We.vao):Ge.bindVertexArrayOES(null),hr.currentVAO=We}}function Mt(We){if(We!==hr.currentVAO){if(We)We.bindAttrs();else{for(var Ge=jt.angle_instanced_arrays,kt=0;kt<Xt.length;++kt){var It=Xt[kt];It.buffer?(yt.enableVertexAttribArray(kt),It.buffer.bind(),yt.vertexAttribPointer(kt,It.size,It.type,It.normalized,It.stride,It.offfset),Ge&&It.divisor&&Ge.vertexAttribDivisorANGLE(kt,It.divisor)):(yt.disableVertexAttribArray(kt),yt.vertexAttrib4f(kt,It.x,It.y,It.z,It.w))}at.elements?yt.bindBuffer(34963,at.elements.buffer.buffer):yt.bindBuffer(34963,null)}hr.currentVAO=We}}function Dt(){me(fr).forEach(function(We){We.destroy()})}function Lt(){this.id=++lr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var We=jt.oes_vertex_array_object;this.vao=We?We.createVertexArrayOES():null,fr[this.id]=this,this.buffers=[]}function Bt(){jt.oes_vertex_array_object&&me(fr).forEach(function(We){We.refresh()})}var Nt=Qt.maxAttributes,Xt=Array(Nt);for(Qt=0;Qt<Nt;++Qt)Xt[Qt]=new N;var lr=0,fr={},hr={Record:N,scope:{},state:Xt,currentVAO:null,targetVAO:null,restore:jt.oes_vertex_array_object?Bt:function(){},createVAO:function(We){function Ge(It){var Zt;Array.isArray(It)?(Zt=It,kt.elements&&kt.ownsElements&&kt.elements.destroy(),kt.elements=null,kt.ownsElements=!1,kt.offset=0,kt.count=0,kt.instances=-1,kt.primitive=4):(It.elements?(Zt=It.elements,kt.ownsElements?(typeof Zt=="function"&&Zt._reglType==="elements"?kt.elements.destroy():kt.elements(Zt),kt.ownsElements=!1):vt.getElements(It.elements)?(kt.elements=It.elements,kt.ownsElements=!1):(kt.elements=vt.create(It.elements),kt.ownsElements=!0)):(kt.elements=null,kt.ownsElements=!1),Zt=It.attributes,kt.offset=0,kt.count=-1,kt.instances=-1,kt.primitive=4,kt.elements&&(kt.count=kt.elements._elements.vertCount,kt.primitive=kt.elements._elements.primType),"offset"in It&&(kt.offset=It.offset|0),"count"in It&&(kt.count=It.count|0),"instances"in It&&(kt.instances=It.instances|0),"primitive"in It&&(kt.primitive=$e[It.primitive])),It={};var rr=kt.attributes;rr.length=Zt.length;for(var ur=0;ur<Zt.length;++ur){var er=Zt[ur],zt=rr[ur]=new N,vr=er.data||er;if(Array.isArray(vr)||Me(vr)||u(vr)){var yr;kt.buffers[ur]&&(yr=kt.buffers[ur],Me(vr)&&yr._buffer.byteLength>=vr.byteLength?yr.subdata(vr):(yr.destroy(),kt.buffers[ur]=null)),kt.buffers[ur]||(yr=kt.buffers[ur]=sr.create(er,34962,!1,!0)),zt.buffer=sr.getBuffer(yr),zt.size=zt.buffer.dimension|0,zt.normalized=!1,zt.type=zt.buffer.dtype,zt.offset=0,zt.stride=0,zt.divisor=0,zt.state=1,It[ur]=1}else sr.getBuffer(er)?(zt.buffer=sr.getBuffer(er),zt.size=zt.buffer.dimension|0,zt.normalized=!1,zt.type=zt.buffer.dtype,zt.offset=0,zt.stride=0,zt.divisor=0,zt.state=1):sr.getBuffer(er.buffer)?(zt.buffer=sr.getBuffer(er.buffer),zt.size=(+er.size||zt.buffer.dimension)|0,zt.normalized=!!er.normalized||!1,zt.type="type"in er?Ue[er.type]:zt.buffer.dtype,zt.offset=(er.offset||0)|0,zt.stride=(er.stride||0)|0,zt.divisor=(er.divisor||0)|0,zt.state=1):"x"in er&&(zt.x=+er.x||0,zt.y=+er.y||0,zt.z=+er.z||0,zt.w=+er.w||0,zt.state=2)}for(yr=0;yr<kt.buffers.length;++yr)!It[yr]&&kt.buffers[yr]&&(kt.buffers[yr].destroy(),kt.buffers[yr]=null);return kt.refresh(),Ge}var kt=new Lt;return gr.vaoCount+=1,Ge.destroy=function(){for(var It=0;It<kt.buffers.length;++It)kt.buffers[It]&&kt.buffers[It].destroy();kt.buffers.length=0,kt.ownsElements&&(kt.elements.destroy(),kt.elements=null,kt.ownsElements=!1),kt.destroy()},Ge._vao=kt,Ge._reglType="vao",Ge(We)},getVAO:function(We){return typeof We=="function"&&We._vao?We._vao:null},destroyBuffer:function(We){for(var Ge=0;Ge<Xt.length;++Ge){var kt=Xt[Ge];kt.buffer===We&&(yt.disableVertexAttribArray(Ge),kt.buffer=null)}},setVAO:jt.oes_vertex_array_object?xt:Mt,clear:jt.oes_vertex_array_object?Dt:function(){}};return Lt.prototype.bindAttrs=function(){for(var We=jt.angle_instanced_arrays,Ge=this.attributes,kt=0;kt<Ge.length;++kt){var It=Ge[kt];It.buffer?(yt.enableVertexAttribArray(kt),yt.bindBuffer(34962,It.buffer.buffer),yt.vertexAttribPointer(kt,It.size,It.type,It.normalized,It.stride,It.offset),We&&It.divisor&&We.vertexAttribDivisorANGLE(kt,It.divisor)):(yt.disableVertexAttribArray(kt),yt.vertexAttrib4f(kt,It.x,It.y,It.z,It.w))}for(We=Ge.length;We<Nt;++We)yt.disableVertexAttribArray(We);(We=vt.getElements(this.elements))?yt.bindBuffer(34963,We.buffer.buffer):yt.bindBuffer(34963,null)},Lt.prototype.refresh=function(){var We=jt.oes_vertex_array_object;We&&(We.bindVertexArrayOES(this.vao),this.bindAttrs(),hr.currentVAO=null,We.bindVertexArrayOES(null))},Lt.prototype.destroy=function(){if(this.vao){var We=jt.oes_vertex_array_object;this===hr.currentVAO&&(hr.currentVAO=null,We.bindVertexArrayOES(null)),We.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),fr[this.id]&&(delete fr[this.id],--gr.vaoCount)},hr}function z(yt,jt,Qt,gr){function sr(lr,fr,hr,We){this.name=lr,this.id=fr,this.location=hr,this.info=We}function vt(lr,fr){for(var hr=0;hr<lr.length;++hr)if(lr[hr].id===fr.id){lr[hr].location=fr.location;return}lr.push(fr)}function at(lr,fr,hr){hr=lr===35632?Dt:Lt;var We=hr[fr];if(!We){var Ge=jt.str(fr),We=yt.createShader(lr);yt.shaderSource(We,Ge),yt.compileShader(We),hr[fr]=We}return We}function xt(lr,fr){this.id=Xt++,this.fragId=lr,this.vertId=fr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,gr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Mt(lr,fr,hr){var We;We=at(35632,lr.fragId);var Ge=at(35633,lr.vertId);if(fr=lr.program=yt.createProgram(),yt.attachShader(fr,We),yt.attachShader(fr,Ge),hr)for(We=0;We<hr.length;++We)Ge=hr[We],yt.bindAttribLocation(fr,Ge[0],Ge[1]);yt.linkProgram(fr),Ge=yt.getProgramParameter(fr,35718),gr.profile&&(lr.stats.uniformsCount=Ge);var kt=lr.uniforms;for(We=0;We<Ge;++We)if(hr=yt.getActiveUniform(fr,We))if(1<hr.size)for(var It=0;It<hr.size;++It){var Zt=hr.name.replace("[0]","["+It+"]");vt(kt,new sr(Zt,jt.id(Zt),yt.getUniformLocation(fr,Zt),hr))}else vt(kt,new sr(hr.name,jt.id(hr.name),yt.getUniformLocation(fr,hr.name),hr));for(Ge=yt.getProgramParameter(fr,35721),gr.profile&&(lr.stats.attributesCount=Ge),lr=lr.attributes,We=0;We<Ge;++We)(hr=yt.getActiveAttrib(fr,We))&&vt(lr,new sr(hr.name,jt.id(hr.name),yt.getAttribLocation(fr,hr.name),hr))}var Dt={},Lt={},Bt={},Nt=[],Xt=0;return gr.profile&&(Qt.getMaxUniformsCount=function(){var lr=0;return Nt.forEach(function(fr){fr.stats.uniformsCount>lr&&(lr=fr.stats.uniformsCount)}),lr},Qt.getMaxAttributesCount=function(){var lr=0;return Nt.forEach(function(fr){fr.stats.attributesCount>lr&&(lr=fr.stats.attributesCount)}),lr}),{clear:function(){var lr=yt.deleteShader.bind(yt);me(Dt).forEach(lr),Dt={},me(Lt).forEach(lr),Lt={},Nt.forEach(function(fr){yt.deleteProgram(fr.program)}),Nt.length=0,Bt={},Qt.shaderCount=0},program:function(lr,fr,hr,We){var Ge=Bt[fr];Ge||(Ge=Bt[fr]={});var kt=Ge[lr];if(kt&&(kt.refCount++,!We))return kt;var It=new xt(fr,lr);return Qt.shaderCount++,Mt(It,hr,We),kt||(Ge[lr]=It),Nt.push(It),ne(It,{destroy:function(){if(It.refCount--,0>=It.refCount){yt.deleteProgram(It.program);var Zt=Nt.indexOf(It);Nt.splice(Zt,1),Qt.shaderCount--}0>=Ge[It.vertId].refCount&&(yt.deleteShader(Lt[It.vertId]),delete Lt[It.vertId],delete Bt[It.fragId][It.vertId]),Object.keys(Bt[It.fragId]).length||(yt.deleteShader(Dt[It.fragId]),delete Dt[It.fragId],delete Bt[It.fragId])}})},restore:function(){Dt={},Lt={};for(var lr=0;lr<Nt.length;++lr)Mt(Nt[lr],null,Nt[lr].attributes.map(function(fr){return[fr.location,fr.name]}))},shader:at,frag:-1,vert:-1}}function O(yt,jt,Qt,gr,sr,vt,at){function xt(Dt){var Lt;Lt=jt.next===null?5121:jt.next.colorAttachments[0].texture._texture.type;var Bt=0,Nt=0,Xt=gr.framebufferWidth,lr=gr.framebufferHeight,fr=null;return Me(Dt)?fr=Dt:Dt&&(Bt=Dt.x|0,Nt=Dt.y|0,Xt=(Dt.width||gr.framebufferWidth-Bt)|0,lr=(Dt.height||gr.framebufferHeight-Nt)|0,fr=Dt.data||null),Qt(),Dt=Xt*lr*4,fr||(Lt===5121?fr=new Uint8Array(Dt):Lt===5126&&(fr=fr||new Float32Array(Dt))),yt.pixelStorei(3333,4),yt.readPixels(Bt,Nt,Xt,lr,6408,Lt,fr),fr}function Mt(Dt){var Lt;return jt.setFBO({framebuffer:Dt.framebuffer},function(){Lt=xt(Dt)}),Lt}return function(Dt){return Dt&&"framebuffer"in Dt?Mt(Dt):xt(Dt)}}function _(yt){for(var jt=Array(yt.length>>2),gr=0;gr<jt.length;gr++)jt[gr]=0;for(gr=0;gr<8*yt.length;gr+=8)jt[gr>>5]|=(yt.charCodeAt(gr/8)&255)<<24-gr%32;var Qt=8*yt.length;yt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var gr=Array(64),sr,vt,at,xt,Mt,Dt,Lt,Bt,Nt,Xt,lr;for(jt[Qt>>5]|=128<<24-Qt%32,jt[(Qt+64>>9<<4)+15]=Qt,Bt=0;Bt<jt.length;Bt+=16){for(Qt=yt[0],sr=yt[1],vt=yt[2],at=yt[3],xt=yt[4],Mt=yt[5],Dt=yt[6],Lt=yt[7],Nt=0;64>Nt;Nt++){if(16>Nt)gr[Nt]=jt[Nt+Bt];else{Xt=Nt,lr=gr[Nt-2],lr=$(lr,17)^$(lr,19)^lr>>>10,lr=te(lr,gr[Nt-7]);var fr;fr=gr[Nt-15],fr=$(fr,7)^$(fr,18)^fr>>>3,gr[Xt]=te(te(lr,fr),gr[Nt-16])}Xt=xt,Xt=$(Xt,6)^$(Xt,11)^$(Xt,25),Xt=te(te(te(te(Lt,Xt),xt&Mt^~xt&Dt),et[Nt]),gr[Nt]),Lt=Qt,Lt=$(Lt,2)^$(Lt,13)^$(Lt,22),lr=te(Lt,Qt&sr^Qt&vt^sr&vt),Lt=Dt,Dt=Mt,Mt=xt,xt=te(at,Xt),at=vt,vt=sr,sr=Qt,Qt=te(Xt,lr)}yt[0]=te(Qt,yt[0]),yt[1]=te(sr,yt[1]),yt[2]=te(vt,yt[2]),yt[3]=te(at,yt[3]),yt[4]=te(xt,yt[4]),yt[5]=te(Mt,yt[5]),yt[6]=te(Dt,yt[6]),yt[7]=te(Lt,yt[7])}for(jt="",gr=0;gr<32*yt.length;gr+=8)jt+=String.fromCharCode(yt[gr>>5]>>>24-gr%32&255);return jt}function B(yt){for(var jt="",Qt,gr=0;gr<yt.length;gr++)Qt=yt.charCodeAt(gr),jt+="0123456789abcdef".charAt(Qt>>>4&15)+"0123456789abcdef".charAt(Qt&15);return jt}function W(yt){for(var jt="",Qt=-1,gr,sr;++Qt<yt.length;)gr=yt.charCodeAt(Qt),sr=Qt+1<yt.length?yt.charCodeAt(Qt+1):0,55296<=gr&&56319>=gr&&56320<=sr&&57343>=sr&&(gr=65536+((gr&1023)<<10)+(sr&1023),Qt++),127>=gr?jt+=String.fromCharCode(gr):2047>=gr?jt+=String.fromCharCode(192|gr>>>6&31,128|gr&63):65535>=gr?jt+=String.fromCharCode(224|gr>>>12&15,128|gr>>>6&63,128|gr&63):2097151>=gr&&(jt+=String.fromCharCode(240|gr>>>18&7,128|gr>>>12&63,128|gr>>>6&63,128|gr&63));return jt}function $(yt,jt){return yt>>>jt|yt<<32-jt}function te(yt,jt){var Qt=(yt&65535)+(jt&65535);return(yt>>16)+(jt>>16)+(Qt>>16)<<16|Qt&65535}function ie(yt){return Array.prototype.slice.call(yt)}function ue(yt){return ie(yt).join("")}function J(yt){function jt(){var Lt=[],Bt=[];return ne(function(){Lt.push.apply(Lt,ie(arguments))},{def:function(){var Nt="v"+sr++;return Bt.push(Nt),0<arguments.length&&(Lt.push(Nt,"="),Lt.push.apply(Lt,ie(arguments)),Lt.push(";")),Nt},toString:function(){return ue([0<Bt.length?"var "+Bt.join(",")+";":"",ue(Lt)])}})}function Qt(){function Lt(fr,hr){Nt(fr,hr,"=",Bt.def(fr,hr),";")}var Bt=jt(),Nt=jt(),Xt=Bt.toString,lr=Nt.toString;return ne(function(){Bt.apply(Bt,ie(arguments))},{def:Bt.def,entry:Bt,exit:Nt,save:Lt,set:function(fr,hr,We){Lt(fr,hr),Bt(fr,hr,"=",We,";")},toString:function(){return Xt()+lr()}})}var gr=yt&&yt.cache,sr=0,vt=[],at=[],xt=[],Mt=jt(),Dt={};return{global:Mt,link:function(Lt,Bt){var Nt=Bt&&Bt.stable;if(!Nt){for(var Xt=0;Xt<at.length;++Xt)if(at[Xt]===Lt&&!xt[Xt])return vt[Xt]}return Xt="g"+sr++,vt.push(Xt),at.push(Lt),xt.push(Nt),Xt},block:jt,proc:function(Lt,Bt){function Nt(){var hr="a"+Xt.length;return Xt.push(hr),hr}var Xt=[];Bt=Bt||0;for(var lr=0;lr<Bt;++lr)Nt();var lr=Qt(),fr=lr.toString;return Dt[Lt]=ne(lr,{arg:Nt,toString:function(){return ue(["function(",Xt.join(),"){",fr(),"}"])}})},scope:Qt,cond:function(){var Lt=ue(arguments),Bt=Qt(),Nt=Qt(),Xt=Bt.toString,lr=Nt.toString;return ne(Bt,{then:function(){return Bt.apply(Bt,ie(arguments)),this},else:function(){return Nt.apply(Nt,ie(arguments)),this},toString:function(){var fr=lr();return fr&&(fr="else{"+fr+"}"),ue(["if(",Lt,"){",Xt(),"}",fr])}})},compile:function(){var Lt=['"use strict";',Mt,"return {"];Object.keys(Dt).forEach(function(Xt){Lt.push('"',Xt,'":',Dt[Xt].toString(),",")}),Lt.push("}");var Bt=ue(Lt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nt;return gr&&(Nt=B(_(W(Bt))),gr[Nt])?gr[Nt].apply(null,at):(Bt=Function.apply(null,vt.concat(Bt)),gr&&(gr[Nt]=Bt),Bt.apply(null,at))}}}function Y(yt){return Array.isArray(yt)||Me(yt)||u(yt)}function ae(yt){return yt.sort(function(jt,Qt){return jt==="viewport"?-1:Qt==="viewport"?1:jt<Qt?-1:1})}function j(yt,jt,Qt,gr){this.thisDep=yt,this.contextDep=jt,this.propDep=Qt,this.append=gr}function q(yt){return yt&&!(yt.thisDep||yt.contextDep||yt.propDep)}function oe(yt){return new j(!1,!1,!1,yt)}function Q(yt,jt){var Qt=yt.type;if(Qt===0)return Qt=yt.data.length,new j(!0,1<=Qt,2<=Qt,jt);if(Qt===4)return Qt=yt.data,new j(Qt.thisDep,Qt.contextDep,Qt.propDep,jt);if(Qt===5)return new j(!1,!1,!1,jt);if(Qt===6){for(var gr=Qt=!1,sr=!1,vt=0;vt<yt.data.length;++vt){var at=yt.data[vt];at.type===1?sr=!0:at.type===2?gr=!0:at.type===3?Qt=!0:at.type===0?(Qt=!0,at=at.data,1<=at&&(gr=!0),2<=at&&(sr=!0)):at.type===4&&(Qt=Qt||at.data.thisDep,gr=gr||at.data.contextDep,sr=sr||at.data.propDep)}return new j(Qt,gr,sr,jt)}return new j(Qt===3,Qt===2,Qt===1,jt)}function X(yt,jt,Qt,gr,sr,vt,at,xt,Mt,Dt,Lt,Bt,Nt,Xt,lr,fr){function hr(Sr){return Sr.replace(".","_")}function We(Sr,Nr,br){var _r=hr(Sr);An.push(Sr),Wn[_r]=pn[_r]=!!br,Sn[_r]=Nr}function Ge(Sr,Nr,br){var _r=hr(Sr);An.push(Sr),Array.isArray(br)?(pn[_r]=br.slice(),Wn[_r]=br.slice()):pn[_r]=Wn[_r]=br,Hn[_r]=Nr}function kt(){var Sr=J({cache:lr}),Nr=Sr.link,br=Sr.global;Sr.id=Ga++,Sr.batchId="0";var _r=Nr(ta),wn=Sr.shared={props:"a0"};Object.keys(ta).forEach(function(Xr){wn[Xr]=br.def(_r,".",Xr)});var Rn=Sr.next={},yn=Sr.current={};Object.keys(Hn).forEach(function(Xr){Array.isArray(pn[Xr])&&(Rn[Xr]=br.def(wn.next,".",Xr),yn[Xr]=br.def(wn.current,".",Xr))});var hn=Sr.constants={};Object.keys(wa).forEach(function(Xr){hn[Xr]=br.def(JSON.stringify(wa[Xr]))}),Sr.invoke=function(Xr,Gr){switch(Gr.type){case 0:var Qr=["this",wn.context,wn.props,Sr.batchId];return Xr.def(Nr(Gr.data),".call(",Qr.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return Xr.def(wn.props,Gr.data);case 2:return Xr.def(wn.context,Gr.data);case 3:return Xr.def("this",Gr.data);case 4:return Gr.data.append(Sr,Xr),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(Tn){return Sr.invoke(Xr,Tn)})}},Sr.attribCache={};var Lr={};return Sr.scopeAttrib=function(Xr){if(Xr=jt.id(Xr),Xr in Lr)return Lr[Xr];var Gr=Dt.scope[Xr];return Gr||(Gr=Dt.scope[Xr]=new Zn),Lr[Xr]=Nr(Gr)},Sr}function It(Sr){var Nr=Sr.static;Sr=Sr.dynamic;var br;if("profile"in Nr){var _r=!!Nr.profile;br=oe(function(Rn,yn){return _r}),br.enable=_r}else if("profile"in Sr){var wn=Sr.profile;br=Q(wn,function(Rn,yn){return Rn.invoke(yn,wn)})}return br}function Zt(Sr,Nr){var br=Sr.static,_r=Sr.dynamic;if("framebuffer"in br){var wn=br.framebuffer;return wn?(wn=xt.getFramebuffer(wn),oe(function(yn,hn){var Lr=yn.link(wn),Xr=yn.shared;return hn.set(Xr.framebuffer,".next",Lr),Xr=Xr.context,hn.set(Xr,".framebufferWidth",Lr+".width"),hn.set(Xr,".framebufferHeight",Lr+".height"),Lr})):oe(function(yn,hn){var Lr=yn.shared;return hn.set(Lr.framebuffer,".next","null"),Lr=Lr.context,hn.set(Lr,".framebufferWidth",Lr+".drawingBufferWidth"),hn.set(Lr,".framebufferHeight",Lr+".drawingBufferHeight"),"null"})}if("framebuffer"in _r){var Rn=_r.framebuffer;return Q(Rn,function(yn,hn){var Gr=yn.invoke(hn,Rn),Lr=yn.shared,Xr=Lr.framebuffer,Gr=hn.def(Xr,".getFramebuffer(",Gr,")");return hn.set(Xr,".next",Gr),Lr=Lr.context,hn.set(Lr,".framebufferWidth",Gr+"?"+Gr+".width:"+Lr+".drawingBufferWidth"),hn.set(Lr,".framebufferHeight",Gr+"?"+Gr+".height:"+Lr+".drawingBufferHeight"),Gr})}return null}function rr(Sr,Nr,br){function _r(hn){if(hn in wn){var Lr=wn[hn];hn=!0;var Xr=Lr.x|0,Gr=Lr.y|0,Qr,Tn;return"width"in Lr?Qr=Lr.width|0:hn=!1,"height"in Lr?Tn=Lr.height|0:hn=!1,new j(!hn&&Nr&&Nr.thisDep,!hn&&Nr&&Nr.contextDep,!hn&&Nr&&Nr.propDep,function(In,Un){var On=In.shared.context,ya=Qr;"width"in Lr||(ya=Un.def(On,".","framebufferWidth","-",Xr));var ua=Tn;return"height"in Lr||(ua=Un.def(On,".","framebufferHeight","-",Gr)),[Xr,Gr,ya,ua]})}if(hn in Rn){var Fn=Rn[hn];return hn=Q(Fn,function(In,Un){var Pa=In.invoke(Un,Fn),On=In.shared.context,ya=Un.def(Pa,".x|0"),ua=Un.def(Pa,".y|0"),ga=Un.def('"width" in ',Pa,"?",Pa,".width|0:","(",On,".","framebufferWidth","-",ya,")"),Pa=Un.def('"height" in ',Pa,"?",Pa,".height|0:","(",On,".","framebufferHeight","-",ua,")");return[ya,ua,ga,Pa]}),Nr&&(hn.thisDep=hn.thisDep||Nr.thisDep,hn.contextDep=hn.contextDep||Nr.contextDep,hn.propDep=hn.propDep||Nr.propDep),hn}return Nr?new j(Nr.thisDep,Nr.contextDep,Nr.propDep,function(In,Un){var On=In.shared.context;return[0,0,Un.def(On,".","framebufferWidth"),Un.def(On,".","framebufferHeight")]}):null}var wn=Sr.static,Rn=Sr.dynamic;if(Sr=_r("viewport")){var yn=Sr;Sr=new j(Sr.thisDep,Sr.contextDep,Sr.propDep,function(hn,Lr){var Xr=yn.append(hn,Lr),Gr=hn.shared.context;return Lr.set(Gr,".viewportWidth",Xr[2]),Lr.set(Gr,".viewportHeight",Xr[3]),Xr})}return{viewport:Sr,scissor_box:_r("scissor.box")}}function ur(Sr,Nr){var br=Sr.static;if(typeof br.frag=="string"&&typeof br.vert=="string"){if(0<Object.keys(Nr.dynamic).length)return null;var br=Nr.static,_r=Object.keys(br);if(0<_r.length&&typeof br[_r[0]]=="number"){for(var wn=[],Rn=0;Rn<_r.length;++Rn)wn.push([br[_r[Rn]]|0,_r[Rn]]);return wn}}return null}function er(Sr,Nr,br){function _r(Xr){if(Xr in wn){var Gr=jt.id(wn[Xr]);return Xr=oe(function(){return Gr}),Xr.id=Gr,Xr}if(Xr in Rn){var Qr=Rn[Xr];return Q(Qr,function(Tn,Fn){var In=Tn.invoke(Fn,Qr);return Fn.def(Tn.shared.strings,".id(",In,")")})}return null}var wn=Sr.static,Rn=Sr.dynamic,yn=_r("frag"),hn=_r("vert"),Lr=null;return q(yn)&&q(hn)?(Lr=Lt.program(hn.id,yn.id,null,br),Sr=oe(function(Xr,Gr){return Xr.link(Lr)})):Sr=new j(yn&&yn.thisDep||hn&&hn.thisDep,yn&&yn.contextDep||hn&&hn.contextDep,yn&&yn.propDep||hn&&hn.propDep,function(Xr,Gr){var Qr=Xr.shared.shader,Tn;Tn=yn?yn.append(Xr,Gr):Gr.def(Qr,".","frag");var Fn;return Fn=hn?hn.append(Xr,Gr):Gr.def(Qr,".","vert"),Gr.def(Qr+".program("+Fn+","+Tn+")")}),{frag:yn,vert:hn,progVar:Sr,program:Lr}}function zt(Sr,Nr){function br(In,Un){if(In in _r){var On=_r[In]|0;return Un?Rn.offset=On:Rn.instances=On,oe(function(ua,ga){return Un&&(ua.OFFSET=On),On})}if(In in wn){var ya=wn[In];return Q(ya,function(ua,ga){var Pa=ua.invoke(ga,ya);return Un&&(ua.OFFSET=Pa),Pa})}if(Un){if(Lr)return oe(function(ua,ga){return ua.OFFSET=0});if(yn)return new j(hn.thisDep,hn.contextDep,hn.propDep,function(ua,ga){return ga.def(ua.shared.vao+".currentVAO?"+ua.shared.vao+".currentVAO.offset:0")})}else if(yn)return new j(hn.thisDep,hn.contextDep,hn.propDep,function(ua,ga){return ga.def(ua.shared.vao+".currentVAO?"+ua.shared.vao+".currentVAO.instances:-1")});return null}var _r=Sr.static,wn=Sr.dynamic,Rn={},yn=!1,hn=function(){if("vao"in _r){var In=_r.vao;return In!==null&&Dt.getVAO(In)===null&&(In=Dt.createVAO(In)),yn=!0,Rn.vao=In,oe(function(On){var ya=Dt.getVAO(In);return ya?On.link(ya):"null"})}if("vao"in wn){yn=!0;var Un=wn.vao;return Q(Un,function(On,ya){var ua=On.invoke(ya,Un);return ya.def(On.shared.vao+".getVAO("+ua+")")})}return null}(),Lr=!1,Xr=function(){if("elements"in _r){var In=_r.elements;if(Rn.elements=In,Y(In)){var Un=Rn.elements=vt.create(In,!0),In=vt.getElements(Un);Lr=!0}else In&&(In=vt.getElements(In),Lr=!0);return Un=oe(function(ya,ua){if(In){var ga=ya.link(In);return ya.ELEMENTS=ga}return ya.ELEMENTS=null}),Un.value=In,Un}if("elements"in wn){Lr=!0;var On=wn.elements;return Q(On,function(ya,ua){var ga=ya.shared,pi=ga.isBufferArgs,ga=ga.elements,ri=ya.invoke(ua,On),Pa=ua.def("null"),pi=ua.def(pi,"(",ri,")"),ri=ya.cond(pi).then(Pa,"=",ga,".createStream(",ri,");").else(Pa,"=",ga,".getElements(",ri,");");return ua.entry(ri),ua.exit(ya.cond(pi).then(ga,".destroyStream(",Pa,");")),ya.ELEMENTS=Pa})}return yn?new j(hn.thisDep,hn.contextDep,hn.propDep,function(ya,ua){return ua.def(ya.shared.vao+".currentVAO?"+ya.shared.elements+".getElements("+ya.shared.vao+".currentVAO.elements):null")}):null}(),Gr=br("offset",!0),Qr=function(){if("primitive"in _r){var In=_r.primitive;return Rn.primitive=In,oe(function(On,ya){return $e[In]})}if("primitive"in wn){var Un=wn.primitive;return Q(Un,function(On,ya){var ua=On.constants.primTypes,ga=On.invoke(ya,Un);return ya.def(ua,"[",ga,"]")})}return Lr?q(Xr)?Xr.value?oe(function(On,ya){return ya.def(On.ELEMENTS,".primType")}):oe(function(){return 4}):new j(Xr.thisDep,Xr.contextDep,Xr.propDep,function(On,ya){var ua=On.ELEMENTS;return ya.def(ua,"?",ua,".primType:",4)}):yn?new j(hn.thisDep,hn.contextDep,hn.propDep,function(On,ya){return ya.def(On.shared.vao+".currentVAO?"+On.shared.vao+".currentVAO.primitive:4")}):null}(),Tn=function(){if("count"in _r){var In=_r.count|0;return Rn.count=In,oe(function(){return In})}if("count"in wn){var Un=wn.count;return Q(Un,function(On,ya){return On.invoke(ya,Un)})}return Lr?q(Xr)?Xr?Gr?new j(Gr.thisDep,Gr.contextDep,Gr.propDep,function(On,ya){return ya.def(On.ELEMENTS,".vertCount-",On.OFFSET)}):oe(function(On,ya){return ya.def(On.ELEMENTS,".vertCount")}):oe(function(){return-1}):new j(Xr.thisDep||Gr.thisDep,Xr.contextDep||Gr.contextDep,Xr.propDep||Gr.propDep,function(On,ya){var ua=On.ELEMENTS;return On.OFFSET?ya.def(ua,"?",ua,".vertCount-",On.OFFSET,":-1"):ya.def(ua,"?",ua,".vertCount:-1")}):yn?new j(hn.thisDep,hn.contextDep,hn.propDep,function(On,ya){return ya.def(On.shared.vao,".currentVAO?",On.shared.vao,".currentVAO.count:-1")}):null}(),Fn=br("instances",!1);return{elements:Xr,primitive:Qr,count:Tn,instances:Fn,offset:Gr,vao:hn,vaoActive:yn,elementsActive:Lr,static:Rn}}function vr(Sr,Nr){var br=Sr.static,_r=Sr.dynamic,wn={};return An.forEach(function(Rn){function yn(Lr,Xr){if(Rn in br){var Gr=Lr(br[Rn]);wn[hn]=oe(function(){return Gr})}else if(Rn in _r){var Qr=_r[Rn];wn[hn]=Q(Qr,function(Tn,Fn){return Xr(Tn,Fn,Tn.invoke(Fn,Qr))})}}var hn=hr(Rn);switch(Rn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return yn(function(Lr){return Lr},function(Lr,Xr,Gr){return Gr});case"depth.func":return yn(function(Lr){return Jt[Lr]},function(Lr,Xr,Gr){return Xr.def(Lr.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return yn(function(Lr){return Lr},function(Lr,Xr,Gr){return Lr=Xr.def("+",Gr,"[0]"),Xr=Xr.def("+",Gr,"[1]"),[Lr,Xr]});case"blend.func":return yn(function(Lr){return[Yt["srcRGB"in Lr?Lr.srcRGB:Lr.src],Yt["dstRGB"in Lr?Lr.dstRGB:Lr.dst],Yt["srcAlpha"in Lr?Lr.srcAlpha:Lr.src],Yt["dstAlpha"in Lr?Lr.dstAlpha:Lr.dst]]},function(Lr,Xr,Gr){function Qr(Un,On){return Xr.def('"',Un,On,'" in ',Gr,"?",Gr,".",Un,On,":",Gr,".",Un)}Lr=Lr.constants.blendFuncs;var Tn=Qr("src","RGB"),In=Qr("dst","RGB"),Tn=Xr.def(Lr,"[",Tn,"]"),Fn=Xr.def(Lr,"[",Qr("src","Alpha"),"]"),In=Xr.def(Lr,"[",In,"]");return Lr=Xr.def(Lr,"[",Qr("dst","Alpha"),"]"),[Tn,In,Fn,Lr]});case"blend.equation":return yn(function(Lr){if(typeof Lr=="string")return[$n[Lr],$n[Lr]];if(typeof Lr=="object")return[$n[Lr.rgb],$n[Lr.alpha]]},function(Lr,Xr,Gr){var Qr=Lr.constants.blendEquations,Tn=Xr.def(),Fn=Xr.def();return Lr=Lr.cond("typeof ",Gr,'==="string"'),Lr.then(Tn,"=",Fn,"=",Qr,"[",Gr,"];"),Lr.else(Tn,"=",Qr,"[",Gr,".rgb];",Fn,"=",Qr,"[",Gr,".alpha];"),Xr(Lr),[Tn,Fn]});case"blend.color":return yn(function(Lr){return i(4,function(Xr){return+Lr[Xr]})},function(Lr,Xr,Gr){return i(4,function(Qr){return Xr.def("+",Gr,"[",Qr,"]")})});case"stencil.mask":return yn(function(Lr){return Lr|0},function(Lr,Xr,Gr){return Xr.def(Gr,"|0")});case"stencil.func":return yn(function(Lr){return[Jt[Lr.cmp||"keep"],Lr.ref||0,"mask"in Lr?Lr.mask:-1]},function(Lr,Xr,Gr){Lr=Xr.def('"cmp" in ',Gr,"?",Lr.constants.compareFuncs,"[",Gr,".cmp]",":",7680);var Qr=Xr.def(Gr,".ref|0");return Xr=Xr.def('"mask" in ',Gr,"?",Gr,".mask|0:-1"),[Lr,Qr,Xr]});case"stencil.opFront":case"stencil.opBack":return yn(function(Lr){return[Rn==="stencil.opBack"?1029:1028,Tt[Lr.fail||"keep"],Tt[Lr.zfail||"keep"],Tt[Lr.zpass||"keep"]]},function(Lr,Xr,Gr){function Qr(Fn){return Xr.def('"',Fn,'" in ',Gr,"?",Tn,"[",Gr,".",Fn,"]:",7680)}var Tn=Lr.constants.stencilOps;return[Rn==="stencil.opBack"?1029:1028,Qr("fail"),Qr("zfail"),Qr("zpass")]});case"polygonOffset.offset":return yn(function(Lr){return[Lr.factor|0,Lr.units|0]},function(Lr,Xr,Gr){return Lr=Xr.def(Gr,".factor|0"),Xr=Xr.def(Gr,".units|0"),[Lr,Xr]});case"cull.face":return yn(function(Lr){var Xr=0;return Lr==="front"?Xr=1028:Lr==="back"&&(Xr=1029),Xr},function(Lr,Xr,Gr){return Xr.def(Gr,'==="front"?',1028,":",1029)});case"lineWidth":return yn(function(Lr){return Lr},function(Lr,Xr,Gr){return Gr});case"frontFace":return yn(function(Lr){return _t[Lr]},function(Lr,Xr,Gr){return Xr.def(Gr+'==="cw"?2304:2305')});case"colorMask":return yn(function(Lr){return Lr.map(function(Xr){return!!Xr})},function(Lr,Xr,Gr){return i(4,function(Qr){return"!!"+Gr+"["+Qr+"]"})});case"sample.coverage":return yn(function(Lr){return["value"in Lr?Lr.value:1,!!Lr.invert]},function(Lr,Xr,Gr){return Lr=Xr.def('"value" in ',Gr,"?+",Gr,".value:1"),Xr=Xr.def("!!",Gr,".invert"),[Lr,Xr]})}}),wn}function yr(Sr,Nr){var br=Sr.static,_r=Sr.dynamic,wn={};return Object.keys(br).forEach(function(Rn){var yn=br[Rn],hn;if(typeof yn=="number"||typeof yn=="boolean")hn=oe(function(){return yn});else if(typeof yn=="function"){var Lr=yn._reglType;Lr==="texture2d"||Lr==="textureCube"?hn=oe(function(Xr){return Xr.link(yn)}):(Lr==="framebuffer"||Lr==="framebufferCube")&&(hn=oe(function(Xr){return Xr.link(yn.color[0])}))}else w(yn)&&(hn=oe(function(Xr){return Xr.global.def("[",i(yn.length,function(Gr){return yn[Gr]}),"]")}));hn.value=yn,wn[Rn]=hn}),Object.keys(_r).forEach(function(Rn){var yn=_r[Rn];wn[Rn]=Q(yn,function(hn,Lr){return hn.invoke(Lr,yn)})}),wn}function pr(Sr,Nr){var br=Sr.static,_r=Sr.dynamic,wn={};return Object.keys(br).forEach(function(Rn){var yn=br[Rn],hn=jt.id(Rn),Lr=new Zn;if(Y(yn))Lr.state=1,Lr.buffer=sr.getBuffer(sr.create(yn,34962,!1,!0)),Lr.type=0;else{var Xr=sr.getBuffer(yn);if(Xr)Lr.state=1,Lr.buffer=Xr,Lr.type=0;else if("constant"in yn){var Gr=yn.constant;Lr.buffer="null",Lr.state=2,typeof Gr=="number"?Lr.x=Gr:ft.forEach(function(On,ya){ya<Gr.length&&(Lr[On]=Gr[ya])})}else{var Xr=Y(yn.buffer)?sr.getBuffer(sr.create(yn.buffer,34962,!1,!0)):sr.getBuffer(yn.buffer),Qr=yn.offset|0,Tn=yn.stride|0,Fn=yn.size|0,In=!!yn.normalized,Un=0;"type"in yn&&(Un=Ue[yn.type]),yn=yn.divisor|0,Lr.buffer=Xr,Lr.state=1,Lr.size=Fn,Lr.normalized=In,Lr.type=Un||Xr.dtype,Lr.offset=Qr,Lr.stride=Tn,Lr.divisor=yn}}wn[Rn]=oe(function(On,ya){var ua=On.attribCache;if(hn in ua)return ua[hn];var ga={isStream:!1};return Object.keys(Lr).forEach(function(Pa){ga[Pa]=Lr[Pa]}),Lr.buffer&&(ga.buffer=On.link(Lr.buffer),ga.type=ga.type||ga.buffer+".dtype"),ua[hn]=ga})}),Object.keys(_r).forEach(function(Rn){var yn=_r[Rn];wn[Rn]=Q(yn,function(hn,Lr){function Xr(ua){Lr(In[ua],"=",Gr,".",ua,"|0;")}var Gr=hn.invoke(Lr,yn),Fn=hn.shared,Qr=hn.constants,Tn=Fn.isBufferArgs,Fn=Fn.buffer,In={isStream:Lr.def(!1)},Un=new Zn;Un.state=1,Object.keys(Un).forEach(function(ua){In[ua]=Lr.def(""+Un[ua])});var On=In.buffer,ya=In.type;return Lr("if(",Tn,"(",Gr,")){",In.isStream,"=true;",On,"=",Fn,".createStream(",34962,",",Gr,");",ya,"=",On,".dtype;","}else{",On,"=",Fn,".getBuffer(",Gr,");","if(",On,"){",ya,"=",On,".dtype;",'}else if("constant" in ',Gr,"){",In.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',In[ft[0]],"=",Gr,".constant;",ft.slice(1).map(function(ua){return In[ua]}).join("="),"=0;","}else{",ft.map(function(ua,ga){return In[ua]+"="+Gr+".constant.length>"+ga+"?"+Gr+".constant["+ga+"]:0;"}).join(""),"}}else{","if(",Tn,"(",Gr,".buffer)){",On,"=",Fn,".createStream(",34962,",",Gr,".buffer);","}else{",On,"=",Fn,".getBuffer(",Gr,".buffer);","}",ya,'="type" in ',Gr,"?",Qr.glTypes,"[",Gr,".type]:",On,".dtype;",In.normalized,"=!!",Gr,".normalized;"),Xr("size"),Xr("offset"),Xr("stride"),Xr("divisor"),Lr("}}"),Lr.exit("if(",In.isStream,"){",Fn,".destroyStream(",On,");","}"),In})}),wn}function cr(Sr){var Nr=Sr.static,br=Sr.dynamic,_r={};return Object.keys(Nr).forEach(function(wn){var Rn=Nr[wn];_r[wn]=oe(function(yn,hn){return typeof Rn=="number"||typeof Rn=="boolean"?""+Rn:yn.link(Rn)})}),Object.keys(br).forEach(function(wn){var Rn=br[wn];_r[wn]=Q(Rn,function(yn,hn){return yn.invoke(hn,Rn)})}),_r}function Ur(Sr,Nr,br,_r,wn){function Rn(Un){var On=hn[Un];On&&(Xr[Un]=On)}var yn=ur(Sr,Nr),Tn=Zt(Sr),hn=rr(Sr,Tn),Lr=zt(Sr),Xr=vr(Sr),Gr=er(Sr,wn,yn);Rn("viewport"),Rn(hr("scissor.box"));var Qr=0<Object.keys(Xr).length,Tn={framebuffer:Tn,draw:Lr,shader:Gr,state:Xr,dirty:Qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Tn.profile=It(Sr),Tn.uniforms=yr(br),Tn.drawVAO=Tn.scopeVAO=Lr.vao,!Tn.drawVAO&&Gr.program&&!yn&&Qt.angle_instanced_arrays&&Lr.static.elements){var Fn=!0;if(Sr=Gr.program.attributes.map(function(Un){return Un=Nr.static[Un],Fn=Fn&&!!Un,Un}),Fn&&0<Sr.length){var In=Dt.getVAO(Dt.createVAO({attributes:Sr,elements:Lr.static.elements}));Tn.drawVAO=new j(null,null,null,function(Un,On){return Un.link(In)}),Tn.useVAO=!0}}return yn?Tn.useVAO=!0:Tn.attributes=pr(Nr),Tn.context=cr(_r),Tn}function kr(Sr,Nr,br){var _r=Sr.shared.context,wn=Sr.scope();Object.keys(br).forEach(function(Rn){Nr.save(_r,"."+Rn);var yn=br[Rn].append(Sr,Nr);Array.isArray(yn)?wn(_r,".",Rn,"=[",yn.join(),"];"):wn(_r,".",Rn,"=",yn,";")}),Nr(wn)}function Rr(Sr,Nr,br,_r){var hn=Sr.shared,wn=hn.gl,Rn=hn.framebuffer,yn;on&&(yn=Nr.def(hn.extensions,".webgl_draw_buffers"));var Lr=Sr.constants,hn=Lr.drawBuffer,Lr=Lr.backBuffer;Sr=br?br.append(Sr,Nr):Nr.def(Rn,".next"),_r||Nr("if(",Sr,"!==",Rn,".cur){"),Nr("if(",Sr,"){",wn,".bindFramebuffer(",36160,",",Sr,".framebuffer);"),on&&Nr(yn,".drawBuffersWEBGL(",hn,"[",Sr,".colorAttachments.length]);"),Nr("}else{",wn,".bindFramebuffer(",36160,",null);"),on&&Nr(yn,".drawBuffersWEBGL(",Lr,");"),Nr("}",Rn,".cur=",Sr,";"),_r||Nr("}")}function vn(Sr,Nr,br){var _r=Sr.shared,wn=_r.gl,Rn=Sr.current,yn=Sr.next,hn=_r.current,Lr=_r.next,Xr=Sr.cond(hn,".dirty");An.forEach(function(Gr){if(Gr=hr(Gr),!(Gr in br.state)){var Qr,Tn;if(Gr in yn){Qr=yn[Gr],Tn=Rn[Gr];var Fn=i(pn[Gr].length,function(In){return Xr.def(Qr,"[",In,"]")});Xr(Sr.cond(Fn.map(function(In,Un){return In+"!=="+Tn+"["+Un+"]"}).join("||")).then(wn,".",Hn[Gr],"(",Fn,");",Fn.map(function(In,Un){return Tn+"["+Un+"]="+In}).join(";"),";"))}else Qr=Xr.def(Lr,".",Gr),Fn=Sr.cond(Qr,"!==",hn,".",Gr),Xr(Fn),Gr in Sn?Fn(Sr.cond(Qr).then(wn,".enable(",Sn[Gr],");").else(wn,".disable(",Sn[Gr],");"),hn,".",Gr,"=",Qr,";"):Fn(wn,".",Hn[Gr],"(",Qr,");",hn,".",Gr,"=",Qr,";")}}),Object.keys(br.state).length===0&&Xr(hn,".dirty=false;"),Nr(Xr)}function tn(Sr,Nr,br,_r){var wn=Sr.shared,Rn=Sr.current,yn=wn.current,hn=wn.gl,Lr;ae(Object.keys(br)).forEach(function(Xr){var Gr=br[Xr];if(!_r||_r(Gr)){var Qr=Gr.append(Sr,Nr);if(Sn[Xr]){var Tn=Sn[Xr];q(Gr)?(Lr=Sr.link(Qr,{stable:!0}),Nr(Sr.cond(Lr).then(hn,".enable(",Tn,");").else(hn,".disable(",Tn,");")),Nr(yn,".",Xr,"=",Lr,";")):(Nr(Sr.cond(Qr).then(hn,".enable(",Tn,");").else(hn,".disable(",Tn,");")),Nr(yn,".",Xr,"=",Qr,";"))}else if(w(Qr)){var Fn=Rn[Xr];Nr(hn,".",Hn[Xr],"(",Qr,");",Qr.map(function(In,Un){return Fn+"["+Un+"]="+In}).join(";"),";")}else q(Gr)?(Lr=Sr.link(Qr,{stable:!0}),Nr(hn,".",Hn[Xr],"(",Lr,");",yn,".",Xr,"=",Lr,";")):Nr(hn,".",Hn[Xr],"(",Qr,");",yn,".",Xr,"=",Qr,";")}})}function Bn(Sr,Nr){Tr&&(Sr.instancing=Nr.def(Sr.shared.extensions,".angle_instanced_arrays"))}function xn(Sr,Nr,br,_r,wn){function Rn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function yn(Un){Fn=Nr.def(),Un(Fn,"=",Rn(),";"),typeof wn=="string"?Un(Gr,".count+=",wn,";"):Un(Gr,".count++;"),Xt&&(_r?(In=Nr.def(),Un(In,"=",Tn,".getNumPendingQueries();")):Un(Tn,".beginQuery(",Gr,");"))}function hn(Un){Un(Gr,".cpuTime+=",Rn(),"-",Fn,";"),Xt&&(_r?Un(Tn,".pushScopeStats(",In,",",Tn,".getNumPendingQueries(),",Gr,");"):Un(Tn,".endQuery();"))}function Lr(Un){var On=Nr.def(Qr,".profile");Nr(Qr,".profile=",Un,";"),Nr.exit(Qr,".profile=",On,";")}var Xr=Sr.shared,Gr=Sr.stats,Qr=Xr.current,Tn=Xr.timer;br=br.profile;var Fn,In;if(br){if(q(br)){br.enable?(yn(Nr),hn(Nr.exit),Lr("true")):Lr("false");return}br=br.append(Sr,Nr),Lr(br)}else br=Nr.def(Qr,".profile");Xr=Sr.block(),yn(Xr),Nr("if(",br,"){",Xr,"}"),Sr=Sr.block(),hn(Sr),Nr.exit("if(",br,"){",Sr,"}")}function Mr(Sr,Nr,br,_r,wn){function Rn(Lr){switch(Lr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function yn(Lr,Xr,Gr){function Qr(){Nr("if(!",Un,".buffer){",Fn,".enableVertexAttribArray(",In,");}");var ga=Gr.type,Pa;Pa=Gr.size?Nr.def(Gr.size,"||",Xr):Xr,Nr("if(",Un,".type!==",ga,"||",Un,".size!==",Pa,"||",ua.map(function(pi){return Un+"."+pi+"!=="+Gr[pi]}).join("||"),"){",Fn,".bindBuffer(",34962,",",On,".buffer);",Fn,".vertexAttribPointer(",[In,Pa,ga,Gr.normalized,Gr.stride,Gr.offset],");",Un,".type=",ga,";",Un,".size=",Pa,";",ua.map(function(pi){return Un+"."+pi+"="+Gr[pi]+";"}).join(""),"}"),Tr&&(ga=Gr.divisor,Nr("if(",Un,".divisor!==",ga,"){",Sr.instancing,".vertexAttribDivisorANGLE(",[In,ga],");",Un,".divisor=",ga,";}"))}function Tn(){Nr("if(",Un,".buffer){",Fn,".disableVertexAttribArray(",In,");",Un,".buffer=null;","}if(",ft.map(function(ga,Pa){return Un+"."+ga+"!=="+ya[Pa]}).join("||"),"){",Fn,".vertexAttrib4f(",In,",",ya,");",ft.map(function(ga,Pa){return Un+"."+ga+"="+ya[Pa]+";"}).join(""),"}")}var Fn=hn.gl,In=Nr.def(Lr,".location"),Un=Nr.def(hn.attributes,"[",In,"]");Lr=Gr.state;var On=Gr.buffer,ya=[Gr.x,Gr.y,Gr.z,Gr.w],ua=["buffer","normalized","offset","stride"];Lr===1?Qr():Lr===2?Tn():(Nr("if(",Lr,"===",1,"){"),Qr(),Nr("}else{"),Tn(),Nr("}"))}var hn=Sr.shared;_r.forEach(function(Lr){var Xr=Lr.name,Gr=br.attributes[Xr],Qr;if(Gr){if(!wn(Gr))return;Qr=Gr.append(Sr,Nr)}else{if(!wn($t))return;var Tn=Sr.scopeAttrib(Xr);Qr={},Object.keys(new Zn).forEach(function(Fn){Qr[Fn]=Nr.def(Tn,".",Fn)})}yn(Sr.link(Lr),Rn(Lr.info.type),Qr)})}function Er(Sr,Nr,br,_r,wn,Rn){for(var yn=Sr.shared,hn=yn.gl,Lr,Xr=0;Xr<_r.length;++Xr){var Fn=_r[Xr],Gr=Fn.name,Qr=Fn.info.type,Tn=br.uniforms[Gr],Fn=Sr.link(Fn)+".location",In;if(Tn){if(!wn(Tn))continue;if(q(Tn)){if(Gr=Tn.value,Qr===35678||Qr===35680)Qr=Sr.link(Gr._texture||Gr.color[0]._texture),Nr(hn,".uniform1i(",Fn,",",Qr+".bind());"),Nr.exit(Qr,".unbind();");else if(Qr===35674||Qr===35675||Qr===35676)Gr=Sr.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),Tn=2,Qr===35675?Tn=3:Qr===35676&&(Tn=4),Nr(hn,".uniformMatrix",Tn,"fv(",Fn,",false,",Gr,");");else{switch(Qr){case 5126:Lr="1f";break;case 35664:Lr="2f";break;case 35665:Lr="3f";break;case 35666:Lr="4f";break;case 35670:Lr="1i";break;case 5124:Lr="1i";break;case 35671:Lr="2i";break;case 35667:Lr="2i";break;case 35672:Lr="3i";break;case 35668:Lr="3i";break;case 35673:Lr="4i";break;case 35669:Lr="4i"}Nr(hn,".uniform",Lr,"(",Fn,",",w(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}else In=Tn.append(Sr,Nr)}else{if(!wn($t))continue;In=Nr.def(yn.uniforms,"[",jt.id(Gr),"]")}switch(Qr===35678?Nr("if(",In,"&&",In,'._reglType==="framebuffer"){',In,"=",In,".color[0];","}"):Qr===35680&&Nr("if(",In,"&&",In,'._reglType==="framebufferCube"){',In,"=",In,".color[0];","}"),Gr=1,Qr){case 35678:case 35680:Qr=Nr.def(In,"._texture"),Nr(hn,".uniform1i(",Fn,",",Qr,".bind());"),Nr.exit(Qr,".unbind();");continue;case 5124:case 35670:Lr="1i";break;case 35667:case 35671:Lr="2i",Gr=2;break;case 35668:case 35672:Lr="3i",Gr=3;break;case 35669:case 35673:Lr="4i",Gr=4;break;case 5126:Lr="1f";break;case 35664:Lr="2f",Gr=2;break;case 35665:Lr="3f",Gr=3;break;case 35666:Lr="4f",Gr=4;break;case 35674:Lr="Matrix2fv";break;case 35675:Lr="Matrix3fv";break;case 35676:Lr="Matrix4fv"}if(Lr.charAt(0)==="M"){Nr(hn,".uniform",Lr,"(",Fn,",");var Fn=Math.pow(Qr-35674+2,2),Un=Sr.global.def("new Float32Array(",Fn,")");Array.isArray(In)?Nr("false,(",i(Fn,function(ua){return Un+"["+ua+"]="+In[ua]}),",",Un,")"):Nr("false,(Array.isArray(",In,")||",In," instanceof Float32Array)?",In,":(",i(Fn,function(ua){return Un+"["+ua+"]="+In+"["+ua+"]"}),",",Un,")"),Nr(");")}else{if(1<Gr){for(var Qr=[],On=[],Tn=0;Tn<Gr;++Tn)Array.isArray(In)?On.push(In[Tn]):On.push(Nr.def(In+"["+Tn+"]")),Rn&&Qr.push(Nr.def());Rn&&Nr("if(!",Sr.batchId,"||",Qr.map(function(ya,ua){return ya+"!=="+On[ua]}).join("||"),"){",Qr.map(function(ya,ua){return ya+"="+On[ua]+";"}).join("")),Nr(hn,".uniform",Lr,"(",Fn,",",On.join(","),");")}else Rn&&(Qr=Nr.def(),Nr("if(!",Sr.batchId,"||",Qr,"!==",In,"){",Qr,"=",In,";")),Nr(hn,".uniform",Lr,"(",Fn,",",In,");");Rn&&Nr("}")}}}function Wr(Sr,Nr,br,_r){function wn(ga){var Pa=Gr[ga];return Pa?Pa.contextDep&&_r.contextDynamic||Pa.propDep?Pa.append(Sr,br):Pa.append(Sr,Nr):Nr.def(Xr,".",ga)}function Rn(){function ga(){br(On,".drawElementsInstancedANGLE(",[Tn,In,ya,Fn+"<<(("+ya+"-5121)>>1)",Un],");")}function Pa(){br(On,".drawArraysInstancedANGLE(",[Tn,Fn,In,Un],");")}Qr&&Qr!=="null"?ua?ga():(br("if(",Qr,"){"),ga(),br("}else{"),Pa(),br("}")):Pa()}function yn(){function ga(){br(Lr+".drawElements("+[Tn,In,ya,Fn+"<<(("+ya+"-5121)>>1)"]+");")}function Pa(){br(Lr+".drawArrays("+[Tn,Fn,In]+");")}Qr&&Qr!=="null"?ua?ga():(br("if(",Qr,"){"),ga(),br("}else{"),Pa(),br("}")):Pa()}var hn=Sr.shared,Lr=hn.gl,Xr=hn.draw,Gr=_r.draw,Qr=function(){var ga=Gr.elements,Pa=Nr;return ga?((ga.contextDep&&_r.contextDynamic||ga.propDep)&&(Pa=br),ga=ga.append(Sr,Pa),Gr.elementsActive&&Pa("if("+ga+")"+Lr+".bindBuffer(34963,"+ga+".buffer.buffer);")):(ga=Pa.def(),Pa(ga,"=",Xr,".","elements",";","if(",ga,"){",Lr,".bindBuffer(",34963,",",ga,".buffer.buffer);}","else if(",hn.vao,".currentVAO){",ga,"=",Sr.shared.elements+".getElements("+hn.vao,".currentVAO.elements);",rn?"":"if("+ga+")"+Lr+".bindBuffer(34963,"+ga+".buffer.buffer);","}")),ga}(),Tn=wn("primitive"),Fn=wn("offset"),In=function(){var ga=Gr.count,Pa=Nr;return ga?((ga.contextDep&&_r.contextDynamic||ga.propDep)&&(Pa=br),ga=ga.append(Sr,Pa)):ga=Pa.def(Xr,".","count"),ga}();if(typeof In=="number"){if(In===0)return}else br("if(",In,"){"),br.exit("}");var Un,On;Tr&&(Un=wn("instances"),On=Sr.instancing);var ya=Qr+".type",ua=Gr.elements&&q(Gr.elements)&&!Gr.vaoActive;Tr&&(typeof Un!="number"||0<=Un)?typeof Un=="string"?(br("if(",Un,">0){"),Rn(),br("}else if(",Un,"<0){"),yn(),br("}")):Rn():yn()}function Hr(Sr,Nr,br,_r,wn){return Nr=kt(),wn=Nr.proc("body",wn),Tr&&(Nr.instancing=wn.def(Nr.shared.extensions,".angle_instanced_arrays")),Sr(Nr,wn,br,_r),Nr.compile().body}function an(Sr,Nr,br,_r){Bn(Sr,Nr),br.useVAO?br.drawVAO?Nr(Sr.shared.vao,".setVAO(",br.drawVAO.append(Sr,Nr),");"):Nr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(Nr(Sr.shared.vao,".setVAO(null);"),Mr(Sr,Nr,br,_r.attributes,function(){return!0})),Er(Sr,Nr,br,_r.uniforms,function(){return!0},!1),Wr(Sr,Nr,Nr,br)}function dn(Sr,Nr){var br=Sr.proc("draw",1);Bn(Sr,br),kr(Sr,br,Nr.context),Rr(Sr,br,Nr.framebuffer),vn(Sr,br,Nr),tn(Sr,br,Nr.state),xn(Sr,br,Nr,!1,!0);var _r=Nr.shader.progVar.append(Sr,br);if(br(Sr.shared.gl,".useProgram(",_r,".program);"),Nr.shader.program)an(Sr,br,Nr,Nr.shader.program);else{br(Sr.shared.vao,".setVAO(null);");var wn=Sr.global.def("{}"),Rn=br.def(_r,".id"),yn=br.def(wn,"[",Rn,"]");br(Sr.cond(yn).then(yn,".call(this,a0);").else(yn,"=",wn,"[",Rn,"]=",Sr.link(function(hn){return Hr(an,Sr,Nr,hn,1)}),"(",_r,");",yn,".call(this,a0);"))}0<Object.keys(Nr.state).length&&br(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&br(Sr.shared.vao,".setVAO(null);")}function gn(Sr,Nr,br,_r){function wn(){return!0}Sr.batchId="a1",Bn(Sr,Nr),Mr(Sr,Nr,br,_r.attributes,wn),Er(Sr,Nr,br,_r.uniforms,wn,!1),Wr(Sr,Nr,Nr,br)}function Cn(Sr,Nr,br,_r){function wn(Qr){return Qr.contextDep&&yn||Qr.propDep}function Rn(Qr){return!wn(Qr)}Bn(Sr,Nr);var yn=br.contextDep,hn=Nr.def(),Lr=Nr.def();Sr.shared.props=Lr,Sr.batchId=hn;var Xr=Sr.scope(),Gr=Sr.scope();Nr(Xr.entry,"for(",hn,"=0;",hn,"<","a1",";++",hn,"){",Lr,"=","a0","[",hn,"];",Gr,"}",Xr.exit),br.needsContext&&kr(Sr,Gr,br.context),br.needsFramebuffer&&Rr(Sr,Gr,br.framebuffer),tn(Sr,Gr,br.state,wn),br.profile&&wn(br.profile)&&xn(Sr,Gr,br,!1,!0),_r?(br.useVAO?br.drawVAO?wn(br.drawVAO)?Gr(Sr.shared.vao,".setVAO(",br.drawVAO.append(Sr,Gr),");"):Xr(Sr.shared.vao,".setVAO(",br.drawVAO.append(Sr,Xr),");"):Xr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(Xr(Sr.shared.vao,".setVAO(null);"),Mr(Sr,Xr,br,_r.attributes,Rn),Mr(Sr,Gr,br,_r.attributes,wn)),Er(Sr,Xr,br,_r.uniforms,Rn,!1),Er(Sr,Gr,br,_r.uniforms,wn,!0),Wr(Sr,Xr,Gr,br)):(Nr=Sr.global.def("{}"),_r=br.shader.progVar.append(Sr,Gr),Lr=Gr.def(_r,".id"),Xr=Gr.def(Nr,"[",Lr,"]"),Gr(Sr.shared.gl,".useProgram(",_r,".program);","if(!",Xr,"){",Xr,"=",Nr,"[",Lr,"]=",Sr.link(function(Qr){return Hr(gn,Sr,br,Qr,2)}),"(",_r,");}",Xr,".call(this,a0[",hn,"],",hn,");"))}function _n(Sr,Nr){function br(Xr){return Xr.contextDep&&wn||Xr.propDep}var _r=Sr.proc("batch",2);Sr.batchId="0",Bn(Sr,_r);var wn=!1,Rn=!0;Object.keys(Nr.context).forEach(function(Xr){wn=wn||Nr.context[Xr].propDep}),wn||(kr(Sr,_r,Nr.context),Rn=!1);var yn=Nr.framebuffer,hn=!1;if(yn?(yn.propDep?wn=hn=!0:yn.contextDep&&wn&&(hn=!0),hn||Rr(Sr,_r,yn)):Rr(Sr,_r,null),Nr.state.viewport&&Nr.state.viewport.propDep&&(wn=!0),vn(Sr,_r,Nr),tn(Sr,_r,Nr.state,function(Xr){return!br(Xr)}),Nr.profile&&br(Nr.profile)||xn(Sr,_r,Nr,!1,"a1"),Nr.contextDep=wn,Nr.needsContext=Rn,Nr.needsFramebuffer=hn,Rn=Nr.shader.progVar,Rn.contextDep&&wn||Rn.propDep)Cn(Sr,_r,Nr,null);else if(Rn=Rn.append(Sr,_r),_r(Sr.shared.gl,".useProgram(",Rn,".program);"),Nr.shader.program)Cn(Sr,_r,Nr,Nr.shader.program);else{_r(Sr.shared.vao,".setVAO(null);");var yn=Sr.global.def("{}"),hn=_r.def(Rn,".id"),Lr=_r.def(yn,"[",hn,"]");_r(Sr.cond(Lr).then(Lr,".call(this,a0,a1);").else(Lr,"=",yn,"[",hn,"]=",Sr.link(function(Qr){return Hr(Cn,Sr,Nr,Qr,2)}),"(",Rn,");",Lr,".call(this,a0,a1);"))}0<Object.keys(Nr.state).length&&_r(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&_r(Sr.shared.vao,".setVAO(null);")}function sa(Sr,Nr){function br(hn){var Lr=Nr.shader[hn];Lr&&(Lr=Lr.append(Sr,_r),isNaN(Lr)?_r.set(wn.shader,"."+hn,Lr):_r.set(wn.shader,"."+hn,Sr.link(Lr,{stable:!0})))}var _r=Sr.proc("scope",3);Sr.batchId="a2";var wn=Sr.shared,Rn=wn.current;if(kr(Sr,_r,Nr.context),Nr.framebuffer&&Nr.framebuffer.append(Sr,_r),ae(Object.keys(Nr.state)).forEach(function(hn){var Lr=Nr.state[hn],Xr=Lr.append(Sr,_r);w(Xr)?Xr.forEach(function(Gr,Qr){isNaN(Gr)?_r.set(Sr.next[hn],"["+Qr+"]",Gr):_r.set(Sr.next[hn],"["+Qr+"]",Sr.link(Gr,{stable:!0}))}):q(Lr)?_r.set(wn.next,"."+hn,Sr.link(Xr,{stable:!0})):_r.set(wn.next,"."+hn,Xr)}),xn(Sr,_r,Nr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(hn){var Lr=Nr.draw[hn];Lr&&(Lr=Lr.append(Sr,_r),isNaN(Lr)?_r.set(wn.draw,"."+hn,Lr):_r.set(wn.draw,"."+hn,Sr.link(Lr),{stable:!0}))}),Object.keys(Nr.uniforms).forEach(function(hn){var Lr=Nr.uniforms[hn].append(Sr,_r);Array.isArray(Lr)&&(Lr="["+Lr.map(function(Xr){return isNaN(Xr)?Xr:Sr.link(Xr,{stable:!0})})+"]"),_r.set(wn.uniforms,"["+Sr.link(jt.id(hn),{stable:!0})+"]",Lr)}),Object.keys(Nr.attributes).forEach(function(hn){var Lr=Nr.attributes[hn].append(Sr,_r),Xr=Sr.scopeAttrib(hn);Object.keys(new Zn).forEach(function(Gr){_r.set(Xr,"."+Gr,Lr[Gr])})}),Nr.scopeVAO){var yn=Nr.scopeVAO.append(Sr,_r);isNaN(yn)?_r.set(wn.vao,".targetVAO",yn):_r.set(wn.vao,".targetVAO",Sr.link(yn,{stable:!0}))}br("vert"),br("frag"),0<Object.keys(Nr.state).length&&(_r(Rn,".dirty=true;"),_r.exit(Rn,".dirty=true;")),_r("a1(",Sr.shared.context,",a0,",Sr.batchId,");")}function Qn(Sr){if(typeof Sr=="object"&&!w(Sr)){for(var Nr=Object.keys(Sr),br=0;br<Nr.length;++br)if(ye.isDynamic(Sr[Nr[br]]))return!0;return!1}}function ea(Sr,Nr,br){function _r(Qr,Tn){yn.forEach(function(Fn){var In=wn[Fn];ye.isDynamic(In)&&(In=Qr.invoke(Tn,In),Tn(Gr,".",Fn,"=",In,";"))})}var wn=Nr.static[br];if(wn&&Qn(wn)){var Rn=Sr.global,yn=Object.keys(wn),hn=!1,Lr=!1,Xr=!1,Gr=Sr.global.def("{}");yn.forEach(function(Qr){var Tn=wn[Qr];if(ye.isDynamic(Tn))typeof Tn=="function"&&(Tn=wn[Qr]=ye.unbox(Tn)),Qr=Q(Tn,null),hn=hn||Qr.thisDep,Xr=Xr||Qr.propDep,Lr=Lr||Qr.contextDep;else{switch(Rn(Gr,".",Qr,"="),typeof Tn){case"number":Rn(Tn);break;case"string":Rn('"',Tn,'"');break;case"object":Array.isArray(Tn)&&Rn("[",Tn.join(),"]");break;default:Rn(Sr.link(Tn))}Rn(";")}}),Nr.dynamic[br]=new ye.DynamicVariable(4,{thisDep:hn,contextDep:Lr,propDep:Xr,ref:Gr,append:_r}),delete Nr.static[br]}}var Zn=Dt.Record,$n={add:32774,subtract:32778,"reverse subtract":32779};Qt.ext_blend_minmax&&($n.min=32775,$n.max=32776);var Tr=Qt.angle_instanced_arrays,on=Qt.webgl_draw_buffers,rn=Qt.oes_vertex_array_object,pn={dirty:!0,profile:fr.profile},Wn={},An=[],Sn={},Hn={};We("dither",3024),We("blend.enable",3042),Ge("blend.color","blendColor",[0,0,0,0]),Ge("blend.equation","blendEquationSeparate",[32774,32774]),Ge("blend.func","blendFuncSeparate",[1,0,1,0]),We("depth.enable",2929,!0),Ge("depth.func","depthFunc",513),Ge("depth.range","depthRange",[0,1]),Ge("depth.mask","depthMask",!0),Ge("colorMask","colorMask",[!0,!0,!0,!0]),We("cull.enable",2884),Ge("cull.face","cullFace",1029),Ge("frontFace","frontFace",2305),Ge("lineWidth","lineWidth",1),We("polygonOffset.enable",32823),Ge("polygonOffset.offset","polygonOffset",[0,0]),We("sample.alpha",32926),We("sample.enable",32928),Ge("sample.coverage","sampleCoverage",[1,!1]),We("stencil.enable",2960),Ge("stencil.mask","stencilMask",-1),Ge("stencil.func","stencilFunc",[519,0,-1]),Ge("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ge("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),We("scissor.enable",3089),Ge("scissor.box","scissor",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]),Ge("viewport","viewport",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]);var ta={gl:yt,context:Nt,strings:jt,next:Wn,current:pn,draw:Bt,elements:vt,buffer:sr,shader:Lt,attributes:Dt.state,vao:Dt,uniforms:Mt,framebuffer:xt,extensions:Qt,timer:Xt,isBufferArgs:Y},wa={primTypes:$e,compareFuncs:Jt,blendFuncs:Yt,blendEquations:$n,stencilOps:Tt,glTypes:Ue,orientationType:_t};on&&(wa.backBuffer=[1029],wa.drawBuffer=i(gr.maxDrawbuffers,function(Sr){return Sr===0?[0]:i(Sr,function(Nr){return 36064+Nr})}));var Ga=0;return{next:Wn,current:pn,procs:function(){var Sr=kt(),Nr=Sr.proc("poll"),br=Sr.proc("refresh"),_r=Sr.block();Nr(_r),br(_r);var Lr=Sr.shared,wn=Lr.gl,Rn=Lr.next,yn=Lr.current;_r(yn,".dirty=false;"),Rr(Sr,Nr),Rr(Sr,br,null,!0);var hn;Tr&&(hn=Sr.link(Tr)),Qt.oes_vertex_array_object&&br(Sr.link(Qt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Lr=br.def(Lr.attributes),Xr=br.def(0),Gr=Sr.cond(Xr,".buffer");Gr.then(wn,".enableVertexAttribArray(i);",wn,".bindBuffer(",34962,",",Xr,".buffer.buffer);",wn,".vertexAttribPointer(i,",Xr,".size,",Xr,".type,",Xr,".normalized,",Xr,".stride,",Xr,".offset);").else(wn,".disableVertexAttribArray(i);",wn,".vertexAttrib4f(i,",Xr,".x,",Xr,".y,",Xr,".z,",Xr,".w);",Xr,".buffer=null;");var Qr=Sr.link(gr.maxAttributes,{stable:!0});return br("for(var i=0;i<",Qr,";++i){",Xr,"=",Lr,"[i];",Gr,"}"),Tr&&br("for(var i=0;i<",Qr,";++i){",hn,".vertexAttribDivisorANGLE(i,",Lr,"[i].divisor);","}"),br(Sr.shared.vao,".currentVAO=null;",Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"),Object.keys(Sn).forEach(function(Tn){var Fn=Sn[Tn],In=_r.def(Rn,".",Tn),Un=Sr.block();Un("if(",In,"){",wn,".enable(",Fn,")}else{",wn,".disable(",Fn,")}",yn,".",Tn,"=",In,";"),br(Un),Nr("if(",In,"!==",yn,".",Tn,"){",Un,"}")}),Object.keys(Hn).forEach(function(Tn){var Fn=Hn[Tn],In=pn[Tn],Un,On,ya=Sr.block();ya(wn,".",Fn,"("),w(In)?(Fn=In.length,Un=Sr.global.def(Rn,".",Tn),On=Sr.global.def(yn,".",Tn),ya(i(Fn,function(ua){return Un+"["+ua+"]"}),");",i(Fn,function(ua){return On+"["+ua+"]="+Un+"["+ua+"];"}).join("")),Nr("if(",i(Fn,function(ua){return Un+"["+ua+"]!=="+On+"["+ua+"]"}).join("||"),"){",ya,"}")):(Un=_r.def(Rn,".",Tn),On=_r.def(yn,".",Tn),ya(Un,");",yn,".",Tn,"=",Un,";"),Nr("if(",Un,"!==",On,"){",ya,"}")),br(ya)}),Sr.compile()}(),compile:function(Sr,Nr,br,_r,wn){var Rn=kt();Rn.stats=Rn.link(wn),Object.keys(Nr.static).forEach(function(hn){ea(Rn,Nr,hn)}),pt.forEach(function(hn){ea(Rn,Sr,hn)});var yn=Ur(Sr,Nr,br,_r,Rn);return yn.shader.program&&(yn.shader.program.attributes.sort(function(hn,Lr){return hn.name<Lr.name?-1:1}),yn.shader.program.uniforms.sort(function(hn,Lr){return hn.name<Lr.name?-1:1})),dn(Rn,yn),sa(Rn,yn),_n(Rn,yn),ne(Rn.compile(),{destroy:function(){yn.shader.program.destroy()}})}}}function se(yt,jt){for(var Qt=0;Qt<yt.length;++Qt)if(yt[Qt]===jt)return Qt;return-1}var ne=function(yt,jt){for(var Qt=Object.keys(jt),gr=0;gr<Qt.length;++gr)yt[Qt[gr]]=jt[Qt[gr]];return yt},fe=0,ye={DynamicVariable:V,define:function(yt,jt){return new V(yt,y(jt+""))},isDynamic:function(yt){return typeof yt=="function"&&!yt._reglType||yt instanceof V},unbox:P,accessor:y},Se={next:typeof requestAnimationFrame=="function"?function(yt){return requestAnimationFrame(yt)}:function(yt){return setTimeout(yt,16)},cancel:typeof cancelAnimationFrame=="function"?function(yt){return cancelAnimationFrame(yt)}:clearTimeout},we=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},_e=c();_e.zero=c();var ke=function(yt,jt){var Qt=1;jt.ext_texture_filter_anisotropic&&(Qt=yt.getParameter(34047));var gr=1,sr=1;jt.webgl_draw_buffers&&(gr=yt.getParameter(34852),sr=yt.getParameter(36063));var vt=!!jt.oes_texture_float;if(vt){vt=yt.createTexture(),yt.bindTexture(3553,vt),yt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var at=yt.createFramebuffer();if(yt.bindFramebuffer(36160,at),yt.framebufferTexture2D(36160,36064,3553,vt,0),yt.bindTexture(3553,null),yt.checkFramebufferStatus(36160)!==36053)vt=!1;else{yt.viewport(0,0,1,1),yt.clearColor(1,0,0,1),yt.clear(16384);var xt=_e.allocType(5126,4);yt.readPixels(0,0,1,1,6408,5126,xt),yt.getError()?vt=!1:(yt.deleteFramebuffer(at),yt.deleteTexture(vt),vt=xt[0]===1),_e.freeType(xt)}}return xt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(xt=yt.createTexture(),at=_e.allocType(5121,36),yt.activeTexture(33984),yt.bindTexture(34067,xt),yt.texImage2D(34069,0,6408,3,3,0,6408,5121,at),_e.freeType(at),yt.bindTexture(34067,null),yt.deleteTexture(xt),xt=!yt.getError()),{colorBits:[yt.getParameter(3410),yt.getParameter(3411),yt.getParameter(3412),yt.getParameter(3413)],depthBits:yt.getParameter(3414),stencilBits:yt.getParameter(3415),subpixelBits:yt.getParameter(3408),extensions:Object.keys(jt).filter(function(Mt){return!!jt[Mt]}),maxAnisotropic:Qt,maxDrawbuffers:gr,maxColorAttachments:sr,pointSizeDims:yt.getParameter(33901),lineWidthDims:yt.getParameter(33902),maxViewportDims:yt.getParameter(3386),maxCombinedTextureUnits:yt.getParameter(35661),maxCubeMapSize:yt.getParameter(34076),maxRenderbufferSize:yt.getParameter(34024),maxTextureUnits:yt.getParameter(34930),maxTextureSize:yt.getParameter(3379),maxAttributes:yt.getParameter(34921),maxVertexUniforms:yt.getParameter(36347),maxVertexTextureUnits:yt.getParameter(35660),maxVaryingVectors:yt.getParameter(36348),maxFragmentUniforms:yt.getParameter(36349),glsl:yt.getParameter(35724),renderer:yt.getParameter(7937),vendor:yt.getParameter(7936),version:yt.getParameter(7938),readFloat:vt,npotTextureCube:xt}},Me=function(yt){return yt instanceof Uint8Array||yt instanceof Uint16Array||yt instanceof Uint32Array||yt instanceof Int8Array||yt instanceof Int16Array||yt instanceof Int32Array||yt instanceof Float32Array||yt instanceof Float64Array||yt instanceof Uint8ClampedArray},me=function(yt){return Object.keys(yt).map(function(jt){return yt[jt]})},Ee={shape:function(yt){for(var jt=[];yt.length;yt=yt[0])jt.push(yt.length);return jt},flatten:function(yt,jt,Qt,gr){var sr=1;if(jt.length)for(var vt=0;vt<jt.length;++vt)sr*=jt[vt];else sr=0;switch(Qt=gr||_e.allocType(Qt,sr),jt.length){case 0:break;case 1:for(gr=jt[0],jt=0;jt<gr;++jt)Qt[jt]=yt[jt];break;case 2:for(gr=jt[0],jt=jt[1],vt=sr=0;vt<gr;++vt)for(var at=yt[vt],xt=0;xt<jt;++xt)Qt[sr++]=at[xt];break;case 3:l(yt,jt[0],jt[1],jt[2],Qt,0);break;default:g(yt,jt,0,Qt,0)}return Qt}},Be={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ue={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},De={dynamic:35048,stream:35040,static:35044},He=Ee.flatten,nt=Ee.shape,lt=[];lt[5120]=1,lt[5122]=2,lt[5124]=4,lt[5121]=1,lt[5123]=2,lt[5125]=4,lt[5126]=4;var $e={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},qe=new Float32Array(1),ct=new Uint32Array(qe.buffer),dt=[9984,9986,9985,9987],gt=[0,6409,6410,6407,6408],At={};At[6409]=At[6406]=At[6402]=1,At[34041]=At[6410]=2,At[6407]=At[35904]=3,At[6408]=At[35906]=4;var Rt=C("HTMLCanvasElement"),Vt=C("OffscreenCanvas"),Je=C("CanvasRenderingContext2D"),Ve=C("ImageBitmap"),Ie=C("HTMLImageElement"),Oe=C("HTMLVideoElement"),Le=Object.keys(Be).concat([Rt,Vt,Je,Ve,Ie,Oe]),xe=[];xe[5121]=1,xe[5126]=4,xe[36193]=2,xe[5123]=2,xe[5125]=4;var pe=[];pe[32854]=2,pe[32855]=2,pe[36194]=2,pe[34041]=4,pe[33776]=.5,pe[33777]=.5,pe[33778]=1,pe[33779]=1,pe[35986]=.5,pe[35987]=1,pe[34798]=1,pe[35840]=.5,pe[35841]=.25,pe[35842]=.5,pe[35843]=.25,pe[36196]=.5;var Ae=[];Ae[32854]=2,Ae[32855]=2,Ae[36194]=2,Ae[33189]=2,Ae[36168]=1,Ae[34041]=4,Ae[35907]=4,Ae[34836]=16,Ae[34842]=8,Ae[34843]=6;var Te=function(yt,jt,Qt,gr,sr){function vt(Bt){this.id=Dt++,this.refCount=1,this.renderbuffer=Bt,this.format=32854,this.height=this.width=0,sr.profile&&(this.stats={size:0})}function at(Bt){var Nt=Bt.renderbuffer;yt.bindRenderbuffer(36161,null),yt.deleteRenderbuffer(Nt),Bt.renderbuffer=null,Bt.refCount=0,delete Lt[Bt.id],gr.renderbufferCount--}var xt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};jt.ext_srgb&&(xt.srgba=35907),jt.ext_color_buffer_half_float&&(xt.rgba16f=34842,xt.rgb16f=34843),jt.webgl_color_buffer_float&&(xt.rgba32f=34836);var Mt=[];Object.keys(xt).forEach(function(Bt){Mt[xt[Bt]]=Bt});var Dt=0,Lt={};return vt.prototype.decRef=function(){0>=--this.refCount&&at(this)},sr.profile&&(gr.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Lt).forEach(function(Nt){Bt+=Lt[Nt].stats.size}),Bt}),{create:function(Bt,Nt){function Xt(fr,hr){var We=0,Ge=0,kt=32854;if(typeof fr=="object"&&fr?("shape"in fr?(Ge=fr.shape,We=Ge[0]|0,Ge=Ge[1]|0):("radius"in fr&&(We=Ge=fr.radius|0),"width"in fr&&(We=fr.width|0),"height"in fr&&(Ge=fr.height|0)),"format"in fr&&(kt=xt[fr.format])):typeof fr=="number"?(We=fr|0,Ge=typeof hr=="number"?hr|0:We):fr||(We=Ge=1),We!==lr.width||Ge!==lr.height||kt!==lr.format)return Xt.width=lr.width=We,Xt.height=lr.height=Ge,lr.format=kt,yt.bindRenderbuffer(36161,lr.renderbuffer),yt.renderbufferStorage(36161,kt,We,Ge),sr.profile&&(lr.stats.size=Ae[lr.format]*lr.width*lr.height),Xt.format=Mt[lr.format],Xt}var lr=new vt(yt.createRenderbuffer());return Lt[lr.id]=lr,gr.renderbufferCount++,Xt(Bt,Nt),Xt.resize=function(fr,hr){var We=fr|0,Ge=hr|0||We;return We===lr.width&&Ge===lr.height||(Xt.width=lr.width=We,Xt.height=lr.height=Ge,yt.bindRenderbuffer(36161,lr.renderbuffer),yt.renderbufferStorage(36161,lr.format,We,Ge),sr.profile&&(lr.stats.size=Ae[lr.format]*lr.width*lr.height)),Xt},Xt._reglType="renderbuffer",Xt._renderbuffer=lr,sr.profile&&(Xt.stats=lr.stats),Xt.destroy=function(){lr.decRef()},Xt},clear:function(){me(Lt).forEach(at)},restore:function(){me(Lt).forEach(function(Bt){Bt.renderbuffer=yt.createRenderbuffer(),yt.bindRenderbuffer(36161,Bt.renderbuffer),yt.renderbufferStorage(36161,Bt.format,Bt.width,Bt.height)}),yt.bindRenderbuffer(36161,null)}}},Ne=[];Ne[6408]=4,Ne[6407]=3;var Ye=[];Ye[5121]=1,Ye[5126]=4,Ye[36193]=2;var et=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ft=["x","y","z","w"],pt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Yt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Jt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},_t={cw:2304,ccw:2305},$t=new j(!1,!1,!1,function(){}),wr=function(yt,jt){function Qt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function gr(Lt,Bt,Nt){var Xt=at.pop()||new Qt;Xt.startQueryIndex=Lt,Xt.endQueryIndex=Bt,Xt.sum=0,Xt.stats=Nt,xt.push(Xt)}if(!jt.ext_disjoint_timer_query)return null;var sr=[],vt=[],at=[],xt=[],Mt=[],Dt=[];return{beginQuery:function(Lt){var Bt=sr.pop()||jt.ext_disjoint_timer_query.createQueryEXT();jt.ext_disjoint_timer_query.beginQueryEXT(35007,Bt),vt.push(Bt),gr(vt.length-1,vt.length,Lt)},endQuery:function(){jt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:gr,update:function(){var Lt,Bt;if(Lt=vt.length,Lt!==0){Dt.length=Math.max(Dt.length,Lt+1),Mt.length=Math.max(Mt.length,Lt+1),Mt[0]=0;var Nt=Dt[0]=0;for(Bt=Lt=0;Bt<vt.length;++Bt){var Xt=vt[Bt];jt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34919)?(Nt+=jt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34918),sr.push(Xt)):vt[Lt++]=Xt,Mt[Bt+1]=Nt,Dt[Bt+1]=Lt}for(vt.length=Lt,Bt=Lt=0;Bt<xt.length;++Bt){var Nt=xt[Bt],lr=Nt.startQueryIndex,Xt=Nt.endQueryIndex;Nt.sum+=Mt[Xt]-Mt[lr],lr=Dt[lr],Xt=Dt[Xt],Xt===lr?(Nt.stats.gpuTime+=Nt.sum/1e6,at.push(Nt)):(Nt.startQueryIndex=lr,Nt.endQueryIndex=Xt,xt[Lt++]=Nt)}xt.length=Lt}},getNumPendingQueries:function(){return vt.length},clear:function(){sr.push.apply(sr,vt);for(var Lt=0;Lt<sr.length;Lt++)jt.ext_disjoint_timer_query.deleteQueryEXT(sr[Lt]);vt.length=0,sr.length=0},restore:function(){vt.length=0,sr.length=0}}};return function(yt){function jt(){if(xn.length===0)kt&&kt.update(),Hr=null;else{Hr=Se.next(jt),Lt();for(var dn=xn.length-1;0<=dn;--dn){var gn=xn[dn];gn&&gn(rr,null,0)}Xt.flush(),kt&&kt.update()}}function Qt(){!Hr&&0<xn.length&&(Hr=Se.next(jt))}function gr(){Hr&&(Se.cancel(jt),Hr=null)}function sr(dn){dn.preventDefault(),gr(),Mr.forEach(function(gn){gn()})}function vt(dn){Xt.getError(),fr.restore(),pr.restore(),zt.restore(),cr.restore(),Ur.restore(),kr.restore(),yr.restore(),kt&&kt.restore(),Rr.procs.refresh(),Qt(),Er.forEach(function(gn){gn()})}function at(dn){function gn(pn,Wn){var An={},Sn={};return Object.keys(pn).forEach(function(Hn){var ta=pn[Hn];if(ye.isDynamic(ta))Sn[Hn]=ye.unbox(ta,Hn);else{if(Wn&&Array.isArray(ta)){for(var wa=0;wa<ta.length;++wa)if(ye.isDynamic(ta[wa])){Sn[Hn]=ye.unbox(ta,Hn);return}}An[Hn]=ta}}),{dynamic:Sn,static:An}}function Cn(pn){for(;rn.length<pn;)rn.push(null);return rn}var _n=gn(dn.context||{},!0),sa=gn(dn.uniforms||{},!0),Qn=gn(dn.attributes||{},!1);dn=gn(function(pn){function Wn(Sn){if(Sn in An){var Hn=An[Sn];delete An[Sn],Object.keys(Hn).forEach(function(ta){An[Sn+"."+ta]=Hn[ta]})}}var An=ne({},pn);return delete An.uniforms,delete An.attributes,delete An.context,delete An.vao,"stencil"in An&&An.stencil.op&&(An.stencil.opBack=An.stencil.opFront=An.stencil.op,delete An.stencil.op),Wn("blend"),Wn("depth"),Wn("cull"),Wn("stencil"),Wn("polygonOffset"),Wn("scissor"),Wn("sample"),"vao"in pn&&(An.vao=pn.vao),An}(dn),!1);var ea={gpuTime:0,cpuTime:0,count:0},Zn=Rr.compile(dn,Qn,sa,_n,ea),$n=Zn.draw,Tr=Zn.batch,on=Zn.scope,rn=[];return ne(function(pn,Wn){var An;if(typeof pn=="function")return on.call(this,null,pn,0);if(typeof Wn=="function")if(typeof pn=="number")for(An=0;An<pn;++An)on.call(this,null,Wn,An);else if(Array.isArray(pn))for(An=0;An<pn.length;++An)on.call(this,pn[An],Wn,An);else return on.call(this,pn,Wn,0);else if(typeof pn=="number"){if(0<pn)return Tr.call(this,Cn(pn|0),pn|0)}else if(Array.isArray(pn)){if(pn.length)return Tr.call(this,pn,pn.length)}else return $n.call(this,pn)},{stats:ea,destroy:function(){Zn.destroy()}})}function xt(dn,gn){var Cn=0;Rr.procs.poll();var _n=gn.color;_n&&(Xt.clearColor(+_n[0]||0,+_n[1]||0,+_n[2]||0,+_n[3]||0),Cn|=16384),"depth"in gn&&(Xt.clearDepth(+gn.depth),Cn|=256),"stencil"in gn&&(Xt.clearStencil(gn.stencil|0),Cn|=1024),Xt.clear(Cn)}function Mt(dn){return xn.push(dn),Qt(),{cancel:function(){function gn(){var _n=se(xn,gn);xn[_n]=xn[xn.length-1],--xn.length,0>=xn.length&&gr()}var Cn=se(xn,dn);xn[Cn]=gn}}}function Dt(){var dn=tn.viewport,gn=tn.scissor_box;dn[0]=dn[1]=gn[0]=gn[1]=0,rr.viewportWidth=rr.framebufferWidth=rr.drawingBufferWidth=dn[2]=gn[2]=Xt.drawingBufferWidth,rr.viewportHeight=rr.framebufferHeight=rr.drawingBufferHeight=dn[3]=gn[3]=Xt.drawingBufferHeight}function Lt(){rr.tick+=1,rr.time=Nt(),Dt(),Rr.procs.poll()}function Bt(){cr.refresh(),Dt(),Rr.procs.refresh(),kt&&kt.update()}function Nt(){return(we()-It)/1e3}if(yt=r(yt),!yt)return null;var Xt=yt.gl,lr=Xt.getContextAttributes();Xt.isContextLost();var fr=t(Xt,yt);if(!fr)return null;var vn=o(),hr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},We=yt.cachedCode||{},Ge=fr.extensions,kt=wr(Xt,Ge),It=we(),ur=Xt.drawingBufferWidth,Zt=Xt.drawingBufferHeight,rr={tick:0,time:0,viewportWidth:ur,viewportHeight:Zt,framebufferWidth:ur,framebufferHeight:Zt,drawingBufferWidth:ur,drawingBufferHeight:Zt,pixelRatio:yt.pixelRatio},ur={elements:null,primitive:4,count:-1,offset:0,instances:-1},er=ke(Xt,Ge),zt=s(Xt,hr,yt,function(dn){return yr.destroyBuffer(dn)}),vr=d(Xt,Ge,zt,hr),yr=F(Xt,Ge,er,hr,zt,vr,ur),pr=z(Xt,vn,hr,yt),cr=k(Xt,Ge,er,function(){Rr.procs.poll()},rr,hr,yt),Ur=Te(Xt,Ge,er,hr,yt),kr=I(Xt,Ge,er,cr,Ur,hr),Rr=X(Xt,vn,Ge,er,zt,vr,cr,kr,{},yr,pr,ur,rr,kt,We,yt),vn=O(Xt,kr,Rr.procs.poll,rr),tn=Rr.next,Bn=Xt.canvas,xn=[],Mr=[],Er=[],Wr=[yt.onDestroy],Hr=null;Bn&&(Bn.addEventListener("webglcontextlost",sr,!1),Bn.addEventListener("webglcontextrestored",vt,!1));var an=kr.setFBO=at({framebuffer:ye.define.call(null,1,"framebuffer")});return Bt(),lr=ne(at,{clear:function(dn){if("framebuffer"in dn)if(dn.framebuffer&&dn.framebuffer_reglType==="framebufferCube")for(var gn=0;6>gn;++gn)an(ne({framebuffer:dn.framebuffer.faces[gn]},dn),xt);else an(dn,xt);else xt(null,dn)},prop:ye.define.bind(null,1),context:ye.define.bind(null,2),this:ye.define.bind(null,3),draw:at({}),buffer:function(dn){return zt.create(dn,34962,!1,!1)},elements:function(dn){return vr.create(dn,!1)},texture:cr.create2D,cube:cr.createCube,renderbuffer:Ur.create,framebuffer:kr.create,framebufferCube:kr.createCube,vao:yr.createVAO,attributes:lr,frame:Mt,on:function(dn,gn){var Cn;switch(dn){case"frame":return Mt(gn);case"lost":Cn=Mr;break;case"restore":Cn=Er;break;case"destroy":Cn=Wr}return Cn.push(gn),{cancel:function(){for(var _n=0;_n<Cn.length;++_n)if(Cn[_n]===gn){Cn[_n]=Cn[Cn.length-1],Cn.pop();break}}}},limits:er,hasExtension:function(dn){return 0<=er.extensions.indexOf(dn.toLowerCase())},read:vn,destroy:function(){xn.length=0,gr(),Bn&&(Bn.removeEventListener("webglcontextlost",sr),Bn.removeEventListener("webglcontextrestored",vt)),pr.clear(),kr.clear(),Ur.clear(),yr.clear(),cr.clear(),vr.clear(),zt.clear(),kt&&kt.clear(),Wr.forEach(function(dn){dn()})},_gl:Xt,_refresh:Bt,poll:function(){Lt(),kt&&kt.update()},now:Nt,stats:hr,getCachedCode:function(){return We},preloadCachedCode:function(dn){Object.entries(dn).forEach(function(gn){We[gn[0]]=gn[1]})}}),yt.onDone(null,lr),lr}})},71665:function(G,V,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var y=e(12856),P=y.Buffer;function o(M,v){for(var p in M)v[p]=M[p]}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?G.exports=y:(o(y,V),V.Buffer=L);function L(M,v,p){return P(M,v,p)}L.prototype=Object.create(P.prototype),o(P,L),L.from=function(M,v,p){if(typeof M=="number")throw new TypeError("Argument must not be a number");return P(M,v,p)},L.alloc=function(M,v,p){if(typeof M!="number")throw new TypeError("Argument must be a number");var r=P(M);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},L.allocUnsafe=function(M){if(typeof M!="number")throw new TypeError("Argument must be a number");return P(M)},L.allocUnsafeSlow=function(M){if(typeof M!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(M)}},21630:function(G,V,e){G.exports=o;var y=e(15398).EventEmitter,P=e(42018);P(o,y),o.Readable=e(40410),o.Writable=e(37493),o.Duplex=e(37865),o.Transform=e(74308),o.PassThrough=e(66897),o.finished=e(12726),o.pipeline=e(10168),o.Stream=o;function o(){y.call(this)}o.prototype.pipe=function(L,M){var v=this;function p(l){L.writable&&L.write(l)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}L.on("drain",r),!L._isStdio&&(!M||M.end!==!1)&&(v.on("end",i),v.on("close",n));var t=!1;function i(){t||(t=!0,L.end())}function n(){t||(t=!0,typeof L.destroy=="function"&&L.destroy())}function c(l){if(u(),y.listenerCount(this,"error")===0)throw l}v.on("error",c),L.on("error",c);function u(){v.removeListener("data",p),L.removeListener("drain",r),v.removeListener("end",i),v.removeListener("close",n),v.removeListener("error",c),L.removeListener("error",c),v.removeListener("end",u),v.removeListener("close",u),L.removeListener("close",u)}return v.on("end",u),v.on("close",u),L.on("close",u),L.emit("pipe",v),L}},74322:function(G){function V(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function y(v,p,r){r||(r=Error);function t(n,c,u){return typeof p=="string"?p:p(n,c,u)}var i=function(n){V(c,n);function c(u,l,g){return n.call(this,t(u,l,g))||this}return c}(r);i.prototype.name=r.name,i.prototype.code=v,e[v]=i}function P(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function o(v,p,r){return v.substr(!r||r<0?0:+r,p.length)===p}function L(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function M(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}y("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),y("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&o(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var i;if(L(v," argument"))i="The ".concat(v," ").concat(t," ").concat(P(p,"type"));else{var n=M(v,".")?"property":"argument";i='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(P(p,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),y("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),y("ERR_STREAM_PREMATURE_CLOSE","Premature close"),y("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),y("ERR_STREAM_WRITE_AFTER_END","write after end"),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.q=e},37865:function(G,V,e){var y=e(90386),P=Object.keys||function(n){var c=[];for(var u in n)c.push(u);return c};G.exports=r;var o=e(40410),L=e(37493);e(42018)(r,o);for(var M=P(L.prototype),v=0;v<M.length;v++){var p=M[v];r.prototype[p]||(r.prototype[p]=L.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);o.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||y.nextTick(i,this)}function i(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}})},66897:function(G,V,e){G.exports=P;var y=e(74308);e(42018)(P,y);function P(o){if(!(this instanceof P))return new P(o);y.call(this,o)}P.prototype._transform=function(o,L,M){M(null,o)}},40410:function(G,V,e){var y=e(90386);G.exports=a;var P;a.ReadableState=m,e(15398).EventEmitter;var o=function(X,se){return X.listeners(se).length},L=e(71405),M=e(12856).Buffer,v=e.g.Uint8Array||function(){};function p(Q){return M.from(Q)}function r(Q){return M.isBuffer(Q)||Q instanceof v}var t=e(40964),i;t&&t.debuglog?i=t.debuglog("stream"):i=function(){};var n=e(31125),c=e(65756),u=e(56306),l=u.getHighWaterMark,g=e(74322).q,f=g.ERR_INVALID_ARG_TYPE,T=g.ERR_STREAM_PUSH_AFTER_EOF,h=g.ERR_METHOD_NOT_IMPLEMENTED,s=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,A,w;e(42018)(a,L);var C=c.errorOrDestroy,b=["error","close","destroy","pause","resume"];function S(Q,X,se){if(typeof Q.prependListener=="function")return Q.prependListener(X,se);!Q._events||!Q._events[X]?Q.on(X,se):Array.isArray(Q._events[X])?Q._events[X].unshift(se):Q._events[X]=[se,Q._events[X]]}function m(Q,X,se){P=P||e(37865),Q=Q||{},typeof se!="boolean"&&(se=X instanceof P),this.objectMode=!!Q.objectMode,se&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=l(this,Q,"readableHighWaterMark",se),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(d||(d=e(68019).s),this.decoder=new d(Q.encoding),this.encoding=Q.encoding)}function a(Q){if(P=P||e(37865),!(this instanceof a))return new a(Q);var X=this instanceof P;this._readableState=new m(Q,this,X),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),L.call(this)}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(X){this._readableState&&(this._readableState.destroyed=X)}}),a.prototype.destroy=c.destroy,a.prototype._undestroy=c.undestroy,a.prototype._destroy=function(Q,X){X(Q)},a.prototype.push=function(Q,X){var se=this._readableState,ne;return se.objectMode?ne=!0:typeof Q=="string"&&(X=X||se.defaultEncoding,X!==se.encoding&&(Q=M.from(Q,X),X=""),ne=!0),E(this,Q,X,!1,ne)},a.prototype.unshift=function(Q){return E(this,Q,null,!0,!1)};function E(Q,X,se,ne,fe){i("readableAddChunk",X);var ye=Q._readableState;if(X===null)ye.reading=!1,z(Q,ye);else{var Se;if(fe||(Se=k(ye,X)),Se)C(Q,Se);else if(ye.objectMode||X&&X.length>0)if(typeof X!="string"&&!ye.objectMode&&Object.getPrototypeOf(X)!==M.prototype&&(X=p(X)),ne)ye.endEmitted?C(Q,new s):x(Q,ye,X,!0);else if(ye.ended)C(Q,new T);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!se?(X=ye.decoder.write(X),ye.objectMode||X.length!==0?x(Q,ye,X,!1):B(Q,ye)):x(Q,ye,X,!1)}else ne||(ye.reading=!1,B(Q,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function x(Q,X,se,ne){X.flowing&&X.length===0&&!X.sync?(X.awaitDrain=0,Q.emit("data",se)):(X.length+=X.objectMode?1:se.length,ne?X.buffer.unshift(se):X.buffer.push(se),X.needReadable&&O(Q)),B(Q,X)}function k(Q,X){var se;return!r(X)&&typeof X!="string"&&X!==void 0&&!Q.objectMode&&(se=new f("chunk",["string","Buffer","Uint8Array"],X)),se}a.prototype.isPaused=function(){return this._readableState.flowing===!1},a.prototype.setEncoding=function(Q){d||(d=e(68019).s);var X=new d(Q);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ne="";se!==null;)ne+=X.write(se.data),se=se.next;return this._readableState.buffer.clear(),ne!==""&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var I=1073741824;function N(Q){return Q>=I?Q=I:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function F(Q,X){return Q<=0||X.length===0&&X.ended?0:X.objectMode?1:Q!==Q?X.flowing&&X.length?X.buffer.head.data.length:X.length:(Q>X.highWaterMark&&(X.highWaterMark=N(Q)),Q<=X.length?Q:X.ended?X.length:(X.needReadable=!0,0))}a.prototype.read=function(Q){i("read",Q),Q=parseInt(Q,10);var X=this._readableState,se=Q;if(Q!==0&&(X.emittedReadable=!1),Q===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return i("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?j(this):O(this),null;if(Q=F(Q,X),Q===0&&X.ended)return X.length===0&&j(this),null;var ne=X.needReadable;i("need readable",ne),(X.length===0||X.length-Q<X.highWaterMark)&&(ne=!0,i("length less than watermark",ne)),X.ended||X.reading?(ne=!1,i("reading or ended",ne)):ne&&(i("do read"),X.reading=!0,X.sync=!0,X.length===0&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(Q=F(se,X)));var fe;return Q>0?fe=ae(Q,X):fe=null,fe===null?(X.needReadable=X.length<=X.highWaterMark,Q=0):(X.length-=Q,X.awaitDrain=0),X.length===0&&(X.ended||(X.needReadable=!0),se!==Q&&X.ended&&j(this)),fe!==null&&this.emit("data",fe),fe};function z(Q,X){if(i("onEofChunk"),!X.ended){if(X.decoder){var se=X.decoder.end();se&&se.length&&(X.buffer.push(se),X.length+=X.objectMode?1:se.length)}X.ended=!0,X.sync?O(Q):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,_(Q)))}}function O(Q){var X=Q._readableState;i("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(i("emitReadable",X.flowing),X.emittedReadable=!0,y.nextTick(_,Q))}function _(Q){var X=Q._readableState;i("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&(X.length||X.ended)&&(Q.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,Y(Q)}function B(Q,X){X.readingMore||(X.readingMore=!0,y.nextTick(W,Q,X))}function W(Q,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){var se=X.length;if(i("maybeReadMore read 0"),Q.read(0),se===X.length)break}X.readingMore=!1}a.prototype._read=function(Q){C(this,new h("_read()"))},a.prototype.pipe=function(Q,X){var se=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=Q;break;case 1:ne.pipes=[ne.pipes,Q];break;default:ne.pipes.push(Q);break}ne.pipesCount+=1,i("pipe count=%d opts=%j",ne.pipesCount,X);var fe=(!X||X.end!==!1)&&Q!==y.stdout&&Q!==y.stderr,ye=fe?we:De;ne.endEmitted?y.nextTick(ye):se.once("end",ye),Q.on("unpipe",Se);function Se(He,nt){i("onunpipe"),He===se&&nt&&nt.hasUnpiped===!1&&(nt.hasUnpiped=!0,Me())}function we(){i("onend"),Q.end()}var _e=$(se);Q.on("drain",_e);var ke=!1;function Me(){i("cleanup"),Q.removeListener("close",Be),Q.removeListener("finish",Ue),Q.removeListener("drain",_e),Q.removeListener("error",Ee),Q.removeListener("unpipe",Se),se.removeListener("end",we),se.removeListener("end",De),se.removeListener("data",me),ke=!0,ne.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&_e()}se.on("data",me);function me(He){i("ondata");var nt=Q.write(He);i("dest.write",nt),nt===!1&&((ne.pipesCount===1&&ne.pipes===Q||ne.pipesCount>1&&oe(ne.pipes,Q)!==-1)&&!ke&&(i("false write response, pause",ne.awaitDrain),ne.awaitDrain++),se.pause())}function Ee(He){i("onerror",He),De(),Q.removeListener("error",Ee),o(Q,"error")===0&&C(Q,He)}S(Q,"error",Ee);function Be(){Q.removeListener("finish",Ue),De()}Q.once("close",Be);function Ue(){i("onfinish"),Q.removeListener("close",Be),De()}Q.once("finish",Ue);function De(){i("unpipe"),se.unpipe(Q)}return Q.emit("pipe",se),ne.flowing||(i("pipe resume"),se.resume()),Q};function $(Q){return function(){var se=Q._readableState;i("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&o(Q,"data")&&(se.flowing=!0,Y(Q))}}a.prototype.unpipe=function(Q){var X=this._readableState,se={hasUnpiped:!1};if(X.pipesCount===0)return this;if(X.pipesCount===1)return Q&&Q!==X.pipes?this:(Q||(Q=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,Q&&Q.emit("unpipe",this,se),this);if(!Q){var ne=X.pipes,fe=X.pipesCount;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var ye=0;ye<fe;ye++)ne[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=oe(X.pipes,Q);return Se===-1?this:(X.pipes.splice(Se,1),X.pipesCount-=1,X.pipesCount===1&&(X.pipes=X.pipes[0]),Q.emit("unpipe",this,se),this)},a.prototype.on=function(Q,X){var se=L.prototype.on.call(this,Q,X),ne=this._readableState;return Q==="data"?(ne.readableListening=this.listenerCount("readable")>0,ne.flowing!==!1&&this.resume()):Q==="readable"&&!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,i("on readable",ne.length,ne.reading),ne.length?O(this):ne.reading||y.nextTick(ie,this)),se},a.prototype.addListener=a.prototype.on,a.prototype.removeListener=function(Q,X){var se=L.prototype.removeListener.call(this,Q,X);return Q==="readable"&&y.nextTick(te,this),se},a.prototype.removeAllListeners=function(Q){var X=L.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&y.nextTick(te,this),X};function te(Q){var X=Q._readableState;X.readableListening=Q.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function ie(Q){i("readable nexttick read 0"),Q.read(0)}a.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(i("resume"),Q.flowing=!Q.readableListening,ue(this,Q)),Q.paused=!1,this};function ue(Q,X){X.resumeScheduled||(X.resumeScheduled=!0,y.nextTick(J,Q,X))}function J(Q,X){i("resume",X.reading),X.reading||Q.read(0),X.resumeScheduled=!1,Q.emit("resume"),Y(Q),X.flowing&&!X.reading&&Q.read(0)}a.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Y(Q){var X=Q._readableState;for(i("flow",X.flowing);X.flowing&&Q.read()!==null;);}a.prototype.wrap=function(Q){var X=this,se=this._readableState,ne=!1;Q.on("end",function(){if(i("wrapped end"),se.decoder&&!se.ended){var Se=se.decoder.end();Se&&Se.length&&X.push(Se)}X.push(null)}),Q.on("data",function(Se){if(i("wrapped data"),se.decoder&&(Se=se.decoder.write(Se)),!(se.objectMode&&Se==null)&&!(!se.objectMode&&(!Se||!Se.length))){var we=X.push(Se);we||(ne=!0,Q.pause())}});for(var fe in Q)this[fe]===void 0&&typeof Q[fe]=="function"&&(this[fe]=function(we){return function(){return Q[we].apply(Q,arguments)}}(fe));for(var ye=0;ye<b.length;ye++)Q.on(b[ye],this.emit.bind(this,b[ye]));return this._read=function(Se){i("wrapped _read",Se),ne&&(ne=!1,Q.resume())},this},typeof Symbol=="function"&&(a.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=e(68221)),A(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}}),a._fromList=ae,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ae(Q,X){if(X.length===0)return null;var se;return X.objectMode?se=X.buffer.shift():!Q||Q>=X.length?(X.decoder?se=X.buffer.join(""):X.buffer.length===1?se=X.buffer.first():se=X.buffer.concat(X.length),X.buffer.clear()):se=X.buffer.consume(Q,X.decoder),se}function j(Q){var X=Q._readableState;i("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,y.nextTick(q,X,Q))}function q(Q,X){if(i("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,X.readable=!1,X.emit("end"),Q.autoDestroy)){var se=X._writableState;(!se||se.autoDestroy&&se.finished)&&X.destroy()}}typeof Symbol=="function"&&(a.from=function(Q,X){return w===void 0&&(w=e(31748)),w(a,Q,X)});function oe(Q,X){for(var se=0,ne=Q.length;se<ne;se++)if(Q[se]===X)return se;return-1}},74308:function(G,V,e){G.exports=r;var y=e(74322).q,P=y.ERR_METHOD_NOT_IMPLEMENTED,o=y.ERR_MULTIPLE_CALLBACK,L=y.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=y.ERR_TRANSFORM_WITH_LENGTH_0,v=e(37865);e(42018)(r,v);function p(n,c){var u=this._transformState;u.transforming=!1;var l=u.writecb;if(l===null)return this.emit("error",new o);u.writechunk=null,u.writecb=null,c!=null&&this.push(c),l(n);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,u){i(n,c,u)}):i(this,null,null)}r.prototype.push=function(n,c){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,c)},r.prototype._transform=function(n,c,u){u(new P("_transform()"))},r.prototype._write=function(n,c,u){var l=this._transformState;if(l.writecb=u,l.writechunk=n,l.writeencoding=c,!l.transforming){var g=this._readableState;(l.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},r.prototype._read=function(n){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},r.prototype._destroy=function(n,c){v.prototype._destroy.call(this,n,function(u){c(u)})};function i(n,c,u){if(c)return n.emit("error",c);if(u!=null&&n.push(u),n._writableState.length)throw new M;if(n._transformState.transforming)throw new L;return n.push(null)}},37493:function(G,V,e){var y=e(90386);G.exports=m;function P(Y){var ae=this;this.next=null,this.entry=null,this.finish=function(){J(ae,Y)}}var o;m.WritableState=b;var L={deprecate:e(20588)},M=e(71405),v=e(12856).Buffer,p=e.g.Uint8Array||function(){};function r(Y){return v.from(Y)}function t(Y){return v.isBuffer(Y)||Y instanceof p}var i=e(65756),n=e(56306),c=n.getHighWaterMark,u=e(74322).q,l=u.ERR_INVALID_ARG_TYPE,g=u.ERR_METHOD_NOT_IMPLEMENTED,f=u.ERR_MULTIPLE_CALLBACK,T=u.ERR_STREAM_CANNOT_PIPE,h=u.ERR_STREAM_DESTROYED,s=u.ERR_STREAM_NULL_VALUES,d=u.ERR_STREAM_WRITE_AFTER_END,A=u.ERR_UNKNOWN_ENCODING,w=i.errorOrDestroy;e(42018)(m,M);function C(){}function b(Y,ae,j){o=o||e(37865),Y=Y||{},typeof j!="boolean"&&(j=ae instanceof o),this.objectMode=!!Y.objectMode,j&&(this.objectMode=this.objectMode||!!Y.writableObjectMode),this.highWaterMark=c(this,Y,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=Y.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){z(ae,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}b.prototype.getBuffer=function(){for(var ae=this.bufferedRequest,j=[];ae;)j.push(ae),ae=ae.next;return j},function(){try{Object.defineProperty(b.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(ae){return S.call(this,ae)?!0:this!==m?!1:ae&&ae._writableState instanceof b}})):S=function(ae){return ae instanceof this};function m(Y){o=o||e(37865);var ae=this instanceof o;if(!ae&&!S.call(m,this))return new m(Y);this._writableState=new b(Y,this,ae),this.writable=!0,Y&&(typeof Y.write=="function"&&(this._write=Y.write),typeof Y.writev=="function"&&(this._writev=Y.writev),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.final=="function"&&(this._final=Y.final)),M.call(this)}m.prototype.pipe=function(){w(this,new T)};function a(Y,ae){var j=new d;w(Y,j),y.nextTick(ae,j)}function E(Y,ae,j,q){var oe;return j===null?oe=new s:typeof j!="string"&&!ae.objectMode&&(oe=new l("chunk",["string","Buffer"],j)),oe?(w(Y,oe),y.nextTick(q,oe),!1):!0}m.prototype.write=function(Y,ae,j){var q=this._writableState,oe=!1,Q=!q.objectMode&&t(Y);return Q&&!v.isBuffer(Y)&&(Y=r(Y)),typeof ae=="function"&&(j=ae,ae=null),Q?ae="buffer":ae||(ae=q.defaultEncoding),typeof j!="function"&&(j=C),q.ending?a(this,j):(Q||E(this,q,Y,j))&&(q.pendingcb++,oe=k(this,q,Q,Y,ae,j)),oe},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var Y=this._writableState;Y.corked&&(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&B(this,Y))},m.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=ae.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ae+"").toLowerCase())>-1))throw new A(ae);return this._writableState.defaultEncoding=ae,this},Object.defineProperty(m.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function x(Y,ae,j){return!Y.objectMode&&Y.decodeStrings!==!1&&typeof ae=="string"&&(ae=v.from(ae,j)),ae}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(Y,ae,j,q,oe,Q){if(!j){var X=x(ae,q,oe);q!==X&&(j=!0,oe="buffer",q=X)}var se=ae.objectMode?1:q.length;ae.length+=se;var ne=ae.length<ae.highWaterMark;if(ne||(ae.needDrain=!0),ae.writing||ae.corked){var fe=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:q,encoding:oe,isBuf:j,callback:Q,next:null},fe?fe.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else I(Y,ae,!1,se,q,oe,Q);return ne}function I(Y,ae,j,q,oe,Q,X){ae.writelen=q,ae.writecb=X,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new h("write")):j?Y._writev(oe,ae.onwrite):Y._write(oe,Q,ae.onwrite),ae.sync=!1}function N(Y,ae,j,q,oe){--ae.pendingcb,j?(y.nextTick(oe,q),y.nextTick(ie,Y,ae),Y._writableState.errorEmitted=!0,w(Y,q)):(oe(q),Y._writableState.errorEmitted=!0,w(Y,q),ie(Y,ae))}function F(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function z(Y,ae){var j=Y._writableState,q=j.sync,oe=j.writecb;if(typeof oe!="function")throw new f;if(F(j),ae)N(Y,j,q,ae,oe);else{var Q=W(j)||Y.destroyed;!Q&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&B(Y,j),q?y.nextTick(O,Y,j,Q,oe):O(Y,j,Q,oe)}}function O(Y,ae,j,q){j||_(Y,ae),ae.pendingcb--,q(),ie(Y,ae)}function _(Y,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,Y.emit("drain"))}function B(Y,ae){ae.bufferProcessing=!0;var j=ae.bufferedRequest;if(Y._writev&&j&&j.next){var q=ae.bufferedRequestCount,oe=new Array(q),Q=ae.corkedRequestsFree;Q.entry=j;for(var X=0,se=!0;j;)oe[X]=j,j.isBuf||(se=!1),j=j.next,X+=1;oe.allBuffers=se,I(Y,ae,!0,ae.length,oe,"",Q.finish),ae.pendingcb++,ae.lastBufferedRequest=null,Q.next?(ae.corkedRequestsFree=Q.next,Q.next=null):ae.corkedRequestsFree=new P(ae),ae.bufferedRequestCount=0}else{for(;j;){var ne=j.chunk,fe=j.encoding,ye=j.callback,Se=ae.objectMode?1:ne.length;if(I(Y,ae,!1,Se,ne,fe,ye),j=j.next,ae.bufferedRequestCount--,ae.writing)break}j===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequest=j,ae.bufferProcessing=!1}m.prototype._write=function(Y,ae,j){j(new g("_write()"))},m.prototype._writev=null,m.prototype.end=function(Y,ae,j){var q=this._writableState;return typeof Y=="function"?(j=Y,Y=null,ae=null):typeof ae=="function"&&(j=ae,ae=null),Y!=null&&this.write(Y,ae),q.corked&&(q.corked=1,this.uncork()),q.ending||ue(this,q,j),this},Object.defineProperty(m.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function W(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function $(Y,ae){Y._final(function(j){ae.pendingcb--,j&&w(Y,j),ae.prefinished=!0,Y.emit("prefinish"),ie(Y,ae)})}function te(Y,ae){!ae.prefinished&&!ae.finalCalled&&(typeof Y._final=="function"&&!ae.destroyed?(ae.pendingcb++,ae.finalCalled=!0,y.nextTick($,Y,ae)):(ae.prefinished=!0,Y.emit("prefinish")))}function ie(Y,ae){var j=W(ae);if(j&&(te(Y,ae),ae.pendingcb===0&&(ae.finished=!0,Y.emit("finish"),ae.autoDestroy))){var q=Y._readableState;(!q||q.autoDestroy&&q.endEmitted)&&Y.destroy()}return j}function ue(Y,ae,j){ae.ending=!0,ie(Y,ae),j&&(ae.finished?y.nextTick(j):Y.once("finish",j)),ae.ended=!0,Y.writable=!1}function J(Y,ae,j){var q=Y.entry;for(Y.entry=null;q;){var oe=q.callback;ae.pendingcb--,oe(j),q=q.next}ae.corkedRequestsFree.next=Y}Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ae){this._writableState&&(this._writableState.destroyed=ae)}}),m.prototype.destroy=i.destroy,m.prototype._undestroy=i.undestroy,m.prototype._destroy=function(Y,ae){ae(Y)}},68221:function(G,V,e){var y=e(90386),P;function o(s,d,A){return d in s?Object.defineProperty(s,d,{value:A,enumerable:!0,configurable:!0,writable:!0}):s[d]=A,s}var L=e(12726),M=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),i=Symbol("handlePromise"),n=Symbol("stream");function c(s,d){return{value:s,done:d}}function u(s){var d=s[M];if(d!==null){var A=s[n].read();A!==null&&(s[t]=null,s[M]=null,s[v]=null,d(c(A,!1)))}}function l(s){y.nextTick(u,s)}function g(s,d){return function(A,w){s.then(function(){if(d[r]){A(c(void 0,!0));return}d[i](A,w)},w)}}var f=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((P={get stream(){return this[n]},next:function(){var d=this,A=this[p];if(A!==null)return Promise.reject(A);if(this[r])return Promise.resolve(c(void 0,!0));if(this[n].destroyed)return new Promise(function(S,m){y.nextTick(function(){d[p]?m(d[p]):S(c(void 0,!0))})});var w=this[t],C;if(w)C=new Promise(g(w,this));else{var b=this[n].read();if(b!==null)return Promise.resolve(c(b,!1));C=new Promise(this[i])}return this[t]=C,C}},o(P,Symbol.asyncIterator,function(){return this}),o(P,"return",function(){var d=this;return new Promise(function(A,w){d[n].destroy(null,function(C){if(C){w(C);return}A(c(void 0,!0))})})}),P),f),h=function(d){var A,w=Object.create(T,(A={},o(A,n,{value:d,writable:!0}),o(A,M,{value:null,writable:!0}),o(A,v,{value:null,writable:!0}),o(A,p,{value:null,writable:!0}),o(A,r,{value:d._readableState.endEmitted,writable:!0}),o(A,i,{value:function(b,S){var m=w[n].read();m?(w[t]=null,w[M]=null,w[v]=null,b(c(m,!1))):(w[M]=b,w[v]=S)},writable:!0}),A));return w[t]=null,L(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var b=w[v];b!==null&&(w[t]=null,w[M]=null,w[v]=null,b(C)),w[p]=C;return}var S=w[M];S!==null&&(w[t]=null,w[M]=null,w[v]=null,S(c(void 0,!0))),w[r]=!0}),d.on("readable",l.bind(null,w)),w};G.exports=h},31125:function(G,V,e){function y(u,l){var g=Object.keys(u);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(u);l&&(f=f.filter(function(T){return Object.getOwnPropertyDescriptor(u,T).enumerable})),g.push.apply(g,f)}return g}function P(u){for(var l=1;l<arguments.length;l++){var g=arguments[l]!=null?arguments[l]:{};l%2?y(Object(g),!0).forEach(function(f){o(u,f,g[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(g)):y(Object(g)).forEach(function(f){Object.defineProperty(u,f,Object.getOwnPropertyDescriptor(g,f))})}return u}function o(u,l,g){return l in u?Object.defineProperty(u,l,{value:g,enumerable:!0,configurable:!0,writable:!0}):u[l]=g,u}function L(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function M(u,l){for(var g=0;g<l.length;g++){var f=l[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function v(u,l,g){return l&&M(u.prototype,l),g&&M(u,g),u}var p=e(12856),r=p.Buffer,t=e(69862),i=t.inspect,n=i&&i.custom||"inspect";function c(u,l,g){r.prototype.copy.call(u,l,g)}G.exports=function(){function u(){L(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(g){var f={data:g,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length}},{key:"unshift",value:function(g){var f={data:g,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var f=this.head,T=""+f.data;f=f.next;)T+=g+f.data;return T}},{key:"concat",value:function(g){if(this.length===0)return r.alloc(0);for(var f=r.allocUnsafe(g>>>0),T=this.head,h=0;T;)c(T.data,f,h),h+=T.data.length,T=T.next;return f}},{key:"consume",value:function(g,f){var T;return g<this.head.data.length?(T=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?T=this.shift():T=f?this._getString(g):this._getBuffer(g),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var f=this.head,T=1,h=f.data;for(g-=h.length;f=f.next;){var s=f.data,d=g>s.length?s.length:g;if(d===s.length?h+=s:h+=s.slice(0,g),g-=d,g===0){d===s.length?(++T,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=s.slice(d));break}++T}return this.length-=T,h}},{key:"_getBuffer",value:function(g){var f=r.allocUnsafe(g),T=this.head,h=1;for(T.data.copy(f),g-=T.data.length;T=T.next;){var s=T.data,d=g>s.length?s.length:g;if(s.copy(f,f.length-g,0,d),g-=d,g===0){d===s.length?(++h,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=s.slice(d));break}++h}return this.length-=h,f}},{key:n,value:function(g,f){return i(this,P({},f,{depth:0,customInspect:!1}))}}]),u}()},65756:function(G,V,e){var y=e(90386);function P(r,t){var i=this,n=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return n||c?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,y.nextTick(v,this,r)):y.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?i._writableState?i._writableState.errorEmitted?y.nextTick(L,i):(i._writableState.errorEmitted=!0,y.nextTick(o,i,u)):y.nextTick(o,i,u):t?(y.nextTick(L,i),t(u)):y.nextTick(L,i)}),this)}function o(r,t){v(r,t),L(r)}function L(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function M(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var i=r._readableState,n=r._writableState;i&&i.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}G.exports={destroy:P,undestroy:M,errorOrDestroy:p}},12726:function(G,V,e){var y=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function P(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];v.apply(this,t)}}}function o(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function M(v,p,r){if(typeof p=="function")return M(v,null,p);p||(p={}),r=P(r||o);var t=p.readable||p.readable!==!1&&v.readable,i=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||u()},c=v._writableState&&v._writableState.finished,u=function(){i=!1,c=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,g=function(){t=!1,l=!0,i||r.call(v)},f=function(d){r.call(v,d)},T=function(){var d;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(d=new y),r.call(v,d);if(i&&!c)return(!v._writableState||!v._writableState.ended)&&(d=new y),r.call(v,d)},h=function(){v.req.on("finish",u)};return L(v)?(v.on("complete",u),v.on("abort",T),v.req?h():v.on("request",h)):i&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",g),v.on("finish",u),p.error!==!1&&v.on("error",f),v.on("close",T),function(){v.removeListener("complete",u),v.removeListener("abort",T),v.removeListener("request",h),v.req&&v.req.removeListener("finish",u),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",u),v.removeListener("end",g),v.removeListener("error",f),v.removeListener("close",T)}}G.exports=M},31748:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(G,V,e){var y;function P(u){var l=!1;return function(){l||(l=!0,u.apply(void 0,arguments))}}var o=e(74322).q,L=o.ERR_MISSING_ARGS,M=o.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function p(u){return u.setHeader&&typeof u.abort=="function"}function r(u,l,g,f){f=P(f);var T=!1;u.on("close",function(){T=!0}),y===void 0&&(y=e(12726)),y(u,{readable:l,writable:g},function(s){if(s)return f(s);T=!0,f()});var h=!1;return function(s){if(!T&&!h){if(h=!0,p(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();f(s||new M("pipe"))}}}function t(u){u()}function i(u,l){return u.pipe(l)}function n(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function c(){for(var u=arguments.length,l=new Array(u),g=0;g<u;g++)l[g]=arguments[g];var f=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new L("streams");var T,h=l.map(function(s,d){var A=d<l.length-1,w=d>0;return r(s,A,w,function(C){T||(T=C),C&&h.forEach(t),!A&&(h.forEach(t),f(T))})});return l.reduce(i)}G.exports=c},56306:function(G,V,e){var y=e(74322).q.ERR_INVALID_OPT_VALUE;function P(L,M,v){return L.highWaterMark!=null?L.highWaterMark:M?L[v]:null}function o(L,M,v,p){var r=P(M,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new y(t,r)}return Math.floor(r)}return L.objectMode?16:16384}G.exports={getHighWaterMark:o}},71405:function(G,V,e){G.exports=e(15398).EventEmitter},68019:function(G,V,e){var y=e(71665).Buffer,P=y.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(h){if(!h)return"utf8";for(var s;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(s)return;h=(""+h).toLowerCase(),s=!0}}function L(h){var s=o(h);if(typeof s!="string"&&(y.isEncoding===P||!P(h)))throw new Error("Unknown encoding: "+h);return s||h}V.s=M;function M(h){this.encoding=L(h);var s;switch(this.encoding){case"utf16le":this.text=c,this.end=u,s=4;break;case"utf8":this.fillLast=t,s=4;break;case"base64":this.text=l,this.end=g,s=3;break;default:this.write=f,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(s)}M.prototype.write=function(h){if(h.length===0)return"";var s,d;if(this.lastNeed){if(s=this.fillLast(h),s===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<h.length?s?s+this.text(h,d):this.text(h,d):s||""},M.prototype.end=n,M.prototype.text=i,M.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function v(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function p(h,s,d){var A=s.length-1;if(A<d)return 0;var w=v(s[A]);return w>=0?(w>0&&(h.lastNeed=w-1),w):--A<d||w===-2?0:(w=v(s[A]),w>=0?(w>0&&(h.lastNeed=w-2),w):--A<d||w===-2?0:(w=v(s[A]),w>=0?(w>0&&(w===2?w=0:h.lastNeed=w-3),w):0))}function r(h,s,d){if((s[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&s.length>1){if((s[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&s.length>2&&(s[2]&192)!==128)return h.lastNeed=2,""}}function t(h){var s=this.lastTotal-this.lastNeed,d=r(this,h);if(d!==void 0)return d;if(this.lastNeed<=h.length)return h.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,s,0,h.length),this.lastNeed-=h.length}function i(h,s){var d=p(this,h,s);if(!this.lastNeed)return h.toString("utf8",s);this.lastTotal=d;var A=h.length-(d-this.lastNeed);return h.copy(this.lastChar,0,A),h.toString("utf8",s,A)}function n(h){var s=h&&h.length?this.write(h):"";return this.lastNeed?s+"":s}function c(h,s){if((h.length-s)%2===0){var d=h.toString("utf16le",s);if(d){var A=d.charCodeAt(d.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",s,h.length-1)}function u(h){var s=h&&h.length?this.write(h):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return s+this.lastChar.toString("utf16le",0,d)}return s}function l(h,s){var d=(h.length-s)%3;return d===0?h.toString("base64",s):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",s,h.length-d))}function g(h){var s=h&&h.length?this.write(h):"";return this.lastNeed?s+this.lastChar.toString("base64",0,3-this.lastNeed):s}function f(h){return h.toString(this.encoding)}function T(h){return h&&h.length?this.write(h):""}},90715:function(G,V,e){var y=e(32791),P=e(41633)("stream-parser");G.exports=p;var o=-1,L=0,M=1,v=2;function p(h){var s=h&&typeof h._transform=="function",d=h&&typeof h._write=="function";if(!s&&!d)throw new Error("must pass a Writable or Transform stream in");P("extending Parser into stream"),h._bytes=t,h._skipBytes=i,s&&(h._passthrough=n),s?h._transform=u:h._write=c}function r(h){P("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=o,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function t(h,s){y(!this._parserCallback,'there is already a "callback" set!'),y(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||r(this),P("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=s,this._parserState=L}function i(h,s){y(!this._parserCallback,'there is already a "callback" set!'),y(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||r(this),P("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=s,this._parserState=M}function n(h,s){y(!this._parserCallback,'There is already a "callback" set!'),y(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||r(this),P("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=s,this._parserState=v}function c(h,s,d){this._parserInit||r(this),P("write(%o bytes)",h.length),typeof s=="function"&&(d=s),f(this,h,null,d)}function u(h,s,d){this._parserInit||r(this),P("transform(%o bytes)",h.length),typeof s!="function"&&(s=this._parserOutput),f(this,h,s,d)}function l(h,s,d,A){return h._parserBytesLeft<=0?A(new Error("got data but not currently parsing anything")):s.length<=h._parserBytesLeft?function(){return g(h,s,d,A)}:function(){var w=s.slice(0,h._parserBytesLeft);return g(h,w,d,function(C){if(C)return A(C);if(s.length>w.length)return function(){return l(h,s.slice(w.length),d,A)}})}}function g(h,s,d,A){if(h._parserBytesLeft-=s.length,P("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===L?(h._parserBuffers.push(s),h._parserBuffered+=s.length):h._parserState===v&&d(s),h._parserBytesLeft===0){var w=h._parserCallback;if(w&&h._parserState===L&&h._parserBuffers.length>1&&(s=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==L&&(s=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=o,h._parserBuffers.splice(0),w){var C=[];s&&C.push(s),d&&C.push(d);var b=w.length>C.length;b&&C.push(T(A));var S=w.apply(h,C);if(!b||A===S)return A}}else return A}var f=T(l);function T(h){return function(){for(var s=h.apply(this,arguments);typeof s=="function";)s=s();return s}}},41633:function(G,V,e){var y=e(90386);V=G.exports=e(74469),V.log=L,V.formatArgs=o,V.save=M,V.load=v,V.useColors=P,V.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),V.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function P(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}V.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function o(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+V.humanize(this.diff),!!t){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var n=0,c=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(n++,u==="%c"&&(c=n))}),r.splice(c,0,i)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function M(r){try{r==null?V.storage.removeItem("debug"):V.storage.debug=r}catch{}}function v(){var r;try{r=V.storage.debug}catch{}return!r&&typeof y<"u"&&"env"in y&&(r={}.DEBUG),r}V.enable(v());function p(){try{return window.localStorage}catch{}}},74469:function(G,V,e){V=G.exports=o.debug=o.default=o,V.coerce=p,V.disable=M,V.enable=L,V.enabled=v,V.humanize=e(11375),V.names=[],V.skips=[],V.formatters={};var y;function P(r){var t=0,i;for(i in r)t=(t<<5)-t+r.charCodeAt(i),t|=0;return V.colors[Math.abs(t)%V.colors.length]}function o(r){function t(){if(t.enabled){var i=t,n=+new Date,c=n-(y||n);i.diff=c,i.prev=y,i.curr=n,y=n;for(var u=new Array(arguments.length),l=0;l<u.length;l++)u[l]=arguments[l];u[0]=V.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var g=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(T,h){if(T==="%%")return T;g++;var s=V.formatters[h];if(typeof s=="function"){var d=u[g];T=s.call(i,d),u.splice(g,1),g--}return T}),V.formatArgs.call(i,u);var f=t.log||V.log||console.log.bind(console);f.apply(i,u)}}return t.namespace=r,t.enabled=V.enabled(r),t.useColors=V.useColors(),t.color=P(r),typeof V.init=="function"&&V.init(t),t}function L(r){V.save(r),V.names=[],V.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),i=t.length,n=0;n<i;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?V.skips.push(new RegExp("^"+r.substr(1)+"$")):V.names.push(new RegExp("^"+r+"$")))}function M(){V.enable("")}function v(r){var t,i;for(t=0,i=V.skips.length;t<i;t++)if(V.skips[t].test(r))return!1;for(t=0,i=V.names.length;t<i;t++)if(V.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},11375:function(G){var V=1e3,e=V*60,y=e*60,P=y*24,o=P*365.25;G.exports=function(r,t){t=t||{};var i=typeof r;if(i==="string"&&r.length>0)return L(r);if(i==="number"&&isNaN(r)===!1)return t.long?v(r):M(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function L(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var i=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return i*o;case"days":case"day":case"d":return i*P;case"hours":case"hour":case"hrs":case"hr":case"h":return i*y;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function M(r){return r>=P?Math.round(r/P)+"d":r>=y?Math.round(r/y)+"h":r>=e?Math.round(r/e)+"m":r>=V?Math.round(r/V)+"s":r+"ms"}function v(r){return p(r,P,"day")||p(r,y,"hour")||p(r,e,"minute")||p(r,V,"second")||r+" ms"}function p(r,t,i){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+i:Math.ceil(r/t)+" "+i+"s"}},99011:function(G,V,e){var y=e(88641);G.exports=function(o,L,M){if(o==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");M?(typeof M=="string"||Array.isArray(M))&&(M={ignore:M}):M={},M.escape==null&&(M.escape=!0),M.ignore==null?M.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof M.ignore=="string"&&(M.ignore=[M.ignore]),M.ignore=M.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=y.parse(o,{flat:!0,brackets:M.ignore}),p=v[0],r=p.split(L);if(M.escape){for(var t=[],i=0;i<r.length;i++){var n=r[i],c=r[i+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+L+c),i++):t.push(n)}r=t}for(var i=0;i<r.length;i++)v[0]=r[i],r[i]=y.stringify(v,{flat:!0});return r}},68664:function(G){G.exports=V;function V(e){for(var y=e.length,P=new Array(y),o=new Array(y),L=new Array(y),M=new Array(y),v=new Array(y),p=new Array(y),r=0;r<y;++r)P[r]=-1,o[r]=0,L[r]=!1,M[r]=0,v[r]=-1,p[r]=[];var t=0,i=[],n=[];function c(f){var T=[f],h=[f];for(P[f]=o[f]=t,L[f]=!0,t+=1;h.length>0;){f=h[h.length-1];var s=e[f];if(M[f]<s.length){for(var d=M[f];d<s.length;++d){var A=s[d];if(P[A]<0){P[A]=o[A]=t,L[A]=!0,t+=1,T.push(A),h.push(A);break}else L[A]&&(o[f]=Math.min(o[f],o[A])|0);v[A]>=0&&p[f].push(v[A])}M[f]=d}else{if(o[f]===P[f]){for(var w=[],C=[],b=0,d=T.length-1;d>=0;--d){var S=T[d];if(L[S]=!1,w.push(S),C.push(p[S]),b+=p[S].length,v[S]=i.length,S===f){T.length=d;break}}i.push(w);for(var m=new Array(b),d=0;d<C.length;d++)for(var a=0;a<C[d].length;a++)m[--b]=C[d][a];n.push(m)}h.pop()}}}for(var r=0;r<y;++r)P[r]<0&&c(r);for(var u,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(T,h){return T-h}),u=[l[0]];for(var g=1;g<l.length;g++)l[g]!==l[g-1]&&u.push(l[g]);n[r]=u}}return{components:i,adjacencyList:n}}},7095:function(G,V,e){e.r(V);var y=function(){function r(t,i){var n=[],c=!0,u=!1,l=void 0;try{for(var g=t[Symbol.iterator](),f;!(c=(f=g.next()).done)&&(n.push(f.value),!(i&&n.length===i));c=!0);}catch(T){u=!0,l=T}finally{try{!c&&g.return&&g.return()}finally{if(u)throw l}}return n}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=Math.PI*2,o=function(t,i,n,c,u,l,g){var f=t.x,T=t.y;f*=i,T*=n;var h=c*f-u*T,s=u*f+c*T;return{x:h+l,y:s+g}},L=function(t,i){var n=i===1.5707963267948966?.551915024494:i===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(i/4),c=Math.cos(t),u=Math.sin(t),l=Math.cos(t+i),g=Math.sin(t+i);return[{x:c-u*n,y:u+c*n},{x:l+g*n,y:g-l*n},{x:l,y:g}]},M=function(t,i,n,c){var u=t*c-i*n<0?-1:1,l=t*n+i*c;return l>1&&(l=1),l<-1&&(l=-1),u*Math.acos(l)},v=function(t,i,n,c,u,l,g,f,T,h,s,d){var A=Math.pow(u,2),w=Math.pow(l,2),C=Math.pow(s,2),b=Math.pow(d,2),S=A*w-A*b-w*C;S<0&&(S=0),S/=A*b+w*C,S=Math.sqrt(S)*(g===f?-1:1);var m=S*u/l*d,a=S*-l/u*s,E=h*m-T*a+(t+n)/2,x=T*m+h*a+(i+c)/2,k=(s-m)/u,I=(d-a)/l,N=(-s-m)/u,F=(-d-a)/l,z=M(1,0,k,I),O=M(k,I,N,F);return f===0&&O>0&&(O-=P),f===1&&O<0&&(O+=P),[E,x,z,O]},p=function(t){var i=t.px,n=t.py,c=t.cx,u=t.cy,l=t.rx,g=t.ry,f=t.xAxisRotation,T=f===void 0?0:f,h=t.largeArcFlag,s=h===void 0?0:h,d=t.sweepFlag,A=d===void 0?0:d,w=[];if(l===0||g===0)return[];var C=Math.sin(T*P/360),b=Math.cos(T*P/360),S=b*(i-c)/2+C*(n-u)/2,m=-C*(i-c)/2+b*(n-u)/2;if(S===0&&m===0)return[];l=Math.abs(l),g=Math.abs(g);var a=Math.pow(S,2)/Math.pow(l,2)+Math.pow(m,2)/Math.pow(g,2);a>1&&(l*=Math.sqrt(a),g*=Math.sqrt(a));var E=v(i,n,c,u,l,g,s,A,C,b,S,m),x=y(E,4),k=x[0],I=x[1],N=x[2],F=x[3],z=Math.abs(F)/(P/4);Math.abs(1-z)<1e-7&&(z=1);var O=Math.max(Math.ceil(z),1);F/=O;for(var _=0;_<O;_++)w.push(L(N,F)),N+=F;return w.map(function(B){var W=o(B[0],l,g,b,C,k,I),$=W.x,te=W.y,ie=o(B[1],l,g,b,C,k,I),ue=ie.x,J=ie.y,Y=o(B[2],l,g,b,C,k,I),ae=Y.x,j=Y.y;return{x1:$,y1:te,x2:ue,y2:J,x:ae,y:j}})};V.default=p},1750:function(G,V,e){var y=e(95616),P=e(65185),o=e(29988),L=e(89546),M=e(32791);G.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(M(L(p),"String is not an SVG path."),p=y(p)),M(Array.isArray(p),"Argument should be a string or an array of path segments."),p=P(p),p=o(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,i=p.length;t<i;t++)for(var n=p[t].slice(1),c=0;c<n.length;c+=2)n[c+0]<r[0]&&(r[0]=n[c+0]),n[c+1]<r[1]&&(r[1]=n[c+1]),n[c+0]>r[2]&&(r[2]=n[c+0]),n[c+1]>r[3]&&(r[3]=n[c+1]);return r}},29988:function(G,V,e){G.exports=P;var y=e(7095);function P(M){for(var v,p=[],r=0,t=0,i=0,n=0,c=null,u=null,l=0,g=0,f=0,T=M.length;f<T;f++){var h=M[f],s=h[0];switch(s){case"M":i=h[1],n=h[2];break;case"A":var d=y({px:l,py:g,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!d.length)continue;for(var A=0,w;A<d.length;A++)w=d[A],h=["C",w.x1,w.y1,w.x2,w.y2,w.x,w.y],A<d.length-1&&p.push(h);break;case"S":var C=l,b=g;(v=="C"||v=="S")&&(C+=C-r,b+=b-t),h=["C",C,b,h[1],h[2],h[3],h[4]];break;case"T":v=="Q"||v=="T"?(c=l*2-c,u=g*2-u):(c=l,u=g),h=L(l,g,c,u,h[1],h[2]);break;case"Q":c=h[1],u=h[2],h=L(l,g,h[1],h[2],h[3],h[4]);break;case"L":h=o(l,g,h[1],h[2]);break;case"H":h=o(l,g,h[1],g);break;case"V":h=o(l,g,l,h[1]);break;case"Z":h=o(l,g,i,n);break}v=s,l=h[h.length-2],g=h[h.length-1],h.length>4?(r=h[h.length-4],t=h[h.length-3]):(r=l,t=g),p.push(h)}return p}function o(M,v,p,r){return["C",M,v,p,r,p,r]}function L(M,v,p,r,t,i){return["C",M/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,i/3+.6666666666666666*r,t,i]}},82019:function(G,V,e){var y=e(1750),P=e(95616),o=e(31457),L=e(89546),M=e(44781),v=document.createElement("canvas"),p=v.getContext("2d");G.exports=r;function r(n,c){if(!L(n))throw Error("Argument should be valid svg path string");c||(c={});var u,l;c.shape?(u=c.shape[0],l=c.shape[1]):(u=v.width=c.w||c.width||200,l=v.height=c.h||c.height||200);var g=Math.min(u,l),f=c.stroke||0,T=c.viewbox||c.viewBox||y(n),h=[u/(T[2]-T[0]),l/(T[3]-T[1])],s=Math.min(h[0]||0,h[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,u,l),p.fillStyle="white",f&&(typeof f!="number"&&(f=1),f>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(f)),p.translate(u*.5,l*.5),p.scale(s,s),i()){var d=new Path2D(n);p.fill(d),f&&p.stroke(d)}else{var A=P(n);o(p,A),p.fill(),f&&p.stroke()}p.setTransform(1,0,0,1,0,0);var w=M(p,{cutoff:c.cutoff!=null?c.cutoff:.5,radius:c.radius!=null?c.radius:g*.5});return w}var t;function i(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var c=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(c);var u=n.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},84267:function(G,V,e){var y;(function(P){var o=/^\s+/,L=/\s+$/,M=0,v=P.round,p=P.min,r=P.max,t=P.random;function i(X,se){if(X=X||"",se=se||{},X instanceof i)return X;if(!(this instanceof i))return new i(X,se);var ne=n(X);this._originalInput=X,this._r=ne.r,this._g=ne.g,this._b=ne.b,this._a=ne.a,this._roundA=v(100*this._a)/100,this._format=se.format||ne.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ne.ok,this._tc_id=M++}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(X.r*299+X.g*587+X.b*114)/1e3},getLuminance:function(){var X=this.toRgb(),se,ne,fe,ye,Se,we;return se=X.r/255,ne=X.g/255,fe=X.b/255,se<=.03928?ye=se/12.92:ye=P.pow((se+.055)/1.055,2.4),ne<=.03928?Se=ne/12.92:Se=P.pow((ne+.055)/1.055,2.4),fe<=.03928?we=fe/12.92:we=P.pow((fe+.055)/1.055,2.4),.2126*ye+.7152*Se+.0722*we},setAlpha:function(X){return this._a=_(X),this._roundA=v(100*this._a)/100,this},toHsv:function(){var X=g(this._r,this._g,this._b);return{h:X.h*360,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=g(this._r,this._g,this._b),se=v(X.h*360),ne=v(X.s*100),fe=v(X.v*100);return this._a==1?"hsv("+se+", "+ne+"%, "+fe+"%)":"hsva("+se+", "+ne+"%, "+fe+"%, "+this._roundA+")"},toHsl:function(){var X=u(this._r,this._g,this._b);return{h:X.h*360,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=u(this._r,this._g,this._b),se=v(X.h*360),ne=v(X.s*100),fe=v(X.l*100);return this._a==1?"hsl("+se+", "+ne+"%, "+fe+"%)":"hsla("+se+", "+ne+"%, "+fe+"%, "+this._roundA+")"},toHex:function(X){return T(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(X){return h(this._r,this._g,this._b,this._a,X)},toHex8String:function(X){return"#"+this.toHex8(X)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(B(this._r,255)*100)+"%",g:v(B(this._g,255)*100)+"%",b:v(B(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%)":"rgba("+v(B(this._r,255)*100)+"%, "+v(B(this._g,255)*100)+"%, "+v(B(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:z[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(X){var se="#"+s(this._r,this._g,this._b,this._a),ne=se,fe=this._gradientType?"GradientType = 1, ":"";if(X){var ye=i(X);ne="#"+s(ye._r,ye._g,ye._b,ye._a)}return"progid:DXImageTransform.Microsoft.gradient("+fe+"startColorstr="+se+",endColorstr="+ne+")"},toString:function(X){var se=!!X;X=X||this._format;var ne=!1,fe=this._a<1&&this._a>=0,ye=!se&&fe&&(X==="hex"||X==="hex6"||X==="hex3"||X==="hex4"||X==="hex8"||X==="name");return ye?X==="name"&&this._a===0?this.toName():this.toRgbString():(X==="rgb"&&(ne=this.toRgbString()),X==="prgb"&&(ne=this.toPercentageRgbString()),(X==="hex"||X==="hex6")&&(ne=this.toHexString()),X==="hex3"&&(ne=this.toHexString(!0)),X==="hex4"&&(ne=this.toHex8String(!0)),X==="hex8"&&(ne=this.toHex8String()),X==="name"&&(ne=this.toName()),X==="hsl"&&(ne=this.toHslString()),X==="hsv"&&(ne=this.toHsvString()),ne||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(X,se){var ne=X.apply(null,[this].concat([].slice.call(se)));return this._r=ne._r,this._g=ne._g,this._b=ne._b,this.setAlpha(ne._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(m,arguments)},_applyCombination:function(X,se){return X.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(a,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},i.fromRatio=function(X,se){if(typeof X=="object"){var ne={};for(var fe in X)X.hasOwnProperty(fe)&&(fe==="a"?ne[fe]=X[fe]:ne[fe]=J(X[fe]));X=ne}return i(X,se)};function n(X){var se={r:0,g:0,b:0},ne=1,fe=null,ye=null,Se=null,we=!1,_e=!1;return typeof X=="string"&&(X=oe(X)),typeof X=="object"&&(q(X.r)&&q(X.g)&&q(X.b)?(se=c(X.r,X.g,X.b),we=!0,_e=String(X.r).substr(-1)==="%"?"prgb":"rgb"):q(X.h)&&q(X.s)&&q(X.v)?(fe=J(X.s),ye=J(X.v),se=f(X.h,fe,ye),we=!0,_e="hsv"):q(X.h)&&q(X.s)&&q(X.l)&&(fe=J(X.s),Se=J(X.l),se=l(X.h,fe,Se),we=!0,_e="hsl"),X.hasOwnProperty("a")&&(ne=X.a)),ne=_(ne),{ok:we,format:X.format||_e,r:p(255,r(se.r,0)),g:p(255,r(se.g,0)),b:p(255,r(se.b,0)),a:ne}}function c(X,se,ne){return{r:B(X,255)*255,g:B(se,255)*255,b:B(ne,255)*255}}function u(X,se,ne){X=B(X,255),se=B(se,255),ne=B(ne,255);var fe=r(X,se,ne),ye=p(X,se,ne),Se,we,_e=(fe+ye)/2;if(fe==ye)Se=we=0;else{var ke=fe-ye;switch(we=_e>.5?ke/(2-fe-ye):ke/(fe+ye),fe){case X:Se=(se-ne)/ke+(se<ne?6:0);break;case se:Se=(ne-X)/ke+2;break;case ne:Se=(X-se)/ke+4;break}Se/=6}return{h:Se,s:we,l:_e}}function l(X,se,ne){var fe,ye,Se;X=B(X,360),se=B(se,100),ne=B(ne,100);function we(Me,me,Ee){return Ee<0&&(Ee+=1),Ee>1&&(Ee-=1),Ee<.16666666666666666?Me+(me-Me)*6*Ee:Ee<.5?me:Ee<.6666666666666666?Me+(me-Me)*(.6666666666666666-Ee)*6:Me}if(se===0)fe=ye=Se=ne;else{var _e=ne<.5?ne*(1+se):ne+se-ne*se,ke=2*ne-_e;fe=we(ke,_e,X+.3333333333333333),ye=we(ke,_e,X),Se=we(ke,_e,X-.3333333333333333)}return{r:fe*255,g:ye*255,b:Se*255}}function g(X,se,ne){X=B(X,255),se=B(se,255),ne=B(ne,255);var fe=r(X,se,ne),ye=p(X,se,ne),Se,we,_e=fe,ke=fe-ye;if(we=fe===0?0:ke/fe,fe==ye)Se=0;else{switch(fe){case X:Se=(se-ne)/ke+(se<ne?6:0);break;case se:Se=(ne-X)/ke+2;break;case ne:Se=(X-se)/ke+4;break}Se/=6}return{h:Se,s:we,v:_e}}function f(X,se,ne){X=B(X,360)*6,se=B(se,100),ne=B(ne,100);var fe=P.floor(X),ye=X-fe,Se=ne*(1-se),we=ne*(1-ye*se),_e=ne*(1-(1-ye)*se),ke=fe%6,Me=[ne,we,Se,Se,_e,ne][ke],me=[_e,ne,ne,we,Se,Se][ke],Ee=[Se,Se,_e,ne,ne,we][ke];return{r:Me*255,g:me*255,b:Ee*255}}function T(X,se,ne,fe){var ye=[ue(v(X).toString(16)),ue(v(se).toString(16)),ue(v(ne).toString(16))];return fe&&ye[0].charAt(0)==ye[0].charAt(1)&&ye[1].charAt(0)==ye[1].charAt(1)&&ye[2].charAt(0)==ye[2].charAt(1)?ye[0].charAt(0)+ye[1].charAt(0)+ye[2].charAt(0):ye.join("")}function h(X,se,ne,fe,ye){var Se=[ue(v(X).toString(16)),ue(v(se).toString(16)),ue(v(ne).toString(16)),ue(Y(fe))];return ye&&Se[0].charAt(0)==Se[0].charAt(1)&&Se[1].charAt(0)==Se[1].charAt(1)&&Se[2].charAt(0)==Se[2].charAt(1)&&Se[3].charAt(0)==Se[3].charAt(1)?Se[0].charAt(0)+Se[1].charAt(0)+Se[2].charAt(0)+Se[3].charAt(0):Se.join("")}function s(X,se,ne,fe){var ye=[ue(Y(fe)),ue(v(X).toString(16)),ue(v(se).toString(16)),ue(v(ne).toString(16))];return ye.join("")}i.equals=function(X,se){return!X||!se?!1:i(X).toRgbString()==i(se).toRgbString()},i.random=function(){return i.fromRatio({r:t(),g:t(),b:t()})};function d(X,se){se=se===0?0:se||10;var ne=i(X).toHsl();return ne.s-=se/100,ne.s=W(ne.s),i(ne)}function A(X,se){se=se===0?0:se||10;var ne=i(X).toHsl();return ne.s+=se/100,ne.s=W(ne.s),i(ne)}function w(X){return i(X).desaturate(100)}function C(X,se){se=se===0?0:se||10;var ne=i(X).toHsl();return ne.l+=se/100,ne.l=W(ne.l),i(ne)}function b(X,se){se=se===0?0:se||10;var ne=i(X).toRgb();return ne.r=r(0,p(255,ne.r-v(255*-(se/100)))),ne.g=r(0,p(255,ne.g-v(255*-(se/100)))),ne.b=r(0,p(255,ne.b-v(255*-(se/100)))),i(ne)}function S(X,se){se=se===0?0:se||10;var ne=i(X).toHsl();return ne.l-=se/100,ne.l=W(ne.l),i(ne)}function m(X,se){var ne=i(X).toHsl(),fe=(ne.h+se)%360;return ne.h=fe<0?360+fe:fe,i(ne)}function a(X){var se=i(X).toHsl();return se.h=(se.h+180)%360,i(se)}function E(X){var se=i(X).toHsl(),ne=se.h;return[i(X),i({h:(ne+120)%360,s:se.s,l:se.l}),i({h:(ne+240)%360,s:se.s,l:se.l})]}function x(X){var se=i(X).toHsl(),ne=se.h;return[i(X),i({h:(ne+90)%360,s:se.s,l:se.l}),i({h:(ne+180)%360,s:se.s,l:se.l}),i({h:(ne+270)%360,s:se.s,l:se.l})]}function k(X){var se=i(X).toHsl(),ne=se.h;return[i(X),i({h:(ne+72)%360,s:se.s,l:se.l}),i({h:(ne+216)%360,s:se.s,l:se.l})]}function I(X,se,ne){se=se||6,ne=ne||30;var fe=i(X).toHsl(),ye=360/ne,Se=[i(X)];for(fe.h=(fe.h-(ye*se>>1)+720)%360;--se;)fe.h=(fe.h+ye)%360,Se.push(i(fe));return Se}function N(X,se){se=se||6;for(var ne=i(X).toHsv(),fe=ne.h,ye=ne.s,Se=ne.v,we=[],_e=1/se;se--;)we.push(i({h:fe,s:ye,v:Se})),Se=(Se+_e)%1;return we}i.mix=function(X,se,ne){ne=ne===0?0:ne||50;var fe=i(X).toRgb(),ye=i(se).toRgb(),Se=ne/100,we={r:(ye.r-fe.r)*Se+fe.r,g:(ye.g-fe.g)*Se+fe.g,b:(ye.b-fe.b)*Se+fe.b,a:(ye.a-fe.a)*Se+fe.a};return i(we)},i.readability=function(X,se){var ne=i(X),fe=i(se);return(P.max(ne.getLuminance(),fe.getLuminance())+.05)/(P.min(ne.getLuminance(),fe.getLuminance())+.05)},i.isReadable=function(X,se,ne){var fe=i.readability(X,se),ye,Se;switch(Se=!1,ye=Q(ne),ye.level+ye.size){case"AAsmall":case"AAAlarge":Se=fe>=4.5;break;case"AAlarge":Se=fe>=3;break;case"AAAsmall":Se=fe>=7;break}return Se},i.mostReadable=function(X,se,ne){var fe=null,ye=0,Se,we,_e,ke;ne=ne||{},we=ne.includeFallbackColors,_e=ne.level,ke=ne.size;for(var Me=0;Me<se.length;Me++)Se=i.readability(X,se[Me]),Se>ye&&(ye=Se,fe=i(se[Me]));return i.isReadable(X,fe,{level:_e,size:ke})||!we?fe:(ne.includeFallbackColors=!1,i.mostReadable(X,["#fff","#000"],ne))};var F=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=i.hexNames=O(F);function O(X){var se={};for(var ne in X)X.hasOwnProperty(ne)&&(se[X[ne]]=ne);return se}function _(X){return X=parseFloat(X),(isNaN(X)||X<0||X>1)&&(X=1),X}function B(X,se){te(X)&&(X="100%");var ne=ie(X);return X=p(se,r(0,parseFloat(X))),ne&&(X=parseInt(X*se,10)/100),P.abs(X-se)<1e-6?1:X%se/parseFloat(se)}function W(X){return p(1,r(0,X))}function $(X){return parseInt(X,16)}function te(X){return typeof X=="string"&&X.indexOf(".")!=-1&&parseFloat(X)===1}function ie(X){return typeof X=="string"&&X.indexOf("%")!=-1}function ue(X){return X.length==1?"0"+X:""+X}function J(X){return X<=1&&(X=X*100+"%"),X}function Y(X){return P.round(parseFloat(X)*255).toString(16)}function ae(X){return $(X)/255}var j=function(){var X="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",ne="(?:"+se+")|(?:"+X+")",fe="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?",ye="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?";return{CSS_UNIT:new RegExp(ne),rgb:new RegExp("rgb"+fe),rgba:new RegExp("rgba"+ye),hsl:new RegExp("hsl"+fe),hsla:new RegExp("hsla"+ye),hsv:new RegExp("hsv"+fe),hsva:new RegExp("hsva"+ye),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function q(X){return!!j.CSS_UNIT.exec(X)}function oe(X){X=X.replace(o,"").replace(L,"").toLowerCase();var se=!1;if(F[X])X=F[X],se=!0;else if(X=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ne;return(ne=j.rgb.exec(X))?{r:ne[1],g:ne[2],b:ne[3]}:(ne=j.rgba.exec(X))?{r:ne[1],g:ne[2],b:ne[3],a:ne[4]}:(ne=j.hsl.exec(X))?{h:ne[1],s:ne[2],l:ne[3]}:(ne=j.hsla.exec(X))?{h:ne[1],s:ne[2],l:ne[3],a:ne[4]}:(ne=j.hsv.exec(X))?{h:ne[1],s:ne[2],v:ne[3]}:(ne=j.hsva.exec(X))?{h:ne[1],s:ne[2],v:ne[3],a:ne[4]}:(ne=j.hex8.exec(X))?{r:$(ne[1]),g:$(ne[2]),b:$(ne[3]),a:ae(ne[4]),format:se?"name":"hex8"}:(ne=j.hex6.exec(X))?{r:$(ne[1]),g:$(ne[2]),b:$(ne[3]),format:se?"name":"hex"}:(ne=j.hex4.exec(X))?{r:$(ne[1]+""+ne[1]),g:$(ne[2]+""+ne[2]),b:$(ne[3]+""+ne[3]),a:ae(ne[4]+""+ne[4]),format:se?"name":"hex8"}:(ne=j.hex3.exec(X))?{r:$(ne[1]+""+ne[1]),g:$(ne[2]+""+ne[2]),b:$(ne[3]+""+ne[3]),format:se?"name":"hex"}:!1}function Q(X){var se,ne;return X=X||{level:"AA",size:"small"},se=(X.level||"AA").toUpperCase(),ne=(X.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),ne!=="small"&&ne!=="large"&&(ne="small"),{level:se,size:ne}}G.exports?G.exports=i:(y=(function(){return i}).call(V,e,V,G),y!==void 0&&(G.exports=y))})(Math)},57060:function(G){G.exports=y,G.exports.float32=G.exports.float=y,G.exports.fract32=G.exports.fract=e;var V=new Float32Array(1);function e(P,o){if(P.length){if(P instanceof Float32Array)return new Float32Array(P.length);o instanceof Float32Array||(o=y(P));for(var L=0,M=o.length;L<M;L++)o[L]=P[L]-o[L];return o}return y(P-y(P))}function y(P){return P.length?P instanceof Float32Array?P:new Float32Array(P):(V[0]=P,V[0])}},75686:function(G,V,e){var y=e(25677);G.exports=M;var P=96;function o(v,p){var r=y(getComputedStyle(v).getPropertyValue(p));return r[0]*M(r[1],v)}function L(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=o(r,"font-size")/128;return p.removeChild(r),t}function M(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return L(v,p);case"em":return o(p,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return P;case"cm":return P/2.54;case"mm":return P/25.4;case"pt":return P/72;case"pc":return P/6}return 1}},96892:function(G,V,e){e.d(V,{zL:function(){return L}});function y(p,r){for(var t,i=p.length,n=i-r;n<--i;)t=p[n],p[n++]=p[i],p[i]=t}function P(p){return p}function o(p){if(p==null)return P;var r,t,i=p.scale[0],n=p.scale[1],c=p.translate[0],u=p.translate[1];return function(l,g){g||(r=t=0);var f=2,T=l.length,h=new Array(T);for(h[0]=(r+=l[0])*i+c,h[1]=(t+=l[1])*n+u;f<T;)h[f]=l[f],++f;return h}}function L(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return M(p,t)})}:M(p,r)}function M(p,r){var t=r.id,i=r.bbox,n=r.properties==null?{}:r.properties,c=v(p,r);return t==null&&i==null?{type:"Feature",properties:n,geometry:c}:i==null?{type:"Feature",id:t,properties:n,geometry:c}:{type:"Feature",id:t,bbox:i,properties:n,geometry:c}}function v(p,r){var t=o(p.transform),i=p.arcs;function n(T,h){h.length&&h.pop();for(var s=i[T<0?~T:T],d=0,A=s.length;d<A;++d)h.push(t(s[d],d));T<0&&y(h,A)}function c(T){return t(T)}function u(T){for(var h=[],s=0,d=T.length;s<d;++s)n(T[s],h);return h.length<2&&h.push(h[0]),h}function l(T){for(var h=u(T);h.length<4;)h.push(h[0]);return h}function g(T){return T.map(l)}function f(T){var h=T.type,s;switch(h){case"GeometryCollection":return{type:h,geometries:T.geometries.map(f)};case"Point":s=c(T.coordinates);break;case"MultiPoint":s=T.coordinates.map(c);break;case"LineString":s=u(T.arcs);break;case"MultiLineString":s=T.arcs.map(u);break;case"Polygon":s=g(T.arcs);break;case"MultiPolygon":s=T.arcs.map(g);break;default:return null}return{type:h,coordinates:s}}return f(r)}},73116:function(G,V,e){var y=e(24511);G.exports=function(P){if(typeof P!="function"||!hasOwnProperty.call(P,"length"))return!1;try{if(typeof P.length!="number"||typeof P.call!="function"||typeof P.apply!="function")return!1}catch{return!1}return!y(P)}},69190:function(G,V,e){var y=e(24582),P=e(47403),o=e(9234),L=e(6048),M=function(v,p){return v.replace("%v",L(p))};G.exports=function(v,p,r){if(!P(r))throw new TypeError(M(p,v));if(!y(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=o(r.errorMessage);throw y(t)||(t=p),new TypeError(M(t,v))}},18497:function(G){G.exports=function(V){try{return V.toString()}catch{try{return String(V)}catch{return null}}}},6048:function(G,V,e){var y=e(18497),P=/[\n\r\u2028\u2029]/g;G.exports=function(o){var L=y(o);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+""),L=L.replace(P,function(M){switch(M){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},47403:function(G,V,e){var y=e(24582),P={object:!0,function:!0,undefined:!0};G.exports=function(o){return y(o)?hasOwnProperty.call(P,typeof o):!1}},82527:function(G,V,e){var y=e(69190),P=e(84985);G.exports=function(o){return P(o)?o:y(o,"%v is not a plain function",arguments[1])}},84985:function(G,V,e){var y=e(73116),P=/^\s*class[\s{/}]/,o=Function.prototype.toString;G.exports=function(L){return!(!y(L)||P.test(o.call(L)))}},24511:function(G,V,e){var y=e(47403);G.exports=function(P){if(!y(P))return!1;try{return P.constructor?P.constructor.prototype===P:!1}catch{return!1}}},9234:function(G,V,e){var y=e(24582),P=e(47403),o=Object.prototype.toString;G.exports=function(L){if(!y(L))return null;if(P(L)){var M=L.toString;if(typeof M!="function"||M===o)return null}try{return""+L}catch{return null}}},10424:function(G,V,e){var y=e(69190),P=e(24582);G.exports=function(o){return P(o)?o:y(o,"Cannot use %v",arguments[1])}},24582:function(G){var V=void 0;G.exports=function(e){return e!==V&&e!==null}},58404:function(G,V,e){var y=e(13547),P=e(12129),o=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:P([32,0]),UINT16:P([32,0]),UINT32:P([32,0]),BIGUINT64:P([32,0]),INT8:P([32,0]),INT16:P([32,0]),INT32:P([32,0]),BIGINT64:P([32,0]),FLOAT:P([32,0]),DOUBLE:P([32,0]),DATA:P([32,0]),UINT8C:P([32,0]),BUFFER:P([32,0])});var L=typeof Uint8ClampedArray<"u",M=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=P([32,0])),p.BIGUINT64||(p.BIGUINT64=P([32,0])),p.BIGINT64||(p.BIGINT64=P([32,0])),p.BUFFER||(p.BUFFER=P([32,0]));var r=p.DATA,t=p.BUFFER;V.free=function(a){if(o.isBuffer(a))t[y.log2(a.length)].push(a);else{if(Object.prototype.toString.call(a)!=="[object ArrayBuffer]"&&(a=a.buffer),!a)return;var E=a.length||a.byteLength,x=y.log2(E)|0;r[x].push(a)}};function i(m){if(m){var a=m.length||m.byteLength,E=y.log2(a);r[E].push(m)}}function n(m){i(m.buffer)}V.freeUint8=V.freeUint16=V.freeUint32=V.freeBigUint64=V.freeInt8=V.freeInt16=V.freeInt32=V.freeBigInt64=V.freeFloat32=V.freeFloat=V.freeFloat64=V.freeDouble=V.freeUint8Clamped=V.freeDataView=n,V.freeArrayBuffer=i,V.freeBuffer=function(a){t[y.log2(a.length)].push(a)},V.malloc=function(a,E){if(E===void 0||E==="arraybuffer")return c(a);switch(E){case"uint8":return u(a);case"uint16":return l(a);case"uint32":return g(a);case"int8":return f(a);case"int16":return T(a);case"int32":return h(a);case"float":case"float32":return s(a);case"double":case"float64":return d(a);case"uint8_clamped":return A(a);case"bigint64":return C(a);case"biguint64":return w(a);case"buffer":return S(a);case"data":case"dataview":return b(a);default:return null}return null};function c(a){var a=y.nextPow2(a),E=y.log2(a),x=r[E];return x.length>0?x.pop():new ArrayBuffer(a)}V.mallocArrayBuffer=c;function u(m){return new Uint8Array(c(m),0,m)}V.mallocUint8=u;function l(m){return new Uint16Array(c(2*m),0,m)}V.mallocUint16=l;function g(m){return new Uint32Array(c(4*m),0,m)}V.mallocUint32=g;function f(m){return new Int8Array(c(m),0,m)}V.mallocInt8=f;function T(m){return new Int16Array(c(2*m),0,m)}V.mallocInt16=T;function h(m){return new Int32Array(c(4*m),0,m)}V.mallocInt32=h;function s(m){return new Float32Array(c(4*m),0,m)}V.mallocFloat32=V.mallocFloat=s;function d(m){return new Float64Array(c(8*m),0,m)}V.mallocFloat64=V.mallocDouble=d;function A(m){return L?new Uint8ClampedArray(c(m),0,m):u(m)}V.mallocUint8Clamped=A;function w(m){return M?new BigUint64Array(c(8*m),0,m):null}V.mallocBigUint64=w;function C(m){return v?new BigInt64Array(c(8*m),0,m):null}V.mallocBigInt64=C;function b(m){return new DataView(c(m),0,m)}V.mallocDataView=b;function S(m){m=y.nextPow2(m);var a=y.log2(m),E=t[a];return E.length>0?E.pop():new o(m)}V.mallocBuffer=S,V.clearCache=function(){for(var a=0;a<32;++a)p.UINT8[a].length=0,p.UINT16[a].length=0,p.UINT32[a].length=0,p.INT8[a].length=0,p.INT16[a].length=0,p.INT32[a].length=0,p.FLOAT[a].length=0,p.DOUBLE[a].length=0,p.BIGUINT64[a].length=0,p.BIGINT64[a].length=0,p.UINT8C[a].length=0,r[a].length=0,t[a].length=0}},90448:function(G){var V=/[\'\"]/;G.exports=function(y){return y?(V.test(y.charAt(0))&&(y=y.substr(1)),V.test(y.charAt(y.length-1))&&(y=y.substr(0,y.length-1)),y):""}},93447:function(G){G.exports=function(e,y,P){Array.isArray(P)||(P=[].slice.call(arguments,2));for(var o=0,L=P.length;o<L;o++){var M=P[o];for(var v in M)if(!(y[v]!==void 0&&!Array.isArray(y[v])&&e[v]===y[v])&&v in y){var p;if(M[v]===!0)p=y[v];else{if(M[v]===!1)continue;if(typeof M[v]=="function"&&(p=M[v](y[v],e,y),p===void 0))continue}e[v]=p}}return e}},20588:function(G,V,e){G.exports=y;function y(o,L){if(P("noDeprecation"))return o;var M=!1;function v(){if(!M){if(P("throwDeprecation"))throw new Error(L);P("traceDeprecation")?console.trace(L):console.warn(L),M=!0}return o.apply(this,arguments)}return v}function P(o){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[o];return L==null?!1:String(L).toLowerCase()==="true"}},45920:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(G,V,e){var y=e(47216),P=e(65481),o=e(21099),L=e(9187);function M(Se){return Se.call.bind(Se)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=M(Object.prototype.toString),t=M(Number.prototype.valueOf),i=M(String.prototype.valueOf),n=M(Boolean.prototype.valueOf);if(v)var c=M(BigInt.prototype.valueOf);if(p)var u=M(Symbol.prototype.valueOf);function l(Se,we){if(typeof Se!="object")return!1;try{return we(Se),!0}catch{return!1}}V.isArgumentsObject=y,V.isGeneratorFunction=P,V.isTypedArray=L;function g(Se){return typeof Promise<"u"&&Se instanceof Promise||Se!==null&&typeof Se=="object"&&typeof Se.then=="function"&&typeof Se.catch=="function"}V.isPromise=g;function f(Se){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Se):L(Se)||$(Se)}V.isArrayBufferView=f;function T(Se){return o(Se)==="Uint8Array"}V.isUint8Array=T;function h(Se){return o(Se)==="Uint8ClampedArray"}V.isUint8ClampedArray=h;function s(Se){return o(Se)==="Uint16Array"}V.isUint16Array=s;function d(Se){return o(Se)==="Uint32Array"}V.isUint32Array=d;function A(Se){return o(Se)==="Int8Array"}V.isInt8Array=A;function w(Se){return o(Se)==="Int16Array"}V.isInt16Array=w;function C(Se){return o(Se)==="Int32Array"}V.isInt32Array=C;function b(Se){return o(Se)==="Float32Array"}V.isFloat32Array=b;function S(Se){return o(Se)==="Float64Array"}V.isFloat64Array=S;function m(Se){return o(Se)==="BigInt64Array"}V.isBigInt64Array=m;function a(Se){return o(Se)==="BigUint64Array"}V.isBigUint64Array=a;function E(Se){return r(Se)==="[object Map]"}E.working=typeof Map<"u"&&E(new Map);function x(Se){return typeof Map>"u"?!1:E.working?E(Se):Se instanceof Map}V.isMap=x;function k(Se){return r(Se)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function I(Se){return typeof Set>"u"?!1:k.working?k(Se):Se instanceof Set}V.isSet=I;function N(Se){return r(Se)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function F(Se){return typeof WeakMap>"u"?!1:N.working?N(Se):Se instanceof WeakMap}V.isWeakMap=F;function z(Se){return r(Se)==="[object WeakSet]"}z.working=typeof WeakSet<"u"&&z(new WeakSet);function O(Se){return z(Se)}V.isWeakSet=O;function _(Se){return r(Se)==="[object ArrayBuffer]"}_.working=typeof ArrayBuffer<"u"&&_(new ArrayBuffer);function B(Se){return typeof ArrayBuffer>"u"?!1:_.working?_(Se):Se instanceof ArrayBuffer}V.isArrayBuffer=B;function W(Se){return r(Se)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function $(Se){return typeof DataView>"u"?!1:W.working?W(Se):Se instanceof DataView}V.isDataView=$;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ie(Se){return r(Se)==="[object SharedArrayBuffer]"}function ue(Se){return typeof te>"u"?!1:(typeof ie.working>"u"&&(ie.working=ie(new te)),ie.working?ie(Se):Se instanceof te)}V.isSharedArrayBuffer=ue;function J(Se){return r(Se)==="[object AsyncFunction]"}V.isAsyncFunction=J;function Y(Se){return r(Se)==="[object Map Iterator]"}V.isMapIterator=Y;function ae(Se){return r(Se)==="[object Set Iterator]"}V.isSetIterator=ae;function j(Se){return r(Se)==="[object Generator]"}V.isGeneratorObject=j;function q(Se){return r(Se)==="[object WebAssembly.Module]"}V.isWebAssemblyCompiledModule=q;function oe(Se){return l(Se,t)}V.isNumberObject=oe;function Q(Se){return l(Se,i)}V.isStringObject=Q;function X(Se){return l(Se,n)}V.isBooleanObject=X;function se(Se){return v&&l(Se,c)}V.isBigIntObject=se;function ne(Se){return p&&l(Se,u)}V.isSymbolObject=ne;function fe(Se){return oe(Se)||Q(Se)||X(Se)||se(Se)||ne(Se)}V.isBoxedPrimitive=fe;function ye(Se){return typeof Uint8Array<"u"&&(B(Se)||ue(Se))}V.isAnyArrayBuffer=ye,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Se){Object.defineProperty(V,Se,{enumerable:!1,value:function(){throw new Error(Se+" is not supported in userland")}})})},43827:function(G,V,e){var y=e(90386),P=Object.getOwnPropertyDescriptors||function(te){for(var ie=Object.keys(te),ue={},J=0;J<ie.length;J++)ue[ie[J]]=Object.getOwnPropertyDescriptor(te,ie[J]);return ue},o=/%[sdj%]/g;V.format=function($){if(!w($)){for(var te=[],ie=0;ie<arguments.length;ie++)te.push(p(arguments[ie]));return te.join(" ")}for(var ie=1,ue=arguments,J=ue.length,Y=String($).replace(o,function(j){if(j==="%%")return"%";if(ie>=J)return j;switch(j){case"%s":return String(ue[ie++]);case"%d":return Number(ue[ie++]);case"%j":try{return JSON.stringify(ue[ie++])}catch{return"[Circular]"}default:return j}}),ae=ue[ie];ie<J;ae=ue[++ie])s(ae)||!m(ae)?Y+=" "+ae:Y+=" "+p(ae);return Y},V.deprecate=function($,te){if(typeof y<"u"&&y.noDeprecation===!0)return $;if(typeof y>"u")return function(){return V.deprecate($,te).apply(this,arguments)};var ie=!1;function ue(){if(!ie){if(y.throwDeprecation)throw new Error(te);y.traceDeprecation?console.trace(te):console.error(te),ie=!0}return $.apply(this,arguments)}return ue};var L={},M=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+v+"$","i")}V.debuglog=function($){if($=$.toUpperCase(),!L[$])if(M.test($)){var te=y.pid;L[$]=function(){var ie=V.format.apply(V,arguments);console.error("%s %d: %s",$,te,ie)}}else L[$]=function(){};return L[$]};function p($,te){var ie={seen:[],stylize:t};return arguments.length>=3&&(ie.depth=arguments[2]),arguments.length>=4&&(ie.colors=arguments[3]),h(te)?ie.showHidden=te:te&&V._extend(ie,te),b(ie.showHidden)&&(ie.showHidden=!1),b(ie.depth)&&(ie.depth=2),b(ie.colors)&&(ie.colors=!1),b(ie.customInspect)&&(ie.customInspect=!0),ie.colors&&(ie.stylize=r),n(ie,$,ie.depth)}V.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r($,te){var ie=p.styles[te];return ie?"\x1B["+p.colors[ie][0]+"m"+$+"\x1B["+p.colors[ie][1]+"m":$}function t($,te){return $}function i($){var te={};return $.forEach(function(ie,ue){te[ie]=!0}),te}function n($,te,ie){if($.customInspect&&te&&x(te.inspect)&&te.inspect!==V.inspect&&!(te.constructor&&te.constructor.prototype===te)){var ue=te.inspect(ie,$);return w(ue)||(ue=n($,ue,ie)),ue}var J=c($,te);if(J)return J;var Y=Object.keys(te),ae=i(Y);if($.showHidden&&(Y=Object.getOwnPropertyNames(te)),E(te)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return u(te);if(Y.length===0){if(x(te)){var j=te.name?": "+te.name:"";return $.stylize("[Function"+j+"]","special")}if(S(te))return $.stylize(RegExp.prototype.toString.call(te),"regexp");if(a(te))return $.stylize(Date.prototype.toString.call(te),"date");if(E(te))return u(te)}var q="",oe=!1,Q=["{","}"];if(T(te)&&(oe=!0,Q=["[","]"]),x(te)){var X=te.name?": "+te.name:"";q=" [Function"+X+"]"}if(S(te)&&(q=" "+RegExp.prototype.toString.call(te)),a(te)&&(q=" "+Date.prototype.toUTCString.call(te)),E(te)&&(q=" "+u(te)),Y.length===0&&(!oe||te.length==0))return Q[0]+q+Q[1];if(ie<0)return S(te)?$.stylize(RegExp.prototype.toString.call(te),"regexp"):$.stylize("[Object]","special");$.seen.push(te);var se;return oe?se=l($,te,ie,ae,Y):se=Y.map(function(ne){return g($,te,ie,ae,ne,oe)}),$.seen.pop(),f(se,q,Q)}function c($,te){if(b(te))return $.stylize("undefined","undefined");if(w(te)){var ie="'"+JSON.stringify(te).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(ie,"string")}if(A(te))return $.stylize(""+te,"number");if(h(te))return $.stylize(""+te,"boolean");if(s(te))return $.stylize("null","null")}function u($){return"["+Error.prototype.toString.call($)+"]"}function l($,te,ie,ue,J){for(var Y=[],ae=0,j=te.length;ae<j;++ae)O(te,String(ae))?Y.push(g($,te,ie,ue,String(ae),!0)):Y.push("");return J.forEach(function(q){q.match(/^\d+$/)||Y.push(g($,te,ie,ue,q,!0))}),Y}function g($,te,ie,ue,J,Y){var ae,j,q;if(q=Object.getOwnPropertyDescriptor(te,J)||{value:te[J]},q.get?q.set?j=$.stylize("[Getter/Setter]","special"):j=$.stylize("[Getter]","special"):q.set&&(j=$.stylize("[Setter]","special")),O(ue,J)||(ae="["+J+"]"),j||($.seen.indexOf(q.value)<0?(s(ie)?j=n($,q.value,null):j=n($,q.value,ie-1),j.indexOf(`
`)>-1&&(Y?j=j.split(`
`).map(function(oe){return"  "+oe}).join(`
`).slice(2):j=`
`+j.split(`
`).map(function(oe){return"   "+oe}).join(`
`))):j=$.stylize("[Circular]","special")),b(ae)){if(Y&&J.match(/^\d+$/))return j;ae=JSON.stringify(""+J),ae.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ae=ae.slice(1,-1),ae=$.stylize(ae,"name")):(ae=ae.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ae=$.stylize(ae,"string"))}return ae+": "+j}function f($,te,ie){var ue=$.reduce(function(J,Y){return Y.indexOf(`
`)>=0,J+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ue>60?ie[0]+(te===""?"":te+`
 `)+" "+$.join(`,
  `)+" "+ie[1]:ie[0]+te+" "+$.join(", ")+" "+ie[1]}V.types=e(4936);function T($){return Array.isArray($)}V.isArray=T;function h($){return typeof $=="boolean"}V.isBoolean=h;function s($){return $===null}V.isNull=s;function d($){return $==null}V.isNullOrUndefined=d;function A($){return typeof $=="number"}V.isNumber=A;function w($){return typeof $=="string"}V.isString=w;function C($){return typeof $=="symbol"}V.isSymbol=C;function b($){return $===void 0}V.isUndefined=b;function S($){return m($)&&I($)==="[object RegExp]"}V.isRegExp=S,V.types.isRegExp=S;function m($){return typeof $=="object"&&$!==null}V.isObject=m;function a($){return m($)&&I($)==="[object Date]"}V.isDate=a,V.types.isDate=a;function E($){return m($)&&(I($)==="[object Error]"||$ instanceof Error)}V.isError=E,V.types.isNativeError=E;function x($){return typeof $=="function"}V.isFunction=x;function k($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||typeof $>"u"}V.isPrimitive=k,V.isBuffer=e(45920);function I($){return Object.prototype.toString.call($)}function N($){return $<10?"0"+$.toString(10):$.toString(10)}var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function z(){var $=new Date,te=[N($.getHours()),N($.getMinutes()),N($.getSeconds())].join(":");return[$.getDate(),F[$.getMonth()],te].join(" ")}V.log=function(){console.log("%s - %s",z(),V.format.apply(V,arguments))},V.inherits=e(42018),V._extend=function($,te){if(!te||!m(te))return $;for(var ie=Object.keys(te),ue=ie.length;ue--;)$[ie[ue]]=te[ie[ue]];return $};function O($,te){return Object.prototype.hasOwnProperty.call($,te)}var _=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;V.promisify=function(te){if(typeof te!="function")throw new TypeError('The "original" argument must be of type Function');if(_&&te[_]){var ie=te[_];if(typeof ie!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ie,_,{value:ie,enumerable:!1,writable:!1,configurable:!0}),ie}function ie(){for(var ue,J,Y=new Promise(function(q,oe){ue=q,J=oe}),ae=[],j=0;j<arguments.length;j++)ae.push(arguments[j]);ae.push(function(q,oe){q?J(q):ue(oe)});try{te.apply(this,ae)}catch(q){J(q)}return Y}return Object.setPrototypeOf(ie,Object.getPrototypeOf(te)),_&&Object.defineProperty(ie,_,{value:ie,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ie,P(te))},V.promisify.custom=_;function B($,te){if(!$){var ie=new Error("Promise was rejected with a falsy value");ie.reason=$,$=ie}return te($)}function W($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');function te(){for(var ie=[],ue=0;ue<arguments.length;ue++)ie.push(arguments[ue]);var J=ie.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var Y=this,ae=function(){return J.apply(Y,arguments)};$.apply(this,ie).then(function(j){y.nextTick(ae.bind(null,null,j))},function(j){y.nextTick(B.bind(null,j,ae))})}return Object.setPrototypeOf(te,Object.getPrototypeOf($)),Object.defineProperties(te,P($)),te}V.callbackify=W},40372:function(G,V,e){var y=e(86249);G.exports=function(o){return y("webgl",o)}},21099:function(G,V,e){var y=e(31353),P=e(72077),o=e(6614),L=e(40383),M=o("Object.prototype.toString"),v=e(84543)(),p=typeof globalThis>"u"?e.g:globalThis,r=P(),t=o("String.prototype.slice"),i={},n=Object.getPrototypeOf;v&&L&&n&&y(r,function(l){if(typeof p[l]=="function"){var g=new p[l];if(Symbol.toStringTag in g){var f=n(g),T=L(f,Symbol.toStringTag);if(!T){var h=n(f);T=L(h,Symbol.toStringTag)}i[l]=T.get}}});var c=function(g){var f=!1;return y(i,function(T,h){if(!f)try{var s=T.call(g);s===h&&(f=s)}catch{}}),f},u=e(9187);G.exports=function(g){return u(g)?!v||!(Symbol.toStringTag in g)?t(M(g),8,-1):c(g):!1}},3961:function(G,V,e){var y=e(63489),P=e(56131),o=y.instance();function L(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}L.prototype=new y.baseCalendar,P(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,l){if(typeof u=="string"){var g=u.match(v);return g?g[0]:""}var f=this._validateYear(u),T=u.month(),h=""+this.toChineseMonth(f,T);return l&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(f,T)&&(h+="i"),h},monthNames:function(u){if(typeof u=="string"){var l=u.match(p);return l?l[0]:""}var g=this._validateYear(u),f=u.month(),T=this.toChineseMonth(g,f),h=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(g,f)&&(h=""+h),h},monthNamesShort:function(u){if(typeof u=="string"){var l=u.match(r);return l?l[0]:""}var g=this._validateYear(u),f=u.month(),T=this.toChineseMonth(g,f),h=["","","","","","","","","","","",""][T-1];return this.isIntercalaryMonth(g,f)&&(h=""+h),h},parseMonth:function(u,l){u=this._validateYear(u);var g=parseInt(l),f;if(isNaN(g))l[0]===""&&(f=!0,l=l.substring(1)),l[l.length-1]===""&&(l=l.substring(0,l.length-1)),g=1+["","","","","","","","","","","",""].indexOf(l);else{var T=l[l.length-1];f=T==="i"||T==="I"}var h=this.toMonthIndex(u,g,f);return h},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,l){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw l.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,l,g){var f=this.intercalaryMonth(u),T=g&&l!==f;if(T||l<1||l>12)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var h;return f?!g&&l<=f?h=l-1:h=l:h=l-1,h},toChineseMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var g=this.intercalaryMonth(u),f=g?12:11;if(l<0||l>f)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return g?l<g?T=l+1:T=l:T=l+1,T},intercalaryMonth:function(u){u=this._validateYear(u);var l=t[u-t[0]],g=l>>13;return g},isIntercalaryMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var g=this.intercalaryMonth(u);return!!g&&g===l},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,l,g){var f=this._validateYear(u,y.local.invalidyear),T=i[f-i[0]],h=T>>9&4095,s=T>>5&15,d=T&31,A;A=o.newDate(h,s,d),A.add(4-(A.dayOfWeek()||7),"d");var w=this.toJD(u,l,g)-A.toJD();return 1+Math.floor(w/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,l){u.year&&(l=u.month(),u=u.year()),u=this._validateYear(u);var g=t[u-t[0]],f=g>>13,T=f?12:11;if(l>T)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var h=g&1<<12-l?30:29;return h},weekDay:function(u,l,g){return(this.dayOfWeek(u,l,g)||7)<6},toJD:function(u,l,g){var f=this._validate(u,h,g,y.local.invalidDate);u=this._validateYear(f.year()),l=f.month(),g=f.day();var T=this.isIntercalaryMonth(u,l),h=this.toChineseMonth(u,l),s=c(u,h,g,T);return o.toJD(s.year,s.month,s.day)},fromJD:function(u){var l=o.fromJD(u),g=n(l.year(),l.month(),l.day()),f=this.toMonthIndex(g.year,g.month,g.isIntercalary);return this.newDate(g.year,f,g.day)},fromString:function(u){var l=u.match(M),g=this._validateYear(+l[1]),f=+l[2],T=!!l[3],h=this.toMonthIndex(g,f,T),s=+l[4];return this.newDate(g,h,s)},add:function(u,l,g){var f=u.year(),T=u.month(),h=this.isIntercalaryMonth(f,T),s=this.toChineseMonth(f,T),d=Object.getPrototypeOf(L.prototype).add.call(this,u,l,g);if(g==="y"){var A=d.year(),w=d.month(),C=this.isIntercalaryMonth(A,s),b=h&&C?this.toMonthIndex(A,s,!0):this.toMonthIndex(A,s,!1);b!==w&&d.month(b)}return d}});var M=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^??[]?/m,r=/^??[]?/m;y.calendars.chinese=L;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],i=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(u,l,g,f){var T,h;if(typeof u=="object")T=u,h=l||{};else{var s=typeof u=="number"&&u>=1888&&u<=2111;if(!s)throw new Error("Solar year outside range 1888-2111");var d=typeof l=="number"&&l>=1&&l<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var A=typeof g=="number"&&g>=1&&g<=31;if(!A)throw new Error("Solar day outside range 1 - 31");T={year:u,month:l,day:g},h=f||{}}var w=i[T.year-i[0]],C=T.year<<9|T.month<<5|T.day;h.year=C>=w?T.year:T.year-1,w=i[h.year-i[0]];var b=w>>9&4095,S=w>>5&15,m=w&31,a,E=new Date(b,S-1,m),x=new Date(T.year,T.month-1,T.day);a=Math.round((x-E)/864e5);var k=t[h.year-t[0]],I;for(I=0;I<13;I++){var N=k&1<<12-I?30:29;if(a<N)break;a-=N}var F=k>>13;return!F||I<F?(h.isIntercalary=!1,h.month=1+I):I===F?(h.isIntercalary=!0,h.month=I):(h.isIntercalary=!1,h.month=I),h.day=1+a,h}function c(u,l,g,f,T){var h,s;if(typeof u=="object")s=u,h=l||{};else{var d=typeof u=="number"&&u>=1888&&u<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var A=typeof l=="number"&&l>=1&&l<=12;if(!A)throw new Error("Lunar month outside range 1 - 12");var w=typeof g=="number"&&g>=1&&g<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var C;typeof f=="object"?(C=!1,h=f):(C=!!f,h=T||{}),s={year:u,month:l,day:g,isIntercalary:C}}var b;b=s.day-1;var S=t[s.year-t[0]],m=S>>13,a;m&&(s.month>m||s.isIntercalary)?a=s.month:a=s.month-1;for(var E=0;E<a;E++){var x=S&1<<12-E?30:29;b+=x}var k=i[s.year-i[0]],I=k>>9&4095,N=k>>5&15,F=k&31,z=new Date(I,N-1,F+b);return h.year=z.getFullYear(),h.month=1+z.getMonth(),h.day=z.getDate(),h}},38751:function(G,V,e){var y=e(63489),P=e(56131);function o(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar,P(o.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),v=M.year()+(M.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),13},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return(this.dayOfWeek(L,M,v)||7)<6},toJD:function(L,M,v){var p=this._validate(L,M,v,y.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var M=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(M/30)+1,r=M-(p-1)*30+1;return this.newDate(v,p,r)}}),y.calendars.coptic=o},86825:function(G,V,e){var y=e(63489),P=e(56131);function o(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar,P(o.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),!1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),13},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),400},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);return(r.day()+1)%8},weekDay:function(M,v,p){var r=this.dayOfWeek(M,v,p);return r>=2&&r<=6},extraInfo:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);return{century:L[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);return M=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(M-1)*400+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(M/400)+1;M-=(v-1)*400,M+=M>15?16:0;var p=Math.floor(M/32)+1,r=M-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var L={20:"Fruitbat",21:"Anchovy"};y.calendars.discworld=o},37715:function(G,V,e){var y=e(63489),P=e(56131);function o(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar,P(o.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),v=M.year()+(M.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),13},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return(this.dayOfWeek(L,M,v)||7)<6},toJD:function(L,M,v){var p=this._validate(L,M,v,y.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var M=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(M/30)+1,r=M-(p-1)*30+1;return this.newDate(v,p,r)}}),y.calendars.ethiopian=o},99384:function(G,V,e){var y=e(63489),P=e(56131);function o(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar,P(o.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(M){return M=M<0?M+1:M,L(M*7+1,19)<7},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,y.local.invalidYear),this._leapYear(M.year?M.year():M)?13:12},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return M=v.year(),this.toJD(M===-1?1:M+1,7,1)-this.toJD(M,7,1)},daysInMonth:function(M,v){return M.year&&(v=M.month(),M=M.year()),this._validate(M,v,this.minDay,y.local.invalidMonth),v===12&&this.leapYear(M)||v===8&&L(this.daysInYear(M),10)===5?30:v===9&&L(this.daysInYear(M),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==6},extraInfo:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);M=r.year(),v=r.month(),p=r.day();var t=M<=0?M+1:M,i=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(M);n++)i+=this.daysInMonth(M,n);for(var n=1;n<v;n++)i+=this.daysInMonth(M,n)}else for(var n=7;n<v;n++)i+=this.daysInMonth(M,n);return i},_delay1:function(M){var v=Math.floor((235*M-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return L(3*(r+1),7)<3&&r++,r},_delay2:function(M){var v=this._delay1(M-1),p=this._delay1(M),r=this._delay1(M+1);return r-p===356?2:p-v===382?1:0},fromJD:function(M){M=Math.floor(M)+.5;for(var v=Math.floor((M-this.jdEpoch)*98496/35975351)-1;M>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=M<this.toJD(v,1,1)?7:1;M>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=M-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function L(M,v){return M-v*Math.floor(M/v)}y.calendars.hebrew=o},43805:function(G,V,e){var y=e(63489),P=e(56131);function o(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar,P(o.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var M=this._validate(L,this.minMonth,this.minDay,y.local.invalidYear);return(M.year()*11+14)%30<11},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return this.dayOfWeek(L,M,v)!==5},toJD:function(L,M,v){var p=this._validate(L,M,v,y.local.invalidDate);return L=p.year(),M=p.month(),v=p.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(M-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var M=Math.floor((30*(L-this.jdEpoch)+10646)/10631);M=M<=0?M-1:M;var v=Math.min(12,Math.ceil((L-29-this.toJD(M,1,1))/29.5)+1),p=L-this.toJD(M,v,1)+1;return this.newDate(M,v,p)}}),y.calendars.islamic=o},88874:function(G,V,e){var y=e(63489),P=e(56131);function o(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar,P(o.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var M=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),v=M.year()<0?M.year()+1:M.year();return v%4===0},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,M){var v=this._validate(L,M,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,M,v){return(this.dayOfWeek(L,M,v)||7)<6},toJD:function(L,M,v){var p=this._validate(L,M,v,y.local.invalidDate);return L=p.year(),M=p.month(),v=p.day(),L<0&&L++,M<=2&&(L--,M+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(M+1))+v-1524.5},fromJD:function(L){var M=Math.floor(L+.5),v=M+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),i=t-Math.floor(t<14?1:13),n=p-Math.floor(i>2?4716:4715),c=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,i,c)}}),y.calendars.julian=o},83290:function(G,V,e){var y=e(63489),P=e(56131);function o(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar,P(o.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,y.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,y.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,y.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,y.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,y.local.invalidDate),i=t.toJD(),n=this._toHaab(i),c=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[c[0]-1],tzolkinDay:c[0],tzolkinTrecena:c[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=L(v+8+(18-1)*20,365);return[Math.floor(p/20)+1,L(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[M(v+20,20),M(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,y.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function L(v,p){return v-p*Math.floor(v/p)}function M(v,p){return L(v-1,p)+1}y.calendars.mayan=o},29108:function(G,V,e){var y=e(63489),P=e(56131);function o(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar;var L=y.instance("gregorian");P(o.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,y.local.invalidMonth),t=r.year();t<0&&t++;for(var i=r.day(),n=1;n<r.month();n++)i+=this.daysPerMonth[n-1];return i+L.toJD(t+1468,3,13)},fromJD:function(M){M=Math.floor(M+.5);for(var v=Math.floor((M-(this.jdEpoch-1))/366);M>=this.toJD(v+1,1,1);)v++;for(var p=M-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),y.calendars.nanakshahi=o},55422:function(G,V,e){var y=e(63489),P=e(56131);function o(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar,P(o.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,M,v){var p=this.newDate(L,M,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){var M=this._validate(L,this.minMonth,this.minDay,y.local.invalidYear);if(L=M.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[L][p];return v},daysInMonth:function(L,M){return L.year&&(M=L.month(),L=L.year()),this._validate(L,M,this.minDay,y.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[M-1]:this.NEPALI_CALENDAR_DATA[L][M]},weekDay:function(L,M,v){return this.dayOfWeek(L,M,v)!==6},toJD:function(L,M,v){var p=this._validate(L,M,v,y.local.invalidDate);L=p.year(),M=p.month(),v=p.day();var r=y.instance(),t=0,i=M,n=L;this._createMissingCalendarData(L);var c=L-(i>9||i===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(M!==9&&(t=v,i--);i!==9;)i<=0&&(i=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][i],i--;return M===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(c))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(c,1,1).add(t,"d").toJD()},fromJD:function(L){var M=y.instance(),v=M.fromJD(L),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var i=9,n=this.NEPALI_CALENDAR_DATA[t][0],c=this.NEPALI_CALENDAR_DATA[t][i]-n+1;r>c;)i++,i>12&&(i=1,t++),c+=this.NEPALI_CALENDAR_DATA[t][i];var u=this.NEPALI_CALENDAR_DATA[t][i]-(c-r);return this.newDate(t,i,u)},_createMissingCalendarData:function(L){var M=this.daysPerMonth.slice(0);M.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=M)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),y.calendars.nepali=o},94320:function(G,V,e){var y=e(63489),P=e(56131);function o(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar,P(o.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==5},toJD:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate);M=r.year(),v=r.month(),p=r.day();var t=M-(M>=0?474:473),i=474+L(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((i*682-110)/2816)+(i-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M)+.5;var v=M-this.toJD(475,1,1),p=Math.floor(v/1029983),r=L(v,1029983),t=2820;if(r!==1029982){var i=Math.floor(r/366),n=L(r,366);t=Math.floor((2134*i+2816*n+2815)/1028522)+i+1}var c=t+2820*p+474;c=c<=0?c-1:c;var u=M-this.toJD(c,1,1)+1,l=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),g=M-this.toJD(c,l,1)+1;return this.newDate(c,l,g)}});function L(M,v){return M-v*Math.floor(M/v)}y.calendars.persian=o,y.calendars.jalali=o},31320:function(G,V,e){var y=e(63489),P=e(56131),o=y.instance();function L(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}L.prototype=new y.baseCalendar,P(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,y.local.invalidYear),p=this._t2gYear(v.year());return o.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear),t=this._t2gYear(r.year());return o.weekOfYear(t,r.month(),r.day())},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,y.local.invalidDate),t=this._t2gYear(r.year());return o.toJD(t,r.month(),r.day())},fromJD:function(M){var v=o.fromJD(M),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)},_g2tYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)}}),y.calendars.taiwan=L},51367:function(G,V,e){var y=e(63489),P=e(56131),o=y.instance();function L(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}L.prototype=new y.baseCalendar,P(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,y.local.invalidYear),p=this._t2gYear(v.year());return o.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear),t=this._t2gYear(r.year());return o.weekOfYear(t,r.month(),r.day())},daysInMonth:function(M,v){var p=this._validate(M,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(M,v,p){return(this.dayOfWeek(M,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,y.local.invalidDate),t=this._t2gYear(r.year());return o.toJD(t,r.month(),r.day())},fromJD:function(M){var v=o.fromJD(M),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)},_g2tYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)}}),y.calendars.thai=L},21457:function(G,V,e){var y=e(63489),P=e(56131);function o(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}o.prototype=new y.baseCalendar,P(o.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,y.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(M,v,p){var r=this.newDate(M,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(M){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(M,p);return v},daysInMonth:function(M,v){for(var p=this._validate(M,v,this.minDay,y.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,i=0;i<L.length;i++){if(L[i]>r)return L[t]-L[t-1];t++}return 30},weekDay:function(M,v,p){return this.dayOfWeek(M,v,p)!==5},toJD:function(M,v,p){var r=this._validate(M,v,p,y.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,i=r.day()+L[t-1]-1;return i+24e5-.5},fromJD:function(M){for(var v=M-24e5+.5,p=0,r=0;r<L.length&&!(L[r]>v);r++)p++;var t=p+15292,i=Math.floor((t-1)/12),n=i+1,c=t-12*i,u=v-L[p-1]+1;return this.newDate(n,c,u)},isValid:function(M,v,p){var r=y.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(M=M.year!=null?M.year:M,r=M>=1276&&M<=1500),r},_validate:function(M,v,p,r){var t=y.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),y.calendars.ummalqura=o;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(G,V,e){var y=e(56131);function P(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}y(P.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var i=this._localCals[r+"-"+t];if(!i&&this.calendars[r]&&(i=new this.calendars[r](t),this._localCals[r+"-"+t]=i),!i)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return i},newDate:function(r,t,i,n,c){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,c):n)||this.instance(),n.newDate(r,t,i)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(i){return r[i]})}},substituteChineseDigits:function(r,t){return function(i){for(var n="",c=0;i>0;){var u=i%10;n=(u===0?"":r[u]+t[c])+n,c++,i=Math.floor(i/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function o(r,t,i,n){if(this._calendar=r,this._year=t,this._month=i,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}y(o.prototype,{newDate:function(r,t,i){return this._calendar.newDate(r??this,t,i)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,i){if(!this._calendar.isValid(r,t,i))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=i,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function M(){this.shortYearCutoff="+10"}y(M.prototype,{_validateLevel:0,newDate:function(r,t,i){return r==null?this.today():(r.year&&(this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),i=r.day(),t=r.month(),r=r.year()),new o(this,r,t,i))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+L(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var i=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(i.month()+this.monthsInYear(i)-this.firstMonth)%this.monthsInYear(i)+this.minMonth},fromMonthOfYear:function(r,t){var i=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,i,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),i},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,i){return this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,i){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,i),t,i)},_add:function(r,t,i){if(this._validateLevel++,i==="d"||i==="w"){var n=r.toJD()+t*(i==="w"?this.daysInWeek():1),c=r.calendar().fromJD(n);return this._validateLevel--,[c.year(),c.month(),c.day()]}try{var u=r.year()+(i==="y"?t:0),l=r.monthOfYear()+(i==="m"?t:0),c=r.day(),g=function(h){for(;l<h.minMonth;)u--,l+=h.monthsInYear(u);for(var s=h.monthsInYear(u);l>s-1+h.minMonth;)u++,l-=s,s=h.monthsInYear(u)};i==="y"?(r.month()!==this.fromMonthOfYear(u,l)&&(l=this.newDate(u,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(u)),c=Math.min(c,this.daysInMonth(u,this.fromMonthOfYear(u,l)))):i==="m"&&(g(this),c=Math.min(c,this.daysInMonth(u,this.fromMonthOfYear(u,l))));var f=[u,this.fromMonthOfYear(u,l),c];return this._validateLevel--,f}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,t,i,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var c={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],u=i<0?-1:1;t=this._add(r,i*c[0]+u*c[1],c[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,i){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=i==="y"?t:r.year(),c=i==="m"?t:r.month(),u=i==="d"?t:r.day();return(i==="y"||i==="m")&&(u=Math.min(u,this.daysInMonth(n,c))),r.date(n,c,u)},isValid:function(r,t,i){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var c=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(c)&&i>=this.minDay&&i-this.minDay<this.daysInMonth(c)}return this._validateLevel--,n},toJSDate:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,i,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,i))throw n.replace(/\{0\}/,this.local.name);var c=this.newDate(r,t,i);return this._validateLevel--,c}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new M,y(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var t=this._validate(i,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),i=t.year()+(t.year()<0?1:0);return i%4===0&&(i%100!==0||i%400===0)},weekOfYear:function(r,t,i){var n=this.newDate(r,t,i);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var i=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(r,t,i){return(this.dayOfWeek(r,t,i)||7)<6},toJD:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),i=n.day(),r<0&&r++,t<3&&(t+=12,r--);var c=Math.floor(r/100),u=2-c+Math.floor(c/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+i+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),i=Math.floor((t-186721625e-2)/36524.25);i=t+1+i-Math.floor(i/4);var n=i+1524,c=Math.floor((n-122.1)/365.25),u=Math.floor(365.25*c),l=Math.floor((n-u)/30.6001),g=n-u-Math.floor(l*30.6001),f=l-(l>13.5?13:1),T=c-(f>2.5?4716:4715);return T<=0&&T--,this.newDate(T,f,g)},toJSDate:function(r,t,i){var n=this._validate(r,t,i,p.local.invalidDate||p.regionalOptions[""].invalidDate),c=new Date(n.year(),n.month()-1,n.day());return c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),c.setHours(c.getHours()>12?c.getHours()+2:0),c},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=G.exports=new P;p.cdate=o,p.baseCalendar=M,p.calendars.gregorian=v},94338:function(G,V,e){var y=e(56131),P=e(63489);y(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],y(P.cdate.prototype,{formatDate:function(o,L){return typeof o!="string"&&(L=o,o=""),this._calendar.formatDate(o||"",this,L)}}),y(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(o,L,M){if(typeof o!="string"&&(M=L,L=o,o=""),!L)return"";if(L.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;o=o||this.local.dateFormat,M=M||{};var v=M.dayNamesShort||this.local.dayNamesShort,p=M.dayNames||this.local.dayNames,r=M.monthNumbers||this.local.monthNumbers,t=M.monthNamesShort||this.local.monthNamesShort,i=M.monthNames||this.local.monthNames;M.calculateWeek||this.local.calculateWeek;for(var n=function(w,C){for(var b=1;A+b<o.length&&o.charAt(A+b)===w;)b++;return A+=b-1,Math.floor(b/(C||1))>1},c=function(w,C,b,S){var m=""+C;if(n(w,S))for(;m.length<b;)m="0"+m;return m},u=function(w,C,b,S){return n(w)?S[C]:b[C]},l=this,g=function(w){return typeof r=="function"?r.call(l,w,n("m")):h(c("m",w.month(),2))},f=function(w,C){return C?typeof i=="function"?i.call(l,w):i[w.month()-l.minMonth]:typeof t=="function"?t.call(l,w):t[w.month()-l.minMonth]},T=this.local.digits,h=function(w){return M.localNumbers&&T?T(w):w},s="",d=!1,A=0;A<o.length;A++)if(d)o.charAt(A)==="'"&&!n("'")?d=!1:s+=o.charAt(A);else switch(o.charAt(A)){case"d":s+=h(c("d",L.day(),2));break;case"D":s+=u("D",L.dayOfWeek(),v,p);break;case"o":s+=c("o",L.dayOfYear(),3);break;case"w":s+=c("w",L.weekOfYear(),2);break;case"m":s+=g(L);break;case"M":s+=f(L,n("M"));break;case"y":s+=n("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":n("Y",2),s+=L.formatYear();break;case"J":s+=L.toJD();break;case"@":s+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":s+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?s+="'":d=!0;break;default:s+=o.charAt(A)}return s},parseDate:function(o,L,M){if(L==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;o=o||this.local.dateFormat,M=M||{};var v=M.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=M.dayNamesShort||this.local.dayNamesShort,r=M.dayNames||this.local.dayNames,t=M.parseMonth||this.local.parseMonth,i=M.monthNumbers||this.local.monthNumbers,n=M.monthNamesShort||this.local.monthNamesShort,c=M.monthNames||this.local.monthNames,u=-1,l=-1,g=-1,f=-1,T=-1,h=!1,s=!1,d=function(I,N){for(var F=1;E+F<o.length&&o.charAt(E+F)===I;)F++;return E+=F-1,Math.floor(F/(N||1))>1},A=function(I,N){var F=d(I,N),z=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],O=new RegExp("^-?\\d{1,"+z+"}"),_=L.substring(a).match(O);if(!_)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,a);return a+=_[0].length,parseInt(_[0],10)},w=this,C=function(){if(typeof i=="function"){d("m");var I=i.call(w,L.substring(a));return a+=I.length,I}return A("m")},b=function(I,N,F,z){for(var O=d(I,z)?F:N,_=0;_<O.length;_++)if(L.substr(a,O[_].length).toLowerCase()===O[_].toLowerCase())return a+=O[_].length,_+w.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,a)},S=function(){if(typeof c=="function"){var I=d("M")?c.call(w,L.substring(a)):n.call(w,L.substring(a));return a+=I.length,I}return b("M",n,c)},m=function(){if(L.charAt(a)!==o.charAt(E))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,a);a++},a=0,E=0;E<o.length;E++)if(s)o.charAt(E)==="'"&&!d("'")?s=!1:m();else switch(o.charAt(E)){case"d":f=A("d");break;case"D":b("D",p,r);break;case"o":T=A("o");break;case"w":A("w");break;case"m":g=C();break;case"M":g=S();break;case"y":var x=E;h=!d("y",2),E=x,l=A("y",2);break;case"Y":l=A("Y",2);break;case"J":u=A("J")+.5,L.charAt(a)==="."&&(a++,A("J"));break;case"@":u=A("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=A("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":a=L.length;break;case"'":d("'")?m():s=!0;break;default:m()}if(a<L.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&h&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof g=="string"&&(g=t.call(this,l,g)),T>-1){g=1,f=T;for(var k=this.daysInMonth(l,g);f>k;k=this.daysInMonth(l,g))g++,f-=k}return u>-1?this.fromJD(u):this.newDate(l,g,f)},determineDate:function(o,L,M,v,p){M&&typeof M!="object"&&(p=v,v=M,M=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(i){try{return r.parseDate(v,i,p)}catch{}i=i.toLowerCase();for(var n=(i.match(/^c/)&&M?M.newDate():null)||r.today(),c=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=c.exec(i);u;)n.add(parseInt(u[1],10),u[2]||"d"),u=c.exec(i);return n};return L=L?L.newDate():null,o=o==null?L:typeof o=="string"?t(o):typeof o=="number"?isNaN(o)||o===1/0||o===-1/0?L:r.today().add(o,"d"):r.newDate(o),o}})},69862:function(){},40964:function(){},72077:function(G,V,e){var y=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?e.g:globalThis;G.exports=function(){for(var L=[],M=0;M<y.length;M++)typeof P[y[M]]=="function"&&(L[L.length]=y[M]);return L}},81684:function(G,V,e){e.d(V,{sX:function(){return Me},k4:function(){return oe}});function y(me,Ee,Be){me.prototype=Ee.prototype=Be,Be.constructor=me}function P(me,Ee){var Be=Object.create(me.prototype);for(var Ue in Ee)Be[Ue]=Ee[Ue];return Be}function o(){}var L=.7,M=1/L,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,i=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),c=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),l=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),g=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y(o,A,{copy:function(Ee){return Object.assign(new this.constructor,this,Ee)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:h,formatHsl:s,formatRgb:d,toString:d});function T(){return this.rgb().formatHex()}function h(){return this.rgb().formatHex8()}function s(){return z(this).formatHsl()}function d(){return this.rgb().formatRgb()}function A(me){var Ee,Be;return me=(me+"").trim().toLowerCase(),(Ee=t.exec(me))?(Be=Ee[1].length,Ee=parseInt(Ee[1],16),Be===6?w(Ee):Be===3?new m(Ee>>8&15|Ee>>4&240,Ee>>4&15|Ee&240,(Ee&15)<<4|Ee&15,1):Be===8?C(Ee>>24&255,Ee>>16&255,Ee>>8&255,(Ee&255)/255):Be===4?C(Ee>>12&15|Ee>>8&240,Ee>>8&15|Ee>>4&240,Ee>>4&15|Ee&240,((Ee&15)<<4|Ee&15)/255):null):(Ee=i.exec(me))?new m(Ee[1],Ee[2],Ee[3],1):(Ee=n.exec(me))?new m(Ee[1]*255/100,Ee[2]*255/100,Ee[3]*255/100,1):(Ee=c.exec(me))?C(Ee[1],Ee[2],Ee[3],Ee[4]):(Ee=u.exec(me))?C(Ee[1]*255/100,Ee[2]*255/100,Ee[3]*255/100,Ee[4]):(Ee=l.exec(me))?F(Ee[1],Ee[2]/100,Ee[3]/100,1):(Ee=g.exec(me))?F(Ee[1],Ee[2]/100,Ee[3]/100,Ee[4]):f.hasOwnProperty(me)?w(f[me]):me==="transparent"?new m(NaN,NaN,NaN,0):null}function w(me){return new m(me>>16&255,me>>8&255,me&255,1)}function C(me,Ee,Be,Ue){return Ue<=0&&(me=Ee=Be=NaN),new m(me,Ee,Be,Ue)}function b(me){return me instanceof o||(me=A(me)),me?(me=me.rgb(),new m(me.r,me.g,me.b,me.opacity)):new m}function S(me,Ee,Be,Ue){return arguments.length===1?b(me):new m(me,Ee,Be,Ue??1)}function m(me,Ee,Be,Ue){this.r=+me,this.g=+Ee,this.b=+Be,this.opacity=+Ue}y(m,S,P(o,{brighter:function(Ee){return Ee=Ee==null?M:Math.pow(M,Ee),new m(this.r*Ee,this.g*Ee,this.b*Ee,this.opacity)},darker:function(Ee){return Ee=Ee==null?L:Math.pow(L,Ee),new m(this.r*Ee,this.g*Ee,this.b*Ee,this.opacity)},rgb:function(){return this},clamp:function(){return new m(I(this.r),I(this.g),I(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a,formatHex:a,formatHex8:E,formatRgb:x,toString:x}));function a(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function E(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function x(){var me=k(this.opacity);return"".concat(me===1?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(me===1?")":", ".concat(me,")"))}function k(me){return isNaN(me)?1:Math.max(0,Math.min(1,me))}function I(me){return Math.max(0,Math.min(255,Math.round(me)||0))}function N(me){return me=I(me),(me<16?"0":"")+me.toString(16)}function F(me,Ee,Be,Ue){return Ue<=0?me=Ee=Be=NaN:Be<=0||Be>=1?me=Ee=NaN:Ee<=0&&(me=NaN),new _(me,Ee,Be,Ue)}function z(me){if(me instanceof _)return new _(me.h,me.s,me.l,me.opacity);if(me instanceof o||(me=A(me)),!me)return new _;if(me instanceof _)return me;me=me.rgb();var Ee=me.r/255,Be=me.g/255,Ue=me.b/255,De=Math.min(Ee,Be,Ue),He=Math.max(Ee,Be,Ue),nt=NaN,lt=He-De,$e=(He+De)/2;return lt?(Ee===He?nt=(Be-Ue)/lt+(Be<Ue)*6:Be===He?nt=(Ue-Ee)/lt+2:nt=(Ee-Be)/lt+4,lt/=$e<.5?He+De:2-He-De,nt*=60):lt=$e>0&&$e<1?0:nt,new _(nt,lt,$e,me.opacity)}function O(me,Ee,Be,Ue){return arguments.length===1?z(me):new _(me,Ee,Be,Ue??1)}function _(me,Ee,Be,Ue){this.h=+me,this.s=+Ee,this.l=+Be,this.opacity=+Ue}y(_,O,P(o,{brighter:function(Ee){return Ee=Ee==null?M:Math.pow(M,Ee),new _(this.h,this.s,this.l*Ee,this.opacity)},darker:function(Ee){return Ee=Ee==null?L:Math.pow(L,Ee),new _(this.h,this.s,this.l*Ee,this.opacity)},rgb:function(){var Ee=this.h%360+(this.h<0)*360,Be=isNaN(Ee)||isNaN(this.s)?0:this.s,Ue=this.l,De=Ue+(Ue<.5?Ue:1-Ue)*Be,He=2*Ue-De;return new m($(Ee>=240?Ee-240:Ee+120,He,De),$(Ee,He,De),$(Ee<120?Ee+240:Ee-120,He,De),this.opacity)},clamp:function(){return new _(B(this.h),W(this.s),W(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ee=k(this.opacity);return"".concat(Ee===1?"hsl(":"hsla(").concat(B(this.h),", ").concat(W(this.s)*100,"%, ").concat(W(this.l)*100,"%").concat(Ee===1?")":", ".concat(Ee,")"))}}));function B(me){return me=(me||0)%360,me<0?me+360:me}function W(me){return Math.max(0,Math.min(1,me||0))}function $(me,Ee,Be){return(me<60?Ee+(Be-Ee)*me/60:me<180?Be:me<240?Ee+(Be-Ee)*(240-me)/60:Ee)*255}var te=function(me){return function(){return me}};function ie(me,Ee){return function(Be){return me+Be*Ee}}function ue(me,Ee,Be){return me=Math.pow(me,Be),Ee=Math.pow(Ee,Be)-me,Be=1/Be,function(Ue){return Math.pow(me+Ue*Ee,Be)}}function J(me){return(me=+me)==1?Y:function(Ee,Be){return Be-Ee?ue(Ee,Be,me):te(isNaN(Ee)?Be:Ee)}}function Y(me,Ee){var Be=Ee-me;return Be?ie(me,Be):te(isNaN(me)?Ee:me)}var ae=function me(Ee){var Be=J(Ee);function Ue(De,He){var nt=Be((De=S(De)).r,(He=S(He)).r),lt=Be(De.g,He.g),$e=Be(De.b,He.b),qe=Y(De.opacity,He.opacity);return function(ct){return De.r=nt(ct),De.g=lt(ct),De.b=$e(ct),De.opacity=qe(ct),De+""}}return Ue.gamma=me,Ue}(1);function j(me,Ee){var Be=Ee?Ee.length:0,Ue=me?Math.min(Be,me.length):0,De=new Array(Ue),He=new Array(Be),nt;for(nt=0;nt<Ue;++nt)De[nt]=Me(me[nt],Ee[nt]);for(;nt<Be;++nt)He[nt]=Ee[nt];return function(lt){for(nt=0;nt<Ue;++nt)He[nt]=De[nt](lt);return He}}function q(me,Ee){var Be=new Date;return me=+me,Ee=+Ee,function(Ue){return Be.setTime(me*(1-Ue)+Ee*Ue),Be}}function oe(me,Ee){return me=+me,Ee=+Ee,function(Be){return me*(1-Be)+Ee*Be}}function Q(me){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},Q(me)}function X(me,Ee){var Be={},Ue={},De;(me===null||Q(me)!=="object")&&(me={}),(Ee===null||Q(Ee)!=="object")&&(Ee={});for(De in Ee)De in me?Be[De]=Me(me[De],Ee[De]):Ue[De]=Ee[De];return function(He){for(De in Be)Ue[De]=Be[De](He);return Ue}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ne=new RegExp(se.source,"g");function fe(me){return function(){return me}}function ye(me){return function(Ee){return me(Ee)+""}}function Se(me,Ee){var Be=se.lastIndex=ne.lastIndex=0,Ue,De,He,nt=-1,lt=[],$e=[];for(me=me+"",Ee=Ee+"";(Ue=se.exec(me))&&(De=ne.exec(Ee));)(He=De.index)>Be&&(He=Ee.slice(Be,He),lt[nt]?lt[nt]+=He:lt[++nt]=He),(Ue=Ue[0])===(De=De[0])?lt[nt]?lt[nt]+=De:lt[++nt]=De:(lt[++nt]=null,$e.push({i:nt,x:oe(Ue,De)})),Be=ne.lastIndex;return Be<Ee.length&&(He=Ee.slice(Be),lt[nt]?lt[nt]+=He:lt[++nt]=He),lt.length<2?$e[0]?ye($e[0].x):fe(Ee):(Ee=$e.length,function(qe){for(var ct=0,dt;ct<Ee;++ct)lt[(dt=$e[ct]).i]=dt.x(qe);return lt.join("")})}function we(me,Ee){Ee||(Ee=[]);var Be=me?Math.min(Ee.length,me.length):0,Ue=Ee.slice(),De;return function(He){for(De=0;De<Be;++De)Ue[De]=me[De]*(1-He)+Ee[De]*He;return Ue}}function _e(me){return ArrayBuffer.isView(me)&&!(me instanceof DataView)}function ke(me){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},ke(me)}function Me(me,Ee){var Be=ke(Ee),Ue;return Ee==null||Be==="boolean"?te(Ee):(Be==="number"?oe:Be==="string"?(Ue=A(Ee))?(Ee=Ue,ae):Se:Ee instanceof A?ae:Ee instanceof Date?q:_e(Ee)?we:Array.isArray(Ee)?j:typeof Ee.valueOf!="function"&&typeof Ee.toString!="function"||isNaN(Ee)?X:oe)(me,Ee)}},40402:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Re={};function Ze(G){var V=Re[G];if(V!==void 0)return V.exports;var e=Re[G]={exports:{}};return ge[G].call(e.exports,e,e.exports,Ze),e.exports}(function(){Ze.n=function(G){var V=G&&G.__esModule?function(){return G.default}:function(){return G};return Ze.d(V,{a:V}),V}})(),function(){Ze.d=function(G,V){for(var e in V)Ze.o(V,e)&&!Ze.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:V[e]})}}(),function(){Ze.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Ze.o=function(G,V){return Object.prototype.hasOwnProperty.call(G,V)}}(),function(){Ze.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var st=Ze(27909);return st}()})})(pw);var s6=pw.exports;(function(U){Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var K=Re(cw),ge=Re(s6);function Re(G){return G&&G.__esModule?G:{default:G}}var Ze=(0,K.default)(ge.default),st=Ze;U.default=st})(fw);const l6=N2(fw),u6=()=>{var e,y;const{DataType:U}=pS(),K=jn.useContext(uf),[ge,Re]=jn.useState([]),[Ze,st]=jn.useState([]);(K==null?void 0:K.authenticated)===!0&&jn.useEffect(()=>{let P="";U=="GolfHoogte"&&(P="https://offshorefrontapi.azurewebsites.net/api/HistoryData/Golfhoogte6%252C3"),U=="WindSnelHeid"&&(P="https://offshorefrontapi.azurewebsites.net/api/HistoryData/WindSnelheid6%252C3"),U=="WaterHeight"&&(P="https://offshorefrontapi.azurewebsites.net/api/HistoryData/WaterHoogte6%252C3"),U=="AirTemperature"&&(P="https://offshorefrontapi.azurewebsites.net/api/HistoryData/LuchtTemperatuur6%252C0"),U=="WaterTemperature"&&(P="https://offshorefrontapi.azurewebsites.net/api/HistoryData/WaterTemperatuur6%252C0"),(()=>{fetch(P,{method:"GET",headers:{"Content-Type":"application/json"}}).then(L=>L.status===200?L.json():L.status===404?vi.error("User Doesn't exist ! "):L.status===400?vi.error("Passoword is invalid !"):vi.error("Unexpected response status: "+L.status)).then(L=>{U=="WindSnelHeid"&&st(L),Re(L)}).catch(L=>{console.error("An error occurred while fetching the data:",L)})})()},[]);const G=[{x:ge.map(P=>P.time),y:ge.map(P=>parseFloat(P.elementValue)),type:"scatter",mode:"lines+markers",marker:{color:"red"}}];let V={title:`${(e=ge[0])==null?void 0:e.location} - ${(y=ge[0])==null?void 0:y.date}`,xaxis:{title:"Time"},yaxis:{title:"Element Value"}};return un.jsxs(un.Fragment,{children:[(K==null?void 0:K.authenticated)===!1&&un.jsx(Uh,{to:"/",replace:!0}),un.jsxs("h1",{children:["History data of ",U,":"]}),un.jsxs("div",{className:"grid-container",children:[un.jsx("div",{className:"grid-item",children:un.jsx(l6,{data:G,layout:V})}),un.jsxs("div",{className:"grid-item",children:[un.jsx(Jc,{}),un.jsx("div",{className:"table-container",children:un.jsxs("table",{className:"tftable",id:"apiTable",children:[un.jsx("thead",{children:un.jsxs("tr",{children:[un.jsx("th",{children:"Date"}),un.jsx("th",{children:"Time"}),un.jsx("th",{children:"Location"}),un.jsx("th",{children:"Element Value"}),U==="WindSnelHeid"&&un.jsx("th",{children:"Wind direction"})]})}),un.jsx("tbody",{children:U==="WindSnelHeid"?Ze.map((P,o)=>un.jsxs("tr",{children:[un.jsx("td",{children:P.date}),un.jsx("td",{children:P.time}),un.jsx("td",{children:P.location}),un.jsx("td",{children:P.elementValue}),un.jsx("td",{children:P.windDirection})]},o)):ge.map((P,o)=>un.jsxs("tr",{children:[un.jsx("td",{children:P.date}),un.jsx("td",{children:P.time}),un.jsx("td",{children:P.location}),un.jsx("td",{children:P.elementValue})]},o))})]})})]})]})]})};function f6(){const U=jn.useContext(uf);return un.jsx(un.Fragment,{children:un.jsxs("div",{className:"flex flex-col h-screen justify-between",children:[un.jsx("header",{className:"bg-gray-400 w-screen h-[154px]",children:un.jsx("nav",{className:"text-right",children:un.jsxs("ul",{className:"list-none",children:[un.jsx("li",{className:"inline font-sans"}),(U==null?void 0:U.authenticated)===!0?un.jsxs(un.Fragment,{children:[un.jsx("li",{className:"inline font-sans"}),(U==null?void 0:U.IsConfirmerd())==="False"&&un.jsx("li",{className:"inline font-sans absolute top-0 right-0 mr-[70px]",children:un.jsx(Iu,{to:"/EmailConfirmation",children:"Email Confirmation"})}),un.jsx("li",{className:"inline font-sans",children:e6()})]}):un.jsxs(un.Fragment,{children:[un.jsx("li",{className:"inline font-sans absolute top-0 right-0 mr-[70px]",children:un.jsx(Iu,{to:"/Login",children:"Login"})}),un.jsx("li",{className:"inline font-sans absolute top-0 right-0",children:un.jsx(Iu,{to:"/Register",children:"Register"})})]})]})})}),un.jsx("div",{className:"mb-auto",children:un.jsxs(PS,{children:[un.jsx(nf,{path:"",element:un.jsx(US,{})}),un.jsx(nf,{path:"/Login",element:un.jsx(KS,{})}),un.jsx(nf,{path:"/Register",element:un.jsx(JS,{})}),un.jsx(nf,{path:"/MailConfirmation",element:un.jsxs(n0,{children:[" ",un.jsx(t6,{})," "]})}),un.jsx(nf,{path:"/*",element:un.jsx(QS,{})}),un.jsxs(nf,{path:"/Home",children:[un.jsx(nf,{index:!0,element:un.jsxs(n0,{children:[" ",un.jsx($S,{})," "]})}),un.jsx(nf,{path:"/Home/TriFloat/:id",element:un.jsxs(n0,{children:[" ",un.jsx(qS,{})," "]})}),un.jsx(nf,{path:"/Home/TriFloat/History/:DataType",element:un.jsxs(n0,{children:[" ",un.jsx(u6,{})," "]})})]})]})}),un.jsx("div",{children:un.jsx("footer",{className:"container mx-auto bg-gray-400 font-sans text-center absolute inset-x-0 bottom-0 pt-1",children:" WaveHexaPod 2023"})})]})})}gy.createRoot(document.getElementById("root")).render(un.jsx(Oi.StrictMode,{children:un.jsx(_S,{basename:"/offshorefrontendApp/",children:un.jsx(NS,{children:un.jsx(f6,{})})})}));
